(()=>{"use strict";const COC7={eras:{standard:"CoC7.Era1920",modern:"CoC7.EraModern",modernPulp:"CoC7.EraModernPulp",pulp:"CoC7.EraPulp",downDarkerTrails:"CoC7.EraDownDarkerTrails",downDarkerTrailsPulp:"CoC7.EraDownDarkerTrailsPulp",darkAges:"CoC7.EraDarkAges",darkAgesPulp:"CoC7.EraDarkAgesPulp",regency:"CoC7.EraRegency",regencyPulp:"CoC7.EraRegencyPulp",gasLight:"CoC7.EraGasLight",invictus:"CoC7.EraInvictus"},monetaryFormatKeys:{decimalLeft:"decimalLeft",decimalRight:"decimalRight",integerLeft:"integerLeft",integerRight:"integerRight",lsd:"lsd",roman:"roman"},monetaryFormats:{decimalLeft:"CoC7.MonetaryFormatDecimalLeft",decimalRight:"CoC7.MonetaryFormatDecimalRight",integerLeft:"CoC7.MonetaryFormatIntegerLeft",integerRight:"CoC7.MonetaryFormatIntegerRight",lsd:"CoC7.MonetaryFormatLsd",roman:"CoC7.MonetaryFormatRoman"},monetaryTypeKeys:{none:"none",asses:"asses",sestertii:"sestertii",quinarii:"quinarii",denarii:"denarii",d:"d",s:"s",value:"value",multiplier:"multiplier"},monetaryTypes:{none:{name:"CoC7.MonetaryTypeNone",filter:[]},asses:{name:"CoC7.MonetaryTypeAsses",filter:["roman"]},sestertii:{name:"CoC7.MonetaryTypeSestertii",filter:["roman"]},quinarii:{name:"CoC7.MonetaryTypeQuinarii",filter:["roman"]},denarii:{name:"CoC7.MonetaryTypeDenarii",filter:["roman"]},d:{name:"CoC7.MonetaryTypeDeniers",filter:["lsd"]},s:{name:"CoC7.MonetaryTypeSous",filter:["lsd"]},value:{name:"CoC7.MonetaryTypeOne",filter:[]},multiplier:{name:"CoC7.MonetaryTypeCreditRating",filter:[]}},characteristics:{str:"CoC7.CharacStr",con:"CoC7.CharacCon",siz:"CoC7.CharacSiz",dex:"CoC7.CharacDex",app:"CoC7.CharacApp",int:"CoC7.CharacInt",pow:"CoC7.CharacPow",edu:"CoC7.CharacEdu"},skillProperties:{noadjustments:"CoC7.SkillNoAdjustments",noxpgain:"CoC7.SkillNoXpGain",special:"CoC7.SkillSpecial",rarity:"CoC7.SkillRarity",push:"CoC7.SkillPush",combat:"CoC7.SkillCombat",fighting:"CoC7.SkillFighting",firearm:"CoC7.SkillFirearm",requiresname:"CoC7.SkillRequiresName",keepbasevalue:"CoC7.SkillKeepBaseValue",picknameonly:"CoC7.SkillPickNameOnly",onlyone:"CoC7.SkillSpecializationIsUnique"},weaponProperties:{melee:"CoC7.Weapon.Property.Melee",rngd:"CoC7.WeaponRngd",mnvr:"CoC7.WeaponProperyManeuver",thrown:"CoC7.Weapon.Property.Thrown",shotgun:"CoC7.Weapon.Property.Shotgun",dbrl:"CoC7.WeaponDbrl",impl:"CoC7.WeaponImpl",brst:"CoC7.WeaponBrst",auto:"CoC7.WeaponAuto",ahdb:"CoC7.WeaponAhdb",addb:"CoC7.WeaponAddb",slnt:"CoC7.WeaponSlnt",spcl:"CoC7.WeaponSpcl",mont:"CoC7.WeaponMont",blst:"CoC7.WeaponBlst",stun:"CoC7.WeaponStun",rare:"CoC7.WeaponRare",burn:"CoC7.Weapon.Property.Burn"},spellProperties:{call:"CoC7.CallSpell",dismiss:"CoC7.DismissSpell",contact:"CoC7.ContactSpell",summon:"CoC7.SummonSpell",bind:"CoC7.BindSpell",enchantment:"CoC7.EnchantmentSpell",gate:"CoC7.GateSpell",combat:"CoC7.CombatSpell"},bookType:{mythos:"CoC7.MythosBook",occult:"CoC7.OccultBook",other:"CoC7.Other"},talentType:{physical:"CoC7.PhysicalTalent",mental:"CoC7.MentalTalent",combat:"CoC7.CombatTalent",miscellaneous:"CoC7.MiscellaneousTalent",basic:"CoC7.BasicTalent",insane:"CoC7.InsaneTalent",other:"CoC7.OtherTalent"},statusType:{mania:"CoC7.Mania",phobia:"CoC7.Phobia"},occupationProperties:{classic:"CoC7.Classic",lovecraftian:"CoC7.Lovecraftian",modern:"CoC7.Modern",pulp:"CoC7.Pulp"},formula:{}};COC7.formula.actor={"@STR":"this.system.characteristics.str.value","@CON":"this.system.characteristics.con.value","@SIZ":"this.system.characteristics.siz.value","@DEX":"this.system.characteristics.dex.value","@APP":"this.system.characteristics.app.value","@INT":"this.system.characteristics.int.value","@POW":"this.system.characteristics.pow.value","@EDU":"this.system.characteristics.edu.value"},COC7.formula.actorsheet={"@STR":"this.actor.system.characteristics.str.value","@CON":"this.actor.system.characteristics.con.value","@SIZ":"this.actor.system.characteristics.siz.value","@DEX":"this.actor.system.characteristics.dex.value","@APP":"this.actor.system.characteristics.app.value","@INT":"this.actor.system.characteristics.int.value","@POW":"this.actor.system.characteristics.pow.value","@EDU":"this.actor.system.characteristics.edu.value"},COC7.status={tempoInsane:"tempoInsane",indefInsane:"indefInsane",unconscious:"unconscious",criticalWounds:"criticalWounds",dying:"dying",prone:"prone",dead:"dead"},COC7.newBookName="CoC7.NewBookName",COC7.newSkillName="CoC7.NewSkillName",COC7.newSpellName="CoC7.NewSpellName",COC7.newItemName="CoC7.NewItemName",COC7.newWeaponName="CoC7.NewWeaponName",COC7.creatureFightingSkill="CoC7.creatureFightingSkill",COC7.fightingSpecializationName="CoC7.FightingSpecializationName",COC7.firearmSpecializationName="CoC7.FirearmSpecializationName",COC7.combatCards={fightBack:"CoC7.FightBack",dodge:"CoC7.Dodge",maneuver:"CoC7.Maneuver",noResponse:"CoC7.NoResponse"};class CoC7Dice{static async roll(modif=0,rollMode=null,hideDice=!1){let roll,alternativeDice="";game.modules.get("dice-so-nice")?.active&&(modif<0?alternativeDice=game.settings.get("CoC7","tenDiePenalty"):modif>0&&(alternativeDice=game.settings.get("CoC7","tenDieBonus"))),roll=game.CoC7.dev.dice.alwaysCrit&&game.settings.get("CoC7","hiddendevmenu")?Roll.fromData(CoC7Dice.crit01):game.CoC7.dev.dice.alwaysFumble&&game.settings.get("CoC7","hiddendevmenu")?Roll.fromData(CoC7Dice.fumble99):await new Roll("1dt"+(""!==alternativeDice?"+1do["+alternativeDice+"]":"+1dt").repeat(Math.abs(modif))+"+1d10").roll({async:!0});const result={unit:{total:0,results:[]},tens:{total:0,results:[]},total:0,roll};rollMode&&(result.rollMode=rollMode),hideDice&&(result.hideDice=hideDice);for(const d of roll.dice)d instanceof CONFIG.Dice.terms.t?result.tens.results.push(d.total):(result.unit.total=10===d.total?0:d.total,result.unit.results.push(result.unit.total));if(modif<0)result.tens.total=0===result.unit.total&&result.tens.results.includes(0)?100:Math.max(...result.tens.results);else if(0===result.unit.total){const dice=result.tens.results.filter((t=>t>0));result.tens.total=0===dice.length?100:Math.min(...dice)}else result.tens.total=Math.min(...result.tens.results);return result.total=result.unit.total+result.tens.total,result}static async showRollDice3d(roll){if(game.modules.get("dice-so-nice")?.active){const syncDice=game.settings.get("CoC7","syncDice3d"),chatData={whisper:null,blind:!1};ChatMessage.applyRollMode(chatData,game.settings.get("core","rollMode")),await game.dice3d.showForRoll(roll,game.user,syncDice,chatData.whisper,chatData.blind)}}static async combinedRoll(options){options.pool=options.pool??{},options.pool[0]=!1;const keys=Object.keys(options.pool).map((v=>parseInt(v,10)));let penaltyDice=Math.abs(Math.min(0,Math.min(...keys))),bonusDice=Math.max(0,Math.max(...keys));const hasDSN=game.modules.get("dice-so-nice")?.active,pool=[];pool.push("1dt+1d10"),penaltyDice>0&&pool.push((hasDSN?"+1do["+game.settings.get("CoC7","tenDiePenalty")+"]":"1dt").repeat(Math.abs(penaltyDice))),bonusDice>0&&pool.push((hasDSN?"+1do["+game.settings.get("CoC7","tenDieBonus")+"]":"1dt").repeat(Math.abs(bonusDice)));const roll=await new Roll(pool.join("")).roll({async:!0}),result={groups:{baseDie:0,penaltyDice:[],bonusDice:[]},unit:0,roll};let baseSet=!1;for(const d of roll.dice)d instanceof CONFIG.Dice.terms.t?baseSet?penaltyDice>0?(result.groups.penaltyDice.push(d.total),penaltyDice--):(result.groups.bonusDice.push(d.total),bonusDice--):(result.groups.baseDie=d.total,baseSet=!0):result.unit=10===d.total?0:d.total;const output={};for(const key in options.pool){output[key]={unit:{total:result.unit,results:[result.unit]},tens:{total:0,results:[]},total:0,roll};const modif=parseInt(key,10);let modifier=modif;output[key].tens.results.push(result.groups.baseDie);for(const offset=Math.abs(modifier);modifier<0;modifier++)output[key].tens.results.push(result.groups.penaltyDice[modifier+offset]);for(const offset=modifier;modifier>0;modifier--)output[key].tens.results.push(result.groups.bonusDice[Math.abs(modifier-offset)]);if(modif<0)output[key].tens.total=0===output[key].unit.total&&output[key].tens.results.includes(0)?100:Math.max(...output[key].tens.results);else if(0===output[key].unit.total){const dice=output[key].tens.results.filter((t=>t>0));output[key].tens.total=0===dice.length?100:Math.min(...dice)}else output[key].tens.total=Math.min(...output[key].tens.results);output[key].total=output[key].unit.total+output[key].tens.total}return output}static fumble99={class:"Roll",options:{},dice:[],formula:"1dt + 1d10",terms:[{class:"CoC7DecaderDie",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:9,active:!0}]},{class:"OperatorTerm",options:{},evaluated:!0,operator:"+"},{class:"Die",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:9,active:!0}]}],total:99,evaluated:!0};static crit01={class:"Roll",options:{},dice:[],formula:"1dt + 1d10",terms:[{class:"CoC7DecaderDie",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:10,active:!0}]},{class:"OperatorTerm",options:{},evaluated:!0,operator:"+"},{class:"Die",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:1,active:!0}]}],total:1,evaluated:!0}}class CoC7ContentLinkDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{id:"link-creation",classes:["coc7","active-effect-sheet"],title:game.i18n.localize("CoC7.CreateLink"),dragDrop:[{dragSelector:null,dropSelector:".container"}],template:"systems/CoC7/templates/apps/link-creation.html",closeOnSubmit:!1,width:560,height:"auto",tabs:[{navSelector:".tabs",contentSelector:".effect-options",initial:"details"}]})}async getData(){const sheetData=await super.getData();return sheetData.checkType=[{key:CoC7Link.CHECK_TYPE.CHECK,label:game.i18n.localize("CoC7.Check")},{key:CoC7Link.CHECK_TYPE.SANLOSS,label:game.i18n.localize("CoC7.SanityCheck")},{key:CoC7Link.CHECK_TYPE.ITEM,label:game.i18n.localize("CoC7.ItemWeapon")},{key:CoC7Link.CHECK_TYPE.EFFECT,label:game.i18n.localize("EFFECT.TabEffects")}],sheetData.linkType=[{key:CoC7Link.LINK_TYPE.CHARACTERISTIC,label:game.i18n.localize("CoC7.Characteristic")},{key:CoC7Link.LINK_TYPE.ATTRIBUTE,label:game.i18n.localize("CoC7.Attribute")},{key:CoC7Link.LINK_TYPE.SKILL,label:game.i18n.localize("CoC7.Skill")}],sheetData.attributeType=[{key:"lck",label:game.i18n.localize("CoC7.Luck")},{key:"san",label:game.i18n.localize("CoC7.Sanity")}],sheetData.effectModes=Object.entries(CONST.ACTIVE_EFFECT_MODES).reduce(((obj,e)=>(obj[e[1]]=game.i18n.localize("EFFECT.MODE_"+e[0]),obj)),{}),sheetData.characteristicType=CoCActor.getCharacteristicDefinition(),sheetData.link=sheetData.object.link,sheetData.fromGame=sheetData.link.isItemCheck||sheetData.link.isSkillCheck,sheetData.fromDirectory="fromDirectory"===sheetData.object.hasID,sheetData.fromCompendium="fromCompendium"===sheetData.object.hasID,sheetData.isSetFromGame=sheetData.link.id&&(sheetData.fromDirectory||sheetData.fromCompendium),sheetData.difficultyLevel=CoC7Check.difficultyLevel,sheetData.actorNames=sheetData.object.actors.map((a=>a.name)).join(", "),sheetData}activateListeners(html){super.activateListeners(html),html.find("select[name=type],select[name=check],select[name=attributeKey],select[name=characteristicKey],input[type=checkbox]").change(this._onChangeSubmit.bind(this)),html.find(".effect-control").click(this._onEffectControl.bind(this))}_onChangeSubmit(event){switch(event.currentTarget.name){case"fromCompendium":case"fromDirectory":this.object.hasID=event.currentTarget.name===this.object.hasID?"":event.currentTarget.name}this._onSubmit(event)}_onEffectControl(event){event.preventDefault();const button=event.currentTarget;switch(button.dataset.action){case"add":return this._addEffectChange();case"delete":button.closest(".effect-change").remove(),this._onSubmit(event)}}async _addEffectChange(){const idx=this.object.link.effect.changes.length;return this.submit({preventClose:!0,updateData:{[`effect.changes.${idx}`]:{key:"",mode:CONST.ACTIVE_EFFECT_MODES.ADD,value:""}}})}async _updateObject(event,formData){let hasEffect=!1;const effect={duration:{},changes:[]};for(const key in formData)switch(key){case"checkName":this.object.link.setValue("name",formData.checkName);break;case"blind":case"difficulty":case"displayName":case"icon":case"id":case"modifier":case"pack":case"sanMin":case"sanMax":case"sanReason":this.object.link.setValue(key,formData[key]);break;case"hasModifiers":case"hasLabel":case"hasIcon":this.object[key]=formData[key];break;case"effect.label":effect.label=formData[key],hasEffect=!0;break;case"effect.icon":effect.icon=formData[key],hasEffect=!0;break;case"effect.tint":effect.tint=formData[key],hasEffect=!0;break;case"effect.disabled":effect.disabled=formData[key],hasEffect=!0;break;case"effect.duration.seconds":effect.duration.seconds=formData[key],hasEffect=!0;break;case"effect.duration.rounds":effect.duration.rounds=formData[key],hasEffect=!0;break;case"effect.duration.turns":effect.duration.turns=formData[key],hasEffect=!0;break;default:{const match=key.match(/^effect\.changes\.(\d+)\.key$/);match&&(effect.changes.push({key:formData[key],mode:formData["effect.changes."+match[1]+".mode"],value:formData["effect.changes."+match[1]+".value"]}),hasEffect=!0)}}hasEffect&&this.object.link.setValue("object",effect);const target=event.currentTarget;if(target){switch(target.name){case"type":this.object.link.setValue("check",target.value),target.value===CoC7Link.CHECK_TYPE.CHECK&&(this.object.link.setValue("linkType",CoC7Link.LINK_TYPE.SKILL),this.object.link.setValue("name",""));break;case"check":this.object.link.setValue("linkType",target.value),target.value===CoC7Link.LINK_TYPE.CHARACTERISTIC?this.object.link.setValue("name",CoCActor.getCharacteristicDefinition()[0].key):target.value===CoC7Link.LINK_TYPE.ATTRIBUTE?this.object.link.setValue("name","lck"):this.object.link.setValue("name","");break;case"attributeKey":case"characteristicKey":this.object.link.setValue("name",target.value)}if("submit"===event.type){switch(event.submitter.dataset.action){case"clipboard":CoC7Utilities.copyToClipboard(this.object.link.link);break;case"chat":CoC7Link.toChatMessage(this.object.link.object);break;case"whisper-owner":CoC7Link.toWhisperMessage(this.object.link.object,this.object.actors);break;case"whisper-selected":if(!canvas.tokens.controlled.length)return void ui.notifications.warn(game.i18n.localize("CoC7.ErrorNoTokensSelected"));CoC7Link.toWhisperMessage(this.object.link.object,canvas.tokens.controlled.filter((t=>t.actor.owners.length)).map((t=>t.actor)))}return}}this.render(!0)}async _onDrop(event){const dataString=event.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);if("CoC7Link"===data.type)this.setLink(await CoC7Link.fromDropData(data)),this.render(!0);else if("Folder"===data.type&&"Actor"===data.documentName||["Item","Actor"].includes(data.type)){const dataList=await CoC7Utilities.getDataFromDropEvent(event,data.documentName??data.type);data.documentName??"Actor"===data.type?(this.object.actors=dataList.filter((a=>a.owners.length)),this.render(!0)):1===dataList.length&&["skill","weapon"].includes(dataList[0].type)&&(dataList[0].pack?(this.object.hasID="fromCompendium",this.object.link.setValue("pack",dataList[0].pack)):this.object.hasID="fromDirectory",this.object.link.setValue("id",dataList[0].id),this.object.link.setValue("name",dataList[0].name),this.render(!0))}}setLink(link){return this.object.link=link,""!==link.pack?this.object.hasID="fromCompendium":""!==link.id&&(this.object.hasID="fromDirectory"),link.difficulty===CoC7Check.difficultyLevel.regular&&0===parseInt(link.modifier,10)||(this.object.hasModifiers=!0),""!==link.displayName&&(this.object.hasLabel=!0),""!==link.icon&&(this.object.hasIcon=!0),""}static async create(linkData={},option={}){const object=mergeObject({link:null,hasID:"",hasModifiers:!1,hasLabel:!1,hasIcon:!1,actors:[]},option),dialog=new CoC7ContentLinkDialog(object,{});dialog.setLink(await CoC7Link.fromDropData(linkData)),dialog.render(!0)}}function createInlineRoll(roll){const data={cls:["inline-roll"],dataset:{}};try{data.cls.push("inline-result"),data.result=roll.total,data.title=roll.formula,data.dataset.roll=escape(JSON.stringify(roll))}catch(err){return null}const a=document.createElement("a");a.classList.add(...data.cls),a.title=data.title;for(const[k,v]of Object.entries(data.dataset))a.dataset[k]=v;return a.innerHTML=`<i class="fas fa-dice-d20"></i> ${data.result}`,a}function isCtrlKey(event){return!1!==event&&(event.metaKey||event.ctrlKey||91===event.keyCode||224===event.keyCode)}class chatHelper{static hyphenToCamelCase(string){return string.replace(/-([a-z])/g,(function(string){return string[1].toUpperCase()}))}static async createMessage(title,message,options={}){const messageData={};messageData.flavor=title,messageData.speaker=options.speaker||ChatMessage.getSpeaker(),options.whisper&&(messageData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER,messageData.whisper=options.whisper),void 0!==options.roll&&(messageData.roll=options.roll,messageData.type=CONST.CHAT_MESSAGE_TYPES.ROLL,messageData.rollMode=CONST.DICE_ROLL_MODES.SELF),messageData.user=game.user.id,messageData.content=message,ChatMessage.create(messageData).then((msg=>msg))}static camelCaseToHyphen(string){return string.replace(/([A-Z])/g,(function(string){return"-"+string.toLowerCase()}))}static getActorFromKey(key){if(!key)return null;if(CoC7Utilities.isDocumentUuid(key))return CoC7Utilities.isDocumentUuidPack(key)?fromUuid(key):CoC7Utilities.SfromUuid(key);if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];const token=chatHelper.getTokenFromKey(key);return token?.actor}return game.actors.get(key)||null}static getSpeakerFromKey(actorKey){const speaker={},actor=chatHelper.getActorFromKey(actorKey);if(actorKey.includes(".")){const[sceneId,tokenId]=actorKey.split(".");speaker.token=tokenId,speaker.scene=sceneId,actor.token?.name&&(speaker.alias=actor.token.name),speaker.actor=actor.id}else speaker.actor=actorKey,speaker.alias=actor.name;return speaker}static attachObjectToElement(object,element,objectName=""){for(const prop of Object.keys(object))prop.startsWith("_")||("object"==typeof object[prop]?chatHelper.attachObjectToElement(object[prop],element,`${objectName}:${prop}:`):element.dataset[`${objectName}${prop}`]=object[prop])}static getObjectFromElement(object,element){function deserialize(obj,key,value){if(key.startsWith(":")){const s=key.slice(1),objProp=s.slice(s.indexOf(":")+1),objName=s.substring(0,s.indexOf(":"));void 0===obj[objName]&&(obj[objName]={}),deserialize(obj[objName],objProp,value)}else"true"===value?obj[key]=!0:"false"===value?obj[key]=!1:Number(value).toString()===value?obj[key]=Number(value):obj[key]=value}if(element&&object)for(const prop of Object.keys(element.dataset)){if("template"===prop)return;deserialize(object,prop,element.dataset[prop])}}static getTokenFromKey(key){if(!key)return null;if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId){const tokenDoc=game.actors.tokens[tokenId]?.token;return tokenDoc.object}{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;const token=new Token(tokenData);return token.scene||(token.scene=duplicate(scene.document)),token}}{const actor=game.actors.get(key);return chatHelper.getActorToken(actor)}}static getActorToken(actor){return actor?actor.token||actor.prototypeToken:null}static getActorImgFromKey(actorKey){if(!actorKey)return null;if(game.settings.get("CoC7","useToken")){const token=chatHelper.getTokenFromKey(actorKey);if(token&&(token.document||token).texture.src&&-1===(token.document||token).texture.src.indexOf("*"))return(token.document||token).texture.src}const actor=chatHelper.getActorFromKey(actorKey);return game.settings.get("CoC7","useToken")&&actor.prototypeToken&&actor.prototypeToken.texture.src&&-1===actor.prototypeToken.texture.src?.indexOf("*")?actor.prototypeToken.texture.src:actor.img}static getDistance(startToken,endToken){if(void 0===endToken.center&&void 0!==endToken.id&&startToken.scene?.id){const scene=game.scenes.get(startToken.scene.id);if(void 0!==scene?.tokens){const tokens=scene?.tokens.filter((token=>token.actor.id===endToken.data.document.id)).map((token=>token.object));1===tokens.length&&(endToken=tokens[0])}}let distance={gridUnit:0,value:0,unit:canvas.scene.grid.units};if(void 0!==startToken&&void 0!==startToken.center&&void 0!==endToken&&void 0!==endToken.center){const ray=new Ray(startToken.center,endToken.center),segment=[{ray}];if(distance={gridUnit:ray.distance/canvas.scene.grid.size,value:canvas.grid.measureDistances(segment,{gridSpaces:game.settings.get("CoC7","gridSpaces")})[0],unit:canvas.scene.grid.units},game.settings.get("CoC7","distanceElevation")){const elevation=Math.abs((startToken.document.elevation||0)-(endToken.document.elevation||0));distance.value=Math.sqrt(distance.value*distance.value+elevation*elevation)}}else game.settings.get("CoC7","distanceTheatreOfTheMind")||ui.notifications.warn(game.i18n.localize("CoC7.MessageDistanceCalculationFailure"));return distance}static toYards(distance){return"ft"===distance.unit?distance.value/3:distance.value}}class CoC7Roll{static getFromCard(card){const rollDiv=card.querySelector("div.dice-roll");if(!rollDiv)return null;const roll=new CoC7Roll;return chatHelper.getObjectFromElement(roll,rollDiv),roll}get resultType(){switch(this.successLevel=parseInt(this.successLevel),this.successLevel){case CoC7Check.successLevel.regular:return game.i18n.format("CoC7.RegularSuccess");case CoC7Check.successLevel.hard:return game.i18n.format("CoC7.HardSuccess");case CoC7Check.successLevel.extreme:return game.i18n.format("CoC7.ExtremeSuccess");case CoC7Check.successLevel.critical:return game.i18n.format("CoC7.CriticalSuccess");case CoC7Check.successLevel.fumble:return game.i18n.format("CoC7.Fumble");case CoC7Check.successLevel.failure:return game.i18n.format("CoC7.Failure");default:return null}}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get item(){return this.itemId&&this.actor?this.actor.items.get(this.itemId):null}get skill(){return this.skillId&&this.actor?this.actor.items.get(this.skillId):null}showDiceRoll(){if(game.modules.get("dice-so-nice")?.active){const diceResults=[];for(const dieResult of this.dices.tens)diceResults.push(100===dieResult.value?0:dieResult.value/10);diceResults.push(this.dices.unit.value);const diceData={formula:`${this.dices.tens.length}d100+1d10`,results:diceResults,whisper:null,blind:!1};game.dice3d.show(diceData)}}static getFromElement(element,object=null){if(!element)return;const roll=object||new CoC7Roll;chatHelper.getObjectFromElement(roll,element),roll.dices={tens:[],unit:{}},chatHelper.getObjectFromElement(roll.dices,element.querySelector(".dice-result")),roll.dices.hasBonus=0!==roll.diceModifier,roll.dices.bonus=Math.abs(roll.diceModifier),roll.dices.bonusType=roll.diceModifier<0?game.i18n.format("CoC7.DiceModifierPenalty"):game.i18n.format("CoC7.DiceModifierBonus");const tenDice=element.querySelector(".ten-dice");if(tenDice)for(const d of tenDice.querySelectorAll("li")){const die={selected:!1,isMax:!1,isMin:!1,value:-1};chatHelper.getObjectFromElement(die,d),roll.dices.tens.push(die)}const unitDie=element.querySelector(".unit-die")?element.querySelector(".unit-die").querySelector("li"):null;roll.dices.unit.value=unitDie?parseInt(unitDie.dataset.value):null,roll.increaseSuccess=[];const increaseSuccess=element.querySelector(".increase-success");if(increaseSuccess&&increaseSuccess.querySelectorAll("button"))for(const isl of increaseSuccess.querySelectorAll("button")){const newSuccesLevel={};chatHelper.getObjectFromElement(newSuccesLevel,isl),roll.increaseSuccess.push(newSuccesLevel)}return roll.luckNeeded&&(roll.luckNeededTxt=game.i18n.format("CoC7.SpendLuck",{luckNeededValue:roll.luckNeeded})),object?void 0:roll}static getFromCheck(check){const roll=new CoC7Roll;return roll.rollType=check.rollType,roll.side=check.side,roll.action=check.action,roll.refMessageId=check.refMessageId,roll.referenceMessageId=check.referenceMessageId,roll.successLevel=check.successLevel,roll.difficulty=check.difficulty,roll.skillId=check.skill?check.skill.id:null,roll.itemId=check.item?check.item.id:null,roll.diceMod=check.diceModifier,roll.value=parseInt(check.rawValue),roll.fumble=check.isFumble,roll.critical=check.isCritical,roll.characteristic=check.characteristic?check.characteristic:null,roll.result=check.dice.total,roll.actorKey=check.actor.tokenKey,check.actor.isToken?(roll.tokenId=check.actor.tokenKey,roll.actorId=null):(roll.tokenKey=null,roll.actorId=check.actor.tokenKey),roll}static attachCheckToElement(htmlElement,check){const roll=CoC7Roll.getFromCheck(check);return roll.attachToElement(htmlElement),roll}attachToElement(htmlElement){chatHelper.attachObjectToElement(this,htmlElement)}}class CoC7Damage{static getMainDie(damageString){return damageString.toLowerCase().includes("d20")?"d20":damageString.toLowerCase().includes("d12")?"d12":damageString.toLowerCase().includes("d10")?"d10":damageString.toLowerCase().includes("d8")?"d8":damageString.toLowerCase().includes("d4")?"d4":"d6"}static getFromElement(element,object=null){if(!element)return;const damage=object||{};chatHelper.getObjectFromElement(damage,element);const rolls=element.querySelector(".dice-rolls").querySelectorAll("li");damage.rolls=[];for(const r of rolls){const roll={};chatHelper.getObjectFromElement(roll,r),damage.rolls.push(roll)}return object?void 0:damage}}class RollDialog{static async create(options={}){options.difficulty&&(options.difficultyLevel={},CoC7Check.difficultyLevel.unknown===options.difficulty&&(options.difficultyLevel.unknown=!0),CoC7Check.difficultyLevel.regular===options.difficulty&&(options.difficultyLevel.regular=!0),CoC7Check.difficultyLevel.hard===options.difficulty&&(options.difficultyLevel.hard=!0),CoC7Check.difficultyLevel.extreme===options.difficulty&&(options.difficultyLevel.extreme=!0)),options.name&&!options.displayName&&(options.displayName=options.name);const unknownDifficultyDefault="unknown"===game.settings.get("CoC7","defaultCheckDifficulty"),data={allowFlatDiceModifier:game.settings.get("CoC7","allowFlatDiceModifier")&&!options.disableFlatDiceModifier,allowFlatThresholdModifier:game.settings.get("CoC7","allowFlatThresholdModifier")&&!options.disableFlatThresholdModifier,difficulty:CoC7Check.difficultyLevel,unknownDifficultyDefault,hideDifficulty:options.hideDifficulty??!1,options};void 0!==options.cardType&&(!options.forcedCardType??1)&&(data.cardTypes=CoC7ChatMessage.cardTypes(options));const html=await renderTemplate("systems/CoC7/templates/apps/bonus.html",data);return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:options.displayName?game.i18n.format("CoC7.BonusSelectionWindowNamed",{name:options.displayName}):game.i18n.localize("CoC7.BonusSelectionWindow"),content:html,buttons:{roll:{label:game.i18n.localize("CoC7.RollDice"),callback:html=>(formData=new FormData(html[0].querySelector("#bonus-roll-form")),resolve(formData))}},default:"roll",close:()=>{}});dlg.render(!0)}))}}class RollCard{constructor(){this.rolls=[],this.initiator=null}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(card){const cardData=JSON.parse(unescape(card.dataset.object));return await this.fromData(cardData)}static async fromData(data){const card=Object.assign(new this,data);for(let index=0;index<card.rolls.length;index++)"Object"===card.rolls[index]?.constructor?.name&&(card.rolls[index]=Object.assign(new CoC7Check,card.rolls[index]),card.rolls[index].rolled&&(card.rolls[index]._htmlRoll=await card.rolls[index].getHtmlRoll()));return card}static async _onToggle(event){event.preventDefault();const span=event.currentTarget;if(span&&span.classList.contains("gm-select-only")&&!game.user.isGM)return;const message=span.closest(".chat-message"),card=await this.fromMessageId(message.dataset.messageId);if(!card)return;const flag=span.dataset.flag;if(!flag)return;const toggle=span.closest(".toggle");if(toggle){const buttons=toggle.querySelectorAll(".toggle-switch");for(const b of buttons)card.unsetFlag(b.dataset.flag);card.setFlag(flag)}else card.toggleFlag(flag);card.updateChatCard()}static async dispatch(data){if(game.user.isGM){let card,messages=ui.chat.collection.filter((message=>this.defaultConfig.type===message.getFlag("CoC7","type")&&"resolved"!==message.getFlag("CoC7","state")&&(!["combinedCard"].includes(this.defaultConfig.type)||message.getFlag("CoC7","initiator")===data.roll.initiator)));if(messages.length){const timestamp=new Date(messages[0].timestamp);86400<(new Date-timestamp)/1e3&&(await messages[0].setFlag("CoC7","state","resolved"),messages=[])}card=messages.length?await this.fromMessage(messages[0]):new this,void 0!==data._rollMode&&(card._rollMode=data._rollMode),await card.process(data)}else game.socket.emit("system.CoC7",data)}async toMessage(){const html=await renderTemplate(this.config.template,this),htmlCardElement=$(html);htmlCardElement[0].dataset.object=escape(this.dataString);const chatData={user:game.user.id,flavor:game.i18n.localize(this.config.title),content:htmlCardElement[0].outerHTML,flags:{CoC7:{type:this.config.type,state:"initiated",initiator:this.initiator}}};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0);return await ChatMessage.create(chatData)}async updateChatCard(){if(await this.compute(),this.messageId){const html=await renderTemplate(this.config.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(this.dataString);const chatMessage=game.messages.get(this.messageId);this.closed&&await chatMessage.setFlag("CoC7","state","resolved");const msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}await this.toMessage()}updateRoll(data){data.fromGM||Object.assign(this.rolls[data.rank],data.roll)}addRollData(data){const check=Object.assign(new CoC7Check,data.roll);this.rolls.push(check),"combinedCard"===this.config.type&&(this.initiator=data.roll.initiator)}addRoll(data){this.rolls.push(data)}removeRoll(rank){this.rolls.splice(rank,1)}setFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!0)}unsetFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!1)}toggleFlag(flagName){this[flagName]=!this[flagName]}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultConfig(){return{exclude:["_actor","_skill","_item","_message","_htmlRoll"],excludeStartWith:"__"}}get winners(){return this.rolls.filter((r=>r.winner))}get winner(){if(this.winners.length)return this.winners[0]}get loosers(){return this.rolls.filter((r=>!r.winner))}get looser(){if(this.loosers.length)return this.loosers[0]}get hasWinner(){return this.winners.length>0}get isKeeper(){return game.user.isGM}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}get data(){return JSON.parse(this.dataString)}get dataString(){return JSON.stringify(this,((key,value)=>{if(null!==value&&!this.config.exclude?.includes(key)&&!key.startsWith(this.config.excludeStartWith))return value}))}}class CombinedCheckCard extends RollCard{static async bindListerners(html){html.on("click",".roll-card.combined .toggle-switch",this._onToggle.bind(this)),html.on("click",".roll-card.combined a",CombinedCheckCard._onClick.bind(this)),html.on("click",".roll-card.combined button",CombinedCheckCard._onClick.bind(this))}static get defaultConfig(){return mergeObject(super.defaultConfig,{template:"systems/CoC7/templates/chat/cards/combined-roll.html",type:"combinedCard",title:"CoC7.CombinedRollCard"})}get config(){return CombinedCheckCard.defaultConfig}get successCount(){if(this.rolled){let count=0;for(const r of this.rolls)r.passed&&(count+=1);return count}}get mainActorKey(){return this.rolls[0]?.actor?.actorKey||void 0}get success(){if(void 0!==this.successCount)return this.any?this.successCount>0:this.all?this.successCount===this.rolls.length:void 0}get failure(){if(void 0!==this.success)return!this.success}get checkGMInitiator(){return game.users.get(this.initiator)?.isGM}async getHtmlRoll(){if(!this.rolled)return;const check=new CoC7Check;return await check._perform({roll:this._roll[check.diceModifier||0],silent:!0}),await check.getHtmlRoll({hideSuccess:!0})}process(data){switch(data.action){case"new":case"roll":this.addRollData(data);break;case"updateRoll":this.updateRoll(data);break;case"assignRoll":this.assignRoll(data)}game.user.isGM?this.updateChatCard():game.socket.emit("system.CoC7",data)}async assignRoll(data){game.user.isGM&&(this.rolled||(this.rolled=!0,this._roll=data.roll))}static async _onClick(event){event.preventDefault();const a=event.currentTarget,action=a.dataset.action,li=a.closest("li.actor-roll"),message=a.closest(".chat-message"),cardElement=a.closest("div.roll-card"),card=await CombinedCheckCard.fromHTMLCardElement(cardElement);card.messageId=message.dataset.messageId;const rank=Number(li?.dataset?.rank);switch(action){case"remove-roll":card.removeRoll(rank),await card.updateChatCard();break;case"close-card":card.closeCard(),await card.updateChatCard();break;case"roll-card":{const pool={};for(const dice of card.rolls){const diceModifier=parseInt(dice.diceModifier,10);isNaN(diceModifier)||(pool[diceModifier]=!1)}const roll=await CoC7Dice.combinedRoll({pool});roll.initiator=game.user.id;const data={type:this.defaultConfig.type,action:"assignRoll",fromGM:game.user.isGM,roll};AudioHelper.play({src:CONFIG.sounds.dice},!0),card.process(data);break}default:{const options={update:!1,data:a.dataset,classes:a.classList,target:a};await CoC7Check.alter(card.rolls[rank],action,options);const data={type:this.defaultConfig.type,action:"updateRoll",rank,fromGM:game.user.isGM,roll:{initiator:game.user.id}};game.user.isGM||(data.roll=card.rolls[rank].JSONRollData),card.process(data);break}}}async compute(){if(this._roll){this.rolls=this.rolls.filter((roll=>void 0!==roll.actor.data));for(const r of this.rolls)r.rolled||(r.modifier=r.diceModifier||0,r.difficulty=r.difficulty||CoC7Check.difficultyLevel.regular,r.flatDiceModifier=r.flatDiceModifier||0,r.flatThresholdModifier=r.flatThresholdModifier||0,await r._perform({roll:this._roll[r.modifier],silent:!0}));for(let i=0;i<this.rolls.length;i++)this.rolls[i].rolled&&(this.rolls[i]._htmlRoll=await this.rolls[i].getHtmlRoll({hideDiceResult:!0}));this._htmlRoll=await this.getHtmlRoll()}}closeCard(){this.closed=!0}}class InteractiveChatCard{constructor(options={}){this._options=options}get options(){return mergeObject(this.constructor.defaultOptions,this._options)}get template(){return this.options.template}get cssClasses(){return this.options.classes}async toMessage(optionnalChatData={}){const html=await renderTemplate(this.template,this),htmlCardElement=$(html)[0];htmlCardElement.dataset.object=escape(this.dataString),htmlCardElement.dataset.cardClass=this.constructor.name,htmlCardElement.classList.add(...this.cssClasses);const chatData=mergeObject({user:game.user.id,flavor:game.i18n.localize(this.options.title),content:htmlCardElement.outerHTML},optionnalChatData);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard(options={}){if(options.compute&&this.compute(),this.messageId){const html=await renderTemplate(this.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(this.dataString),htmlCardElement.dataset.cardClass=this.constructor.name,htmlCardElement.classList.add(...this.cssClasses);const chatMessage=game.messages.get(this.messageId);this.closed&&await chatMessage.setFlag("CoC7","state","resolved");const msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}this.toMessage()}activateListeners(html){html.on("click",".interactive-card .ic-radio-switch",this._onToggle.bind(this)),html.on("click",".interactive-card .ic-switch",this._onToggle.bind(this)),html.on("click",".interactive-card .submit",this._onSubmit.bind(this)),html.on("focusout","input",this._onSubmit.bind(this)),html.on("click",".interactive-card button",this._onButton.bind(this)),html.on("keydown","form",this._onKey.bind(this))}static async bindListeners(html){const htmlCardElement=html[0].querySelector(".chat-card");if(!htmlCardElement)return;if(!htmlCardElement.dataset.cardClass)return;if(!Object.getOwnPropertyNames(game.CoC7.cards).includes(htmlCardElement.dataset.cardClass))return;const card=await InteractiveChatCard.fromHTMLCardElement(htmlCardElement),typedCard=Object.assign(new game.CoC7.cards[htmlCardElement.dataset.cardClass],card);typedCard.assignObject(),typedCard.activateListeners(html)}assignObject(){}_onButton(event){const action=event.currentTarget.dataset.action;this[action]&&this[action]({event,update:!0})}_onKey(event){return"Enter"===event.key&&this._onSubmit(event),"Enter"!==event.key}_onSubmit(event){event.preventDefault();const card=event.currentTarget.closest(".interactive-card");if(!card)return;this._update(card)&&this.updateChatCard()}_update(card){const forms=card.querySelectorAll("form");let updates=!1;for(let i=0;i<forms.length;i++){const form=forms[i];let data=new FormDataExtended(form).toObject();data=diffObject(this,expandObject(data));for(const[key,value]of Object.entries(data))this[key]=value,updates=!0}return updates}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultOptions(){return{classes:["interactive-card"],exclude:["_actor","_skill","_item","_message","_htmlRoll"],excludeStartWith:"__"}}get data(){return JSON.parse(this.dataString)}get dataString(){return JSON.stringify(this,((key,value)=>{if(null!==value&&!this.options.exclude?.includes(key)&&!key.startsWith(this.options.excludeStartWith))return value}))}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(card){const cardData=JSON.parse(unescape(card.dataset.object));if(!cardData.messageId){const message=card.closest(".message");cardData.messageId=message?.dataset?.messageId}return await this.fromData(cardData)}static async fromData(data){const card=Object.assign(new this,data);return await card.assignObject(),card}setFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!0)}unsetFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!1)}toggleFlag(flagName){this[flagName]=!this[flagName]}async _onToggle(event){event.preventDefault();const target=event.currentTarget;if("action"in target.dataset)return this._onButton(event);if(target&&target.classList.contains("gm-select-only")&&!game.user.isGM)return;const flag=target.dataset.flag;if(!flag)return;const toggle=target.closest(".ic-radio");if(toggle){const buttons=toggle.querySelectorAll(".ic-radio-switch");for(const b of buttons)this.unsetFlag(b.dataset.flag);this.setFlag(flag)}else this.toggleFlag(flag);const card=target.closest(".interactive-card");card&&this._update(card),this.updateChatCard()}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get isBlind(){return this.rollMode?(void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind):null}set isBlind(x){this._isBlind=x}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}get item(){return this.itemId?this.actor.items.get(this.itemId):null}get weapon(){return this.item}get targetedTokens(){return[...game.user.targets]}get target(){return this.targetToken?this.targetToken:this.targetActor}get isTargetOwner(){return this.target.isOwner}get isKeeper(){return game.user.isGM}get targetToken(){return this._targetToken||(this._targetKey?this._targetToken=chatHelper.getTokenFromKey(this._targetKey):(this._targetToken=this.targetedTokens.pop(),this._targetToken?this._targetKey=`${this._targetToken.scene.id}.${this._targetToken.id}`:this._targetToken=null)),this._targetToken}get targetActor(){return this._targetActor||(this.targetToken?this._targetActor=this.targetToken.actor||this.targetToken.data.actor||this.targetToken.data.document:this._targetActor=chatHelper.getActorFromKey(this._targetKey)),this._targetActor}get targetKey(){return this.targetToken||this.targetActor?this._targetKey:null}get hasTarget(){return!(!this.targetToken&&!this.targetActor)}set targetKey(x){this._targetKey=x}get skills(){return this.actor.getWeaponSkills(this.itemId)}get targetImg(){const img=chatHelper.getActorImgFromKey(this.targetKey);return img||"../icons/svg/mystery-man-black.svg"}get name(){return this.token?this.token.name:this.actor.name}get targetName(){return this.target?this.target.name:"dummy"}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}}class DamageCard extends InteractiveChatCard{static get defaultOptions(){return mergeObject(super.defaultOptions,{exclude:["_targetToken","_targetActor","_htmlRoll","_htmlInlineRoll"].concat(super.defaultOptions.exclude),template:"systems/CoC7/templates/chat/cards/damage.html"})}async assignObject(){this.damageRoll&&"Object"===this.damageRoll.constructor.name&&(this.damageRoll=Roll.fromData(this.damageRoll))}_onButton(event){super._onButton(event)}get critical(){return this.options.critical}set critical(x){this._options.critical=x}get impale(){return void 0===this._impale?this.weapon.impale:this._impale}set impale(x){this._impale=x}get isDamageFormula(){return"string"==typeof this.damageFormula&&(!!isNaN(Number(this.damageFormula))&&Roll.validate(this.damageFormula))}get isDamageNumber(){return!isNaN(Number(this.damageFormula))}get isArmorForula(){return"string"==typeof this.armor&&(!!isNaN(Number(this.armor))&&Roll.validate(this.armor))}get totalDamageString(){let damage=Number(this.isDamageNumber?this.damageFormula:this.roll.total);return!this.ignoreArmor&&((isNaN(Number(this.armor))||Number(this.armor)>0)&&(damage-=Number(this.armor)),!isNaN(Number(this.armor))&&damage<=0)?game.i18n.localize("CoC7.ArmorAbsorbsDamage"):damage}get noDamage(){if(this.rolled){const damage=this.isDamageNumber?this.damageFormula:this.roll.total;return this.ignoreArmor?!!(damage<=0):!isNaN(Number(this.armor))&&!!(damage-Number(this.armor)<=0)}return!1}async updateChatCard(){if(!this.options.fastForward||this.roll||this.isDamageNumber||await this.rollDamage({update:!1}),this.isDamageNumber||this.roll&&null!=this.roll.total||this.hardrolled?this.rolled=!0:this.rolled=!1,!this.options.fastForward||this.damageInflicted||this.noDamage||await this.dealDamage({update:!1}),this.rolled&&this.roll){"Object"===this.roll.constructor.name&&(this.roll=Roll.fromData(this.roll));const a=createInlineRoll(this.roll);this._htmlInlineRoll=a.outerHTML,this._htmlRoll=await this.roll.render()}await super.updateChatCard()}async rollDamage(options={update:!0}){this.roll=await new Roll(this.damageFormula||"0").evaluate({async:!0}),await CoC7Dice.showRollDice3d(this.roll),this.hardrolled=!0,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}async rollArmor(options={update:!0}){const roll=await new Roll(this.armor).evaluate({async:!0});this.armor=roll.total,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}async dealDamageToSelectedTarget(options={update:!0}){if(this.isArmorForula&&await this.rollArmor(),isNaN(Number(this.totalDamageString)))return void ui.notifications.error(game.i18n.localize("CoC7.ErrorEvaluatingDamage"));const targets=[],targetName=[],selectedPlayers=canvas.tokens.controlled.map((token=>token.actor));for(let index=0;index<selectedPlayers.length;index++)this.actor.id!==selectedPlayers[index].id&&(targetName.push(selectedPlayers[index].name),targets.push(selectedPlayers[index]));const data={title:" ",content:game.i18n.format("CoC7.DealDamage",{damage:this.totalDamageString,target:targetName}),buttons:{one:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>{this.confirmDamage(targets)}},two:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>{}}},default:"two"};targetName.length>0&&new Dialog(data).render(!0)}async confirmDamage(targets){for(let index=0;index<targets.length;index++)await targets[index].dealDamage(Number(this.totalDamageString),{ignoreArmor:!1}),ChatMessage.create({content:game.i18n.format("CoC7.DamageDealTo",{name:targets[index].name,damage:this.totalDamageString})})}async dealDamage(options={update:!0}){this.isArmorForula&&await this.rollArmor();let damage=this.totalDamageString;if(isNaN(Number(damage))){if(game.i18n.localize("CoC7.ArmorAbsorbsDamage")!==damage)return void ui.notifications.error("Error evaluating damage");damage=0}this.targetActor&&await this.targetActor.dealDamage(Number(damage),{ignoreArmor:!0}),this.damageInflicted=!0,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}get range(){return this.options.range||"normal"}set range(x){["normal","long","extreme"].inclues(x.toLowerCase())&&(this._options.range=x)}get damageFormula(){const range=this.range;let formula=this.weapon?.system?.range[range]?.damage,db=this.actor.db;if(db=(""===(db??"").toString().trim()?0:db).toString().trim(),db.startsWith("-")||(db="+"+db),this.weapon.system.properties.addb&&(formula+=db),this.weapon.system.properties.ahdb&&(formula=formula+"+ floor("+db+"/2)"),formula){const maxDamage=new Roll(formula).evaluate({maximize:!0}).total;let rollString;return this.critical?this.impale?(rollString=formula+"+"+maxDamage,rollString):maxDamage:formula}}get armor(){return void 0!==this._armor&&""!==this._armor?this._armor:this.target?this.targetActor.system.attribs.armor.value:0}set armor(x){this._armor=x}}class OpposedCheckCard extends RollCard{static async bindListerners(html){html.on("click",".roll-card.opposed .toggle-switch",this._onToggle.bind(this)),html.on("click",".roll-card.opposed a",OpposedCheckCard._onClick.bind(this)),html.on("click",".roll-card.opposed button",OpposedCheckCard._onClick.bind(this))}static get defaultConfig(){return mergeObject(super.defaultConfig,{template:"systems/CoC7/templates/chat/cards/opposed-roll.html",type:"opposedCard"})}get config(){return OpposedCheckCard.defaultConfig}get attackerRoll(){if(this.combat){if(this.rolls?.length){const attacker=this.rolls.filter((r=>0===r.index||r.attacker));if(attacker.length)return attacker[0]}}else;}get defenderRoll(){if(this.combat){if(this.rolls?.length){const defender=this.rolls.filter((r=>0!==r.index||!r.attacker));if(defender.length)return defender[0]}}else;}get defenderIsDodging(){return!(!this.defenderRoll?.actor?.dodgeSkill?.name||!this.defenderRoll?.skill?.name)&&this.defenderRoll.actor.dodgeSkill.name.toLowerCase()===this.defenderRoll.skill.name.toLowerCase()}get advantageAttacker(){return void 0===this._aa?!!this.defenderRoll&&!this.defenderIsDodging:this._aa}get winnerRollsDamage(){return!!(this.combat&&this.rolls.length>=2&&this.hasWinner&&"weapon"===this.winner?.item?.type)}set advantageAttacker(x){this._aa=!0,this._ad=!1}get advantageDefender(){return void 0===this._ad?this.defenderIsDodging:this._ad}set advantageDefender(x){this._ad=!0,this._aa=!1}get isTie(){return this.winnerCount>1}get needsTieBreaker(){return!!this.combat&&!(!this.attackerRoll||!this.defenderRoll||this.attackerRoll.successLevel!==this.defenderRoll.successLevel)}get winnerCount(){let count=0;for(const r of this.rolls)r.winner&&(count+=1);return count}get isAttackManeuver(){return!(!this.combat||!this.attackerRoll||this.attackerRoll?.item&&!this.attackerRoll?.item.system.properties?.mnvr)}get resultText(){if(this.combat&&this.attackerRoll&&this.defenderRoll){if(!this.attackerRoll.winner&&!this.defenderRoll.winner)return game.i18n.localize("CoC7.NoWinner");if(this.attackerRoll.winner)return this.attackerRoll.maneuver?game.i18n.format("CoC7.ManeuverSuccess",{name:this.attackerRoll.actor.name}):game.i18n.format("CoC7.AttackSuccess",{name:this.attackerRoll.actor.name});if(this.defenderRoll.winner)return this.defenderRoll.maneuver?game.i18n.format("CoC7.ManeuverSuccess",{name:this.defenderRoll.actor.name}):this.defenderIsDodging?game.i18n.format("CoC7.DodgeSuccess",{name:this.defenderRoll.actor.name}):game.i18n.format("CoC7.AttackSuccess",{name:this.defenderRoll.actor.name})}}async process(data){switch(data.action){case"new":this.rolls?.length||(this.combat=data.combat||void 0,this.combat&&(data.roll.attacker=!0)),data.roll.index=this.rolls.length,this.addRollData(data);break;case"roll":this.addRollData(data);break;case"updateRoll":this.updateRoll(data)}game.user.isGM?await this.updateChatCard():game.socket.emit("system.CoC7",data)}async roll(rank){await this.rolls[rank]._perform();const data={type:this.config.type,action:"updateRoll",rank,fromGM:game.user.isGM};return game.user.isGM||(data.roll=this.rolls[rank].JSONRollData),data}static async _onClick(event){event.preventDefault();const a=event.currentTarget,action=a.dataset.action,li=a.closest("li.actor-roll"),message=a.closest(".chat-message"),cardElement=a.closest("div.roll-card"),card=await OpposedCheckCard.fromHTMLCardElement(cardElement);card.messageId=message.dataset.messageId;const rank=Number(li?.dataset?.rank);switch(action){case"toggle-combat":card.combat=!card.combat,await card.updateChatCard();break;case"remove-roll":card.removeRoll(rank),await card.updateChatCard();break;case"close-card":card.closeCard(),await card.updateChatCard();break;case"roll-check":{const speaker=ChatMessage.getSpeaker();card.rolls[rank].actorKey||(card.rolls[rank].actorKey=`${speaker.scene}.${speaker.token}`);const data=await card.roll(rank);await card.process(data);break}case"roll-damage":{card.closeCard(),await card.updateChatCard();const damageChatCard=new DamageCard({critical:card.winner.isExtremeSuccess,fastForward:event.shiftKey});damageChatCard.actorKey=card.winner.actor.actorKey,damageChatCard.targetKey=card.looser.actor.actorKey,damageChatCard.itemId=card.winner.itemId,damageChatCard.updateChatCard();break}default:{const options={update:!1,data:a.dataset,classes:a.classList,target:a};await CoC7Check.alter(card.rolls[rank],action,options);const data={type:this.defaultConfig.type,action:"updateRoll",rank,fromGM:game.user.isGM};game.user.isGM||(data.roll=card.rolls[rank].JSONRollData),card.process(data);break}}}async compute(rank=void 0){if(this.rolls=this.rolls.filter((roll=>void 0!==roll.actor.actorKey)),rank)this.rolls[rank].rolled&&(this.rolls[rank]._htmlRoll=await this.rolls[rank].getHtmlRoll({hideDiceResult:!0}));else for(let i=0;i<this.rolls.length;i++)delete this.rolls[i].maneuver,this.combat&&(!this.rolls[i].item||this.rolls[i].item.system.properties?.mnvr)&&(this.rolls[i]?.actor?.dodgeSkill?.name&&this.rolls[i]?.skill?.name&&this.rolls[i].actor.dodgeSkill.name.toLowerCase()!==this.rolls[i].skill.name.toLowerCase()||!this.rolls[i]?.actor?.dodgeSkill?.name)&&(this.rolls[i].maneuver=!0),this.rolls[i].rolled&&(this.rolls[i]._htmlRoll=await this.rolls[i].getHtmlRoll({hideDiceResult:!0}));if(this.combat){if(this.rolls.sort(((a,b)=>a.index>b.index?1:a.index<b.index?-1:0)),this.rolls.length>1){this.rolls=[this.rolls[0],this.rolls[1]];for(const r of this.rolls)delete r.winner,delete r.tie}this.rolls[0]&&(this.rolls[0].attacker=!0),this.rolls[0]?.rolled&&this.rolls[1]?.rolled&&(this.rolls[0].passed||this.rolls[1].passed)&&(this.rolls[0].successLevel>this.rolls[1].successLevel?this.rolls[0].winner=!0:this.rolls[1].successLevel>this.rolls[0].successLevel?this.rolls[1].winner=!0:this.advantageAttacker?this.rolls[0].winner=!0:this.rolls[1].winner=!0)}else{if(this.rolls.sort(((a,b)=>{if(a.rolled&&!b.rolled)return-1;if(!a.rolled&&b.rolled)return 1;if(!a.rolled&&!b.rolled)return 0;if(a.successLevel>b.successLevel)return this.resolved=!0,-1;if(a.successLevel<b.successLevel)return this.resolved=!0,1;if(game.settings.get("CoC7","opposedRollTieBreaker")){if(a.modifiedResult>b.modifiedResult)return this.resolved=!0,-1;if(a.modifiedResult<b.modifiedResult)return this.resolved=!0,1}else{if(a.rawValue>b.rawValue)return this.resolved=!0,-1;if(a.rawValue<b.rawValue)return this.resolved=!0,1}return 0})),this.winCount=0,this.rolls[0]&&this.rolls[0].rolled&&!this.rolls[0].failed){this.winCount=1;for(let i=1;i<this.rolls.length;i++)this.rolls[i]&&this.rolls[i].rolled&&this.rolls[0].successLevel===this.rolls[i].successLevel&&(game.settings.get("CoC7","opposedRollTieBreaker")?this.rolls[0].modifiedResult===this.rolls[i].modifiedResult:this.rolls[0].rawValue===this.rolls[i].rawValue)&&(this.winCount=this.winCount+1)}for(let i=0;i<this.rolls.length;i++)this.rolls[i].winner=i<this.winCount,this.rolls[i].tie=this.rolls[i].winner&&this.winCount>1}}closeCard(){this.closed=!0}}class ChatCardActor{constructor(actorKey=null,fastForward=!1){this.actorKey=actorKey,this.fastForward=fastForward}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get isBlind(){return this.rollMode?(void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind):null}set isBlind(x){this._isBlind=x}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){this._rollMode=x}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}get item(){return this.itemId?this.actor.items.get(this.itemId):null}get weapon(){return this.item}get targetedTokens(){return[...game.user.targets]}get target(){return this.targetToken?this.targetToken:this.targetActor}get targetToken(){return this._targetToken||(this._targetKey?this._targetToken=chatHelper.getTokenFromKey(this._targetKey):(this._targetToken=this.targetedTokens.pop(),this._targetToken?this._targetKey=`${this._targetToken.scene.id}.${this._targetToken.id}`:this._targetToken=null)),this._targetToken}get targetActor(){return this._targetActor||(this.targetToken?this._targetActor=this.targetToken.actor:this._targetActor=chatHelper.getActorFromKey(this._targetKey)),this._targetActor}get targetKey(){return this.targetToken||this.targetActor?this._targetKey:null}get hasTarget(){return!(!this.targetToken&&!this.targetActor)}set targetKey(x){this._targetKey=x}get skills(){return this.actor.getWeaponSkills(this.itemId)}get targetImg(){const img=chatHelper.getActorImgFromKey(this.targetKey);return img||"../icons/svg/mystery-man-black.svg"}get name(){return this.token?this.token.name:this.actor.name}get targetName(){return this.target?this.target.name:"dummy"}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}async say(message,flavor=null){const speakerData={};let speaker;this.actor?(speakerData.actor=this.actor,this.token&&(speakerData.token=this.token.document),speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,flavor,content:message};["gmroll","blindroll"].includes(game.settings.get("core","rollMode"))&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}}function replacer(key,value){if(key.startsWith("__"))return;if(["_actor"].includes(key))return;return["sanCheck","intCheck"].includes(key)?value.JSONRollData:value}class SanCheckCard extends ChatCardActor{constructor(actorKey=null,sanData={},options={}){super(actorKey,void 0!==options.fastForward&&Boolean(options.fastForward)),sanData.sanReason=sanData.sanReason??"",this.sanData=sanData,this.options=options,sanData.modifier&&!isNaN(Number(sanData.modifier))&&(this.options.sanModifier=Number(sanData.modifier)),sanData.difficulty&&!isNaN(Number(sanData.difficulty))&&(this.options.sanDifficulty=Number(sanData.difficulty)),this.state={}}get isBlind(){return void 0!==this.options.isBlind?Boolean(this.options.isBlind):super.isBlind}get difficulty(){return void 0!==this.options.difficulty?this.options.difficulty:CoC7Check.difficultyLevel.regular}get modifier(){return void 0!==this.options.modifier?this.options.modifier:0}get sanLossSource(){return this.sanData.tokenKey?chatHelper.getActorFromKey(this.sanData.tokenKey):null}get involuntaryAction(){return!(!this.state.sanRolled||!this.sanCheck.isFailure&&!this.sanCheck.isFumble)}get sanLossFormula(){return this.state.sanRolled?this.sanData.sanMax&&this.sanCheck.failed?isNaN(Number(this.sanData.sanMax))?this.sanData.sanMax:Number(this.sanData.sanMax):this.sanData.sanMin&&this.sanCheck.passed?isNaN(Number(this.sanData.sanMin))?this.sanData.sanMin:Number(this.sanData.sanMin):0:null}get sanLostToReason(){return this.actor.sanLostToReason(this.sanData.sanReason)}get maxPossibleSanLoss(){return this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax)}get maxSanLoss(){return new Roll(this.sanData.sanMax.toString()).evaluate({maximize:!0}).total}get sanLossReasonEncountered(){return this.actor.sanLossReasonEncountered(this.sanData.sanReason)}get firstEncounter(){return!this.actor.mythosInsanityExperienced}get isActorLoosingSan(){return!this.actor.hasTempoInsane&&(0!==this.sanLossFormula&&(!this.sanData.sanReason||0!==this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax)||(this.state.immuneToCreature=!0,!1)))}get boutDurationText(){if(this.boutDuration){if(this.boutRealTime)return`${this.boutDuration} ${game.i18n.localize("CoC7.rounds")}`;if(this.boutSummary)return`${this.boutDuration} ${game.i18n.localize("CoC7.hours")}`}return null}get youGainCthulhuMythosString(){return this.mythosGain?game.i18n.format("CoC7.YouGainedCthulhuMythos",{value:this.mythosGain}):null}async advanceState(state){switch(state){case"keepCreatureSanData":this.state.keepCreatureSanData=!0;break;case"involuntaryActionPerformed":this.state[state]=!0,this.isActorLoosingSan||(this.state.finish=!0);break;case"sanLossApplied":await this.applySanLoss();break;case"enterBoutOfMadnessRealTime":this.boutDuration=(await new Roll("1D10").roll({async:!0})).total,this.boutRealTime=!0,this.boutSummary=!1,this.boutResult=await this.actor.enterBoutOfMadness(!0,this.boutDuration),this.state.boutOfMadnessResolved=!0,this.state.boutOfMadnessOver=!1;break;case"enterBoutOfMadnessSummary":this.boutDuration=(await new Roll("1D10").roll({async:!0})).total,this.boutRealTime=!1,this.boutSummary=!0,this.boutResult=await this.actor.enterBoutOfMadness(!1,this.boutDuration),this.state.boutOfMadnessResolved=!0,await this.triggerInsanity();break;case"boutOfMadnessOver":await this.actor.unsetCondition(COC7.status.tempoInsane),await this.triggerInsanity();break;case"noMythosGained":this.state.cthulhuMythosAwarded=!0,this.mythosGain=0;break;case"cthulhuMythosAwarded":{let amountGained=1;this.actor.mythosInsanityExperienced||(amountGained=5,await this.actor.experienceFirstMythosInsanity()),this.state.cthulhuMythosAwarded=!0;const cthulhuMythosSkill=this.actor.cthulhuMythosSkill,oldValue=cthulhuMythosSkill.data.data.adjustments.experience||0;cthulhuMythosSkill&&await cthulhuMythosSkill.update({"data.adjustments.experience":oldValue+amountGained}),this.mythosGain=amountGained;break}}}async bypassRollSan(){this.isBypassed=!0,this.sanCheck=new CoC7Check,this.sanCheck.actor=this.actorKey,this.sanCheck.attribute="san",this.sanCheck.difficulty=this.options.sanDifficulty||CoC7Check.difficultyLevel.regular,this.sanCheck.diceModifier=this.options.sanModifier||0,await this.sanCheck._perform({forceDSN:!0}),this.state.sanRolled=!0,this.state.involuntaryActionPerformed=this.sanCheck.passed,this.state.sanLossRolled=!0,this.state.ignoreSanCheck=!0,this.sanLoss=this.sanLossFormula}async rollSan(){if(this.sanCheck=new CoC7Check,this.sanCheck.actor=this.actorKey,this.sanCheck.attribute="san",this.sanCheck.difficulty=this.options.sanDifficulty||CoC7Check.difficultyLevel.regular,this.sanCheck.diceModifier=this.options.sanModifier||0,await this.sanCheck._perform({forceDSN:!0}),this.state.sanRolled=!0,this.state.involuntaryActionPerformed=this.sanCheck.passed,this.isActorLoosingSan){if("number"==typeof this.sanLossFormula)this.state.sanLossRolled=!0,this.sanData.sanReason?(this.sanLoss=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanLossFormula),this.sanLoss<this.sanLossFormula&&(this.state.limitedLossToCreature=!0)):this.sanLoss=this.sanLossFormula;else if(this.sanCheck.isFumble)this.state.sanLossRolled=!0,this.sanLoss=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);else if(this.sanData.sanReason){const min=new Roll(this.sanLossFormula).evaluate({minimize:!0}).total,max=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);min>=max&&(this.state.sanLossRolled=!0,this.sanLoss=max,this.state.limitedLossToCreature=!0)}}else this.state.finish=!0,this.actor.hasTempoInsane&&(this.state.immuneAlreadyInBout=!0,this.sanCheck.passed||(this.state.finish=!1)),this.state.sanLossRolled=!0,this.state.sanLossApplied=!0,this.state.intRolled=!0,this.state.insanity=!1,this.sanLoss=0}async rollSanLoss(){this.sanLossRoll=new Roll(`${this.sanLossFormula}`),await this.sanLossRoll.roll({async:!0}),await CoC7Dice.showRollDice3d(this.sanLossRoll);const max=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);this.sanLossRoll.total>max&&(this.state.limitedLossToCreature=!0),this.sanLoss=Math.min(this.sanLossRoll.total,max),this.state.sanLossRolled=!0}async applySanLoss(){if(await this.actor.looseSan(this.sanData.sanReason,this.sanLoss),this.sanLoss>0&&(this.state.actorLostSan=!0),this.state.sanLossApplied=!0,this.actor.san<=0)return this.state.intRolled=!0,this.state.boutOfMadnessOver=!0,this.state.insanity=!0,this.state.permanentlyInsane=!0,void(this.state.finish=!0);this.sanLoss<5?(this.state.intRolled=!0,this.actor.hasIndefInsane?(this.state.insanity=!0,this.state.shaken=!0,this.state.insanityTableRolled=!1,this.state.finish=!1,this.state.intRolled=!0):(this.state.insanity=!1,this.state.shaken=!0,this.state.insanityTableRolled=!0,this.state.finish=!0)):this.state.intRolled=!1,this.actor.dailySanLoss>=this.actor.dailySanLimit&&(this.state.insanity=!0,this.state.intRolled=!0,this.state.temporaryInsane=!1,this.state.indefinitelyInsane=!0,this.state.insanityTableRolled=!1,this.state.memoryRepressed=!1,this.state.finish=!1)}async rollInt(){this.intCheck=new CoC7Check,this.intCheck.actor=this.actorKey,this.intCheck.characteristic="int",this.intCheck.difficulty=this.options.intDifficulty||CoC7Check.difficultyLevel.regular,this.intCheck.diceModifier=this.options.intModifier||0,await this.intCheck._perform({forceDSN:!0}),this.state.intRolled=!0,this.intCheck.passed||this.state.alreadyInsane?(this.state.insanity=!0,this.state.temporaryInsane=!0,this.state.indefinitelyInsane=!1,this.state.memoryRepressed=!1):(this.state.insanity=!1,this.state.temporaryInsane=!1,this.state.indefinitelyInsane=!1,this.state.memoryRepressed=!0,this.state.finish=!0)}async triggerInsanity(){this.state.boutOfMadnessOver=!0,this.state.indefinitelyInsane&&await this.actor.setCondition(COC7.status.indefInsane),this.state.finish=!0}async clearSanLossReason(){await this.actor.setReasonSanLoss(this.sanData.sanReason,0),this.sanLossReasonEncountered||(this.state.keepCreatureSanData=!0)}async updateChatCard(){if(this.state.sanRolled&&(this.__inlineSanCheck=this.sanCheck.inlineCheck.outerHTML),this.sanLossRoll){const a=createInlineRoll(this.sanLossRoll);this.__inlineSanLossRoll=a.outerHTML}this.state.intRolled&&this.intCheck&&(this.__inlineIntCheck=this.intCheck.inlineCheck.outerHTML);const html=await renderTemplate(SanCheckCard.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(JSON.stringify(this,replacer));const chatMessage=game.messages.get(this.messageId),msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}static get template(){return"systems/CoC7/templates/chat/cards/san-check.html"}static checkTargets(sanData,fastForward=!1){const targets=[...game.user.targets];if(targets.length)for(const t of targets)t.actor.isToken?SanCheckCard.create(t.actor.tokenKey,sanData,{fastForward}):SanCheckCard.create(t.actor.id,sanData,{fastForward});else ui.notifications.warn(game.i18n.localize("CoC7.WarnNoTargetsSanCheck"))}static async create(...args){const chatCard=new SanCheckCard(...args);chatCard.actor.hasIndefInsane&&(chatCard.state.alreadyInsane=!0),chatCard.actor.san<=0&&(chatCard.state.intRolled=!0,chatCard.state.boutOfMadnessOver=!0,chatCard.state.insanity=!0,chatCard.state.permanentlyInsane=!0,chatCard.state.finish=!0);const html=await renderTemplate(SanCheckCard.template,chatCard),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(JSON.stringify(chatCard,replacer)),await chatCard.say(htmlCardElement.outerHTML)}static getFromMessageId(messageId){const message=game.messages.get(messageId),htmlCard=$.parseHTML(message.content)[0].querySelector(".chat-card");return SanCheckCard.getFromCard(htmlCard)}static getFromCard(card){const sanCheckCardData=JSON.parse(unescape(card.dataset.object)),sanCheckCard=new SanCheckCard;return Object.assign(sanCheckCard,sanCheckCardData),sanCheckCard.messageId||(sanCheckCard.messageId=card.closest(".message").dataset.messageId),"Object"===sanCheckCard.sanCheck?.constructor?.name&&(sanCheckCard.sanCheck=Object.assign(new CoC7Check,sanCheckCard.sanCheck)),"Object"===sanCheckCard.intCheck?.constructor?.name&&(sanCheckCard.intCheck=Object.assign(new CoC7Check,sanCheckCard.intCheck)),"Object"===sanCheckCard.sanLossRoll?.constructor?.name&&(sanCheckCard.sanLossRoll=Roll.fromData(sanCheckCard.sanLossRoll)),sanCheckCard}}class SanDataDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(":checkbox").click((()=>this._toggleInput(html)))}_toggleInput(html){html.find('*[name="customname"]').toggle()}static async create(options={}){const html=await renderTemplate("systems/CoC7/templates/apps/sandata.html",options);return new Promise((resolve=>{let formData=null;const dlg=new SanDataDialog({title:options.displayName?game.i18n.format("CoC7.SanDataSelectionWindowNamed",{name:options.displayName}):game.i18n.localize("CoC7.SanDataSelectionWindow"),content:html,buttons:{Validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#san-data-form")),resolve(formData))}},default:"Validate",close:()=>{}});dlg.render(!0)}))}}class CoC7ChatMessage{static get ROLL_TYPE_ATTRIBUTE(){return"R/AT"}static get ROLL_TYPE_CHARACTERISTIC(){return"R/CH"}static get ROLL_TYPE_COMBAT(){return"R/CO"}static get ROLL_TYPE_SKILL(){return"R/SK"}static get ROLL_TYPE_ENCOUNTER(){return"R/EC"}static get CARD_TYPE_COMBINED(){return"C/CO"}static get CARD_TYPE_GROUP(){return"C/GR"}static get CARD_TYPE_NORMAL(){return"C/NO"}static get CARD_TYPE_OPPOSED(){return"C/OP"}static get CARD_TYPE_SAN_CHECK(){return"C/SC"}static get CARD_TYPE_NONE(){return"C/NO"}static cardTypes(config){if(config.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT)return null;const select={[CoC7ChatMessage.CARD_TYPE_NORMAL]:"CoC7.RegularRollCard",[CoC7ChatMessage.CARD_TYPE_COMBINED]:"CoC7.CombinedRollCard",[CoC7ChatMessage.CARD_TYPE_OPPOSED]:"CoC7.OpposedRollCard"};return config.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE&&"san"===config.attribute&&(select[CoC7ChatMessage.CARD_TYPE_SAN_CHECK]="CoC7.SanityLossEncounter"),select}static normalizeRequest(options){if(void 0!==options.event||void 0===options.cardType||void 0===options.actor||void 0===options.skillId&&void 0===options.skillName&&void 0===options.attribute&&void 0===options.characteristic&&options.rollType!==CoC7ChatMessage.ROLL_TYPE_ENCOUNTER){if(void 0===options.event||void 0===options.cardType||void 0===options.rollType)return ui.notifications.error(game.i18n.format("CoC7.ErrorNotFound",{value:game.i18n.localize("CoC7.Roll")})),!1}else if(void 0!==options.skillId)options.actor.items.get(options.skillId)&&(options.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL);else if(void 0!==options.skillName){const skillIds=options.actor.getSkillsByName(options.skillName);skillIds.length>0&&(options.skillId=skillIds[0].id,options.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL)}else void 0!==options.attribute&&["lck","san"].includes(options.attribute)?options.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:void 0!==options.characteristic&&void 0!==options.actor.system.characteristics[options.characteristic]&&(options.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC);if(![CoC7ChatMessage.CARD_TYPE_COMBINED,CoC7ChatMessage.CARD_TYPE_GROUP,CoC7ChatMessage.CARD_TYPE_NORMAL,CoC7ChatMessage.CARD_TYPE_OPPOSED,CoC7ChatMessage.CARD_TYPE_SAN_CHECK].includes(options.cardType))return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorInvalidCardType")})),!1;if(![CoC7ChatMessage.ROLL_TYPE_SKILL,CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,CoC7ChatMessage.ROLL_TYPE_ENCOUNTER].includes(options.rollType))return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorInvalidRollType")})),!1;const config={options:{cardType:options.cardType,shiftKey:options.fastForward??options.event?.shiftKey??options.fastForward??!1,altKey:options.event?.altKey??!1,isCtrlKey:isCtrlKey(options.event??!1),createEncounter:options.createEncounter??!1,openLinkTool:options.openLinkTool??!1,sendToChat:options.sendToChat??!1,sendToClipboard:options.sendToClipboard??!1,isCombat:options.event?.currentTarget.classList?.contains("combat")??!1,preventStandby:options.preventStandby??!1,bonusDice:0},dialogOptions:{rollType:options.rollType,cardType:options.cardType,attribute:"",chatMessage:options.chatMessage??!0,forcedCardType:options.forcedCardType??!1,hideDifficulty:options.hideDifficulty??!1}};switch(config.dialogOptions.rollType){case CoC7ChatMessage.ROLL_TYPE_SKILL:case CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:case CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:case CoC7ChatMessage.ROLL_TYPE_ENCOUNTER:if(config.options.skillId=options.skillId??options.event?.currentTarget.closest(".item")?.dataset.skillId,config.options.itemId=options.event?.currentTarget.closest(".item")?.dataset.itemId,config.options.characteristic=options.characteristic??options.event?.currentTarget.parentElement.dataset.characteristic,config.options.attribute=options.attribute??options.event?.currentTarget.parentElement.dataset.attrib,config.dialogOptions.attribute=config.options.attribute,config.options.actorId=options.event?.currentTarget.closest("form").dataset.actorId??options.actor.id,config.options.tokenKey=options.event?.currentTarget.closest("form").dataset.tokenId??options.actor.tokenKey,config.options.weaponAltSkill=options.event?.currentTarget.classList.contains("alternativ-skill"),config.options.actor=options.actor,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL&&config.options.isCombat){const item=config.options.actor.items.get(config.options.itemId);if(!item)return!1;"weapon"===item.type&&(config.options.weaponName=item.name,config.dialogOptions.rollType=CoC7ChatMessage.ROLL_TYPE_COMBAT)}if(void 0===config.options.actorId||void 0===config.options.tokenKey&&void 0===config.options.actor)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorActor")})),!1;if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL&&void 0===config.options.skillId)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Entities.Skill")})),!1;if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC){if(void 0===config.options.characteristic)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Characteristic")})),!1;if(!game.user.isGM&&!config.options.actor.system.characteristics[config.options.characteristic]?.value)return!1}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE){if(void 0===config.options.attribute)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Attribute")})),!1;if(!game.user.isGM&&!config.options.actor.system.attribs[config.options.attribute]?.value)return!1}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT){if(void 0===config.options.itemId)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Entities.Weapon")})),!1;if(config.options.altKey)return!1}config.options.hasPlayerOwner=config.options.actor.hasPlayerOwner??!1,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC?(config.dialogOptions.disableFlatThresholdModifier=config.options.isCtrlKey,config.dialogOptions.disableFlatDiceModifier=config.options.isCtrlKey):(config.dialogOptions.disableFlatThresholdModifier=!1,config.dialogOptions.disableFlatDiceModifier=!1),config.dialogOptions.modifier=0,config.dialogOptions.difficulty=options.difficulty??CoC7Check.difficultyLevel[game.settings.get("CoC7","defaultCheckDifficulty")],config.dialogOptions.flatDiceModifier=0,config.dialogOptions.flatThresholdModifier=0}return config}static async trigger(options={}){const config=CoC7ChatMessage.normalizeRequest(options);if(!1!==config)if(config.options.isCtrlKey&&game.user.isGM&&[CoC7ChatMessage.CARD_TYPE_NORMAL,CoC7ChatMessage.CARD_TYPE_SAN_CHECK].includes(config.dialogOptions.cardType))CoC7ChatMessage.createLink(config);else{if(!(config.options.sendToChat||config.options.sendToClipboard||config.options.openLinkTool||config.options.createEncounter)||!game.user.isGM||CoC7ChatMessage.CARD_TYPE_NONE!==config.dialogOptions.cardType){if(void 0!==config.options.actor){if(void 0!==config.options.attribute){const bonusDice=config.options.actor.system?.attribs?.[config.options.attribute]?.bonusDice;bonusDice&&(config.dialogOptions.modifier=bonusDice)}else if(void 0!==config.options.characteristic){const bonusDice=config.options.actor.system?.characteristics?.[config.options.characteristic]?.bonusDice;bonusDice&&(config.dialogOptions.modifier=bonusDice)}else if(void 0!==config.options.itemId){const itemModifiers=Object.values(config.options.actor.system.skills).find((k=>k.foundryID===config.options.itemId));void 0!==itemModifiers.bonusDice&&(config.dialogOptions.modifier=itemModifiers.bonusDice)}config.dialogOptions.modifier=Math.min(Math.max(config.dialogOptions.modifier,-2),2)}return config.options.shiftKey||await CoC7ChatMessage.createRoll(config),CoC7ChatMessage.runRoll(config)}CoC7ChatMessage.createLink(config)}}static createLink(config){switch(config.dialogOptions.rollType){case CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:case CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:case CoC7ChatMessage.ROLL_TYPE_COMBAT:case CoC7ChatMessage.ROLL_TYPE_SKILL:case CoC7ChatMessage.ROLL_TYPE_ENCOUNTER:{const linkData={type:"CoC7Link"};if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL){if(linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.SKILL,linkData.name=config.options.actor.items.get(config.options.skillId)?.shortName,!linkData.name)return}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC)linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.CHARACTERISTIC,linkData.name=config.options.characteristic;else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE)(config.options.altKey||config.options.createEncounter)&&"san"===config.options.attribute?linkData.check=CoC7Link.CHECK_TYPE.SANLOSS:(linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.ATTRIBUTE,linkData.name=config.options.attribute);else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT)linkData.check=CoC7Link.CHECK_TYPE.ITEM,linkData.name=config.options.weaponName;else{if(config.dialogOptions.rollType!==CoC7ChatMessage.ROLL_TYPE_ENCOUNTER)return;linkData.check=CoC7Link.CHECK_TYPE.SANLOSS,linkData.sanMin=config.options.actor?.system?.special?.sanLoss?.checkPassed,linkData.sanMax=config.options.actor?.system?.special?.sanLoss?.checkFailled,linkData.sanReason=config.options.actor.system.infos.type?.length?config.options.actor.system.infos.type:config.options.actor.name}"blindroll"===game.settings.get("core","rollMode")&&(linkData.blind=!0),config.options.sendToChat?CoC7Link.toChatMessage(linkData):config.options.sendToClipboard?CoC7Link.fromDropData(linkData).then((link=>{CoC7Utilities.copyToClipboard(link.link)})):CoC7ContentLinkDialog.create(linkData,{actors:[config.options.actor].filter((a=>a.owners.length)),hasModifiers:config.options.shiftKey})}}}static async createRoll(config){const usage=await RollDialog.create(config.dialogOptions);if(usage){const cardType=usage.get("cardType");cardType&&(config.dialogOptions.cardType=cardType),config.dialogOptions.modifier=Number(usage.get("bonusDice")),config.dialogOptions.difficulty=Number(usage.get("difficulty")),config.dialogOptions.flatDiceModifier=Number(usage.get("flatDiceModifier")),config.dialogOptions.flatThresholdModifier=Number(usage.get("flatThresholdModifier"))}}static async runRoll(config){switch(config.dialogOptions.cardType){case CoC7ChatMessage.CARD_TYPE_SAN_CHECK:{const sanData=await SanDataDialog.create({promptLabel:!0});if(sanData){let sanMin=sanData.get("sanMin")||0,sanMax=sanData.get("sanMax")||0;const sanReason=sanData.get("sanReason");isNaN(Number(sanMin))||(sanMin=Number(sanMin)),isNaN(Number(sanMax))||(sanMax=Number(sanMax)),SanCheckCard.create(config.options.actor.actorKey,{sanMin,sanMax,sanReason},{sanModifier:config.dialogOptions.modifier,sanDifficulty:config.dialogOptions.difficulty,fastForward:config.options.shiftKey})}}break;case CoC7ChatMessage.CARD_TYPE_NORMAL:{const check=new CoC7Check;return check.diceModifier=config.dialogOptions.modifier,check.difficulty=config.dialogOptions.difficulty,check.actor=config.options.tokenKey?config.options.tokenKey:config.options.actorId,check.flatDiceModifier=config.dialogOptions.flatDiceModifier,check.flatThresholdModifier=config.dialogOptions.flatThresholdModifier,check.standby=!config.options.preventStandby&&game.settings.get("CoC7","stanbyGMRolls")&&game.user.isGM&&config.options.hasPlayerOwner,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL?(check.skill=config.options.skillId,await check.roll()):config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE?await check.rollAttribute(config.options.attribute):await check.rollCharacteristic(config.options.characteristic),config.dialogOptions.chatMessage&&check.toMessage(),{result:check.modifiedResult,successLevel:check.rolledSuccessLevel,isFumble:check.isFumble,isCritical:check.isCritical,successLevels:{1:check.regularThreshold,2:check.hardThreshold,3:check.extremeThreshold},passed:check.passed}}case CoC7ChatMessage.CARD_TYPE_OPPOSED:case CoC7ChatMessage.CARD_TYPE_COMBINED:{const check=new CoC7Check;check.actor=config.options.tokenKey?config.options.tokenKey:config.options.actorId,check.characteristic=config.options.characteristic,check.attribute=config.options.attribute,check.skillId=config.options.skillId,check.rollMode=game.settings.get("core","rollMode"),check.initiator=game.user.id;let data={};config.dialogOptions.cardType===CoC7ChatMessage.CARD_TYPE_OPPOSED?(data={type:OpposedCheckCard.defaultConfig.type,combat:config.options.isCombat,action:"new"},check.item=config.options.itemId,check.weaponAltSkill=config.options.weaponAltSkill,check.denyPush=!0,await check._perform()):(data={type:CombinedCheckCard.defaultConfig.type,action:"new"},check.difficulty=config.dialogOptions.difficulty),data.roll=check.JSONRollData,data._rollMode=game.settings.get("core","rollMode"),config.dialogOptions.cardType===CoC7ChatMessage.CARD_TYPE_OPPOSED?OpposedCheckCard.dispatch(data):CombinedCheckCard.dispatch(data)}}}}class CoC7ConCheck{constructor(actorId=null,difficulty=CoC7Check.difficultyLevel.regular){this.check=new CoC7Check(actorId),this.check.characteristic="con",this.check.difficulty=difficulty,this.check.denyPush=!0,this.actorId=actorId}get isBlind(){return void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind}set isBlind(x){this._isBlind=x}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}get actor(){return this.actorId?chatHelper.getActorFromKey(this.actorId):null}set actorId(x){this._actorId=x,this.check.actor=x}get actorId(){return this._actorId?this._actorId:null}get tokenKey(){return this.actor.isToken?this.actor.tokenKey:null}get isSuccess(){return!!this.check&&this.check.isSuccess}get isRolled(){return!!(this.check&&this.check.dices&&this.check.dices.total)}static getFromCard(card){const conCheck=new CoC7ConCheck;chatHelper.getObjectFromElement(conCheck,card);const htmlCheck=card.querySelector(".roll-result");return CoC7Roll.getFromElement(htmlCheck,conCheck.check),conCheck.messageId=card.closest(".message").dataset.messageId,conCheck}async getCheckElement(){const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this.check),htmlElement=$.parseHTML(html)[0];return htmlElement?(htmlElement.classList.remove("chat-card","item-card","roll-card"),htmlElement):null}async toMessage(fastForward=!1){fastForward&&await this.rollCon();const html=await renderTemplate("systems/CoC7/templates/chat/con-check.html",this),htmlElement=$.parseHTML(html)[0];if(fastForward){htmlElement.querySelector(".roll-result").replaceWith(await this.getCheckElement())}const speakerData={};let speaker;this.actor?(this.token?speakerData.token=this.token:speakerData.actor=this.actor,speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,flavor:this.flavor,content:htmlElement.outerHTML};["gmroll","blindroll"].includes(game.settings.get("core","rollMode"))&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async rollCon(){this.check.hideDiceResult=!0,await this.check._perform(),this.isBlind||this.isRolled||this.isSuccess||(this.stayAlive?await this.actor.setCondition(COC7.status.dead):await this.actor.setCondition(COC7.status.unconscious)),this.applied=!0}async updateChatCard(){const html=await renderTemplate("systems/CoC7/templates/chat/con-check.html",this),htmlElement=$.parseHTML(html)[0];if(htmlElement.querySelector(".roll-result").replaceWith(await this.getCheckElement()),this.isBlind||!this.isRolled||this.isSuccess||(this.stayAlive?await this.actor.setCondition(COC7.status.dead):await this.actor.setCondition(COC7.status.unconscious)),!this.messageId)return;const chatMessage=game.messages.get(this.messageId),msg=await chatMessage.update({content:htmlElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}}class SkillSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".select-skill").click((async event=>this._onSelectSkillClicked(event)))}async _onSelectSkillClicked(event){const li=event.currentTarget.closest(".item");this.data.data.skills[Number(li.dataset.index)].selected=!0,event.currentTarget.style.display="none",this.data.data.added||(this.data.data.added=0),this.data.data.added++;event.currentTarget.closest(".skill-selector").querySelector(".count").innerText=this.data.data.added,this.data.data.added>=this.data.data.optionsCount&&this.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/skill-select.html",data);return new Promise((resolve=>{new SkillSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>{if(!data.added>=data.optionsCount)return resolve(!1);const selected=data.skills.filter((skill=>skill.selected));return resolve(selected)}},{classes:["coc7","dialog","skill-select"]}).render(!0)}))}}class PointSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".item-name").click((async event=>this._onSelectCharacteristic(event))),html.find("button").click((event=>this._onButtonClicked(event)))}async _onSelectCharacteristic(event){const li=event.currentTarget.closest(".item"),itemList=li.closest(".item-list");for(const item of itemList.querySelectorAll(".selectable"))item.classList.remove("selected"),this.data.data.characteristics[item.dataset.key].selected=!1,this.data.data.characteristics[item.dataset.key].optional=!1;$(li).toggleClass("selected"),this.data.data.characteristics[li.dataset.key].selected=!0;li.closest("#skill-selection-form").querySelector(".points").innerText=this.data.data.total+this.data.data.characteristics[li.dataset.key].multiplier*this.data.data.characteristics[li.dataset.key].value;li.closest("#skill-selection-form").querySelector("button.validate").classList.remove("inactive"),this.data.data.resolved=!0}async _onButtonClicked(event){event.preventDefault(),event.currentTarget.classList.contains("inactive")||super.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/point-select.html",data);return new Promise((resolve=>{new PointSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>data.resolved?resolve(data):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class CharacSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".item-name").click((async event=>this._onSelectCharacteristic(event)))}async _onSelectCharacteristic(event){const li=event.currentTarget.closest(".item");this.data.data.selected=li.dataset.key,this.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/char-select.html",data);return new Promise((resolve=>{new CharacSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>data.selected?resolve(data.selected):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class CharacRollDialog extends Dialog{constructor(data,options){super(data,options),this.rolled=data.rolled||{}}activateListeners(html){super.activateListeners(html),html.on("change","input",this._onChangeInput.bind(this)),html.on("submit","form",this._onSubmit.bind(this)),html.on("click",".roll-characteristic",this._onRollCharacteristic.bind(this)),html.on("click",".increase-characteristic",this._onIncreaseCharacteristic.bind(this)),html.on("click",".decrease-characteristic",this._onDecreaseCharacteristic.bind(this)),html.on("click",".reset-characteristic",this._onResetCharacteristic.bind(this)),html.on("click","button",this._onButton.bind(this))}async _onRollCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;await this.rollCharacteristic(characKey)}async _onIncreaseCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.increaseCharacteristic(characKey)}async _onDecreaseCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.decreaseCharacteristic(characKey)}async _onResetCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.resetCharacteristic(characKey)}async _onButton(event){const action=event.currentTarget.dataset.action;if("roll"===action)for(const char of["str","con","siz","dex","app","int","pow","edu","luck"])await this.rollCharacteristic(char);this.checkTotal(),"validate"===action&&this.data.data.validate&&this.close()}async rollCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input"),formula=this.data.data.characteristics.rolls[key];if(input&&formula){if(isNaN(Number(formula))){const roll=new Roll(formula);await roll.evaluate({async:!0}),roll.toMessage({flavor:game.i18n.format("CoC7.MessageRollingCharacteristic",{label:this.data.data.characteristics.list[key].label,formula})}),input.value=roll.total}else input.value=Number(formula);this.data.data.characteristics.values[key]=Number(input.value),this.rolled||(this.rolled={}),this.rolled[key]=!0}this.checkTotal()}async increaseCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=Number(input.value)+1,this.data.data.characteristics.values[key]=Number(input.value)),this.checkTotal()}async decreaseCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&Number(input.value)>0&&(input.value=Number(input.value)-1,this.data.data.characteristics.values[key]=Number(input.value)),this.checkTotal()}async resetCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=null,this.data.data.characteristics.values[key]=0),this.checkTotal()}async _onChangeInput(event){event.preventDefault();const input=event.currentTarget,value=Number(input.value);isNaN(value)||(this.data.data.characteristics.values[input.name]=value),this.checkTotal()}checkTotal(){this.data.data.characteristics.points.total=0;for(const[key,value]of Object.entries(this.data.data.characteristics.values))"luck"!==key&&(this.data.data.characteristics.points.total+=value);const validation=this._element[0].querySelector(".points");if(this.data.data.characteristics.points.enabled){Number(this.data.data.characteristics.points.total)!==Number(this.data.data.characteristics.points.value)?(validation.classList.add("warning"),this.data.data.validate=!1):(validation.classList.remove("warning"),this.data.data.validate=!0);validation.querySelector(".value").innerText=this.data.data.characteristics.points.value}validation.querySelector(".total").innerText=this.data.data.characteristics.points.total,this.data.data.characteristics.rolls.enabled&&(this.data.data.validate=0===Object.values(this.data.data.characteristics.values).filter((val=>isNaN(parseInt(val)))).length)}async _onSubmit(event){event.preventDefault()}static async create(data){const rolled={};data.characteristics.points.total=0;for(const[key,value]of Object.entries(data.characteristics.values))"luck"!==key&&(data.characteristics.points.total+=value||0),!isNaN(value)&&value>0&&(rolled[key]=!0);data.characteristics.points.enabled&&Number(data.characteristics.points.total)!==Number(data.characteristics.points.value)&&(data.pointsWarning=!0);const html=await renderTemplate("systems/CoC7/templates/apps/char-roll.html",data);return new Promise((resolve=>{new CharacRollDialog({title:data.title,content:html,data,rolled,buttons:{},close:()=>data.validate?resolve(!0):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class SkillSpecSelectDialog{static async create(skills,specializationName,baseValue=null,name=null){const html=await renderTemplate("systems/CoC7/templates/apps/skill-spec-select.html",{hasSkills:skills.length>0,skills,base:baseValue,name});return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:name?game.i18n.format("CoC7.SkillSelectBase",{name}):game.i18n.format("CoC7.SkillSpecSelectTitle",{specialization:specializationName}),content:html,buttons:{validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#skill-select-form")),resolve(formData))}},default:"validate",close:()=>resolve(!1)});dlg.render(!0)}))}}class SkillSpecializationSelectDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","skill-name-dialog"],title:"",template:"systems/CoC7/templates/apps/skill-specialization-select.hbs",width:400,height:"auto",closeOnSubmit:!1})}get title(){return game.i18n.format("CoC7.SkillSpecSelectTitle",{specialization:this.object.specializationName})}activateListeners(html){super.activateListeners(html),html.find(".submit-button").click(this._onClickSubmit.bind(this)),html.find("[name=existing-skill]").change(this._onSelectChange.bind(this))}async _onSelectChange(event){this.object.selected=event.currentTarget.value,this.render(!0)}async _onClickSubmit(event){if(""===this.object.selected){const obj=$(event.currentTarget).closest("form");this.object.name=obj.find("input[name=new-skill-name]").val()??"",this.object.baseValue=obj.find("input[name=base-value]").val()??""}if(""===this.object.selected&&""===this.object.name)return!1;this.object.resolve({selected:this.object.selected,name:this.object.name,baseValue:this.object.baseValue}),this.close()}async _updateObject(event,formData){}static async create({skills=[],allowCustom=!1,fixedBaseValue=!1,specializationName="",label="",baseValue=null}={}){const select=[];for(const skill of skills)select.push({id:skill.id,name:skill.name,base:skill.system.base});return await new Promise((resolve=>{new SkillSpecializationSelectDialog({specializationName,allowCustom,fixedBaseValue,allowSelect:skills.length>0,skills:select,selected:"",name:"",label,baseValue,resolve},{}).render(!0)}))}}class SkillValueDialog{static async create(name=null,baseValue=null){const html=await renderTemplate("systems/CoC7/templates/apps/skill-value.html",{base:baseValue,name});return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:game.i18n.format("CoC7.SkillValue",{name}),content:html,buttons:{validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#skill-select-form")),resolve(formData))}},default:"validate",close:()=>resolve(!1)});dlg.render(!0)}))}}class CoC7MeleeResoltion{constructor(initiatorMessage=null,targetMessage=null,messageId=null){this.initiatorMessage=initiatorMessage,this.targetMessage=targetMessage,this.messageId=messageId}async preCreateMessage(){const html=await renderTemplate(this.template,this),chatData={user:game.user.id,content:html},rollMode=game.settings.get("core","rollMode");["gmroll","blindroll"].includes(rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;const chatMessage=await ChatMessage.create(chatData);return this.messageId=chatMessage.id,chatMessage}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get target(){return this.targetMessage?CoC7MeleeTarget.getFromMessageId(this.targetMessage):null}get targetToken(){return this.target?chatHelper.getTokenFromKey(this.target.actorKey):null}get initiator(){return this.initiatorMessage?CoC7MeleeInitiator.getFromMessageId(this.initiatorMessage):null}get initiatorToken(){return this.initiator?chatHelper.getTokenFromKey(this.initiator.actorKey):null}async resolve(){if(this.target)switch(this.target.action){case"noResponse":this.initiator.roll.successLevel>0?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.action="roll-melee-damage",this.rollDamage=!0):(this.resultString=game.i18n.format("CoC7.InitiatorMissed",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!1),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target;break;case"dodge":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.action="roll-melee-damage",this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.DodgeSuccess",{name:this.target.name}),this.winner=this.target,this.looser=this.initiator,this.winnerImg=this.target.skill.img,this.winnerTitle=this.target.skill.name,this.action="dodge",this.rollDamage=!1);break;case"fightBack":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>=this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.target.name}),this.winner=this.target,this.winnerImg=this.target.weapon.img,this.winnerTitle=this.target.weapon.name,this.looser=this.initiator,this.rollDamage=!0);break;case"maneuver":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>=this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.ManeuverSuccess",{name:this.target.name}),this.winner=this.target,this.winnerImg=this.target.skill.data.img,this.winnerTitle=this.target.skill.name,this.looser=this.initiator,this.rollDamage=!1)}else this.initiator.roll.successLevel>0?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!0):(this.resultString=game.i18n.format("CoC7.InitiatorMissed",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!1);this.winner&&(this.winner.roll.successLevel>=CoC7Check.successLevel.extreme?this.winner.roll.criticalDamage=!0:this.winner.roll.criticalDamage=!1),this.resolved=!0;const html=await renderTemplate(this.template,this);if(this.messageId){const message=game.messages.get(this.messageId),speakerData={};this.winner&&(this.winner.token&&(speakerData.token=this.winner.token.documment),this.winner.actor&&(speakerData.actor=this.winner.actor));const speaker=this.winner?ChatMessage.getSpeaker(speakerData):null,user=this.winner&&this.winner.actor.user?this.winner.actor.user:game.user;let msg;return message?(msg=speaker?await message.update({user:user.id,speaker,content:html}):await message.update({user:user.id,content:html}),await ui.chat.updateMessage(msg,!1),msg):void ui.notifications.warn("Resolition card missing, was deleted ?")}}get template(){return"systems/CoC7/templates/chat/combat/melee-resolution.html"}}class CoC7MeleeTarget extends ChatCardActor{constructor(actorKey,parentMessageId=null,fastForward=!1){super(actorKey,fastForward),this.actorKey=actorKey,this.initiatorKey=null,this.parentMessageId=parentMessageId,this.fastForward=fastForward,this.resolved=!1,this.outnumbered=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.skillId=null,this.itemId=null,this.dodging=!1,this.notResponding=!1,this.fightingBack=!1,this.maneuvering=!1}get actionSelected(){return this.dodging||this.notResponding||this.fightingBack||this.maneuvering}get action(){return this.dodging?"dodge":this.notResponding?"noResponse":this.fightingBack?"fightBack":this.maneuvering?"maneuver":null}get weapon(){return this.actor.items.get(this.itemId)}get skill(){return this.actor.items.get(this.skillId)}set initiatorKey(x){this._initiatorKey=x,this.targetKey=x}get initiatorKey(){return this._initiatorKey||(!this._initiator&&this.parentMessageId&&(this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId)),this._initiator&&(this._initiatorKey=this._initiator.actorKey)),this._initiatorKey?this._initiatorKey:(ui.notifications.error(`No initiator found for target : ${this.actor.name}`),null)}get initiator(){if(!this.initiatorKey){if(!this.parentMessageId)return null;this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId),this.initiatorKey=this._initiator.actorKey}return chatHelper.getActorFromKey(this.initiatorKey)}get meleeInitiator(){return this._initiator||(this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId)),this._initiator}get template(){return"systems/CoC7/templates/chat/combat/melee-target.html"}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],target=CoC7MeleeTarget.getFromCard(card,messageId);return target.messageId=messageId,target}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".melee.target"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const target=CoC7MeleeTarget.getFromCard(card);target.toggleFlag(flag),target.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;this[flag]=!this[flag]}async createChatCard(){const html=await renderTemplate(this.template,this),speakerData={},token=chatHelper.getTokenFromKey(this.actorKey);token?speakerData.token=token.document:speakerData.actor=this.actor;const speaker=ChatMessage.getSpeaker(speakerData);this.actor.isToken&&(speaker.alias=this.actor.token.name);let user=game.user;if(void 0===this.actor.user){let owners=[];const gms=game.users.filter((a=>a.isGM)).map((a=>a.id));for(const[k,v]of Object.entries(this.actor.ownership))if(v===CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER){if("default"===k){owners=game.users.map((a=>a.id));break}gms.includes(k)||owners.push(k)}let content="";switch(owners.length){case 0:break;case 1:void 0!==game.users.get(owners[0])&&(user=game.users.get(owners[0]));break;default:content="<p>"+game.i18n.localize("CoC7.MessageSelectSingleUserForTarget"),content+='<form id="selectform"><select name="user">';for(const k of owners)content=content+'<option value="'+k+'">'+game.users.get(k).name+"</option>";content+="</select></form></p>",await Dialog.prompt({title:game.i18n.localize("CoC7.MessageTitleSelectSingleUserForTarget"),content,callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)"user"===name&&(user=game.users.get(value))}})}}else void 0!==this.actor.user&&(user=this.actor.user);const chatData={user:user.id,speaker,content:html};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;const message=await ChatMessage.create(chatData);return this.messageId=message.id,message}async updateChatCard(){const message=game.messages.get(this.messageId);if(!game.user.isGM&&message.user.id!==game.user.id)return void ui.notifications.info(game.i18n.localize("CoC7.UnableToInteractWithChatCard"));const html=await renderTemplate(this.template,this),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}async getUpdatedChatCard(){renderTemplate(this.template,this).then((html=>html))}static async updateSelected(card,event){const target=CoC7MeleeTarget.getFromCard(card);switch(event.currentTarget.dataset.action){case"dodge":target.dodging=!0,target.notResponding=!1,target.fightingBack=!1,target.maneuvering=!1,target.skillId=event.currentTarget.dataset.skillId,target.itemId=null;break;case"noResponse":target.dodging=!1,target.notResponding=!0,target.fightingBack=!1,target.maneuvering=!1,target.skillId=null,target.itemId=null;break;case"fightBack":target.dodging=!1,target.notResponding=!1,target.fightingBack=!0,target.maneuvering=!1,target.skillId=event.currentTarget.dataset.skillId,target.itemId=event.currentTarget.dataset.weaponId;break;case"maneuver":target.dodging=!1,target.notResponding=!1,target.fightingBack=!1,target.maneuvering=!0,target.skillId=event.currentTarget.dataset.skillId,target.itemId=null}return target.updateChatCard(),target}async performSkillCheck(skillId=null,publish=!1){const check=new CoC7Check;return check.isBlind=!1,check.isUnkonwn=!1,check.referenceMessageId=this.messageId,check.rollType="opposed",check.side="target",check.action=this.action,check.actor=this.actor,check.item=this.itemId,check.skill=skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.diceModifier=0,this.disadvantage&&(check.diceModifier-=1),this.advantage&&(check.diceModifier+=1),await check.roll(),this.check=check,this.rolled=!0,this.resolved=!0,publish&&check.toMessage(),check}async publishNoReponseResult(){this.rolled=!0,this.resolved=!0,this.notResponding=!0;const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id,await this.updateChatCard()}async publishCheckResult(check=null){if(!check&&!this.check)return null;if(check&&(this.check=check),this.roll=CoC7Roll.getFromCheck(this.check),this.rolled=!0,this.roll.rollIcons=[],this.roll.critical){this.roll.rollColor="goldenrod",this.roll.rollTitle=game.i18n.localize("CoC7.CriticalSuccess");for(let index=0;index<4;index++)this.roll.rollIcons.push("medal")}else if(this.roll.fumble){this.roll.rollColor="darkred",this.roll.rollTitle=game.i18n.localize("CoC7.Fumble");for(let index=0;index<4;index++)this.roll.rollIcons.push("spider")}else if(this.roll.success){this.roll.rollColor="goldenrod",CoC7Check.successLevel.regular===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.RegularSuccess")),CoC7Check.successLevel.hard===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.HardSuccess")),CoC7Check.successLevel.extreme===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.ExtremeSuccess"));for(let index=0;index<this.roll.successLevel;index++)this.roll.rollIcons.push("star")}else this.roll.rollColor="black",this.roll.rollTitle=game.i18n.localize("CoC7.Failure"),this.roll.rollIcons.push("skull");const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id,await this.updateChatCard()}static getFromCard(card,messageId=null){const actorKey=card.dataset.actorKey,parentMessageId=card.dataset.parentMessageId,fastForward="true"===card.dataset.fastForward,target=new CoC7MeleeTarget(actorKey,parentMessageId,fastForward);return target.roll=CoC7Roll.getFromCard(card),chatHelper.getObjectFromElement(target,card),card.closest(".message")?target.messageId=card.closest(".message").dataset.messageId:target.messageId=messageId,target}upgradeRoll(luckAmount,newSuccessLevel,oldCard){this.actor.spendLuck(luckAmount)||ui.notifications.error(`${this.actor.name} didn't have enough luck to pass the check`),this.roll.value=null,this.roll.successLevel=newSuccessLevel,this.roll.luckSpent=!0,oldCard.dataset.processed=!1;const diceRolls=oldCard.querySelector(".dice-roll");diceRolls.dataset.value=null,diceRolls.dataset.successLevel=newSuccessLevel,diceRolls.dataset.luckSpent=!0;const resulDetails=oldCard.querySelector(".result-details"),diceTotal=oldCard.querySelector(".dice-total");switch(newSuccessLevel){case CoC7Check.successLevel.regular:diceTotal.innerText=game.i18n.localize("CoC7.RegularSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:diceTotal.innerText=game.i18n.localize("CoC7.HardSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:diceTotal.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:diceTotal.innerText=game.i18n.localize("CoC7.CriticalSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}diceTotal.classList.replace("failure","success"),oldCard.querySelector(".card-buttons").remove(),oldCard.querySelector(".dice-tooltip").style.display="none",CoC7Chat.updateChatCard(oldCard)}}class CoC7RangeInitiator{constructor(actorKey=null,itemId=null,fastForward=!1){this.actorKey=actorKey,this.itemId=itemId,this.fastForward=fastForward,this.resolved=!1,this.cover=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.targetCard=null,this.rolled=!1,this.singleShot=!1,this.multipleShots=!1,this.burst=!1,this.fullAuto=!1,this.tokenKey=null,this.aimed=!1,this.totalBulletsFired=0,this._targets=[];for(const t of[...game.user.targets]){const target=new CoC7RangeTarget(`${t.scene.id}.${t.id}`);target.token=t,this._targets.push(target)}if(this._targets.length)this._targets[0].active=!0;else{const target=new CoC7RangeTarget;target.active=!0,this._targets.push(target)}if(actorKey){const actor=chatHelper.getActorFromKey(actorKey);if(this.token=chatHelper.getTokenFromKey(actorKey),this.token&&(this.tokenKey=actor.tokenKey),itemId){actor.items.get(itemId)&&(this.weapon.singleShot?this.singleShot=!0:this.weapon.system.properties.auto&&(this.fullAuto=!0))}}if(this.tokenKey)for(const t of this._targets)if(t.token&&this.token){t.distance=chatHelper.getDistance(t.token,this.token),t.roundedDistance=Math.round(100*t.distance.value)/100,t.distanceUnit=t.distance.unit;const distInYd=Math.round(100*chatHelper.toYards(t.distance))/100;if(this.actor){t.pointBlankRange=!1;distInYd<=this.actor.system.characteristics.dex.value/15&&(t.pointBlankRange=!0)}this.weapon&&this.weapon.baseRange&&(t.baseRange=!1,t.longRange=!1,t.extremeRange=!1,t.outOfRange=!1,this.weapon.system.properties.shotgun?(distInYd<=this.weapon.baseRange&&(t.baseRange=!0),distInYd>this.weapon.baseRange&&distInYd<=this.weapon.longRange&&(t.longRange=!0),distInYd>this.weapon.longRange&&distInYd<=this.weapon.extremeRange&&(t.extremeRange=!0),distInYd>this.weapon.extremeRange&&(t.outOfRange=!0)):(distInYd<=this.weapon.baseRange&&(t.baseRange=!0),distInYd>this.weapon.baseRange&&distInYd<=2*this.weapon.baseRange&&(t.longRange=!0),distInYd>2*this.weapon.baseRange&&distInYd<=4*this.weapon.baseRange&&(t.extremeRange=!0),distInYd>4*this.weapon.baseRange&&(t.outOfRange=!0)),t.baseRange||t.longRange||t.extremeRange||t.outOfRange||(t.baseRange=!0))}else t.baseRange=!0}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}get actor(){return chatHelper.getActorFromKey(this.actorKey)}get item(){return this.actor.items.get(this.itemId)}get weapon(){return this.item}get targets(){return this._targets||(this._targets=[]),this._targets}get target(){return this.targets&&this.targets.length?this.targets.pop():null}get skills(){return this.actor.getWeaponSkills(this.itemId)}get mainWeaponSkill(){return this.actor.items.get(this.weapon.system.skill.main.id)}get autoWeaponSkill(){return this.weapon.system.skill.alternativ.id?this.actor.items.get(this.weapon.system.skill.alternativ.id):this.mainWeaponSkill}get autoFire(){return this.burst||this.fullAuto}get multiTarget(){return this.fullAuto||this.multipleShots}get aiming(){return void 0===this._aiming&&(this._aiming=this.actor.getActorFlag("aiming")),this._aiming}get activeTarget(){return this._targets.length?this._targets.find((t=>t.active)):null}get shots(){return void 0===this._shots&&(this._shots=[]),this._shots}get currentShotRank(){return this.shots.length+1}get activeTargetShotDifficulty(){return this.shotDifficulty()}set aiming(b){this._aiming=b}get didAnyShotHit(){let anyHit=!1;for(const r of this.rolls)anyHit=anyHit||r.isSuccess;return anyHit}get successfulHits(){const hits=[];for(let index=0;index<this.rolls.length;index++)if(this.rolls[index].isSuccess){const hit={roll:this.rolls[index],shot:this.shots[index]};hits.push(hit)}return 0!==hits.length?hits:null}get shotFired(){return this.shots?this.shots.length:0}get totalAmmo(){return this.weapon.getBulletLeft()}get maxShots(){return this.fullAuto?"∞":this.weapon.system.usesPerRound.max?parseInt(this.weapon.system.usesPerRound.max):1}get ignoreAmmo(){return game.settings.get("CoC7","disregardAmmo")}get ignoreUsesPerRound(){return game.settings.get("CoC7","disregardUsePerRound")}get outOfAmmo(){return!this.ignoreAmmo&&this.totalBulletsFired>=this.weapon.getBulletLeft()}get outOfShots(){return!this.ignoreUsesPerRound&&(!!this.shots&&this.shots.length>=this.maxShots)}get volleySize(){if(!this.weapon.system.properties.auto)return 1;if(this._volleySize)return this._volleySize;const size=Math.floor(this.autoWeaponSkill.value/10);return size<3?3:size}set volleySize(x){x>=Math.floor(this.autoWeaponSkill.value/10)?this._volleySize=Math.floor(this.autoWeaponSkill.value/10):x<=3&&(this._volleySize=3),this._volleySize=parseInt(x)}get isVolleyMinSize(){return 3===this.volleySize}get isVolleyMaxSize(){return(Math.floor(this.autoWeaponSkill.value/10)<3?3:Math.floor(this.autoWeaponSkill.value/10))===this.volleySize}getTargetFromKey(key){return this._targets.find((t=>key===t.actorKey))}calcTargetsDifficulty(){for(const t of this.targets)t.shotDifficulty=this.shotDifficulty(t)}shotDifficulty(t=null){const target=t||this.activeTarget;let damage=this.weapon.system.range.normal.damage;this.weapon.system.properties.shotgun&&(t.longRange&&(damage=this.weapon.system.range.long.damage),t.extremeRange&&(damage=this.weapon.system.range.extreme.damage));let difficulty,modifier=target.modifier;difficulty=this.weapon.system.properties.shotgun?1:target.difficulty;let difficultyName="";if(this.aiming&&1===this.currentShotRank&&modifier++,this.advantage&&modifier++,this.disadvantage&&modifier--,this.reload&&modifier--,this.multipleShots&&!this.fullAuto&&modifier--,this.fullAuto&&(modifier-=this.currentShotRank-1),modifier<-2){difficulty+=Math.abs(modifier+2),difficulty>CoC7Check.difficultyLevel.critical&&(difficulty=CoC7Check.difficultyLevel.impossible),modifier=-2}return CoC7Check.difficultyLevel.regular===difficulty&&(difficultyName="Regular"),CoC7Check.difficultyLevel.hard===difficulty&&(difficultyName="Hard"),CoC7Check.difficultyLevel.extreme===difficulty&&(difficultyName="Extreme"),CoC7Check.difficultyLevel.critical===difficulty&&(difficultyName="Critical"),CoC7Check.difficultyLevel.impossible===difficulty&&(difficultyName="Impossible"),{level:difficulty,name:difficultyName,modifier,damage,impossible:difficulty===CoC7Check.difficultyLevel.impossible}}addShotAtCurrentTarget(){this.calcTargetsDifficulty();const shot={target:this.activeTarget,extremeRange:this.activeTarget.extremeRange,actorKey:this.activeTarget.actorKey,actorName:this.activeTarget.name,difficulty:this.activeTarget.shotDifficulty.level,modifier:this.activeTarget.shotDifficulty.modifier,damage:this.activeTarget.shotDifficulty.damage,bulletsShot:1,transitBullets:0,bulletsShotTransit:1,transit:!1};let bulletLeft=this.totalAmmo-this.totalBulletsFired;if(this.fullAuto){if(this.currentShotRank>1){const previousShot=this.shots[this.currentShotRank-2];if(previousShot.actorKey!==this.activeTarget.actorKey){const distance=chatHelper.getDistance(chatHelper.getTokenFromKey(previousShot.actorKey),chatHelper.getTokenFromKey(this.activeTarget.actorKey));shot.transitBullets=Math.floor(chatHelper.toYards(distance)),shot.transitBullets>=bulletLeft&&!this.ignoreAmmo&&(shot.transitBullets=bulletLeft,bulletLeft=0),this.totalBulletsFired=parseInt(this.totalBulletsFired)+shot.transitBullets,shot.transit=!0}}shot.bulletsShot=this.volleySize,shot.bulletsShot<=3&&(shot.bulletsShot=3),shot.bulletsShot>=bulletLeft&&!this.ignoreAmmo&&(shot.bulletsShot=bulletLeft,bulletLeft=0),shot.bulletsShotTransit=shot.bulletsShot+shot.transitBullets}this.burst&&(shot.bulletsShot=parseInt(this.weapon.system.usesPerRound.burst)?parseInt(this.weapon.system.usesPerRound.burst):1,shot.bulletsShot>=bulletLeft&&!this.ignoreAmmo&&(shot.bulletsShot=bulletLeft,bulletLeft=0)),this.totalBulletsFired=parseInt(this.totalBulletsFired)+shot.bulletsShot,this.aiming&&(this.aiming=!1,this.aimed=!0),this.shots.push(shot)}get template(){return"systems/CoC7/templates/chat/combat/range-initiator.html"}async createChatCard(){this.calcTargetsDifficulty();const html=await renderTemplate(this.template,this),speakerData={},token=chatHelper.getTokenFromKey(this.actorKey);token?speakerData.token=token.document:speakerData.actor=this.actor;const speaker=ChatMessage.getSpeaker(speakerData),chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,content:html},rollMode=game.settings.get("core","rollMode");["gmroll","blindroll"].includes(rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;return await ChatMessage.create(chatData)}async updateChatCard(){this.calcTargetsDifficulty();const html=await renderTemplate(this.template,this),message=game.messages.get(this.messageId),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;"singleShot"===flag||"multipleShots"===flag||"fullAuto"===flag?(this.singleShot=!1,this.multipleShots=!1,this.fullAuto=!1,"fullAuto"===flag&&(this.burst=!1),this[flag]=!0):"burst"===flag?(this.fullAuto=!1,this.singleShot||this.multipleShots||(this.singleShot=!0),this.burst=!this.burst):this[flag]=!this[flag]}async resolveCard(){if(this.rolls=[],this.multiTarget){let weaponMalfunction=!1,index=0;for(;!weaponMalfunction&&this.shots.length>index;){const roll=await this.shootAtTarget(this.shots[index]);roll.dice?.roll&&await CoC7Dice.showRollDice3d(roll.dice.roll),await this.weapon.shootBullets(parseInt(this.shots[index].bulletsShot)+parseInt(this.shots[index].transitBullets)),roll.hasMalfunction&&(roll.isSuccess=!1,weaponMalfunction=!0),index++,this.rolls.push(roll)}}else{const roll=await this.shootAtTarget();roll.dice?.roll&&await CoC7Dice.showRollDice3d(roll.dice.roll);let bulletFired=this.burst?parseInt(this.weapon.system.usesPerRound.burst):1;bulletFired>=this.totalAmmo&&(bulletFired=this.totalAmmo);const shot={target:this.activeTarget,extremeRange:this.activeTarget.extremeRange,actorKey:this.activeTarget.actorKey,actorName:this.activeTarget.name,difficulty:this.activeTarget.shotDifficulty.level,modifier:this.activeTarget.shotDifficulty.modifier,damage:this.activeTarget.shotDifficulty.damage,bulletsShot:bulletFired,transitBullets:0,transit:!1};await this.weapon.shootBullets(bulletFired),roll.hasMalfunction&&(roll.isSuccess=!1),this.shots.push(shot),this.rolls.push(roll)}this.resolved=!0,this.rolled=!0,await this.updateChatCard()}async shootAtTarget(shot=null){const target=shot?this.getTargetFromKey(shot.actorKey):this.activeTarget,check=new CoC7Check;return check.actorKey=this.actorKey,check.actor=this.actorKey,check.item=this.itemId,check.isBlind=!1,check.isUnkonwn=!1,this.autoFire?check.skill=this.autoWeaponSkill:check.skill=this.mainWeaponSkill,this.multiTarget?(check.difficulty=shot.difficulty,check.diceModifier=shot.modifier):(this.calcTargetsDifficulty(),this.totalBulletsFired=parseInt(this.totalBulletsFired)+1,this.aiming&&(this.aiming=!1,this.aimed=!0),check.difficulty=this.activeTarget.shotDifficulty.level,check.diceModifier=this.activeTarget.shotDifficulty.modifier),check.details=`${game.i18n.localize("CoC7.Target")}: ${target.name}`,check.targetKey=target.actorKey,await check.roll(),check}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],initiator=CoC7RangeInitiator.getFromCard(card,messageId);return initiator.messageId=messageId,initiator}changeVolleySize(x){this.volleySize=this.volleySize+x,this.updateChatCard()}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".range.initiator"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const initiator=CoC7RangeInitiator.getFromCard(card);if(event.currentTarget.classList.contains("target-flag")){const target=event.currentTarget.closest(".target"),key=parseInt(target.dataset.targetKey);initiator.targets[key].toggleFlag(camelFlag)}else initiator.toggleFlag(camelFlag);initiator.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}passRoll(rollIndex){const roll=this.rolls[rollIndex],luckAmount=parseInt(roll.luckNeeded);this.actor.spendLuck(luckAmount)?(roll.successLevel=roll.difficulty,roll.isSuccess=!0,roll.luckSpent=!0,this.updateChatCard()):ui.notifications.error(`${this.actor.name} does not have enough luck to pass the check`)}upgradeRoll(rollIndex,upgradeindex){const roll=this.rolls[rollIndex],increasedSuccess=roll.increaseSuccess[upgradeindex],luckAmount=parseInt(increasedSuccess.luckAmount);if(!this.actor.spendLuck(luckAmount))return void ui.notifications.error(`${this.actor.name} does not have enough luck to pass the check`);const newSuccessLevel=parseInt(increasedSuccess.newSuccessLevel);roll.successLevel=newSuccessLevel,roll.difficulty<=newSuccessLevel&&(roll.isSuccess=!0),roll.luckSpent=!0,this.updateChatCard()}static getFromCard(card,messageId=null){const rangeInitiator=new CoC7RangeInitiator;rangeInitiator._targets=[],messageId?rangeInitiator.messageId=messageId:card.closest(".message")&&(rangeInitiator.messageId=card.closest(".message").dataset.messageId),chatHelper.getObjectFromElement(rangeInitiator,card);const cardTargets=card.querySelectorAll(".target");for(const t of cardTargets){const target=CoC7RangeTarget.getFromElement(t);rangeInitiator.targets.push(target)}const cardShots=card.querySelectorAll(".shot");if(cardShots)for(const s of cardShots){const shot={};chatHelper.getObjectFromElement(shot,s),rangeInitiator.shots.push(shot)}rangeInitiator.rolls=[];const rolls=card.querySelectorAll(".roll-result");for(const r of rolls){const roll=CoC7Roll.getFromElement(r);rangeInitiator.rolls.push(roll)}rangeInitiator.damage=[];const damageRolls=card.querySelectorAll(".damage-results");for(const dr of damageRolls){const damageRoll=CoC7Damage.getFromElement(dr);rangeInitiator.damage.push(damageRoll)}return rangeInitiator}async rollDamage(){this.damage=[];const hits=this.successfulHits;for(let i=0;i<hits.length;i++){const h=hits[i],volleySize=parseInt(h.shot.bulletsShot),damageRolls=[];if(volleySize>0){let damageFormula=String(h.shot.damage);damageFormula&&""!==damageFormula||(damageFormula="0");const damageDie=CoC7Damage.getMainDie(damageFormula),maxDamage=new Roll(damageFormula).evaluate({maximize:!0}).total,criticalDamageFormula=this.weapon.impale?`${damageFormula} + ${maxDamage}`:`${maxDamage}`,criticalDamageDie=CoC7Damage.getMainDie(criticalDamageFormula);let impalingShots=0,successfulShots=0,critical=!1;(this.fullAuto||this.burst)&&(successfulShots=Math.floor(volleySize/2)),0===successfulShots&&(successfulShots=1),h.roll.successLevel>=CoC7Check.difficultyLevel.extreme&&(impalingShots=successfulShots,successfulShots=volleySize-impalingShots,critical=!0,CoC7Check.difficultyLevel.critical!==h.roll.successLevel&&(CoC7Check.difficultyLevel.extreme<=h.roll.difficulty||h.shot.extremeRange)&&(successfulShots=volleySize,impalingShots=0,critical=!1));let total=0;for(let index=0;index<successfulShots;index++){const roll=new Roll(damageFormula);await roll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(roll),damageRolls.push({formula:damageFormula,total:roll.total,die:damageDie,critical:!1}),total+=roll.total}for(let index=0;index<impalingShots;index++){const roll=new Roll(criticalDamageFormula);await roll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(roll),damageRolls.push({formula:criticalDamageFormula,total:roll.total,die:criticalDamageDie,critical:!0}),total+=roll.total}let targetName="dummy",target=chatHelper.getTokenFromKey(h.roll.targetKey);target||(target=chatHelper.getActorFromKey(h.roll.targetKey)),target&&(targetName=target.name),this.damage.push({targetKey:h.roll.targetKey,targetName,rolls:damageRolls,total,critical,dealt:!1,resultString:game.i18n.format("CoC7.rangeCombatDamage",{name:targetName,total})})}}this.damageRolled=0!==this.damage.length,this.updateChatCard()}async dealDamage(){for(let dIndex=0;dIndex<this.damage.length;dIndex++){const actor=chatHelper.getActorFromKey(this.damage[dIndex].targetKey);if(null===actor)ui.notifications.error(game.i18n.localize("CoC7.NoTargetToDamage"));else{this.damage[dIndex].totalTaken=0,this.damage[dIndex].totalAbsorbed=0;for(let rIndex=0;rIndex<this.damage[dIndex].rolls.length;rIndex++){const dealtAmount=await actor.dealDamage(this.damage[dIndex].rolls[rIndex].total);this.damage[dIndex].totalTaken+=dealtAmount,this.damage[dIndex].rolls[rIndex].taken=dealtAmount,this.damage[dIndex].rolls[rIndex].absorbed=this.damage[dIndex].rolls[rIndex].total-dealtAmount,this.damage[dIndex].totalAbsorbed+=this.damage[dIndex].rolls[rIndex].total-dealtAmount}this.damage[dIndex].dealt=!0,this.damage[dIndex].resultString=game.i18n.format("CoC7.rangeCombatDamageArmor",{name:this.damage[dIndex].targetName,total:this.damage[dIndex].totalTaken,armor:this.damage[dIndex].totalAbsorbed})}}this.damageDealt=!0,this.updateChatCard()}}class CoC7RangeTarget{constructor(actorKey=null){this.actorKey=actorKey,this.cover=!1,this.pointBlankRange=!1,this.baseRange=!0,this.longRange=!1,this.extremeRange=!1,this.inMelee=!1}get big(){return void 0===this._big&&(this.actor&&this.actor.build?this._big=this.actor.build>=4:this._big=!1),this._big}set big(b){this._big=b}get small(){return void 0===this._small&&(this.actor&&this.actor.build?this._small=this.actor.build<=-2:this._small=!1),this._small}set small(b){this._small=b}get normal(){return!this.big&&!this.small}set normal(b){this._big=!1,this._small=!1}get isFast(){return!(!this.actor||!this.actor.mov)&&this.actor.mov>=8}get fast(){return void 0===this._fast&&(this._fast=!1),this._fast}set fast(b){this._fast=b}get actor(){return this.actorKey&&!this._actor&&(this._actor=chatHelper.getActorFromKey(this.actorKey)),this._actor}get name(){return this.token?this.token.name:this.actor?this.actor.name:"Dummy"}get img(){return this.token&&this.token.document?.texture.src?this.token.document?.texture.src:this.actor?this.actor.data.img:"../icons/svg/mystery-man-black.svg"}get token(){return!this._token&&this.actorKey&&(this._token=chatHelper.getTokenFromKey(this.actorKey)),this._token}get sizeText(){return this.big?game.i18n.localize("CoC7.rangeCombatCard.BigTargetTitle"):this.small?game.i18n.localize("CoC7.rangeCombatCard.SmallTargetTitle"):game.i18n.localize("CoC7.rangeCombatCard.NormalTargetTitle")}get sizeLabel(){return this.big?game.i18n.localize("CoC7.rangeCombatCard.BigTarget"):this.small?game.i18n.localize("CoC7.combatCard.SmallTarget"):game.i18n.localize("CoC7.rangeCombatCard.NormalTarget")}get difficulty(){return this.baseRange||this.pointBlankRange?CoC7Check.difficultyLevel.regular:this.longRange?CoC7Check.difficultyLevel.hard:this.extremeRange?CoC7Check.difficultyLevel.extreme:CoC7Check.difficultyLevel.impossible}get modifier(){let modifier=0;return this.cover&&modifier--,this.pointBlankRange&&modifier++,this.fast&&modifier--,this.small&&modifier--,this.big&&modifier++,this.inMelee&&modifier--,this.surprised&&modifier++,modifier}set token(t){this._token=t}static getFromElement(element){const target=new CoC7RangeTarget;return chatHelper.getObjectFromElement(target,element),target}static changeDisplayedTarget(event){if(!event.currentTarget.classList.contains("target-selector"))return null;return event.currentTarget.closest(".targets").querySelectorAll(".target")}attachToElement(element){chatHelper.attachObjectToElement(this,element)}toggleFlag(flag){"baseRange"===flag||"longRange"===flag||"extremeRange"===flag||"pointBlankRange"===flag?(this.pointBlankRange=!1,this.baseRange=!1,this.longRange=!1,this.extremeRange=!1,this.outOfRange=!1,this[flag]=!0):"size"===flag?this.small?(this.small=!1,this.big=!0):this.big?(this.small=!1,this.big=!1):this.small=!0:this[flag]=!this[flag],"fast"===flag&&this.fast&&!this.isFast&&ui.notifications.warn(game.i18n.format("CoC7.WarnFastTargetWithWrongMOV",{mov:this.actor.mov}))}}const CHAT_COC7_MESSAGE_FAKEROLL='<div class="dice-roll"><div class="dice-result"><div class="dice-formula">???</div><h4 class="dice-total">?</h4></div></div>';class CoC7Chat{static renderChatMessageHook(chatMessage,html){chatMessage.getFlag("CoC7","GMSelfRoll")&&!game.user.isGM&&(html.find(".whisper-to").remove(),html.find(".flavor-text").replaceWith(`<span class="flavor-text">${game.i18n.localize("CoC7.RollSecretDice")}</span>`),html.find(".message-content").replaceWith(`<div class="message-content">${CHAT_COC7_MESSAGE_FAKEROLL}</div>`)),chatMessage.getFlag("CoC7","removeWisperTargets")&&!game.user.isGM&&html.find(".whisper-to").remove(),chatMessage.getFlag("CoC7","fakeRoll")&&game.user.isGM&&(html.find(".flavor-text").replaceWith(game.i18n.localize("CoC7.KeeperSentDecoy")),html.find(".message-content").remove())}static fakeRollMessage(){const chatData={user:game.user.id,flavor:game.i18n.localize("CoC7.RollSecretDice"),whisper:game.users.players,type:CONST.CHAT_MESSAGE_TYPES.WHISPER,flags:{CoC7:{GMSelfRoll:!1,removeWisperTargets:!0,fakeRoll:!0}},content:CHAT_COC7_MESSAGE_FAKEROLL};ChatMessage.create(chatData)}static ready(){game.CoC7="init"}static async chatListeners(app,html){html.on("click",".card-buttons button",CoC7Chat._onChatCardAction.bind(this)),html.on("click",".card-title",CoC7Chat._onChatCardToggleContent.bind(this)),html.on("click",".radio-switch",CoC7Chat._onChatCardRadioSwitch.bind(this)),html.on("click",".panel-switch",CoC7Chat._onChatCardToggleSwitch.bind(this)),html.on("click",".simple-flag",CoC7Chat._onChatCardToggleSwitch.bind(this)),html.on("click",".volley-size",CoC7Chat._onChatCardVolleySize.bind(this)),html.on("click",".dropdown-element",CoC7Chat._onDropDownElementSelected.bind(this)),html.on("click",".simple-toggle",CoC7Chat._onToggleSelected.bind(this)),html.on("click",".target-selector",CoC7Chat._onTargetSelect.bind(this)),html.on("dblclick",".open-actor",CoC7Chat._onOpenActor.bind(this)),CoC7Link.bindEventsHandler(html),html.on("click","coc7-inline-result",CoC7Chat._onInline.bind(this)),OpposedCheckCard.bindListerners(html),CombinedCheckCard.bindListerners(html)}static _onOpenActor(event){event.preventDefault();const actorKey=event.currentTarget.dataset.actorKey;if(actorKey){const actor=chatHelper.getActorFromKey(actorKey);actor.isOwner&&actor.sheet.render(!0)}}static async onUpdateChatMessage(chatMessage){if(ui.chat.scrollBottom(),game.user.isGM&&0===chatMessage.type){const card=$(chatMessage.content)[0];if(card.classList.contains("melee")&&"true"===card.dataset.resolved){if(card.classList.contains("initiator"))if(card.dataset.targetCard){const initiator=CoC7MeleeInitiator.getFromMessageId(chatMessage.id),target=CoC7MeleeTarget.getFromMessageId(initiator.targetCard);if(target.resolved){const resolutionCard=new CoC7MeleeResoltion(chatMessage.id,target.messageId,target.resolutionCard);await resolutionCard.resolve(),initiator.checkRevealed||await initiator.revealCheck()}}else{const initiator=CoC7MeleeInitiator.getFromMessageId(chatMessage.id);if(initiator.resolutionCard){const resolutionCard=new CoC7MeleeResoltion(chatMessage.id,null,initiator.resolutionCard);await resolutionCard.resolve(),initiator.checkRevealed||await initiator.revealCheck()}}if(card.classList.contains("target")){const target=CoC7MeleeTarget.getFromMessageId(chatMessage.id),resolutionCard=new CoC7MeleeResoltion(target.parentMessageId,chatMessage.id,target.resolutionCard);await resolutionCard.resolve(),target.meleeInitiator.checkRevealed||await target.meleeInitiator.revealCheck()}}}}static async renderMessageHook(message,html){if(ui.chat.scrollBottom(),InteractiveChatCard.bindListeners(html),message.getFlag("CoC7","checkRevealed")&&(html.find(".dice-roll").removeClass("gm-visible-only"),html[0].dataset.checkRevealed=!0),html.find(".dropbtn").click((event=>event.currentTarget.closest(".dropdown").querySelector(".dropdown-content").classList.toggle("show"))),html.find(".dropdown").mouseleave((event=>event.currentTarget.querySelector(".dropdown-content").classList.remove("show"))),game.user.isGM){const card=html[0].querySelector(".coc7.chat-card");if(card&&card.classList.contains("roll-card")&&"true"!==card.dataset.processed&&card.dataset.refMessageId){const roll=CoC7Roll.getFromElement(card);"target"===card.dataset.side&&(roll.defendantId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId),"initiator"===card.dataset.side&&(roll.initiatorId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId),card.dataset.processed="true",CoC7Chat.updateCombatCardTarget(roll)}}const userOnly=html.find(".target-only");for(const element of userOnly)if(!game.user.isGM){element.style.display="none";const actorId=element.getAttribute("data-actor-id");actorId&&game.actors.get(actorId).isOwner&&(element.style.display="block")}const gmOnly=html.find(".gm-only");for(const zone of gmOnly)game.user.isGM||(zone.style.display="none");const userVisibleOnly=html.find(".user-visible-only");for(const elem of userVisibleOnly)game.user.isGM&&(elem.style.display="none");const gmVisibleOnly=html.find(".gm-visible-only");for(const elem of gmVisibleOnly)game.user.isGM||game.user.isTrusted&&game.settings.get("CoC7","trustedCanSeeChatCard")||(elem.style.display="none");const ownerVisibleOnly=html.find(".owner-visible-only");for(const zone of ownerVisibleOnly){let actor=CoC7Chat._getActorFromKey(zone.dataset?.actorKey);actor||(actor=CoC7Chat._getChatCardActor(zone.closest(".chat-card"))),actor||(actor=CoC7Chat._getActorFromKey(zone.parentElement.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-actor-key]")?.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-token-key]")?.dataset.actorKey)),(actor&&!actor.isOwner||game.user.isGM)&&(zone.style.display="none")}if(!game.user.isGM){const ownerOnly=html.find(".owner-only");for(const zone of ownerOnly){let actor=CoC7Chat._getActorFromKey(zone.dataset?.actorKey||zone.dataset?.actorId);actor||(actor=CoC7Chat._getChatCardActor(zone.closest(".chat-card"))),actor||(actor=CoC7Chat._getActorFromKey(zone.parentElement.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-actor-key]")?.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-token-key]")?.dataset.actorKey)),(actor&&!actor.isOwner||!actor&&!game.user.isGM)&&(zone.style.display="none")}const gmSelectOnly=html.find(".gm-select-only");if(!game.user.isTrusted||!game.settings.get("CoC7","trustedCanModfyChatCard"))for(const select of gmSelectOnly)select.classList.add("inactive"),select.classList.remove("simple-flag")}}static get actionTypeString(){return{fightBack:"CoC7.fightBack",maneuver:"CoC7.maneuver",dodging:"CoC7.dodge"}}static _onTargetSelect(event){const index=parseInt(event.currentTarget.dataset.key),targetsSelector=event.currentTarget.closest(".targets-selector");for(const i of targetsSelector.querySelectorAll("img"))i.style.border="none";targetsSelector.querySelector(`[data-key="${index}"]`).querySelector("img").style.border="1px solid #000";const targets=event.currentTarget.closest(".targets");for(const t of targets.querySelectorAll(".target"))t.style.display="none",t.dataset.active="false";const targetToDisplay=targets.querySelector(`[data-target-key="${index}"]`);targetToDisplay.style.display="block",targetToDisplay.dataset.active="true"}static _onDropDownElementSelected(event){event.preventDefault();const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("target"))return void CoC7MeleeTarget.updateSelected(card,event);const dropDownBoxes=event.currentTarget.closest(".response-selection").querySelectorAll(".toggle-switch");for(const dpdnBox of dropDownBoxes)dpdnBox.classList.remove("switched-on");event.currentTarget.closest(".toggle-switch").classList.add("switched-on"),event.currentTarget.closest(".dropdown-content").classList.toggle("show");const selectedBox=event.currentTarget.closest(".defender-action-select").querySelector(".selected-action");selectedBox.style.display="block";const button=selectedBox.querySelector("button");switch(button.dataset.action="defending",button.dataset.actionType=event.currentTarget.dataset.action,button.dataset.defenderChoice=event.currentTarget.dataset.action,button.dataset.skillId=event.currentTarget.dataset.skillId,button.dataset.skillValue=event.currentTarget.dataset.skillValue,button.dataset.skillName=event.currentTarget.dataset.skillName,button.dataset.itemId=event.currentTarget.dataset.weaponId,button.dataset.itemName=event.currentTarget.dataset.weaponName,event.currentTarget.dataset.action){case"maneuver":button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.skillName} (${event.currentTarget.dataset.skillValue}%)`;break;case"fightBack":button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.weaponName} (${event.currentTarget.dataset.skillValue}%)`}}static async _onInline(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("inline-result"))return a.classList.contains("expanded")?CoC7Check._collapseInlineResult(a):CoC7Check._expandInlineResult(a)}static _onToggleSelected(event){const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("target"))return void CoC7MeleeTarget.updateSelected(card,event);if(""===event.currentTarget.dataset.skillId)return void ui.notifications.error(game.i18n.localize("CoC7.ErrorNoDodgeSkill"));const dropDownBoxes=event.currentTarget.closest(".response-selection").querySelectorAll(".toggle-switch");for(const dpdnBox of dropDownBoxes)dpdnBox.classList.remove("switched-on");event.currentTarget.classList.add("switched-on");const selectedBox=event.currentTarget.closest(".defender-action-select").querySelector(".selected-action");selectedBox.style.display="block";const button=selectedBox.querySelector("button");button.dataset.action="defending",button.dataset.actionType="dodging",button.dataset.defenderChoice=event.currentTarget.dataset.action,button.dataset.skillId=event.currentTarget.dataset.skillId,button.dataset.skillValue=event.currentTarget.dataset.skillValue,button.dataset.skillName=event.currentTarget.dataset.skillName,button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.skillName} (${event.currentTarget.dataset.skillValue}%)`}static _onChatCardRadioSwitch(event){event.preventDefault();const optionList=event.currentTarget.parentElement.getElementsByClassName("radio-switch");let index;for(index=0;index<optionList.length;index++){const element=optionList[index];element.dataset.property===event.currentTarget.dataset.property?element.classList.add("switched-on"):element.classList.remove("switched-on")}event.currentTarget.parentElement.dataset.selected=event.currentTarget.dataset.property}static async _onChatCardVolleySize(event){const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("range")&&card.classList.contains("initiator")){const rangeCard=CoC7RangeInitiator.getFromCard(card);event.currentTarget.classList.contains("increase")?rangeCard.changeVolleySize(1):event.currentTarget.classList.contains("decrease")&&rangeCard.changeVolleySize(-1)}}static async _onChatCardToggleSwitch(event){event.preventDefault();const card=event.currentTarget.closest(".chat-card");card.classList.contains("melee")&&(card.classList.contains("initiator")&&CoC7MeleeInitiator.updateCardSwitch(event),card.classList.contains("target")&&CoC7MeleeTarget.updateCardSwitch(event)),card.classList.contains("range")&&card.classList.contains("initiator")&&CoC7RangeInitiator.updateCardSwitch(event),card.classList.contains("damage"),card.classList.contains("roll-card")&&CoC7Check.updateCardSwitch(event)}static _getChatCardActor(card){const cardData=card.dataset.object?JSON.parse(unescape(card.dataset.object)):card.dataset;if(cardData.actorKey)return CoC7Chat._getActorFromKey(cardData.actorKey);const tokenKey=cardData.tokenId;if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token.actor||new Token(tokenData).actor:null}}const actorId=cardData.actorId;if(actorId)return game.actors.get(actorId);const message=card.closest(".message"),messageId=message?message.dataset.messageId:null;if(messageId){const chatMessage=game.messages.get(messageId);if(chatMessage.user)return chatMessage.user.character}return null}static isCardOwner(card){const message=card.closest(".message"),messageId=message?message.dataset.messageId:null;if(messageId){return game.messages.get(messageId).ownner||!1}return!1}static _getActorFromKey(key){if(key){if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token.actor||new Token(tokenData).actor:null}}return game.actors.get(key)||null}}static getActorFromToken(tokenKey){const token=CoC7Chat.getToken(tokenKey);return token?token.actor:null}static getToken(tokenKey){if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId){const tokenDoc=game.actors.tokens[tokenId]?.token;return tokenDoc.object}{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token||new Token(tokenData):null}}return null}static async updateChatCard(card,messId=null){const messageId=null==messId?card.closest(".message").dataset.messageId:messId,message=game.messages.get(messageId),msg=await message.update({content:card.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}static async _onChatCardAction(event){event.preventDefault();const button=event.currentTarget,card=button.closest(".chat-card");if(!card)return;const originMessage=button.closest(".message"),action=button.dataset.action;if(CoC7Chat._getChatCardActor(card))switch(action){case"useLuck":{const luckAmount=parseInt(button.dataset.luckAmount),newSuccessLevel=parseInt(event.currentTarget.dataset.newSuccessLevel);if(card.classList.contains("melee")){let meleeCard;card.classList.contains("target")&&(meleeCard=CoC7MeleeTarget.getFromCard(card)),card.classList.contains("initiator")&&(meleeCard=CoC7MeleeInitiator.getFromCard(card)),meleeCard.upgradeRoll(luckAmount,newSuccessLevel,card)}else if(card.classList.contains("range")){const rangeCard=CoC7RangeInitiator.getFromCard(card),rollResult=button.closest(".roll-result"),rollIndex=rollResult?parseInt(rollResult.dataset.index):null;if(button.classList.contains("pass-check"))rangeCard.passRoll(rollIndex);else{const upgradeIndex=parseInt(button.dataset.index);rangeCard.upgradeRoll(rollIndex,upgradeIndex)}}else if(card.classList.contains("roll-card")||null!=card.querySelector(".roll-result")){const check=await CoC7Check.getFromCard(card);if(button.classList.contains("pass-check")){const luckAmount=parseInt(button.dataset.luckAmount);check.forcePass(luckAmount)}else{const upgradeIndex=parseInt(button.dataset.index);await check.upgradeCheck(upgradeIndex)}}else{const actor=CoC7Chat._getChatCardActor(card),detailedResultPlaceHolder=card.querySelector(".result-details");if(actor.spendLuck(luckAmount)){const result=card.querySelector(".dice-total");switch(card.dataset.successLevel=newSuccessLevel,card.dataset.processed="false",newSuccessLevel){case CoC7Check.successLevel.regular:result.innerText=game.i18n.localize("CoC7.RegularSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:result.innerText=game.i18n.localize("CoC7.HardSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:result.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:result.innerText=game.i18n.localize("CoC7.CriticalSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}result.classList.replace("failure","success"),result.classList.remove("fumble"),card.querySelector(".card-buttons").remove(),card.querySelector(".dice-tooltip").style.display="none",await CoC7Chat.updateChatCard(card)}else ui.notifications.error(game.i18n.format("CoC7.ErrorNotEnoughLuck",{actor:actor.name}))}break}case"push":{const newCard=card.cloneNode(!0),result=newCard.querySelector(".dice-total");result.innerText=result.innerText+game.i18n.localize("CoC7.PushingSkill"),result.classList.remove("failure"),newCard.querySelector(".card-buttons").remove(),newCard.dataset.pushedRoll=!0,await CoC7Chat.updateChatCard(newCard,originMessage.dataset.messageId),await CoC7Check.push(card);break}case"defending":{let defender,defenderKey=event.currentTarget.closest(".defender-action-select").dataset.tokenId;defenderKey?defender=this.getActorFromToken(defenderKey):(defenderKey=event.currentTarget.closest(".defender-action-select").dataset.actorId,defender=game.actors.get(defenderKey));const responseType=event.currentTarget.dataset.actionType,outnumbered="true"===event.currentTarget.dataset.outnumbered,check=new CoC7Check;switch(check.referenceMessageId=originMessage.dataset.messageId,check.rollType="opposed",check.side="target",check.action=responseType,responseType){case"dodging":check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,outnumbered&&(check.diceModifier=-1),await check.roll(),check.toMessage();break;case"fightBack":check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.item=event.currentTarget.dataset.itemId,outnumbered&&(check.diceModifier=-1),await check.roll(),check.toMessage();break;case"maneuver":{const actor=CoC7Chat._getChatCardActor(card);if(defender.build<=actor.build-3)return void ui.notifications.error(game.i18n.localize("CoC7.ErrorManeuverNotPossible"));check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,outnumbered&&(check.diceModifier=-1),defender.build<actor.build&&(check.diceModifier=check.diceModifier-(actor.build-defender.build)),check.diceModifier<-2&&(check.difficulty=check.difficulty+Math.abs(check.diceModifier)-2,check.diceModifier=-2),await check.roll(),check.toMessage();break}}break}case"melee-initiator-roll":{const initiator=CoC7MeleeInitiator.getFromCard(card),check=await initiator.performSkillCheck(event.currentTarget.dataset.skill);$(button).prop("disabled",!0),await CoC7Dice.showRollDice3d(check.dice.roll),await initiator.publishCheckResult();break}case"melee-target-no-response":{const target=CoC7MeleeTarget.getFromCard(card);await target.publishNoReponseResult();break}case"melee-target-roll":{const target=CoC7MeleeTarget.getFromCard(card),check=await target.performSkillCheck(event.currentTarget.dataset.skill);$(button).prop("disabled",!0),await CoC7Dice.showRollDice3d(check.dice.roll),await target.publishCheckResult();break}case"roll-melee-damage":{const damageChatCard=new DamageCard({critical:"true"===button.dataset.critical,fastForward:event.shiftKey});damageChatCard.actorKey=button.dataset.dealer,damageChatCard.targetKey=button.dataset.target,damageChatCard.itemId=button.dataset.weapon,originMessage.dataset.messageId&&(damageChatCard.messageId=originMessage.dataset.messageId),damageChatCard.updateChatCard();break}case"range-initiator-shoot":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);rangeInitiator.addShotAtCurrentTarget(),await rangeInitiator.updateChatCard();break}case"range-initiator-roll":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.resolveCard();break}case"roll-range-damage":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.rollDamage();break}case"deal-melee-damage":{const targetKey=card.dataset.targetKey,amount=card.dataset.result,targetActor=chatHelper.getActorFromKey(targetKey);await targetActor.dealDamage(amount);const buttons=card.querySelector(".card-buttons"),diceTotal=card.querySelector(".dice-total");$(diceTotal).append('<i class="fas fa-check"></i>'),buttons&&buttons.remove(),await CoC7Chat.updateChatCard(card);break}case"deal-range-damage":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.dealDamage();break}case"testcheck":(await CoC7Check.getFromCard(card)).forcePass();break;case"force-pass":(await CoC7Check.getFromCard(card)).forcePass();break;case"force-fail":(await CoC7Check.getFromCard(card)).forceFail();break;case"increase-success-level":(await CoC7Check.getFromCard(card)).increaseSuccessLevel();break;case"decrease-success-level":(await CoC7Check.getFromCard(card)).decreaseSuccessLevel();break;case"reveal-check":{const check=await CoC7Check.getFromCard(card);check.isBlind=!1,check.computeCheck(),isCtrlKey(event),check.updateChatCard({makePublic:!0});break}case"roll-check-card":{const check=await CoC7Check.getFromCard(card);check.standby=!1,await check._perform(),check.updateChatCard({forceRoll:!0});break}case"flag-for-development":{const check=await CoC7Check.getFromCard(card);await check.flagForDevelopement(),check.computeCheck(),check.updateChatCard();break}case"reset-creature-san-data":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.clearSanLossReason(),await sanCheck.updateChatCard();break}case"roll-san-check":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollSan(),await sanCheck.updateChatCard();break}case"advance-state":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.advanceState(button.dataset.state),await sanCheck.updateChatCard();break}case"roll-san-loss":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollSanLoss(),sanCheck.updateChatCard();break}case"roll-int-check":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollInt(),sanCheck.updateChatCard();break}case"roll-con-check":{const conCheck=CoC7ConCheck.getFromCard(card);await conCheck.rollCon(),conCheck.updateChatCard();break}case"reveal-con-check":{const conCheck=CoC7ConCheck.getFromCard(card);conCheck.isBlind=!1,conCheck.updateChatCard();break}}}static _onChatCardToggleContent(event){event.preventDefault();const content=event.currentTarget.closest(".chat-card").querySelector(".card-content");content&&(content.style.display?content.style.display="none"===content.style.display?"block":"none":content.style.display="block")}}class CoC7MeleeInitiator extends ChatCardActor{constructor(actorKey=null,itemId=null,fastForward=!1){super(actorKey,fastForward),this.itemId=itemId,this.resolved=!1,this.outnumbered=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.targetCard=null,this.rolled=!1}get template(){return"systems/CoC7/templates/chat/combat/melee-initiator.html"}async revealCheck(){const chatMessage=game.messages.get(this.messageId);await chatMessage.setFlag("CoC7","checkRevealed",!0),await ui.chat.updateMessage(chatMessage,!1)}async createChatCard(){chatHelper.getActorImgFromKey(this.actorKey);const html=await renderTemplate(this.template,this),speakerData={};this.token?speakerData.token=this:speakerData.actor=this;const speaker=ChatMessage.getSpeaker(speakerData),chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,content:html};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;return await ChatMessage.create(chatData)}async updateChatCard(){const html=await renderTemplate(this.template,this),message=game.messages.get(this.messageId),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;this[flag]=!this[flag]}async performSkillCheck(skillId=null,publish=!1){const check=new CoC7Check;if(check.isBlind=!1,check.isUnkonwn=!1,check.referenceMessageId=this.messageId,check.rollType="opposed",check.side="initiator",check.action="attack",check.actor=this.actorKey,check.item=this.itemId,check.skill=skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.diceModifier=0,game.user.isGM?this.checkRevealed=!1:this.checkRevealed=!0,this.outnumbered&&(check.diceModifier+=1),this.surprised&&(check.diceModifier+=1),this.disadvantage&&(check.diceModifier-=1),this.advantage&&(check.diceModifier+=1),await check.roll(),this.check=check,this.rolled=!0,this.resolved=!0,publish&&check.toMessage(),this.criticalDamage=check.successLevel===CoC7Check.successLevel.extreme||check.successLevel===CoC7Check.successLevel.critical,this.hasTarget&&!this.autoSuccess){const message=await game.CoC7socket.executeAsGM("gmcreatemessageas",{targetKey:this.targetKey,messageId:this.messageId,fastForward:this.fastForward,actorKey:this.actorKey});this.targetCard=message.id||message._id}return this.autoSuccess&&!this.check.isFumble&&this.check.forcePass(),check}async publishCheckResult(check=null){if(!check&&!this.check)return null;if(check&&(this.check=check),this.roll=CoC7Roll.getFromCheck(this.check),this.rolled=!0,this.roll.rollIcons=[],this.roll.critical){this.roll.rollColor="goldenrod",this.roll.rollTitle=game.i18n.localize("CoC7.CriticalSuccess");for(let index=0;index<4;index++)this.roll.rollIcons.push("medal")}else if(this.roll.fumble){this.roll.rollColor="darkred",this.roll.rollTitle=game.i18n.localize("CoC7.Fumble");for(let index=0;index<4;index++)this.roll.rollIcons.push("spider")}else if(this.roll.success){this.roll.rollColor="goldenrod",CoC7Check.successLevel.regular===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.RegularSuccess")),CoC7Check.successLevel.hard===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.HardSuccess")),CoC7Check.successLevel.extreme===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.ExtremeSuccess"));for(let index=0;index<this.roll.successLevel;index++)this.roll.rollIcons.push("star")}else this.roll.rollColor="black",this.roll.rollTitle=game.i18n.localize("CoC7.Failure"),this.roll.rollIcons.push("skull");if(!this.targetCard&&!this.autoSuccess&&this.hasTarget){const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id}await this.updateChatCard()}static getFromCard(card,messageId=null){const initiator=new CoC7MeleeInitiator;return chatHelper.getObjectFromElement(initiator,card),initiator.roll=CoC7Roll.getFromCard(card),card.closest(".message")?initiator.messageId=card.closest(".message").dataset.messageId:initiator.messageId=messageId,initiator}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],initiator=CoC7MeleeInitiator.getFromCard(card,messageId);return initiator.messageId=messageId,initiator}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".melee.initiator"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const initiator=CoC7MeleeInitiator.getFromCard(card);initiator.toggleFlag(flag),initiator.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}upgradeRoll(luckAmount,newSuccessLevel,oldCard){this.actor.spendLuck(luckAmount)||ui.notifications.error(game.i18n.format("CoC7.LuckNotEnough",{name:this.actor.name})),this.roll.value=null,this.roll.successLevel=newSuccessLevel,this.roll.luckSpent=!0,oldCard.dataset.processed=!1;const diceRolls=oldCard.querySelector(".dice-roll");diceRolls.dataset.value=null,diceRolls.dataset.successLevel=newSuccessLevel,diceRolls.dataset.luckSpent=!0;const resulDetails=oldCard.querySelector(".result-details"),diceTotal=oldCard.querySelector(".dice-total"),rollDamageButton=oldCard.querySelector('button[data-action="roll-melee-damage"]');switch(rollDamageButton&&rollDamageButton.classList.remove("invisible"),newSuccessLevel){case CoC7Check.successLevel.regular:diceTotal.innerText=game.i18n.localize("CoC7.RegularSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:diceTotal.innerText=game.i18n.localize("CoC7.HardSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:rollDamageButton&&(rollDamageButton.dataset.critical=!0),diceTotal.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:rollDamageButton&&(rollDamageButton.dataset.critical=!0),diceTotal.innerText=game.i18n.localize("CoC7.CriticalSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}diceTotal.classList.replace("failure","success"),oldCard.querySelector(".card-buttons").remove(),oldCard.querySelector(".dice-tooltip").style.display="none",CoC7Chat.updateChatCard(oldCard)}}class CoCActor extends Actor{constructor(data,context){if(data.type in CONFIG.Actor.documentClasses&&!context?.extended)return new CONFIG.Actor.documentClasses[data.type](data,{extended:!0,...context});super(data,context)}async initialize(){super.initialize(),await this.creatureInit()}prepareBaseData(){if(["character","npc","creature"].includes(this.type)){this.system.skills={};for(const i of this.items)"skill"===i.type&&(this.system.skills[`${i.itemIdentifier}`]={foundryID:i.id,cocid:i.flags?.CoC7?.cocidFlag?.id,value:i.rawValue,bonusDice:i.system.bonusDice});if(void 0===this.system.attribs.san.dailyLimit)if(this.system.attribs.san.oneFifthSanity){const s=this.system.attribs.san.oneFifthSanity.split("/");s[1]&&!isNaN(Number(s[1]))?this.system.attribs.san.dailyLimit=Number(s[1]):this.system.attribs.san.dailyLimit=0}else this.system.attribs.san.dailyLimit=0;this.system.attribs.mov.value=this.rawMov,this.system.attribs.db.value=this.rawDb,this.system.attribs.build.value=this.rawBuild,this.system.attribs.build.current=this.hp}super.prepareBaseData()}prepareEmbeddedDocuments(){super.prepareEmbeddedDocuments()}prepareDerivedData(){if(["character","npc","creature"].includes(this.type)){super.prepareDerivedData(),this.system.attribs.mov.value=this.rawMov,this.system.attribs.db.value=this.rawDb,this.system.attribs.build.value=this.rawBuild,this.system.attribs.hp.max=this.rawHpMax,null===this.hp&&(this.system.attribs.hp.value=this.rawHpMax),this.system.attribs.mp.max=this.rawMpMax,null===this.mp&&(this.system.attribs.mp.value=this.rawMpMax),this.system.attribs.san.max=this.rawSanMax,null===this.san&&(this.system.attribs.san.value=this.rawSanMax);const filterMatrix=[];this.system.attribs.hp.auto&&filterMatrix.push("system.attribs.hp.max"),this.system.attribs.mp.auto&&filterMatrix.push("system.attribs.mp.max"),this.system.attribs.san.auto&&filterMatrix.push("system.attribs.san.max"),this.system.attribs.mov.auto&&filterMatrix.push("system.attribs.mov.value"),this.system.attribs.db.auto&&filterMatrix.push("system.attribs.db.value"),this.system.attribs.build.auto&&filterMatrix.push("system.attribs.build.value");const changes=this.effects.reduce(((changes,e)=>e.disabled||e.isSuppressed?changes:changes.concat(e.changes.map((c=>((c=foundry.utils.duplicate(c)).effect=e,c.priority=c.priority??10*c.mode,c))))),[]);changes.sort(((a,b)=>a.priority-b.priority));const selectChanges=changes.filter((e=>filterMatrix.includes(e.key)));for(const change of selectChanges)change.effect.apply(this,change);this.hpMax&&this.hpMax<this.hp&&(this.system.attribs.hp.value=this.hpMax),this.mpMax&&this.mpMax<this.mp&&(this.system.attribs.mp.value=this.mpMax),this.sanMax&&this.sanMax<this.san&&(this.system.attribs.san.value=this.sanMax)}}static async create(data,options={}){return"character"===data.type?data.prototypeToken=mergeObject(data.prototypeToken||{},{actorLink:!0,disposition:1,sight:{enabled:!0}}):"npc"===data.type?void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="systems/CoC7/assets/icons/cultist.svg"):"creature"===data.type?void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="systems/CoC7/assets/icons/floating-tentacles.svg"):"container"===data.type&&(void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="icons/svg/chest.svg"),data.prototypeToken=mergeObject(data.prototypeToken||{},{actorLink:!0})),super.create(data,options)}checkUndefinedAuto(){const returnData={attribs:{hp:{},mp:{},san:{},mov:{},db:{},build:{}}};return void 0===this.system.attribs?.hp?.auto&&(returnData.attribs.hp.auto=!0),void 0===this.system.attribs?.mp?.auto&&(returnData.attribs.mp.auto=!0),void 0===this.system.attribs?.san?.auto&&(returnData.attribs.san.auto=!0),void 0===this.system.attribs?.mov?.auto&&(returnData.attribs.mov.auto=!0),void 0===this.system.attribs?.db?.auto&&(returnData.attribs.db.auto=!0),void 0===this.system.attribs?.build?.auto&&(returnData.attribs.build.auto=!0),returnData}get characteristics(){const characteristics={str:{value:null,shortName:"CHARAC.STR",label:"CHARAC.Strength",formula:null},con:{value:null,shortName:"CHARAC.CON",label:"CHARAC.Constitution",formula:null},siz:{value:null,shortName:"CHARAC.SIZ",label:"CHARAC.Size",formula:null},dex:{value:null,shortName:"CHARAC.DEX",label:"CHARAC.Dexterity",formula:null},app:{value:null,shortName:"CHARAC.APP",label:"CHARAC.Appearance",formula:null},int:{value:null,shortName:"CHARAC.INT",label:"CHARAC.Intelligence",formula:null},pow:{value:null,shortName:"CHARAC.POW",label:"CHARAC.Power",formula:null},edu:{value:null,shortName:"CHARAC.EDU",label:"CHARAC.Education",formula:null}};if(this.system.characteristics)for(const[key,value]of Object.entries(this.system.characteristics))characteristics[key]={key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label),value:value.value,hard:Math.floor(value.value/2)||null,extreme:Math.floor(value.value/5)||null,formula:value.formula};return characteristics}static async initToken(createData){}get hasTempoInsane(){return this.hasConditionStatus(COC7.status.tempoInsane)}get getTempoInsaneDurationText(){return this.hasConditionValue(COC7.status.tempoInsane,"durationText")}get hasIndefInsane(){return this.hasConditionStatus(COC7.status.indefInsane)}get portrait(){return game.settings.get("CoC7","useToken")&&(this.token?.texture?.src||this.prototypeToken?.texture?.src)||this.img}async enterBoutOfMadness(realTime=!0,duration=1){let result=null;const boutOfMadnessTableId=realTime?game.settings.get("CoC7","boutOfMadnessRealTimeTable"):game.settings.get("CoC7","boutOfMadnessSummaryTable");if("none"!==boutOfMadnessTableId){result={phobia:!1,mania:!1,description:null};const boutOfMadnessTable=game.tables.get(boutOfMadnessTableId);if(result.tableRoll=await boutOfMadnessTable.roll(),void 0!==result.tableRoll.results[0]){if(CONST.TABLE_RESULT_TYPES.DOCUMENT===result.tableRoll.results[0].type){const item=game.items.get(result.tableRoll.results[0].documentId);if(void 0!==item){item.system?.type?.phobia&&(result.phobia=!0),item.system?.type?.mania&&(result.mania=!0),result.description=`${item.name}:${TextEditor.enrichHTML(item.system.description.value,{async:!1})}`,result.name=item.name;const itemData=item.toObject();delete itemData._id,await this.createEmbeddedDocuments("Item",[itemData])}else ui.notifications.error(game.i18n.localize("CoC7.MessageBoutOfMadnessItemNotFound"))}CONST.TABLE_RESULT_TYPES.TEXT===result.tableRoll.results[0].type&&(result.description=TextEditor.enrichHTML(result.tableRoll.results[0].text,{async:!1}))}else ui.notifications.error(game.i18n.localize("CoC7.MessageBoutOfMadnessTableNotFound"))}return realTime?(this.setCondition(COC7.status.tempoInsane,{realTime,duration}),result):result}static emptySkill(skillName,value,{rarity=!1,push=!0,combat=!1,img=!1,specialization=!1}={}){const data={name:skillName,type:"skill",system:{value,skillName,specialization:"",properties:{special:!1,rarity,push,combat}}};if(!1!==img&&(data.img=img),!1!==specialization){const parts=CoC7Item.getNamePartsSpec(skillName,specialization);data.system.specialization=parts.specialization,data.system.skillName=parts.skillName,data.name=parts.name,data.system.properties.special=!0}return data}async createSkill(skillName,value,showSheet=!1){const data=CoCActor.emptySkill(skillName,value);return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createWeaponSkill(name,firearms=!1,base=null){const skillData=await SkillSpecSelectDialog.create([],game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName"),0,name),value=Number(skillData.get("base-value")),parts=CoC7Item.getNamePartsSpec(name,game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName")),data={name:parts.name,type:"skill",system:{base:isNaN(value)?0:value,adjustments:{personal:null,occupation:null,archetype:null,experience:null},skillName:parts.skillName,specialization:parts.specialization,properties:{special:!0,fighting:!firearms,firearm:firearms,combat:!0}}};await this.createEmbeddedDocuments("Item",[data],{renderSheet:!base});return this.getSkillsByName(name)[0]}async creatureInit(){if("creature"!==this.type)return;if(this.getActorFlag("initialized"))return;if(0===this.getSkillsByName(game.i18n.localize(COC7.creatureFightingSkill)).length){try{const parts=CoC7Item.getNamePartsSpec(game.i18n.localize(COC7.creatureFightingSkill),game.i18n.localize(COC7.fightingSpecializationName)),data={type:"skill",name:parts.name,system:{base:0,value:null,skillName:parts.skillName,specialization:parts.specialization,properties:{combat:!0,fighting:!0,special:!0},flags:{}}},skill=await this.createEmbeddedDocuments("Item",[data],{renderSheet:!1}),attack=await this.createEmbeddedDocuments("Item",[{name:"Innate attack",type:"weapon",system:{description:{value:"Creature's natural attack",chat:"Creature's natural attack"},wpnType:"innate",properties:{addb:!0,slnt:!0}}}],{renderSheet:!1});if(skill.length>0&&attack.length>0){const createdAttack=this.items.get(attack[0].id);await createdAttack.update({"system.skill.main.id":skill[0].id,"system.skill.main.name":skill[0].name})}}catch(err){console.error("Creature init: "+err.message)}await this.setActorFlag("initialized")}}async createItem(itemName,quantity=1,showSheet=!1){const data={name:itemName,type:"item",system:{quantity}};return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptyBook(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newBookName)))return this.createBook(game.i18n.localize(COC7.newBookName),showSheet);let index=0,itemName=game.i18n.localize(COC7.newBookName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newBookName)+" "+index;return this.createBook(itemName,showSheet)}async createBook(itemName,showSheet=!1){const data={name:itemName,type:"book",system:{}};return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptySpell(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newSpellName)))return this.createSpell(game.i18n.localize(COC7.newSpellName),showSheet);let index=0,itemName=game.i18n.localize(COC7.newSpellName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newSpellName)+" "+index;return this.createSpell(itemName,showSheet)}static emptySpell(itemName){return{name:itemName,type:"spell",system:{}}}async createSpell(itemName,showSheet=!1){const data=CoCActor.emptySpell(itemName);return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptySkill(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newSkillName)))return this.createSkill(game.i18n.localize(COC7.newSkillName),"character"!==this.type?1:null,showSheet);let index=0,skillName=game.i18n.localize(COC7.newSkillName)+" "+index;for(;this.getItemIdByName(skillName);)index++,skillName=game.i18n.localize(COC7.newSkillName)+" "+index;return this.createSkill(skillName,null,showSheet)}async createEmptyItem(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newItemName)))return this.createItem(game.i18n.localize(COC7.newItemName),1,showSheet);let index=0,itemName=game.i18n.localize(COC7.newItemName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newItemName)+" "+index;return this.createItem(itemName,1,showSheet)}async createEmptyWeapon(event=null,properties={}){const showSheet=!event||!event.shiftKey;let weaponName=game.i18n.localize(COC7.newWeaponName);if(this.getItemIdByName(game.i18n.localize(COC7.newWeaponName))){let index=0;for(weaponName=game.i18n.localize(COC7.newWeaponName)+" "+index;this.getItemIdByName(weaponName);)index++,weaponName=game.i18n.localize(COC7.newWeaponName)+" "+index}const data={name:weaponName,type:"weapon",system:{properties:{}}};for(const[key]of Object.entries(COC7.weaponProperties))data.system.properties[key]=Object.prototype.hasOwnProperty.call(properties,key)??!1;await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createBioSection(title=null){const bio=this.system.biography?duplicate(this.system.biography):[];bio.push({title,value:null}),await this.update({"system.biography":bio},{renderSheet:!1})}async updateBioValue(index,content){const bio=duplicate(this.system.biography);bio[index].value=content,await this.update({"system.biography":bio},{render:!1})}async updateBioTitle(index,title){const bio=duplicate(this.system.biography);bio[index].title=title,await this.update({"system.biography":bio})}async deleteBioSection(index){const bio=duplicate(this.system.biography);bio.splice(index,1),await this.update({"system.biography":bio})}async moveBioSectionUp(index){if(0===index)return;const bio=duplicate(this.system.biography);if(index>=bio.length)return;const elem=bio.splice(index,1)[0];bio.splice(index-1,0,elem),await this.update({"system.biography":bio})}async moveBioSectionDown(index){const bio=duplicate(this.system.biography);if(index>=bio.length-1)return;const elem=bio.splice(index,1)[0];bio.splice(index+1,0,elem),await this.update({"system.biography":bio})}async updateTextArea(textArea){const name="system."+textArea.dataset.areaName;await this.update({[name]:textArea.value})}async createEmbeddedDocuments(embeddedName,dataArray,options){const processedDataArray=[];let baseValue=0,baseCalculated=0,archetype=!1,occupation=!1;for(let data of dataArray)switch(data.type){case"skill":{if(baseValue=data.system.base,baseCalculated=await CoC7Item.calculateBase(this,data),"character"!==this.type){if(this.getItemIdByName(data.name))return;if(baseValue&&String(baseValue)!==String(data.system.value)&&(data.system.value=baseCalculated),isNaN(Number(data.system.value))){let value;try{value=(await new Roll(data.system.value,this.parseCharacteristics()).evaluate({async:!0})).total}catch(err){value=null}value&&(data.system.value=Math.floor(value))}}else data.system.value=null;let addThis=!0;if(CoC7Item.isAnySpec(data)){const isAnyButNotFlagged=(!data.system.properties?.requiresname??!1)&&!data.system.properties?.picknameonly;let skillList=[];const group=game.system.api.cocid.guessGroupFromDocument(data);if(group&&(skillList=(await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(group)+".+$"),type:"i"})).filter((item=>(item.system.properties?.special??!1)&&!item.system.properties?.requiresname&&!item.system.properties?.picknameonly))),data.system?.flags?.occupation||data.system?.flags?.archetype){const existingSkills=this.skills.filter((el=>!!el.system.specialization&&((!data.system?.flags?.occupation||!el.system.flags?.occupation)&&((!data.system?.flags?.archetype||!el.system.flags?.archetype)&&data.system.specialization.toLocaleLowerCase()===el.system.specialization.toLocaleLowerCase()))));if(existingSkills.length>0)if(skillList.length>0){for(let i=existingSkills.length-1;i>=0;i--){const found=skillList.findIndex((item=>item.name===existingSkills[i].name||item.flags?.CoC7?.cocidFlag?.id===existingSkills[i].flags?.CoC7?.cocidFlag?.id));found>-1&&skillList.splice(found,1)}skillList=skillList.concat(existingSkills)}else skillList=existingSkills}skillList.length>0&&skillList.sort(CoC7Utilities.sortByNameKey);const skillData=await SkillSpecializationSelectDialog.create({skills:skillList,allowCustom:isAnyButNotFlagged||(data.system.properties?.requiresname??!1),fixedBaseValue:data.system.properties?.keepbasevalue??!1,specializationName:data.system.specialization,label:data.name,baseValue:data.system.base});if(Object.prototype.hasOwnProperty.call(skillData,"selected"))if(skillData.selected){const existingItem=this.items.get(skillData.selected);if(existingItem){const changes={};data.system.properties?.keepbasevalue||""!==skillData.baseValue&&(baseCalculated=skillData.baseValue,changes["system.value"]=baseCalculated);for(const[key,value]of Object.entries(data.system.flags))value&&(changes[`system.flags.${key}`]=!0);Object.keys(changes).length>0&&(changes._id=existingItem.id,await this.updateEmbeddedDocuments("Item",[changes])),data.name=CoC7Item.getNameWithoutSpec(existingItem),addThis=!1}else{const existing=skillList.find((i=>i.id===skillData.selected));if(existing){const flags=data.system?.flags,keepBase=data.system.properties?.keepbasevalue??!1;data=duplicate(existing);for(const[key,value]of Object.entries(flags))value&&(data.system.flags[key]=!0);keepBase&&(""!==skillData.baseValue&&(data.system.base=skillData.baseValue),baseValue=skillData.baseValue,baseCalculated=await CoC7Item.calculateBase(this,data))}}}else{const parts=CoC7Item.getNamePartsSpec(skillData.name,data.system.specialization);data.system.properties?.keepbasevalue||(""!==skillData.baseValue&&(data.system.base=skillData.baseValue),baseValue=skillData.baseValue,baseCalculated=await CoC7Item.calculateBase(this,data)),data.system.skillName=parts.skillName,data.name=parts.name}}addThis&&(String(baseValue)!==String(baseCalculated)&&(data.system.base=baseCalculated),processedDataArray.push(duplicate(data)));break}case"weapon":if("container"!==this.type){const mainSkill=data.system?.skill?.main?.name;if(mainSkill){let skill=this.getSkillsByName(mainSkill)[0];if(!skill){const name=mainSkill.match(/\(([^)]+)\)/)?mainSkill.match(/\(([^)]+)\)/)[1]:mainSkill,existing=game.items.find((item=>"skill"===item.type&&(item.name.toLocaleLowerCase()===name.toLocaleLowerCase()||item.system.skillName?.toLocaleLowerCase()===name.toLocaleLowerCase())));void 0!==existing?(await this.addItems([existing]),skill=await this.getSkillsByName(mainSkill)[0]):skill=await this.createWeaponSkill(name,!!data.system.properties?.rngd)}skill&&(data.system.skill.main.id=skill.id)}const secondSkill=data.system?.skill?.alternativ?.name;if(secondSkill){let skill=this.getSkillsByName(secondSkill)[0];if(!skill){const name=secondSkill.match(/\(([^)]+)\)/)?secondSkill.match(/\(([^)]+)\)/)[1]:secondSkill,existing=game.items.find((item=>"skill"===item.type&&(item.name.toLocaleLowerCase()===name.toLocaleLowerCase()||item.system.skillName?.toLocaleLowerCase()===name.toLocaleLowerCase())));void 0!==existing?(await this.addItems([existing]),skill=await this.getSkillsByName(secondSkill)[0]):skill=await this.createWeaponSkill(name,!!data.system.properties?.rngd)}skill&&(data.system.skill.alternativ.id=skill.id)}}processedDataArray.push(duplicate(data));break;case"setup":{if(data.system.enableCharacterisitics){data.system.characteristics.list={},data.system.characteristics.list.str=this.getCharacteristic("str"),data.system.characteristics.list.con=this.getCharacteristic("con"),data.system.characteristics.list.siz=this.getCharacteristic("siz"),data.system.characteristics.list.dex=this.getCharacteristic("dex"),data.system.characteristics.list.app=this.getCharacteristic("app"),data.system.characteristics.list.int=this.getCharacteristic("int"),data.system.characteristics.list.pow=this.getCharacteristic("pow"),data.system.characteristics.list.edu=this.getCharacteristic("edu"),data.system.characteristics.list.luck={},data.system.characteristics.list.luck.value=isNaN(this.luck)?null:this.luck,data.system.characteristics.list.luck.label=game.i18n.localize("CoC7.Luck"),data.system.characteristics.list.luck.shortName=game.i18n.localize("CoC7.Luck"),data.system.characteristics.values||(data.system.characteristics.values={}),data.system.characteristics.values.str=data.system.characteristics.list.str.value,data.system.characteristics.values.con=data.system.characteristics.list.con.value,data.system.characteristics.values.siz=data.system.characteristics.list.siz.value,data.system.characteristics.values.dex=data.system.characteristics.list.dex.value,data.system.characteristics.values.app=data.system.characteristics.list.app.value,data.system.characteristics.values.int=data.system.characteristics.list.int.value,data.system.characteristics.values.pow=data.system.characteristics.list.pow.value,data.system.characteristics.values.edu=data.system.characteristics.list.edu.value,data.system.characteristics.values.luck=data.system.characteristics.list.luck.value,data.system.characteristics.points.enabled?data.system.title=game.i18n.localize("CoC7.SpendPoints"):data.system.title=game.i18n.localize("CoC7.RollCharac"),data.system.pointsWarning=!(null!==data.system.characteristics.values.str&&null!==data.system.characteristics.values.con&&null!==data.system.characteristics.values.siz&&null!==data.system.characteristics.values.dex&&null!==data.system.characteristics.values.app&&null!==data.system.characteristics.values.int&&null!==data.system.characteristics.values.pow&&null!==data.system.characteristics.values.edu);if(!await CharacRollDialog.create(data.system))return;{const updateData={};for(const key of["str","con","siz","dex","app","int","pow","edu"])data.system.characteristics.values[key]&&(updateData[`system.characteristics.${key}.value`]=data.system.characteristics.values[key],updateData[`system.characteristics.${key}.formula`]=data.system.characteristics.rolls[key]);data.system.characteristics.values.luck&&(updateData["system.attribs.lck.value"]=data.system.characteristics.values.luck),data.system.characteristics.values.pow&&(updateData["system.attribs.san.value"]=data.system.characteristics.values.pow,updateData["system.attribs.san.dailyLimit"]=Math.floor(data.system.characteristics.values.pow/5),updateData["system.attribs.mp.max"]=Math.floor(data.system.characteristics.values.pow/5)),await this.update(updateData,{renderSheet:!1}),await this.update({"system.attribs.hp.value":this.rawHpMax,"system.attribs.hp.max":this.rawHpMax},{renderSheet:!1})}}const era=Object.entries(data.flags?.CoC7?.cocidFlag?.eras).filter((e=>e[1])).map((e=>e[0])),items=await game.system.api.cocid.expandItemArray({itemList:data.system.items,era:void 0===era[0]||era[0]}),skills=items.filter((it=>"skill"===it.type)),othersItems=items.filter((it=>"skill"!==it.type));if(await this.addUniqueItems(skills),await this.addItems(othersItems),game.settings.get("CoC7","oneBlockBackstory"))await this.update({"system.backstory":data.system.backstory},{renderSheet:!1});else for(const sectionName of data.system.bioSections)!this.system.biography?.find((el=>sectionName===el.title))&&sectionName&&await this.createBioSection(sectionName);const monetary=mergeObject(this.system.monetary,duplicate(data.system.monetary)),sheet=this.sheet;let state=!1;do{state=await new Promise((resolve=>setTimeout((()=>{resolve(sheet._state)}),100)))}while(state===Application.RENDER_STATES.RENDERING);await this.update({"system.monetary":monetary}),Hooks.call("setupFinishedCoC7");break}case"archetype":if("character"===this.type){if(this.archetype){let resetArchetype=!1;if(await Dialog.confirm({title:game.i18n.localize("CoC7.ResetArchetype"),content:`<p>${game.i18n.format("CoC7.ResetArchetypeHint",{name:this.name})}</p>`,yes:()=>{resetArchetype=!0},defaultYes:!1}),!resetArchetype)return;await this.resetArchetype()}const coreCharac=[];for(const entry of Object.entries(data.system.coreCharacteristics)){const[key,value]=entry;if(data.system.coreCharacteristics[key]=!1,value){const char=this.getCharacteristic(key);char.key=key,coreCharac.push(char)}}let charac;if(coreCharac.length>1){const charDialogData={};charDialogData.characteristics=coreCharac,charDialogData.title=game.i18n.localize("CoC7.SelectCoreCharac"),charac=await CharacSelectDialog.create(charDialogData)}else 1===coreCharac.length&&(charac=coreCharac[0].key);if(!charac)return;if(data.system.coreCharacteristics[charac]=!0,data.system.coreCharacteristicsFormula.enabled){let value=Number(data.system.coreCharacteristicsFormula.value);if(isNaN(value)){const char=this.getCharacteristic(charac),roll=new Roll(data.system.coreCharacteristicsFormula.value);await roll.roll({async:!0}),roll.toMessage({flavor:game.i18n.format("CoC7.MessageRollingCharacteristic",{label:char.label,formula:data.system.coreCharacteristicsFormula.value})}),value=char.value<roll.total?roll.total:char.value}await this.update({[`system.characteristics.${charac}.value`]:value})}data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills}),await this.addUniqueItems(data.system.skills,"archetype"),processedDataArray.push(duplicate(data)),archetype=!0}break;case"occupation":if("character"===this.type){if(this.occupation){let resetOccupation=!1;if(await Dialog.confirm({title:game.i18n.localize("CoC7.ResetOccupation"),content:`<p>${game.i18n.format("CoC7.ResetOccupationHint",{name:this.name})}</p>`,yes:()=>{resetOccupation=!0},defaultYes:!1}),!resetOccupation)return;await this.resetOccupation()}if(data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills}),Number(data.system.creditRating.max)>0){const actorCreditRating=game.system.api.cocid.findCocIdInList("i.skill.credit-rating",data.system.skills);0===actorCreditRating.length?0===game.system.api.cocid.findCocIdInList("i.skill.credit-rating",this.items).length&&(data.system.skills.push("i.skill.credit-rating"),data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills})):0===game.system.api.cocid.findCocIdInList("i.skill.credit-rating",this.items).length&&data.system.skills.push(actorCreditRating[0])}const pointsDialogData={};pointsDialogData.characteristics=data.system.occupationSkillPoints;let total=0,optionalChar=!1;for(const entry of Object.entries(data.system.occupationSkillPoints)){const[key,value]=entry,char=this.getCharacteristic(key);pointsDialogData.characteristics[key].name=char.label,pointsDialogData.characteristics[key].value=char.value,value.selected&&(pointsDialogData.characteristics[key].total=char.value*Number(pointsDialogData.characteristics[key].multiplier),value.optional?optionalChar=!0:total+=pointsDialogData.characteristics[key].total)}if(pointsDialogData.total=total,optionalChar){if(!await PointSelectDialog.create(pointsDialogData))return}for(let index=0;index<data.system.groups.length;index++){data.system.groups[index].skills=await game.system.api.cocid.expandItemArray({itemList:data.system.groups[index].skills});const dialogData={skills:[],type:"occupation"};dialogData.actorId=this.id,dialogData.optionsCount=Number(data.system.groups[index].options),dialogData.title=game.i18n.localize("CoC7.SkillSelectionWindow");for(const value of data.system.groups[index].skills)if(CoC7Item.isAnySpec(value))dialogData.skills.push(value);else{const skill=this.items.find((item=>item.name===value.name&&"skill"===item.type));if(!skill||!skill.system.flags?.occupation){data.system.skills.find((item=>item.name===value.name))||dialogData.skills.push(value)}}if(0!==dialogData.skills.length)if(dialogData.skills.length<=dialogData.optionsCount){ui.notifications.info(game.i18n.format("CoC7.InfoLessSkillThanOptions",{skillCount:dialogData.skills.length,optionsCount:dialogData.optionsCount}));const merged=CoC7Item.mergeOptionalSkills(data.system.skills,dialogData.skills);data.system.skills=merged}else{const selected=await SkillSelectDialog.create(dialogData);if(!selected)return;const merged=CoC7Item.mergeOptionalSkills(data.system.skills,selected);data.system.skills=merged}else ui.notifications.info(game.i18n.localize("CoC7.InfoAllSkillsAlreadySelected"))}if(Number(data.system.personal)){const dialogData={skills:[],type:"occupation"};dialogData.actorId=this.id,dialogData.optionsCount=Number(data.system.personal),dialogData.title=game.i18n.format("CoC7.SelectPersonalSkills",{number:Number(data.system.personal)});for(const s of this.skills)if(!s.system.flags.occupation&&!s.system.properties.noadjustments&&!s.system.properties.noxpgain){data.system.skills.find((item=>item.name===s.name))||dialogData.skills.push(s)}if(0!==dialogData.skills.length)if(dialogData.skills.length<=dialogData.optionsCount){ui.notifications.info(game.i18n.format("CoC7.InfoLessSkillThanOptions",{skillCount:dialogData.skills.length,optionsCount:dialogData.optionsCount}));const merged=CoC7Item.mergeOptionalSkills(data.system.skills,dialogData.skills);data.system.skills=merged}else{const selected=await SkillSelectDialog.create(dialogData);if(!selected)return;const merged=CoC7Item.mergeOptionalSkills(data.system.skills,selected);data.system.skills=merged}else ui.notifications.info(game.i18n.localize("CoC7.InfoAllSkillsAlreadySelected"))}await this.addUniqueItems(data.system.skills,"occupation"),await(this.creditRatingSkill?.setItemFlag("occupation")),await(this.creditRatingSkill?.update({"system.adjustments.occupation":Number(data.system.creditRating.min)})),processedDataArray.push(duplicate(data)),occupation=!0}break;default:processedDataArray.push(duplicate(data))}if(0===processedDataArray.length)return[];const processed=await super.createEmbeddedDocuments(embeddedName,processedDataArray,options);return archetype&&(await this.update({"system.development.archetype":this.archetypePoints}),Hooks.call("archetypeFinishedCoC7")),occupation&&(await this.update({"system.development.occupation":this.occupationPoints,"system.development.personal":this.personalPoints}),Hooks.call("occupationFinishedCoC7")),processed}getItemIdByName(itemName){let id=null;const name=itemName.match(/\(([^)]+)\)/)?itemName.match(/\(([^)]+)\)/)[1]:itemName;for(const value of this.items)CoC7Item.getNameWithoutSpec(value).toLowerCase()===name.toLowerCase()&&(id=value.id);return id}getItemsByName(itemName){const itemList=[];for(const value of this.items)value.name===itemName&&itemList.push(value);return itemList}getSkillsByName(skillName){const skillList=[],name=skillName.match(/\(([^)]+)\)/)?skillName.match(/\(([^)]+)\)/)[1]:skillName;for(const value of this.items)CoC7Item.getNameWithoutSpec(value).toLowerCase()!==name.toLowerCase()&&value.flags?.CoC7?.cocidFlag?.id!==skillName||"skill"!==value.type||skillList.push(value);return skillList}getFirstSkillByCoCID(cocid){return this.items.find((i=>i.flags?.CoC7?.cocidFlag?.id===cocid))}parseCharacteristics(){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actor))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));return parsed}static getCharacteristicDefinition(){const characteristics=[];for(const[key,value]of Object.entries(game.system.template.Actor.templates.characteristics.characteristics))characteristics.push({key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label)});return characteristics}getCharacteristic(charName){if(this.system.characteristics)for(const[key,value]of Object.entries(this.system.characteristics))if(game.i18n.localize(value.short).toLowerCase()===charName.toLowerCase()||game.i18n.localize(value.label).toLowerCase()===charName.toLowerCase()||key===charName.toLowerCase())return{key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label),value:value.value};return null}getAttribute(attribName){return["lck","luck",game.i18n.localize("CoC7.Luck").toLowerCase()].includes(attribName.toLowerCase())?{key:"lck",shortName:"luck",label:game.i18n.localize("CoC7.Luck"),value:this.system.attribs.lck.value}:["san",game.i18n.localize("CoC7.SAN").toLowerCase(),game.i18n.localize("CoC7.Sanity").toLowerCase()].includes(attribName.toLowerCase())?{key:"san",shortName:game.i18n.localize("CoC7.SAN"),label:game.i18n.localize("CoC7.Sanity"),value:this.system.attribs.san.value}:null}async runRoll(options={}){void 0===options.cardType&&(options.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL),void 0===options.preventStandby&&(options.preventStandby=!0),options.actor=this;return await CoC7ChatMessage.trigger(options)}get occupation(){return this.items.filter((item=>"occupation"===item.type))[0]}get archetype(){return this.items.filter((item=>"archetype"===item.type))[0]}async resetOccupation(eraseOld=!0){if(eraseOld){const occupationSkill=this.items.filter((item=>item.getItemFlag("occupation")));for(let index=0;index<occupationSkill.length;index++)await occupationSkill[index].unsetItemFlag("occupation")}this.occupation&&await this.occupation.delete(),await this.update({"system.development.occupation":null})}async resetArchetype(eraseOld=!0){if(eraseOld){const archetypeSkill=this.items.filter((item=>item.getItemFlag("archetype")));for(let index=0;index<archetypeSkill.length;index++)await archetypeSkill[index].unsetItemFlag("archetype")}this.archetype&&await this.archetype.delete(),await this.update({"system.development.archetype":null})}get luck(){return parseInt(this.system.attribs?.lck?.value)}async setLuck(value){return await this.update({"system.attribs.lck.value":value})}async spendLuck(amount){return amount=parseInt(amount),this.luck>=amount&&this.setLuck(this.luck-amount)}get hp(){return parseInt(this.system.attribs.hp.value)}get rawHpMax(){return this.system.attribs.hp.auto?null!=this.system.characteristics.siz.value&&null!=this.system.characteristics.con.value?CoCActor.hpFromCharacteristics(this.system.characteristics,this.type):this.system.attribs.hp.max?parseInt(this.system.attribs.hp.max):null:parseInt(this.system.attribs.hp.max)}get hpMax(){return parseInt(this.system.attribs.hp.max)}async _setHp(value){return value<0&&(value=0),value>this.system.attribs.hp.max&&(value=parseInt(this.system.attribs.hp.max)),await this.update({"system.attribs.hp.value":value})}async addUniqueItems(skillList,flag=null){const processed=[];for(let skill of skillList)if(skill=duplicate(skill),flag&&(Object.prototype.hasOwnProperty.call(skill.system,"flags")||(skill.system.flags={}),skill.system.flags[flag]=!0),CoC7Item.isAnySpec(skill))processed.push(skill);else{const itemId=this.getItemIdByName(skill.name);if(itemId){if(flag){const item=this.items.get(itemId);await item.setItemFlag(flag)}}else processed.push(skill)}0!==processed.length&&await this.createEmbeddedDocuments("Item",processed,{renderSheet:!1})}async addItems(itemList,flag=null){const processed=[];for(const item of itemList)flag&&(item.system.flags||(item.system.flags={}),item.system.flags[flag]=!0),processed.push(duplicate(item));if(0!==processed.length)return await this.createEmbeddedDocuments("Item",processed,{renderSheet:!1})}async addUniqueItem(skill,flag=null){const itemId=this.getItemIdByName(skill.name);if(itemId){if(flag){const item=this.items.get(itemId);await item.setItemFlag(flag)}}else flag&&(skill.system.flags||(skill.system.flags={}),skill.system.flags[flag]=!0),await this.createEmbeddedDocuments("Item",[skill],{renderSheet:!1})}get rawMpMax(){return this.system.attribs.mp.auto?null!=this.system.characteristics.pow.value?CoCActor.mpFromCharacteristics(this.system.characteristics):0:parseInt(this.system.attribs.mp.max)}getReasonSanLoss(sanReason){return"string"==typeof sanReason?this.system.sanityLossEvents.filter((r=>r.type.toLocaleLowerCase()===sanReason.toLocaleLowerCase()))[0]??{type:"",totalLoss:0,immunity:!1}:{type:"",totalLoss:0,immunity:!1}}sanLostToReason(sanReason){if(sanReason){return this.getReasonSanLoss(sanReason).totalLoss}return 0}sanLossReasonEncountered(sanReason){if(sanReason){return""!==this.getReasonSanLoss(sanReason).type}return!1}setReasonSanLoss(sanReason,sanLoss){if("string"==typeof sanReason&&""!==sanReason){const sanityLossEvents=duplicate(this.system.sanityLossEvents),index=sanityLossEvents.findIndex((r=>r.type.toLocaleLowerCase()===sanReason.toLocaleLowerCase()));return sanLoss>0?-1===index?sanityLossEvents.push({type:sanReason,totalLoss:sanLoss,immunity:!1}):sanityLossEvents[index].totalLoss+=sanLoss:index>-1&&(sanityLossEvents.splice(index,1),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)}))),this.update({"system.sanityLossEvents":sanityLossEvents})}}maxLossToSanReason(sanReason,sanMaxFormula){const sanMax=new Roll(sanMaxFormula.toString()).evaluate({maximize:!0}).total,sanityLossEvent=this.getReasonSanLoss(sanReason);return sanityLossEvent.immunity?0:Math.max(0,sanMax-sanityLossEvent.totalLoss)}async looseSan(sanReason,sanLoss){return this.getReasonSanLoss(sanReason).immunity?0:(await this.setSan(this.san-sanLoss),this.setReasonSanLoss(sanReason,sanLoss),sanLoss)}sanLoss(checkPassed){return checkPassed?this.sanLossCheckPassed:this.sanLossCheckFailled}get sanLossCheckPassed(){return this.system.special?.sanLoss?.checkPassed}get sanLossCheckFailled(){return this.system.special?.sanLoss?.checkFailled}get sanLossMax(){return this.sanLossCheckFailled?isNaN(Number(this.sanLossCheckFailled))?new Roll(this.sanLossCheckFailled).evaluate({maximize:!0}).total:Number(this.sanLossCheckFailled):0}get sanLossMin(){return this.sanLossCheckPassed?isNaN(Number(this.sanLossCheckPassed))?new Roll(this.sanLossCheckPassed).evaluate({maximize:!0}).total:Number(this.sanLossCheckPassed):0}get dailySanLoss(){return this.system.attribs.san?.dailyLoss||0}get dailySanLimit(){return this.system.attribs.san?.dailyLimit||0}get rawSanMax(){if(this.system.attribs)return this.system.attribs?.san?.auto?this.cthulhuMythos?Math.max(99-this.cthulhuMythos,0):99:parseInt(this.system.attribs.san.max)}get sanMax(){return parseInt(this.system.attribs.san.max)}get mp(){return parseInt(this.system.attribs.mp.value)}get mpMax(){return this.system.attribs.mp.auto?null!=this.system.characteristics.pow.value?Math.floor(this.system.characteristics.pow.value/5):0:parseInt(this.system.attribs.mp.max)}async setMp(value){return value<0&&(value=0),value>parseInt(this.system.attribs.mp.max)&&(value=parseInt(this.system.attribs.mp.max)),await this.update({"system.attribs.mp.value":value})}get san(){return parseInt(this.system.attribs.san.value)}get int(){return this.getCharacteristic("int")}get occupationPointsSpent(){let occupationPoints=0;for(const skill of this.skills)skill.system.adjustments?.occupation&&(occupationPoints+=skill.system.adjustments.occupation);return occupationPoints}get occupationPoints(){if(!this.occupation)return 0;let points=0;for(const entry of Object.entries(this.occupation.system.occupationSkillPoints)){const[key,value]=entry,char=this.getCharacteristic(key);value.selected&&(points+=char.value*Number(value.multiplier))}return points}async resetOccupationPoints(){await this.update({"system.development.occupation":this.occupationPoints})}async resetArchetypePoints(){await this.update({"system.development.archetype":this.occupationPoints})}async resetPersonalPoints(){await this.update({"system.development.personal":this.personalPoints})}get archetypePointsSpent(){let archetypePoints=0;for(const skill of this.skills)skill.system.adjustments?.archetype&&(archetypePoints+=skill.system.adjustments.archetype);return archetypePoints}get archetypePoints(){return this.archetype?this.archetype.system.bonusPoints:0}get experiencePoints(){let experiencePoints=0;for(const skill of this.skills)skill.system.adjustments?.experience&&(experiencePoints+=skill.system.adjustments.experience);return experiencePoints}get personalPointsSpent(){let personalPoints=0;for(const skill of this.skills)skill.system.adjustments?.personal&&(personalPoints+=skill.system.adjustments.personal);return personalPoints}get personalPoints(){return 2*Number(this.system.characteristics.int.value)}get hasDevelopmentPhase(){for(const skill of this.skills)if(skill.system.flags?.developement)return!0;if(this.onlyRunOncePerSession)return!1;for(const sanityLossEvent of this.system.sanityLossEvents)if(!sanityLossEvent.immunity)return!0;return!1}async setSan(value){value<0&&(value=0),value>this.system.attribs.san.max&&(value=this.system.attribs.san.max);const loss=parseInt(this.system.attribs.san.value)-value;if(loss>0){let totalLoss=parseInt(this.system.attribs.san.dailyLoss)?parseInt(this.system.attribs.san.dailyLoss):0;totalLoss+=loss,loss>=5&&await this.setCondition(COC7.status.tempoInsane),totalLoss>=this.system.attribs.san.dailyLimit&&await this.setCondition(COC7.status.indefInsane),await this.update({"system.attribs.san.value":value,"system.attribs.san.dailyLoss":totalLoss})}else await this.update({"system.attribs.san.value":value});return value}async setAttribAuto(value,attrib){const updatedKey=`system.attribs.${attrib}.auto`;return await this.update({[updatedKey]:value})}async toggleAttribAuto(attrib){this.setAttribAuto(!this.system.attribs[attrib].auto,attrib)}static dbFromCharacteristics(characteristics){const sum=(characteristics.str.value??0)+(characteristics.siz.value??0);return sum<65?-2:sum<85?-1:sum<125?0:sum<165?"1D4":`${Math.floor((sum-45)/80)}D6`}static buildFromCharacteristics(characteristics){const sum=(characteristics.str.value??0)+(characteristics.siz.value??0);return sum<65?-2:sum<85?-1:sum<125?0:sum<165?1:Math.floor((sum-45)/80)+1}static hpFromCharacteristics(characteristics,type){const sum=parseInt(characteristics.siz.value??0,10)+parseInt(characteristics.con.value??0,10),divisor=game.settings.get("CoC7","pulpRuleDoubleMaxHealth")&&"character"===type?5:10;return Math.floor(sum/divisor)}static mpFromCharacteristics(characteristics){return Math.floor(characteristics.pow.value/5)}static movFromCharacteristics(characteristics,type,age){let MOV;return MOV=characteristics.dex.value>characteristics.siz.value&&characteristics.str.value>characteristics.siz.value?9:characteristics.dex.value>=characteristics.siz.value||characteristics.str.value>=characteristics.siz.value?8:7,"creature"===type||game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")||isNaN(parseInt(age))||(MOV=parseInt(age)>=40?MOV-Math.floor(parseInt(age)/10)+3:MOV),Math.max(0,MOV)}get rawBuild(){return this.system.attribs&&this.system.attribs.build?("auto"===this.system.attribs.build.value&&(this.system.attribs.build.auto=!0),this.system.attribs.build.auto?CoCActor.buildFromCharacteristics(this.system.characteristics):this.system.attribs.build.value):null}get build(){return this.system.attribs.build.value}get rawDb(){return this.system.attribs&&this.system.attribs.db?("auto"===this.system.attribs.db.value&&(this.system.attribs.db.auto=!0),this.system.attribs.db.auto?CoCActor.dbFromCharacteristics(this.system.characteristics):this.system.attribs.db.value):null}get db(){return this.system.attribs.db.value}get rawMov(){if(!this.system.attribs)return null;if(!this.system.attribs.mov)return null;if("auto"===this.system.attribs.mov.value&&(this.system.attribs.mov.auto=!0),this.system.attribs.mov.auto){const MOV=CoCActor.movFromCharacteristics(this.system.characteristics,this.system.type,this.system.infos.age);if(MOV>0)return MOV}return this.system.attribs.mov.value}get mov(){return this.system.attribs.mov.value}get tokenId(){return this.token?`${this.token.scene._id}.${this.token.id}`:null}get locked(){return this.system.flags||(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),this.update({"system.flags.locked":!1})),this.system.flags.locked}getItemsFromName(name){return this.items.filter((i=>i.name===name))}set locked(value){this.update({"system.flags.locked":value})}async toggleActorFlag(flagName){const flagValue=!this.system.flags[flagName],name=`system.flags.${flagName}`;await this.update({[name]:flagValue})}async attributeCheck(attributeName,fastForward=!1,options={}){const attrib=this.getAttribute(attributeName.toLowerCase());if(!attrib)return ui.notifications.error(game.i18n.format("CoC7.ErrorNotFound",{missing:attributeName})),null;const check=new CoC7Check;if(options.modifier&&(check.diceModifier=Number(options.modifier)),options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.rollAttribute(attrib.key),check.toMessage()}async characteristicCheck(characteristicName,fastForward=!1,options={}){const char=this.getCharacteristic(characteristicName);if(!char)return void ui.notifications.error(game.i18n.format("CoC7.ErrorNotFoundForActor",{missing:characteristicName,actor:this.name}));const check=new CoC7Check;if(options.modifier&&(check.diceModifier=Number(options.modifier)),options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){options.displayName=char.label;const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.rollCharacteristic(char.key),check.toMessage()}async skillCheck(skillData,fastForward,options={}){const skillIdentifier=skillData.name?skillData.name:skillData;console.log(skillIdentifier);let skill=[];if(!!skillIdentifier.match(/^i\.skill\./)){const item=this.getFirstSkillByCoCID(skillIdentifier);item&&skill.push(item)}if(skill.length||(skill=this.getSkillsByName(skillIdentifier)),!skill.length){let item=null;if(skillData.pack){const pack=game.packs.get(skillData.pack);if("Item"!==pack.metadata.entity)return;item=await pack.getDocument(skillData.id)}else skillData.id&&(item=game.items.get(skillData.id));if(!item){const check=new CoC7Check;check._rawValue="?",await check.roll(),check.toMessage()}if(!item)return ui.notifications.warn(game.i18n.format("CoC7.NoSkill")+" "+game.i18n.format("CoC7.ErrorNotFoundForActor",{missing:skillData.name?skillData.name:skillData,actor:this.name}));let create=!1;if(await Dialog.confirm({title:`${game.i18n.localize("CoC7.AddWeapon")}`,content:`<p>${game.i18n.format("CoC7.AddWeapontHint",{weapon:skillData.name,actor:this.name})}</p>`,yes:()=>{create=!0}}),!0!==create)return;if(await this.createEmbeddedDocuments("Item",[duplicate(item)]),skill=this.getSkillsByName(item.name),!skill.length)return;if(game.user.isGM){const skillValue=await SkillValueDialog.create(skill[0].name,skill[0].base),value=Number(skillValue.get("base-value"));await skill[0].updateValue(value)}}const check=new CoC7Check;if(void 0!==options.modifier&&(check.diceModifier=Number(options.modifier)),void 0!==options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,check.skill=skill[0].id,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.roll(),check.toMessage()}async weaponCheck(weaponData,fastForward=!1){let weapon;if(void 0!==weaponData.uuid&&(weapon=await fromUuid(weaponData.uuid)),void 0!==weaponData.id&&(weapon=this.items.get(weaponData.id)),!weapon){let weapons=this.getItemsFromName(weaponData.name);if(0===weapons.length){if(!game.user.isGM)return void ui.notifications.warn(game.i18n.format("CoC7.ErrorActorHasNoWeaponNamed",{actorName:this.name,weaponName:weaponData.name}));{let item=null;const pack=weaponData.pack?game.packs.get(weaponData.pack):null;if(pack){if("Item"!==pack.metadata.entity)return;item=await pack.getDocument(weaponData.id)}else weaponData.id&&(item=game.items.get(weaponData.id));if(!item)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroNoItemFound"));let create=!1;await Dialog.confirm({title:`${game.i18n.localize("CoC7.AddWeapon")}`,content:`<p>${game.i18n.format("CoC7.AddWeapontHint",{weapon:weaponData.name,actor:this.name})}</p>`,yes:()=>{create=!0}});const actor=void 0!==this.parent?.actor?this.parent.actor:this;if(!0!==create)return;if(await actor.createEmbeddedDocuments("Item",[item.toJSON()]),weapons=actor.getItemsFromName(item.name),!weapons.length)return;await weapons[0].reload()}}else weapons.length>1&&ui.notifications.warn(game.i18n.format("CoC7.ErrorActorHasTooManyWeaponsNamed",{actorName:this.name,weaponName:weaponData.name}));weapon=weapons[0]}if(!weapon.system.properties.rngd){game.user.targets.size>1&&ui.notifications.warn(game.i18n.localize("CoC7.WarnTooManyTarget"));new CoC7MeleeInitiator(this.tokenKey,weaponData.uuid||weapon.id,fastForward).createChatCard()}if(weapon.system.properties.rngd){new CoC7RangeInitiator(this.tokenKey,weaponData.uuid||weapon.id,fastForward).createChatCard()}}async rollInitiative(hasGun=!1){if("optional"===game.settings.get("CoC7","initiativeRule")){const roll=new CoC7Check(this.actorKey);return roll.denyPush=!0,roll.denyLuck=!0,roll.denyBlindTampering=!0,roll.hideDice=!1===game.settings.get("CoC7","displayInitDices"),roll.flavor="Initiative roll",await roll.rollCharacteristic("dex",hasGun?1:0),roll.toMessage(),roll.successLevel+this.system.characteristics.dex.value/100}return hasGun?this.system.characteristics.dex.value+50:this.system.characteristics.dex.value}getActorFlag(flagName){return this.system.flags?!!this.system.flags[flagName]&&this.system.flags[flagName]:(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),!1)}async setActorFlag(flagName){await this.update({[`system.flags.${flagName}`]:!0})}async unsetActorFlag(flagName){await this.update({[`system.flags.${flagName}`]:!1})}getWeaponSkills(itemId){let weapon=fromUuidSync(itemId);if(weapon?void 0===weapon.system&&(weapon=game.packs.get(weapon.pack).get(weapon._id)):weapon=this.items.get(itemId),"weapon"!==weapon.type)return null;const skills=[];return weapon.system.skill.main.id&&skills.push(this.items.get(weapon.system.skill.main.id)),weapon.usesAlternativeSkill&&weapon.system.skill.alternativ.id&&skills.push(this.items.get(weapon.system.skill.alternativ.id)),skills}find(name){if(!name)return;const item=this.items.get(name);if(item)return{type:"item",value:item};const matches=/\(([^)]+)\)/.exec(name);let shortName=null;matches&&matches.length&&(shortName=matches[1]);const skill=this.skills.filter((s=>!!s.name&&(s.name.toLocaleLowerCase().replace(/\s/g,"")===name.toLocaleLowerCase().replace(/\s/g,"")||s.name.toLocaleLowerCase().replace(/\s/g,"")===name.toLocaleLowerCase().replace(/\s/g,"")||s.name.toLocaleLowerCase().replace(/\s/g,"")===shortName?.toLocaleLowerCase().replace(/\s/g,""))));if(skill.length)return{type:"item",value:skill[0]};const charKey=["str","con","siz","dex","app","int","pow","edu"];for(let i=0;i<charKey.length;i++){const char=this.getCharacteristic(charKey[i]);if(char){if(char.name=char.label,char.key?.toLocaleLowerCase()===name.toLowerCase()||char.key?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char};if(char.shortName?.toLocaleLowerCase()===name.toLowerCase()||char.shortName?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char};if(char.label?.toLocaleLowerCase()===name.toLowerCase()||char.label?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char}}}const attribKey=["lck","san"];for(let i=0;i<attribKey.length;i++){const attr=this.getAttribute(attribKey[i]);if(attr){if(attr.name=attr.label,attr.key?.toLocaleLowerCase()===name.toLowerCase()||attr.key?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr};if(attr.shortName?.toLocaleLowerCase()===name.toLowerCase()||attr.shortName?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr};if(attr.label?.toLocaleLowerCase()===name.toLowerCase()||attr.label?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr}}}}get pilotSkills(){return this.skills.filter((s=>s.system.properties?.special&&s.system.specialization?.toLocaleLowerCase()===game.i18n.localize("CoC7.PilotSpecializationName")?.toLocaleLowerCase()))}get driveSkills(){return this.skills.filter((s=>s.system.properties?.special&&s.system.specialization?.toLocaleLowerCase()===game.i18n.localize("CoC7.DriveSpecializationName")?.toLocaleLowerCase()))}get tokenUuid(){return this.sheet.token?this.sheet.token.uuid:null}get tokenKey(){return this.sheet.token?`${this.sheet.token.parent.id}.${this.sheet.token.id}`:this.id}get actorKey(){return this.prototypeToken.actorLink?this.id:this.tokenKey}static getActorFromKey(key){if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;return new Token(tokenData).actor}}return game.actors.get(key)||null}get hasRollableCharacteristics(){for(const[,value]of Object.entries(this.system.characteristics))if(isNaN(Number(value.formula)))return!0;return!1}get hosRollableSkills(){for(const skill of this.skills)if(isNaN(skill.system?.value))return!0;return!1}async rollCharacteristicsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&!value.formula.startsWith("@")){const r=new Roll(value.formula);await r.roll({async:!0}),r.total&&(characteristics[`system.characteristics.${key}.value`]=Math.floor(r.total))}await this.update(characteristics),await this.reportCharactedriticsValue()}async averageCharacteristicsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&!value.formula.startsWith("@")){const max=new Roll(value.formula).evaluate({maximize:!0}).total,min=new Roll(value.formula).evaluate({minimize:!0}).total,average=Math.floor((max+min)/2),charValue=average%5==0?average:10*Math.round(average/10);charValue&&(characteristics[`system.characteristics.${key}.value`]=charValue)}await this.update(characteristics),await this.reportCharactedriticsValue()}async reportCharactedriticsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&value.formula.startsWith("@")){let charValue;try{charValue=new Roll(value.formula,this.parseCharacteristics()).evaluate({maximize:!0}).total}catch(err){charValue=null}charValue&&(characteristics[`system.characteristics.${key}.value`]=charValue)}await this.update(characteristics)}async setCharacteristic(name,value){const characteristic={},charValue=isNaN(parseInt(value))?null:parseInt(value);if(characteristic[name]=charValue,!charValue&&value.startsWith("@")){characteristic[name.replace(".value",".formula")]=value}await this.update(characteristic),await this.reportCharactedriticsValue()}async developementPhase(fastForward=!1){const failure=[],success=[],title=game.i18n.localize("CoC7.RollAll4Dev");let skillsRolled=0,message='<p class="chat-card">';for(const item of this.items)if("skill"===item.type&&item.developementFlag){skillsRolled++;const die=await new Die({faces:100}).evaluate({async:!0}),skillValue=item.value;let augment=null,skillMasteringMessage=null;if(die.total>skillValue||die.total>=95){const augmentDie=await new Die({faces:10}).evaluate({async:!0});if(success.push(item.id),skillValue<90&&skillValue+augmentDie.total>=90){const augmentSANDie=await new Die({faces:6,number:2}).evaluate({async:!0}),sanGained=augmentSANDie.total,sanGainedMessage=`Gained 2d6 (${augmentSANDie.values[0]} + ${augmentSANDie.values[1]} = ${sanGained}) SAN`;console.debug(sanGainedMessage),skillMasteringMessage=`<span class="upgrade-success">${game.i18n.format("CoC7.SanGained",{results:`${augmentSANDie.values[0]} + ${augmentSANDie.values[1]}`,sanGained,skill:item.name,skillValue:skillValue+augmentDie.total})}</span><br>`,await this.setSan(this.san+sanGained)}augment+=augmentDie.total,message+=`<span class="upgrade-success">${game.i18n.format("CoC7.DevSuccess",{item:item.name,die:die.total,score:item.value,augment:augmentDie.total})}</span><br>`,null!==skillMasteringMessage&&(message+=skillMasteringMessage),await item.increaseExperience(augment)}else message+=`<span class="upgrade-failed">${game.i18n.format("CoC7.DevFailure",{item:item.name,die:die.total,score:item.value})}</span><br>`,failure.push(item.id);await item.unflagForDevelopement()}const sanityLossEvents=[];let changed=!1;for(const sanityLossEvent of this.system.sanityLossEvents)sanityLossEvent.immunity?sanityLossEvents.push(sanityLossEvent):sanityLossEvent.totalLoss>1?(sanityLossEvent.totalLoss--,sanityLossEvents.push(sanityLossEvent),changed=!0):changed=!0;if(changed&&(skillsRolled&&(message+="<br>"),message+=`<span>${game.i18n.format("CoC7.ReduceSanityLimits")}</span>`,await this.update({"system.sanityLossEvents":sanityLossEvents})),!fastForward){message+="</p>";const speaker={actor:this};await chatHelper.createMessage(skillsRolled?title:"",message,{speaker}),this.onlyRunOncePerSession=!0}return{failure,success}}async developLuck(fastForward=!1){const currentLuck=this.system.attribs.lck.value;currentLuck||await this.update({"system.attribs.lck.value":0});const pulpRuleDevelopmentRollLuck=game.settings.get("CoC7","pulpRuleDevelopmentRollLuck"),upgradeRoll=(await new Roll("1D100").roll({async:!0})).total,higherThanCurrentLuck=upgradeRoll>currentLuck;let augmentRoll;pulpRuleDevelopmentRollLuck?augmentRoll=higherThanCurrentLuck?"2D10+10":"1D10+5":higherThanCurrentLuck&&(augmentRoll="1D10");const title=game.i18n.localize("CoC7.RollLuck4Dev");let message='<p class="chat-card">';if(pulpRuleDevelopmentRollLuck||higherThanCurrentLuck){const augmentValue=(await new Roll(augmentRoll).roll({async:!0})).total;await this.update({"system.attribs.lck.value":this.system.attribs.lck.value+augmentValue}),message+=`<span class="upgrade-success">${game.i18n.format("CoC7.LuckIncreased",{die:upgradeRoll,score:currentLuck,augment:augmentValue})}</span>`}else message+=`<span class="upgrade-failed">${game.i18n.format("CoC7.LuckNotIncreased",{die:upgradeRoll,score:currentLuck})}</span>`;if(!fastForward){message+="</p>";const speaker={actor:this};await chatHelper.createMessage(title,message,{speaker})}}async developSkill(skillId,fastForward=!1){const skill=this.items.get(skillId);if(!skill)return;let title="",message="";const upgradeRoll=new Roll("1D100");if(await upgradeRoll.roll({async:!0}),fastForward||await CoC7Dice.showRollDice3d(upgradeRoll),upgradeRoll.total>skill.value||upgradeRoll.total>=95){const augmentRoll=new Roll("1D10");await augmentRoll.roll({async:!0}),fastForward||await CoC7Dice.showRollDice3d(augmentRoll),message=game.i18n.format("CoC7.DevSuccessDetails",{item:skill.name,augment:augmentRoll.total}),title=game.i18n.format("CoC7.DevRollTitle",{item:skill.name,die:upgradeRoll.total,score:skill.value}),await skill.increaseExperience(augmentRoll.total)}else title=game.i18n.format("CoC7.DevRollTitle",{item:skill.name,die:upgradeRoll.total,score:skill.value}),message=game.i18n.format("CoC7.DevFailureDetails",{item:skill.name});const speaker={actor:this._id};await chatHelper.createMessage(title,message,{speaker}),await skill.unflagForDevelopement()}hasConditionStatus(conditionName){const conditionValue=this.system.conditions?.[conditionName]?.value;return"boolean"==typeof conditionValue&&conditionValue}hasConditionValue(conditionName,field){if(this.hasConditionStatus(conditionName)){if(conditionName===COC7.status.tempoInsane&&"durationText"===field){const realTime=this.hasConditionValue(conditionName,"realTime"),duration=this.hasConditionValue(conditionName,"duration");if(void 0!==duration){if(!0===realTime)return duration+" "+game.i18n.localize("CoC7.rounds");if(!1===realTime)return duration+" "+game.i18n.localize("CoC7.hours")}return""}return this.system.conditions?.[conditionName]?.[field]}}async toggleCondition(conditionName){this.hasConditionStatus(conditionName)?await this.unsetCondition(conditionName):await this.setCondition(conditionName)}async setCondition(conditionName,{forceValue=!1,justThis=!1,realTime=null,duration=null}={}){if(!forceValue&&game.settings.get("CoC7","enableStatusIcons")){const effects=this.effects.filter((effect=>effect.flags.core?.statusId===conditionName)).map((effect=>effect.id)),custom={};switch(conditionName){case COC7.status.dead:custom.flags={core:{overlay:!0}};break;case COC7.status.tempoInsane:custom.flags={CoC7:{realTime:void 0}},custom.duration={rounds:void 0,seconds:void 0},!0!==realTime&&!1!==realTime||(custom.flags.CoC7.realTime=realTime,custom.flags={CoC7:{realTime}},null!=duration&&(realTime?custom.duration.rounds=duration:custom.duration.seconds=3600*duration))}if(0===effects.length){const effect=CONFIG.statusEffects.filter((effect=>effect.id===conditionName));if(1===effect.length){const effectData=mergeObject({label:game.i18n.localize(effect[0].label),icon:effect[0].icon,flags:{core:{statusId:effect[0].id}},disabled:!1},custom);await super.createEmbeddedDocuments("ActiveEffect",[effectData])}else forceValue=!0}else custom._id=effects[0],await super.updateEmbeddedDocuments("ActiveEffect",[custom]),forceValue=!0}if(forceValue||!game.settings.get("CoC7","enableStatusIcons")){switch(conditionName){case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:await this.update({[`system.conditions.${conditionName}.value`]:!0});break;case COC7.status.tempoInsane:{const fields={};fields[`system.conditions.${conditionName}.value`]=!0,!0!==realTime&&!1!==realTime||(fields[`system.conditions.${conditionName}.realTime`]=realTime,null!=duration&&(fields[`system.conditions.${conditionName}.duration`]=duration)),Object.prototype.hasOwnProperty.call(fields,`system.conditions.${conditionName}.realTime`)||(fields[`system.conditions.${conditionName}.-=realTime`]=null),Object.prototype.hasOwnProperty.call(fields,`system.conditions.${conditionName}.duration`)||(fields[`system.conditions.${conditionName}.-=duration`]=null),await this.update(fields)}}if(!justThis)switch(conditionName){case COC7.status.criticalWounds:if(await this.setCondition(COC7.status.prone),!this.hasConditionStatus(COC7.status.unconscious)&&!this.hasConditionStatus(COC7.status.dead)){new CoC7ConCheck(this.isToken?this.tokenKey:this.id).toMessage()}break;case COC7.status.dead:await this.unsetCondition(COC7.status.criticalWounds),await this.unsetCondition(COC7.status.dying),await this.unsetCondition(COC7.status.unconscious)}}}async unsetCondition(conditionName,{forceValue=!1}={}){if(!forceValue&&game.settings.get("CoC7","enableStatusIcons")){const effects=this.effects.filter((effect=>effect.flags.core?.statusId===conditionName)).map((effect=>effect.id));effects.length>0?await super.deleteEmbeddedDocuments("ActiveEffect",effects):forceValue=!0}if(forceValue||!game.settings.get("CoC7","enableStatusIcons"))switch(conditionName){case COC7.status.tempoInsane:case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:await this.update({[`system.conditions.${conditionName}.-=value`]:null}),await this.update({[`system.conditions.${conditionName}.value`]:!1})}}async resetCounter(counter){await this.update({[counter]:0})}async resetDailySanity(){await this.update({"system.attribs.san.dailyLimit":Math.floor(this.system.attribs.san.value/5),"system.attribs.san.dailyLoss":0})}get fightingSkills(){const skillList=[];for(const value of this.items)"skill"===value.type&&value.system.properties.fighting&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get closeCombatWeapons(){const weaponList=[];for(const value of this.items)if("weapon"===value.type&&!value.system.properties.rngd){const skill=this.items.get(value.system.skill.main.id);value.system.skill.main.value=skill?skill.value:0,weaponList.push(value)}return weaponList.sort(CoC7Utilities.sortByNameKey),weaponList}get firearmSkills(){const skillList=[];for(const value of this.items)"skill"===value.type&&value.system.properties.firearm&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get user(){return game.users.find((user=>!(!user.character||user.character.id!==this.id)))}get dodgeSkill(){const skill=this.getFirstSkillByCoCID("i.skill.dodge");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.dodge"));return 0!==skillList.length?skillList[0]:null}get creditRatingSkill(){const skill=this.getFirstSkillByCoCID("i.skill.credit-rating");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.credit-rating"));return 0!==skillList.length?skillList[0]:null}get cthulhuMythosSkill(){const skill=this.getFirstSkillByCoCID("i.skill.cthulhu-mythos");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"));return 0!==skillList.length?skillList[0]:null}get cthulhuMythos(){const CM=this.cthulhuMythosSkill;if(CM){const value=CM.value;return value||parseInt(CM.system.value)}return 0}get mythosHardened(){return this.getFlag("CoC7","mythosHardened")||!1}async setMythosHardened(){await this.setFlag("CoC7","mythosHardened",!0)}get mythosInsanityExperienced(){return this.getFlag("CoC7","mythosInsanityExperienced")||!1}async experienceFirstMythosInsanity(){await this.setFlag("CoC7","mythosInsanityExperienced",!0)}get creditRating(){const CR=this.creditRatingSkill;if(CR){const value=CR.value;return value||parseInt(CR.system.value)}return 0}static monetaryFormat(format,symbol,value){switch(format){case COC7.monetaryFormatKeys.lsd:return Math.floor(value/240)+"/"+Math.floor(value/12)%20+"/"+value%12;case COC7.monetaryFormatKeys.roman:return Math.floor(value/400)+"/"+Math.floor(value/16)%25+"/"+Math.floor(value/8)%2+"/"+Math.floor(value/4)%2+"/"+value%4;case COC7.monetaryFormatKeys.decimalLeft:return symbol+Number(value).toLocaleString(void 0,{minimumFractionDigits:2}).replace(/\.00$/,"");case COC7.monetaryFormatKeys.decimalRight:return Number(value).toLocaleString(void 0,{minimumFractionDigits:2}).replace(/\.00$/,"")+" "+symbol;case COC7.monetaryFormatKeys.integerLeft:return symbol+Number(value).toLocaleString();case COC7.monetaryFormatKeys.integerRight:return Number(value).toLocaleString()+" "+symbol}return"0"}static monetaryValue(format,values,CR,type,value){CR=CR||0;const row=values.find((r=>("object"==typeof r.min||r.min<=CR)&&("object"==typeof r.max||r.max>=CR)));if(void 0!==row&&void 0!==row[type]&&void 0!==row[value])switch(format){case COC7.monetaryFormatKeys.lsd:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return 240*CR*row[value];case COC7.monetaryTypeKeys.value:return 240*row[value];case COC7.monetaryTypeKeys.s:return 12*row[value];case COC7.monetaryTypeKeys.d:return 1*row[value]}break;case COC7.monetaryFormatKeys.roman:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return 400*CR*row[value];case COC7.monetaryTypeKeys.value:return 400*row[value];case COC7.monetaryTypeKeys.denarii:return 16*row[value];case COC7.monetaryTypeKeys.quinarii:return 8*row[value];case COC7.monetaryTypeKeys.sestertii:return 4*row[value];case COC7.monetaryTypeKeys.asses:return 1*row[value]}break;default:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return CR*row[value];case COC7.monetaryTypeKeys.value:return 1*row[value]}}return 0}get spendingLevel(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"spendingType","spendingValue")}get cash(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"cashType","cashValue")}get assets(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"assetsType","assetsValue")}get skills(){const skillList=[];for(const value of this.items)"skill"===value.type&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get owners(){return game.users.filter((u=>this.testUserPermission(u,"OWNER")&&!u.isGM))}get player(){return this.owners.filter((u=>u.character?.id===this.id))}get characterUser(){return game.users.contents.filter((u=>u.character?.id===this.id))[0]||null}async setHp(value){value<0&&(value=0),value>this.system.attribs.hp.max&&(value=this.system.attribs.hp.max);const healthBefore=this.hp;let damageTaken;return isNaN(healthBefore)||value>=healthBefore?await this._setHp(value):(damageTaken=healthBefore-value,await this.dealDamage(damageTaken,{ignoreArmor:!0})),value}async dealDamage(amount,options={}){const armorData=options.armor?options.armor:this.system.attribs.armor,grossDamage=parseInt(amount);let armorValue=0;options.ignoreArmor||null===armorData||(CoC7Utilities.isFormula(armorData)?armorValue=(await new Roll(armorData).roll({async:!0})).total:isNaN(Number(armorData))?isNaN(Number(armorData?.value))?ui.notifications.warn(game.i18n.format("CoC7.ErrorUnableToParseArmorFormula",{value:armorData})):armorValue=Number(armorData.value):armorValue=Number(armorData));const netDamage=grossDamage-armorValue;if(netDamage<=0)return 0;if(await this._setHp(this.hp-netDamage),netDamage>=this.system.attribs.hp.max)await this.setCondition(COC7.status.dead);else if(game.settings.get("CoC7","pulpRuleIgnoreMajorWounds")){if(0===this.hp)netDamage>=Math.ceil(this.system.attribs.hp.max/2)?this.setCondition(COC7.status.dying):this.setCondition(COC7.status.unconscious);else if(netDamage>=Math.ceil(this.system.attribs.hp.max/2)){new CoC7ConCheck(this.isToken?this.tokenKey:this.id).toMessage()}}else{let hasMajorWound=!1;netDamage>=Math.ceil(this.system.attribs.hp.max/2)?(await this.setCondition(COC7.status.criticalWounds),hasMajorWound=!0):hasMajorWound=this.hasConditionStatus(COC7.status.criticalWounds),0===this.hp&&(await this.setCondition(COC7.status.unconscious),hasMajorWound&&this.setCondition(COC7.status.dying))}return netDamage}get majorWound(){return this.hasConditionStatus(COC7.status.criticalWounds)}get dying(){return this.hasConditionStatus(COC7.status.dying)}get unconscious(){return this.hasConditionStatus(COC7.status.unconscious)}get dead(){return this.hasConditionStatus(COC7.status.dead)}get prone(){return this.hasConditionStatus(COC7.status.prone)}}class CoC7Link{static get CHECK_TYPE(){return{CHECK:"check",SANLOSS:"sanloss",ITEM:"item",EFFECT:"effect"}}static get LINK_TYPE(){return{CHARACTERISTIC:"characteristic",ATTRIBUTE:"attribute",SKILL:"skill"}}static init(){CONFIG.CoC7Link={documentClass:CoC7Link}}static bindEventsHandler(html){html.find("a.coc7-link:not(.hascoc7linked)").on("click",(event=>CoC7Link._onLinkClick(event))).on("dragstart",(event=>CoC7Link._onDragCoC7Link(event))).addClass("hascoc7linked")}static _linkFromEvent(event){const a=event.currentTarget,i=a.querySelector("[data-link-icon]"),data=duplicate(a.dataset),oldType=data.type;return data.type="CoC7Link",data.icon=null,oldType&&(data.linkType=oldType),data.object&&("string"==typeof data.object||data.object instanceof String)&&(data.object=JSON.parse(data.object)),i.dataset&&i.dataset.linkIcon&&"fas fa-dice"!==i.dataset.linkIcon&&(data.icon=i.dataset.linkIcon),data.displayName=a.dataset.displayName?a.innerText:null,data.difficulty&&(data.difficulty=CoC7Utilities.convertDifficulty(data.difficulty)),data}static _onDragCoC7Link(event){const data=CoC7Link._linkFromEvent(event);event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}static async fromDropData(data,options={}){const cls=new CoC7Link;cls.object=mergeObject({type:"CoC7Link",check:CoC7Link.CHECK_TYPE.CHECK,linkType:CoC7Link.LINK_TYPE.SKILL,difficulty:CoC7Check.difficultyLevel.regular,modifier:0,object:{label:game.i18n.localize("CoC7.EffectNew"),icon:"icons/svg/aura.svg",changes:[]}},data);for(const key of["name","displayName","icon","id","pack","sanMin","sanMax","sanReason"])cls.object[key]=cls.object[key]??"";return void 0!==cls.object.object.icon&&void 0!==cls.object.object.external&&["http","https"].includes(cls.object.object.external)&&(cls.object.object.icon=cls.object.object.external+"://"+cls.object.object.icon),cls.options=options,cls}static _createLink(match){const name=match[4]??void 0,options=match[3]??void 0,type=match[2]??void 0,data={cls:["coc7-link"],dataset:{check:type},icon:null,blind:!1,name};if(type===CoC7Link.CHECK_TYPE.EFFECT)data.effect=JSON.parse(options),data.dataset.object=options,void 0!==data.effect.icon&&void 0!==data.effect.external&&["http","https"].includes(data.effect.external)&&(data.effect.icon=data.effect.external+"://"+data.effect.icon);else{const matches=options.matchAll(/[^,]+/gi);for(const match of Array.from(matches)){let[key,value]=match[0].split(":");"icon"===key&&(data.icon=value),"blind"===key&&void 0===value&&(value=!0,data.blind=[CoC7Link.CHECK_TYPE.CHECK].includes(type.toLowerCase())),data.dataset[key]=value}void 0!==data.dataset.icon&&void 0!==data.dataset.external&&["http","https"].includes(data.dataset.external)&&(data.dataset.icon=data.dataset.external+"://"+data.dataset.icon,data.icon=data.dataset.icon)}let title;const difficulty=CoC7Check.difficultyString(data.dataset.difficulty);switch(type.toLowerCase()){case CoC7Link.CHECK_TYPE.CHECK:{let humanName=data.dataset.name;["attributes","attribute","attrib","attribs"].includes(data.dataset.type?.toLowerCase())&&("lck"===data.dataset.name&&(humanName=game.i18n.localize("CoC7.Luck")),"san"===data.dataset.name&&(humanName=game.i18n.localize("CoC7.Sanity"))),["charac","char","characteristic","characteristics"].includes(data.dataset.type?.toLowerCase())&&(humanName=CoC7Utilities.getCharacteristicNames(data.dataset.name)?.label),title=game.i18n.format(`CoC7.LinkCheck${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,name:humanName});break}case CoC7Link.CHECK_TYPE.SANLOSS:title=game.i18n.format(`CoC7.LinkSanLoss${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,sanMin:data.dataset.sanMin,sanMax:data.dataset.sanMax});break;case CoC7Link.CHECK_TYPE.ITEM:title=game.i18n.format(`CoC7.LinkItem${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,name:data.dataset.name});break;case CoC7Link.CHECK_TYPE.EFFECT:title=data.effect.label}name?data.dataset.displayName=!0:data.name=title;const a=document.createElement("a");a.title=game.user.isGM?data.name:title,a.classList.add(...data.cls);for(const[k,v]of Object.entries(data.dataset))a.dataset[k]=v;return a.draggable=!0,data.icon=data.icon??data.effect?.icon??"fas fa-dice",(data.icon.includes("\\")||data.icon.includes("."))&&(data.img=data.icon),data.blind&&(a.innerHTML+='<i class="fas fa-eye-slash"></i>'),data.img?a.innerHTML+=`<img data-link-icon="${data.icon}" src="${data.img}">`:a.innerHTML+=`<i data-link-icon="${data.icon}" class="link-icon ${data.icon}"></i>`,a.innerHTML+=`<span>${data.name}</span>`,a}_createDocumentLink(eventData,{relativeTo,label}={}){if(!eventData.check)return"";switch(eventData.check.toLowerCase()){case CoC7Link.CHECK_TYPE.CHECK:{if(!eventData.linkType||!eventData.name)return"";let options=`${eventData.blind?"blind,":""}type:${eventData.linkType},name:${eventData.name}`;if(void 0!==eventData.difficulty&&eventData.difficulty!==CoC7Check.difficultyLevel.regular&&(options+=`,difficulty:${eventData.difficulty}`),void 0!==eventData.modifier&&0!==eventData.modifier&&(options+=`,modifier:${eventData.modifier}`),eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}eventData.pack&&(options+=`,pack:${eventData.pack}`),eventData.id&&(options+=`,id:${eventData.id}`);let link=`@coc7.check[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.SANLOSS:{if(!eventData.sanMax||!eventData.sanMin)return"";let options=`${eventData.blind?"blind,":""}sanMax:${eventData.sanMax},sanMin:${eventData.sanMin}`;if(eventData.sanReason&&(options+=`,sanReason:${eventData.sanReason}`),eventData.difficulty&&eventData.difficulty!==CoC7Check.difficultyLevel.regular&&(options+=`,difficulty:${eventData.difficulty}`),eventData.modifier&&0!==eventData.modifier&&(options+=`,modifier:${eventData.modifier}`),eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}let link=`@coc7.sanloss[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.ITEM:{if(!eventData.name)return"";let options=`${eventData.blind?"blind,":""}name:${eventData.name}`;if(eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}eventData.pack&&(options+=`,pack:${eventData.pack}`),eventData.id&&(options+=`,id:${eventData.id}`);let link=`@coc7.item[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.EFFECT:{const parts=eventData.object.icon.match(/^(https?):\/\/(.+)$/);parts&&(eventData.object.external=parts[1],eventData.object.icon=parts[2]);let link=`@coc7.effect[${JSON.stringify(eventData.object)}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}}return"?"}static async _onLinkActorClick(actor,options,{shiftKey=!1}={}){switch(options.check){case CoC7Link.CHECK_TYPE.CHECK:if(["charac","char","characteristic","characteristics"].includes(options.linkType.toLowerCase()))return actor.characteristicCheck(options.name,shiftKey,options);if(["skill"].includes(options.linkType.toLowerCase()))return actor.skillCheck(options,shiftKey,options);if(["attributes","attribute","attrib","attribs"].includes(options.linkType.toLowerCase()))return actor.attributeCheck(options.name,shiftKey,options);break;case CoC7Link.CHECK_TYPE.SANLOSS:return void SanCheckCard.create(actor.actorKey,options,{fastForward:shiftKey});case CoC7Link.CHECK_TYPE.ITEM:return actor.weaponCheck(options,shiftKey);case CoC7Link.CHECK_TYPE.EFFECT:await actor.createEmbeddedDocuments("ActiveEffect",[{label:options.object.label,icon:options.object.icon,changes:options.object.changes}])}}static toChatMessage(options){const option={speaker:{alias:game.user.name}};let message;const link=(new CoC7Link)._createDocumentLink(options);message=options.check===CoC7Link.CHECK_TYPE.EFFECT?`<div class="effect-message">${link}</div>`:game.i18n.format("CoC7.MessageCheckRequestedWait",{check:link}),chatHelper.createMessage(null,message,option)}static toWhisperMessage(options,actors){for(const actor of actors){const option={speaker:{alias:game.user.name},whisper:actor.owners.map((a=>a.id))};let message;const link=(new CoC7Link)._createDocumentLink(options);message=options.check===CoC7Link.CHECK_TYPE.EFFECT?`<div class="effect-message">${link}</div>`:game.i18n.format("CoC7.MessageTargetCheckRequested",{name:actor.name,check:link}),chatHelper.createMessage(null,message,option)}}static async _onLinkClick(event){const options=CoC7Link._linkFromEvent(event);if(game.user.isGM){if(isCtrlKey(event))return void CoC7ContentLinkDialog.create(options);if(canvas.tokens.controlled.length){for(const token of canvas.tokens.controlled)CoC7Link._onLinkActorClick(token.actor,options,{shiftKey:event.shiftKey});return}const speaker=ChatMessage.getSpeaker(),actor=ChatMessage.getSpeakerActor(speaker);return actor?void CoC7Link._onLinkActorClick(actor,options,{shiftKey:event.shiftKey}):void CoC7Link.toChatMessage(options)}{const speaker=ChatMessage.getSpeaker();let actor=ChatMessage.getSpeakerActor(speaker);if(!actor){const actors=game.actors.filter((a=>(a.ownership[game.user.id]??a.ownership.default)>=CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER));1===actors.length&&(actor=actors[0])}if(actor)return void CoC7Link._onLinkActorClick(actor,options,{shiftKey:event.shiftKey})}ui.notifications.warn(game.i18n.localize("CoC7.WarnNoControlledActor"))}setValue(key,value){this.object[key]=value}get link(){return this._createDocumentLink(this.object)}get id(){return this.object.id}get pack(){return this.object.pack}get checkType(){return this.object.check}get difficulty(){return this.object.difficulty}get icon(){return this.object.icon}get displayName(){return this.object.displayName}get modifier(){return this.object.modifier}get linkType(){return this.object.linkType}get sanMin(){return this.object.sanMin}get sanMax(){return this.object.sanMax}get sanReason(){return this.object.sanReason}get effect(){return this.object.object}get checkName(){if(this.isCharacteristicCheck){const characteristics=CoCActor.getCharacteristicDefinition();return characteristics.find((c=>c.key===this.object.name||c.shortName===this.object.name||c.label===this.object.name))?.key??""}return this.object.name}get isCheck(){return this.object.check===CoC7Link.CHECK_TYPE.CHECK}get isCharacteristicCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.CHARACTERISTIC}get isAttributeCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.ATTRIBUTE}get isSkillCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.SKILL}get isItemCheck(){return this.object.check===CoC7Link.CHECK_TYPE.ITEM}get isSanLossCheck(){return this.object.check===CoC7Link.CHECK_TYPE.SANLOSS}get isEffect(){return this.object.check===CoC7Link.CHECK_TYPE.EFFECT}get isBlind(){return this.isCheck&&this.object.blind}}class CoC7Parser{static enrichHTML(content){const html=document.createElement("div");html.innerHTML=String(content);let text=[];text=TextEditor._getTextNodes(html);const rgx=new RegExp("@(coc7)\\.(check|effect|item|sanloss)\\[([^\\[\\]]*(?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\])*[^\\[\\]]*\\])*[^\\[\\]]*)\\](?:{([^}]+)})?","gi");return TextEditor._replaceTextContent(text,rgx,CoC7Link._createLink),html.innerHTML}static ParseSheetContent(app,html){for(const element of html.find("div.editor-content > *, p, li"))element.outerHTML.toLocaleLowerCase().includes("@coc7")&&(element.outerHTML=CoC7Parser.enrichHTML(element.outerHTML));CoC7Link.bindEventsHandler(html)}static ParseMessage(app,html,data){if(app.isContentVisible){if(data.message.content.toLocaleLowerCase().includes("@coc7")){const parsedContent=CoC7Parser.enrichHTML(data.message.content);html.find(".message-content").html(parsedContent),data.message.content=parsedContent}return!0}}}class CoC7Item extends Item{constructor(data,context){if(data.type in CONFIG.Item.documentClasses&&!context?.extended)return new CONFIG.Item.documentClasses[data.type](data,{extended:!0,...context});void 0===data.img&&("skill"===data.type?data.img="systems/CoC7/assets/icons/skills.svg":"status"===data.type?data.img="icons/svg/aura.svg":"weapon"===data.type&&(data.img="icons/svg/sword.svg")),super(data,context)}async _createDocumentLink(eventData,{relativeTo,label}={}){if("string"==typeof eventData.type&&"string"==typeof eventData.uuid&&"Item"===eventData.type&&eventData.uuid.match(/^Actor\./)&&relativeTo instanceof CONFIG.JournalEntryPage.documentClass){const item=await fromUuid(eventData.uuid);if(["skill","weapon"].includes(item.type))return"@coc7.check[type:"+item.type+",name:"+item.name+"]"}return super._createDocumentLink(eventData,{relativeTo,label})}static get iconLanguage(){return"systems/CoC7/assets/icons/skills/language.svg"}static get flags(){return{malfunction:"malfc"}}async toggleProperty(propertyId,override=!1){let fighting,firearms,checkedProps={};if(void 0!==COC7.eras[propertyId])return CoCIDEditor.eraToggle(this,propertyId);if("weapon"!==this.type||override){if("skill"===this.type&&!override){let modif=!1;if("combat"===propertyId&&(this.system.properties.combat?checkedProps={"system.properties.combat":!1,"system.properties.special":!1,"system.properties.fighting":!1,"system.properties.firearm":!1,"system.specialization":"",name:this.system.skillName}:this.system.properties.firearm?firearms=!0:fighting=!0,modif=!0),"fighting"===propertyId&&(this.system.properties.fighting?(firearms=!0,fighting=!1):(firearms=!1,fighting=!0),modif=!0),"firearm"===propertyId&&(this.system.properties.firearm?(firearms=!1,fighting=!0):(firearms=!0,fighting=!1),modif=!0),modif){if(fighting){checkedProps={"system.properties.fighting":!0,"system.properties.firearm":!1,"system.properties.combat":!0,"system.properties.special":!0};const parts=CoC7Item.getNamePartsSpec(this.system.skillName,game.i18n.localize(COC7.fightingSpecializationName));checkedProps.name=parts.name,checkedProps.skillName=parts.skillName,checkedProps["system.specialization"]=parts.specialization}if(firearms){checkedProps={"system.properties.fighting":!1,"system.properties.firearm":!0,"system.properties.combat":!0,"system.properties.special":!0};const parts=CoC7Item.getNamePartsSpec(this.system.skillName,game.i18n.localize(COC7.firearmSpecializationName));checkedProps.name=parts.name,checkedProps.skillName=parts.skillName,checkedProps["system.specialization"]=parts.specialization}}}}else if("ahdb"===propertyId&&(checkedProps=this.system.properties.ahdb?{"system.properties.ahdb":!1}:{"system.properties.ahdb":!0,"system.properties.addb":!1}),"addb"===propertyId&&(checkedProps=this.system.properties.addb?{"system.properties.addb":!1}:{"system.properties.addb":!0,"system.properties.ahdb":!1}),"shotgun"===propertyId&&(checkedProps=this.system.properties.shotgun?{"system.properties.shotgun":!1,"system.range.extreme.value":null,"system.range.extreme.damage":null,"system.range.long.value":null,"system.range.long.damage":null}:{"system.properties.rngd":!0,"system.properties.melee":!1,"system.properties.shotgun":!0}),"melee"===propertyId||"rngd"===propertyId){let meleeWeapon;"melee"!==propertyId||this.system.properties.melee||(meleeWeapon=!0),"melee"===propertyId&&this.system.properties.melee&&(meleeWeapon=!1),"rngd"!==propertyId||this.system.properties.rngd||(meleeWeapon=!1),"rngd"===propertyId&&this.system.properties.rngd&&(meleeWeapon=!0),checkedProps=meleeWeapon?{"system.properties.melee":!0,"system.properties.rngd":!1,"system.properties.shotgun":!1,"system.properties.brst":!1,"system.properties.auto":!1,"system.properties.dbrl":!1}:{"system.properties.melee":!1,"system.properties.rngd":!0}}if("special"===propertyId&&(checkedProps=this.system.properties[propertyId]?{"system.properties.special":!1,"system.properties.fighting":!1,"system.properties.firearm":!1,"system.properties.combat":!1,"system.specialization":"",name:this.system.skillName}:{"system.properties.special":!0,name:this.system.specialization+" ("+this.system.skillName+")"}),Object.keys(checkedProps).length>0){return await this.update(checkedProps)}{const propName=`system.properties.${propertyId}`,propValue=!this.system.properties[propertyId];await this.update({[propName]:propValue}).then((item=>item))}}hasProperty(propertyId){return this.isIncludedInSet("properties",propertyId)}get shortName(){return this.system.properties.special?this.system.skillName:this.name}async updateRoll(roll){return"updateRoll"in this.sheet?await this.sheet.updateRoll(roll):"updateRoll"in this?await this.updateRoll(roll):void 0}static getNamePartsSpec(skillName,specialization){if(!specialization)return{name:skillName,specialization:"",skillName};const specNameRegex=new RegExp("^("+CoC7Utilities.quoteRegExp(specialization)+")\\s*\\((.+)\\)$","i"),match=skillName.match(specNameRegex);return match&&(specialization=match[1],skillName=match[2]),{name:specialization+" ("+skillName+")",specialization,skillName}}static getNameWithoutSpec(item){if(item instanceof CoC7Item){if(item.system?.properties?.special&&void 0!==item.system.skillName)return item.system.skillName}else if(item.properties?.special&&void 0!==item.skillName)return item.skillName;return item.name}static isAnySpec(item){return!("skill"!==item.type||!item.system.properties?.special)&&(!(!item.system.properties?.requiresname&&!item.system.properties?.picknameonly)||[game.i18n.localize("CoC7.AnySpecName").toLowerCase(),"any"].includes(CONFIG.Item.documentClasses.skill.guessNameParts(item.name).skillName.toLowerCase()))}async checkSkillProperties(){if("skill"!==this.type)return;const checkedProps={};return this.system.properties.combat?(this.system.properties.special||(this.system.properties.special=!0,checkedProps["system.properties.special"]=!0),this.system.properties.fighting||this.system.properties.firearm||(this.system.properties.fighting=!0,checkedProps["system.properties.fighting"]=!0),!this.system.properties.fighting||this.system.specialization&&""!==this.system.specialization||(this.system.specialization=game.i18n.localize(COC7.fightingSpecializationName),checkedProps["system.specialization"]=game.i18n.localize(COC7.fightingSpecializationName)),!this.system.properties.firearm||this.system.specialization&&""!==this.system.specialization||(this.system.specialization=game.i18n.localize(COC7.firearmSpecializationName),checkedProps["system.specialization"]=game.i18n.localize(COC7.firearmSpecializationName))):(this.system.properties.fighting&&(this.system.properties.fighting=!1,checkedProps["system.properties.fighting"]=!1),this.system.properties.firearm&&(this.system.properties.firearm=!1,checkedProps["system.properties.firearm"]=!1)),Object.keys(checkedProps).length>0&&await this.update(checkedProps),checkedProps}isIncludedInSet(set,propertyId){this.system[set]||(this.system[set]=[]);return this.system[set].indexOf(propertyId)>-1}async flagForDevelopement(){(game.settings.get("CoC7","xpEnabled")||game.user.isGM)&&(this.system.flags||await this.update({"system.flags":{}}),await this.update({"system.flags.developement":!0}))}async unflagForDevelopement(){(game.settings.get("CoC7","xpEnabled")||game.user.isGM)&&(this.system.flags||await this.update({"system.flags":{}}),await this.update({"system.flags.developement":!1}))}get developementFlag(){return this.getItemFlag("developement")}async toggleItemFlag(flagName,eraseAdjustment=!0){const flagValue=!this.getItemFlag(flagName),name=`system.flags.${flagName}`;"occupation"!==flagName&&"archetype"!==flagName||flagValue||!eraseAdjustment?"developement"===flagName?game.settings.get("CoC7","xpEnabled")||game.user.isGM?await this.update({[name]:flagValue}):ui.notifications.info(game.i18n.localize("CoC7.SkillXpGainDisabled")):await this.update({[name]:flagValue}):await this.update({[`system.adjustments.${flagName}`]:null,[name]:flagValue})}async setItemFlag(flagName){await this.update({[`system.flags.${flagName}`]:!0})}async unsetItemFlag(flagName,eraseAdjustment=!0){const name=`system.flags.${flagName}`;"occupation"!==flagName&&"archetype"!==flagName||!eraseAdjustment?await this.update({[name]:!1}):await this.update({[`system.adjustments.${flagName}`]:null,[name]:!1})}getItemFlag(flagName){return this.system.flags?!!this.system.flags[flagName]&&this.system.flags[flagName]:(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),!1)}get usesAlternativeSkill(){return"weapon"===this.type&&(!0===this.system.properties?.auto||!0===this.system.properties?.brst||!0===this.system.properties?.thrown)}get maxUsesPerRound(){if("weapon"!==this.type)return null;const multiShot=parseInt(this.system.usesPerRound.max);return isNaN(multiShot)?0:multiShot}get usesPerRound(){if("weapon"!==this.type)return null;const singleShot=parseInt(this.system.usesPerRound.normal);return isNaN(singleShot)?0:singleShot}get usesPerRoundString(){let usesPerRound;return usesPerRound=this.system.usesPerRound.normal?this.system.usesPerRound.normal:"1",this.system.usesPerRound.max&&(usesPerRound+=`(${this.system.usesPerRound.max})`),this.system.properties.auto&&(usesPerRound+=` ${game.i18n.localize("CoC7.WeaponAuto")}`),this.system.properties.brst&&(usesPerRound+=` ${game.i18n.localize("CoC7.WeaponBrst")}`,this.system.usesPerRound.burst&&(usesPerRound+=`(${this.system.usesPerRound.burst})`)),usesPerRound}get multipleShots(){return"weapon"!==this.type?null:!(this.maxUsesPerRound<=1)}get singleShot(){return"weapon"!==this.type?null:!!this.usesPerRound}get baseRange(){return parseInt(this.system.range.normal.value)}get longRange(){return parseInt(this.system.range.long.value)}get extremeRange(){return parseInt(this.system.range.extreme.value)}get skillProperties(){if("skill"!==this.type)return[];const skillProperties=[];for(const[key,value]of Object.entries(COC7.skillProperties))!0===this.system.properties[key]&&skillProperties.push(game.i18n.localize(value));return skillProperties}static async calculateBase(actor,data){if("skill"!==data.type)return null;if(String(data.system.base).includes("@")){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.actor.")&&(parsed[key.substring(1)]=getProperty(actor,value.substring(11)));let value;try{value=Math.floor(new Roll(data.system.base,parsed).evaluate({maximize:!0}).total)}catch(err){value=0}return value}return isNaN(parseInt(data.system.base))?null:parseInt(data.system.base)}get _base(){if("skill"!==this.type)return[null,!1];if("string"!=typeof this.system.base)return[this.system.base,!1];if(this.system.base.includes("@")){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));let value;try{value=Math.floor(new Roll(this.system.base,parsed).evaluate({maximize:!0}).total)}catch(err){value=0}return[value,!0]}return[isNaN(parseInt(this.system.base))?null:parseInt(this.system.base),!1]}async asyncBase(){const e=this._base;return e[1]&&(console.info(`[COC7] (${this.parent?.name}) Evaluating skill ${this.name}:${this.system.base} to ${e[0]}`),await this.update({"system.base":e[0]})),e[0]}get base(){const e=this._base;return e[1]&&this.update({"system.base":e[0]}),e[0]}getBulletLeft(){return"weapon"!==this.type?null:this.system.ammo?this.system.ammo:(this.setBullets(0),0)}async reload(){if("weapon"!==this.type)return null;const maxBullet=this.system.bullets?parseInt(this.system.bullets):1;await this.setBullets(maxBullet)}async setBullets(bullets){if("weapon"!==this.type)return null;await this.update({"system.ammo":bullets||0})}async addBullet(){if("weapon"!==this.type)return null;const bullets=await this.getBulletLeft(),maxBullets=this.system.bullets?parseInt(this.system.bullets):1;bullets+1>=maxBullets?await this.setBullets(maxBullets):await this.setBullets(bullets+1)}async shootBullets(x){if("weapon"!==this.type)return null;const bullets=await this.getBulletLeft();x>bullets?await this.setBullets(0):await this.setBullets(bullets-x)}static mergeOptionalSkills(skillList,options){return skillList.concat(options).reduce(((newArray,item)=>!CoC7Item.isAnySpec(item)&&newArray.find((skill=>skill.name===item.name))?newArray:[...newArray,item]),[]).sort(CoC7Utilities.sortByNameKey)}static _getChatCardActor(card){const tokenKey=card.dataset.tokenId;if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;return new Token(tokenData).actor}}const actorId=card.dataset.actorId;return game.actors.get(actorId)||null}getChatData(htmlOptions={}){htmlOptions.async=!1;const data=duplicate(this.system);"string"==typeof data.description&&(data.description={value:data.description,special:""}),void 0===data.description.value&&(data.description.value=""),void 0===data.description.special&&(data.description.special="");const labels=[];data.description.value=TextEditor.enrichHTML(data.description.value,htmlOptions),data.description.value=CoC7Parser.enrichHTML(data.description.value),data.description.special=TextEditor.enrichHTML(data.description.special,htmlOptions),data.description.special=CoC7Parser.enrichHTML(data.description.special);const props=[],fn=this[`_${this.type}ChatData`];if(fn&&fn.bind(this)(data,labels,props,htmlOptions),"skill"===this.type)for(const[key,value]of Object.entries(COC7.skillProperties))!0===this.system.properties[key]&&props.push(value);return data.properties=props.filter((p=>!!p)),data.labels=labels,data}_weaponChatData(data,labels,props){for(const[key,value]of Object.entries(COC7.weaponProperties))!0===this.system.properties[key]&&props.push(value);let skillLabel=game.i18n.localize("CoC7.Skill"),skillName="",found=!1;if(this.system.skill.main.id){const skill=this.actor?.items.get(this.system.skill.main.id);skill&&(skillName+=CoC7Item.getNameWithoutSpec(skill),found=!0)}if(this.usesAlternativeSkill&&this.system.skill.alternativ.id){skillLabel=game.i18n.localize("CoC7.Skills");const skill=this.actor?.items.get(this.system.skill.alternativ.id);skill&&(skillName+=`/${CoC7Item.getNameWithoutSpec(skill)}`,found=!0)}found||(skillName=this.system.skill.main.name,this.usesAlternativeSkill&&this.system.skill.alternativ.name&&(skillName+=`/${this.system.skill.alternativ.name}`)),skillName&&labels.push({name:skillLabel,value:skillName}),labels.push({name:game.i18n.localize("CoC7.WeaponUsesPerRound"),value:this.usesPerRoundString}),labels.push({name:game.i18n.localize("CoC7.WeaponMalfunction"),value:this.system.malfunction?this.system.malfunction:"-"}),this.system.bullets&&labels.push({name:game.i18n.localize("CoC7.WeaponBulletsInMag"),value:this.system.bullets})}canBePushed(){return!("skill"!==this.type||!this.system.properties.push)}get impale(){return this.system.properties.impl}get isDodge(){return"skill"===this.type&&this.name.toLowerCase()===game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.dodge").toLowerCase()}}class CoC7Check{constructor(actor=null,skill=null,item=null,diceMod=0,difficulty=null,flatThresholdModifier=0,flatDiceModifier=0){if(this.actor=actor,this.skill=skill,this.item=item,this.difficulty=difficulty,this.diceModifier=diceMod,this.rawValue=0,this.successLevel=null,this.referenceMessageId=null,this.pushing=!1,this.flatDiceModifier=flatDiceModifier,this.flatThresholdModifier=flatThresholdModifier,null===difficulty){const isUnknown="unknown"===game.settings.get("CoC7","defaultCheckDifficulty");this.difficulty=isUnknown?CoC7Check.difficultyLevel.unknown:CoC7Check.difficultyLevel.regular}}static get cardType(){return"rollCard"}static get difficultyLevel(){return{unknown:-1,regular:1,hard:2,extreme:3,critical:4,impossible:9}}static get successLevel(){return{fumble:-99,failure:0,regular:1,hard:2,extreme:3,critical:4}}static get type(){return{characteristic:"characteristic",attribute:"attribute",skill:"item",item:"item",value:"value"}}static difficultyString(difficultyLevel){switch(isNaN(Number(difficultyLevel))?difficultyLevel:Number(difficultyLevel)){case"?":return game.i18n.localize("CoC7.UnknownDifficulty");case"+":return game.i18n.localize("CoC7.HardDifficulty");case"++":return game.i18n.localize("CoC7.ExtremeDifficulty");case"+++":return game.i18n.localize("CoC7.CriticalDifficulty");case 0:return game.i18n.localize("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.unknown:return game.i18n.localize("CoC7.UnknownDifficulty");case CoC7Check.difficultyLevel.regular:return game.i18n.localize("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.hard:return game.i18n.localize("CoC7.HardDifficulty");case CoC7Check.difficultyLevel.extreme:return game.i18n.localize("CoC7.ExtremeDifficulty");case CoC7Check.difficultyLevel.critical:return game.i18n.localize("CoC7.CriticalDifficulty");default:return null}}get rawValue(){if(this._rawValue||(this.characteristic&&(this.rawValue=this.actor.system.characteristics[this.characteristic].value),this.skill&&(this.rawValue=this.skill.value),this.attribute&&(this.rawValue=this.actor.system.attribs[this.attribute].value)),this._rawValue)return this.flatThresholdModifier&&game.settings.get("CoC7","allowFlatThresholdModifier")?this._rawValue+this.flatThresholdModifier<1?1:this._rawValue+this.flatThresholdModifier:this._rawValue}set rawValue(x){this._rawValue=x}set uuid(x){this._uuid=x}get uuid(){return this._uuid||(this._uuid=foundry.utils.randomID(16)),this._uuid}get hasCard(){return ui.chat.collection.filter((message=>this.uuid===message.getFlag("CoC7","uuid")&&CoC7Check.cardType===message.getFlag("CoC7","type"))).length>0}get rawValueString(){if(this._rawValue)return this.flatThresholdModifier&&game.settings.get("CoC7","allowFlatThresholdModifier")?this.flatThresholdModifier<0?this._rawValue.toString()+this.flatThresholdModifier.toString():this._rawValue.toString()+"+"+this.flatThresholdModifier.toString():this._rawValue.toString()}get criticalThreshold(){return 1}get regularThreshold(){return this.rawValue?this.rawValue>=100?99:parseInt(this.rawValue):null}get hardThreshold(){return this.rawValue?Math.floor(this.rawValue/2):null}get extremeThreshold(){return this.rawValue?Math.floor(this.rawValue/5):null}get fumbleThreshold(){if(this.rawValue){if(this.difficulty){if(this.difficulty>=CoC7Check.difficultyLevel.extreme)return this.extremeThreshold<50?96:100;if(this.difficulty>=CoC7Check.difficultyLevel.hard)return this.hardThreshold<50?96:100}return this.rawValue<50?96:100}return null}get succesThreshold(){if(void 0!==this.difficulty)switch(this.difficulty){case CoC7Check.difficultyLevel.extreme:return this.extremeThreshold;case CoC7Check.difficultyLevel.hard:return this.hardThreshold;case CoC7Check.difficultyLevel.regular:return this.regularThreshold;case CoC7Check.difficultyLevel.critical:return this.criticalThreshold;case CoC7Check.difficultyLevel.unknown:return-1;default:return this.rawValue}return null}get difficultyString(){if(void 0!==this.difficulty)switch(this.difficulty){case CoC7Check.difficultyLevel.extreme:return game.i18n.format("CoC7.ExtremeDifficulty");case CoC7Check.difficultyLevel.hard:return game.i18n.format("CoC7.HardDifficulty");case CoC7Check.difficultyLevel.regular:return game.i18n.format("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.critical:return game.i18n.format("CoC7.CriticalDifficulty");case CoC7Check.difficultyLevel.unknown:return game.i18n.format("CoC7.UnknownDifficulty");default:return""}return""}get modifiedResult(){if(!this.standby){if(void 0!==this._modifiedResult)return this._modifiedResult;if(this.flatDiceModifier){const modified=this.dices.total+this.flatDiceModifier;return modified<1?1:modified>100?100:modified}return this.dices.total}}set modifiedResult(x){this._modifiedResult=x}get flatDiceModifierString(){return this.flatDiceModifier?this.flatDiceModifier>0?`+${this.flatDiceModifier}`:this.flatDiceModifier.toString():null}get isFumble(){if(!this.standby&&!this.isSimpleRoll)return this.modifiedResult>=this.fumbleThreshold}get isCritical(){if(!this.standby)return 1===this.modifiedResult}get isExtremeSuccess(){if(!this.standby)return this.successLevel>=CoC7Check.successLevel.extreme}get passed(){if(!this.standby&&!this.isSimpleRoll)return this.luckSpent?this.difficulty<=this.successLevel:this.succesThreshold>=this.modifiedResult||this.isCritical}get failed(){if(!this.standby&&!this.isSimpleRoll)return!this.passed}get isSimpleRoll(){return void 0===this.rawValue}get hasBonus(){return!!(this.diceModifier&&this.diceModifier>0)}get hasPenalty(){return!!(this.diceModifier&&this.diceModifier<0)}get hasModifier(){return!(!this.diceModifier||0===this.diceModifier)}get diceModifier(){return this._diceModifier?this._diceModifier:null}set diceModifier(x){this._diceModifier=parseInt(x)}get name(){if(this.actor){if(this.skill)return this.skill.shortName;if(this.item)return this.item.name;if(this.characteristic)return CoC7Utilities.getCharacteristicNames(this.characteristic)?.label;if(this.attribute){if("lck"===this.attribute)return game.i18n.localize("CoC7.Luck");if("san"===this.attribute)return game.i18n.localize("CoC7.Sanity")}}return null}get shortName(){if(this.actor){if(this.skill)return this.skill.shortName;if(this.item)return this.item.name;if(this.characteristic)return CoC7Utilities.getCharacteristicNames(this.characteristic)?.short;if(this.attribute){if("lck"===this.attribute)return game.i18n.localize("CoC7.Luck");if("san"===this.attribute)return game.i18n.localize("CoC7.SAN")}}return null}get fullName(){const difficulty=this._difficulty!==CoC7Check.difficultyLevel.regular&&CoC7Check.difficultyString(this._difficulty),modifier=this._diceModifier>0?`+${this._diceModifier}`:this._diceModifier.toString();return game.i18n.format(`CoC7.LinkCheck${difficulty?"Diff":""}${this._diceModifier?"Modif":""}`,{difficulty,modifier,name:this.name})}get rolled(){return!!this.dice}static getFromCard(card){const rollResult=card.classList.contains("roll-result")?card:card.querySelector(".roll-result"),check=new CoC7Check;CoC7Roll.getFromElement(rollResult,check);const message=card.closest(".message");return check.messageId=message?message.dataset.messageId:null,check}static async push(card,publish=!0){const oldCheck=CoC7Check.getFromCard(card),actorId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId,skillId=card.dataset.skillId,charac=card.dataset.characteristic,itemId=card.dataset.itemId,diceMod=card.dataset.diceMod,difficulty=card.dataset.difficulty;let pushedRoll;if(skillId)pushedRoll=new CoC7Check(actorId,skillId,itemId,diceMod,difficulty);else{if(!charac)return;pushedRoll=new CoC7Check,pushedRoll.diceModifier=diceMod,pushedRoll.difficulty=difficulty,pushedRoll.actor=actorId,pushedRoll.characteristic=charac}oldCheck.uuid&&(pushedRoll.context=oldCheck.context,pushedRoll.uuid=oldCheck.uuid),oldCheck.parent&&(pushedRoll.parent=oldCheck.parent),pushedRoll.pushing=!0,await pushedRoll.roll(),publish&&pushedRoll.toMessage(!0,card)}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}set actor(x){if(this.actorKey=x,null!=x){if(x instanceof Actor)return this._actor=x,this._actor.alias=this.actor.name,void(x.token&&x.token.scene&&x.token.scene.id?this.actorKey=`${x.token.scene.id}.${x.token.id}`:this.actorKey=x.id);if(x.includes(".")){const[sceneId,tokenId]=x.split(".");if("TOKEN"===sceneId)this._actor=game.actors.tokens[tokenId],this._actor.alias=this._actor.name;else{const scene=game.scenes.get(sceneId);if(!scene)return;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return;const token=new Token(tokenData);this._actor=token.actor,this._actor.alias=token.name}}else this._actor=game.actors.get(x),this.actor.alias=this.actor.name}else this._actor=x}get successLevelIcons(){if(this.unknownDifficulty)return null;if(this.isSimpleRoll)return null;if(this.successLevel>=this.difficulty){const icons=[];for(let index=0;index<this.successLevel-this.difficulty+1;index++)icons.push(this.isCritical?"medal":"star");const successHint=game.i18n.format("CoC7.SuccesLevelHint",{value:this.successLevel-this.difficulty+1});return{success:!0,cssClass:this.isCritical?"critical":"success",hint:successHint,icons}}{const icons=[],successLevel=this.isFumble?-1:this.successLevel;for(let index=0;index<this.difficulty-successLevel;index++)icons.push(this.isFumble?"skull":"spider");const failureHint=game.i18n.format("CoC7.FailureLevelHint",{value:this.difficulty-successLevel});return{success:!1,cssClass:this.isFumble?"fumble":"failure",hint:failureHint,icons}}}get isBlind(){return void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind}set isBlind(x){this._isBlind=x}get unknownDifficulty(){return!(this.gmDifficultyCritical||this.gmDifficultyExtreme||this.gmDifficultyHard||this.gmDifficultyRegular)&&CoC7Check.difficultyLevel.unknown===this.difficulty}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}set skill(x){this._skill=this._getItemFromId(x),this.skillId=x}set item(x){this._item=this._getItemFromId(x),"weapon"===this._item?.type?this.itemId=x:(this._item=void 0,this.itemId=void 0)}_getItemFromId(x){return null==x?null:x instanceof Item?x:this._actor?this._actor.items.get(x):game.items.get(x)}get actor(){if(this._actor&&this._actor?.id){if("Object"===this._actor.constructor.name){const actor=new CoCActor(this._actor);this._actor=actor}}else if(this.actorKey&&(this._actor=chatHelper.getActorFromKey(this.actorKey)),this.actorId&&(this._actor=chatHelper.getActorFromKey(this.actorId)),!this._actor)return{isDummy:!0,name:this.actorName?this.actorName:void 0,id:void 0,img:"systems/CoC7/assets/icons/question-circle-regular.svg",portrait:"systems/CoC7/assets/icons/question-circle-regular.svg"};return this._actor}get skill(){return!this._skill&&this.skillId&&(this._skill=this.actor?.items.get(this.skillId)),!this._skill&&this.item&&this.item.system.skill&&(this.item.system.skill.main.id&&!this.weaponAltSkill?this._skill=this._actor.items.get(this.item.system.skill.main.id):this.item.system.skill.alternativ.id&&this.weaponAltSkill&&(this._skill=this._actor.items.get(this.item.system.skill.alternativ.id))),this._skill}get item(){return!this._item&&this.itemId&&this.actor&&(this._item=this.actor.items.get(this.itemId)),this._item}get displayResultType(){return game.settings.get("CoC7","displayResultType")}get displayCheckSuccessLevel(){return game.settings.get("CoC7","displayCheckSuccessLevel")}get displayBothSuccessLevel(){return this.displayResultType&&this.displayCheckSuccessLevel}get dontDisplaySuccessLevel(){return!this.displayResultType&&!this.displayCheckSuccessLevel}get image(){return this.skill?this.skill.img:this.item?this.item.img:void 0}get link(){return this.getLinkElement().outerHTML}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}getLinkElement(classes=null){const data={cls:["coc7-link","coc7-roll"].concat(classes),dataset:{check:"check"},icon:this.image?`<div style="background-image: url(${this.image})"></div>`:'<i class="fas fa-dice"></i>',blind:this.isBlind},difficulty=CoC7Check.difficultyString(this._difficulty),title=game.i18n.format(`CoC7.LinkCheck${this._difficulty?"Diff":""}${this._diceModifier?"Modif":""}`,{difficulty,modifier:this._diceModifier,name:this.name}),a=document.createElement("a");return a.title=title,a.classList.add(...data.cls),a.innerHTML=`${data.blind?'<i class="fas fa-eye-slash"></i>':""}${data.icon}${this.name}`,a}async roll(diceMod=null,difficulty=null,options={}){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.standby||await this._perform(options)}static createFromActorRollData(rollData){const roll={};switch(rollData.difficulty&&(roll.difficulty=rollData.difficulty),rollData.diceModifier&&(roll.diceModifier=rollData.diceModifier),!0===rollData.denyPush&&(roll.denyPush=!0),rollData.flatDiceModifier&&(roll.flatDiceModifier=rollData.flatDiceModifier),rollData.flatThresholdModifier&&(roll.flatThresholdModifier=rollData.flatThresholdModifier),rollData.actor?.actorKey?roll.actorKey=rollData.actor.actorKey:rollData.actor?.name&&(roll.actorName=rollData.actor.name),rollData.type){case CoC7Check.type.characteristic:roll.characteristic=rollData.value?.key;break;case CoC7Check.type.attribute:roll.attribute=rollData.value?.key;break;case CoC7Check.type.item:roll.actorKey=rollData.value.actor.actorKey,"skill"===rollData.value?.type?roll.skill=rollData.value.id:roll.item=rollData.value.id;break;case CoC7Check.type.skill:roll.actorKey=rollData.value.actor.actorKey,roll.skill=rollData.value.id;break;case CoC7Check.type.value:roll.displayName=rollData.value.name,roll.rawValue=rollData.value.threshold}return CoC7Check.create(roll)}static create({difficulty=CoC7Check.difficultyLevel.regular,diceModifier=null,actorKey=null,characteristic=null,attribute=null,rawValue=0,item=null,skill=null,flatDiceModifier=0,flatThresholdModifier=0,displayName=null,actorName=null,denyPush}={}){const check=new CoC7Check;return check.difficulty=difficulty,!0===denyPush&&(check.denyPush=!0),diceModifier&&(check.diceModifier=diceModifier),flatDiceModifier&&(check.flatDiceModifier=flatDiceModifier),flatThresholdModifier&&(check.flatThresholdModifier=flatThresholdModifier),displayName&&(check.displayName=displayName),actorKey&&(check.actor=actorKey),actorName&&(check.actorName=actorName),isNaN(Number(rawValue))||(check.rawValue=Number(rawValue)),check.actor&&!check.actor.isDummy&&(skill?check.skill=skill:characteristic?check.characteristic=characteristic:attribute?check.attribute=attribute:item&&(check.item=item)),check}async rollCharacteristic(char,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.characteristic=char,this.standby||await this._perform()}async rollAttribute(attrib,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.attribute=attrib,this.standby||await this._perform()}async rollValue(val,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.rawValue=val,this.standby||await this._perform()}get rolledSuccessLevel(){return this.successLevel}async _perform(options={}){this.dice=options.roll||await CoC7Dice.roll(this.diceModifier,this.rollMode,this.isBlind),options.silent||game.modules.get("dice-so-nice")?.active||AudioHelper.play({src:CONFIG.sounds.dice},!0),options.forceDSN&&await CoC7Dice.showRollDice3d(this.dice.roll),this.dices={tens:[],unit:{value:this.dice.unit.total},total:this.dice.total,tenResult:this.dice.total-this.dice.unit.total,hasBonus:!!this.diceModifier,bonus:Math.abs(this.diceModifier),bonusType:this.diceModifier<0?game.i18n.format("CoC7.DiceModifierPenalty"):game.i18n.format("CoC7.DiceModifierBonus"),difficulty:this.difficulty};const max=0===this.dice.unit.total?100:90,min=0===this.dice.unit.total?10:0;let selected=this.dice.total-this.dice.unit.total;for(let i=0;i<this.dice.tens.results.length;i++){const die={};die.value=this.dice.tens.results[i],die.value===selected?(selected=101,die.selected=!0,this.dices.hasBonus?(die.isMax=!0,die.isMin=!1):(die.isMin=!0,die.isMax=!1)):(die.value===max?die.isMax=!0:die.isMax=!1,die.value===min?die.isMin=!0:die.isMin=!1),this.dices.tens.push(die)}this.computeCheck()}async computeCheck(){switch(this.isUnknown=this.unknownDifficulty,this.gmDifficultyRegular&&(this.difficulty=CoC7Check.difficultyLevel.regular),this.gmDifficultyHard&&(this.difficulty=CoC7Check.difficultyLevel.hard),this.gmDifficultyExtreme&&(this.difficulty=CoC7Check.difficultyLevel.extreme),this.gmDifficultyCritical&&(this.difficulty=CoC7Check.difficultyLevel.critical),this.tenOnlyOneDie=1===this.dices.tens.length,this.isValue=!1,this.isCharactiristic=!1,this.isSkill=!1,this.isItem=!1,this.isAttribute=!1,this.isSimpleRoll?(this.denyPush=!0,this.denyLuck=!0):null==this.actor?this.isValue=!0:(this.characteristic&&(this.isCharactiristic=!0,this.rawValue=this.actor.system.characteristics[this.characteristic].value),this.skill&&(this.isSkill=!0,this.rawValue=this.skill.value),this.attribute&&(this.isAttribute=!0,this.rawValue=this.actor.system.attribs[this.attribute].value)),this.luckSpent||this.isSimpleRoll||(this.modifiedResult<=this.rawValue&&(this.successLevel=CoC7Check.successLevel.regular),this.modifiedResult<=this.hardThreshold&&(this.successLevel=CoC7Check.successLevel.hard),this.modifiedResult<=this.extremeThreshold&&(this.successLevel=CoC7Check.successLevel.extreme),this.modifiedResult>this.rawValue&&(this.successLevel=CoC7Check.successLevel.failure),1===this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.critical),this.fumbleThreshold<=this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.fumble)),this.successLevel){case CoC7Check.successLevel.regular:this.resultType=game.i18n.format("CoC7.RegularSuccess");break;case CoC7Check.successLevel.hard:this.resultType=game.i18n.format("CoC7.HardSuccess");break;case CoC7Check.successLevel.extreme:this.resultType=game.i18n.format("CoC7.ExtremeSuccess");break;case CoC7Check.successLevel.critical:this.resultType=game.i18n.format("CoC7.CriticalSuccess");break;case CoC7Check.successLevel.fumble:this.resultType=game.i18n.format("CoC7.Fumble");break;case CoC7Check.successLevel.failure:this.resultType=game.i18n.format("CoC7.Failure")}if(this.unknownDifficulty?this.successRequired="":this.isSimpleRoll||(this.successRequired=game.i18n.format("CoC7.SuccessRequired",{successRequired:this.difficultyString})),1===this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.critical),this.luckSpent||this.isUnknown||this.isSimpleRoll||(this.isFailure=this.failed,this.isSuccess=this.passed),this.hasMalfunction=!1,this.isFumble&&(this.successLevel=CoC7Check.successLevel.fumble),this.item&&(this.isItem=!0,this.item.system.malfunction&&Number(this.modifiedResult)>=Number(this.item.system.malfunction)&&(this.hasMalfunction=!0,this.malfunctionTxt=game.i18n.format("CoC7.Malfunction",{itemName:this.item.name}),await this.item.toggleItemFlag(CoC7Item.flags.malfunction))),void 0===this.canBePushed&&(this.canBePushed=!!this.skill&&this.skill.canBePushed(),null!=this.characteristic&&(this.canBePushed=!0),this.isFumble&&(this.canBePushed=!1),this.denyPush&&(this.canBePushed=!1)),!this.denyLuck&&this.actor){if(!(this.luckSpent||this.passed||this.isFumble||this.difficulty===CoC7Check.difficultyLevel.critical||this.unknownDifficulty)&&(this.skill||this.characteristic)){const luckNeeded=this.modifiedResult-this.succesThreshold;this.actor.luck>luckNeeded&&(this.hasEnoughLuck=!0,this.luckNeeded=luckNeeded,this.luckNeededTxt=game.i18n.format("CoC7.SpendLuck",{luckNeededValue:luckNeeded}))}if(!this.luckSpent&&(this.increaseSuccess=[],!this.pushing&&"lck"!==this.attribute&&"san"!==this.attribute)){if(this.unknownDifficulty&&this.modifiedResult>this.regularThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.RegularDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.regular,nextLevel.luckToSpend=this.modifiedResult-this.regularThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}if(this.difficulty<=CoC7Check.difficultyLevel.regular&&this.modifiedResult>this.hardThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.HardDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.hard,nextLevel.luckToSpend=this.modifiedResult-this.hardThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}if(this.difficulty<=CoC7Check.difficultyLevel.hard&&this.modifiedResult>this.extremeThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.ExtremeDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.extreme,nextLevel.luckToSpend=this.modifiedResult-this.extremeThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}}this.canIncreaseSuccess=this.increaseSuccess.length>0,this.isFumble&&(this.canIncreaseSuccess=!1)}if(this.canAwardExperience=this.skill&&!this.skill.system.properties.noxpgain,!(this.passed&&this.diceModifier<=0&&this.skill)||this.skill.system.properties.noxpgain||this.luckSpent||this.forced||this.isBlind||this.isUnknown||this.flagForDevelopement(),this.parent){const parent=await fromUuid(this.parent);parent&&"updateRoll"in parent&&await parent.updateRoll(this.JSONRollString)}}showDiceRoll(){if(game.modules.get("dice-so-nice")?.active){const diceResults=[];for(const dieResult of this.dices.tens)diceResults.push(100===dieResult.value?0:dieResult.value/10);diceResults.push(this.dices.unit.value);const diceData={formula:`${this.dices.tens.length}d100+1d10`,results:diceResults,whisper:null,blind:!1};game.dice3d.show(diceData)}}get cssClass(){let cssClass="";return this.isSuccess&&(cssClass="success"),this.isFailure&&(cssClass="failure"),this.isCritical&&!this.isFailure&&(cssClass="success critical"),this.isFumble&&!this.isSuccess&&(cssClass="failure fumble"),CoC7Check.successLevel.regular===this.successLevel&&(cssClass+=" regular-success"),CoC7Check.successLevel.hard===this.successLevel&&(cssClass+=" hard-success"),CoC7Check.successLevel.extreme===this.successLevel&&(cssClass+=" extreme-success"),cssClass}get cssClassList(){const cssClass=[];return this.isSuccess&&cssClass.push("success"),this.isFailure&&cssClass.push("failure"),this.isCritical&&!this.isFailure&&cssClass.push("success","critical"),this.isFumble&&!this.isSuccess&&cssClass.push("failure","fumble"),CoC7Check.successLevel.regular===this.successLevel&&cssClass.push("regular-success"),CoC7Check.successLevel.hard===this.successLevel&&cssClass.push("hard-success"),CoC7Check.successLevel.extreme===this.successLevel&&cssClass.push("extreme-success"),cssClass}get playerCssClass(){return this.isSuccess||this.forcedSuccess?"success":this.isFailure||this.forcedFailure?"failure":null}async upgradeCheck(upgradeindex,update=!0){const increasedSuccess=this.increaseSuccess[upgradeindex],luckAmount=parseInt(increasedSuccess.luckAmount)||parseInt(increasedSuccess.luckToSpend);if(!this.actor.spendLuck(luckAmount))return void ui.notifications.error(game.i18n.format("CoC7.ErrorNotEnoughLuck",{actor:this.actor.name}));this.totalLuckSpent=parseInt(this.totalLuckSpent)?parseInt(this.totalLuckSpent):0,this.totalLuckSpent+=parseInt(luckAmount);const newSuccessLevel=parseInt(increasedSuccess.newSuccessLevel)||parseInt(increasedSuccess.difficulty);this.successLevel=newSuccessLevel,this.difficulty<=newSuccessLevel&&(this.isSuccess=!0,this.isFailure=!1);for(let index=0;index<upgradeindex+1;index++)this.increaseSuccess.shift();for(const s of this.increaseSuccess)s.luckToSpend=s.luckToSpend-luckAmount;return this.luckSpent=!0,this.computeCheck(),update?await this.updateChatCard():void 0}removeUpgrades(){this.canIncreaseSuccess=!1,this.increaseSuccess=[],this.luckNeeded=0,this.luckNeededTxt=null,this.canBePushed=!1}forcePass(luckAmount=null,update=!0){if(luckAmount){this.actor.spendLuck(luckAmount),this.successLevel=this.difficulty;for(const s of this.increaseSuccess)s.luckToSpend=s.luckToSpend-luckAmount;this.luckSpent=!0,this.isSuccess=!0,this.isFailure=!1,this.totalLuckSpent=parseInt(this.totalLuckSpent)?parseInt(this.totalLuckSpent):0,this.totalLuckSpent+=parseInt(luckAmount),this.computeCheck(),update&&this.updateChatCard()}else this.forced=!0,this.forcedSuccess=!0,this.isUnknown?this.forceSuccessLevel(CoC7Check.successLevel.regular,update):this.forceSuccessLevel(this.difficulty,update)}forceFail(update=!0){this.forced=!0,this.forcedFailure=!0,this.isUnknown?this.forceSuccessLevel(CoC7Check.successLevel.failure,update):this.forceSuccessLevel(this.difficulty-1,update)}_forceCheck(high,low,update=!0){let total=Math.floor(Math.random()*(high-low))+low+1;const unitTotal=total%10;let tenTotal=Math.floor(total/10);const tens=[];let hasEnough=Math.abs(this.diceModifier)===tens.length;for(;!hasEnough;){let ten=Math.floor(10*Math.random()),roll=10*ten+unitTotal;0===roll&&(roll=100,ten=100),this.hasPenalty&&roll<=high&&(tens.push(ten),roll>total&&(total=roll)),this.hasBonus&&roll>low&&(tens.push(ten),roll<total&&(total=roll)),hasEnough=tens.length===Math.abs(this.diceModifier)}10===tenTotal&&0===unitTotal&&(tenTotal=100),tens.splice(Math.floor(Math.random()*tens.length+1),0,10===tenTotal?0:tenTotal),this.dices.tens=[],this.dices.unit.value=unitTotal,this.modifiedResult=total,this.dices.total=total,this.dices.tenResult=total-unitTotal;const max=0===unitTotal?100:90,min=0===unitTotal?10:0;let selected=total-unitTotal;for(let i=0;i<tens.length;i++){const die={};die.value=tens[i],die.value===selected?(selected=101,die.selected=!0,this.hasBonus?(die.isMax=!0,die.isMin=!1):(die.isMin=!0,die.isMax=!1)):(die.value===max?die.isMax=!0:die.isMax=!1,die.value===min?die.isMin=!0:die.isMin=!1),this.dices.tens.push(die)}this.computeCheck(),update&&this.updateChatCard()}forceSuccessLevel(successLevel,update=!0){let high,low;CoC7Check.successLevel.fumble===successLevel&&(high=100,low=this.fumbleThreshold-1),CoC7Check.successLevel.failure===successLevel&&(high=this.regularThreshold===this.fumbleThreshold-1?100:this.fumbleThreshold-1,low=this.regularThreshold),CoC7Check.successLevel.regular===successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.hard===successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.extreme===successLevel&&(high=this.extremeThreshold,low=1),CoC7Check.successLevel.critical===successLevel&&(high=1,low=0),high===low&&low--,0===high&&(high=this.fumbleThreshold-1),this._forceCheck(high,low,update)}increaseSuccessLevel(update=!0){let high,low;CoC7Check.successLevel.fumble===this.successLevel&&(high=this.fumbleThreshold-1,low=this.regularThreshold===this.fumbleThreshold-1?this.hardThreshold:this.regularThreshold),CoC7Check.successLevel.failure===this.successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.regular===this.successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.hard===this.successLevel&&(high=this.extremeThreshold,low=this.criticalThreshold),CoC7Check.successLevel.extreme===this.successLevel&&(high=this.criticalThreshold,low=0),high===low&&low--,this._forceCheck(high,low,update)}decreaseSuccessLevel(update=!0){let high,low;CoC7Check.successLevel.failure===this.successLevel&&(high=100,low=this.fumbleThreshold-1),CoC7Check.successLevel.regular===this.successLevel&&(high=this.fumbleThreshold-1,low=this.regularThreshold),CoC7Check.successLevel.hard===this.successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.extreme===this.successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.critical===this.successLevel&&(high=this.extremeThreshold,low=1),0===high&&(high=this.fumbleThreshold-1),this._forceCheck(high,low,update)}async flagForDevelopement(){this.flaggedForDevelopment=!0,this.skill&&await this.skill.flagForDevelopement()}set difficulty(x){this._difficulty=parseInt(x)}get difficulty(){return this._difficulty}set flavor(x){this._flavor=x}set context(x){this._context=x}get context(){if(this._context)return this._context}set parent(x){this.uuid||(this.uuid=foundry.utils.randomID(16)),this.parentUuid=x}get parent(){if(this.parentUuid)return this.parentUuid}get flavor(){if(this._flavor)return this._flavor;let flavor="";return this.actor?.system&&(this.skill?flavor=game.i18n.format("CoC7.CheckResult",{name:this.skill.name,value:this.rawValueString,difficulty:this.difficultyString}):this.item?flavor=game.i18n.format("CoC7.ItemCheckResult",{item:this.item.name,skill:this.skill.name,value:this.rawValueString,difficulty:this.difficultyString}):this.characteristic?flavor=game.i18n.format("CoC7.CheckResult",{name:game.i18n.format(this.actor.system.characteristics[this.characteristic].label),value:this.rawValueString,difficulty:this.difficultyString}):this.attribute?flavor=game.i18n.format("CoC7.CheckResult",{name:game.i18n.format(`CoC7.${this.actor.system.attribs[this.attribute].label}`),value:this.rawValueString,difficulty:this.difficultyString}):this.displayName&&(flavor=game.i18n.format("CoC7.CheckResult",{name:this.displayName,value:this.rawValueString,difficulty:this.difficultyString}))),flavor||this.rawValue&&(flavor=this.displayName?game.i18n.format("CoC7.CheckResult",{name:this.displayName,value:this.rawValueString,difficulty:this.difficultyString}):game.i18n.format("CoC7.CheckRawValue",{rawvalue:this.rawValue,difficulty:this.difficultyString})),this.pushing&&(flavor=`${game.i18n.format("CoC7.Pushing")} ${flavor}`),flavor}get tooltipHeader(){return this.attribute?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:game.i18n.format(`CoC7.${this.actor.system.attribs[this.attribute].label}`)})+` (${this.actor.system.attribs[this.attribute].value}%)`:this.characteristic?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:game.i18n.localize(this.actor.system.characteristics[this.characteristic].label)})+` (${this.actor.system.characteristics[this.characteristic].value}%)`:this.skill?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:this.skill.name})+` (${this.skill.value}%)`:this.displayName?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:this.displayName})+` (${this.rawValueString}%)`:null}async getHtmlRollElement(options={}){this.options?this.options=mergeObject(this.options,options):this.options=options;const html=await renderTemplate("systems/CoC7/templates/chat/rolls/in-card-roll.html",this);return html?$.parseHTML(html)[0]:null}async getHtmlRoll(options={}){this.options?this.options=mergeObject(this.options,options):this.options=options;return await renderTemplate("systems/CoC7/templates/chat/rolls/in-card-roll.html",this)||void 0}async toMessage(pushing=!1){this.pushing=pushing;const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this),speakerData={};let speaker;this.actor?(this.actor.isToken?speakerData.token=this.token.document:this.actor.isDummy?this.actor.name&&(speaker={alias:this.actor.name}):speakerData.actor=this.actor,speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor?.user?this.actor.user:game.user).id,speaker,flavor:this.flavor,content:html,flags:{CoC7:{type:CoC7Check.cardType}}};if(this.uuid&&(chatData.flags.CoC7.uuid=this.uuid),this.context&&(chatData.flags.CoC7.context=this.context),"selfroll"===this.rollMode)if(game.user.isGM){if(chatData.user=game.user.id,chatData.flavor=`[${this.actor.name}] ${chatData.flavor}`,chatData.flags={CoC7:{GMSelfRoll:!0}},void 0!==chatData.speaker&&(chatData.flags.CoC7.originalSpeaker=duplicate(chatData.speaker)),game.user.isGM)switch(game.settings.get("CoC7","selfRollWhisperTarget")){case"owners":delete chatData.speaker,chatData.whisper=this.actor.owners,chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER;break;case"everyone":delete chatData.speaker,chatData.whisper=game.users.players,chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER;break;default:ChatMessage.applyRollMode(chatData,this.rollMode)}}else ChatMessage.applyRollMode(chatData,this.rollMode);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),this.dice?.roll&&!this.dice?.hideDice&&(chatData.roll=this.dice.roll,chatData.type=CONST.CHAT_MESSAGE_TYPES.ROLL,chatData.rollMode=this.isBlind?"blindroll":this.rollMode),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard({makePublic=!1,forceRoll=!1}={}){makePublic&&(this.rollMode=!1);const chatData={flavor:this.flavor};makePublic&&(chatData.whisper=[],chatData.blind=!1,ChatMessage.applyRollMode(chatData)),chatData.blind&&(this.isBlind=!0);const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this);let newContent=html;if(!this.messageId)return $.parseHTML(html)[0];const message=game.messages.get(this.messageId),htmlMessage=$.parseHTML(message.content)[0];if(!htmlMessage.classList.contains("roll-result")){const htmlCheck=$.parseHTML(html)[0],rollResultElement=htmlMessage.querySelector(".roll-result");null!==rollResultElement&&rollResultElement.replaceWith(htmlCheck),newContent=htmlMessage.outerHTML}chatData.content=newContent,CONST.CHAT_MESSAGE_TYPES.ROLL===message.type&&(message.whisper?.length?chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER:chatData.type=CONST.CHAT_MESSAGE_TYPES.OTHER),forceRoll&&this.dice?.roll&&(game.user.isGM||!this.isBlind)&&await CoC7Dice.showRollDice3d(this.dice.roll);const msg=await message.update(chatData);return await ui.chat.updateMessage(msg,!1),msg}static async updateCardSwitch(event){const card=event.currentTarget.closest(".chat-card"),check=await CoC7Check.getFromCard(card);check.gmDifficultyRegular=!1,check.gmDifficultyHard=!1,check.gmDifficultyExtreme=!1,check.gmDifficultyCritical=!1,"gmDifficultyRegular"===event.currentTarget.dataset.flag&&(check.gmDifficultyRegular=!0),"gmDifficultyHard"===event.currentTarget.dataset.flag&&(check.gmDifficultyHard=!0),"gmDifficultyExtreme"===event.currentTarget.dataset.flag&&(check.gmDifficultyExtreme=!0),"gmDifficultyCritical"===event.currentTarget.dataset.flag&&(check.gmDifficultyCritical=!0),check.computeCheck(),check.updateChatCard()}get tooltip(){return renderTemplate("systems/CoC7/templates/chat/rolls/roll-tooltip.html",this)}get inlineCheck(){const a=document.createElement("a");return a.classList.add("coc7-inline-check"),a.classList.add("coc7-check-result"),a.classList.add("coc7-inline"),a.classList.add(...this.cssClassList),a.title=this.tooltipHeader,a.dataset.roll=escape(this.JSONRollString),a.innerHTML=`<i class="game-icon game-icon-d10"></i> ${this.modifiedResult||"??"}`,a}get rollToolTip(){if(this.standby)return;const parts=[],tens=this.dices.tens.map((r=>({result:r.value,selected:r.selected,classes:["die","d10",r.selected?null:"discarded",r.isMin?"min":null,r.isMax?"max":null].filter((c=>c)).join(" ")}))),unit=[{result:this.dices.unit.value,selected:!0,classes:"die d10"}];return parts.push({formula:this.tooltipHeader,total:this.modifiedResult,icons:this.successLevelIcons,class:this.cssClass,successRequired:this.successRequired,resultType:this.resultType,face:10,rolls:[...tens,...unit]}),renderTemplate("systems/CoC7/templates/chat/rolls/roll-tooltip.html",{parts})}get JSONRollData(){return JSON.parse(this.JSONRollString)}get JSONRollString(){return JSON.stringify(this,((key,value)=>{if(null===value)return;return["_actor","_skill","_item"].includes(key)?void 0:value}))}static fromData(data){return Object.assign(new CoC7Check,data)}static fromRollString(dataString){let data;try{data=JSON.parse(unescape(dataString))}catch(err){return ui.notifications.error(err.message),null}return CoC7Check.fromData(data)}static async alter(check,command,options={}){switch(command){case"useLuck":if(options.target.classList.contains("pass-check")){const luckAmount=parseInt(options.target.dataset.luckAmount);check.forcePass(luckAmount,options.update)}else{const upgradeIndex=parseInt(options.target.dataset.index);await check.upgradeCheck(upgradeIndex,options.update)}break;case"force-pass":check.forcePass(null,options.update);break;case"force-fail":check.forceFail(options.update);break;case"increase-success-level":check.increaseSuccessLevel(options.update);break;case"decrease-success-level":check.decreaseSuccessLevel(options.update);break;case"reveal-check":check.isBlind=!1,check.rollMode=!1,check.computeCheck(),options.update&&check.updateChatCard();break;case"flag-for-development":await check.flagForDevelopement(),check.computeCheck(),options.update&&check.updateChatCard();break;case"push":await check._perform(),check.pushing=!0,options.update&&check.updateChatCard()}}static async _onClickInlineRoll(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("coc7-check-result"))return a.classList.contains("expanded")?CoC7Check._collapseInlineResult(a):CoC7Check._expandInlineResult(a)}static _collapseInlineResult(a){if(!a.classList.contains("coc7-inline-check"))return;if(!a.classList.contains("expanded"))return;const tooltip=a.querySelector(".coc7-check-tooltip");return tooltip&&tooltip.remove(),a.classList.remove("expanded")}static async _expandInlineResult(a){if(!a.classList.contains("coc7-inline-check"))return;if(a.classList.contains("expanded"))return;const check=Object.assign(new CoC7Check,JSON.parse(unescape(a.dataset.roll)));if(check.standby)return;const tip=document.createElement("div");tip.innerHTML=await check.rollToolTip;const tooltip=tip.children[0];a.appendChild(tooltip),a.classList.add("expanded");const pa=a.getBoundingClientRect(),pt=tooltip.getBoundingClientRect();tooltip.style.left=`${Math.min(pa.x,window.innerWidth-(pt.width+3))}px`,tooltip.style.top=`${Math.min(pa.y+pa.height+3,window.innerHeight-(pt.height+3))}px`;const zi=getComputedStyle(a).zIndex;tooltip.style.zIndex=Number.isNumeric(zi)?zi+1:100}}class CoC7Utilities{static isFormula(x){return"string"==typeof x&&(!!isNaN(Number(x))&&Roll.validate(x))}static ParseChatEntry(html,content){const terms=content.match(/(\S+)/g);if(terms[0]?.toLowerCase().match(/^\/r(oll)?$/)&&terms[1]?.toLowerCase().startsWith("1d%"))return setTimeout((function(){CoC7Utilities._ExecCommand(content)}),200),!1}static async _ExecCommand(content){const options=content.toLowerCase().split(" ")?.join("")?.replace(/\/r(oll)?1d%/,""),check=new CoC7Check;if(options.length){let threshold,flatDiceModifier,flatThresholdModifier,escaped=options,difficulty=CoC7Check.difficultyLevel.regular,diceModifier=0,ask=!1;const thresholdStr=escaped.match(/[^(]+(?=\))/);if(thresholdStr&&thresholdStr.length){threshold=Number(thresholdStr[0]);for(const match of thresholdStr)escaped=escaped.replace(`(${match})`,"")}const difficultyStr=escaped.match(/[^[]+(?=\])/);if(difficultyStr&&difficultyStr.length){difficulty=CoC7Utilities.convertDifficulty(difficultyStr[0]);for(const match of difficultyStr)escaped=escaped.replace(`[${match}]`,"")}if(escaped.includes("?")&&(ask=!0,escaped=escaped.replace("?","")),isNaN(Number(escaped))||(diceModifier=Number(escaped)),ask){const dialogOptions={threshold,modifier:diceModifier,difficulty,askValue:!0},usage=await RollDialog.create(dialogOptions);usage&&(diceModifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")),threshold=Number(usage.get("threshold"))||threshold,flatDiceModifier=Number(usage.get("flatDiceModifier")),flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,threshold&&(check.rawValue=isNaN(threshold)?void 0:threshold)}const speaker=ChatMessage.getSpeaker();if(speaker.token&&speaker.scene){const actor=chatHelper.getActorFromKey(`${speaker.scene}.${speaker.token}`);actor&&(check.actor=actor)}else if(speaker.actor){const actor=game.actors.get(speaker.actor);actor&&(check.actor=actor)}await check.roll(),check.toMessage()}static async test(){ui.notifications.infos("Do some stuff")}static getActorFromString(actorString){let actor;return game.actors.tokens[actorString]?game.actors.tokens[actorString]:(actor=game.actors.get(actorString),actor||(actor=Object.values(game.actors.tokens).find((t=>t.name.toLowerCase()===actorString.toLowerCase())),actor||(actor=game.actors.find((a=>a.name.toLowerCase()===actorString.toLowerCase()))),actor||null))}static getCharacteristicNames(char){const charKey=char.toLowerCase();switch(charKey){case"str":return{short:game.i18n.localize("CHARAC.STR"),label:game.i18n.localize("CHARAC.Strength")};case"con":return{short:game.i18n.localize("CHARAC.CON"),label:game.i18n.localize("CHARAC.Constitution")};case"siz":return{short:game.i18n.localize("CHARAC.SIZ"),label:game.i18n.localize("CHARAC.Size")};case"dex":return{short:game.i18n.localize("CHARAC.DEX"),label:game.i18n.localize("CHARAC.Dexterity")};case"app":return{short:game.i18n.localize("CHARAC.APP"),label:game.i18n.localize("CHARAC.Appearance")};case"int":return{short:game.i18n.localize("CHARAC.INT"),label:game.i18n.localize("CHARAC.Intelligence")};case"pow":return{short:game.i18n.localize("CHARAC.POW"),label:game.i18n.localize("CHARAC.Power")};case"edu":return{short:game.i18n.localize("CHARAC.EDU"),label:game.i18n.localize("CHARAC.Education")};case"luck":return{short:game.i18n.localize("CoC7.Luck"),label:game.i18n.localize("CoC7.Luck")};default:for(const[,value]of Object.entries(game.system.template.Actor.templates.characteristics.characteristics))if(charKey===game.i18n.localize(value.short).toLowerCase())return{short:game.i18n.localize(value.short),label:game.i18n.localize(value.label)};return null}}static convertDifficulty(difficulty){if("0"===String(difficulty))return CoC7Check.difficultyLevel.regular;if("string"!=typeof difficulty)return difficulty;if(!isNaN(Number(difficulty)))return Number(difficulty);switch(difficulty){case"?":return CoC7Check.difficultyLevel.unknown;case"+":return CoC7Check.difficultyLevel.hard;case"++":return CoC7Check.difficultyLevel.extreme;case"+++":return CoC7Check.difficultyLevel.critical;default:return CoC7Check.difficultyLevel.regular}}static skillCheckMacro(skill,event,options={}){event.preventDefault();const speaker=ChatMessage.getSpeaker();let actor;speaker.token&&(actor=game.actors.tokens[speaker.token]),actor||(actor=game.actors.get(speaker.actor)),actor?actor.skillCheck(skill,event.shiftKey,options):ui.notifications.warn(game.i18n.localize("CoC7.WarnNoActorAvailable"))}static weaponCheckMacro(weapon,event){event.preventDefault();const speaker=ChatMessage.getSpeaker();let actor;if(speaker.token&&(actor=game.actors.tokens[speaker.token]),!actor)if(speaker.scene&&speaker.token){const baseActor=game.actors.get(speaker.actor),token=game.scenes.get(speaker.scene).tokens.get(speaker.token);actor=new(getDocumentClass("Actor"))(baseActor.toJSON(),{parent:token})}else actor=game.actors.get(speaker.actor);actor?actor.weaponCheck(weapon,event.shiftKey):ui.notifications.warn(game.i18n.localize("CoC7.WarnNoActorAvailable"))}static async checkMacro(threshold=void 0,event=null){await CoC7Utilities.rollDice(event,{threshold})}static createMacro(bar,data,slot){if("Item"!==data.type)return;const item=fromUuidSync(data.uuid,bar);if(!item)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroNoItemFound"));if("weapon"!==item.type&&"skill"!==item.type)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroIncorrectType"));let command="";if("weapon"===item.type&&(command=`game.CoC7.macros.weaponCheck({name:'${item.name}', uuid:'${data.uuid}'}, event);`),"skill"===item.type){if(CoC7Item.isAnySpec(item))return ui.notifications.warn(game.i18n.localize("CoC7.WarnNoGlobalSpec"));command=`game.CoC7.macros.skillCheck({name:'${item.name}', uuid:'${data.uuid}'}, event);`}if(""!==command){const macro=game.macros.contents.find((m=>m.name===item.name&&m.command===command));return macro?(game.user.assignHotbarMacro(macro,slot),!1):(Macro.create(duplicate({name:item.name,type:"script",img:item.img,command})).then((macro=>{game.user.assignHotbarMacro(macro,slot)})),!1)}return!0}static async toggleDevPhase(toggle){await game.settings.set("CoC7","developmentEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.DevPhaseEnabled"):game.i18n.localize("CoC7.DevPhaseDisabled")),game.socket.emit("system.CoC7",{type:"updateChar"}),CoC7Utilities.updateCharSheets()}static async toggleCharCreation(toggle){await game.settings.set("CoC7","charCreationEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.CharCreationEnabled"):game.i18n.localize("CoC7.CharCreationDisabled")),game.socket.emit("system.CoC7",{type:"updateChar"}),CoC7Utilities.updateCharSheets(),Hooks.call("toggleCharCreation",toggle)}static async getTarget(){const users=game.users.filter((user=>user.active)),actors=game.actors;let checkOptions=`<input type="checkbox" name="COCCheckAllPC" id="COCCheckAllPC">\n\n    <label for="COCCheckAllPC">${game.i18n.localize("CoC7.allActors")}</label>`;const playerTokenIds=users.map((u=>u.character?.id)).filter((id=>void 0!==id)),selectedPlayerIds=canvas.tokens.controlled.map((token=>token.actor.id));actors.forEach((actor=>{const checked=(selectedPlayerIds.includes(actor.id)||playerTokenIds.includes(actor.id))&&"checked";checkOptions+=`\n     <br>\n     <input type="checkbox" name="${actor.id}" id="${actor.id}" value="${actor.name}" ${checked}>\n\n     <label for="${actor.id}">${actor.name}</label>\n       `})),new Dialog({title:`${game.i18n.localize("CoC7.dreaming")}`,content:`${game.i18n.localize("CoC7.restTargets")}: ${checkOptions} <br>`,buttons:{whisper:{label:`${game.i18n.localize("CoC7.startRest")}`,callback:async html=>{const targets=[];let all=!1;const users=html.find('[type="checkbox"]');for(const user of users)"COCCheckAllPC"===user.name&&user.checked&&(all=!0),(user.checked||all)&&targets.push(user.id);await CoC7Utilities.startRest(targets)}}}}).render(!0)}static async startRest(targets){if(!targets.length)return;const actors=game.actors.filter((actor=>targets.includes(actor.id)));let chatContent=`<i>${game.i18n.localize("CoC7.dreaming")}...</i><br>`;for(const actor of actors)if(["character","npc","creature"].includes(actor.type)){let quickHealer=!1;for(const item of actor.items)"talent"===item.type&&item.name===`${game.i18n.localize("CoC7.quickHealer")}`&&(quickHealer=!0);const isCriticalWounds=!game.settings.get("CoC7","pulpRuleIgnoreMajorWounds")&&actor.hasConditionStatus(COC7.status.criticalWounds),dailySanityLoss=actor.system.attribs.san.dailyLoss,hpValue=actor.system.attribs.hp.value,hpMax=actor.system.attribs.hp.max,mpValue=actor.system.attribs.mp.value,mpMax=actor.system.attribs.mp.max,pow=actor.system.characteristics.pow.value;if(chatContent+=`<br><b>${actor.name}. </b>`,hpValue<hpMax)if(!0===isCriticalWounds)chatContent+=`<b style="color:darkred">${game.i18n.localize("CoC7.hasCriticalWounds")}. </b>`;else{let healAmount=1;game.settings.get("CoC7","pulpRuleFasterRecovery")&&(healAmount=2),!0===quickHealer&&healAmount++,healAmount=Math.min(healAmount,hpMax-hpValue),chatContent+=1===healAmount?`<b style="color:darkolivegreen">${game.i18n.localize("CoC7.healthRecovered")}. </b>`:`<b style="color:darkolivegreen">${game.i18n.format("CoC7.pulpHealthRecovered",{number:healAmount})}. </b>`,actor.update({"system.attribs.hp.value":actor.system.attribs.hp.value+healAmount})}dailySanityLoss>0&&(chatContent+=`<b style="color:darkolivegreen">${game.i18n.localize("CoC7.dailySanLossRestarted")}.</b>`,actor.update({"system.attribs.san.dailyLoss":0,"system.attribs.san.dailyLimit":Math.floor(actor.system.attribs.san.value/5)}));const hours=7;if(hours>0&&mpValue<mpMax){let magicAmount=hours*Math.ceil(pow/100);magicAmount=Math.min(magicAmount,mpMax-mpValue),chatContent+=`<b style="color:darkolivegreen">${game.i18n.format("CoC7.magicPointsRecovered")}: ${magicAmount}.</b>`,actor.update({"system.attribs.mp.value":actor.system.attribs.mp.value+magicAmount})}}const chatData={user:game.user.id,speaker:ChatMessage.getSpeaker(),content:chatContent,type:CONST.CHAT_MESSAGE_TYPES.OTHER};ChatMessage.create(chatData)}static async toggleXPGain(toggle){await game.settings.set("CoC7","xpEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.XPGainEnabled"):game.i18n.localize("CoC7.XPGainDisabled"))}static async rollDice(event,options={}){let diceModifier,difficulty,flatDiceModifier,flatThresholdModifier;options.askValue=!options.threshold;let threshold=options.threshold;if(void 0!==options.modifier&&(diceModifier=Number(options.modifier)),void 0!==options.difficulty&&(difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!event?.shiftKey&&!options.fastForward){const usage=await RollDialog.create(options);usage&&(diceModifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")),threshold=Number(usage.get("threshold")),flatDiceModifier=Number(usage.get("flatDiceModifier")),flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}const actors=[];if(game.user.isGM&&canvas.tokens.controlled.length)for(const token of canvas.tokens.controlled)actors.push(token.actor.tokenKey);else game.user.character&&actors.push(game.user.character.tokenKey);for(const tk of actors){const check=new CoC7Check;check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,check.actor=tk,await check.roll(),check.toMessage()}if(!actors.length){const check=new CoC7Check;check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,await check.roll(),check.toMessage()}}static updateCharSheets(){if(game.user.isGM)for(const a of game.actors.contents)"character"===a?.type&&a?.sheet&&a?.sheet?.rendered&&(a.update({"system.flags.locked":!0}),a.render(!1));else for(const a of game.actors.contents)a.isOwner&&(a.update({"system.flags.locked":!0}),a.render(!1))}static async getDataFromDropEvent(event,entityType="Item"){if(event.originalEvent)return[];try{const dataList=JSON.parse(event.dataTransfer.getData("text/plain"));if("Folder"===dataList.type&&dataList.documentName===entityType){const folder=await fromUuid(dataList.uuid);return folder?folder.contents:[]}if(dataList.type===entityType){const item=await fromUuid(dataList.uuid);return item?[item]:[]}return[]}catch(err){return[]}}static async copyToClipboard(text){try{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(text);{const textArea=document.createElement("textarea");return textArea.value=text,textArea.style.position="fixed",textArea.style.left="-999px",textArea.style.top="-999px",document.body.appendChild(textArea),textArea.focus(),textArea.select(),new Promise(((resolve,reject)=>{document.execCommand("copy")?resolve():reject(new Error(game.i18n.localize("CoC7.UnableToCopyToClipboard"))),textArea.remove()})).catch((err=>ui.notifications.error(err)))}}catch(err){ui.notifications.error(game.i18n.localize("CoC7.UnableToCopyToClipboard"))}}static quoteRegExp(string){const len=string.length;let qString="";for(let current,i=0;i<len;++i)if(current=string.charAt(i),current>=" "&&current<="~")"\\"!==current&&"'"!==current||(qString+="\\"),qString+=current.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");else switch(current){case"\b":qString+="\\b";break;case"\f":qString+="\\f";break;case"\n":qString+="\\n";break;case"\r":qString+="\\r";break;case"\t":qString+="\\t";break;case"\v":qString+="\\v";break;default:qString+="\\u",current=current.charCodeAt(0).toString(16);for(let j=4;--j>=current.length;qString+="0");qString+=current}return qString}static setByPath(obj,path,value){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++)o[parts[i]]||(o[parts[i]]={}),o=o[parts[i]];o[parts[parts.length-1]]=value}static getByPath(obj,path){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++){if(!o[parts[i]])return;o=o[parts[i]]}return o[parts[parts.length-1]]}static SfromUuid(uuid){let doc,parts=uuid.split(".");if("Compendium"===parts[0])return null;{const[docName,docId]=parts.slice(0,2);parts=parts.slice(2);doc=CONFIG[docName].collection.instance.get(docId)}for(;doc&&parts.length>1;){const[embeddedName,embeddedId]=parts.slice(0,2);doc=doc.getEmbeddedDocument(embeddedName,embeddedId),parts=parts.slice(2)}return doc||null}static isDocumentUuidPack(uuid){return!!uuid.includes("Compendium")}static isDocumentUuid(uuid){const identifiers=["Actor","Scene","Token","Item","Compendium"];for(let i=0;i<identifiers.length;i++)if(uuid.includes(identifiers[i]))return!0;return!1}static getActorDocumentFromDropData(dropData){let docUuid,actor;return docUuid=dropData.tokenUuid?dropData.tokenUuid:void 0!==dropData.uuid?dropData.uuid:dropData.sceneId&&dropData.tokenId?`Scene.${dropData.sceneId}.Token.${dropData.tokenId}`:dropData.actorId||dropData.actorKey||dropData.id,"Token"===dropData.type?docUuid=dropData.uuid:docUuid&&(actor=CoC7Utilities.getActorFromKey(docUuid),actor||"Item"!==dropData.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid),docUuid}static getDocumentFromKey(key){if(!key)return null;if(CoC7Utilities.isDocumentUuid(key))return CoC7Utilities.isDocumentUuidPack(key)?fromUuid(key):CoC7Utilities.SfromUuid(key);if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;const token=new Token(tokenData);return token.scene||(token.scene=duplicate(scene)),token}return game.actors.get(key)||null}static getActorFromKey(key){const doc=CoC7Utilities.getDocumentFromKey(key);return doc?doc.actor?doc.actor:"CoCActor"===doc.constructor?.name?doc:null:null}static async createImportCharactersFolderIfNotExists(){let folderName=game.i18n.localize("CoC7.ImportedCharactersFolder");"CoC7.ImportedCharactersFolder"===folderName&&(folderName="Imported characters");let importedCharactersFolder=game.folders.find((entry=>entry.name===folderName&&"Actor"===entry.type));return null==importedCharactersFolder&&(importedCharactersFolder=await Folder.create({name:folderName,type:"Actor",parent:null}),ui.notifications.info(game.i18n.localize("CoC7.CreatedImportedCharactersFolder"))),importedCharactersFolder}static async guessItem(type,name,{combat=null,source="",fallbackAny=!1}={}){let existing=null;name=name.toLocaleLowerCase();for(let o=0,oM=source.length;o<oM;o++)switch(source.substring(o,o+1)){case"i":if(existing=game.items.find((item=>item.type===type&&item.name.toLowerCase()===name&&(null===combat||item.system.properties.combat===combat))),existing)return existing;break;case"w":case"m":case"s":for(const pack of game.packs)if("Item"===pack.metadata.type&&("w"===source[o]&&"world"===pack.metadata.package||"S"===source[o]&&"CoC7"===pack.metadata.package||"s"===source[o]&&!["world","CoC7"].includes(pack.metadata.package))){if(existing=(await pack.getDocuments()).find((item=>item.type===type&&item.name.toLowerCase()===name&&(null===combat||item.system.properties.combat===combat))),existing)return existing}}if(fallbackAny&&"skill"===type){const match=name.match(/^(.+ \()(?!any).+(\))$/);if(match)return await CoC7Utilities.guessItem(type,match[1]+"any"+match[2],{combat,source})}}static toKebabCase(s){if(!s)return"";const match=s.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);return match?match.join("-").toLowerCase():""}static sortByNameKey(a,b){return a.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleLowerCase().localeCompare(b.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleLowerCase())}}class CoCIDEditor extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","coc-id-editor"],template:"systems/CoC7/templates/apps/coc-id-editor.hbs",width:900,height:"auto",title:"CoC7.CoCIDFlag.title",closeOnSubmit:!1,submitOnClose:!0,submitOnChange:!0})}async getData(){const sheetData=super.getData();sheetData.supportedLanguages=CONFIG.supportedLanguages,this.options.editable=this.object.sheet.isEditable,sheetData.guessCode=game.system.api.cocid.guessId(this.object),sheetData.idPrefix=game.system.api.cocid.getPrefix(this.object),sheetData.cocidFlag=this.object.flags?.CoC7?.cocidFlag,sheetData.id=sheetData.cocidFlag?.id||"",sheetData.lang=sheetData.cocidFlag?.lang||game.i18n.lang,sheetData.priority=sheetData.cocidFlag?.priority||0,sheetData.eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData.eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(sheetData.cocidFlag?.eras??{})[key]});sheetData.eras.sort(CoC7Utilities.sortByNameKey);const CoCIDKeys=flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys??{}),prefix=new RegExp("^"+CoC7Utilities.quoteRegExp(sheetData.idPrefix));sheetData.existingKeys=Object.keys(CoCIDKeys).reduce(((obj,k)=>(k.match(prefix)&&obj.push({k,name:CoCIDKeys[k]}),obj)),[]).sort(CoC7Utilities.sortByNameKey),sheetData.isSystemID=void 0!==CoCIDKeys[sheetData.id];const match=sheetData.id.match(/^([^\\.]+)\.([^\\.]*)\.(.+)/);if(sheetData._existing=match&&void 0!==match[3]?match[3]:"",sheetData.id&&sheetData.lang){const worldDocuments=await game.system.api.cocid.fromCoCIDAll({cocid:sheetData.id,lang:sheetData.lang,scope:"world"}),usedEras={},uniqueWorldPriority={};sheetData.worldDocumentInfo=worldDocuments.map((d=>{d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>(Object.prototype.hasOwnProperty.call(uniqueWorldPriority,d.flags.CoC7.cocidFlag.priority+"/"+e[0])||(uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]=0),uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]++,!1))):uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/*"]=1;const eras=d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>e[0])).sort():[];for(const era of eras)usedEras[era]=COC7.eras[era]??"?";return{eras:eras.reduce((function(all,current){return all[current]=!0,all}),{}),priority:d.flags.CoC7.cocidFlag.priority,lang:d.flags.CoC7.cocidFlag.lang??"en",link:TextEditor.enrichHTML(d.link,{async:!1}),folder:d?.folder?.name}})),Object.entries(uniqueWorldPriority).filter((c=>c[1]>1)).length>0&&(sheetData.warnDuplicateWorldPriority=!0),sheetData.worldDuplicates=worldDocuments.length??0;const compendiumDocuments=await game.system.api.cocid.fromCoCIDAll({cocid:sheetData.id,lang:sheetData.lang,scope:"compendiums"}),uniqueCompendiumPriority={};sheetData.compendiumDocumentInfo=compendiumDocuments.map((d=>{d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>(Object.prototype.hasOwnProperty.call(uniqueCompendiumPriority,d.flags.CoC7.cocidFlag.priority+"/"+e[0])||(uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]=0),uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]++,!1))):uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/*"]=1;const eras=d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>e[0])).sort():[];for(const era of eras)usedEras[era]=COC7.eras[era]??"?";return{eras:eras.reduce((function(all,current){return all[current]=!0,all}),{}),priority:d.flags.CoC7.cocidFlag.priority,lang:d.flags.CoC7.cocidFlag.lang??"en",link:TextEditor.enrichHTML(d.link,{async:!1}),folder:d?.folder?.name??""}})),Object.entries(uniqueCompendiumPriority).filter((c=>c[1]>1)).length>0&&(sheetData.warnDuplicateCompendiumPriority=!0),sheetData.compendiumDuplicates=compendiumDocuments.length??0,sheetData.usedEras=[];for(const[key,value]of Object.entries(usedEras))sheetData.usedEras.push({id:key,name:game.i18n.localize(value)});sheetData.usedEras.sort(CoC7Utilities.sortByNameKey)}else sheetData.compendiumDocumentInfo=[],sheetData.worldDocumentInfo=[],sheetData.worldDuplicates=0,sheetData.compendiumDuplicates=0,sheetData.warnDuplicateWorldPriority=!1,sheetData.warnDuplicateCompendiumPriority=!1;return sheetData}activateListeners(html){super.activateListeners(html),html.find("a.copy-to-clipboard").click((function(e){CoC7Utilities.copyToClipboard($(this).siblings("input").val())})),this.object.sheet.isEditable&&(html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find("input[name=_existing").change((function(e){const obj=$(this),prefix=obj.data("prefix");let value=obj.val();""!==value&&(value=prefix+CoC7Utilities.toKebabCase(value)),html.find("input[name=id]").val(value).trigger("change")})),html.find("select[name=known]").change((function(e){const obj=$(this);html.find("input[name=id]").val(obj.val())})),html.find("a[data-guess]").click((async function(e){e.preventDefault();const guess=$(this).data("guess");html.find("input[name=id]").val(guess).trigger("change")})))}static async eraToggle(document,propertyId){if("setup"===document.type){const update={[propertyId]:!0};if(void 0!==document.flags?.CoC7?.cocidFlag?.eras)for(const[key]of Object.entries(document.flags.CoC7.cocidFlag.eras))key!==propertyId&&(update["-="+key]=null);await document.update({"flags.CoC7.cocidFlag.eras":update})}else void 0===document.flags?.CoC7?.cocidFlag?.eras?.[propertyId]?void 0===document.flags?.CoC7?.cocidFlag?.eras?await document.update({"flags.CoC7.cocidFlag.eras":{[propertyId]:!0}}):await document.update({[`flags.CoC7.cocidFlag.eras.${propertyId}`]:!0}):await document.update({[`flags.CoC7.cocidFlag.eras.-=${propertyId}`]:null})}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.dataset.property;await CoCIDEditor.eraToggle(this.object,propertyId),this.render()}async _updateObject(event,formData){const id=formData.id||"";await this.object.update({"flags.CoC7.cocidFlag.id":id,"flags.CoC7.cocidFlag.lang":formData.lang||game.i18n.lang,"flags.CoC7.cocidFlag.priority":formData.priority||0,"flags.CoC7.cocidFlag.eras":this.object.flags?.CoC7?.cocidFlag?.eras??{}});const html=$(this.object.sheet.element).find("header.window-header a.header-button.edit-coc-id-warning,header.window-header a.header-button.edit-coc-id-exisiting");html.length&&html.css({color:id?"var(--color-text-light-highlight)":"red"}),this.render()}}function addCoCIDSheetHeaderButton(headerButtons,sheet){if(game.user.isGM){const sheetCoCID=sheet.object.flags?.CoC7?.cocidFlag,CoCIDEditorButton={class:void 0===sheetCoCID||void 0===sheetCoCID.id||""===sheetCoCID.id?"edit-coc-id-warning":"edit-coc-id-exisiting",label:"CoC7.CoCIDFlag.id",icon:"fas fa-fingerprint",onclick:()=>{new CoCIDEditor(sheet.object,{}).render(!0,{focus:!0})}},numberOfButtons=headerButtons.length;headerButtons.splice(numberOfButtons-1,0,CoCIDEditorButton)}}class CoC7ActiveEffect extends ActiveEffect{apply(actor,change){"system.attribs.armor.value"===change.key?isNaN(change.value)||isNaN(actor.system.attribs.armor.value)||(actor.system.attribs.armor.value=Number(actor.system.attribs.armor.value)):"system.attribs.db.value"===change.key&&isNaN(change.value)&&!isNaN(actor.system.attribs.db.value)&&(actor.system.attribs.db.value=String(actor.system.attribs.db.value));return super.apply(actor,change)}static onManageActiveEffect(event,owner){event.preventDefault();const a=event.currentTarget,li=a.closest("li"),effect=li.dataset.effectId?owner.effects.get(li.dataset.effectId):null;switch(a.dataset.action){case"create":return owner.createEmbeddedDocuments("ActiveEffect",[{label:game.i18n.localize("CoC7.EffectNew"),icon:"icons/svg/aura.svg",origin:owner.uuid,"duration.rounds":"temporary"===li.dataset.effectType?1:void 0,disabled:"inactive"===li.dataset.effectType}]);case"edit":return effect.sheet.render(!0);case"delete":return effect.delete();case"toggle":return effect.update({disabled:!effect.disabled})}}_prepareDuration(){const duration=super._prepareDuration();return"seconds"===duration.type&&(duration.seconds>3600?duration.label=new Date(1e3*duration.seconds).toISOString().slice(11,19):duration.seconds>100&&(duration.label=new Date(1e3*duration.seconds).toISOString().slice(14,19))),duration}get isStatus(){const statusId=this.getFlag("core","statusId");return["tempoInsane","indefInsane","criticalWounds","dying","dead","unconscious","prone"].includes(statusId)}static prepareActiveEffectCategories(effects,{status=!0}={}){const categories={temporary:{type:"temporary",label:game.i18n.localize("Temporary"),effects:[]},passive:{type:"passive",label:game.i18n.localize("Passive"),effects:[]},inactive:{type:"inactive",label:game.i18n.localize("Inactive"),effects:[]},suppressed:{type:"suppressed",label:game.i18n.localize("Suppressed"),effects:[],info:[game.i18n.localize("Unavailable")]}};status&&(categories.status={type:"status",label:game.i18n.localize("Status"),effects:[]});for(const e of effects)e._getSourceName(),e.isSuppressed?categories.suppressed.effects.push(e):e.isStatus?categories.status.effects.push(e):e.disabled?categories.inactive.effects.push(e):e.isTemporary?categories.temporary.effects.push(e):categories.passive.effects.push(e);return categories.suppressed.hidden=!categories.suppressed.effects.length,categories}static prepareNPCActiveEffectCategories(effects){let count=0;const categories={active:{type:"active",label:game.i18n.localize("Active"),effects:[]},inactive:{type:"inactive",label:game.i18n.localize("Inactive"),effects:[]}};for(const e of effects)count+=1,e._getSourceName(),e.isSuppressed||e.disabled?categories.inactive.effects.push(e):categories.active.effects.push(e);return count>0&&(categories.expended=!0),categories}}class CoC7ContextMenu{bind(menu,html,callback){this._callback=callback,this._html=html,this._menu=menu;try{const menuTrigger=html.find(`[data-context-menu=${menu.id}]`);if(0===menuTrigger.length)return;menuTrigger.contextmenu(this._onContextMenu.bind(this));const menuElement=CoC7ContextMenu.CreateMenu(menu);menuElement.on("click",".menu-action",this._onMenuAction.bind(this)),0!==this.menu.length?this.menu.replaceWith(menuElement):this.menuContainer.append(menuElement)}catch(error){console.error(error)}}get menuContainer(){let menuContainer=this._html.find(".menu-container");return 0===menuContainer.length&&(this._html.append('<div class="menu-container"></div>'),menuContainer=this._html.find(".menu-container")),menuContainer}get menu(){return this.menuContainer.find(`.context-menu-wrapper.${this._menu.id}`)}_onMenuAction(event){return this._callback(event,this.target)}static closeAll(){$("body").find(".menu-container").find(".context-menu-wrapper").each((function(i,m){m.style.visibility="hidden"}))}_onContextMenu(event){event.preventDefault(!0),CoC7ContextMenu.closeAll();const target=event?.currentTarget;if(this.target=target,!target)return;const menuName=target.dataset?.contextMenu;if(menuName===this._menu.id){const wrapper=this.menu;if(wrapper.length>0){const subMenu=wrapper.find(".sub-menu");let left=event.clientX,top=event.clientY;const menuHeight=wrapper.outerHeight(),menuWidth=wrapper.outerWidth();window.innerHeight<menuHeight+top&&(top-=menuHeight),window.innerWidth<menuWidth+left&&(left=window.innerWidth-menuWidth),subMenu.length>0&&(window.innerWidth<menuWidth+left+subMenu.outerWidth()?subMenu.css({right:menuWidth-5+"px",left:""}):subMenu.css({left:menuWidth-5+"px",right:""})),wrapper.css({left:`${left}px`,top:`${top}px`,visibility:"visible"})}}}static canSee(visibility){switch(visibility.toLowerCase()){case"gm":return game.user.isGM;case"trusted":return game.user.isTrusted;default:return!0}}static CreateMenu(menu){const classes="string"==typeof menu.classes?[menu.classes]:menu.classes;classes.push("context-menu-wrapper");const wrapper=$("<div></div>");if(wrapper.addClass(menu.id),classes.forEach((c=>wrapper.addClass(c))),menu.section)menu.section.forEach((s=>{const section=CoC7ContextMenu.CreateSection(s,{multi:!0});section&&wrapper.append(section)}));else{const section=CoC7ContextMenu.CreateSection(menu);section&&wrapper.append(section)}return wrapper}static CreateSection(s,{multi=!1,subMenu=!1}={}){if(!s.items)return null;if(s.visibility&&!CoC7ContextMenu.canSee(s.visibility))return null;const classes=s.classes?"string"==typeof s.classes?[s.classes]:s.classes:[];multi&&classes.push("menu-section"),subMenu&&classes.push("sub-menu");const section=$("<ul></ul>");return classes.forEach((c=>section.addClass(c))),s.items.forEach((i=>{const li=$("<li></li>");if(li.addClass("menu-item"),i.action&&(li.addClass("menu-action"),li.attr("data-action",i.action)),"string"==typeof i.label?li.append(`<span>${i.label}</span>`):(i.label.icon&&li.append(`<i class="${i.label.icon}"></i>`),i.label.text&&li.append(`<span>${i.label.text}</span>`)),i.subMenu){li.addClass("sub-menu-button"),li.append('<i class="fas fa-caret-right"></i>');const sub=CoC7ContextMenu.CreateSection(i.subMenu,{subMenu:!0});sub&&li.append(sub)}section.append(li)})),section}}class CoC7ActorSheet extends ActorSheet{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=await super.getData();if(sheetData.showHiddenDevMenu=game.settings.get("CoC7","hiddendevmenu"),sheetData.canDragToken=!!this.token&&game.user.isGM,sheetData.linkedActor=!0===this.actor.prototypeToken?.actorLink,sheetData.isToken=this.actor.isToken,sheetData.itemsByType={},sheetData.skills={},sheetData.combatSkills={},sheetData.weapons={},sheetData.rangeWpn=[],sheetData.meleeWpn=[],sheetData.actorFlags={},sheetData.effects="character"===this.actor.type?CoC7ActiveEffect.prepareActiveEffectCategories(this.actor.effects):CoC7ActiveEffect.prepareNPCActiveEffectCategories(this.actor.effects),sheetData.permissionLimited=!game.user.isGM&&(this.actor.ownership[game.user.id]??this.actor.ownership.default)===CONST.DOCUMENT_OWNERSHIP_LEVELS.LIMITED,sheetData.isKeeper=game.user.isGM,sheetData.allowUnlock="always"===game.settings.get("CoC7","playerUnlockSheetMode")||game.user.isGM||"creation"===game.settings.get("CoC7","playerUnlockSheetMode")&&game.settings.get("CoC7","charCreationEnabled"),"creation"===game.settings.get("CoC7","playerUnlockSheetMode")&&game.settings.get("CoC7","charCreationEnabled")&&(sheetData.data.system.flags.locked=!1),"vehicle"!==this.actor.type&&(sheetData.data.system.characteristics||(sheetData.data.system.characteristics={str:{value:null,short:"CHARAC.STR",label:"CHARAC.Strength",formula:null},con:{value:null,short:"CHARAC.CON",label:"CHARAC.Constitution",formula:null},siz:{value:null,short:"CHARAC.SIZ",label:"CHARAC.Size",formula:null},dex:{value:null,short:"CHARAC.DEX",label:"CHARAC.Dexterity",formula:null},app:{value:null,short:"CHARAC.APP",label:"CHARAC.Appearance",formula:null},int:{value:null,short:"CHARAC.INT",label:"CHARAC.Intelligence",formula:null},pow:{value:null,short:"CHARAC.POW",label:"CHARAC.Power",formula:null},edu:{value:null,short:"CHARAC.EDU",label:"CHARAC.Education",formula:null}}),sheetData.data.system.attribs||(sheetData.data.system.attribs={hp:{value:null,max:null,short:"HP",label:"Hit points",auto:!0},mp:{value:null,max:null,short:"HP",label:"Magic points",auto:!0},lck:{value:null,short:"LCK",label:"Luck"},san:{value:null,max:99,short:"SAN",label:"Sanity",auto:!0},mov:{value:null,short:"MOV",label:"Movement rate",auto:!0},db:{value:null,short:"DB",label:"Damage bonus",auto:!0},build:{value:null,short:"BLD",label:"Build",auto:!0},armor:{value:null,auto:!1}}),sheetData.data.system.biography||(sheetData.data.system.biography={personalDescription:{type:"string",value:""}}),sheetData.data.system.infos||(sheetData.data.system.infos={occupation:"",age:"",sex:"",residence:"",birthplace:"",archetype:"",organization:"",playername:""}),sheetData.data.system.flags||(sheetData.data.system.flags={locked:!0,manualCredit:!1}),sheetData.data.system.credit||(sheetData.data.system.credit={monetarySymbol:null,multiplier:null,spent:null,assetsDetails:null}),sheetData.data.system.development||(sheetData.data.system.development={personal:null,occupation:null,archetype:null}),sheetData.data.system.biography||(sheetData.data.system.biography=[]),sheetData.pulpRuleArchetype=game.settings.get("CoC7","pulpRuleArchetype"),sheetData.pulpRuleOrganization=game.settings.get("CoC7","pulpRuleOrganization")),sheetData.isDead=this.actor.dead,sheetData.isDying=this.actor.dying,sheetData.items){for(const item of sheetData.items){if("skill"===item.type)if(item.system.properties.special&&(item.system.properties.fighting&&(item.system.specialization=game.i18n.localize("CoC7.FightingSpecializationName")),item.system.properties.firearm&&(item.system.specialization=game.i18n.localize("CoC7.FirearmSpecializationName"))),"character"!==this.actor.type){if(isNaN(Number(item.system.value))){let value=null;const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));try{value=(await new Roll(item.system.value,parsed).evaluate({async:!0})).total}catch(err){console.warn(game.i18n.format("CoC7.ErrorUnableToParseSkillFormula",{value:item.system.value,name:item.name})),value=null}if(value){item.system.value=value;const itemToUpdate=this.actor.items.get(item._id);console.info(`[COC7] (Actor:${this.name}) Evaluating skill ${item.name}:${item.system.value} to ${value}`),await itemToUpdate.update({"system.value":value})}}const skill=this.actor.items.get(item._id),{base,rawValue,value}=skill.system;item.system.rawValue=rawValue||value||base,item.system.value=value||base}else{const skill=this.actor.items.get(item._id);if(item.system.base=await skill.asyncBase(),item.system.value){let updatedExp=(item.system.adjustments?.experience?parseInt(item.system.adjustments.experience):0)+parseInt(item.system.value)-skill.value;updatedExp<=0&&(updatedExp=null),console.info(`[COC7] Updating skill ${skill.name} experience. Experience missing: ${updatedExp}`),await this.actor.updateEmbeddedDocuments("Item",[{_id:item._id,"system.adjustments.experience":updatedExp,"system.value":null}]),item.system.adjustments||(item.system.adjustments={}),item.system.adjustments.experience=updatedExp,item.system.rawValue=skill.rawValue,item.system.value=skill.value}else item.system.value=skill.value,item.system.rawValue=skill.rawValue}let list=sheetData.itemsByType[item.type];list||(list=[],sheetData.itemsByType[item.type]=list),list.push(item)}for(const itemType in sheetData.itemsByType)sheetData.itemsByType[itemType].sort(CoC7Utilities.sortByNameKey);sheetData.skills=sheetData.items.filter((item=>"skill"===item.type)).sort(CoC7Utilities.sortByNameKey),sheetData.meleeSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat&&!0===skill.system.properties.fighting)),sheetData.rangeSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat&&!0===skill.system.properties.firearm));const cbtSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat));if(cbtSkills)for(const skill of cbtSkills)sheetData.combatSkills[skill._id]=skill;const weapons=sheetData.itemsByType.weapon;if(weapons)for(const weapon of weapons){if(weapon.usesAlternateSkill=!0===weapon.system.properties.auto||!0===weapon.system.properties.brst,weapon.system.ammo||(weapon.system.ammo=0),weapon.skillSet=!0,""===weapon.system.skill.main.id)weapon.skillSet=!1;else{if(sheetData.combatSkills[weapon.system.skill.main.id]){const skill=this.actor.items.get(weapon.system.skill.main.id);weapon.system.skill.main.name=skill.system.skillName,weapon.system.skill.main.value=skill.value}else weapon.skillSet=!1;if(""!==weapon.system.skill.alternativ.id&&sheetData.combatSkills[weapon.system.skill.alternativ.id]){const skill=this.actor.items.get(weapon.system.skill.alternativ.id);weapon.system.skill.alternativ.name=skill.system.skillName,weapon.system.skill.alternativ.value=skill.value}}weapon.system._properties=[];for(const[key,value]of Object.entries(COC7.weaponProperties)){const property={};property.id=key,property.name=value,property.value=!0===weapon.system.properties[key],weapon.system._properties.push(property)}sheetData.weapons[weapon._id]=weapon,weapon.system.properties.rngd?sheetData.rangeWpn.push(weapon):sheetData.meleeWpn.push(weapon)}const token=this.token;if(sheetData.tokenId=token?`${token.parent?.id?token.parent.id:"TOKEN"}.${token.id}`:null,sheetData.hasEmptyValueWithFormula=!1,sheetData.data.system.characteristics)for(const characteristic of Object.values(sheetData.data.system.characteristics))characteristic.value||(characteristic.editable=!0),characteristic.hard=Math.floor(characteristic.value/2),characteristic.extreme=Math.floor(characteristic.value/5),characteristic.value||characteristic.formula?characteristic.display=!0:characteristic.display=!1,!characteristic.value&&characteristic.formula&&(characteristic.hasEmptyValueWithFormula=!0),sheetData.hasEmptyValueWithFormula=sheetData.hasEmptyValueWithFormula||characteristic.hasEmptyValueWithFormula}if(["vehicle","container"].includes(this.actor.type))sheetData.data.system.attribs.hp.auto=!1,sheetData.data.system.attribs.mp.auto=!1,sheetData.data.system.attribs.san.auto=!1,sheetData.data.system.attribs.mov.auto=!1,sheetData.data.system.attribs.db.auto=!1,sheetData.data.system.attribs.build.auto=!1;else{const auto=this.actor.checkUndefinedAuto();sheetData.data.system=mergeObject(sheetData.data.system,auto)}return sheetData.data.system.attribs.mp.value<0&&(sheetData.data.system.attribs.mp.value=null),sheetData.data.system.attribs.san.value<0&&(sheetData.data.system.attribs.san.value=null),["vehicle"].includes(this.actor.type)||sheetData.data.system.biography instanceof Array&&sheetData.data.system.biography.length&&(sheetData.data.system.biography[0].isFirst=!0,sheetData.data.system.biography[sheetData.data.system.biography.length-1].isLast=!0),sheetData.showInventoryItems=!1,sheetData.showInventoryBooks=!1,sheetData.showInventorySpells=!1,sheetData.showInventoryTalents=!1,sheetData.showInventoryStatuses=!1,sheetData.showInventoryWeapons=!1,sheetData.hasConditions=this.actor.effects.size>0||void 0!==this.actor.system.conditions&&Object.keys(this.actor.system.conditions).filter((condition=>this.actor.system.conditions[condition].value)).length>0,sheetData}get tokenKey(){throw ui.notifications.error("DEPRECATED SHOULD NOT HAPPEN!"),new Error("base.js get tokenKey(): DEPRECATED SHOULD NOT HAPPEN!")}onCloseSheet(){}activateListeners(html){if(super.activateListeners(html),game.settings.get("CoC7","useContextMenus")){this.menus||(this.menus=[]);const rollMenu={id:"skill-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"roll",label:"Roll"},{action:"opposed-roll",label:"Opposed roll"},{action:"combined-roll",label:"Combined roll"}]},{classes:"keeper",visibility:"gm",items:[{label:{icon:"fas fa-link",text:"Link"},subMenu:{items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"}]}},{action:"request-roll",label:"Request roll"}]}]},sanMenu={id:"san-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"encounter",label:"Encounter"},{action:"roll",label:"Roll"},{action:"opposed-roll",label:"Opposed roll"},{action:"combined-roll",label:"Combined roll"}]},{classes:"keeper",visibility:"trusted",items:[{action:"request-roll",label:"Request roll"},{label:{icon:"fas fa-link",text:"Link"},subMenu:{items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"},{action:"link-encounter",label:"Encounter"}]}}]}]},rollContextMenu=new CoC7ContextMenu;rollContextMenu.bind(rollMenu,html,this._onContextMenuClick.bind(this)),this.menus.push(rollContextMenu);const sanContextMenu=new CoC7ContextMenu;sanContextMenu.bind(sanMenu,html,this._onContextMenuClick.bind(this)),this.menus.push(sanContextMenu)}else html.find(".characteristic-label").contextmenu(this._onOpposedRoll.bind(this)),html.find(".skill-name.rollable").contextmenu(this._onOpposedRoll.bind(this)),html.find(".attribute-label.rollable").contextmenu(this._onOpposedRoll.bind(this));if(html.find(".characteristic-label").click(this._onRollCharacteriticTest.bind(this)),html.find(".skill-name.rollable").click(this._onRollSkillTest.bind(this)),html.find(".skill-image").click(this._onRollSkillTest.bind(this)),html.find(".attribute-label.rollable").click(this._onRollAttribTest.bind(this)),html.find(".token-drag-handle").on("dragstart",this._onDragTokenStart.bind(this)),this.actor.isOwner&&!this.actor.compendium?.locked&&(html.find(".lock").click(this._onLockClicked.bind(this)),html.find(".flag").click(this._onFlagClicked.bind(this)),html.find(".formula").click(this._onFormulaClicked.bind(this))),this.actor.isOwner&&void 0===this.actor.compendium){html.find(".characteristic-label").on("dragstart",(event=>this._onDragCharacteristic(event))),html.find(".attribute-label").on("dragstart",(event=>this._onDragAttribute(event))),html.find(".san-check").on("dragstart",(event=>this._onDragSanCheck(event))),html.find(".weapon-name.rollable").contextmenu(this._onOpposedRoll.bind(this)),html.find(".roll-characteritics").click(this._onRollCharacteriticsValue.bind(this)),html.find(".average-characteritics").click(this._onAverageCharacteriticsValue.bind(this)),html.find(".toggle-switch").click(this._onToggle.bind(this)),html.find(".auto-toggle").click(this._onAutoToggle.bind(this)),(game.user.isGM||game.settings.get("CoC7","statusPlayerEditable"))&&(html.find(".reset-counter").click(this._onResetCounter.bind(this)),html.find(".condition-monitor").click(this._onConditionToggle.bind(this)),html.find(".is-dying").click(this.heal.bind(this)),html.find(".is-dead").click(this.revive.bind(this))),html.find(".dying-check").click(this.checkForDeath.bind(this)),html.find(".item .item-image").click((event=>this._onItemRoll(event))),html.find(".weapon-name.rollable").click((event=>this._onWeaponRoll(event))),html.find(".item-name.effect-name").click((event=>this._onEffect(event))),html.find(".weapon-skill.rollable").click((async event=>this._onWeaponSkillRoll(event))),html.find(".reload-weapon").click((event=>this._onReloadWeapon(event))),html.find(".reload-weapon").on("contextmenu",(event=>this._onReloadWeapon(event))),html.find(".add-ammo").click(this._onAddAmo.bind(this)),html.find(".read-only").dblclick(this._toggleReadOnly.bind(this)),html.on("click",".weapon-damage",this._onWeaponDamage.bind(this)),html.find(".inventory-header").click(this._onInventoryHeader.bind(this)),html.find(".items-header").click(this._onItemHeader.bind(this)),html.find(".section-header").click(this._onSectionHeader.bind(this));const wheelInputs=html.find(".attribute-value");for(const wheelInput of wheelInputs)wheelInput.addEventListener("wheel",(event=>this._onWheel(event)),{passive:!0})}this.options.editable&&(html.find(".show-detail").click((event=>this._onItemSummary(event))),html.find(".item-popup").click(this._onItemPopup.bind(this)),html.find(".show-detail").dblclick((event=>this._onRenderItemSheet(event))),html.find(".item-edit").click((event=>this._onRenderItemSheet(event))),html.find(".item-delete").click((async ev=>{const li=$(ev.currentTarget).parents(".item"),itemToDelete=this.actor.items.get(li.data("itemId"),{strict:!0});await itemToDelete.delete(),li.slideUp(200,(()=>this.render(!1)))})),html.find(".add-item").click((ev=>{switch(ev.stopPropagation(),ev.currentTarget.dataset.type){case"book":this.actor.createEmptyBook(ev);break;case"item":this.actor.createEmptyItem(ev);break;case"skill":this.actor.createEmptySkill(ev);break;case"spell":this.actor.createEmptySpell(ev);break;case"weapon":{const properties={};ev.currentTarget.dataset.melee?properties.melee=!0:ev.currentTarget.dataset.rngd&&(properties.rngd=!0),this.actor.createEmptyWeapon(ev,properties)}}})),html.find(".item-trade").click(this._onTradeItem.bind(this)),html.find(".add-new-section").click((()=>{this.actor.createBioSection(),this.render()})),html.find(".delete-section").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.deleteBioSection(index)})),html.find(".move-section-up").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.moveBioSectionUp(index)})),html.find(".move-section-down").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.moveBioSectionDown(index)})),html.find(".development-flag").dblclick((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("developement")})),html.find(".occupation-skill-flag.clickable").click((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("occupation")})),html.find(".archetype-skill-flag.clickable").click((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("archetype")})),html.find(".skill-developement").click((event=>{this.actor.developementPhase(event.shiftKey)})),html.find(".luck-development").click((event=>{event.detail&&1!==event.detail||this.actor.developLuck(event.shiftKey)})),html.find(".clear_conditions").click((event=>{if(void 0!==this.actor.system.conditions){const disable={};for(const condition in this.actor.system.conditions)void 0!==this.actor.system.conditions[condition].value&&!0===this.actor.system.conditions[condition].value&&(disable[`system.conditions.${condition}.value`]=!1);Object.keys(disable).length>0&&this.actor.update(disable)}const effects=this.actor.effects.map((effect=>effect.id));effects.length>0&&this.actor.deleteEmbeddedDocuments("ActiveEffect",effects)})),CoC7Link.bindEventsHandler(html),html.find(".test-trigger").click((async event=>{if(!game.settings.get("CoC7","hiddendevmenu"))return null})),html.find(".skill-name.rollable").mouseenter(this.toolTipSkillEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".characteristic-label").mouseenter(this.toolTipCharacteristicEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".attribute-label.rollable").mouseenter(this.toolTipAttributeEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".auto-toggle").mouseenter(this.toolTipAutoEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".item-control.development-flag").mouseenter(this.toolTipFlagForDevelopment.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.actor))))}toolTipSkillEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const isCombat=game.CoC7Tooltips.ToolTipHover.classList?.contains("combat"),item=game.CoC7Tooltips.ToolTipHover.closest(".item");if(void 0!==item){const skillId=item.dataset.skillId,skill=sheet.actor.items.get(skillId);let toolTip=game.i18n.format(isCombat?"CoC7.ToolTipCombat":"CoC7.ToolTipSkill",{skill:skill.name,regular:skill.value,hard:Math.floor(skill.value/2),extreme:Math.floor(skill.value/5)});game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}toolTipCharacteristicEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const char=game.CoC7Tooltips.ToolTipHover.closest(".char-box");if(void 0!==char&&char){const charId=char.dataset.characteristic,characteristic=sheet.actor.characteristics[charId];let toolTip=game.i18n.format("CoC7.ToolTipSkill",{skill:characteristic.label,regular:characteristic.value??0,hard:characteristic.hard??0,extreme:characteristic.extreme??0});game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}toolTipAttributeEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const attrib=game.CoC7Tooltips.ToolTipHover.closest(".attribute");if(void 0!==attrib){const attributeId=attrib.dataset.attrib;let toolTip="";const attributes=sheet.actor.system.attribs[attributeId];switch(attributeId){case"lck":toolTip=game.i18n.format("CoC7.ToolTipSkill",{skill:attributes.label,regular:attributes.value??0,hard:Math.floor((attributes.value??0)/2),extreme:Math.floor((attributes.value??0)/5)}),game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip);break;case"db":toolTip=game.i18n.localize("CoC7.ToolTipDB"),game.CoC7Tooltips.displayToolTip(toolTip);break;case"san":toolTip=game.i18n.format("CoC7.ToolTipSanity",{skill:"Sanity",regular:attributes.value??0,hard:Math.floor((attributes.value??0)/2),extreme:Math.floor((attributes.value??0)/5)}),game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.i18n.localize("CoC7.ToolTipKeeperSanity")+(game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):"")})),game.CoC7Tooltips.displayToolTip(toolTip)}}}}),delay)}}toolTipAutoEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));delay>0&&(game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const toolTip=game.i18n.localize("CoC7.ToolTipAutoToggle");game.CoC7Tooltips.displayToolTip(toolTip)}}),delay))}toolTipFlagForDevelopment(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const item=game.CoC7Tooltips.ToolTipHover.closest(".item");if(void 0!==item){const skillId=item.dataset.skillId,skill=sheet.actor.items.get(skillId),toolTip=game.i18n.format("CoC7.ToolTipSkillFlagToggle",{status:game.i18n.localize(skill.system.flags.developement?"CoC7.ToolTipSkillFlagged":"CoC7.ToolTipSkillUnflagged")});game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}_onContextMenuClick(event,target){const targetType=target.dataset?.targetType,rollOptions={preventStandby:!0,fastForward:!1,actor:this.actor};switch(targetType){case"skill":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL,rollOptions.skillId=target.closest(".item")?.dataset.skillId;break;case"characteristic":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,rollOptions.characteristic=target.closest(".char-box").dataset.characteristic;break;case"attribute":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,rollOptions.attribute=target.closest(".attribute").dataset.attrib}switch(event.currentTarget.dataset.action){case"roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL;break;case"opposed-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_OPPOSED;break;case"combined-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_COMBINED;break;case"request-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL,rollOptions.preventStandby=!1;break;case"link-tool":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.openLinkTool=!0;break;case"send-chat":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.sendToChat=!0;break;case"copy-to-clipboard":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.sendToClipboard=!0;break;case"link-encounter":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0;break;case"encounter":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_SAN_CHECK,rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,rollOptions.fastForward=!0}CoC7ChatMessage.trigger(rollOptions)}_onRenderItemSheet(event){const li=$(event.currentTarget).parents(".item");this.actor.items.get(li.data("itemId")).sheet.render(!0)}async _onTradeItem(event){const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("itemId"));let content="<p>"+game.i18n.localize("CoC7.MessageSelectUserToGiveTo");const message={actorFrom:this.actor.id,scene:null,actorTo:this.actor.id,item:item.id};this.token?.actor&&(message.actorFrom=this.token.id,message.scene=this.token.parent.id);const actors=game.actors.filter((e=>{if(!["character","npc","creature","container"].includes(e.type))return!1;if(this.actor.id===e.id)return!1;let visible=!1;for(const[k,v]of Object.entries(e.ownership))"default"!==k&&k!==game.user.id||(visible=visible||v!==CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE);return visible}));content+='<form id="selectform"><select name="user">';for(const actor of actors)content=content+'<option value="'+actor.id+'">'+actor.name+"</option>";content+="</select></form></p>",message.actorTo=await new Promise((resolve=>{new Dialog({title:game.i18n.localize("CoC7.MessageTitleSelectUserToGiveTo"),content,buttons:{confirm:{label:game.i18n.localize("CoC7.Validate"),callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)if("user"===name)return resolve(value)}}},default:"confirm",close:()=>{}}).render(!0)})),await game.CoC7socket.executeAsGM("gmtradeitemto",message)}_onDragStart(event){if(super._onDragStart(event),this.token){const dragData=JSON.parse(event.dataTransfer.getData("text/plain"));dragData.tokenUuid=this.token.uuid,dragData.tokenId=this.token.id,dragData.sceneId=this.token.parent.id,event.dataTransfer.setData("text/plain",JSON.stringify(dragData))}}_onDragCharacteristic(event){const box=event.currentTarget.parentElement,data={CoC7Type:"link",linkType:"characteristic",check:"check",type:"CoC7Link",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,name:box.dataset.characteristic,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}_onDragAttribute(event){const box=event.currentTarget.parentElement,data={CoC7Type:"link",linkType:"attribute",check:"check",type:"CoC7Link",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,name:box.dataset.attrib,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}_onDragSanCheck(event){const sanMin=event.currentTarget.querySelector(".san-value.pass"),sanMax=event.currentTarget.querySelector(".san-value.failed"),data={CoC7Type:"link",linkType:"coc7-link",check:"sanloss",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,sanMin:sanMin.innerText,sanMax:sanMax.innerText,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}async _onDrop(event){const dataString=event.dataTransfer.getData("text/plain");if(""===dataString)return!1;const data=JSON.parse(dataString);"CoC7Link"===data.type&&data.check===CoC7Link.CHECK_TYPE.EFFECT&&CoC7Link._onLinkActorClick(this.actor,data),await super._onDrop(event)}async _onConditionToggle(event){event.preventDefault(),event.currentTarget.dataset.condition&&await this.actor.toggleCondition(event.currentTarget.dataset.condition)}async revive(){game.user.isGM&&this.actor.unsetCondition(COC7.status.dead)}async heal(){game.user.isGM&&this.actor.unsetCondition(COC7.status.dying)}async checkForDeath(event){const conCheck=new CoC7ConCheck(this.actor.isToken?this.actor.tokenKey:this.actor.id);conCheck.stayAlive=!0,conCheck.toMessage(event.shiftKey)}async _onDragTokenStart(event){const data={type:"Token",uuid:this.token.uuid};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}async _onResetCounter(event){event.preventDefault(),await this.actor.resetDailySanity()}async _onAutoToggle(event){if(event.currentTarget.closest(".attribute")){const attrib=event.currentTarget.closest(".attribute").dataset.attrib;this.actor.toggleAttribAuto(attrib)}}async _onToggle(event){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);weapon&&weapon.toggleProperty(event.currentTarget.dataset.property,isCtrlKey(event))}async _onRollCharacteriticsValue(){await this.actor.rollCharacteristicsValue()}async _onAverageCharacteriticsValue(){this.actor.averageCharacteristicsValue()}async _onLockClicked(event){event.preventDefault();const isLocked=this.actor.locked;this.actor.locked=!isLocked,Hooks.call("actorLockClickedCoC7",[!isLocked])}async _onFlagClicked(event){event.preventDefault();const flagName=event.currentTarget.dataset.flag;this.actor.toggleActorFlag(flagName)}async _onFormulaClicked(event){event.preventDefault(),this.actor.toggleActorFlag("displayFormula")}async _onWheel(event){let value=parseInt(event.currentTarget.value)||null;switch(event.deltaY>0&&(value=0===value?0:value-1),event.deltaY<0&&(value+=1),event.currentTarget.name){case"system.attribs.hp.value":case"system.attribs.build.current":this.actor.setHp(value);break;case"system.attribs.mp.value":this.actor.setMp(value);break;case"system.attribs.san.value":this.actor.setSan(value);break;case"system.attribs.lck.value":this.actor.setLuck(value)}}_toggleReadOnly(event){event.currentTarget.readOnly=!event.currentTarget.readOnly,event.currentTarget.classList.toggle("read-only")}_onItemSummary(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id")),chatData=item.getChatData({secrets:this.actor.isOwner});if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>{summary.remove(),li.toggleClass("expanded")}))}else{const div=$('<div class="item-summary"></div>'),labels=$('<div class="item-labels"></div>');for(const p of chatData.labels)labels.append(`<div class="item-label"><span class="label-name">${p.name} :</span><span class="label-value">${p.value}</span></div>`);if(div.append(labels),div.append($(`<div class="item-description">${chatData.description.value}</div>`)),item.system.properties?.spcl){const specialDiv=$(`<div class="item-special">${chatData.description.special}</div>`);div.append(specialDiv)}const props=$('<div class="item-properties"></div>');for(const p of chatData.properties)props.append(`<div class="tag item-property">${game.i18n.localize(p)}</div>`);div.append(props),li.append(div.hide()),CoC7Link.bindEventsHandler(div),div.slideDown(200,(()=>li.toggleClass("expanded")))}}async _onSectionHeader(event){event.preventDefault();const section=event.currentTarget.closest("section"),pannelClass=event.currentTarget.dataset.pannel;if(void 0===pannelClass)return;const pannel=$(section).find(`.pannel.${pannelClass}`);pannel.hasClass("expanded")?pannel.slideUp(200,(()=>pannel.toggleClass("expanded"))):pannel.slideDown(200,(()=>pannel.toggleClass("expanded")));const camelFlag=chatHelper.hyphenToCamelCase(`data.pannel.${pannelClass}.expanded`);this.actor.update({[camelFlag]:!pannel.hasClass("expanded")},{render:!1})}_onInventoryHeader(event){event.preventDefault();const li=$(event.currentTarget).siblings("li");li.is(":visible")?li.slideUp(200):li.slideDown(200)}_onItemHeader(event){event.preventDefault();const ol=$(event.currentTarget).next("ol");ol.is(":visible")?ol.slideUp(200):ol.slideDown(200)}async _onItemPopup(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id"));CoC7ActorSheet.popupSkill(item)}static async popupSkill(skill){skill.system.description.enrichedValue=TextEditor.enrichHTML(skill.system.description.value,{async:!1});new Dialog({title:game.i18n.localize("CoC7.SkillDetailsWindow"),content:skill,buttons:{},close:()=>{}},{classes:["coc7","sheet","skill"],width:520,height:480,scrollY:[".item-description"],template:"systems/CoC7/templates/apps/skill-details.html"}).render(!0)}async _onItemRoll(event){event.preventDefault()}async _onEffect(event){event.preventDefault();const effectId=event.currentTarget.closest("li").dataset.effectId,effect=this.actor.effects.get(effectId);isCtrlKey(event)&&game.user.isGM&&CoC7ContentLinkDialog.create({type:"CoC7Link",check:CoC7Link.CHECK_TYPE.EFFECT,object:effect})}async _onWeaponRoll(event){event.preventDefault();const itemId=event.currentTarget.closest("li").dataset.itemId,fastForward=event.shiftKey,weapon=this.actor.items.get(itemId);let actorKey;if(actorKey=this.token?this.actor.isToken&&game.actors.tokens[this.token.id]?`TOKEN.${this.token.id}`:`${this.token.parent.id}.${this.token.id}`:this.actor.id,isCtrlKey(event)&&game.user.isGM){const linkData={check:CoC7Link.CHECK_TYPE.ITEM,name:weapon.name};CoC7ContentLinkDialog.create(linkData,{actors:[this.actor]})}else{let proceedWithoutTarget;if(game.user.targets.size<=0&&(proceedWithoutTarget=await new Promise((resolve=>{const data={title:" ",content:game.i18n.format("CoC7.NoTargetSelected",{weapon:weapon.name}),buttons:{cancel:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>resolve(!1)},proceed:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>resolve(!0)}},default:"cancel",classes:["coc7","dialog"]};new Dialog(data).render(!0)}))),game.user.targets.size>0||proceedWithoutTarget){if(!weapon.system.properties.rngd){game.user.targets.size>1&&ui.notifications.warn(game.i18n.localize("CoC7.WarnTooManyTarget"));new CoC7MeleeInitiator(actorKey,itemId,fastForward).createChatCard()}if(weapon.system.properties.rngd){new CoC7RangeInitiator(actorKey,itemId,fastForward).createChatCard()}}}}async _onReloadWeapon(event){const itemId=event.currentTarget.closest(".item")?event.currentTarget.closest(".item").dataset.itemId:null;if(!itemId)return;const weapon=this.actor.items.get(itemId);0===event.button?event.shiftKey?await weapon.reload():await weapon.addBullet():2===event.button&&(event.shiftKey?await weapon.setBullets(0):await weapon.shootBullets(1))}async _onAddAmo(event){const itemId=event.currentTarget.closest(".item")?event.currentTarget.closest(".item").dataset.itemId:null;if(!itemId)return;const weapon=this.actor.items.get(itemId);await weapon.addBullet()}async _onWeaponSkillRoll(event){event.preventDefault();const skillId=event.currentTarget.dataset.skillId,actorId=event.currentTarget.closest("form").dataset.actorId,tokenKey=event.currentTarget.closest("form").dataset.tokenId,itemId=event.currentTarget.closest("li")?event.currentTarget.closest("li").dataset.itemId:null,check=new CoC7Check;if(!event.shiftKey){const usage=await RollDialog.create();usage&&(check.diceModifier=usage.get("bonusDice"),check.difficulty=usage.get("difficulty"),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=tokenKey||actorId,check.skill=skillId,check.item=itemId,await check.roll(),check.toMessage()}async _onWeaponDamage(event){event.preventDefault();const itemId=event.currentTarget.closest(".weapon").dataset.itemId,range=event.currentTarget.closest(".weapon-damage").dataset.range,damageChatCard=new DamageCard({fastForward:event.shiftKey,range});damageChatCard.actorKey=this.actor.tokenKey,damageChatCard.itemId=itemId,damageChatCard.updateChatCard()}async _onOpposedRoll(event){if(event.preventDefault(),"db"===event.currentTarget.parentElement.dataset.attrib)return;const data={rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_OPPOSED,event,actor:this.actor};event.currentTarget.classList.contains("characteristic-label")?data.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:event.currentTarget.classList.contains("attribute-label")&&(data.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE),event.altKey&&(data.cardType=CoC7ChatMessage.CARD_TYPE_COMBINED),CoC7ChatMessage.trigger(data)}async _onRollCharacteriticTest(event){event.preventDefault(),event.currentTarget.classList.contains("flagged4dev")||(game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,characteristic:event.currentTarget.closest(".char-box").dataset.characteristic,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor}))}async _onRollAttribTest(event){event.preventDefault();const attrib=event.currentTarget.parentElement.dataset.attrib;if("db"!==attrib)game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,attribute:event.currentTarget.closest(".attribute").dataset.attrib,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,cardType:event.altKey&&"san"===attrib?CoC7ChatMessage.CARD_TYPE_SAN_CHECK:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor});else if(!/^-{0,1}\d+$/.test(event.currentTarget.parentElement.dataset.rollFormula)){const r=new Roll(event.currentTarget.parentElement.dataset.rollFormula);await r.roll({async:!0}),isNaN(r.total)||void 0===r.total||r.toMessage({speaker:ChatMessage.getSpeaker(),flavor:game.i18n.localize("CoC7.BonusDamageRoll")})}}_onRollSkillTest(event){event.preventDefault(),event.currentTarget.classList.contains("flagged4dev")||(game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,skillId:event?.currentTarget.closest(".item")?.dataset.skillId,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor}))}async _updateObject(event,formData){const overrides=foundry.utils.flattenObject(this.actor.overrides),name=event?.currentTarget?.name;if(name&&overrides&&overrides[name]&&ui.notifications.warn(game.i18n.format("CoC7.EffectAppliedCantOverride",{name})),event.currentTarget&&event.currentTarget.classList){if(event.currentTarget.classList.contains("skill-adjustment")){const item=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);if(item){const value=event.currentTarget.value?parseInt(event.currentTarget.value):null;if(event.currentTarget.value?isNaN(value)||await item.update({[event.currentTarget.name]:value}):await item.update({[event.currentTarget.name]:null}),game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.credit-rating")===item.name&&void 0!==this.actor.occupation?.system?.creditRating?.max){const creditValue=(item.value||0)-(item.system.adjustments?.experience||0);(creditValue>Number(this.actor.occupation.system.creditRating.max)||creditValue<Number(this.actor.occupation.system.creditRating.min))&&ui.notifications.warn(game.i18n.format("CoC7.CreditOutOfRange",{min:Number(this.actor.occupation.system.creditRating.min),max:Number(this.actor.occupation.system.creditRating.max)}))}}}if(event.currentTarget.classList.contains("attribute-value")){if("system.attribs.san.value"===event.currentTarget.name)return await this.actor.setSan(parseInt(event.currentTarget.value)),void this.render(!0);if("system.attribs.hp.value"===event.currentTarget.name)return await this.actor.setHp(parseInt(event.currentTarget.value)),void this.render(!0)}if(event.currentTarget.classList.contains("text-area"))return void this.actor.updateTextArea(event.currentTarget);if(event.currentTarget.classList.contains("bio-section-value")){const index=parseInt(event.currentTarget.closest(".bio-section").dataset.index);await this.actor.updateBioValue(index,event.currentTarget.value)}if(event.currentTarget.classList.contains("bio-section-title")){const index=parseInt(event.currentTarget.closest(".bio-section").dataset.index);this.actor.updateBioTitle(index,event.currentTarget.value)}if(event.currentTarget.classList.contains("npc-skill-score")){const skill=this.actor.items.get(event.currentTarget.closest(".item").dataset.skillId);skill&&await skill.updateValue(event.currentTarget.value)}if(event.currentTarget.classList.contains("skill-name")||event.currentTarget.classList.contains("item-name")){const item=this.actor.items.get(event.currentTarget.closest(".item").dataset.skillId);if(item){const data={};if(item.system.properties.special){const parts=CoC7Item.getNamePartsSpec(event.currentTarget.value,item.system.specialization);data.name=parts.name,data["system.skillName"]=parts.skillName,data["system.specialization"]=parts.specialization}else data["system.skillName"]=event.currentTarget.value,data.name=event.currentTarget.value;await item.update(data)}}if(event.currentTarget.classList.contains("characteristic-formula")&&0!==event.currentTarget.value.length){const r=new Roll(event.currentTarget.value);await r.roll({async:!0}),(isNaN(r.total)||void 0===r.total)&&(ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:event.currentTarget.value})),formData[event.currentTarget.name]=game.i18n.format("CoC7.ErrorInvalid"))}if(event.currentTarget.classList.contains("attribute-value")&&0!==event.currentTarget.value.length&&"db"===event.currentTarget.closest(".attribute").dataset.attrib){const r=new Roll(event.currentTarget.value);await r.roll({async:!0}),(isNaN(r.total)||void 0===r.total)&&(ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:event.currentTarget.value})),formData[event.currentTarget.name]=game.i18n.format("CoC7.ErrorInvalid"))}if(event.currentTarget.classList.contains("weapon-skill")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId),skill=this.actor.items.get(event.currentTarget.options[event.currentTarget.selectedIndex].value);if(weapon&&skill)switch(event.currentTarget.dataset.skill){case"main":await weapon.update({"system.skill.main.id":skill.id,"system.skill.main.name":skill.name});break;case"alternativ":await weapon.update({"system.skill.alternativ.id":skill.id,"system.skill.alternativ.name":skill.name})}}if(event.currentTarget.classList.contains("weapon-name")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);weapon&&await weapon.update({name:event.currentTarget.value})}if(event.currentTarget.classList.contains("damage-formula")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);if(weapon)if(0!==event.currentTarget.value.length){const r=new Roll(event.currentTarget.value);if(await r.roll({async:!0}),isNaN(r.total)||void 0===r.total)ui.notifications.error(game.i18n.format("CoC7.ErrorUnableToParseFormula",{value:event.currentTarget.value}));else switch(event.currentTarget.dataset.range){case"normal":await weapon.update({"system.range.normal.damage":event.currentTarget.value});break;case"long":await weapon.update({"system.range.long.damage":event.currentTarget.value});break;case"extreme":await weapon.update({"system.range.extreme.damage":event.currentTarget.value})}}else switch(event.currentTarget.dataset.range){case"normal":await weapon.update({"system.range.normal.damage":null});break;case"long":await weapon.update({"system.range.long.damage":null});break;case"extreme":await weapon.update({"system.range.extreme.damage":null})}}}return this.object.update(formData)}}class CoC7NPCSheet extends CoC7ActorSheet{async getData(){const sheetData=await super.getData();return sheetData.allowFormula=!0,sheetData.displayFormula=this.actor.getActorFlag("displayFormula")||!1,sheetData.hasSan=null!==sheetData.data.system.attribs.san.value,sheetData.hasMp=null!==sheetData.data.system.attribs.mp.value,sheetData.hasLuck=null!==sheetData.data.system.attribs.lck.value,sheetData.isCreature=!1,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryStatuses=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"status")||!sheetData.data.system.flags.locked,sheetData.showInventoryWeapons=!1,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryStatuses||sheetData.showInventoryWeapons,sheetData.enrichedBiographyPersonalDescription=TextEditor.enrichHTML(sheetData.data.system.biography.personalDescription?.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){if(super.activateListeners(html),game.settings.get("CoC7","useContextMenus")){this.menus||(this.menus=[]);const sanlossMenu={id:"san-loss-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"}]}]},sanlossContextMenu=new CoC7ContextMenu;sanlossContextMenu.bind(sanlossMenu,html,this._onSanLossContextMenuClick.bind(this)),this.menus.push(sanlossContextMenu)}html.find(".roll-san").click(this._onSanCheck.bind(this))}async _onSanLossContextMenuClick(event){const rollOptions={rollType:CoC7ChatMessage.ROLL_TYPE_ENCOUNTER,preventStandby:!0,fastForward:!1,event,cardType:CoC7ChatMessage.CARD_TYPE_SAN_CHECK,actor:this.actor};switch(event.currentTarget.dataset.action){case"link-tool":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.openLinkTool=!0;break;case"send-chat":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.sendToChat=!0;break;case"copy-to-clipboard":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.sendToClipboard=!0}CoC7ChatMessage.trigger(rollOptions)}async _onSanCheck(event){if(event.preventDefault(),this.actor.system.special.sanLoss.checkPassed||this.actor.system.special.sanLoss.checkFailled)if(isCtrlKey(event)&&game.user.isGM){let difficulty,modifier;if(!event.shiftKey){const usage=await RollDialog.create({disableFlatDiceModifier:!0});usage&&(modifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")))}const linkData={check:"sanloss",sanMin:this.actor.system.special.sanLoss.checkPassed,sanMax:this.actor.system.special.sanLoss.checkFailled,sanReason:this.actor.system.infos.type?.length?this.actor.system.infos.type:this.actor.name,tokenKey:this.actor.actorKey};"blindroll"===game.settings.get("core","rollMode")&&(linkData.blind=!0),void 0!==modifier&&(linkData.modifier=modifier),void 0!==difficulty&&(linkData.difficulty=difficulty);const link=(new CoC7Link)._createDocumentLink(linkData);link&&chatHelper.createMessage(null,game.i18n.format("CoC7.MessageCheckRequestedWait",{check:link}))}else{const sanData={sanMax:this.actor.sanLossCheckFailled,sanMin:this.actor.sanLossCheckPassed,sanReason:this.actor.system.infos.type?.length?this.actor.system.infos.type:this.actor.name,tokenKey:this.actor.actorKey};SanCheckCard.checkTargets(sanData,event.shiftKey)}}onCloseSheet(){this.actor.unsetActorFlag("displayFormula"),super.onCloseSheet()}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","npc"],dragDrop:[{dragSelector:".item",dropSelector:null}],template:"systems/CoC7/templates/actors/npc-sheet.html",width:580,resizable:!1,minimizable:!0})}async _updateObject(event,formData){if(!(event.currentTarget&&event.currentTarget.classList&&event.currentTarget.classList.contains("characteristic-score")))return super._updateObject(event,formData);this.actor.setCharacteristic(event.currentTarget.name,event.currentTarget.value)}static forceAuto(app,html){html.height("auto")}setPosition(a){super.setPosition(a),CoC7NPCSheet.forceAuto(a,this._element)}}class CoC7CreatureSheet extends CoC7NPCSheet{async getData(){const sheetData=await super.getData();return sheetData.isCreature=!0,sheetData}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","npc","creature"]})}}class CoC7CreateMythosEncounter extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7"],title:game.i18n.localize("CoC7.SanityLossTypeDialogTitle"),template:"systems/CoC7/templates/apps/sanity-loss-type.hbs",height:"auto"})}async getData(){const data=await super.getData();return data.isImmunity="immunity"===data.object.type,data}activateListeners(html){html.find(".field_type").change(this._onSelectChange.bind(this)),html.find(".dialog-button").click(this._onButtonClick.bind(this)),super.activateListeners(html)}_onButtonClick(event){if("add"===event.currentTarget.dataset.button){const html=$(event.currentTarget).closest(".window-content"),type=html.find(".field_type").val(),name=html.find(".field_name").val(),value=parseInt(html.find(".field_value").val()),sanityLossEvents=this.object.actor.system.sanityLossEvents??[];sanityLossEvents.push({type:name,totalLoss:value,immunity:"immunity"===type}),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)})),this.object.actor.update({"data.sanityLossEvents":sanityLossEvents})}this.close()}_onSelectChange(event){const html=$(event.currentTarget).closest(".window-content");this.object.name=html.find(".field_name").val(),this.object.type=html.find(".field_type").val(),this.render(!0)}async _updateObject(event,formData){}}class CoC7CharacterSheet extends CoC7ActorSheet{_getHeaderButtons(){if("CoC7CharacterSheet"===this.constructor.name){this.summarized||(this.summarized=!1);let buttons=super._getHeaderButtons();return buttons=[{label:this.summarized?game.i18n.localize("CoC7.Maximize"):game.i18n.localize("CoC7.Summarize"),class:"test-extra-icon",icon:this.summarized?"fas fa-window-maximize":"fas fa-window-minimize",onclick:event=>this.toggleSheetMode(event)}].concat(buttons),buttons}return super._getHeaderButtons()}async toggleSheetMode(event){this.summarized=!this.summarized;let options=foundry.utils.duplicate(CoC7CharacterSheet.defaultOptions);this.summarized&&(options=foundry.utils.mergeObject(options,{classes:["coc7","actor","character","summarized"],height:200,resizable:!1,width:700})),options.token=this.options.token,await this.close(),await this.render(!0,options)}async getData(){const sheetData=await super.getData();this.isEditable&&void 0===this.actor.getFlag("CoC7","skillListMode")&&await this.actor.setFlag("CoC7","skillListMode",!1),this.isEditable&&void 0===this.actor.getFlag("CoC7","skillShowUncommon")&&await this.actor.setFlag("CoC7","skillShowUncommon",!0),sheetData.skillListModeValue=this.actor.getFlag("CoC7","skillListMode")??!1,sheetData.skillShowUncommon=this.actor.getFlag("CoC7","skillShowUncommon")??!0,sheetData.showIconsOnly=game.settings.get("CoC7","showIconsOnly"),this.actor.occupation?(sheetData.data.system.infos.occupation=this.actor.occupation.name,sheetData.data.system.infos.occupationSet=!0):sheetData.data.system.infos.occupationSet=!1,this.actor.archetype?(sheetData.data.system.infos.archetype=this.actor.archetype.name,sheetData.data.system.infos.archetypeSet=!0):sheetData.data.system.infos.archetypeSet=!1,sheetData.totalExperience=this.actor.experiencePoints,sheetData.totalOccupation=this.actor.occupationPointsSpent,sheetData.invalidOccupationPoints=Number(this.actor.occupationPointsSpent)!==Number(this.actor.system.development?.occupation),sheetData.totalArchetype=this.actor.archetypePointsSpent,sheetData.invalidArchetypePoints=Number(this.actor.archetypePointsSpent)!==Number(this.actor.system.development?.archetype),sheetData.totalPersonal=this.actor.personalPointsSpent,sheetData.invalidPersonalPoints=Number(this.actor.personalPointsSpent)!==Number(this.actor.system.development?.personal),sheetData.creditRatingMax=Number(this.actor.occupation?.system.creditRating.max),sheetData.creditRatingMin=Number(this.actor.occupation?.system.creditRating.min),sheetData.invalidCreditRating=this.actor.creditRatingSkill?.system.adjustments?.occupation>sheetData.creditRatingMax||this.actor.creditRatingSkill?.system.adjustments?.occupation<sheetData.creditRatingMin,sheetData.pulpTalentCount=sheetData.itemsByType.talent?.length?sheetData.itemsByType.talent?.length:0,sheetData.minPulpTalents=this.actor.archetype?.system.talents?this.actor.archetype?.system.talents:0,sheetData.invalidPulpTalents=sheetData.pulpTalentCount<sheetData.minPulpTalents,sheetData.hasDevelopmentPhase=this.actor.hasDevelopmentPhase,sheetData.allowDevelopment=game.settings.get("CoC7","developmentEnabled"),sheetData.allowCharCreation=game.settings.get("CoC7","charCreationEnabled"),sheetData.developmentRollForLuck=game.settings.get("CoC7","developmentRollForLuck"),sheetData.showDevPannel=sheetData.allowDevelopment||sheetData.allowCharCreation,sheetData._monetaryFormats=[];for(const key in COC7.monetaryFormats)sheetData._monetaryFormats.push({key,val:game.i18n.localize(COC7.monetaryFormats[key])});sheetData.showCurrencySymbol=["decimalLeft","decimalRight","integerLeft","integerRight"].includes(sheetData.data.system.monetary.format),sheetData._monetaryTypes=[];for(const key in COC7.monetaryTypes)(0===COC7.monetaryTypes[key].filter.length||COC7.monetaryTypes[key].filter.includes(sheetData.data.system.monetary.format))&&sheetData._monetaryTypes.push({key,val:game.i18n.localize(COC7.monetaryTypes[key].name)});sheetData.manualCredit=this.actor.getActorFlag("manualCredit"),sheetData.manualCredit||(sheetData.monetary={spendingLevel:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.spendingLevel),assets:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.assets),cash:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.cash)}),sheetData.oneBlockBackStory=game.settings.get("CoC7","oneBlockBackstory"),sheetData.summarized=this.summarized&&!sheetData.permissionLimited,sheetData.skillList=[];let previousSpec="";for(const skill of sheetData.skills)!sheetData.skillShowUncommon&&skill.system.properties.rarity||(skill.system.properties.special&&previousSpec!==skill.system.specialization&&(previousSpec=skill.system.specialization,sheetData.skillList.push({isSpecialization:!0,name:skill.system.specialization})),sheetData.skillList.push(skill));if(sheetData.skillsByValue=[...sheetData.skills].sort(((a,b)=>b.system.value-a.system.value)),sheetData.topSkills=[...sheetData.skillsByValue].slice(0,14),sheetData.skillsByValue=sheetData.skillsByValue.filter((skill=>sheetData.skillShowUncommon||!skill.system.properties.rarity)),sheetData.topWeapons=[...sheetData.meleeWpn,...sheetData.rangeWpn].sort(((a,b)=>a.system.skill.main?.value-b.system.skill.main?.value)).reverse().slice(0,3),sheetData.displayPlayerName=game.settings.get("CoC7","displayPlayerNameOnSheet"),sheetData.displayPlayerName&&!sheetData.data.system.infos.playername){const user=this.actor.characterUser;user&&(sheetData.data.system.infos.playername=user.name)}return sheetData.skillListEmpty=0===sheetData.skills.length,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryStatuses=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"status")||!sheetData.data.system.flags.locked,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryStatuses||sheetData.showInventoryWeapons,sheetData.enrichedBackstory=TextEditor.enrichHTML(sheetData.data.system.backstory,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}_saveScrollPositions(html){super._saveScrollPositions(html);this._scrollPositionsX=[".right-panel .tab.development ol"].reduce(((pos,sel)=>{const el=html.find(sel);return pos[sel]=Array.from(el).map((el=>el.scrollLeft)),pos}),{})}_restoreScrollPositions(html){super._restoreScrollPositions(html);const selectors=[".right-panel .tab.development ol"],positions=this._scrollPositionsX||{};for(const sel of selectors){html.find(sel).each(((i,el)=>{el.scrollLeft=positions[sel]?.[i]||0}))}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","actor","character"],template:"systems/CoC7/templates/actors/character/index.html",width:687,height:623,resizable:!0,dragDrop:[{dragSelector:".item",dropSelector:null}],scrollY:[".right-panel .tab"],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"skills"}]})}activateListeners(html){super.activateListeners(html),this.actor.isOwner&&(html.find(".skill-name.rollable.flagged4dev").click((async event=>this._onSkillDev(event))),html.find(".reset-occupation").click((async()=>await this.actor.resetOccupation())),html.find(".reset-archetype").click((async()=>await this.actor.resetArchetype())),html.find(".open-item").click((event=>this._onItemDetails(event))),html.find(".toggle-list-mode").click((event=>{this.toggleSkillListMode(event)})),html.find(".toggle-uncommon-mode").click((event=>{this.toggleSkillUncommonMode(event)})),game.user.isGM&&(html.find(".sanity-loss-type-add").click(this._onAddSanityLossReason.bind(this)),html.find(".sanity-loss-type-delete").click(this._onDeleteSanityLossReason.bind(this)),html.find(".mythosEncountersTotalLoss").blur(this._onEditSanityLossReason.bind(this)),html.find(".toggle-keeper-flags").click(this._onToggleKeeperFlags.bind(this)),html.find(".add-monetary").click(this._onAddMonetary.bind(this)),html.find(".remove-monetary").click(this._onRemoveMonetary.bind(this))))}_onAddMonetary(){const values=this.actor.system.monetary.values?duplicate(this.actor.system.monetary.values):[];values.push({name:"",min:null,max:null,cashType:0,cashValue:"",assetsType:0,assetsValue:"",spendingType:0,spendingValue:""}),this.actor.update({"system.monetary.values":values})}_onRemoveMonetary(event){const div=event.currentTarget.closest(".item"),values=duplicate(this.actor.system.monetary.values);values.splice(Number(div.dataset.index),1),this.actor.update({"system.monetary.values":values})}_onToggleKeeperFlags(event){switch(event.preventDefault(),event.currentTarget.dataset.flag){case"mythosInsanityExperienced":this.actor.setFlag("CoC7","mythosInsanityExperienced",!this.actor.mythosInsanityExperienced);break;case"mythosHardened":this.actor.setFlag("CoC7","mythosHardened",!this.actor.mythosHardened)}}async _onAddSanityLossReason(event){event.preventDefault(),new CoC7CreateMythosEncounter({actor:this.actor,type:event.currentTarget.dataset.type},{}).render(!0)}async _onEditSanityLossReason(event){const input=$(event.currentTarget),offset=input.closest(".flexrow").data("offset");if(void 0!==this.actor.system.sanityLossEvents?.[offset]?.totalLoss){const sanityLossEvents=foundry.utils.duplicate(this.actor.system.sanityLossEvents);sanityLossEvents[offset].totalLoss=parseInt(input.val(),10),this.actor.update({"system.sanityLossEvents":sanityLossEvents})}}_onDeleteSanityLossReason(event){event.preventDefault();const offset=$(event.currentTarget).closest(".flexrow").data("offset"),sanityLossEvents=this.actor.system.sanityLossEvents??[];sanityLossEvents.splice(offset,1),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)})),this.actor.update({"system.sanityLossEvents":sanityLossEvents})}async toggleSkillListMode(event){return await this.actor.setFlag("CoC7","skillListMode",!this.actor.getFlag("CoC7","skillListMode")),await this.render(!0)}async toggleSkillUncommonMode(event){return await this.actor.setFlag("CoC7","skillShowUncommon",!this.actor.getFlag("CoC7","skillShowUncommon")),await this.render(!0)}async _onSkillDev(event){event.preventDefault();const skillId=event.currentTarget.closest(".item").dataset.itemId;await this.actor.developSkill(skillId,event.shiftKey)}_onItemDetails(event){event.preventDefault();const type=event.currentTarget.dataset.type,item=this.actor[type];item&&item.sheet.render(!0)}_updateObject(event,formData){const system=expandObject(formData)?.system;system.monetary?.values&&(formData["system.monetary.values"]=Object.values(system.monetary.values||[])),super._updateObject(event,formData)}static renderSheet(sheet,html){if(game.settings.get("CoC7","overrideSheetArtwork")){if(game.settings.get("CoC7","artWorkSheetBackground"))if("null"===game.settings.get("CoC7","artWorkSheetBackground").toLowerCase())sheet.element.css("--main-sheet-bg","url( './assets/images/void.webp')");else if(sheet.element.css("--main-sheet-bg",game.settings.get("CoC7","artWorkSheetBackground")),"slice"!==game.settings.get("CoC7","artWorkSheetBackgroundType")){let styleSheet,cssRuleIndex;for(let i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].href?.endsWith("coc7g.css")){styleSheet=document.styleSheets[i];break}if(styleSheet)for(let i=0;i<styleSheet.rules.length;i++)if(".sheetV2.character form"===styleSheet.rules[i].selectorText){cssRuleIndex=i;break}if(cssRuleIndex){const CSSStyle=styleSheet.rules[cssRuleIndex].style;switch(CSSStyle.removeProperty("border-image"),CSSStyle.setProperty("background",game.settings.get("CoC7","artWorkSheetBackground")),game.settings.get("CoC7","artWorkSheetBackgroundType")){case"auto":default:CSSStyle.setProperty("background-size","auto");break;case"contain":CSSStyle.setProperty("background-size","contain");break;case"cover":CSSStyle.setProperty("background-size","cover")}}}if(game.settings.get("CoC7","artWorkOtherSheetBackground")&&("null"===game.settings.get("CoC7","artWorkOtherSheetBackground").toLowerCase()?sheet.element.css("--other-sheet-bg","url( './assets/images/void.webp')"):sheet.element.css("--other-sheet-bg",game.settings.get("CoC7","artWorkOtherSheetBackground"))),game.settings.get("CoC7","artworkSheetImage")&&("null"===game.settings.get("CoC7","artworkSheetImage").toLowerCase()?sheet.element.css("--main-sheet-image","url( './assets/images/void.webp')"):sheet.element.css("--main-sheet-image",game.settings.get("CoC7","artworkSheetImage"))),game.settings.get("CoC7","artworkFrontColor")&&sheet.element.css("--main-sheet-front-color",game.settings.get("CoC7","artworkFrontColor")),game.settings.get("CoC7","artworkBackgroundColor")&&sheet.element.css("--main-sheet-back-color",game.settings.get("CoC7","artworkBackgroundColor")),game.settings.get("CoC7","artworkInteractiveColor")&&sheet.element.css("--main-sheet-interactive-color",game.settings.get("CoC7","artworkInteractiveColor")),game.settings.get("CoC7","artworkFixedSkillLength")||(sheet.element.css("--skill-length","auto"),sheet.element.css("--skill-specialization-length","auto")),game.settings.get("CoC7","artworkMainFont")){new FontFace("customSheetFont",game.settings.get("CoC7","artworkMainFont")).load().then((function(loadedFace){document.fonts.add(loadedFace)})).catch((function(error){ui.notifications.error(error)}))}if(game.settings.get("CoC7","artworkMainFontBold")){new FontFace("customSheetFont",game.settings.get("CoC7","artworkMainFontBold"),{weight:"bold"}).load().then((function(loadedFace){document.fonts.add(loadedFace)})).catch((function(error){ui.notifications.error(error)}))}if(game.settings.get("CoC7","artworkMainFontSize")){const size=`${game.settings.get("CoC7","artworkMainFontSize")}px`;size!==$(":root").css("font-size")&&$(":root").css("font-size",size)}}if(void 0!==sheet.actor?.system.pannel)for(const[key,value]of Object.entries(sheet.actor.system.pannel)){const pannelClass=chatHelper.camelCaseToHyphen(key),pannel=html.find(`.pannel.${pannelClass}`);value.expanded?pannel.addClass("expanded"):pannel.removeClass("expanded")}}}class CoC7Combat{static renderCombatTracker(app,html,data){const currentCombat=data.combats[data.currentIndex-1];currentCombat&&(html.find(".combatant").each(((i,el)=>{const combId=el.getAttribute("data-combatant-id"),combatantControlsDiv=el.querySelector(".combatant-controls"),combatant=currentCombat.combatants.get(combId);if(combatant.getFlag("CoC7","hasGun")?$(combatantControlsDiv).prepend(`<a class="combatant-control active add-init" title="${game.i18n.localize("CoC7.PutGunAway")}" data-control="drawGun"><i class="game-icon game-icon-revolver"></i></a>`):$(combatantControlsDiv).prepend(`<a class="combatant-control add-init" title="${game.i18n.localize("CoC7.DrawGun")}" data-control="drawGun"><i class="game-icon game-icon-revolver"></i></a>`),"optional"===game.settings.get("CoC7","initiativeRule")&&game.settings.get("CoC7","displayInitAsText")){if(combatant.initiative){const tokenInitiative=el.querySelector(".token-initiative"),initiativeTest=tokenInitiative.querySelector(".initiative"),roll=100*combatant.initiative-100*Math.floor(combatant.initiative);switch(Math.floor(combatant.initiative)){case CoC7Check.successLevel.fumble:tokenInitiative.classList.add("fumble"),initiativeTest.innerText=game.i18n.localize("CoC7.Fumble"),initiativeTest.title=roll;break;case CoC7Check.successLevel.failure:tokenInitiative.classList.add("failure"),initiativeTest.innerText=game.i18n.localize("CoC7.Failure"),initiativeTest.title=roll;break;case CoC7Check.successLevel.regular:tokenInitiative.classList.add("regular-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyRegular"),initiativeTest.title=roll;break;case CoC7Check.successLevel.hard:tokenInitiative.classList.add("hard-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyHard"),initiativeTest.title=roll;break;case CoC7Check.successLevel.extreme:tokenInitiative.classList.add("extreme-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyExtreme"),initiativeTest.title=roll;break;case CoC7Check.successLevel.critical:tokenInitiative.classList.add("critical"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyCritical"),initiativeTest.title=roll}}}else if(combatant.initiative<0){const h4=el.querySelector(".token-name").querySelector("h4"),span=el.querySelector("span.initiative");h4.style.fontWeight="900",h4.style.textShadow="1px 1px 4px darkred",span.style.fontWeight="900",span.style.textShadow="1px 1px 4px darkred",el.style.color="darkred",el.style.background="black",el.style.fontWeight="900"}})),html.find(".add-init").click((event=>CoC7Combat._onToggleGun(event))))}static async _onToggleGun(event){event.preventDefault(),event.stopPropagation();const li=event.currentTarget.closest(".combatant"),c=await game.combat.combatants.get(li.dataset.combatantId);c.actor.isOwner&&(c.getFlag("CoC7","hasGun")?await c.setFlag("CoC7","hasGun",!1):await c.setFlag("CoC7","hasGun",!0));const newInit=await c.actor.rollInitiative(!!c.getFlag("CoC7","hasGun"));c.getFlag("CoC7","hasGun")?c.initiative<newInit&&game.combat.setInitiative(c.id,newInit):game.combat.setInitiative(c.id,newInit)}}async function rollInitiative(ids,{formula=null,updateTurn=!0,messageOptions={}}={}){const updates=[];for(const[,id]of ids.entries()){const combatant=this.combatants.get(id),roll=await combatant.actor.rollInitiative(!!combatant.getFlag("CoC7","hasGun"));updates.push({_id:id,initiative:roll})}return updates.length?(await this.updateEmbeddedDocuments("Combatant",updates),this):this}class CoCIDBatch extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","coc-id-editor"],template:"systems/CoC7/templates/apps/coc-id-batch.hbs",width:700,height:"auto",title:"CoC7.CoCIDFlag.title",closeOnSubmit:!1,submitOnClose:!1,submitOnChange:!1})}async getData(){const sheetData=super.getData();return sheetData.foundKeys=Object.keys(sheetData.object.foundKeys).reduce(((out,key)=>(out.push({name:key,key:sheetData.object.foundKeys[key]}),out)),[]).sort(CoC7Utilities.sortByNameKey),sheetData.missingNames=Object.keys(sheetData.object.missingNames).reduce(((out,key)=>(out.push({key:sheetData.object.foundKeys[key]??"",name:key,custom:sheetData.object.missingNames[key],suffix:sheetData.object.missingNames[key].replace(this.object.suffixRegExp,"")}),out)),[]).sort(CoC7Utilities.sortByNameKey),sheetData}activateListeners(html){super.activateListeners(html),html.find(".existing").change(this.onSetName.bind(this)),html.find(".fa-wand-magic").click(this.onClickGuess.bind(this)),html.find("input").keyup(this.onKeyup.bind(this))}onSetName(event){const obj=$(event.currentTarget);this.object.missingNames[obj.closest("li").data("name")]=obj.val(),this.render(!0)}onClickGuess(event){const name=$(event.currentTarget).closest("li").data("name");this.object.missingNames[name]=this.object.idPrefix+CoC7Utilities.toKebabCase(name),this.render(!0)}onKeyup(event){const obj=$(event.currentTarget),name=obj.closest("li").data("name");this.object.missingNames[name]=this.object.idPrefix+obj.val()}async _updateObject(event,formData){event.submitter&&(this.object.typeName===game.i18n.localize("CoC7.Entities.Skill")&&(this.close(),await CoCIDBatch.processSkillKeys(this.object.updateList,this.object.missingNames)),this.object.resolve(!0))}static async processSkillKeys(updateList,missingNames){const items=[],actors={},scenes={};for(const update of updateList){update.cocidFlag.id=missingNames[update.name],void 0===update.cocidFlag.lang&&(update.cocidFlag.lang=game.i18n.lang),void 0===update.cocidFlag.priority&&(update.cocidFlag.priority=0),void 0===update.cocidFlag.eras&&(update.cocidFlag.eras={});const flags=flattenObject({flags:{CoC7:{cocidFlag:update.cocidFlag}}});if(void 0!==update.scene){if(void 0===scenes[update.scene]){const scene=game.scenes.get(update.scene);scenes[update.scene]=scene.toObject()}const tokenOffset=scenes[update.scene].tokens.findIndex((t=>t._id===update.token));if(tokenOffset>-1){const itemOffset=scenes[update.scene].tokens[tokenOffset].actorData.items.findIndex((i=>i._id===update.item));if(itemOffset>-1){const expandedFlags=expandObject(Object.entries(flags).reduce(((out,entry)=>(entry[0].match(/^flags\.CoC7\.cocidFlag/)&&(out[entry[0]]=entry[1]),out)),{}));scenes[update.scene].tokens[tokenOffset].actorData.items[itemOffset]=mergeObject(scenes[update.scene].tokens[tokenOffset].actorData.items[itemOffset],expandedFlags)}}}else if(void 0!==update.actor){void 0===actors[update.actor]&&(actors[update.actor]=[]);const item={_id:update.item};for(const key of Object.keys(flags))key.match(/^flags\.CoC7\.cocidFlag/)&&(item[key]=flags[key]);actors[update.actor].push(item)}else{const item={_id:update.item};for(const key of Object.keys(flags))key.match(/^flags\.CoC7\.cocidFlag/)&&(item[key]=flags[key]);items.push(item)}}if(items.length&&await Item.updateDocuments(items),Object.keys(actors).length)for(const actorId of Object.keys(actors))await Item.updateDocuments(actors[actorId],{parent:game.actors.get(actorId)});if(Object.keys(scenes).length)for(const sceneId of Object.keys(scenes)){game.scenes.get(sceneId).update(scenes[sceneId])}return!0}static async populateSkillKeys(updateList,missingNames,foundKeys){for(const actor of game.actors.contents){const actorData=actor.toObject();if(actorData.items)for(const item of actorData.items){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({actor:actor._id,item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}}for(const item of game.items.contents){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}for(const scene of game.scenes){const sceneData=scene.toObject();for(const token of sceneData.tokens??[])if(token.actorId&&!token.actorLink){const actorData=duplicate(token.actorData);for(const item of actorData.items??[]){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({scene:sceneData._id,token:token._id,item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}}}if(Object.keys(missingNames).filter((key=>""===missingNames[key])).length>0){const items=await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^i\.skill\./,type:"i",era:!1});for(const item of items)foundKeys[item.name]=item.flags.CoC7.cocidFlag.id;for(const key in flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys??{}))foundKeys[game.i18n.format("CoC7.CoCIDFlag.keys."+key)]=key;for(const name in missingNames)void 0!==foundKeys[name]&&(missingNames[name]=foundKeys[name])}}static async create(type){const updateList=[],missingNames={},foundKeys={};let typeName="",idPrefix="",suffixRegExp=null;return"skill"===type&&(typeName=game.i18n.localize("CoC7.Entities.Skill"),idPrefix="i.skill.",suffixRegExp=/^i\.skill\./,await CoCIDBatch.populateSkillKeys(updateList,missingNames,foundKeys),0===Object.keys(missingNames).filter((key=>""===missingNames[key])).length?(await CoCIDBatch.processSkillKeys(updateList,missingNames),!0):new Promise((resolve=>{new CoCIDBatch({typeName,idPrefix,suffixRegExp,updateList,missingNames,foundKeys,resolve}).render(!0)})))}}class Updater{static async checkForUpdate(){let systemUpdateVersion=game.settings.get("CoC7","systemUpdateVersion");game.actors.size+game.scenes.size+game.items.size+game.journal.size+game.tables.size===0&&(systemUpdateVersion=game.system.version,await game.settings.set("CoC7","systemUpdateVersion",systemUpdateVersion));const runMigrate=isNewerVersion(game.system.version,systemUpdateVersion??"0");this.updatedModules=game.settings.get("CoC7","systemUpdatedModuleVersion")||{},this.currentModules={};for(const pack of game.packs)if(!["CoC7","world"].includes(pack.metadata.packageName)&&["Actor","Item","Scene"].includes(pack.metadata.type)&&!Object.prototype.hasOwnProperty.call(this.currentModules,pack.metadata.packageName)){const module=game.modules.get(pack.metadata.packageName);module&&(!runMigrate&&Object.prototype.hasOwnProperty.call(this.updatedModules,module.id)&&String(this.updatedModules[module.id])===String(module.version)||(this.currentModules[module.id]=module.version))}(runMigrate||Object.keys(this.currentModules).length>0)&&(game.user.isGM?new Dialog({title:game.i18n.localize("CoC7.Migrate.Title"),content:game.i18n.format(0===Object.keys(this.currentModules).length?"CoC7.Migrate.Message":"CoC7.Migrate.WithModulesMessage",{version:game.system.version,modules:"<ul><li>"+Object.keys(this.currentModules).map((mod=>game.modules.get(mod).title)).join("</li><li>")+"</li></ul>"}),buttons:{update:{label:game.i18n.localize("CoC7.Migrate.ButtonUpdate"),callback:async()=>Updater.update()},skip:{label:game.i18n.localize("CoC7.Migrate.ButtonSkip")}}}).render(!0):new Dialog({title:game.i18n.localize("CoC7.Migrate.Title"),content:game.i18n.format("CoC7.Migrate.GMRequired",{version:game.system.version}),buttons:{OK:{label:game.i18n.localize("CoC7.Migrate.ButtonOkay")}}}).render(!0))}static async update(){await this.updateDocuments(),game.settings.get("CoC7","pulpRules")&&(game.settings.set("CoC7","pulpRuleDoubleMaxHealth",!0),game.settings.set("CoC7","pulpRuleDevelopmentRollLuck",!0),game.settings.set("CoC7","pulpRuleArchetype",!0),game.settings.set("CoC7","pulpRuleOrganization",!0),game.settings.set("CoC7","pulpRuleTalents",!0),game.settings.set("CoC7","pulpRuleFasterRecovery",!0),game.settings.set("CoC7","pulpRuleIgnoreMajorWounds",!0),game.settings.set("CoC7","pulpRuleIgnoreAgePenalties",!0)),await CoCIDBatch.create("skill");const settings=mergeObject(this.updatedModules||{},this.currentModules);game.settings.set("CoC7","systemUpdatedModuleVersion",settings),game.settings.set("CoC7","systemUpdateVersion",game.system.version),ui.notifications.info(game.i18n.format("CoC7.Migrate.Complete"),{permanent:!0})}static async updateDocuments(){for(const actor of game.actors.contents)try{const updateData=this.migrateActorData(actor.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Actor document ${actor.name}`),await actor.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorActor",{name:actor.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const item of game.items.contents)try{const updateData=Updater.migrateItemData(item.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Item document ${item.name}`),await item.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorItem",{name:item.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const table of game.tables.contents)try{const updateData=Updater.migrateTableData(table.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Table document ${table.name}`),await table.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorTable",{name:table.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const macro of game.macros.contents)try{const updateData=Updater.migrateMacroData(macro.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Macro document ${macro.name}`),await macro.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorMacro",{name:macro.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const scene of game.scenes)try{const updateData=Updater.migrateSceneData(scene);foundry.utils.isEmpty(updateData)||(console.log(`Migrating Scene document ${scene.name}`),await scene.update(updateData,{enforceTypes:!1})),scene.tokens.forEach((t=>t._actor=null))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorScene",{name:scene.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const pack of game.packs)"CoC7"!==pack.metadata.packageName&&["Actor","Item","Macro","RollTable","Scene"].includes(pack.metadata.type)&&await Updater.migrateCompendiumData(pack)}static migrateActorData(actor){const updateData={};if(Updater._migrateActorCharacterSanity(actor,updateData),Updater._migrateActorArtwork(actor,updateData),Updater._migrateActorKeeperNotes(actor,updateData),Updater._migrateActorNpcCreature(actor,updateData),Updater._migrateActorStatusEffectActive(actor,updateData),Updater._migrateActorSanLossReasons(actor,updateData),Updater._migrateActorMonetary(actor,updateData),actor.items){const items=actor.items.reduce(((arr,i)=>{const itemData=i instanceof CONFIG.Item.documentClass?i.toObject():i,itemUpdate=Updater.migrateItemData(itemData);return foundry.utils.isEmpty(itemUpdate)||(itemUpdate._id=itemData._id,arr.push(expandObject(itemUpdate))),arr}),[]);items.length>0&&(updateData.items=items)}return updateData}static async migrateCompendiumData(pack){const documentType=pack.metadata.type;if(!["Actor","Item","Macro","RollTable","Scene"].includes(documentType))return;const wasLocked=pack.locked;await pack.configure({locked:!1});try{await pack.migrate()}catch(err){console.log("pack migrate failed",pack,err)}const documents=await pack.getDocuments();for(const doc of documents){let updateData={};try{switch(documentType){case"Actor":updateData=Updater.migrateActorData(doc.toObject());break;case"Item":updateData=Updater.migrateItemData(doc.toObject());break;case"Macro":updateData=Updater.migrateMacroData(doc.toObject());break;case"RollTable":updateData=Updater.migrateTableData(doc.toObject());break;case"Scene":updateData=Updater.migrateSceneData(doc)}foundry.utils.isEmpty(updateData)||(console.log(`Migrated ${documentType} document ${doc.name} in Compendium ${pack.collection}`),await doc.update(updateData))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorDocumentPack",{name:doc.name,collection:pack.collection,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}}await pack.configure({locked:wasLocked})}static migrateItemData(item){const updateData={};return Updater._migrateItemEmbeddedv10(item,updateData),Updater._migrateItemExperience(item,updateData),Updater._migrateItemArtwork(item,updateData),Updater._migrateItemBookAutomated(item,updateData),Updater._migrateItemKeeperNotes(item,updateData),Updater._migrateItemSpellAutomated(item,updateData),Updater._migrateItemKeeperNotesMerge(item,updateData),Updater._migrateItemEras(item,updateData),Updater._migrateItemv10(item,updateData),Updater._migrateItemBookUnits(item,updateData),updateData}static migrateMacroData(table){const updateData={};return Updater._migrateMacroArtwork(table,updateData),updateData}static migrateTableData(table){const updateData={};return Updater._migrateTableArtwork(table,updateData),updateData}static migrateSceneData(scene){const returns={tokens:[]};return void 0!==scene.tokens&&scene.tokens.length&&(returns.tokens=scene.tokens.map((token=>{const t=token.toObject(),updateData={};if(Updater._migrateTokenArtwork(t,updateData),Object.keys(updateData).length&&foundry.utils.mergeObject(t,updateData),!t.actorId||t.actorLink)t.actorData={};else if(game.actors.has(t.actorId)){if(!t.actorLink){const actorData=foundry.utils.duplicate(t.actorData);actorData.type=token.actor?.type;const update=Updater.migrateActorData(actorData);["items","effects"].forEach((embeddedName=>{if(!update[embeddedName]?.length)return;const updates=new Map(update[embeddedName].map((u=>[u._id,u])));t.actorData[embeddedName].forEach((original=>{const update=updates.get(original._id);update&&mergeObject(original,update)})),delete update[embeddedName]})),mergeObject(t.actorData,update)}}else t.actorId=null,t.actorData={};return t}))),returns}static _migrateItemKeeperNotes(item,updateData){return["archetype","chase","item","occupation","setup","skill","spell","status","talent","weapon"].includes(item.type)&&("string"==typeof item.system.description?updateData["system.description"]={value:item.system.description,keeper:""}:void 0===item.system.description||null===item.system.description?updateData["system.description"]={value:"",keeper:""}:void 0===item.system.description.keeper&&(updateData["system.description.keeper"]="")),updateData}static _migrateItemExperience(item,updateData){return"skill"===item.type&&void 0===item.system.adjustments?.experience&&(updateData["system.adjustments.experience"]=0),updateData}static _migrateItemArtwork(item,updateData){let image=String(item.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);if(null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),"setup"===item.type)for(const[k,v]of Object.entries(item.system.items))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.items"]&&(updateData["system.items"]=item.system.items),updateData["system.items"][k].img="systems/CoC7/assets/icons/"+image[1]));else if("occupation"===item.type){for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].img="systems/CoC7/assets/icons/"+image[1]));for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.groups"]&&(updateData["system.groups"]=item.system.groups),updateData["system.groups"][o].skills[k].img="systems/CoC7/assets/icons/"+image[1]))}else if("book"===item.type)for(const[k,v]of Object.entries(item.system.spells))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.spells"]&&(updateData["system.spells"]=item.system.spells),updateData["system.spells"][k].img="systems/CoC7/assets/icons/"+image[1]));else if("archetype"===item.type)for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].img="systems/CoC7/assets/icons/"+image[1]));return updateData}static _migrateItemSpellAutomated(item,updateData){"spell"===item.type&&void 0!==item.system.cost&&(updateData["system.castingTime"]=item.system.castingTime||"",updateData["system.costs.hitPoints"]=item.system.cost.hp||0,updateData["system.costs.magicPoints"]=item.system.cost.mp||0,updateData["system.costs.sanity"]=item.system.cost.san||0,updateData["system.costs.power"]=item.system.cost.pow||0,updateData["system.costs.others"]="",updateData["system.-=cost"]=null,updateData["system.description.-=unidentified"]=null,updateData["system.description.-=notes"]=null)}static _migrateItemBookAutomated(item,updateData){return"book"===item.type&&void 0!==item.system.description.unidentified&&(updateData["system.author"]=item.system.author||"",updateData["system.date"]=item.system.date||"",updateData["system.language"]=item.system.language||"",updateData["system.sanityLoss"]=item.system.sanLoss||0,updateData["system.mythosRating"]=Number(item.system.mythosRating)||0,updateData["system.content"]=item.system.description.unidentified,updateData["system.description.keeper"]=item.system.description.notes,updateData["system.difficultyLevel"]="regular",updateData["system.fullStudies"]=0,updateData["system.initialReading"]=!1,updateData["system.keeperNotes"]="",updateData["system.gains.cthulhuMythos.initial"]=Number(item.system.gain.cthulhuMythos.CMI)||0,updateData["system.gains.cthulhuMythos.final"]=Number(item.system.gain.cthulhuMythos.CMF)||0,updateData["system.gains.occult"]=Number(item.system.gain.occult)||0,updateData["system.gains.others"]=[],updateData["system.study"]={necessary:Number(item.system.weeksStudyTime)||0,progress:0,units:"CoC7.weeks"},updateData["system.-=sanLoss"]=null,updateData["system.-=weeksStudyTime"]=null,updateData["system.-=gain"]=null,updateData["system.description.-=unidentified"]=null,updateData["system.description.-=notes"]=null,updateData["system.gains.-=other"]=null,updateData["system.-=properties"]=null,updateData["system.-=flags"]=null),updateData}static _migrateItemBookUnits(item,updateData){"book"===item.type&&void 0!==item.system.study.necessary&&void 0===item.system.study.units&&(updateData["system.study.units"]="CoC7.weeks")}static _migrateItemKeeperNotesMerge(item,updateData){"spell"!==item.type&&"book"!==item.type||(void 0!==item.system.notes&&(void 0!==item.system.description.keeper?updateData["system.description.keeper"]=item.system.description.keeper+item.system.notes:updateData["system.description.keeper"]=item.system.notes,updateData["system.-=notes"]=null),void 0!==item.system.keeperNotes&&(void 0!==updateData["system.description.keeper"]?updateData["system.description.keeper"]=item.system.keeperNotes+updateData["system.description.keeper"]:updateData["system.description.keeper"]=item.system.keeperNotes,updateData["system.-=keeperNotes"]=null))}static _migrateItemEmbeddedv10(item,updateData){if("occupation"===item.type){let changed=!1;for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))"string"!=typeof v&&void 0===v.system&&(item.system.groups[o].skills[k].system=v.data,changed=!0);changed&&(updateData["system.groups"]=item.system.groups)}if(["setup"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.items))"string"!=typeof v&&void 0===v.system&&(item.system.items[k].system=v.data,changed=!0);changed&&(updateData["system.items"]=item.system.items)}if(["archetype","occupation"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&void 0===v.system&&(item.system.skills[k].system=v.data,changed=!0);changed&&(updateData["system.skills"]=item.system.skills)}if(["book"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.spells))"string"!=typeof v&&void 0===v.system&&(item.system.spells[k].system=v.data,changed=!0);changed&&(updateData["system.spells"]=item.system.spells)}}static _migrateItemv10(item,updateData){if("skill"!==item.type||void 0!==item.system.skillName&&""!==item.system.skillName){if("setup"===item.type){for(const[k,v]of Object.entries(item.system.items))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.items"]&&(updateData["system.items"]=item.system.items),updateData["system.items"][k].name=v.name,"Uniki"===updateData["system.items"][k].name&&(updateData["system.items"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.items"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.items"][k].name=parts.name,updateData["system.items"][k].system.skillName=parts.skillName,updateData["system.items"][k].system.specialization=parts.specialization}}else if("occupation"===item.type){for(const[k,v]of Object.entries(item.system.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].name=v.name,"Uniki"===updateData["system.skills"][k].name&&(updateData["system.skills"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.skills"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.skills"][k].name=parts.name,updateData["system.skills"][k].system.skillName=parts.skillName,updateData["system.skills"][k].system.specialization=parts.specialization}for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.groups"]&&(updateData["system.groups"]=item.system.groups),updateData["system.groups"][o].skills[k].name=v.name,"Uniki"===updateData["system.groups"][o].skills[k].name&&(updateData["system.groups"][o].skills[k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.groups"][o].skills[k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.groups"][o].skills[k].name=parts.name,updateData["system.groups"][o].skills[k].system.skillName=parts.skillName,updateData["system.groups"][o].skills[k].system.specialization=parts.specialization}}else if("archetype"===item.type)for(const[k,v]of Object.entries(item.system.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].name=v.name,"Uniki"===updateData["system.skills"][k].name&&(updateData["system.skills"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.skills"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.skills"][k].name=parts.name,updateData["system.skills"][k].system.skillName=parts.skillName,updateData["system.skills"][k].system.specialization=parts.specialization}}else{updateData.name=item.name,"Uniki"===updateData.name&&(updateData.name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData.name,"string"==typeof item.system.specialization?.group?item.system.specialization.group:item.system.specialization);updateData.name=parts.name,updateData["system.skillName"]=parts.skillName,updateData["system.specialization"]=parts.specialization}}static _migrateItemEras(item,updateData){if(void 0!==item.system.eras){let eras={};for(const[key,value]of Object.entries(item.system.eras))if(!0===value||"string"!=typeof value&&void 0!==value.selected)switch(key){case"1920":eras.standard=!0;break;case"mdrn":eras.modern=!0,eras.modernPulp=!0;break;case"pulp":eras.pulp=!0;break;case"ddts":eras.downDarkerTrails=!0,eras.downDarkerTrailsPulp=!0;break;case"drka":eras.darkAges=!0,eras.darkAgesPulp=!0;break;case"glit":eras.gasLight=!0;break;case"nvct":eras.invictus=!0}if("setup"===item.type){const key=Object.keys(eras)[0];eras=key?{[key]:!0}:{standard:!0}}const CoC7={cocidFlag:{id:"",lang:game.i18n.lang,priority:0,eras}};void 0===item.flags?.CoC7?(item.flags.CoC7=CoC7,updateData["flags.CoC7"]=CoC7):void 0===item.flags?.CoC7?.cocidFlag?(item.flags.CoC7.cocidFlag=CoC7.cocidFlag,updateData["flags.CoC7.cocidFlag"]=CoC7.cocidFlag):(item.flags.CoC7.cocidFlag.eras=CoC7.cocidFlag.eras,updateData["flags.CoC7.cocidFlag.eras"]=CoC7.cocidFlag.eras),updateData["system.-=eras"]=null}}static _migrateActorArtwork(actor,updateData){let image=String(actor.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);if(null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),void 0!==actor.prototypeToken&&void 0!==actor.prototypeToken.texture?.src&&(image=String(actor.prototypeToken.texture.src).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(updateData["prototypeToken.texture.src"]="systems/CoC7/assets/icons/"+image[1])),void 0!==actor.effects)for(const[k,v]of Object.entries(actor.effects))image=String(v.icon).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData.effects&&(updateData.effects=actor.effects),updateData.effects[k].icon="systems/CoC7/assets/icons/"+image[1])}static _migrateActorKeeperNotes(actor,updateData){["character","npc","creature"].includes(actor.type)&&void 0!==actor.system&&void 0===actor.system.description&&(updateData["system.description"]={keeper:""})}static _migrateActorMonetary(actor,updateData){if("character"===actor.type&&void 0!==actor.system.credit?.multiplier){updateData["system.monetary.symbol"]=actor.system.credit?.monetarySymbol?actor.system.credit.monetarySymbol:"$",""===updateData["system.monetary.symbol"].toString().trim()&&(updateData["system.monetary.symbol"]="$");const multiplier=parseInt(actor.system.credit.multiplier)?parseInt(actor.system.credit.multiplier):1;if(updateData["system.monetary.spent"]=actor.system.credit.spent,updateData["system.monetary.assetsDetails"]=actor.system.credit.assetsDetails,updateData["system.monetary.spendingLevel"]=actor.system.credit.spendingLevel,updateData["system.monetary.cash"]=actor.system.credit.cash,updateData["system.monetary.assets"]=actor.system.credit.assets,updateData["system.monetary.values"]=duplicate(actor.system.monetary.values),1!==multiplier)for(const value of updateData["system.monetary.values"])value.cashValue=multiplier*value.cashValue,value.assetsValue=multiplier*value.assetsValue,value.spendingValue=multiplier*value.spendingValue;updateData["system.-=credit"]=null}}static _migrateActorSanLossReasons(actor,updateData){if("character"===actor.type&&void 0!==actor.system?.encounteredCreatures){const groups={};for(const sanityLossEvent of actor.system.encounteredCreatures)sanityLossEvent.totalLoss>0&&(groups[sanityLossEvent.name]=Math.max(groups[sanityLossEvent.name]??0,sanityLossEvent.totalLoss));const sanityLossEvents=[];for(const name in groups)sanityLossEvents.push({type:name,totalLoss:groups[name],immunity:!1});updateData["system.sanityLossEvents"]=sanityLossEvents,updateData["system.-=encounteredCreatures"]=null}}static _migrateActorStatusEffectActive(actor,updateData){if(["character","npc","creature"].includes(actor.type)&&void 0!==actor.system&&(void 0!==actor.system.status||void 0===actor.system.conditions)){if(updateData["system.conditions.criticalWounds.value"]=!1,updateData["system.conditions.unconscious.value"]=!1,updateData["system.conditions.dying.value"]=!1,updateData["system.conditions.dead.value"]=!1,updateData["system.conditions.prone.value"]=!1,updateData["system.conditions.tempoInsane.value"]=!1,updateData["system.conditions.indefInsane.value"]=!1,void 0!==actor.system.status?.criticalWounds?.value&&actor.system.status?.criticalWounds.value&&(updateData["system.conditions.criticalWounds.value"]=!0),void 0!==actor.system.status?.unconscious?.value&&actor.system.status?.unconscious.value&&(updateData["system.conditions.unconscious.value"]=!0),void 0!==actor.system.status?.dying?.value&&actor.system.status?.dying.value&&(updateData["system.conditions.dying.value"]=!0),void 0!==actor.system.status?.dead?.value&&actor.system.status?.dead.value&&(updateData["system.conditions.dead.value"]=!0),void 0!==actor.system.status?.prone?.value&&actor.system.status?.prone.value&&(updateData["system.conditions.prone.value"]=!0),void 0!==actor.system.status?.tempoInsane?.value&&actor.system.status?.tempoInsane.value&&(updateData["system.conditions.tempoInsane.value"]=!0),void 0!==actor.system.status?.indefInsane?.value&&actor.system.status?.indefInsane.value&&(updateData["system.conditions.indefInsane.value"]=!0),void 0!==actor.effects){const effects=actor.effects;let changed=!1;for(let i=0,im=effects.length;i<im;i++){const effect=effects[i],match=effect.icon.match(/\/(hanging-spider|tentacles-skull|arm-sling|heart-beats|tombstone|knocked-out-stars|falling|skull|unconscious)\./);if(null!==match){let statusId="";switch(match[1]){case"hanging-spider":statusId="tempoInsane";break;case"tentacles-skull":statusId="indefInsane";break;case"arm-sling":statusId="criticalWounds";break;case"heart-beats":statusId="dying";break;case"tombstone":case"skull":statusId="dead";break;case"knocked-out-stars":case"unconscious":statusId="unconscious";break;case"falling":statusId="prone"}""!==statusId&&(updateData[`system.conditions.${statusId}.value`]||(updateData[`system.conditions.${statusId}.value`]=!0,changed=!0),effect.flags.core?.statusId!==statusId&&(effects[i]=mergeObject(effect,{flags:{core:{statusId}}}),changed=!0))}}changed&&(updateData.effects=effects)}updateData["system.-=status"]=null}return updateData}static _migrateActorNpcCreature(actor,updateData){return["npc"].includes(actor.type)&&void 0!==actor.system&&(void 0===actor.system.special&&(updateData["system.special"]={checkPassed:null,checkFailled:null}),void 0===actor.system.attacksPerRound&&(updateData["system.attacksPerRound"]=1)),updateData}static _migrateActorCharacterSanity(actor,updateData){if("character"===actor.type&&void 0!==actor.system?.attribs?.san){const oneFifthSanity=Math.ceil(actor.system.attribs.san.value/5);void 0!==actor.system.attribs.san.dailyLoss&&null!==actor.system.attribs.san.dailyLoss||(updateData["system.attribs.san.dailyLoss"]=0),void 0!==actor.system.attribs.san.oneFifthSanity&&null!==actor.system.attribs.san.oneFifthSanity||(updateData["system.attribs.san.oneFifthSanity"]=" / "+oneFifthSanity),void 0!==actor.system.attribs.san.dailyLoss&&null!==actor.system.attribs.san.dailyLoss||(updateData["system.attribs.san.dailyLoss"]=0),void 0!==actor.system.indefiniteInsanityLevel&&null!==actor.system.indefiniteInsanityLevel&&void 0!==actor.system.indefiniteInsanityLevel.value&&null!==actor.system.indefiniteInsanityLevel.value||(updateData["system.indefiniteInsanityLevel.value"]=0),void 0!==actor.system.indefiniteInsanityLevel&&null!==actor.system.indefiniteInsanityLevel&&void 0!==actor.system.indefiniteInsanityLevel.max&&null!==actor.system.indefiniteInsanityLevel.max||(updateData["system.indefiniteInsanityLevel.max"]=oneFifthSanity),void 0!==actor.system.attribs.mp&&(void 0!==actor.system.attribs.mp.value&&null!==actor.system.attribs.mp.value||(updateData["system.attribs.mp.value"]=oneFifthSanity),void 0!==actor.system.attribs.mp.max&&null!==actor.system.attribs.mp.max||(updateData["system.attribs.mp.max"]=oneFifthSanity)),void 0!==actor.system.notes&&null!==actor.system.notes||(updateData["system.notes"]="")}return updateData}static _migrateMacroArtwork(table,updateData){const image=String(table.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);return null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),updateData}static _migrateTableArtwork(table,updateData){let image=String(table.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]);for(const[k,v]of Object.entries(table.results))image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData.results&&(updateData.results=table.results),updateData.results[k].img="systems/CoC7/assets/icons/"+image[1]);return updateData}static _migrateTokenArtwork(token,updateData){const image=String(token.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);return null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),updateData}}const nameCharacters="\\u3000\\u3400-\\u4DBF\\u4E00-\\u9FFF\\w\\(\\)\\-\\/&\"'"+CoC7Utilities.quoteRegExp("áéíóàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃĀÑÕäëïöüÿÄËÏÖÜŸàèçÇßØøÅåÆæœ“”«»ąćęłńóśźżĄĆĘŁŃÓŚŹŻ"),keys={en:{description:"CoC7.English",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",fulldb:"(Damage Bonus|DB)",halfdb:"(½|half)",sectionCombats:"\n(?:combat|fighting attacks)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:skills(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:languages)[:\n]",sectionSpells:"\n(?:spells)[:\n]",handgun:"(?<type> Gun|Revolver|Pistol|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Rifle|Shotgun|Carbine|Gauge |Lee-Enfield|Elephant)",smb:"(?<type>Submachine Gun|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Molotov|Grenade|Dynamite)",example:"Example Character, age 27\nSTR 75 CON 60 SIZ 80 DEX 70 APP 60 INT 80\nPOW 50 EDU 85 SAN 55 HP 14 DB: 1D4\nBuild: 1 Move: 7 MP: 10 Luck: 40 Armor: 1\nAttacks per round: 3 SAN loss: 1d4/1d8\nCombat\nBite 50% (25/10), damage 1D6\nBrawl 30% (15/6), damage 1D3\nDerringer 40% (20/8), damage 1D8+1\nDodge 50% (25/10)\nSkills\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nLanguages: English 80%, Eklo 5%.\nSpells: Summon NPC, Dispel NPC."},de:{description:"CoC7.German",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",diceShort:"w|d",fulldb:"(Schadensbonus|Sb)",halfdb:"(½|1/2 Schadensbonus|Sb/2)",sectionCombats:"\n(?:Kampf|Angriff:|ANGRIFFE)[:\n]",newCombatHeader:"\nKampf\n",sectionSkills:"\n(?:Fertigkeiten(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Sprachen)[:\n]",sectionSpells:"\n(?:Zauber)[:\n]",handgun:"(?<type> Gun|Revolver|Pistole|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Gewehr|Schrotflinte|Carabiner|Karabiner|Gauge |Lee-Enfield|Elefanten)",smb:"(?<type>Submachine Gun|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Molotov|Granate|Dynamit)",example:"Vorname Nachname\nAlter: 29\nBeruf: Ein Beruf\nST 50\nMA 60\nKO 60\nGE 60\nGR 55\nER 65\nIN 80\nBI 85\nTrefferpunkte: 11\nGeistige Stabilität: 60\nSchadensbonus: 0\nStatur: 0\nMagiepunkte: 12\nBewegungsweite: 8\n\nKampf\nAngriffe: 1\nHandgemenge 30% (15/6), Schaden 1D3\nMesser 30% (15/6), Schaden 1D4\nAusweichen 30% (15/6)\n\nFertigkeiten: Anthropologie 70% (35/14), Archäologie 30% (15/6), Bibliotheksnutzung 50% (25/10), Erste Hilfe 50% (25/10), Finanzkraft 40% (20/8), Geschichte 60% (30/12), Klettern 50% (25/10)\n\nSprachen: Englisch 85% (42/17); Deutsch 45% (22/9), Latein 45% (22/9)"},pl:{description:"CoC7.Polish",dbNone:"brak",armorNone:"brak",attacksPerRoundNone:"brak",sanLossNone:"brak",diceShort:"k|d",fulldb:"(Modyfikator Obrażeń|MO)",halfdb:"(½|1/2 MO|MO/2)",sectionCombats:"\n(?:Walka|Ataki)[:\n]",newCombatHeader:"\nWalka\n",sectionSkills:"\n(?:Umiejętności(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Języki)[:\n]",sectionSpells:"\n(?:Zaklęcia)[:\n]",handgun:"(?<type> Pistolet|Rewolwer|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Karabin|Strzelba|Wiatrówka|Garand|Gauge |Lee-Enfield|Strzelba na słonie)",smb:"(?<type>Pistolet maszynowy|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Mołotowa|Granat|Laska dynamitu|Dynamit)",example:"Przykładowa postać, 27 lat\nBibliotekarz\nS 75 KON 60 BC 80 ZR 70 WYG 60 INT 80\nMOC 50 WYK 85 P 55 PW 14 MO: 1D4\nKrzepa: 1 Ruch: 7 PM: 10 Szczęście: 40 Pancerz: 1\nAtaki w rundzie: 3 Utrata Poczytalności: 1K4/1K8\nWalka\nUgryzienie 50% (25/10), obrażenia 1K6\nWalka 30% (15/6), obrażenia 1K3\nDerringer 40% (20/8), obrażenia 1K8+1\nUnik 50% (25/10)\nUmiejętności\nTresura Zwierząt 55%, Urok Osobisty 30%, Pierwsza Pomoc 25%, Ukrywanie 20%,\nNasłuchiwanie 50%, Medycyna 45%, Przekonywanie 25%, Psychologia 75%,\nNauka (Astronomia) 90%, Nauka (Botanika) 35%, Nauka (Zoologia) 10%,\nSpostrzegawczość 35%, Ukrywanie 10%\nJęzyki: Angielski 80%, Eklo 5%.\nZaklęcia: Przyzwanie NPC, Odesłanie NPC."},fr:{description:"CoC7.French",dbNone:"Acune",armorNone:"(?:Acune|aucune)",attacksPerRoundNone:"Acune",sanLossNone:"Acune",fulldb:"(BD|Bonus aux dommages|Impact|Imp)",halfdb:"(½|1/2 Imp|Imp/2)",sectionCombats:"\n(?:Combat|Armes|Attaques)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:Compétences(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Langues?)\\s*[:\n]",sectionSpells:"\n(?:Sortilèges\\s*|Sorts)[:\n]",handgun:"(?<type>Revolver|Pistolet|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Carabine|Lee-Enfield|Fusil)",smb:"(?<type>SMG|Thompson)",machineGun:"(?<type>Browning|Vickers|Mitrailleuse)",launched:"(?<type>Boomerang de guerre|Javeline|Pierre|Shuriken|Bâton de dynamite|Cocktail Molotov|Grenade à main|Molotov|Grenade|Dynamite)",example:"Example Character, 27 ans\nFOR 75 CON 60 TAI 80 DEX 70 APP 60 INT 80\nPOU 50 ÉDU 85 SAN 55 PV 14 BD: 1D4\nCarrure: 1 Mvt: 7 PM: 10 Chance: 40 Armure: 1\nAttaques par round 3 Perte de SAN: 1d4/1d8\nAttaques\nBite 50% (25/10), dommage 1D6\nBrawl 30% (15/6), dommage 1D3\nDerringer 40% (20/8), dommage 1D8+1\nEsquiver 50% (25/10)\nCompétences\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nLangue: English 80%, Eklo 5%.\nSortilèges: Summon NPC, Dispel NPC."},es:{description:"CoC7.Spanish",dbNone:"ninguna",armorNone:"ninguna",attacksPerRoundNone:"ninguno",sanLossNone:"no",fulldb:"(BD|bd|bonificación de daño)",halfdb:"(½|medio daño|mitad|daño a la mitad)",sectionCombats:"\n(?:Combate|Armas)[:\n]",newCombatHeader:"\nCombate\n",sectionSkills:"\n(?:Habilidades(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Idiomas|Lenguajes|Lenguas)[:\n]",sectionSpells:"\n(?:Conjuros|Hechizos)[:\n]",handgun:"(?<type>Revolver|Pistola|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Rifle|Carabina|Lee-Enfield|Caza Elefantes|Fusil|Escopeta|Galga|Recortada)",smb:"(?<type>Subfusil|Thompson)",machineGun:"(?<type>Browning|Vickers|Ametralladora)",launched:"(?<type>Molotov|Granada|Dinamita)",example:"Example Character, 27 años\nFUE 75 CON 60 TAM 80 DES 70 APA 60 INT 80\nPOD 50 EDU 85 COR 55 PV 14 BD: 1D4\nCorpulencia: 1 Movimiento: 7 PM: 10 Suerte: 40 Armadura: 1\nNúmero de Ataques 3 Pérdida de cordura: 1d4/1d8\nCombate\nBite 50% (25/10), daño 1D6\nBrawl 30% (15/6), daño 1D3\nDerringer 40% (20/8), daño 1D8+1\nEsquivar 50% (25/10)\nHabilidades\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nIdiomas: English 80%, Eklo 5%.\nConjuros: Summon NPC, Dispel NPC."},"zh-TW":{description:"CoC7.TraditionalChinese",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",fulldb:"(Damage Bonus|DB|傷害加值)",halfdb:"(½|half)",sectionCombats:"\n(?:combat|fighting attacks|戰鬥技能|戰鬥列表|武器)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:(?:Skills|技能列表)(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Languages|語言)[:\n]",sectionSpells:"\n(?:spells|咒文列表|咒文)[:\n]",handgun:"(?<type> 遂發槍|\\.22短口自動手槍|\\.25短口手槍(單管)|\\.32或7\\.65mm左輪手槍|\\.32或7\\.65mm自動手槍|\\.357 Magnum左輪手槍|\\.38或9mm左輪手槍|\\.38自動手槍|貝雷塔M9|格洛克17|9mm自動手槍|魯格P08|\\.41左輪手槍|\\.44馬格南左輪手槍|\\.45左輪手槍|\\.45自動手槍|沙漠之鷹|Gun|Revolver|Pistol|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>步槍|卡賓槍|半自動步槍|獵象槍|Rifle|Shotgun|Carbine|Gauge |Lee-Enfield|Elephant)",smb:"(?<type>Submachine Gun|Thompson|衝鋒槍)",machineGun:"(?<type>Browning|Vickers|機槍)",launched:"(?<type>Molotov|Grenade|Dynamite爆炸物|手榴彈|重武器)",example:"示範角色, 年齡 27\n力量 75 體質 60 體型 80 敏捷 70 外貎 60 智力 80\n意志 50 教育 85 SAN 55 HP 14 DB: 1D4\n體格: 1 Move: 7 MP: 10 幸運: 40 護甲: 1\n攻擊次數: 3 理智喪失: 1d4/1d8\n戰鬥列表\n咬 50% (25/10), 傷害 1D6\n空手 30% (15/6), 傷害 1D3\n手槍 40% (20/8), 傷害 1D8+1\n閃避 50% (25/10)\n技能列表\n動物馴養 55%, 取悅 30%, 急救 25%, 潛行 20%,\n聆聽 50%, 藥學 45%, 精神分析 25%, 心理學 75%,\n科學 (司法科學) 90%, 科學 (密碼學) 35%, \n偵查 35%, 喬裝 10%\n語言: 粵語 80%, 讀唇 5%.\n咒文: 召喚 NPC, 指揮 NPC."}},translations={en:{age:"(?<![a-z])age(\\s*:)?\\s+(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])STR(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])SIZ(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POW(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:SAN|Sanity)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:HP|Hit points)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magic points)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.en.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.en.dbNone+")[,\\s\n]*",build:"(?<![a-z])Build(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armor(\\s*:)?\\s+(?<armor>"+keys.en.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Move(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Luck(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attacks per round|# Attacks)(\\s*:)?\\s+(?<attacksPerRound>"+keys.en.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Sanity loss|SAN loss)(\\s*:)?\\s+(?<sanLoss>"+keys.en.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*damage)?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.en.fulldb+"|"+keys.en.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Dodge)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Fighting|Firearms|Brawl|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.en.sectionCombats+"|"+keys.en.sectionSkills+"|"+keys.en.sectionLangauges+"|"+keys.en.sectionSpells+")"},de:{age:"(?<![a-z])Alter(\\s*:)?\\s+(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Beruf(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])ST(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])KO(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])GR(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])IN(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])MA(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])GE(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])ER(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])BI(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:gS|STA|Geistige Stabilität)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:TP|Trefferpunkte)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magiepunkte)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.de.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D|W\\d+)?|"+keys.de.dbNone+")[,\\s\n]*",build:"(?<![a-z])(?:Statur|Stat.)(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Panzerung(\\s*:)?\\s+(?<armor>"+keys.de.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])(?:BW|Bewegungsweite)(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Glück(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Angriffe pro Runde|Angriffe|Pro Runde)(\\s*:)?\\s+(?<attacksPerRound>"+keys.de.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Stabilitätsverlust)(\\s*:)?\\s+(?<sanLoss>"+keys.de.sanLossNone+"|\\d[DW]?[+\\d]*\\/\\d[DW]?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*Schaden)?\\s+(?<damage>(:?(:?\\d+w|d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.de.fulldb+"|"+keys.de.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d|w)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Ausweichen)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,;]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Angriffe|Handgemenge|Nahkampf|Faustfeuerwaffe|Beißen)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.de.sectionCombats+"|"+keys.de.sectionSkills+"|"+keys.de.sectionLangauges+"|"+keys.de.sectionSpells+")"},pl:{age:"(?<age>\\d+)\\s+(?:lata|lat|rok)[,\\s]*",occupation:"[,\\s]*Zawód(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])S(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])KON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])BC(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])MOC(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])ZR(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])WYG(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])WYK(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:P|Poczytalność)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PW|Punkty Wytrzymałości)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Punkty Magii)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.pl.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D|K\\d+)?|"+keys.pl.dbNone+")[,\\s\n]*",build:"(?<![a-z])Krzepa(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Pancerz(\\s*:)?\\s+(?<armor>"+keys.pl.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Ruch(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Szczęście(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Ataki w rundzie|# Ataki)(\\s*:)?\\s+(?<attacksPerRound>"+keys.pl.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Utrata Poczytalności|utrata P)(\\s*:)?\\s+(?<sanLoss>"+keys.pl.sanLossNone+"|\\d[DK]?[+\\d]*\\/\\d[DK]?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*obrażenia)?\\s+(?<damage>(:?(:?\\d+k|d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.pl.fulldb+"|"+keys.pl.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Unik)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Walka|Broń Palna|Bijatyka|Ugryzienie)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.pl.sectionCombats+"|"+keys.pl.sectionSkills+"|"+keys.pl.sectionLangauges+"|"+keys.pl.sectionSpells+")"},fr:{age:"(?<age>\\d+)\\s*ans(?![a-z])[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])FOR(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])TAI(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POU(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])ÉDU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<!([a-z]|de\\s))(?:SAN|Santé Mentale)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PV|Points de vie)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Points de magie)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.fr.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.fr.dbNone+")[,\\s\n]*",build:"(?<![a-z])Carrure(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])(?:Armure|Protection)(\\s*:)?\\s+(?<armor>"+keys.fr.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])(?:Mvt|Mouvement|Déplacement)(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Chance(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attaques par round)(\\s*:)?\\s+(?<attacksPerRound>"+keys.fr.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Perte de Santé mentale|Perte de SAN)(\\s*:)?\\s+(?<sanLoss>"+keys.fr.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*(?:dommage|dégâts))?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.fr.fulldb+"|"+keys.fr.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Esquiver?)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Au contact|À distance|Combat rapproché|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.fr.sectionCombats+"|"+keys.fr.sectionSkills+"|"+keys.fr.sectionLangauges+"|"+keys.fr.sectionSpells+")"},es:{age:"(?<age>\\d+)\\s*a[ñÑ]os(?![a-z])[,\\s]*",occupation:"[,\\s]*Ocupación(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])FUE(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])TAM(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POD(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DES(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APA(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:COR|Cordura)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PV|Puntos de vida|P\\. ?V\\.)(\\s*:)?\\s+(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Puntos Mágicos|Puntos de Magia)(\\s*:)?\\s+(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.es.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.es.dbNone+")[,\\s\n]*",build:"(?<![a-z])Corpulencia(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armadura(\\s*:)?\\s+(?<armor>"+keys.es.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Movimiento(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Suerte(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Número de Ataques)(\\s*:)?\\s+(?<attacksPerRound>"+keys.es.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Pérdida de cordura|Pérdida de COR)(\\s*:)?\\s+(?<sanLoss>"+keys.es.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*daño)?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.es.fulldb+"|"+keys.es.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Esquivar)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Combatir|Armas de fuego|Pelea|Mordisco)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.es.sectionCombats+"|"+keys.es.sectionSkills+"|"+keys.es.sectionLangauges+"|"+keys.es.sectionSpells+")"},"zh-TW":{age:"(?<![a-z])age|年齡(\\s*:)?\\s*(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])STR|力量(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON|體質(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])SIZ|體型(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT|智力(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POW|意志(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX|敏捷(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP|外貎(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU|教育(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:SAN|Sanity|理智)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:HP|Hit points|生命)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magic points)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys["zh-TW"].fulldb+")(\\s*:)?\\s*(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys["zh-TW"].dbNone+")[,\\s\n]*",build:"(?<![a-z])Build|體格(\\s*:)?\\s*(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armor|護甲(\\s*:)?\\s*(?<armor>"+keys["zh-TW"].armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Move(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Luck|幸運(\\s*:)?\\s*(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attacks per round|# Attacks|攻擊次數|# 攻擊)(\\s*:)?\\s*(?<attacksPerRound>"+keys["zh-TW"].attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Sanity loss|SAN loss|理智喪失|SAN值損失|SAN值喪失|扣SAN)(\\s*:)?\\s*(?<sanLoss>"+keys["zh-TW"].sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*(?:damage|傷害))?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys["zh-TW"].fulldb+"|"+keys["zh-TW"].halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Dodge|閃避|閃躲)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%?(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(近戰技能|射擊技能|Brawl|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys["zh-TW"].sectionCombats+"|"+keys["zh-TW"].sectionSkills+"|"+keys["zh-TW"].sectionLangauges+"|"+keys["zh-TW"].sectionSpells+")"}};class CoC7ActorImporterRegExp{static checkLanguage(lang=null){return lang||(lang=game.i18n.lang),void 0===translations[lang]&&(lang="en"),lang}static getExampleText(lang){let example=keys.en.example;return void 0!==keys[lang]&&(example=keys[lang].example),example}static getTranslations(){const output={};for(const key in keys)output[key]=keys[key].description;return output}static getKeys(lang){return keys[lang]||keys.en}static getRegularExpressions(lang){return translations[lang]||translations.en}}class CoC7ActorImporter{constructor(){this.parsed={},this.itemLocations=""}static get asNumber(){return"n"}static get asString(){return"s"}getRegEx(regex,modifiers="iu"){return"RegExp"===regex.constructor?.name?regex:new RegExp(regex,modifiers)}cleanString(s){return s.replace(/(\n|\r)/g," ").replace(/^\s*/,"").replace(/\s*\.?\s*\.?$/,"")}translateRoll(s){if(void 0===s)return s;if(void 0!==this.keys.diceShort){const regEx=new RegExp("(?<n1>\\d+)"+this.keys.diceShort+"(?<n2>\\d+)","iug");return s.replace(regEx,"$<n1>D$<n2>")}return s}toHTML(s){return 0===s.trim().length||0===(s=s.trim().split("\n").map((text=>text.trim().replace(/^[,.\s]+$/,""))).filter((text=>text)).join("</p><p>")).length?"":"<p>"+s+"</p>"}check(regExKey,{removeFromText=!0,saveKeys=!0,type=CoC7ActorImporter.asString,text=!1,requiredGroup=!1}={}){let output=!1,regExp=!1;if(void 0!==this.regEx[regExKey]?regExp=this.getRegEx(this.regEx[regExKey]):void 0!==this.keys[regExKey]&&(regExp=this.getRegEx(this.keys[regExKey])),!1!==regExp){!1===text&&(text=this.text);const check=regExp.exec(text);let value=null;if(null!==check&&(!1===requiredGroup||void 0!==(check.groups||{})[requiredGroup])){if(output=check.groups||{},removeFromText&&(this.text=this.text.replace(check[0].trim(),"\n").trim()),saveKeys)for(const key of Object.keys(check.groups))switch(type){case CoC7ActorImporter.asString:this.parsed[key]=String(check.groups[key]).replace("\n"," ");break;case CoC7ActorImporter.asNumber:value=Number(check.groups[key]),isNaN(value)||(this.parsed[key]=Number(check.groups[key]))}output["-source"]=check[0],output["-index"]=check.index}}return output}processCombat(text){if(0===text.trim().length)return;let weapon,dodge,newline;CONFIG.debug.CoC7Importer&&console.log("combat text",text);let lastPercent=!1,maxLoops=40;do{if(maxLoops--,text=text.trim(),dodge=this.check("weaponDodge",{saveKeys:!1,text}))text=text.replace(dodge["-source"],"\n"),void 0===this.parsed.skills&&(this.parsed.skills=[]),this.parsed.skills.push({name:this.cleanString(dodge.name),value:Number(dodge.percentage),push:!1});else if(weapon=this.check("weapon",{saveKeys:!1,text,requiredGroup:!1===lastPercent&&"percentage"})){text=text.replace(weapon["-source"],"\n");const name=this.cleanString(weapon.name||"");let damage=this.translateRoll(this.cleanString(weapon.damage||""));const isRanged=!!(this.check("handgun",{text:name,removeFromText:!1,saveKeys:!1})||this.check("rifle",{text:name,removeFromText:!1,saveKeys:!1})||this.check("smb",{text:name,removeFromText:!1,saveKeys:!1})||this.check("machineGun",{text:name,removeFromText:!1,saveKeys:!1})||this.check("launched",{text:name,removeFromText:!1,saveKeys:!1}));let found;lastPercent=null===weapon.percentage||void 0===weapon.percentage||Number(weapon.percentage);let ahdb=!1,addb=!1;do{found=this.getRegEx("\\s*[+-]?\\s*("+this.keys.halfdb+")\\s*("+this.keys.fulldb+")?[-+]?\\s*("+this.parsed.db.replace(/^[-+]/,"")+")?").exec(damage),found?(ahdb=!0,damage=damage.replace(found[0],"")):(found=this.getRegEx("\\s*[+-]?\\s*("+this.keys.fulldb+")\\s*[-+]?\\s*("+this.parsed.db.replace(/^[-+]/,"")+")?").exec(damage),found&&(addb=!0,damage=damage.replace(found[0],"")))}while(found);const damages=damage.split("/"),isShotgun=3===damages.length,data={name,type:"weapon",system:{skill:{id:lastPercent},properties:{},range:{normal:{value:isShotgun?10:0,damage:damages[0]},long:{value:isShotgun?20:0,damage:isShotgun?damages[1]:""},extreme:{value:isShotgun?50:0,damage:isShotgun?damages[2]:""}}}};data.system.properties.shotgun=isShotgun,data.system.properties.rngd=isRanged||isShotgun,data.system.properties.melee=!data.system.properties.rngd,data.system.properties.ahdb=ahdb,data.system.properties.addb=addb,void 0===this.parsed.attacks&&(this.parsed.attacks=[]),this.parsed.attacks.push(data)}else(newline=text.match(/^(.+)\n/))?text=text.replace(newline[0],"\n"):(newline=text.match(/^[^\n]+$/))&&(text="")}while(maxLoops>0&&(weapon||dodge||text));0===maxLoops&&(ui.notifications.warn(game.i18n.localize("CoC7.ErrorUnexpectedWeaponText")),console.debug("Unexpected weapons:",text))}processSkills(text,key="skills"){if(0===text.trim().length)return;const breaks=text.split(/\.\r?\n/);let skill;breaks.length>1&&(text=breaks[0]);let maxLoops=40;do{maxLoops--,text=text.trim(),skill=this.check("skill",{saveKeys:!1,text}),skill&&(text=text.replace(skill["-source"],"\n"),void 0===this.parsed[key]&&(this.parsed[key]=[]),this.parsed[key].push({name:this.cleanString(skill.name),value:Number(skill.percentage)}))}while(maxLoops>0&&skill);0===maxLoops&&(ui.notifications.warn(game.i18n.localize("CoC7.ErrorUnexpectedSkillsText")),console.debug("Unexpected skills:",text))}processSpells(text){if(0===text.trim().length)return;const breaks=text.split(/\.\r?\n/);breaks.length>1&&(text=breaks[0]);const spellsArr=text.replace(/([\n\r]+)/g," ").split(/(?<!\([^)]+),/);this.text=this.text.replace(text.trim(),"\n");for(const spell of spellsArr)void 0===this.parsed.spells&&(this.parsed.spells=[]),this.parsed.spells.push(this.cleanString(spell))}async parseCharacter(text){this.text=String(text).trim().replace(/\u2013|\u2014|\u2212/g,"-").replace(/\u2019/g,"'").replace(/[\udbc0-\udbfe][\udc00-\udfff]/g,"");let header,min=this.text.length,check=this.check("str",{type:CoC7ActorImporter.asNumber})["-index"];if(isNaN(check)||(min=Math.min(min,check)),check=this.check("con",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("siz",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("int",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("pow",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("dex",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("app",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("edu",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("san",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("hp",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("mp",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),min>0){if(header=this.text.substr(0,min),check=this.check("name",{text:header}),!1===check?this.parsed.name=game.i18n.localize("CoC7.ImportedUnnamedCharacter"):header=header.replace(check["-source"],"\n"),check=this.check("age",{text:header}),!1!==check&&(header=header.replace(check["-source"],"\n")),!this.check("occupation",{text:header})&&""!==header.trim()){let occupation=header;header.indexOf(".")>-1&&(occupation=header.substr(0,header.indexOf(".")+1)),this.parsed.occupation=occupation.replace(/([\n\r]+)/g," ").trim().replace(/,$/,""),this.text=this.text.replace(occupation.trim(),"\n")}}else this.parsed.name=game.i18n.localize("CoC7.ImportedUnnamedCharacter");if(void 0!==this.parsed.occupation&&void 0===this.parsed.age){const occupationAge=this.parsed.occupation.match(/^(?<age>\d+),(?<occupation>.+)$/);occupationAge&&(this.parsed.age=occupationAge.groups.age,this.parsed.occupation=occupationAge.groups.occupation.trim())}this.check("db")&&!this.check("dbNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.db})||(this.parsed.db="0"),this.parsed.db=this.translateRoll(this.parsed.db),this.check("build"),this.check("armor")&&!this.check("armorNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.armor})||(this.parsed.armor="0"),this.check("mov",{type:CoC7ActorImporter.asNumber}),this.check("lck",{type:CoC7ActorImporter.asNumber}),this.check("sanLoss"),this.parsed.sanLoss=this.translateRoll(this.parsed.sanLoss),this.check("attacksPerRound")&&this.check("attacksPerRoundNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.attacksPerRound})&&(this.parsed.attacksPerRound="0"),this.text="\n"+this.text;let sections=this.getRegEx("("+this.keys.sectionCombats+")","i");null===this.text.match(sections)&&(sections=this.check("guessStartCombat",{saveKeys:!1,removeFromText:!1}),sections&&(this.text=[this.text.slice(0,sections["-index"]),this.keys.newCombatHeader,this.text.slice(sections["-index"])].join("")));const regExpSections=this.getRegEx(this.regEx.sections,"i");if(sections=this.text.split(regExpSections),null!==sections)for(let i=0,im=sections.length;i<im;i++)null!==sections[i].match(this.getRegEx("("+this.keys.sectionCombats+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processCombat(sections[i+1]),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionSkills+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSkills(sections[i+1]),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionLangauges+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSkills(sections[i+1],"languages"),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionSpells+")","i"))&&void 0!==sections[i+1]&&(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSpells(sections[i+1]),i++);return this.parsed.gmnotes=this.toHTML(this.text),this.parsed}disableAttribAuto(key,attribValue,check,updateData){const value=Math.max(0,Number(attribValue));return value!==Number(check)&&(updateData[`system.attribs.${key}.auto`]=!1,updateData[`system.attribs.${key}.value`]=value,"build"===key?updateData[`system.attribs.${key}.current`]=value:updateData[`system.attribs.${key}.max`]=value),updateData}async createEntity(characterData,entityType){const importedCharactersFolder=await CoC7Utilities.createImportCharactersFolderIfNotExists();"npc"!==entityType&&(entityType="creature");const actorData={name:characterData.name,type:entityType,folder:importedCharactersFolder.id,data:characterData.actor},npc=await Actor.create(actorData);await npc.createEmbeddedDocuments("Item",characterData.items,{renderSheet:!1});const updateData={};let value=0;void 0!==characterData.actor.attribs.hp?.value&&this.disableAttribAuto("hp",characterData.actor.attribs.hp.value,npc.hpMax,updateData),void 0!==characterData.actor.attribs.mp?.value&&this.disableAttribAuto("mp",characterData.actor.attribs.mp.value,npc.mpMax,updateData),void 0!==characterData.actor.attribs.mov?.value&&this.disableAttribAuto("mov",characterData.actor.attribs.mov.value,npc.mov,updateData),void 0!==characterData.actor.attribs.build?.value&&this.disableAttribAuto("build",characterData.actor.attribs.build.value,npc.build,updateData),void 0!==characterData.actor.attribs.db?.value&&(value=String(characterData.actor.attribs.db.value).replace(/^\+\s*/,""),value!==String(npc.db)&&(updateData["system.attribs.db.auto"]=!1,updateData["system.attribs.db.value"]=value)),Object.keys(updateData).length>0&&(CONFIG.debug.CoC7Importer&&console.debug("updateData:",updateData),await npc.update(updateData));const updateItemData=[];let lastWeaponSkill=null;for(const pair of this.weaponSkills){!1!==pair[0]&&(lastWeaponSkill=npc.items.filter((i=>i.name===pair[0].name&&"skill"===i.type&&Number(i.system.value)===Number(pair[0].system.value))));const weapon=npc.items.filter((i=>i.name===pair[1].name&&"weapon"===i.type&&i.system.range.normal.damage===pair[1].system.range.normal.damage));lastWeaponSkill[0]&&weapon[0]&&updateItemData.push({_id:weapon[0].id,"system.skill.main.id":lastWeaponSkill[0].id,"system.skill.main.name":lastWeaponSkill[0].name})}return updateItemData.length>0&&(CONFIG.debug.CoC7Importer&&console.debug("updateItemData:",updateItemData),await npc.updateEmbeddedDocuments("Item",updateItemData)),npc}actorData(pc){const data={characteristics:{},attribs:{},infos:{},special:{},description:{keeper:""},flags:{locked:!1,displayFormula:!1}};for(const key of["str","con","siz","dex","app","int","pow","edu"])void 0!==pc[key]&&(data.characteristics[key]={value:Number(pc[key])});for(const key of["san","mov","build","armor","lck","hp","mp"])void 0!==pc[key]&&(data.attribs[key]={value:Number(pc[key])});void 0!==pc.db&&(data.attribs.db={value:pc.db});for(const key of["age","occupation"])void 0!==pc[key]&&(data.infos[key]=pc[key]);if(void 0!==pc.sanLoss){const[passed,failed]=pc.sanLoss.split("/");data.special.sanLoss={checkPassed:passed,checkFailled:failed}}return void 0!==pc.attacksPerRound&&(data.special.attacksPerRound=Number(pc.attacksPerRound)),data.description.keeper=pc.gmnotes,CONFIG.debug.CoC7Importer&&console.debug("actorData:",data),data}async itemsData(pc){const items=[];if(this.weaponSkills=[],void 0!==pc.attacks)for(const attack of pc.attacks){let skill=!1;!0!==attack.system?.skill?.id&&(skill=await this.weaponSkill(attack),items.push(skill)),attack.system.skill.id=null,items.push(attack),this.weaponSkills.push([skill,attack])}if(void 0!==pc.skills)for(const skill of pc.skills){const existing=await CoC7Utilities.guessItem("skill",skill.name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();cloned.system.base=skill.value,void 0!==skill.push&&(cloned.system.properties.push=skill.push),items.push(duplicate(cloned))}else{const options={};void 0!==skill.push&&(options.push=skill.push),items.push(CoCActor.emptySkill(skill.name,skill.value,options))}}if(void 0!==pc.languages)for(const skill of pc.languages){const existing=await CoC7Utilities.guessItem("skill",skill.name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();cloned.system.base=skill.value,items.push(duplicate(cloned))}else items.push(CoCActor.emptySkill(skill.name,skill.value,{img:CoC7Item.iconLanguage,specialization:"Language"}))}if(void 0!==pc.spells)for(const name of pc.spells){const existing=await CoC7Utilities.guessItem("spell",name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();items.push(duplicate(cloned))}else items.push(CoCActor.emptySpell(name))}return items}async weaponSkill(weapon){let skill=null;if(this.getRegEx("handgun").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Handgun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Handgun skill: ${skill}`)):this.getRegEx("rifle").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Rifle/Shotgun",{combat:!0,source:this.itemLocations}),skill||(skill=await CoC7Utilities.guessItem("skill","Rifle",{combat:!0,source:this.itemLocations}),skill||(skill=await CoC7Utilities.guessItem("skill","Shotgun",{combat:!0,source:this.itemLocations}))),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Rifle skill: ${skill}`)):this.getRegEx("smb").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Submachine Gun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Submachine Gun skill: ${skill}`)):this.getRegEx("machineGun").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Machine Gun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Machine Gun skill: ${skill}`)):this.getRegEx("launched").exec(weapon.name)&&(skill=await CoC7Utilities.guessItem("skill","Launch",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Launch skill: ${skill}`)),null!=skill){return skill.clone({system:{value:weapon.system?.skill?.id}})}const firearms=weapon.system?.properties?.rngd,parts=CoC7Item.getNamePartsSpec(weapon.name,game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName")),newSkill={type:"skill",name:parts.name,system:{skillName:parts.skillName,specialization:parts.specialization,properties:{special:!0,fighting:!firearms,firearm:firearms,combat:!0},base:weapon.system?.skill?.id,value:weapon.system?.skill?.id}};return CONFIG.debug.CoC7Importer&&console.debug(`Weapon skill not found for ${weapon.name}, creating a new one`,newSkill),newSkill}needsConversion(npc){let needsConversionResult=!0;for(const key of["str","con","siz","dex","app","int","pow","edu"])void 0!==npc[key]&&npc[key]>30&&(needsConversionResult=!1);return CONFIG.debug.CoC7Importer&&console.debug("needsConversion:",needsConversionResult),needsConversionResult}async createActor(inputs){CONFIG.debug.CoC7Importer&&console.debug("createActor:",inputs);const lang=CoC7ActorImporterRegExp.checkLanguage(inputs.lang);this.keys=CoC7ActorImporterRegExp.getKeys(lang),this.regEx=CoC7ActorImporterRegExp.getRegularExpressions(lang),this.itemLocations=inputs.source,CONFIG.debug.CoC7Importer&&console.debug("Regular Expressions:",lang,this.keys,this.regEx);let character=await this.parseCharacter(inputs.text);CONFIG.debug.CoC7Importer&&console.debug("parseCharacter:",character),("coc-guess"===inputs.convertFrom6E&&this.needsConversion(character)||"coc-convert"===inputs.convertFrom6E)&&(character=await this.convert7E(character));const characterData={name:character.name,actor:this.actorData(character),items:await this.itemsData(character)};if(void 0!==inputs.testMode&&!0===inputs.testMode)return characterData;return await this.createEntity(characterData,inputs.entity)}async convert7E(creature){CONFIG.debug.CoC7Importer&&console.debug("Converting npc",creature);for(const key of["str","con","siz","dex","app","int","pow"])void 0!==creature[key]&&(creature[key]*=5);return void 0!==creature.edu&&(creature.edu<=18?creature.edu*=5:creature.edu<=26?creature.edu=creature.edu+90-18:creature.edu=99),void 0!==creature.db&&("-1d4"===creature.db?creature.db=-1:"-1d6"===creature.db&&(creature.db=-2)),CONFIG.debug.CoC7Importer&&console.debug("convert7E: ",creature),creature}}class CoC7DirectoryPicker extends FilePicker{get title(){return game.i18n.localize("CoC7.PickDirectory")}_onSubmit(event){event.preventDefault();const path=event.target.target.value,activeSource=this.activeSource,bucket=event.target.bucket?event.target.bucket.value:null;this.field.value=CoC7DirectoryPicker.format({activeSource,bucket,path}),this.close()}static DefaultDirectory(val){return null===val?"":String(val)}static format(value){return null!==value.bucket?`[${value.activeSource}:${value.bucket}] ${value.path}`:`[${value.activeSource}] ${value.path}`}static parse(raw){const str=raw??"",matches=str.match(/^\[([^:]+)(:(.+))?\]\s*(.+)?$/u);return matches?{activeSource:matches[1],bucket:matches[3]??"",current:matches[4]}:{activeSource:"data",bucket:null,current:str}}static processHtml(html){$(html).find('input[data-dtype="DefaultDirectory"]').each(((i,el)=>{const input=$(el);if(input.prop("readonly",!0),!input.next().length){const picker=new CoC7DirectoryPicker({field:input[0],...CoC7DirectoryPicker.parse(input.val())}),pickerButton=$('<button type="button" class="file-picker" title="'+game.i18n.localize("CoC7.PickDirectory")+'"><i class="fas fa-file-import fa-fw"></i></button>');CoC7DirectoryPicker.createDefaultDirectory(),pickerButton.on("click",(()=>{picker.render(!0)})),input.parent().append(pickerButton)}}))}activateListeners(html){super.activateListeners(html),$(html).find("ol.files-list").remove(),$(html).find("footer div").remove(),$(html).find("footer button").text(game.i18n.localize("CoC7.PickDirectory"))}static async createDefaultDirectory(){const parsed=CoC7DirectoryPicker.parse(game.settings.get("CoC7","dholeUploadDirectory"));try{return await CoC7DirectoryPicker.createDirectory(parsed.activeSource,parsed.current,{bucket:parsed.bucket}),!0}catch(e){if(!e.message.startsWith("EEXIST"))return ui.notifications.error(game.i18n.localize("CoC7.ActorImporterUploadError")),!1}}static async uploadToDefaultDirectory(file,filename){const parsed=CoC7DirectoryPicker.parse(game.settings.get("CoC7","dholeUploadDirectory"));return(await FilePicker.upload(parsed.activeSource,parsed.current,new File([file],filename,{type:"image/png"}),{bucket:parsed.bucket})).path?parsed.current+"/"+filename:(ui.notifications.error(game.i18n.localize("CoC7.FileUploadError")),!1)}}class CoC7DholeHouseActorImporter{static getBackstory(backstoryJSON){const sections=[["description","Description"],["traits","Traits"],["ideology","Ideology"],["injurues","Injuries","injuries"],["people","People"],["phobias","Phobias"],["locations","Locations"],["tomes","Tomes"],["possessions","Possessions"],["encounters","Encounters"]],backstory={block:[],sections:[]};for(const section of sections)null!==backstoryJSON[section[0]]&&(void 0!==section[2]&&""!==section[2]||(section[2]=section[0]),backstory.block.push(`<h3>${section[1]}</h3>\n<div class="${section[2]}">\n${backstoryJSON[section[0]]}\n</div>`),backstory.sections.push({title:section[1],value:backstoryJSON[section[0]]}));return backstory.block="<h2>Backstory</h2>\n"+backstory.block.join("\n",backstory.block),backstory}static async convertDholeHouseCharacterData(dholeHouseData,options){CONFIG.debug.CoC7Importer&&console.log("Source:",dholeHouseData),dholeHouseData=dholeHouseData.Investigator;const backstories=CoC7DholeHouseActorImporter.getBackstory(dholeHouseData.Backstory);return{name:dholeHouseData.PersonalDetails.Name,actor:{characteristics:{str:{value:parseInt(dholeHouseData.Characteristics.STR,10)},con:{value:parseInt(dholeHouseData.Characteristics.CON,10)},siz:{value:parseInt(dholeHouseData.Characteristics.SIZ,10)},dex:{value:parseInt(dholeHouseData.Characteristics.DEX,10)},app:{value:parseInt(dholeHouseData.Characteristics.APP,10)},int:{value:parseInt(dholeHouseData.Characteristics.INT,10)},pow:{value:parseInt(dholeHouseData.Characteristics.POW,10)},edu:{value:parseInt(dholeHouseData.Characteristics.EDU,10)}},attribs:{san:{value:parseInt(dholeHouseData.Characteristics.Sanity,10),max:parseInt(dholeHouseData.Characteristics.SanityMax,10),dailyLimit:Math.floor(dholeHouseData.Characteristics.Sanity/5)},hp:{value:parseInt(dholeHouseData.Characteristics.HitPts,10),max:parseInt(dholeHouseData.Characteristics.HitPtsMax,10)},mp:{value:parseInt(dholeHouseData.Characteristics.MagicPts,10),max:parseInt(dholeHouseData.Characteristics.MagicPtsMax,10)},lck:{value:parseInt(dholeHouseData.Characteristics.Luck,10)},mov:{value:parseInt(dholeHouseData.Characteristics.Move,10),max:parseInt(dholeHouseData.Characteristics.Move,10)},db:{value:dholeHouseData.Characteristics.DamageBonus},build:{value:parseInt(dholeHouseData.Characteristics.Build,10)}},infos:{occupation:dholeHouseData.PersonalDetails.Occupation,age:dholeHouseData.PersonalDetails.Age,sex:dholeHouseData.PersonalDetails.Gender,residence:dholeHouseData.PersonalDetails.Residence,birthplace:dholeHouseData.PersonalDetails.Birthplace},backstory:backstories.block,biography:backstories.sections,description:{keeper:game.i18n.localize("CoC7.DholeHouseActorImporterSource")}},skills:await CoC7DholeHouseActorImporter.extractSkills(dholeHouseData.Skills.Skill??[],options),possesions:await CoC7DholeHouseActorImporter.extractPossessions(dholeHouseData.Possessions?.item??[],options)}}static makeSkillName(name,specialization){return"None"===specialization&&(specialization="Any"),"Language (Other)"===name||"Language (Own)"===name?name="Language":"Operate Heavy Machine"===name?name="Operate Heavy Machinery":"Throw"===name&&""===specialization&&(name="Fighting",specialization="Throw"),{skillName:""===specialization?name:specialization,specialization:""===specialization?"":name,name:name+(""===specialization?"":" ("+specialization+")")}}static async extractSkills(dholeHouseskills,options){const skills=[];for(const skill of dholeHouseskills){if("None"===skill.subskill&&"1"===skill.value&&"0"===skill.half&&"0"===skill.fifth)continue;const parts=CoC7DholeHouseActorImporter.makeSkillName(skill.name,skill.subskill??""),existing=await CoC7Utilities.guessItem("skill",parts.name,{source:options.source,fallbackAny:!0});let cloned=null;void 0!==existing?(cloned=duplicate(existing.toObject()),cloned.name=parts.name,cloned.system.skillName=parts.skillName,cloned.system.specialization=parts.specialization):(cloned=CoCActor.emptySkill(parts.skillName,parseInt(skill.value??0,10),{specialization:""!==parts.specialization&&parts.specialization}),cloned.system.properties=cloned.system.properties??{},"Fighting"===parts.specialization?(cloned.system.properties.fighting=!0,cloned.system.properties.combat=!0,cloned.system.properties.push=!1):"Firearms"===parts.specialization?(cloned.system.properties.firearm=!0,cloned.system.properties.combat=!0,cloned.system.properties.push=!1):"Dodge"===parts.skillName&&(cloned.system.properties.push=!1)),"Any"===cloned.system.skillName&&(cloned.name=cloned.name.replace(" (Any)"," (None)"),cloned.system.skillName="None"),cloned.system.base=parseInt(skill.value??0,10),cloned.system.value=parseInt(skill.value??0,10),cloned.system.flags=cloned.system.flags??{},cloned.system.flags.occupation=!0===skill.occupation||"true"===skill.occupation,skills.push(cloned)}return skills}static findWeaponSkillId(skillName,character){const skills=character.getEmbeddedCollection("Item"),checkName=skillName.replace(/^\((.+)\)$/,"$1");return skills.find((i=>i.system?.skillName===checkName||i.system?.skillName?.indexOf(checkName)>-1))}static async extractPossessions(dholehousePossessions,options){const items=[];Array.isArray(dholehousePossessions)||null==dholehousePossessions||(dholehousePossessions=[dholehousePossessions]);for(const item of dholehousePossessions){const existing=await CoC7Utilities.guessItem("item",item.description,{source:options.source});let cloned=null;cloned=void 0!==existing?duplicate(existing.toObject()):{name:item.description,type:"item"},items.push(cloned)}return items}static async extractWeapons(dholehouseWeapons,character,options){const weapons=[];Array.isArray(dholehouseWeapons)||(dholehouseWeapons=[dholehouseWeapons]);for(const weapon of dholehouseWeapons){const skill=CoC7DholeHouseActorImporter.findWeaponSkillId(weapon.skillname,character),damage=weapon.damage.replace(/\+DB/i,""),addb=damage!==weapon.damage,existing=await CoC7Utilities.guessItem("weapon",weapon.name,{source:options.source});let cloned=null;void 0!==existing?(cloned=duplicate(existing.toObject()),cloned.system.skill.main.name=skill?.name??"",cloned.system.skill.main.id=skill?.id??"",cloned.system.range=cloned.system.range??{},cloned.system.range.normal=cloned.system.range.normal??{},cloned.system.range.normal.damage=damage,cloned.system.ammo=weapon.ammo,cloned.system.malfunction=weapon.malf,cloned.system.properties=cloned.system.properties??{},cloned.system.properties.melee=skill?.system.properties?.fighting??!1,cloned.system.properties.rngd=skill?.system.properties?.firearm??!1,cloned.system.properties.addb=addb):cloned={name:weapon.name,type:"weapon",system:{skill:{main:{name:skill?.name??"",id:skill?.id??""}},range:{normal:{damage}},ammo:weapon.ammo,malfunction:weapon.malf,properties:{melee:skill?.system.properties?.fighting??!1,rngd:skill?.system.properties?.firearm??!1,addb}}},weapons.push(cloned)}return weapons}static async savePortrait(base64Portrait,fileName){const base64Response=await fetch("data:image/png;base64,"+base64Portrait),imageBlob=await base64Response.blob();return CoC7DirectoryPicker.uploadToDefaultDirectory(imageBlob,fileName)}static async createNPCFromDholeHouse(dholeHouseCharacterData,options){if(!game.user?.can("FILES_UPLOAD"))return ui.notifications.error(game.i18n.localize("CoC7.ActorImporterUploadError")),!1;const characterData=await CoC7DholeHouseActorImporter.convertDholeHouseCharacterData(dholeHouseCharacterData,options);CONFIG.debug.CoC7Importer&&console.log("Character Data:",characterData);const importedCharactersFolder=await CoC7Utilities.createImportCharactersFolderIfNotExists();if(!CoC7DirectoryPicker.createDefaultDirectory())return!1;const actorData={name:characterData.name,type:"character",folder:importedCharactersFolder.id,data:characterData.actor},npc=await Actor.create(actorData);if(dholeHouseCharacterData.Investigator.PersonalDetails.Portrait?.length>10){const fileName="avatar-"+npc.id+".png",portrait=await CoC7DholeHouseActorImporter.savePortrait(dholeHouseCharacterData.Investigator.PersonalDetails.Portrait,fileName);!1!==portrait&&npc.update({img:portrait})}CONFIG.debug.CoC7Importer&&console.log("Items: ",characterData.items),await npc.createEmbeddedDocuments("Item",characterData.skills,{renderSheet:!1}),await npc.createEmbeddedDocuments("Item",characterData.possesions,{renderSheet:!1});const weapons=await CoC7DholeHouseActorImporter.extractWeapons(dholeHouseCharacterData.Investigator.Weapons?.weapon??[],npc,options);return CONFIG.debug.CoC7Importer&&console.log("Weapons: ",weapons),await npc.createEmbeddedDocuments("Item",weapons,{renderSheet:!1}),npc}}class CoC7ActorImporterDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","actor-importer"],title:game.i18n.localize("CoC7.ActorImporter"),template:"systems/CoC7/templates/apps/actor-importer.html",closeOnSubmit:!1,width:600,height:"auto"})}async getData(){const data=await super.getData();return data.importType=data.object.importType,data.convert6E=data.object.convert6E,data.source=data.object.source,data.characterData=data.object.characterData,data.canUpload=game.user?.can("FILES_UPLOAD"),["npc","creature"].includes(data.importType)&&(data.languages=CoC7ActorImporterRegExp.getTranslations(),data.language=CoC7ActorImporterRegExp.checkLanguage(data.object.language),data.placeholder=CoC7ActorImporterRegExp.getExampleText(data.language)),data}activateListeners(html){super.activateListeners(html),html.find("#dholehouse-character-preview").hide(),html.find("#coc-entity-type,#coc-entity-lang").change(this._onChangeSubmit.bind(this)),html.find("#dholehouse-json-file-picker").change(this._onJSONFileSelected.bind(this)),html.find("#coc-pasted-character-data").on("keyup",(function(e){const charactersTooExtended=$(this).val().match(/[\udbc0-\udbfe][\udc00-\udfff]/),prompt=$("#coc-prompt");prompt.data("extended")&&charactersTooExtended?prompt.html(game.i18n.localize("CoC7.TextFieldInvalidCharacters")).addClass("error"):prompt.html(prompt.data("text")).removeClass("error")})).trigger("keyup"),html.find(".submit-button").click(this._onClickSubmit.bind(this)),html.find("form").submit((e=>{e.preventDefault()}))}static getInputs(form){const inputs={};return inputs.entity=form.find("#coc-entity-type").val().trim(),CONFIG.debug.CoC7Importer&&console.debug("entity type:",inputs.entity),form.find("#coc-convert-6E").length>0&&(inputs.convertFrom6E=form.find("#coc-convert-6E").val().trim()),form.find("#coc-entity-lang").length>0&&(inputs.lang=CoC7ActorImporterRegExp.checkLanguage(form.find("#coc-entity-lang").val().trim())),form.find("#source").length>0&&(inputs.source=form.find("#source").val().trim()),form.find("#coc-pasted-character-data").length>0&&(inputs.text=form.find("#coc-pasted-character-data").val().trim()),CONFIG.debug.CoC7Importer&&console.debug("received text","##"+inputs.text+"##"),inputs}_onJSONFileSelected(event){const jsonFileInput=document.getElementById("dholehouse-json-file-picker"),portraitImage=document.getElementById("dholehouse-character-portrait"),characterName=document.getElementById("dholehouse-character-name"),preview=document.getElementById("dholehouse-character-preview"),file=jsonFileInput.files[0],dialog=this,fileReader=new FileReader;fileReader.onload=function(e){try{dialog.characterJSON=JSON.parse(fileReader.result)}catch(e){return $("#coc-prompt").html(game.i18n.localize("CoC7.TextFieldInvalidJSON")).addClass("error"),void event.preventDefault()}const personalDetails=dialog.characterJSON?.Investigator?.PersonalDetails;personalDetails?(characterName.textContent=personalDetails.Name,portraitImage.src="data:image/png;base64,"+personalDetails.Portrait,preview.style.display="block",$(".dialog.actor-importer").height("auto")):ui.notifications.error(game.i18n.localize("CoC7.DholeHouseInvalidActor"))},fileReader.readAsText(file)}_onChangeSubmit(event){this._onSubmit(event)}async _onClickSubmit(event){const id=event.currentTarget.dataset.button;if("no"===id)this.close();else if("getExampleNow"===id){const content=CoC7ActorImporterRegExp.getExampleText(this.object.language);CoC7Utilities.copyToClipboard(content).then((()=>ui.notifications.info(game.i18n.localize("CoC7.Copied"))))}else if("import"===id){const app=$(event.currentTarget).closest("div.dialog.actor-importer");app.hide();const form=$(event.currentTarget).closest("form"),inputs=CoC7ActorImporterDialog.getInputs(form);if("dholehouse"===inputs.entity&&this.characterJSON){const character=await CoC7DholeHouseActorImporter.createNPCFromDholeHouse(this.characterJSON,{source:inputs.source});!1!==character?(CONFIG.debug.CoC7Importer&&console.debug("character:",character),ui.notifications.info(game.i18n.format("CoC7.ActorImported",{actorType:game.i18n.localize("CoC7.Entities.Character"),actorName:character.name})),await character.sheet.render(!0),this.close()):app.show()}else inputs.text&&""!==inputs.text?(CoC7ActorImporterDialog.importActor(inputs),this.close()):app.show()}}async _updateObject(event,formData){this.object.importType=formData["coc-entity-type"],this.object.characterData=formData["coc-pasted-character-data"]?.trim(),void 0!==formData["coc-convert-6E"]&&(this.object.convert6E=formData["coc-convert-6E"]),void 0!==formData["coc-entity-lang"]&&(this.object.language=formData["coc-entity-lang"]),void 0!==formData.source&&(this.object.source=formData.source),this.render(!0)}static async importActor(inputs){"."!==inputs.text[inputs.text.length]&&(inputs.text+=".");const actor=new CoC7ActorImporter,createdActor=await actor.createActor(inputs);CONFIG.debug.CoC7Importer&&console.debug("createdActor:",createdActor),ui.notifications.info(game.i18n.format("CoC7.ActorImported",{actorType:createdActor.type?.toUpperCase(),actorName:createdActor.name})),await createdActor.sheet.render(!0)}static async create(options={}){options.importType=options.importType??"npc",options.language=options.language??CoC7ActorImporterRegExp.checkLanguage(null),options.convert6E=options.language??"coc-guess",options.source=options.source??"iwms",options.characterData=options.characterData??"",new CoC7ActorImporterDialog(options).render(!0)}}Hooks.once("ready",(()=>{game.modules.get("CoC7-Importer-Tests")?.active&&(window.CoC7ActorImporter=CoC7ActorImporter)}));class DropCoCID extends Dialog{static processForm(response,element,resolve){element.find("input").is(":checked")&&game.settings.set("CoC7","dropCoCID",response?"Y":"N"),resolve(response)}static processItem(response,item){return response&&item.flags?.CoC7?.cocidFlag?.id?item.flags.CoC7.cocidFlag.id:duplicate(item)}static async create(){switch(game.settings.get("CoC7","dropCoCID")){case"":return new Promise((resolve=>{new DropCoCID({title:game.i18n.format("CoC7.Settings.DropCoCID.Name"),content:"<p>"+game.i18n.format("CoC7.Settings.DropCoCID.Dialog")+'</p><p><input type="checkbox" id="rememberthis" style="vertical-align: sub;"><label for="rememberthis">'+game.i18n.format("CoC7.Settings.DropCoCID.Remember")+"</label></p>",classes:["coc7","app","dialog"],buttons:{yes:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("Yes"),callback:element=>{DropCoCID.processForm(!0,element,resolve)}},no:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("No"),callback:element=>{DropCoCID.processForm(!1,element,resolve)}}}}).render(!0)}));case"Y":return!0;case"N":return!1}}}class CoC7OccupationSheet extends ItemSheet{activateListeners(html){if(super.activateListeners(html),!this.options.editable)return;html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"skills"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"skills"))),html.find(".group-item-delete").click(this._onGroupItemDelete.bind(this)),html.find(".group-control").click(this._onGroupControl.bind(this));new DragDrop({dropSelector:".droppable",callbacks:{drop:this._onDrop.bind(this)}}).bind(html[0])}async _onDrop(event,type="skill",collectionName="skills"){event.preventDefault(),event.stopPropagation();const optionalSkill=event?.currentTarget?.classList?.contains("optional-skills"),ol=event?.currentTarget?.closest("ol"),index=ol?.dataset?.group,dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[],groups=this.item.system.groups?duplicate(this.item.system.groups):[];for(const item of dataList)if(item&&item.system&&[type].includes(item.type))if(optionalSkill){if(!CoC7Item.isAnySpec(item)){if(collection.find((el=>el.name===item.name)))continue;if(groups[index].skills.find((el=>el.name===item.name)))continue}0===useCoCID&&(useCoCID=await DropCoCID.create()),groups[index].skills=groups[index].skills.concat([DropCoCID.processItem(useCoCID,item)])}else{if(!CoC7Item.isAnySpec(item)){if(collection.find((el=>el.name===item.name)))continue;for(let i=0;i<groups.length;i++){const index=groups[i].skills.findIndex((el=>el.name===item.name));-1!==index&&groups[i].skills.splice(index,1)}}0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))}await this.item.update({"system.groups":groups}),await this.item.update({[`system.${collectionName}`]:collection})}async _onGroupControl(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("add-group")){await this._onSubmit(event);const groups=this.item.system.groups;await this.item.update({"system.groups":groups.concat([{options:0,skills:[]}])})}if(a.classList.contains("remove-group")){await this._onSubmit(event);const groups=duplicate(this.item.system.groups),ol=a.closest(".item-list.group");groups.splice(Number(ol.dataset.group),1),await this.item.update({"system.groups":groups})}}_onItemSummary(event,collectionName="items"){event.preventDefault();const obj=$(event.currentTarget),li=obj.parents(".item"),group=obj.closest(".group");let item;if(item=group.length?this.item.system.groups[group.data("group")][collectionName].find((s=>s._id===li.data("item-id"))):this.item.system[collectionName].find((s=>s._id===li.data("item-id"))),!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}async _onGroupItemDelete(event){const item=$(event.currentTarget).closest(".item"),group=Number(item.closest(".item-list.group").data("group")),groups=duplicate(this.item.system.groups);if(void 0!==groups[group]){const itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=groups[group].skills.findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));itemIndex>-1&&(groups[group].skills.splice(itemIndex,1),await this.item.update({"system.groups":groups}))}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","occupation"],template:"systems/CoC7/templates/items/occupation.html",width:525,height:480,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.data.system.skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.skills}),sheetData.skillListEmpty=0===sheetData.data.system.skills.length,sheetData.data.system.skills.sort(CoC7Utilities.sortByNameKey);for(let index=0,len=sheetData.data.system.groups.length;index<len;index++)sheetData.data.system.groups[index].skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.groups[index].skills}),sheetData.data.system.groups[index].isEmpty=0===sheetData.data.system.groups[index].skills.length,sheetData.data.system.groups[index].skills.sort(CoC7Utilities.sortByNameKey);sheetData.occupationPointsString=CoC7OccupationSheet.occupationPointsString(sheetData.data.system.occupationSkillPoints),sheetData.itemProperties=[];for(const[key,value]of Object.entries(sheetData.data.system.type))value&&sheetData.itemProperties.push(COC7.occupationProperties[key]?COC7.occupationProperties[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}static occupationPointsString(occupationSkillPoints){const optionnal=[],mandatory=[];for(const[key,carac]of Object.entries(occupationSkillPoints))if(carac.multiplier){const caracName=game.i18n.localize(`CHARAC.${key.toUpperCase()}`);carac.selected&&carac.optional&&optionnal.push(`${caracName}x${carac.multiplier}`),carac.selected&&!carac.optional&&mandatory.push(`${caracName}x${carac.multiplier}`)}let occupationPointsString="";const orString=` ${game.i18n.localize("CoC7.Or")} `;return mandatory.length&&(occupationPointsString+=mandatory.join(" + ")),optionnal.length&&mandatory.length&&(occupationPointsString+=` + (${optionnal.join(orString)})`),optionnal.length&&!mandatory.length&&(occupationPointsString+=optionnal.join(orString)),occupationPointsString}_updateObject(event,formData){const system=expandObject(formData)?.system;if(system.groups){formData["system.groups"]=Object.values(system.groups||[]);for(let index=0;index<this.item.system.groups.length;index++)formData[`system.groups.${index}.skills`]=duplicate(this.item.system.groups[index].skills)}super._updateObject(event,formData)}}class CoC7InvestigatorWizard extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{id:"investigator-wizard-application",classes:["coc7","dialog","investigator-wizard"],title:game.i18n.localize("CoC7.InvestigatorWizard.Title"),template:"systems/CoC7/templates/apps/investigator-wizard.hbs",width:520,height:600,closeOnSubmit:!1,scrollY:[".scrollsection"],dragDrop:[{dragSelector:".draggable",dropSelector:null}]})}get pageList(){return{PAGE_NONE:-1,PAGE_INTRODUCTION:0,PAGE_CONFIGURATION:1,PAGE_SETUPS:2,PAGE_ARCHETYPES:3,PAGE_CHARACTISTICS:4,PAGE_ATTRIBUTES:5,PAGE_VIEW_ATTRIBUTES:6,PAGE_OCCUPATIONS:7,PAGE_OCCUPATION_SKILLS:8,PAGE_ARCHETYPE_SKILLS:9,PAGE_POINTS_SKILLS:10,PAGE_INVESTIGATOR:11,PAGE_BACKSTORY:12,PAGE_CREATE:13}}get characteristicsMethods(){return{METHOD_DEFAULT:1,METHOD_ROLL:1,METHOD_POINTS:2,METHOD_VALUES:3}}get cocidCreditRating(){return"i.skill.credit-rating"}get cocidLanguageOwn(){return"i.skill.language-own"}get pageOrder(){const pages=this.pageList;let pageOrder=[pages.PAGE_INTRODUCTION];return game.user.isGM&&pageOrder.push(pages.PAGE_CONFIGURATION),""===this.object.defaultSetup&&pageOrder.push(pages.PAGE_SETUPS),game.settings.get("CoC7","pulpRuleArchetype")&&pageOrder.push(pages.PAGE_ARCHETYPES),pageOrder.push(pages.PAGE_CHARACTISTICS),game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")||pageOrder.push(pages.PAGE_ATTRIBUTES),pageOrder=pageOrder.concat([pages.PAGE_VIEW_ATTRIBUTES,pages.PAGE_OCCUPATIONS,pages.PAGE_OCCUPATION_SKILLS]),game.settings.get("CoC7","pulpRuleArchetype")&&pageOrder.push(pages.PAGE_ARCHETYPE_SKILLS),pageOrder=pageOrder.concat([pages.PAGE_POINTS_SKILLS,pages.PAGE_INVESTIGATOR,pages.PAGE_BACKSTORY,pages.PAGE_CREATE]),pageOrder}static async loadCacheItemByCoCID(){return new Promise(((resolve,reject)=>{game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^i\./,type:"i",showLoading:!0}).then((items=>{const list={};for(const item of items)list[item.flags.CoC7.cocidFlag.id]=item;resolve(list)}))}))}async filterCacheItemByCoCID(regexp){return Object.entries(await this.object.cacheCoCID).filter((entry=>entry[0].match(regexp))).map((entry=>entry[1]))}async getCacheItemByCoCID(id){return(await this.object.cacheCoCID)[id]??!1}async expandItemArray(itemList){const items=itemList.filter((it=>"string"!=typeof it)),cocids=itemList.filter((it=>"string"==typeof it));if(cocids.length){const source=await this.object.cacheCoCID,missing=[];for(const cocid of cocids)void 0!==source[cocid]?items.push(source[cocid]):missing.push(cocid);if(missing.length){const era=game.i18n.format(COC7.eras[this.object.defaultEra]??"CoC7.CoCIDFlag.error.unknown-era",{era:this.object.defaultEra});ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.documents-not-found",{cocids:missing.join(", "),lang:game.i18n.lang,era}))}}return items}getAgeAdjustments(){for(const key in this.object.setupModifiers)this.object.setupModifiers[key]=0;if(!game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")){if(this.object.age>=40){const key=Math.floor(this.object.age/10);this.object.requiresAgeAdjustments={edu:{total:key-2>4?4:key-2,rolled:!1},deduct:{total:key>1?5*Math.pow(2,key-4):0,from:["str","con","dex"],values:{}},reduce:{total:5*(key-3),from:"app"}}}else this.object.age>=20?this.object.requiresAgeAdjustments={edu:{total:1,rolled:!1}}:this.object.age>=15&&(this.object.requiresAgeAdjustments={deduct:{total:5,from:["str","siz"],values:{}},reduce:{total:5,from:"edu"},luck:!0});void 0!==this.object.requiresAgeAdjustments.reduce&&(this.object.setupModifiers[this.object.requiresAgeAdjustments.reduce.from]=-this.object.requiresAgeAdjustments.reduce.total)}}async getData(){const sheetData=await super.getData();let setup,archetype,occupation;sheetData.isKeeper=game.user.isGM,sheetData.pages=this.pageList,sheetData.canNext=!1,sheetData.createButton=!1;let showMonetary=!1;switch(sheetData.object.step){case sheetData.pages.PAGE_INTRODUCTION:sheetData.era=game.i18n.format(COC7.eras[sheetData.object.defaultEra]??"CoC7.CoCIDFlag.error.unknown-era",{era:sheetData.object.defaultEra}),sheetData.canNext=!0;break;case sheetData.pages.PAGE_CONFIGURATION:if(game.user.isGM){sheetData.setups=await this.filterCacheItemByCoCID(/^i\.setup\./),sheetData.occupations=await this.filterCacheItemByCoCID(/^i\.occupation\./),sheetData.archetypes=await this.filterCacheItemByCoCID(/^i\.archetype\./),setup=sheetData.setups.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.defaultSetup)),void 0===setup?(sheetData.object.defaultSetup="",sheetData.object.setup=""):sheetData.description=CoC7Parser.enrichHTML(setup.system.description.value),sheetData.ownership={[CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE]:"OWNERSHIP.NONE",[CONST.DOCUMENT_OWNERSHIP_LEVELS.LIMITED]:"OWNERSHIP.LIMITED",[CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER]:"OWNERSHIP.OBSERVER",[CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER]:"OWNERSHIP.OWNER"},sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value)});sheetData.characteristicsMethods=this.characteristicsMethods,sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_DEFAULT,sheetData.object.enforcePointBuy?sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_POINTS:this.object.quickFireValues.length&&(sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_VALUES),sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.hasArchetypes=game.settings.get("CoC7","pulpRuleArchetype"),sheetData.canNext=!0}break;case sheetData.pages.PAGE_SETUPS:""===sheetData.object.defaultSetup&&(sheetData.setups=await this.filterCacheItemByCoCID(/^i\.setup\./),sheetData.setups.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.setup&&(setup=sheetData.setups.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.setup)),void 0!==setup&&(sheetData.description=CoC7Parser.enrichHTML(setup.system.description.value),sheetData.canNext=!0)));break;case sheetData.pages.PAGE_ARCHETYPES:if(sheetData.archetypes=await this.filterCacheItemByCoCID(/^i\.archetype\./),0===sheetData.archetypes.length)sheetData.canNext=!0;else if(sheetData.archetypes.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.archetype&&(archetype=sheetData.archetypes.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.archetype)),void 0!==archetype)){sheetData.description=CoC7Parser.enrichHTML(archetype.system.description.value),sheetData.bonusPoints=archetype.system.bonusPoints;const coreCharacteristics=[];for(const coreCharacteristic in archetype.system.coreCharacteristics)archetype.system.coreCharacteristics[coreCharacteristic]&&coreCharacteristics.push(coreCharacteristic);0===coreCharacteristics.length?this.object.coreCharacteristic="":1===coreCharacteristics.length&&(this.object.coreCharacteristic=coreCharacteristics[0]),sheetData.coreCharacteristic=coreCharacteristics.map((c=>c.toLocaleUpperCase())).join(" "+game.i18n.localize("CoC7.Or")+" ");const skills=[];archetype.system.skills=await this.expandItemArray(archetype.system.skills);for(const skill of archetype.system.skills)skills.push(skill.name);sheetData.skills=skills.join(", "),sheetData.suggestedOccupations=CoC7Parser.enrichHTML(archetype.system.suggestedOccupations),sheetData.suggestedTraits=CoC7Parser.enrichHTML(archetype.system.suggestedTraits),sheetData.canNext=!0}break;case sheetData.pages.PAGE_CHARACTISTICS:if(sheetData.characteristicsMethods=this.characteristicsMethods,sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_ROLL,""!==sheetData.object.setup&&(setup=await this.getCacheItemByCoCID(this.object.setup),void 0!==setup)){if(setup.system.characteristics.points.enabled||this.object.enforcePointBuy?sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_POINTS:this.object.quickFireValues.length&&(sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_VALUES),sheetData.setup={total:0,points:setup.system.characteristics.points.value,characteristics:[{key:"str",roll:setup.system.characteristics.rolls.str,label:"CHARAC.Strength"},{key:"con",roll:setup.system.characteristics.rolls.con,label:"CHARAC.Constitution"},{key:"siz",roll:setup.system.characteristics.rolls.siz,label:"CHARAC.Size"},{key:"dex",roll:setup.system.characteristics.rolls.dex,label:"CHARAC.Dexterity"},{key:"app",roll:setup.system.characteristics.rolls.app,label:"CHARAC.Appearance"},{key:"int",roll:setup.system.characteristics.rolls.int,label:"CHARAC.Intelligence"},{key:"pow",roll:setup.system.characteristics.rolls.pow,label:"CHARAC.Power"},{key:"edu",roll:setup.system.characteristics.rolls.edu,label:"CHARAC.Education"}],luck:{roll:setup.system.characteristics.rolls.luck,label:"CoC7.Luck"}},sheetData.coreCharacteristics=[],""!==sheetData.object.archetype&&(archetype=await this.getCacheItemByCoCID(this.object.archetype),void 0!==archetype)){for(const coreCharacteristic in archetype.system.coreCharacteristics)archetype.system.coreCharacteristics[coreCharacteristic]&&sheetData.coreCharacteristics.push({key:coreCharacteristic,name:game.i18n.format(sheetData.setup.characteristics.find((c=>c.key===coreCharacteristic))?.label??"Unknown")});sheetData.coreCharacteristics.sort(CoC7Utilities.sortByNameKey),""!==this.object.coreCharacteristic&&archetype.system.coreCharacteristicsFormula.enabled&&(sheetData.setup.characteristics.find((c=>c.key===this.object.coreCharacteristic)).roll=archetype.system.coreCharacteristicsFormula.value)}let empties=!1;for(const key in sheetData.object.setupPoints)""!==sheetData.object.setupPoints[key]?"luck"!==key&&(sheetData.setup.total+=parseInt(sheetData.object.setupPoints[key],10)):empties=!0;this.object.coreCharacteristic&&(sheetData.coreCharacteristic=this.object.coreCharacteristic.toLocaleUpperCase()),!empties&&this.object.age>=15&&([sheetData.characteristicsMethods.METHOD_ROLL,sheetData.characteristicsMethods.METHOD_VALUES].includes(sheetData.characteristicsMethod)||sheetData.setup.total.toString()===sheetData.setup.points.toString())&&(sheetData.canNext=!0)}break;case sheetData.pages.PAGE_ATTRIBUTES:sheetData.pulpRuleIgnoreAgePenalties=game.settings.get("CoC7","pulpRuleIgnoreAgePenalties"),sheetData.canNext=!0,sheetData.points={};for(const key in this.object.setupModifiers)sheetData.points[key]={value:parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10),min:1-parseInt(this.object.setupPoints[key],10),label:CoC7Utilities.getCharacteristicNames(key).label};if(void 0===this.object.requiresAgeAdjustments.edu||this.object.requiresAgeAdjustments.edu.rolled||(sheetData.canNext=!1),void 0!==this.object.requiresAgeAdjustments.deduct){sheetData.deductTotal=0;for(const key of this.object.requiresAgeAdjustments.deduct.from)sheetData.deductTotal=sheetData.deductTotal-parseInt(this.object.setupModifiers[key],10);sheetData.deductFrom=this.object.requiresAgeAdjustments.deduct.from.map((n=>game.i18n.localize("CHARAC."+n.toUpperCase()))).join(", ").replace(/(, )([^,]+)$/,"$1"+game.i18n.localize("CoC7.Or")+" $2").replace(/^([^,]+),([^,]+)$/,"$1$2"),sheetData.deductTotal!==this.object.requiresAgeAdjustments.deduct.total&&(sheetData.canNext=!1)}void 0!==this.object.requiresAgeAdjustments.reduce&&(sheetData.reduceFrom=game.i18n.localize("CHARAC."+this.object.requiresAgeAdjustments.reduce.from.toUpperCase())),void 0!==this.object.requiresAgeAdjustments.luck&&(sheetData.luckValue=Math.max(this.object.setupPoints.luck,this.object.setupModifiers.luck),0===this.object.setupModifiers.luck&&(sheetData.canNext=!1));break;case sheetData.pages.PAGE_VIEW_ATTRIBUTES:sheetData.points={};for(const key in this.object.setupModifiers)sheetData.points[key]={value:parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10),prefix:"",suffix:"%",label:CoC7Utilities.getCharacteristicNames(key).label};sheetData.points.db={value:CoCActor.dbFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.BonusDamage"},(isNaN(sheetData.points.db.value)||Number(sheetData.points.db.value)>=0)&&(sheetData.points.db.prefix="+"),sheetData.points.build={value:CoCActor.buildFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.Build"},Number(sheetData.points.build.value)>=0&&(sheetData.points.build.prefix="+"),sheetData.points.hp={value:CoCActor.hpFromCharacteristics(sheetData.points,"character"),prefix:"",suffix:"",label:"CoC7.HitPoints"},sheetData.points.hp.prefix=sheetData.points.hp.value+"/",sheetData.points.mp={value:CoCActor.mpFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.MagicPoints"},sheetData.points.mp.prefix=sheetData.points.mp.value+"/",sheetData.points.san={value:sheetData.points.pow.value,prefix:"",suffix:"/99",label:"CoC7.Sanity"},sheetData.points.mov={value:CoCActor.movFromCharacteristics(sheetData.points,"character",this.object.age),prefix:"",suffix:"",label:"CoC7.Movement"},sheetData.canNext=!0;break;case sheetData.pages.PAGE_OCCUPATIONS:if(sheetData.occupations=await this.filterCacheItemByCoCID(/^i\.occupation\./),sheetData.occupations.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.occupation&&(occupation=sheetData.occupations.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.occupation)),void 0!==occupation)){sheetData.description=CoC7Parser.enrichHTML(occupation.system.description.value),sheetData.occupationPointsString=CoC7OccupationSheet.occupationPointsString(occupation.system.occupationSkillPoints),sheetData.creditRating=occupation.system.creditRating,sheetData.personal=occupation.system.personal,sheetData.personalText=occupation.system.personalText,sheetData.skills=await this.expandItemArray(occupation.system.skills),sheetData.groups={};for(let index=0;index<occupation.system.groups.length;index++)sheetData.groups[index]={options:occupation.system.groups[index].options,skills:[]},sheetData.groups[index].skills=await this.expandItemArray(occupation.system.groups[index].skills);sheetData.points=0;const options=[];for(const[key,carac]of Object.entries(occupation.system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))):sheetData.points+=carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10)));options.length>0&&(sheetData.points+=Math.max(...options)),sheetData.canNext=!0}break;case sheetData.pages.PAGE_INVESTIGATOR:sheetData.language=void 0!==this.object.skillItems[this.cocidLanguageOwn],sheetData.language?sheetData.languageName=this.object.skillItems[this.cocidLanguageOwn].item.name:sheetData.languageName="",sheetData.canNext=!0;break;case sheetData.pages.PAGE_OCCUPATION_SKILLS:sheetData.default=0,sheetData.selected=0,sheetData.skillItems=[];for(const key in this.object.skillItems){let group="other";const rows=sheetData.object.skillItems[key].rows.length,isMultiple=sheetData.object.skillItems[key].flags.isMultiple;isMultiple&&sheetData.skillItems.push({key,index:-1,name:sheetData.object.skillItems[key].item.name,group,toggle:!1,isCreditRating:!1,isMultiple:!0,isPickable:!1});for(let index=0;index<rows;index++){let isPickable=!1;sheetData.object.skillItems[key].rows[index].isOccupationDefault?(group="default",isMultiple&&(isPickable=!0),sheetData.default++):!1!==sheetData.object.skillItems[key].rows[index].inOccupationGroup?(group=sheetData.object.skillItems[key].rows[index].inOccupationGroup,isMultiple&&(isPickable=!0)):group="other";let toggle=sheetData.object.skillItems[key].rows[index].occupationToggle;isPickable&&(toggle=!1);let specialization=sheetData.object.skillItems[key].item.system.specialization,skillName=sheetData.object.skillItems[key].item.system.skillName,picked=!1,deleteable=!1;"string"==typeof sheetData.object.skillItems[key].rows[index].selected?(picked=!0,skillName=sheetData.object.skillItems[key].rows[index].selected):!1!==sheetData.object.skillItems[key].rows[index].selected&&(picked=!0,specialization=sheetData.object.skillItems[key].rows[index].selected.system.specialization,skillName=sheetData.object.skillItems[key].rows[index].selected.system.skillName),(toggle||isPickable&&picked)&&sheetData.selected++;let name=sheetData.object.skillItems[key].item.name;(key===this.cocidLanguageOwn||!isPickable&&picked)&&(name=specialization+" ("+skillName+")"),!isPickable&&picked&&(deleteable=!sheetData.object.skillItems[key].rows[index].archetypeToggle),sheetData.skillItems.push({key,index,name,group:group.toString(),toggle,isCreditRating:sheetData.object.skillItems[key].rows[index].isCreditRating,isMultiple:!1,isPickable,picked,deleteable,specialization,skillName})}}sheetData.max=(parseInt(sheetData.default,10)||0)+(parseInt(sheetData.object.personal,10)||0)+Object.values(sheetData.object.occupationGroups).reduce(((s,v)=>s+(parseInt(v,10)||0)),0),sheetData.skillItems.sort(CoC7Utilities.sortByNameKey),sheetData.selected===sheetData.max&&(sheetData.canNext=!0);break;case sheetData.pages.PAGE_ARCHETYPE_SKILLS:sheetData.max=0,sheetData.selected=0,sheetData.skillItems=[];for(const key in this.object.skillItems){let group="other";const rows=sheetData.object.skillItems[key].rows.length,isMultiple=sheetData.object.skillItems[key].flags.isMultiple;isMultiple&&sheetData.skillItems.push({key,index:-1,name:sheetData.object.skillItems[key].item.name,group,toggle:!1,isCreditRating:!1,isMultiple:!0,isPickable:!1});for(let index=0;index<rows;index++){let isPickable=!1;sheetData.object.skillItems[key].rows[index].isArchetypeDefault?(group="default",isMultiple&&(isPickable=!0),sheetData.max++):group="other";let toggle=sheetData.object.skillItems[key].rows[index].archetypeToggle;isPickable&&(toggle=!1);let specialization=sheetData.object.skillItems[key].item.system.specialization,skillName=sheetData.object.skillItems[key].item.system.skillName,picked=!1,deleteable=!1;"string"==typeof sheetData.object.skillItems[key].rows[index].selected?(picked=!0,skillName=sheetData.object.skillItems[key].rows[index].selected):!1!==sheetData.object.skillItems[key].rows[index].selected&&(picked=!0,specialization=sheetData.object.skillItems[key].rows[index].selected.system.specialization,skillName=sheetData.object.skillItems[key].rows[index].selected.system.skillName),(toggle||isPickable&&picked)&&sheetData.selected++;let name=sheetData.object.skillItems[key].item.name;(key===this.cocidLanguageOwn||!isPickable&&picked)&&(name=specialization+" ("+skillName+")"),!isPickable&&picked&&(deleteable=!sheetData.object.skillItems[key].rows[index].occupationToggle),sheetData.skillItems.push({key,index,name,group:group.toString(),toggle,isCreditRating:!1,isMultiple:!1,isPickable,picked,deleteable,specialization,skillName})}}sheetData.skillItems.sort(CoC7Utilities.sortByNameKey),sheetData.selected===sheetData.max&&(sheetData.canNext=!0);break;case sheetData.pages.PAGE_POINTS_SKILLS:if(sheetData.skills=[],sheetData.creditRatingOkay=!(this.object.creditRating.max>0),sheetData.personal={count:0,total:2*(parseInt(this.object.setupPoints.int,10)+parseInt(this.object.setupModifiers.int,10)),remaining:0},sheetData.occupation={count:0,total:0,remaining:0},sheetData.archetype={count:0,total:0,remaining:0},""!==sheetData.object.setup&&(showMonetary=(await this.getCacheItemByCoCID(sheetData.object.setup)).system.monetary.values.length>0),""!==sheetData.object.occupation&&(occupation=await this.getCacheItemByCoCID(this.object.occupation),occupation)){const options=[];for(const[key,carac]of Object.entries(occupation.system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))):sheetData.occupation.total+=carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10)));options.length>0&&(sheetData.occupation.total+=Math.max(...options))}if(""!==this.object.archetype){const archetype=await game.system.api.cocid.fromCoCID(this.object.archetype);1===archetype.length&&(sheetData.archetype.total=archetype[0].system.bonusPoints)}if(Object.keys(this.object.skillItems).length>0){for(const key in this.object.skillItems){const skill=this.object.skillItems[key];for(let index=0,im=skill.rows.length;index<im;index++){const row=skill.rows[index];if(!skill.flags.isMultiple||!1!==row.selected){let item=duplicate(skill.item);!1!==row.selected&&"string"!=typeof row.selected&&(item=duplicate(row.selected));let base=item.system.base;if(!Number.isNumeric(base))for(const key in this.object.setupPoints){const regEx=new RegExp("@"+key,"i");base=base.replace(regEx,parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))}Number.isNumeric(base)||(base=Math.floor(new Roll(base).evaluate({async:!1}).total));let totalPoints=parseInt(base,10);if(Number(row.personalPoints)>0){const num=Number(row.personalPoints);sheetData.personal.count+=num,totalPoints+=num}if(Number(row.occupationPoints)>0){const num=Number(row.occupationPoints);sheetData.occupation.count+=num,totalPoints+=num}if(Number(row.archetypePoints)>0){const num=Number(row.archetypePoints);sheetData.archetype.count+=num,totalPoints+=num}if(Number(row.experiencePoints)>0){totalPoints+=Number(row.experiencePoints)}let name=item.name;key===this.cocidLanguageOwn?name=item.system.specialization+" ("+item.system.skillName+")":skill.flags.isCreditRating?(name=name+" ["+this.object.creditRating.min+" - "+this.object.creditRating.max+"]",totalPoints>=this.object.creditRating.min&&totalPoints<=this.object.creditRating.max&&(sheetData.creditRatingOkay=!0)):"string"==typeof row.selected&&(name=item.system.specialization+" ("+row.selected+")"),sheetData.skills.push({key,index,name,isOccupation:row.occupationToggle,isArchetype:row.archetypeToggle,base,personalPoints:row.personalPoints,occupationPoints:row.occupationPoints,archetypePoints:row.archetypePoints,experiencePoints:row.experiencePoints,totalPoints,showCreditRating:showMonetary&&key===this.cocidCreditRating})}}}sheetData.skills.sort(CoC7Utilities.sortByNameKey),sheetData.creditRatingOkay&&(sheetData.canNext=!0)}sheetData.personal.remaining=sheetData.personal.total-sheetData.personal.count,sheetData.occupation.remaining=sheetData.occupation.total-sheetData.occupation.count,sheetData.archetype.remaining=sheetData.archetype.total-sheetData.archetype.count;break;case sheetData.pages.PAGE_BACKSTORY:{const allBackstories=await this.object.cacheBackstories;sheetData.backstories={};for(let index=0;index<this.object.bioSections.length;index++)sheetData.backstories[index]={index,name:this.object.bioSections[index].name,rolls:game.system.api.cocid.findCocIdInList(this.object.bioSections[index].key,allBackstories).length?this.object.bioSections[index].key:"",value:this.object.bioSections[index].value}}sheetData.canNext=!0,sheetData.createButton=game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole;break;case sheetData.pages.PAGE_CREATE:sheetData.canNext=!0,sheetData.createButton=!0}return sheetData}activateListeners(html){super.activateListeners(html),html.keypress((e=>/textarea/i.test((e.target||e.srcElement).tagName)||13!==(e.keyCode||e.which||e.charCode||0))),html.find(".submit_on_change").change(this._onChangeSubmit.bind(this)),html.find(".roll-characteristic").click(this._onRollCharacteristic.bind(this)),html.find(".increase-10-characteristic").click(this._onIncreaseCharacteristic10.bind(this)),html.find(".increase-characteristic").click(this._onIncreaseCharacteristic.bind(this)),html.find(".decrease-characteristic").click(this._onDecreaseCharacteristic.bind(this)),html.find(".decrease-10-characteristic").click(this._onDecreaseCharacteristic10.bind(this)),html.find("button.roll_all").click(this._onRollAll.bind(this)),html.find("button.roll_edu").click(this._onRollEdu.bind(this)),html.find("button.roll_luck").click(this._onRollLuck.bind(this)),html.find(".item input.submit_on_blur").blur(this._onChangeSubmit.bind(this)),html.find(".item input.save-characteristic-on-blur").blur(this._onChangeSaveCharacteristic.bind(this)),html.find(".item.toggleable").click(this._onToggleSkill.bind(this)),html.find(".item.clickable").click(this._onClickPickSkill.bind(this)),html.find(".skills-list input").click(this._onClickSkillSpecial.bind(this)),html.find(".skills-list .remove-skill").click(this._onClickRemoveSkill.bind(this)),html.find(".item input.skill-adjustment").blur(this._onChangeSkillPoints.bind(this)),html.find("textarea.backstory-text").keyup(this._onChangeBackstoryText.bind(this)),html.find("button.backstory-roll").click(this._onRollBackstory.bind(this)),html.find("button.backstory-reset").click(this._onResetBackstory.bind(this))}async rollMessage(rolls){if(rolls.length){const html=[];for(const roll of rolls)html.push(await renderTemplate(Roll.CHAT_TEMPLATE,{formula:(CoC7Utilities.getCharacteristicNames(roll[0])?.label??roll[0])+": "+roll[1],tooltip:await roll[2].getTooltip(),total:roll[2].total}));ChatMessage.create({user:game.user.id,speaker:{alias:game.user.name},content:html.join("<div>&nbsp;</div>"),whisper:ChatMessage.getWhisperRecipients("GM")})}}addItemToList(item,{isOccupationDefault=!1,inOccupationGroup=!1,occupationToggle=!1,isArchetypeDefault=!1,archetypeToggle=!1,isCreditRating=!1}={}){const key=item.flags.CoC7?.cocidFlag?.id??item.name;if("skill"!==item.type)return void this.object.investigatorItems.push(item);const isMultiple=!(!item.system.properties.special||!(item.system.properties.requiresname&&!item.system.properties.onlyone||item.system.properties.picknameonly||item.name===game.i18n.format("CoC7.AnySpecName"))),flags={isOccupationDefault,inOccupationGroup,isArchetypeDefault,isCreditRating,occupationToggle,archetypeToggle},rows={occupationPoints:"",archetypePoints:"",experiencePoints:"",personalPoints:"",selected:!1};if(void 0===this.object.skillItems[key])this.object.skillItems[key]={item,flags:mergeObject(flags,{isMultiple},{inplace:!1}),rows:[]},isMultiple&&!1===isOccupationDefault&&!1===inOccupationGroup&&!1===isArchetypeDefault||this.object.skillItems[key].rows.push(mergeObject(flags,rows,{inplace:!1}));else{if(isMultiple)this.object.skillItems[key].rows.push(mergeObject(flags,rows,{inplace:!1}));else for(const flag in flags)this.object.skillItems[key].rows[0][flag]=this.object.skillItems[key].rows[0][flag]||flags[flag];for(const flag in flags)this.object.skillItems[key].flags[flag]=this.object.skillItems[key].flags[flag]||flags[flag]}!isMultiple&&flags.isCreditRating&&(this.object.skillItems[key].rows[0].occupationPoints=this.object.creditRating.min)}clearSetupPoints(){for(const key in this.object.setupPoints)this.object.setupPoints[key]=""}async setSkillLists(){this.object.skillItems={},this.object.occupationGroups={},this.object.investigatorItems=[],this.object.placeable=duplicate(this.object.quickFireValues);const setup=await this.getCacheItemByCoCID(this.object.setup),occupation=await this.getCacheItemByCoCID(this.object.occupation);let archetype=!1;if(""!==this.object.archetype&&(archetype=await this.getCacheItemByCoCID(this.object.archetype)),setup&&occupation&&(!game.settings.get("CoC7","pulpRuleArchetype")||archetype)){this.object.bioSections=[];for(let index=0;index<setup.system.bioSections.length;index++)this.object.bioSections.push({name:setup.system.bioSections[index],value:"",key:"rt..backstory-"+CoC7Utilities.toKebabCase(setup.system.bioSections[index])});this.object.personal=occupation.system.personal,this.object.personalText=occupation.system.personalText,this.object.creditRating=occupation.system.creditRating;let items=[];items=await this.expandItemArray(setup.system.items);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index]);items=await this.expandItemArray(occupation.system.skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{isOccupationDefault:!0,occupationToggle:!0});for(let group=0,gm=occupation.system.groups.length;group<gm;group++){this.object.occupationGroups[group]=occupation.system.groups[group].options,items=await this.expandItemArray(occupation.system.groups[group].skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{inOccupationGroup:group})}if(archetype){items=await this.expandItemArray(archetype.system.skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{isArchetypeDefault:!0,archetypeToggle:!0})}if(Number(this.object.creditRating.max)>0){const nameCreditRating=game.i18n.format("CoC7.CoCIDFlag.keys."+this.cocidCreditRating),flags={isOccupationDefault:!0,occupationToggle:!0,isCreditRating:!0};if(void 0!==this.object.skillItems[this.cocidCreditRating])this.addItemToList(this.object.skillItems[this.cocidCreditRating].item,flags);else if(void 0!==this.object.skillItems[nameCreditRating])this.addItemToList(this.object.skillItems[nameCreditRating].item,flags);else{const skill=await game.system.api.cocid.fromCoCID(this.cocidCreditRating);skill.length&&this.addItemToList(skill[0],flags)}}}}_onDragStart(event){if(event.currentTarget.dataset.characteristicKey){const dragData={type:"investigatorCharacteristic",key:event.currentTarget.dataset.characteristicKey,value:event.currentTarget.dataset.value};event.dataTransfer.setData("text/plain",JSON.stringify(dragData))}}async _onDrop(event){try{const dataList=JSON.parse(event.dataTransfer.getData("text/plain"));if(void 0!==dataList.type&&"investigatorCharacteristic"===dataList.type){if(dataList.destination=event.target.closest("li").dataset.characteristicKey,dataList.okay=!1,"-"===dataList.key&&void 0!==this.object.setupPoints[dataList.destination]){const index=this.object.placeable.indexOf(parseInt(dataList.value,10));-1!==index&&this.object.placeable.splice(index,1),""!==this.object.setupPoints[dataList.destination]&&this.object.placeable.push(parseInt(this.object.setupPoints[dataList.destination],10)),this.object.setupPoints[dataList.destination]=parseInt(dataList.value,10),this.object.placeable.sort().reverse(),dataList.okay=!0}else if(void 0!==this.object.setupPoints[dataList.key]&&"-"===dataList.destination)""!==this.object.setupPoints[dataList.key]&&(this.object.placeable.push(parseInt(this.object.setupPoints[dataList.key],10)),this.object.setupPoints[dataList.key]="",this.object.placeable.sort().reverse(),dataList.okay=!0);else if(void 0!==this.object.setupPoints[dataList.key]&&void 0!==this.object.setupPoints[dataList.destination]){const temp=""===this.object.setupPoints[dataList.key]?"":parseInt(this.object.setupPoints[dataList.key],10);this.object.setupPoints[dataList.key]=""===this.object.setupPoints[dataList.destination]?"":parseInt(this.object.setupPoints[dataList.destination],10),this.object.setupPoints[dataList.destination]=temp,dataList.okay=!0}if(dataList.okay)return void this.render(!0)}}catch(err){}const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");if([this.pageList.PAGE_ARCHETYPE_SKILLS,this.pageList.PAGE_OCCUPATION_SKILLS].includes(this.object.step))for(const item of dataList)"skill"===item.type&&(this.addItemToList(item),this.render(!0))}_onClickSkillSpecial(event){event.stopPropagation()}_onClickRemoveSkill(event){event.stopPropagation();const key=event.currentTarget?.parentNode?.dataset?.key,index=event.currentTarget?.parentNode?.dataset?.index;void 0!==this.object.skillItems[key]?.rows[index]&&(this.object.skillItems[key].rows.splice(index,index),this.render(!0))}async _onToggleSkill(event){const key=event.currentTarget?.dataset?.key,index=event.currentTarget?.dataset?.index,toggleKey=event.currentTarget?.dataset?.toggleKey;void 0!==this.object.skillItems[key]?.rows[index]&&(this.object.skillItems[key].rows[index][toggleKey]=!this.object.skillItems[key].rows[index][toggleKey],this.render(!0))}async _onClickPickSkill(event){const key=event.currentTarget?.dataset?.key,index=event.currentTarget?.dataset?.index,toggleKey=event.currentTarget?.dataset?.toggleKey;if(void 0!==this.object.skillItems[key]){index>-1&&(this.object.skillItems[key].rows[index][toggleKey]=!1,this.object.skillItems[key].rows[index].selected=!1,this.render(!0));let skillList=[];const group=game.system.api.cocid.guessGroupFromKey(key);group&&(skillList=(await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(group)+".+$"),type:"i"})).filter((item=>!(item.system.properties?.special&&(item.system.properties?.requiresname||item.system.properties?.picknameonly)))),skillList.length>1&&skillList.sort(CoC7Utilities.sortByNameKey));const skillData=await SkillSpecializationSelectDialog.create({skills:skillList,allowCustom:this.object.skillItems[key].item.system.properties?.requiresname??!1,fixedBaseValue:!0,specializationName:this.object.skillItems[key].item.system.specialization,label:this.object.skillItems[key].item.name});if(index>-1)""!==skillData.selected?(this.object.skillItems[key].rows[index].selected=skillList.find((i=>i.id===skillData.selected)),this.object.skillItems[key].rows[index][toggleKey]=!0):""!==skillData.name&&(this.object.skillItems[key].rows[index].selected=skillData.name,this.object.skillItems[key].rows[index][toggleKey]=!0);else{let selected=!1;""!==skillData.selected?selected=skillList.find((i=>i.id===skillData.selected)):""!==skillData.name&&(selected=skillData.name),this.object.skillItems[key].rows.push({isOccupationDefault:!1,inOccupationGroup:!1,isArchetypeDefault:!1,isCreditRating:!1,occupationToggle:"occupationToggle"===toggleKey,archetypeToggle:"archetypeToggle"===toggleKey,occupationPoints:"",archetypePoints:"",experiencePoints:"",personalPoints:"",selected})}this.render(!0)}}async _onChangeSkillPoints(event){const input=$(event.currentTarget),adjustment=input.data("adjustment"),li=input.closest("li"),key=li.data("key"),index=li.data("index");void 0!==this.object.skillItems[key]?.rows[index][adjustment]&&(this.object.skillItems[key].rows[index][adjustment]=input.val()),this.render(!0)}async _onChangeBackstoryText(event){const textarea=$(event.currentTarget),index=textarea.data("index");void 0!==this.object.bioSections[index]&&(this.object.bioSections[index].value=textarea.val())}async _onRollBackstory(event){const button=$(event.currentTarget),index=button.data("index"),key=button.data("key");if(void 0!==this.object.bioSections[index]){const rolltable=await game.system.api.cocid.fromCoCID(key);if(1===rolltable.length){const tableResult=await rolltable[0].roll();tableResult.results[0].type===CONST.TABLE_RESULT_TYPES.TEXT&&(this.object.bioSections[index].value=(this.object.bioSections[index].value+"\n"+tableResult.results[0].text.trim()).trim())}}this.render(!0)}async _onResetBackstory(event){const index=$(event.currentTarget).data("index");void 0!==this.object.bioSections[index]&&(this.object.bioSections[index].value=""),this.render(!0)}async _onRollLuck(event){const setup=await this.getCacheItemByCoCID(this.object.setup);if(setup){const die=await new Roll(setup.system.characteristics.rolls.luck.toString()).evaluate({async:!0});this.object.setupModifiers.luck=[die.total];const html=await renderTemplate(Roll.CHAT_TEMPLATE,{formula:game.i18n.localize("CoC7.InvestigatorWizard.RollTwiceForLuck")+": "+setup.system.characteristics.rolls.luck.toString(),tooltip:await die.getTooltip(),total:die.total});ChatMessage.create({user:game.user.id,speaker:{alias:game.user.name},content:html,whisper:ChatMessage.getWhisperRecipients("GM")}),this.render(!0)}}async _onRollEdu(event){if(event.preventDefault(),void 0!==this.object.requiresAgeAdjustments.edu&&!this.object.requiresAgeAdjustments.edu.rolled&&this.object.requiresAgeAdjustments.edu.total){let value=parseInt(this.object.setupPoints.edu,10);const message=[];for(let rolls=this.object.requiresAgeAdjustments.edu.total;rolls>0;rolls--){const die=await new Roll("1d100").evaluate({async:!0});if(die.total>value){const augmentDie=await new Roll("1d10").evaluate({async:!0});message.push(`<span class="upgrade-success">${game.i18n.format("CoC7.DevSuccess",{item:game.i18n.localize("CHARAC.Education"),die:die.total,score:value,augment:augmentDie.total})}</span><br>`),value+=parseInt(augmentDie.total,10)}else message.push(`<span class="upgrade-failed">${game.i18n.format("CoC7.DevFailure",{item:game.i18n.localize("CHARAC.Education"),die:die.total,score:value})}</span><br>`)}ChatMessage.create({flavor:game.i18n.localize("CoC7.RollAll4Dev"),user:game.user.id,speaker:{alias:game.user.name},content:message.join(""),whisper:ChatMessage.getWhisperRecipients("GM")}),this.object.setupModifiers.edu=value-parseInt(this.object.setupPoints.edu,10),this.object.requiresAgeAdjustments.edu.rolled=!0,this.render(!0)}}async _onRollAll(event){event.preventDefault();const rolls=[];for(const key of["str","con","siz","dex","app","int","pow","edu","luck"]){const result=await this.rollCharacteristic(key);!1!==result&&rolls.push(result)}this.rollMessage(rolls),this.render(!0)}async _onIncreaseCharacteristic10(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,10,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,10),this.render(!0)}async _onIncreaseCharacteristic(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,1,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,1),this.render(!0)}async _onDecreaseCharacteristic(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,-1,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,-1),this.render(!0)}_onDecreaseCharacteristic10(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,-10,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,-10),this.render(!0)}modifyOffset(key,value,min,max){this.object.setupModifiers[key]=Math.max(Math.min(parseInt(this.object.setupModifiers[key],10)+value,parseInt(max,10)),parseInt(min,10))}modifyCharacteristic(key,value){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=Number(input.value)+value,this.object.setupPoints[key]=Number(input.value))}async _onRollCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key,result=await this.rollCharacteristic(characKey);!1!==result&&this.rollMessage([result]),this.render(!0)}async rollCharacteristic(key){const li=$(`#investigator-wizard-application li.item[data-key=${key}]`),input=li.find("input"),formula=li.data("roll");if(input&&formula&&(this.object.rerollsEnabled||""===this.object.setupPoints[key])){const roll=new Roll(formula.toString());return await roll.evaluate({async:!0}),input.val(roll.total),this.object.setupPoints[key]=Number(roll.total),[key,formula.toString(),roll]}return!1}_onChangeSubmit(event){this._onSubmit(event)}_onChangeSaveCharacteristic(event){const obj=$(event.currentTarget),name=obj.prop("name");if(void 0!==this.object.setupPoints[name]){this.object.setupPoints[name]=obj.val();let empties=!1,total=0;for(const key in this.object.setupPoints)""!==this.object.setupPoints[key]?"luck"!==key&&(total+=parseInt(this.object.setupPoints[key],10)):empties=!0;const objTotal=obj.closest("ol.item-list").find("span.total"),max=parseInt(objTotal.siblings("span.value").text(),10);objTotal.text(total),total!==max||empties?obj.closest("form").find("button.submit-button[data-button=next]").length>0&&this.render(!0):0===obj.closest("form").find("button.submit-button[data-button=next]").length&&this.render(!0)}}getPageNumber(direction){const pageOrder=this.pageOrder,key=parseInt(Object.keys(pageOrder).find((key=>pageOrder[key]===this.object.step)),10)+direction;return pageOrder[key]}async _updateObject(event,formData){if(["back","next"].includes(event.submitter?.dataset.button)){if(event.submitter.className.indexOf("currently-submitting")>-1)return;event.submitter.className=event.submitter.className+" currently-submitting"}if(void 0!==formData["default-setup"]&&void 0!==formData["world-era"]&&void 0!==formData["default-ownership"]){if(this.object.defaultSetup!==formData["default-setup"]&&(this.object.defaultSetup=formData["default-setup"],game.settings.set("CoC7","InvestigatorWizardSetup",this.object.defaultSetup),this.object.setup=this.object.defaultSetup,this.clearSetupPoints(),await this.setSkillLists()),this.object.defaultOwnership!==formData["default-ownership"]&&(this.object.defaultOwnership=formData["default-ownership"],game.settings.set("CoC7","InvestigatorWizardOwnership",this.object.defaultOwnership)),this.object.defaultEra!==formData["world-era"]){const obj=$(this.element.find("form")),started=Date.now();obj.find(".dialog-buttons:first").hide(),obj.find(".scrollsection:first").hide(),obj.find(".erachange:first").show(),this.object.defaultEra=formData["world-era"],await game.settings.set("CoC7","worldEra",this.object.defaultEra),this.object.cacheCoCID=await CoC7InvestigatorWizard.loadCacheItemByCoCID();const buffer=500-(Date.now()-started);buffer>10&&await new Promise((resolve=>setTimeout(resolve,buffer)))}if(void 0!==formData["characteristics-method"]){const type=Number(formData["characteristics-method"]);type===this.characteristicsMethods.METHOD_DEFAULT?(this.object.enforcePointBuy=!1,this.object.quickFireValues=[]):type===this.characteristicsMethods.METHOD_POINTS?(this.object.enforcePointBuy=!0,this.object.quickFireValues=[]):type===this.characteristicsMethods.METHOD_VALUES&&(this.object.enforcePointBuy=!1,game.settings.get("CoC7","pulpRuleArchetype")?this.object.quickFireValues=[90,80,70,60,60,50,50,40]:this.object.quickFireValues=[80,70,60,60,50,50,50,40]),game.settings.set("CoC7","InvestigatorWizardPointBuy",this.object.enforcePointBuy),game.settings.set("CoC7","InvestigatorWizardQuickFire",this.object.quickFireValues)}this.object.rerollsEnabled="string"==typeof formData["rerolls-enabled"],game.settings.set("CoC7","InvestigatorWizardRerolls",this.object.rerollsEnabled);for(let i=0,im=this.object.quickFireValues.length;i<im;i++){const num=Number(formData["quick-fire-values-"+i]);num>0&&(this.object.quickFireValues[i]=num)}this.object.quickFireValues.sort().reverse(),this.object.placeable=duplicate(this.object.quickFireValues),"string"==typeof formData["default-enabled"]?"0"===this.object.defaultQuantity.toString()?(this.object.defaultQuantity=1,game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity)):(this.object.defaultQuantity=formData["default-quantity"],game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity)):"0"!==this.object.defaultQuantity.toString()&&(this.object.defaultQuantity=0,game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity))}else if(void 0!==formData["coc-setup"])this.object.setup!==formData["coc-setup"]&&(this.object.setup=formData["coc-setup"],this.clearSetupPoints(),await this.setSkillLists());else if(void 0!==formData["coc-archetype"])this.object.archetype!==formData["coc-archetype"]&&(this.object.archetype=formData["coc-archetype"],this.object.coreCharacteristic="",this.clearSetupPoints(),await this.setSkillLists());else if(void 0!==formData["coc-occupation"])this.object.occupation!==formData["coc-occupation"]&&(this.object.occupation=formData["coc-occupation"],await this.setSkillLists());else{for(const key in this.object.setupPoints)void 0!==formData[key]&&this.object.setupPoints[key]!==formData[key]&&(this.object.setupPoints[key]=formData[key]);void 0!==formData["coc-core-characteristic"]&&this.object.coreCharacteristic!==formData["coc-core-characteristic"]&&(this.object.coreCharacteristic=formData["coc-core-characteristic"],this.clearSetupPoints(),this.object.placeable=duplicate(this.object.quickFireValues))}const flatKeys=["name","age","residence","birthplace","language","avatar","token"];for(const key of flatKeys)void 0!==formData[key]&&this.object[key]!==formData[key]&&(this.object[key]=formData[key],"age"===key&&this.getAgeAdjustments());if("back"===event.submitter?.dataset.button){const pageNumber=this.getPageNumber(-1);if(void 0!==pageNumber){this.object.step=pageNumber;const obj=this.element.find(".scrollsection");obj.length&&obj[0].scrollTop&&(obj[0].scrollTop=0)}}else if("next"===event.submitter?.dataset.button){if(this.object.step===this.pageList.PAGE_CREATE||this.object.step===this.pageList.PAGE_BACKSTORY&&game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole)return void this.attemptToCreate();{const pageNumber=this.getPageNumber(1);if(void 0!==pageNumber){this.object.step=pageNumber;const obj=this.element.find(".scrollsection");obj.length&&obj[0].scrollTop&&(obj[0].scrollTop=0)}}}this.render(!0)}async attemptToCreate(){const actorData=await this.normalizeCharacterData(this.object);if(game.user.isGM||game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole){(await CoC7InvestigatorWizard.createCharacter(actorData)).sheet.render(!0),this.close()}else{const keepers=game.users.filter((u=>u.active&&u.isGM));if(keepers.length){actorData.ownership[game.user.id]=CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER;const data={type:"character-wizard",listener:keepers[0].id,payload:actorData};game.socket.emit("system.CoC7",data),ui.notifications.info(game.i18n.localize("CoC7.InvestigatorWizard.CreatingInvestigator")),this.close()}else ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingKeeperUser"))}}async normalizeCharacterData(data){const weaponSkills={melee:{},rngd:{}},items=[];for(const key in data.skillItems){const skill=data.skillItems[key];for(let index=0,im=skill.rows.length;index<im;index++){const row=skill.rows[index];if(!skill.flags.isMultiple||!1!==row.selected){let item=duplicate(skill.item);!1!==row.selected&&"string"!=typeof row.selected&&(item=duplicate(row.selected),row.selected=!1),row.occupationToggle&&(item.system.flags.occupation=!0),row.archetypeToggle&&(item.system.flags.archetype=!0);let base=item.system.base;if(!Number.isNumeric(base))for(const key in data.setupPoints){const regEx=new RegExp("@"+key,"i");base=base.replace(regEx,parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10))}Number.isNumeric(base)||(base=Math.floor(new Roll(base).evaluate({async:!1}).total)),item.system.base=base,item.system.adjustments=item.system.adjustments??{},Number(row.personalPoints)>0&&(item.system.adjustments.personal=parseInt(row.personalPoints,10)),Number(row.occupationPoints)>0&&(item.system.adjustments.occupation=parseInt(row.occupationPoints,10)),Number(row.archetypePoints)>0&&(item.system.adjustments.archetype=parseInt(row.archetypePoints,10)),Number(row.experiencePoints)>0&&(item.system.adjustments.experience=parseInt(row.experiencePoints,10)),key===this.cocidLanguageOwn?(item.system.skillName=data.language,item.name=item.system.specialization+" ("+item.system.skillName+")"):"string"==typeof row.selected&&(item.system.skillName=row.selected,item._id=randomID(),item.name=item.system.specialization+" ("+item.system.skillName+")",void 0!==item.flags.CoC7?.cocidFlag?.id&&(item.flags.CoC7.cocidFlag.id=game.system.api.cocid.guessId(item))),item.system.properties?.fighting?(weaponSkills.melee[item.name]=item._id,weaponSkills.melee[item.system.skillName]=item._id):item.system.properties?.firearm&&(weaponSkills.rngd[item.name]=item._id,weaponSkills.rngd[item.system.skillName]=item._id),items.push(item)}}}for(const sourceItem of data.investigatorItems){const item=duplicate(sourceItem);item.system.properties.melee?(void 0!==weaponSkills.melee[item.system.skill.main.name]&&(item.system.skill.main.id=weaponSkills.melee[item.system.skill.main.name]),void 0!==weaponSkills.melee[item.system.skill.alternativ.name]&&(item.system.skill.alternativ.id=weaponSkills.melee[item.system.skill.alternativ.name])):item.system.properties.rngd&&(void 0!==weaponSkills.rngd[item.system.skill.main.name]&&(item.system.skill.main.id=weaponSkills.rngd[item.system.skill.main.name]),void 0!==weaponSkills.rngd[item.system.skill.alternativ.name]&&(item.system.skill.alternativ.id=weaponSkills.rngd[item.system.skill.alternativ.name])),items.push(item)}let monetary={};const setup=await this.getCacheItemByCoCID(this.object.setup);setup&&(monetary=duplicate(setup.system.monetary));const development={personal:2*(parseInt(data.setupPoints.int,10)+parseInt(data.setupModifiers.int,10)),occupation:0,archetype:0};if(""!==data.archetype){const archetype=await game.system.api.cocid.fromCoCID(data.archetype);1===archetype.length&&(items.push(archetype[0].toObject()),development.archetype=archetype[0].system.bonusPoints)}if(""!==data.occupation){const occupation=await game.system.api.cocid.fromCoCID(data.occupation);if(1===occupation.length){items.push(occupation[0].toObject());const options=[];for(const[key,carac]of Object.entries(occupation[0].system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10))):development.occupation+=carac.multiplier*(parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10)));options.length>0&&(development.occupation+=Math.max(...options))}}const biography=[];for(let index=0,im=data.bioSections.length;index<im;index++)biography.push({title:data.bioSections[index].name,value:data.bioSections[index].value});return{type:"character",name:data.name,img:data.avatar,system:{characteristics:{str:{value:parseInt(data.setupPoints.str,10)+parseInt(data.setupModifiers.str,10)},con:{value:parseInt(data.setupPoints.con,10)+parseInt(data.setupModifiers.con,10)},siz:{value:parseInt(data.setupPoints.siz,10)+parseInt(data.setupModifiers.siz,10)},dex:{value:parseInt(data.setupPoints.dex,10)+parseInt(data.setupModifiers.dex,10)},app:{value:parseInt(data.setupPoints.app,10)+parseInt(data.setupModifiers.app,10)},int:{value:parseInt(data.setupPoints.int,10)+parseInt(data.setupModifiers.int,10)},pow:{value:parseInt(data.setupPoints.pow,10)+parseInt(data.setupModifiers.pow,10)},edu:{value:parseInt(data.setupPoints.edu,10)+parseInt(data.setupModifiers.edu,10)}},attribs:{lck:{value:Math.max(parseInt(data.setupPoints.luck,10),parseInt(data.setupModifiers.luck,10))},san:{value:parseInt(data.setupPoints.pow,10)+parseInt(data.setupModifiers.pow,10)}},infos:{age:data.age,residence:data.residence,birthplace:data.birthplace},development,biography,monetary},prototypeToken:{name:data.name,actorLink:!0,texture:{src:data.token},disposition:CONST.TOKEN_DISPOSITIONS.FRIENDLY,sight:{enabled:!0}},items,ownership:{default:parseInt(data.defaultOwnership,10)}}}static async createCharacterFromData(actorData){const actor=await CoC7InvestigatorWizard.createCharacter(actorData),functionId=Hooks.on("renderActorSheet",((app,html,data)=>{app.object.id===actor.id&&(game.socket.emit("system.CoC7",{type:"open-character",listener:Object.keys(actorData.ownership).find((k=>"default"!==k)),payload:actor.id}),Hooks.off("renderActorSheet",functionId))}));actor.sheet.render(!0)}static async createCharacter(actorData){const actor=await Actor.create(actorData);return await actor.update({"system.attribs.hp.value":actor.rawHpMax,"system.attribs.mp.value":actor.rawMpMax,"system.attribs.san.max":actor.rawMpMax}),await actor.resetDailySanity(),actor}static async create(options={}){options=mergeObject({step:0,defaultSetup:game.settings.get("CoC7","InvestigatorWizardSetup"),defaultQuantity:game.settings.get("CoC7","InvestigatorWizardQuantity"),defaultOwnership:game.settings.get("CoC7","InvestigatorWizardOwnership"),defaultEra:game.settings.get("CoC7","worldEra"),rerollsEnabled:game.settings.get("CoC7","InvestigatorWizardRerolls"),enforcePointBuy:game.settings.get("CoC7","InvestigatorWizardPointBuy"),quickFireValues:game.settings.get("CoC7","InvestigatorWizardQuickFire"),placeable:duplicate(game.settings.get("CoC7","InvestigatorWizardQuickFire")),cacheCoCID:CoC7InvestigatorWizard.loadCacheItemByCoCID(),cacheBackstories:game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^rt\.\.backstory-/,type:"rt"}),cacheItems:{},setup:game.settings.get("CoC7","InvestigatorWizardSetup"),skillItems:{},occupationGroups:{},investigatorItems:[],setupPoints:{str:"",con:"",siz:"",dex:"",app:"",int:"",pow:"",edu:"",luck:""},setupModifiers:{str:0,con:0,siz:0,dex:0,app:0,int:0,pow:0,edu:0,luck:0},archetype:"",coreCharacteristic:"",occupation:"",bioSections:[],personal:0,personalText:"",creditRating:{min:0,max:0},name:"",age:"",requiresAgeAdjustments:!1,residence:"",birthplace:"",language:"",avatar:"icons/svg/mystery-man.svg",token:"icons/svg/mystery-man.svg"},options),new CoC7InvestigatorWizard(options).render(!0)}}class CoC7MenuLayer extends PlaceablesLayer{constructor(){super(),this.objects={}}static get layerOptions(){return foundry.utils.mergeObject(super.layerOptions,{name:"coc7menu",zIndex:60})}static get documentName(){return"Token"}get placeables(){return[]}}class CoC7Menu{static getButtons(controls){canvas.coc7gmtools=new CoC7MenuLayer;const isKeeper=game.user.isGM,showHiddenDevMenu=game.settings.get("CoC7","hiddendevmenu");controls.push({name:"coc7menu",title:"CoC7.GmTools",layer:"coc7gmtools",icon:"game-icon game-icon-tentacle-strike",visible:isKeeper,tools:[{toggle:!0,icon:"fas fa-angle-double-up",name:"devphase",active:game.settings.get("CoC7","developmentEnabled"),title:"CoC7.DevPhase",onClick:async toggle=>await CoC7Utilities.toggleDevPhase(toggle)},{toggle:!0,icon:"fas fa-user-edit",name:"charcreate",active:game.settings.get("CoC7","charCreationEnabled"),title:"CoC7.CharCreationMode",onClick:async toggle=>await CoC7Utilities.toggleCharCreation(toggle)},{button:!0,icon:"fas fa-user-plus",name:"actor-import",title:"CoC7.ActorImporter",onClick:async()=>await CoC7ActorImporterDialog.create()},{button:!0,icon:"fas fa-user-check",name:"investigator-wizard",title:"CoC7.InvestigatorWizard.Title",onClick:async()=>await CoC7InvestigatorWizard.create()},{toggle:!0,icon:"fas fa-certificate",class:"xp_toggle",name:"xptoggle",active:game.settings.get("CoC7","xpEnabled"),title:"CoC7.toggleXP",onClick:async toggle=>await CoC7Utilities.toggleXPGain(toggle)},{button:!0,icon:"game-icon game-icon-card-joker",name:"fakeroll",title:"CoC7.FakeRoll",onClick:CoC7Chat.fakeRollMessage},{button:!0,icon:"fas fa-moon",name:"startrest",title:"CoC7.startRest",onClick:async()=>await CoC7Utilities.getTarget()}]}),showHiddenDevMenu&&(canvas.coc7DevTools=new CoC7MenuLayer,controls.push({name:"coc7DevMenu",title:"Dev tools. If you don't know what it is, you don't need it and you shouldn't use it !!",layer:"coc7DevTools",icon:"game-icon game-icon-police-badge",visible:isKeeper,tools:[{toggle:!0,icon:"game-icon game-icon-dice-fire",name:"alwaysCrit",active:game.CoC7.dev.dice.alwaysCrit,title:"All rolls will crit",onClick:toggle=>{game.CoC7.dev.dice.alwaysFumble=!1,game.CoC7.dev.dice.alwaysCrit=toggle}},{toggle:!0,icon:"game-icon game-icon-fire-extinguisher",name:"alwaysFumble",active:game.CoC7.dev.dice.alwaysFumble,title:"All rolls will fumble",onClick:toggle=>{game.CoC7.dev.dice.alwaysFumble=toggle,game.CoC7.dev.dice.alwaysCrit=!1}}]}))}static renderControls(app,html,data){const isKeeper=game.user.isGM,keeperMenu=html.find(".game-icon-tentacle-strike").parent();keeperMenu.addClass("coc7-menu"),isKeeper&&keeperMenu.after('<li class="scene-control coc7-menu coc7-create-link" title="'+game.i18n.localize("CoC7.CreateLink")+'"><i class="fas fa-link"></i></li>'),keeperMenu.after('<li class="scene-control coc7-menu coc7-dice-roll" title="'+game.i18n.localize("CoC7.RollDice")+'"><i class="game-icon game-icon-d10"></i></li>'),html.find(".coc7-menu.coc7-dice-roll").click((event=>CoC7Utilities.rollDice(event))),html.find(".coc7-menu.coc7-create-link").click((event=>CoC7ContentLinkDialog.create(event)))}}class CoC7Canvas{static get COC7_TYPES_SUPPORTED(){return["CoC7Link","locator","getToken"]}static async onDropSomething(canvas,data){if(data.type&&CoC7Canvas.COC7_TYPES_SUPPORTED.includes(data.type)){const gridSize=canvas.scene.grid.size,x=data.x-gridSize/2,y=data.y-gridSize/2,height=gridSize,width=gridSize;let dropTargetTokens=canvas.tokens.placeables.filter((obj=>{const c=obj.center;return Number.between(c.x,x,x+width)&&Number.between(c.y,y,y+height)}));switch(dropTargetTokens.length||(dropTargetTokens=canvas.tokens.controlled),data.type){case"CoC7Link":if(data.check===CoC7Link.CHECK_TYPE.EFFECT){if(dropTargetTokens.length)for(const token of dropTargetTokens)CoC7Link._onLinkActorClick(token.actor,data)}else dropTargetTokens.length?CoC7Link.toWhisperMessage(data,dropTargetTokens.filter((t=>t.actor.owners.length)).map((t=>t.actor))):CoC7Link.toWhisperMessage(data,game.users.players.filter((u=>!!u.character)).map((u=>u.character)));break;case"getToken":void 0!==data.appId&&"string"==typeof data.callBack&&void 0!==ui.windows[data.appId]&&"function"==typeof ui.windows[data.appId][data.callBack]&&ui.windows[data.appId][data.callBack](dropTargetTokens);break;default:if(data.docUuid&&data.callBack){const doc=CoC7Utilities.SfromUuid(data.docUuid);if(doc[data.callBack]&&"function"==typeof doc[data.callBack])try{data.scene=canvas.scene.uuid,doc[data.callBack](data)}catch(error){console.warn(error.message)}}}}}}class CoC7SettingsDirectory extends Settings{activateListeners(html){super.activateListeners(html),game.user.isGM&&(html.find("#settings-game").append('<button class="trigger-data-migration"><i class="fas fa-wrench"></i> '+game.i18n.localize("CoC7.Migrate.TriggerButton")+"</button>"),html.find("#settings-documentation").append('<button class="trigger-system-manual"><i class="fas fa-books"></i> '+game.i18n.localize("CoC7.System.Documentation")+"</button>"),html.find(".trigger-data-migration").click((()=>{new Dialog({title:game.i18n.localize("CoC7.Migrate.TriggerTitle"),content:game.i18n.localize("CoC7.Migrate.TriggerContents"),buttons:{migrate:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Migrate.TriggerRestart"),callback:async()=>{await game.settings.set("CoC7","systemUpdateVersion",0),window.location.reload()}},close:{icon:'<i class="fas fa-ban"></i>',label:game.i18n.localize("Cancel"),callback:()=>{}}},default:"close"},{}).render(!0)})),html.find(".trigger-system-manual").click((async()=>{(await game.packs.get("CoC7.system-doc").getDocument(CONFIG.CoC7.Manual))?.sheet.render(!0)})))}}class CoC7CompendiumDirectory extends CompendiumDirectory{activateListeners(html){super.activateListeners(html);let translated=!1;if("en"===game.i18n.lang)translated=!0;else if(void 0!==game.babele)for(const v of Object.values(game.babele.modules))v.lang===game.i18n.lang&&(translated=!0);translated||(html.find("footer.directory-footer").append('<a class="compendium-translation" title="'+game.i18n.localize("CoC7.HowToTranslateTitle")+'">'+game.i18n.localize("CoC7.HowToTranslateTitle")+"</a>"),html.find(".compendium-translation").click((()=>{const message="<p>"+game.i18n.localize("CoC7.HowToTranslateWarning")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateInstallBabele")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateInstallTranslation")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateEnableTranslation")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateNoTranslation")+"</p>";new Dialog({title:game.i18n.localize("CoC7.HowToTranslateTitle"),content:message,buttons:{},default:"close"},{}).render(!0)})))}}class CoC7ActorDirectory extends ActorDirectory{activateListeners(html){super.activateListeners(html);let allowWizard=game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole;if(!allowWizard){const allowed=game.settings.get("CoC7","InvestigatorWizardQuantity");if(allowed>0){allowWizard=game.actors.filter((a=>[a.ownership.default,a.ownership[game.user.id]??CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE].includes(CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER))).length<allowed}}allowWizard&&(html.find("footer.directory-footer").append('<a class="investigator-wizard">'+game.i18n.localize("CoC7.InvestigatorWizard.Title")+"</a>"),html.find(".investigator-wizard").click((()=>{CoC7InvestigatorWizard.create()}))),game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole&&(html.find("footer.directory-footer").append('<a class="actor-import">'+game.i18n.localize("CoC7.ActorImporter")+"</a>"),html.find(".actor-import").click((()=>{CoC7ActorImporterDialog.create()})))}}class CoC7DecaderDSNFaces{construtor(){this.selected=""}setFaces(){let selected=game.user.getFlag("dice-so-nice","appearance")?.global.system;if(selected!==this.selected){let data,destination,sourceDie=game.dice3d.DiceFactory.systems[selected]?.dice.find((d=>"d100"===d.type));void 0===sourceDie&&(sourceDie=game.dice3d.DiceFactory.systems.standard.dice.find((d=>"d100"===d.type)),selected="standard"),void 0!==sourceDie&&(destination=game.dice3d.DiceFactory.systems.standard.dice.findIndex((d=>"dt"===d.type)),data=Object.assign({},sourceDie),data.type="dt",game.dice3d.DiceFactory.systems.standard.dice[destination]=Object.assign(sourceDie.constructor.prototype,data)),this.selected=selected}}}class CoC7Spell extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/pentagram-rose.svg"),super(data,context),this.context=context}async cast(){if(!this.isOwned)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));const costs=this.system.costs,losses=[];let convertSurplusIntoHitPoints;if(costs.magicPoints=CoC7Utilities.isFormula(costs.magicPoints)?(await new Roll(costs.magicPoints).roll({async:!0})).total:parseInt(costs.magicPoints),costs.magicPoints&&costs.magicPoints>this.actor.system.attribs.mp.value&&(convertSurplusIntoHitPoints=await new Promise((resolve=>{const convertedHitPoints=costs.magicPoints-this.actor.system.attribs.mp.value,convertedMagicPoints=costs.magicPoints-convertedHitPoints,data={title:" ",content:game.i18n.format("CoC7.NotEnoughMagicPoints",{actorMagicPoints:this.actor.system.attribs.mp.value,convertedHitPoints,convertedMagicPoints,originalMagicPoints:costs.magicPoints,spell:this.name}),buttons:{cancel:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>resolve(!1)},proceed:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>(costs.hitPoints=convertedHitPoints,costs.magicPoints=convertedMagicPoints,resolve(!0))}},default:"cancel",classes:["coc7","dialog"]};new Dialog(data).render(!0)})),!convertSurplusIntoHitPoints))return;for(const[key,value]of Object.entries(costs))value&&0!==Number(value)&&losses.push(await this.resolveLosses(key,value));const description=this.system.description.value,html=await renderTemplate("systems/CoC7/templates/items/spell/chat.html",{description,losses});return await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:this.name,content:html})}async resolveLosses(characteristic,value){let characteristicName,loss;loss=CoC7Utilities.isFormula(value)?(await new Roll(value).roll({async:!0})).total:parseInt(value);const actorData=this.actor.system;switch(characteristic){case"hitPoints":characteristicName=game.i18n.localize("CoC7.HitPoints"),this.actor.dealDamage(loss,{ignoreArmor:!0});break;case"sanity":characteristicName=game.i18n.localize("CoC7.SanityPoints"),this.grantSanityLoss(loss);break;case"magicPoints":characteristicName=game.i18n.localize("CoC7.MagicPoints"),this.actor.setMp(actorData.attribs.mp.value-loss);break;case"power":characteristicName=game.i18n.localize("CHARAC.Power"),this.actor.update({"system.characteristics.pow.value":actorData.characteristics.pow.value-loss})}return{characteristicName,loss}}async grantSanityLoss(value){const template=SanCheckCard.template;let html=await renderTemplate(template,{});const message=await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.CastingSpell",{spell:this.name}),content:html}),card=await message.getHTML();if(void 0!==card.length&&1===card.length){const sanityLoss=value;html=card.find(".chat-card")[0],html.dataset.object=escape(JSON.stringify({actorKey:this.actor.id,fastForward:!1,sanData:{sanMin:sanityLoss,sanMax:sanityLoss}}));const sanityCheck=SanCheckCard.getFromCard(html);await sanityCheck.bypassRollSan(),await sanityCheck.rollSanLoss(),sanityCheck.updateChatCard()}}async update(data,context){if(void 0!==this.context.parent&&void 0!==this.context.bookId){let item,book;null===this.context.parent?(item=game.items.get(this.context.bookId),book=item.toObject()):book=this.context.parent.items.get(this.context.bookId).toObject();for(let i=0,im=book.system.spells.length;i<im;i++)book.system.spells[i]._id===this.id&&(book.system.spells[i]=mergeObject(book.system.spells[i],data));null===this.context.parent?(await item.update({"system.spells":book.system.spells}),this.sheet.object=new CoC7Spell(book.system.spells.find((spell=>spell._id===this.id)),this.context)):(await this.context.parent.updateEmbeddedDocuments("Item",[book]),this.sheet.object=new CoC7Spell(book.system.spells.find((spell=>spell._id===this.id)),this.context)),this.sheet.render(!0)}else await super.update(data,context)}}class CoC7Book extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/secret-book.svg"),super(data,context)}static convertDifficulty(difficulty){switch(difficulty){case"hard":return CoC7Check.difficultyLevel.hard;case"extreme":return CoC7Check.difficultyLevel.extreme;case"critical":return CoC7Check.difficultyLevel.critical;case"unreadable":return CoC7Check.difficultyLevel.impossible;default:return CoC7Check.difficultyLevel.regular}}async addSpells(spells){const collection=this.system.spells?duplicate(this.system.spells):[];for(const spell of spells)collection.push(spell);return await this.update({"system.spells":collection})}async spellDetail(index){const isKeeper=game.user.isGM,data=this.system.spells[index],parent=this.actor?this.actor:null,spell=new CoC7Spell(data,{parent,bookId:this.id});if(isKeeper||spell.system.learned)return await spell.sheet.render(!0)}async attemptInitialReading(){const difficulty=CoC7Book.convertDifficulty(this.system.difficultyLevel),language=this.system.language,skill=this.actor?.getSkillsByName(language);if(skill){if(0===skill.length)return ui.notifications.error(game.i18n.format("CoC7.UnknownLanguage",{actor:this.actor.name}));{const check=new CoC7Check;return check.actor=this.actor,check.skill=skill[0].id,check.difficulty=difficulty,check.parent=this.uuid,check.context="INITIAL_READING",check.flavor=game.i18n.format("CoC7.ReadAttempt",{book:this.name,language,difficulty:this.system.difficultyLevel}),await check.roll(),await check.toMessage()}}return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"))}async changeProgress(mode,value){if(!this.isOwned&&"reset"!==mode)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));if(!this.system.initialReading&&"reset"!==mode)return ui.notifications.error(game.i18n.format("CoC7.InitialReadingNeeded",{actor:this.actor.name,book:this.name}));if(!this.system.type.mythos&&"reset"!==mode)return ui.notifications.error(game.i18n.localize("CoC7.NotMythosTome"));const necessary=this.system.study.necessary;let fullStudy=this.system.fullStudy,progress=this.system.study.progress;if(isNaN(progress))return await this.update({"system.study.progress":0});if(value&&progress>value)return await this.update({"system.fullStudy":++fullStudy,"system.study.progress":value}),await this.completeFullStudy();if("increase"===mode&&progress<necessary){if(!1!==await this.checkExhaustion())return;if(await this.update({"system.study.progress":++progress}),progress===necessary)return await this.update({"system.fullStudy":++fullStudy}),await this.grantFullStudy()}else if("decrease"===mode&&progress>0)return await this.update({"system.study.progress":--progress})}async checkExhaustion(){const actorMythosValue=this.actor?.cthulhuMythos,mythosRating=this.system.mythosRating;if(this.system.initialReading)return actorMythosValue>=mythosRating&&(await this.update({"system.study.progress":this.system.study.necessary}),ui.notifications.warn(game.i18n.format("CoC7.BookHasNothingMoreToTeach",{actor:this.actor.name,book:this.name})))}async grantFullStudy(){if(!this.system.type.mythos)return;if(!1!==await this.checkExhaustion())return;const actorMythosValue=this.actor.cthulhuMythos,developments=[],mythosRating=this.system.mythosRating;let mythosFinal=this.system.gains.cthulhuMythos.final;if(actorMythosValue+mythosFinal>mythosRating)for(let index=1;index<=mythosFinal;index++)actorMythosValue+mythosFinal-index<=mythosRating&&(mythosFinal-=index);return developments.push({name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"),gain:parseInt(mythosFinal)},{name:this.system.language,gain:"development"}),await this.grantSkillDevelopment(developments),await this.rollSanityLoss(),await this.update({"system.fullStudies":++this.system.fullStudies})}async grantInitialReading(){if(this.system.initialReading)return;const developments=[],mythos={gains:this.system.gains.cthulhuMythos.initial,type:this.system.type.mythos},occult={gains:this.system.gains.occult,type:this.system.type.occult},other_gains=this.system.gains.others,other_type=this.system.type.other;if(mythos.type&&mythos.gains&&developments.push({name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"),gain:parseInt(mythos.gains)}),occult.type&&occult.gains&&developments.push({name:game.i18n.localize("CoC7.Occult"),gain:parseInt(occult.gains)}),other_type)for(const skill of other_gains){const pattern=skill.name.match(/^(.+) \((.+)\)$/);pattern&&(skill.specialization=pattern[1],skill.name=pattern[2]),"development"!==skill.value&&(skill.value=(await new Roll(skill.value).roll({async:!0})).total),skill.value&&developments.push({name:skill.name,gain:skill.value,specialization:skill.specialization})}return await this.grantSkillDevelopment(developments),(mythos.type||occult.type)&&this.system.sanityLoss&&await this.rollSanityLoss(),await this.update({"system.initialReading":!0})}async grantSpellLearning(spelllearned){for(const spell of this.system.spells)if(spell._id===spelllearned._id){spell.system.learned=!0;await this.actor.items.find((item=>"spell"===item.type&&item.name===spelllearned.name))?ui.notifications.warn(game.i18n.format("CoC7.SpellAlreadyLearned",{spell:spelllearned.name,book:this.name})):spelllearned.system.learned=!0;break}await this.update({"system.spells":this.system.spells}),spelllearned.system.learned&&(ui.notifications.info(game.i18n.format("CoC7.SpellSuccessfullyLearned",{spell:spelllearned.name,book:this.name})),await this.actor.createEmbeddedDocuments("Item",[duplicate(spelllearned)]))}async grantSkillDevelopment(developments){if(0!==developments.length){for(const development of developments){if(!development.gain)continue;let skill=await this.actor.getSkillsByName(development.name);if(0===skill.length){const existingSkill=await game.items.find((item=>"skill"===item.type&&item.name===development.name));existingSkill?skill=await this.actor.createEmbeddedDocuments("Item",[duplicate(existingSkill)]):(skill=await this.actor.createSkill(development.name,0),development.specialization&&await skill[0].update({"system.properties.special":!0,"system.specialization":development.specialization}))}if(skill=skill[0],"development"===development.gain)await skill.flagForDevelopement();else{if(skill.value+development.gain>99)for(let index=1;index<=development.gain;index++)skill.value+development.gain-index<=99&&(development.gain-=index,await skill.increaseExperience(development.gain));await skill.increaseExperience(development.gain)}}return this.showDevelopmentsTable(developments)}}async redoFullStudy(){return await this.update({"system.study.progress":0}),await this.update({"system.study.necessary":2*this.system.study.necessary})}async rollSanityLoss(){const value=this.system.sanityLoss;if(!value||""===value)return;const template=SanCheckCard.template;let html=await renderTemplate(template,{});const message=await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.ReadingMythosTome",{book:this.name}),content:html}),card=await message.getHTML();if(void 0!==card.length&&1===card.length){const sanityLoss=(await new Roll(value).roll({async:!0})).total;html=card.find(".chat-card")[0],html.dataset.object=escape(JSON.stringify({actorKey:this.actor.id,fastForward:!1,sanData:{sanMin:sanityLoss,sanMax:sanityLoss}}));const sanityCheck=SanCheckCard.getFromCard(html);await sanityCheck.bypassRollSan(),await sanityCheck.rollSanLoss(),sanityCheck.updateChatCard()}}async showDevelopmentsTable(developments){for(const development of developments)development.specialization&&(development.name=`${development.specialization} (${development.name})`),"development"===development.gain?development.gain=game.i18n.localize("CoC7.MarkedForDevelopment"):development.gain=`+${development.gain} ${game.i18n.localize("CoC7.Points")}`;const html=await renderTemplate("systems/CoC7/templates/items/book/development.html",{developments});return await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.GainsForReading",{book:this.name}),content:html})}async attemptSpellLearning(id){if(!this.isOwned)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));if(!this.system.initialReading)return ui.notifications.error(game.i18n.format("CoC7.InitialReadingNeeded",{actor:this.actor.name,book:this.name}));const spell=this.system.spells.find((spell=>spell._id===id));if(spell){const check=new CoC7Check;check.actor=this.actor,check.difficulty=CoC7Check.difficultyLevel.hard,check.parent=this.uuid,check.flavor=game.i18n.format("CoC7.LearnSpellAttempt",{book:this.name,spell:spell.name}),check.context="SPELL_LEARNING",check.spell=spell,await check.rollCharacteristic("int"),await check.toMessage()}}async updateRoll(roll){const check=CoC7Check.fromRollString(roll);if(check.passed){if("INITIAL_READING"===check.context)return await this.grantInitialReading();if("SPELL_LEARNING"===check.context)return await this.grantSpellLearning(check.spell)}}}const ECC_CLASS="enhanced-chat-card",PERMISSION_TYPE_GM="gm",PERMISSION_TYPE_NOT_GM="!gm",PERMISSION_TYPE_SPEAKER="speaker",PERMISSION_TYPE_USER="user",PERMISSION_TYPE_BLACKLIST="blacklist",STATE_ON="switched-on",STATE_OFF="switched-off";async function updateMessage(messageId,newContent){const chatMessage=game.messages.get(messageId);await chatMessage.update({content:newContent})}async function GMUpdate(data,options,cardClassName,messageId=void 0){const card=await EnhancedChatCard.fromData(data,options,cardClassName,messageId);return await card.GMUpdate(),card.toObject()}async function advise(){}class EnhancedChatCardLib{constructor(){this.types=new Map,this.socket=null}static injectCSS(){let style=$("head").find("style");style?.length||($("head").append($('<style  type="text/css"></style>')),style=$("head").find("style")),style.append(".ecc-restricted {color: red}\n    .ecc-restricted:hover {cursor: not-allowed}")}static set socket(x){game.enhancedChatCardsLib||(game.enhancedChatCardsLib=new EnhancedChatCardLib),game.enhancedChatCardsLib.socket=x}static get socket(){if(game.enhancedChatCardsLib){if(game.enhancedChatCardsLib.socket)return game.enhancedChatCardsLib.socket;ui.notifications.error("ECC no socket")}else ui.notifications.error("ECC not Initialized")}static get types(){return game.enhancedChatCardsLib||(game.enhancedChatCardsLib=new EnhancedChatCardLib),game.enhancedChatCardsLib.types}static register(cardConstructors){cardConstructors.forEach((cardConstructor=>{EnhancedChatCardLib.types.get(cardConstructor.name)||EnhancedChatCardLib.types.set(cardConstructor.name,cardConstructor)}))}}function setByPath(obj,path,value){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++)o[parts[i]]||(o[parts[i]]={}),o=o[parts[i]];o[parts[parts.length-1]]=value}function getByPath(obj,path){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++){if(!o[parts[i]])return;o=o[parts[i]]}return o[parts[parts.length-1]]}class EnhancedChatCard{constructor(data={},options={}){this.data=data,this.data.flags||(this.data.flags={}),this._options=options}async initialize(){}get options(){return mergeObject(this.constructor.defaultOptions,this._options)}set options(x){this._options=x}get template(){return this.options.template}get cssClasses(){return this.options.classes?.join(" ")}get speaker(){return this.options.ooc?game.user:this.options.speaker&&ChatMessage.getSpeakerActor(this.options.speaker)?ChatMessage.getSpeakerActor(this.options.speaker):game.user}async getData(){return{card:this,flags:this.flags,data:this.toObject(),options:this.options,css:this.cssClasses,user:game.user,speaker:this.speaker}}toObject(){if(!this.data)return;const data={};for(const k of Object.keys(this.data)){const v=this.data[k];data[k]=v instanceof Object?v.toObject?v.toObject():deepClone(v):v}return data}async toMessage(optionnalChatData={}){await this.initialize();const data=await this.getData(),html=await renderTemplate(this.template,data),htmlCardElement=$(html)[0];this.options.attachObject&&(htmlCardElement.dataset.object=escape(this.objectDataString)),htmlCardElement.dataset.eccClass=this.constructor.name,htmlCardElement.classList.add(...this.options.classes);const speaker=this.options.speaker&&!this.options.ooc?ChatMessage.getSpeaker(this.options.speaker):{},chatData=foundry.utils.mergeObject({user:game.user.id,speaker,flavor:game.i18n.localize(this.options.title),content:htmlCardElement.outerHTML},optionnalChatData);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"selfroll"===this.rollMode&&(chatData.whisper=[game.user.id]),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard({attachObject=!0}={}){if(this.options.compute&&await this.localCompute(),this.options.GMUpdate&&await this.ExecuteGMUpdate(),this.messageId){const data=await this.getData(),html=await renderTemplate(this.template,data),htmlCardElement=$.parseHTML(html)[0];attachObject&&!this.data.EEC_ACTION?.detachData&&(htmlCardElement.dataset.object=escape(this.objectDataString)),htmlCardElement.dataset.eccClass=this.constructor.name,htmlCardElement.classList.add(...this.options.classes),game.enhancedChatCardsLib.socket.executeAsGM("updateMessage",this.messageId,htmlCardElement.outerHTML)}else this.toMessage()}async activateListeners(html){html.on("change","input,select,textarea",this._onChange.bind(this)),html.on("click",`.${ECC_CLASS} .ecc-switch`,this._onToggle.bind(this)),html.on("click",`.${ECC_CLASS} .submit`,this._onSubmit.bind(this)),html.on("focusout",`.${ECC_CLASS} input`,this._onChange.bind(this)),html.on("click",`.${ECC_CLASS} button`,this._onButton.bind(this)),html.on("keydown",`.${ECC_CLASS} form`,this._onKey.bind(this)),html.find("[data-ecc-visibility]").each((async(i,el)=>await this.setVisibility(el))),html.find("[data-ecc-permissions]").each((async(i,el)=>await this.setPermission(el))),html.find(`.${ECC_CLASS} .ecc-switch`).each(((i,el)=>this.setState(el))),html.find(`.${ECC_CLASS} input[type="radio"]`).each(((i,el)=>this.setRadioState(el)))}setState(element){if(element&&(element.dataset.flag&&element.classList.add(this.flags[element.dataset.flag]?STATE_ON:STATE_OFF),element.dataset.name)){const value=getByPath(this,element.dataset.name);element.classList.add(value?STATE_ON:STATE_OFF)}}setRadioState(element){if(!element||!element.name)return;const splited=element.name.split(".");"data"===splited[0].toLowerCase()&&this.data&&void 0!==this.data[splited[1]]&&this.data[splited[1]]===element.value&&(element.checked=!0)}async setVisibility(element){if(!element.dataset.eccVisibility)return;await this.hasPerm(element.dataset.eccVisibility,!0)||(element.style.display="none")}async setPermission(element){if(!element.dataset.eccPermissions)return;await this.hasPerm(element.dataset.eccPermissions)||(element.classList.add("ecc-restricted"),$(element).is("input")&&("range"===element.type?$(element).attr("disabled",!0):$(element).attr("readonly",!0)),$(element).is("select")&&$(element).attr("disabled",!0))}async hasPerm(restrictedTo,vision=!1){if(!restrictedTo.length)return!0;let permissionsArray=restrictedTo.split(" ");const whiteList=!permissionsArray.includes(PERMISSION_TYPE_BLACKLIST);if(whiteList||(permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_BLACKLIST))),game.user.isGM){if(!vision)return!0;if(permissionsArray.includes(PERMISSION_TYPE_GM))return whiteList;if(permissionsArray.includes(PERMISSION_TYPE_NOT_GM))return!whiteList}if(permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_GM)),permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_NOT_GM)),permissionsArray.includes(PERMISSION_TYPE_USER)){if(this.message.isAuthor)return whiteList;permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_USER))}if(permissionsArray.includes(PERMISSION_TYPE_SPEAKER)){const speaker=this.message.data.speaker;if(speaker.token&&speaker.scene){const actor=await fromUuid(`Scene.${speaker.scene}.Token.${speaker.token}`);if(actor&&actor.isOwner)return whiteList}else if(speaker.actor){const actor=game.actors.get(speaker.actor);if(actor&&actor.isOwner)return whiteList}permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_SPEAKER))}if(permissionsArray.length)for(let i=0;i<permissionsArray.length;i++){const uuid=permissionsArray[i];let actor=await fromUuid(uuid);if(actor||(actor=game.actors.get(uuid)),actor)return actor.isOwner;ui.notifications.error(`Unable to find actor ${uuid}`)}return!whiteList}static async bindListeners(html){const htmlCardElement=html[0].querySelector(`.${ECC_CLASS}`);if(!htmlCardElement)return;const card=await EnhancedChatCard.fromHTMLCardElement(htmlCardElement);card&&card.activateListeners(html)}get flags(){return this.data.flags}async assignObjects(){}async localCompute(){}async GMUpdate(){}async ExecuteGMUpdate(){const newData=await game.enhancedChatCardsLib.socket.executeAsGM("GMUpdate",this.toObject(),this._options,this.constructor.name,this.messageId);this.data=newData,await this.assignObjects()}async _onButton(event){event.preventDefault();const target=event.currentTarget;target.style.display="none";const action=target.dataset.action;let formUpdate,actionUpdate=!1;const card=target.closest(`.${ECC_CLASS}`);card?formUpdate=this._update(card):console.error(`Could not find a EEC class for this card: ${this.constructor.name}`);const originalDisplayStyle=target.style.display;(action||(console.warn("no action associated with this button"),formUpdate))&&(this[action]||(console.warn(`no ${action} action found for this card`),formUpdate))&&(this[action]&&(actionUpdate=await this[action]({event,updateCard:!1})),formUpdate||actionUpdate?await this.updateChatCard():target.style.display=originalDisplayStyle)}_onKey(event){return"Enter"===event.key&&this._onSubmit(event),"Enter"!==event.key}_onChange(event){if(this.options.submitOnChange)return this._onSubmit(event)}_onSubmit(event){const target=event.currentTarget;if("BUTTON"===target.tagName&&"action"in target.dataset)return;event.preventDefault();const card=target.closest(`.${ECC_CLASS}`);if(!card)return;this._update(card)&&this.updateChatCard()}_update(card){const forms=card.querySelectorAll("form");let updates=!1;for(let i=0;i<forms.length;i++){const form=forms[i],data=new FormDataExtended(form).object;for(const[key,value]of Object.entries(data)){getByPath(this,key)!==value&&(setByPath(this,key,value),updates=!0)}}return updates}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultOptions(){return{attachObject:!0,classes:[ECC_CLASS],exclude:[],excludeStartWith:"_",submitOnChange:!0,speaker:ChatMessage.getSpeaker(),ooc:!1,compute:!0,GMUpdate:!1}}get objectDataString(){const saveData={data:this.data,options:this._options};return JSON.stringify(saveData,((key,value)=>{if(null!==value&&!this.options.exclude?.includes(key)&&!key.startsWith(this.options.excludeStartWith))return value}))}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.data.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(htmmlCard){if(!htmmlCard)return;if(!htmmlCard.dataset.eccClass)return;if(!htmmlCard.dataset.object)return;const cardData=JSON.parse(unescape(htmmlCard.dataset.object)),message=htmmlCard.closest(".message"),messageId=message?.dataset?.messageId;return await this.fromData(cardData.data,cardData.options,htmmlCard.dataset.eccClass,messageId)}static async fromData(data,options,cardClassName,messageId=void 0){const CardClass=game.enhancedChatCardsLib.types.get(cardClassName);if(!CardClass)return void console.error(`Unknown chat card type: ${cardClassName}`);const card=new CardClass(data,options);return messageId&&(card.messageId=messageId),await card.assignObjects(),card}setData(name){(name||"string"===$.type(name))&&setByPath(this,name,!0)}unsetData(name){(name||"string"===$.type(name))&&setByPath(this,name,!1)}toggleData(name){if(!name&&"string"!==$.type(name))return;setByPath(this,name,!getByPath(this,name))}async _onToggle(event){event.preventDefault();const target=event.currentTarget;if("action"in target.dataset)return this._onButton(event);if(target&&target.classList.contains("gm-select-only")&&!game.user.isGM)return;const name=target.dataset.flag?`data.flags.${target.dataset.flag}`:target.dataset.name;if(!name)return;const toggle=target.closest(".ecc-radio");if(toggle){const buttons=toggle.querySelectorAll(".ecc-switch");for(const b of buttons){const bName=b.dataset.flag?`data.flags.${b.dataset.flag}`:b.dataset.name;this.unsetData(bName)}this.setData(name)}else this.toggleData(name);const card=target.closest(`.${ECC_CLASS}`);this.options.submitOnChange&&card&&this._update(card),await this.updateChatCard()}}class _participant{constructor(data={}){this.data=data}_fetch(){if(!this._doc&&this.data.docUuid&&(this._doc=CoC7Utilities.getDocumentFromKey(this.data.docUuid)),!this._actor)if(this._doc)switch(this._doc.constructor?.name){case"TokenDocument":this._actor=this._doc.actor;break;case"CoCActor":this._actor=this._doc}else this._actor=CoC7Utilities.getActorFromKey(this.data.docUuid)}get actor(){return this._fetch(),this._actor}get isActor(){return this.hasActor||this.hasVehicle}get isActive(){return this.data.active||!1}get key(){return this.hasVehicle?this.vehicle.actorKey:this.hasActor?this.actor.actorKey:void 0}get icon(){return this.isActor?this.hasVehicle?this.vehicle.img:this.hasActor?this.actor.img:void 0:"systems/CoC7/assets/icons/question-circle-regular.svg"}get driver(){return this._driver||(this._driver=CoC7Utilities.getActorFromKey(this.data.docUuid)),this._driver}get vehicle(){return this.data.vehicleKey&&(this._vehicle=chatHelper.getActorFromKey(this.data.vehicleKey)),this._vehicle}get hasActor(){return!!this.actor}get hasVehicle(){return!!this.vehicle}get name(){return this.hasVehicle?this.vehicle.name:this.hasActor?this.actor.name:this.data.name||void 0}get mov(){return this.data.mov||(this.hasVehicle?this.data.mov=this.vehicle.mov:this.hasActor&&(this.data.mov=this.actor.mov)),this.data.mov&&(isNaN(Number(this.data.mov))?(this.data.hasValidMov=!1,this.data.mov=void 0):this.data.hasValidMov=!0),this.data.mov}get uuid(){return this.data.uuid}get hasMaxBonusDice(){return this.bonusDice>=2}get bonusDice(){return isNaN(this.data.bonusDice)||this.data.bonusDice<0||this.data.bonusDice>2?0:this.data.bonusDice}set bonusDice(x){isNaN(x)?ui.notifications.error("Bonus dice can Only be a number"):x>2?ui.notifications.error("Max 2 bonus dice"):x<0?ui.notifications.error("No negativ bonus dice"):this.data.bonusDice=x}get hp(){return this.data.hp||(this.data.hp=0),this.actor&&(this.data.hp=this.actor.hp),this.data.hp}set hp(x){this.data.hp=x,this.actor&&this.actor.setHp(x)}addBonusDice(){this.data.bonusDice>=2?ui.notifications.error("Already have max bonus dice"):this.data.bonusDice+=1}removeBonusDice(){this.data.bonusDice<=0?ui.notifications.error("Already have 0 bonus dice"):this.data.bonusDice-=1}resetBonusDice(){this.data.bonusDice=0}get hasBonusDice(){return this.hasOneBonusDice||this.hasTwoBonusDice}get hasOneBonusDice(){return this.bonusDice>=1}get hasTwoBonusDice(){return this.bonusDice>=2}get canAssist(){return this.assist?.length>0}get canBeCautious(){return!this.hasMaxBonusDice}get assist(){return this.data.assist||[]}get dex(){return this.data.dex||(this.hasVehicle&&this.hasDriver?this.data.dex=this.driver.characteristics.dex.value:this.hasActor&&(this.data.dex=this.actor.characteristics.dex.value)),this.data.dex&&(isNaN(Number(this.data.dex))?(this.data.hasValidDex=!1,this.data.dex=0):this.data.hasValidDex=!0),this.data.dex}get hasAGunReady(){return this.data.hasAGunReady||!1}get initiative(){let init=this.dex;return this.hasAGunReady&&(init+=50),init}get isChaser(){return!!this.data.chaser}get isPrey(){return!this.isChaser}get isValid(){return this.hasValidDex&&this.hasValidMov}get hasValidDex(){return!isNaN(Number(this.data.dex))}get hasValidMov(){return!isNaN(Number(this.data.mov))}get hasDriver(){return this.hasVehicle&&this.hasActor}get movAdjustment(){if(this.data.speedCheck?.rollDataString){const roll=CoC7Check.fromRollString(this.data.speedCheck.rollDataString);if(roll&&!roll.standby){if(roll.successLevel>=CoC7Check.successLevel.extreme)return 1;if(roll.failed)return-1}}return 0}get adjustedMov(){if(void 0!==this.mov&&!isNaN(Number(this.mov)))return Number(this.mov)+this.movAdjustment}get hasMovAdjustment(){return this.hasBonusMov||this.hasMalusMov}get hasBonusMov(){return this.data.movAdjustment>0}get hasMalusMov(){return this.data.movAdjustment<0}tooSlow(){this.data.excluded=!0}includeInChase(){this.data.excluded=!1,this.data.escaped=!1}escaped(){this.data.escaped=!0}set slowest(x){this.data.slowest=x}get slowest(){return this.data.slowest}set fastest(x){this.data.fastest=x}get fastest(){return this.data.fastest}calculateMovementActions(minMov){void 0===this.movementAction||void 0===this.adjustedMov||isNaN(minMov)?this.movementAction=0:this.movementAction=this.adjustedMov-minMov+1}set movementAction(x){this.data.movementAction=x}get movementAction(){return this.data.movementAction}set currentMovementActions(x){this.data.currentMovementActions=x}get currentMovementActions(){return this.data.currentMovementActions||0}get hasMaxMvtActions(){return this.currentMovementActions>=this.movementAction}get hasNoMvtActions(){return this.currentMovementActions<=0}addMovementActions(x=1){this.currentMovementActions+=x,this.currentMovementActions>this.movementAction&&(this.currentMovementActions=this.movementAction)}alterMovementActions(x){this.currentMovementActions+=x,this.currentMovementActions>this.movementAction&&(this.currentMovementActions=this.movementAction)}get movementActionArray(){const baseArray=Array(this.movementAction).fill("base");if(this.currentMovementActions>=0){for(let i=0;i<this.currentMovementActions;i++)baseArray[i]="base available";return baseArray}if(this.currentMovementActions<0){return Array(Math.abs(this.currentMovementActions)).fill("deficit").concat(baseArray)}}get cssClass(){const cssClasses=[];return this.isChaser?cssClasses.push("chaser"):cssClasses.push("prey"),this.data.excluded&&cssClasses.push("excluded","too_slow"),this.data.escaped&&cssClasses.push("escaped"),this.data.fastest&&cssClasses.push("fastest"),this.data.slowest&&cssClasses.push("slowest"),this.data.active&&cssClasses.push("active"),this.data.currentMovementActions<=0&&cssClasses.push("no-actions"),cssClasses.join(" ")}get speedCheck(){const check={};if(this.data.speedCheck?.name&&(check.name=this.data.speedCheck.name),this.data.speedCheck?.score&&(check.score=this.data.speedCheck.score),check.cssClasses="",this.data.speedCheck?.rollDataString&&(check.roll=CoC7Check.fromRollString(this.data.speedCheck.rollDataString),check.roll&&(check.roll.standby&&!check.roll.hasCard||(check.rolled=!0,check.inlineRoll=check.roll.inlineCheck.outerHTML,check.cssClasses+="rolled",check.roll.standby||(check.roll.successLevel>=CoC7Check.successLevel.extreme?check.modifierCss="upgrade":check.roll.failed&&(check.modifierCss="downgrade"),(check.roll.successLevel>=CoC7Check.successLevel.extreme||check.roll.failed)&&(check.hasModifier=!0))))),this.hasActor){check.options=[];for(const c of["con"]){const characteristic=this.actor.getCharacteristic(c);characteristic?.value&&check.options.push(characteristic.label)}for(const s of this.actor.driveSkills)check.options.push(s.name);for(const s of this.actor.pilotSkills)check.options.push(s.name);if(check.hasOptions=!!check.options.length,this.data.speedCheck?.id){let item=this.actor.find(this.data.speedCheck.id);if(!item){const gameItem=game.items.get(this.data.speedCheck.id);gameItem&&(item=this.actor.find(gameItem.name))}item&&("item"===item.type&&"skill"===item.value.data?.type&&(check.ref=item.value,check.name=item.value.name,check.type="skill",check.isSkill=!0,check.refSet=!0,check.score=item.value.value),"characteristic"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="characteristic",check.isCharacteristic=!0,check.refSet=!0,check.score=item.value.value),"attribute"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="attribute",check.isAttribute=!0,check.refSet=!0,check.score=item.value.value))}else if(this.data.speedCheck?.name){const item=this.actor.find(this.data.speedCheck.name);item&&("item"===item.type&&"skill"===item.value.data?.type&&(check.ref=item.value,check.name=item.value.name,check.type="skill",check.isSkill=!0,check.refSet=!0,check.score=item.value.value),"characteristic"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="characteristic",check.isCharacteristic=!0,check.refSet=!0,check.score=item.value.value),"attribute"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="attribute",check.isAttribute=!0,check.refSet=!0,check.score=item.value.value))}}else if(this.data.speedCheck?.id){const item=game.items.get(this.data.speedCheck.id);item&&"skill"===item.data?.type&&(check.ref=item,check.name=item.name,check.type="skill",check.isSkill=!0,check.refSet=!1,check.score=item.base)}else this.data.speedCheck?.name&&this.data.speedCheck?.score&&(check.name=this.data.speedCheck.name,check.score=this.data.speedCheck.score,check.refSet=!1);return check.canBeRolled=!0,check.rolled||check.score||(check.cssClasses+=" invalid",check.canBeRolled=!1),check.isValid=check.rolled&&!isNaN(check.score),check}}function sortByRoleAndDex(a,b){return!a&&b?1:!b&&a?-1:a||b?b.chaser&&!a.chaser?1:a.chaser&&!b.chaser?-1:a.dex-b.dex:0}class ChaseObstacleCard extends EnhancedChatCard{static get defaultOptions(){const options=mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/chat/cards/chase-obstacle.html",GMUpdate:!0});return options.classes.push("obstacle-card"),options}async getData(){const data=await super.getData();if(data.status=[],data.strings={},data.displayActorOnCard=game.settings.get("CoC7","displayActorOnCard"),data.status.push({name:game.i18n.localize("CoC7.ActionCost")+` :${this.data.totalActionCost}`}),data.card.breakableObstacle=data.data.obstacle?.barrier&&data.data.obstacle.hasHitPoints,data.card.validCheck=!1,data.data.states?.obstacleDefined&&(data.data.obstacle.hazard||data.data.obstacle.barrier&&!data.data.obstacle.hasHitPoints)&&(data.data.states.tryToNegotiate=!0,data.data.states.tryToBreak=!1,data.data.states.breakOrNegotiateDefined=!0),this.participant?.actor?(data.skill=this.participant.actor.find(data.data.obstacle.checkName),data.checkOptions=this.chase.getActorSkillsAndCharacteristics(this.data.participantUuid),data.skill?(data.validCheck=!0,data.validSkill=!0):data.data.obstacle.checkName&&data.data.checkThreshold&&(data.validCheck=!0)):(data.checkOptions=this.chase.allSkillsAndCharacteristics,data.dummyActor=!0,data.data.obstacle.checkName&&data.data.checkThreshold&&(data.validCheck=!0)),data.data.bonusDice||(data.data.bonusDice=0),data.data.bonusDice<2&&data.data.totalActionCost<data.data.movementAction&&(data.canTakeCautiousApproach=!0),data.customWeapon=!1,"0"===this.data.weaponChoice&&(data.customWeapon=!0),data.validCheck){let checkName,value;data.skill?(checkName=data.skill.value.name,value=data.skill.value.value):(checkName=data.data.obstacle.checkName,value=data.data.checkThreshold),data.strings.checkRollRequest=game.i18n.format("CoC7.AskRoll",{name:checkName,value}),0!==data.data.bonusDice&&(data.data.bonusDice>0?data.strings.checkRollRequest+=` (+${data.data.bonusDice})`:data.strings.checkRollRequest+=` (${data.data.bonusDice})`)}if(data.data.states?.obstacleDefined){if(data.strings.obstacleDefined=game.i18n.format("CoC7.FacingObstacle",{type:data.data.obstacle.barrier?game.i18n.localize("CoC7.ABarrier"):game.i18n.localize("CoC7.AHazard")}),data.data.obstacle.name&&(data.strings.obstacleDefined+=` (${data.data.obstacle.name})`),data.data.states.canAskRoll=!0,data.data.obstacle.barrier&&(data.status.push({name:game.i18n.localize("CoC7.Barrier")}),data.data.obstacle.hasHitPoints&&data.status.push({name:game.i18n.localize("CoC7.Breakable")})),data.data.obstacle.hazard&&data.status.push({name:game.i18n.localize("CoC7.Hazard")}),this.data.states.tryToNegotiate&&(data.validCheck?data.validSkill||data.status.push({name:game.i18n.localize("CoC7.NoValidSkill"),css:"warning"}):(data.status.push({name:game.i18n.localize("CoC7.NoValidCheck"),css:"error"}),data.strings.EnterValueTitle=game.i18n.format("CoC7.SkillSelectBase",{name:data.data.obstacle.checkName}),data.data.checkThreshold||(data.data.states.canAskRoll=!1))),this.data.states.tryToBreak){let damageStatus=game.i18n.localize("CoC7.BreakDown");this.data.objects?.obstacleDamageRoll?.total&&(damageStatus+=` : ${this.data.objects.obstacleDamageRoll.total}`),data.status.push({name:damageStatus}),this.data.states.obstacleDamageRolled&&(this.data.objects?.obstacleDamageRoll?.total<=0?data.strings.obstacleDamage=game.i18n.localize("CoC7.NoDamageDealt"):(data.inlineDamageRoll=createInlineRoll(this.data.objects.obstacleDamageRoll)?.outerHTML,data.strings.obstacleDamage=game.i18n.format("CoC7.DamageDealt",{value:data.inlineDamageRoll})))}if(this.data.states.tryToNegotiate&&data.status.push({name:game.i18n.localize("CoC7.Negotiate")}),this.data.totalCautiousApproach){const cautiousStatus={name:game.i18n.localize("CoC7.Cautious"),css:""};this.data.totalCautiousApproach>1?(cautiousStatus.css="strong",data.strings.cautiousApproachType=game.i18n.localize("CoC7.BeingVeryCautious")):data.strings.cautiousApproachType=game.i18n.localize("CoC7.BeingCautious"),this.data.flags.consumeBonusDice&&(cautiousStatus.css+=" consume"),data.status.push(cautiousStatus)}this.data.objects?.check&&(this.data.obstacle.hazard&&(this.data.movePlayer=!0),this.data.objects.check.passed?(void 0===this.data.movePlayer&&(this.data.movePlayer=!0),data.strings.obstaclePassed=game.i18n.localize("CoC7.ObstaclePassed"),this.data.objects.check.luckSpent&&(data.strings.obstaclePassed+=` (${game.i18n.localize("CoC7.GotLucky")})`),data.status.push({name:game.i18n.localize("CoC7.Success"),css:"success"})):this.data.objects.check.isFumble?(data.strings.checkFailed=game.i18n.localize("CoC7.ObstacleFumble"),data.status.push({name:game.i18n.localize("CoC7.Fumble"),css:"fumble"})):(data.strings.checkFailed=game.i18n.localize("CoC7.ObstacleFail"),data.status.push({name:game.i18n.localize("CoC7.Failure"),css:"failure"})))}if(this.data.states.playerActionDefined&&(this.data.obstacle.hazard?data.strings.playerIntentions=game.i18n.localize("CoC7.TryToNegotiateHazard"):this.data.obstacle.barrier&&(this.data.states.tryToNegotiate?data.strings.playerIntentions=game.i18n.localize("CoC7.TryToGetPastBarriers"):this.data.states.tryToBreak&&(data.strings.playerIntentions=game.i18n.localize("CoC7.TryToBreak")))),this.data.states.checkRolled&&(this.data.states.cardResolved?data.htmlCheck=await(this.data.objects.check.inlineCheck?.outerHTML):data.htmlCheck=await this.data.objects.check.getHtmlRoll()),this.data.states.cardResolved){data.playerDamageTaken=!1,data.obstalceDefinitionChanged=!1;this.listChanges().changes&&(data.obstalceDefinitionChanged=!0),this.data.obstacle.hasDamage&&this.data.objects?.check?.isFailure&&(data.playerDamageTaken=!0,data.inlineDamageTakenRoll=createInlineRoll(this.data.objects.failedDamageRoll)?.outerHTML,0===data.data.totalPlayerDamageTaken?data.strings.damageTaken=game.i18n.localize("CoC7.YouTakeNoDamage"):data.strings.damageTaken=game.i18n.format("CoC7.YouTakeSomeDamage",{amount:data.data.totalPlayerDamageTaken}),data.status.push({name:game.i18n.localize("CoC7.TotalDamage")+` :${data.data.totalPlayerDamageTaken}`})),this.data.obstacle.hasActionCost&&this.data.obstacle.hazard&&this.data.objects?.check?.isFailure&&(data.actionLost=!0,data.strings.actionLost=game.i18n.localize("CoC7.YouLostTime"),data.inlineActionLostRoll=createInlineRoll(this.data.objects.failedActionRoll)?.outerHTML),data.status.push({name:game.i18n.localize("CoC7.CardResolved")})}return this.data.states.closed&&(this.data.movePlayer?data.strings.finalOutcome=game.i18n.localize("CoC7.MoveToLocation"):data.strings.finalOutcome=game.i18n.localize("CoC7.DontMoveToLocation")),data}async GMUpdate(){if(game.user.isGM){if(this.data.states.cardResolved){if(this.data.objects?.failedDamageRoll?.total){const totalDamage=this.data.objects.failedDamageRoll.total,armorValue=this.data.flags.ignoreArmor?0:this.data.armor;CoC7Utilities.isFormula(armorValue)?this.data.armor=(await new Roll(armorValue).roll({async:!0})).total:isNaN(Number(armorValue))||(this.data.armor=Number(armorValue)),void 0===this.data.totalPlayerDamageTaken&&(this.data.totalPlayerDamageTaken=totalDamage-this.data.armor,this.data.totalPlayerDamageTaken<0&&(this.data.totalPlayerDamageTaken=0))}void 0===this.data.reflectObstaleChanges&&(this.data.reflectObstaleChanges=!0),void 0===this.data.movePlayer&&(this.data.movePlayer=(this.data.states.tryToNegotiate||this.data.obstacle.hazard)&&!this.data.states.failedConsequencesRolled),this.data.obstacle.barrier&&this.data.obstacle.hasHitPoints&&this.data.objects?.obstacleDamageRoll?.total&&(void 0===this.data.totalObstacleDamage&&(this.data.totalObstacleDamage=this.data.objects.obstacleDamageRoll.total),void 0===this.data.flags.obstacleDestoyed&&(this.data.flags.obstacleDestoyed=this.data.obstacle.HitPoints-this.data.totalObstacleDamage<=0))}this.data.states.closed&&(this.data.movementActionArray=duplicate(this.participant.movementActionArray),this.data.EEC_ACTION={detachData:!0})}else console.error("CoC7: GMUpdate called from non GM user")}async localCompute(){}async assignObjects(){this.data.objects?.check&&"Object"===this.data.objects.check?.constructor?.name&&(this.data.objects.check=CoC7Check.fromData(this.data.objects.check)),this.data.objects?.obstacleDamageRoll&&"Object"===this.data.objects.obstacleDamageRoll?.constructor?.name&&(this.data.objects.obstacleDamageRoll=Roll.fromData(this.data.objects.obstacleDamageRoll)),this.data.objects?.failedDamageRoll&&"Object"===this.data.objects.failedDamageRoll?.constructor?.name&&(this.data.objects.failedDamageRoll=Roll.fromData(this.data.objects.failedDamageRoll)),this.data.objects?.failedActionRoll&&"Object"===this.data.objects.failedActionRoll?.constructor?.name&&(this.data.objects.failedActionRoll=Roll.fromData(this.data.objects.failedActionRoll))}async initialize(){this.chase&&void 0!==this.chase.activeParticipantData?.uuid&&(void 0===this.data&&(this.data={}),void 0===this.data.states&&(this.data.states={}),this.data.obstacle=this.location?.obstacleDetails,this.data.participantUuid=this.chase.activeParticipantData.uuid,this.participantData?.bonusDice>0&&(this.data.bonusDice=this.participantData.bonusDice,this.data.flags.consumeBonusDice=!0,this.data.flags.hasBonusDice=this.participant.hasBonusDice),this.data.movementActionArray=duplicate(this.participant.movementActionArray),this.data.movementAction=this.participant.currentMovementActions,this.data.totalActionCost=0)}get participant(){if(this.participantData)return new _participant(this.participantData)}get participantData(){if(this.chase&&this.data.participantUuid)return this.chase.getParticipantData(this.data.participantUuid)}get location(){if(this.chase)return this.chase.getLocationData(this.data.locationUuid)}get obstacle(){if(this.location)return this.location.obstacleDetails}get chase(){if(this.data.chaseUuid)return this._chase||(this._chase=CoC7Utilities.SfromUuid(this.data.chaseUuid)),this._chase}get roll(){let rollData;if(this.participant.actor&&this.data.obstacle.checkName){const actorSkill=this.participant.actor.find(this.data.obstacle.checkName);rollData=void 0!==actorSkill?actorSkill:{type:"value",value:{name:this.data.obstacle.checkName,threshold:this.data.checkThreshold}},rollData.actor={actorKey:this.participant.actor.id}}else this.data.obstacle.checkName&&this.data.checkThreshold&&(rollData={type:"value",value:{name:this.data.obstacle.checkName,threshold:this.data.checkThreshold},actor:{name:this.participant.name}});return rollData&&(rollData.diceModifier=this.data?.bonusDice||0,rollData.difficulty=CoC7Check.difficultyLevel.regular,rollData.denyPush=!0),rollData||void 0}get validFailedRolls(){if(!this.data.objects?.check?.isFailure)return!1;if(this.data.obstacle.hasDamage){const damage="number"==typeof this.data.obstacle.failedCheckDamage?`${this.data.obstacle.failedCheckDamage}`:this.data.obstacle.failedCheckDamage;if(!this.data.obstacle.failedCheckDamage)return!1;if(this.data.obstacle.failedCheckDamage&&!Roll.validate(damage))return!1}if(this.data.obstacle.hazard&&this.data.obstacle.hasActionCost){const actionCost="number"==typeof this.data.obstacle.failedActionCost?`${this.data.obstacle.failedActionCost}`:this.data.obstacle.failedActionCost;if(!this.data.obstacle.failedActionCost)return!1;if(this.data.obstacle.failedActionCost&&!Roll.validate(actionCost))return!1}return!0}get weaponsOptions(){const weapons=[];if(this.participant.actor?.itemTypes?.weapon?.forEach((w=>{let formula=w.data.data.range.normal.damage,db=this.participant.actor.db;db=null===db||0===Number(db)?"":`${db}`,db&&!db.startsWith("-")&&(db="+"+db),w.data.data.properties.addb&&(formula+=db),w.data.data.properties.ahbd&&(formula=formula+db+"/2"),weapons.push({name:`${w.data.name} (${formula})`,damage:formula,uuid:w.uuid})})),weapons.sort(CoC7Utilities.sortByNameKey),!weapons.find((w=>w.name.toUpperCase().startsWith(game.i18n.localize("CoC7.UnarmedWeaponName")?.toUpperCase())))){let db="";this.participant.actor&&(db=this.participant.actor.db,db&&!db.startsWith("-")&&(db="+"+db),null!==db&&0!==Number(db)||(db="")),weapons.unshift({name:`${game.i18n.localize("CoC7.UnarmedWeaponName")} (1D3${db})`,damage:`1D3${db}`,uuid:"unarmed"})}return weapons.push({name:game.i18n.localize("CoC7.Other"),damage:this.data?.customWeaponDamage||null,uuid:0}),weapons}get usedWeapon(){if(!this.data?.weaponChoice){if(!this.weaponsOptions)return;this.data||(this.data={}),this.data.weaponChoice=this.weaponsOptions[0].uuid}if(this.data.weaponChoice){const weapon=this.weaponsOptions.find((e=>e.uuid===this.data.weaponChoice));if(weapon)return weapon}}get inflictedDamageFormula(){if(this.usedWeapon){const weapon=this.usedWeapon;return weapon&&weapon.damage&&Roll.validate(weapon.damage)?weapon.damage:void 0}}get validObstacleDamage(){return!!(this.data.obstacle.hasHitPoints&&!isNaN(Number(this.data.obstacle.HitPoints))&&Number(this.data.obstacle.HitPoints)>0&&this.inflictedDamageFormula)}get strings(){const strings={};return strings.damageRollRequest=this.usedWeapon.name,strings}async validateCard(options){let loactionChanged,participantChaged=!1;const obstacleUpdate={obstacleDetails:{}},participantUpdate={};this.data.flags.obstacleDestoyed&&(loactionChanged=!0,obstacleUpdate.obstacle=!1,obstacleUpdate.obstacleDetails.hazard=!1,obstacleUpdate.obstacleDetails.barrier=!1);const diff=this.listChanges();if(diff.changes&&this.data.reflectObstaleChanges)for(const[key,value]of Object.entries(diff.obstacle))"type"!==key&&(obstacleUpdate.obstacleDetails[value.key]=value.new,loactionChanged=!0);if(this.data.totalObstacleDamage>0&&this.data.obstacle.hasHitPoints){let remainingHp=this.data.obstacle.HitPoints;remainingHp-=this.data.totalObstacleDamage,remainingHp<0&&(remainingHp=0),this.obstacle.HitPoints!==remainingHp&&(obstacleUpdate.obstacleDetails.HitPoints=remainingHp,this.data.obstacle.HitPoints=remainingHp,loactionChanged=!0)}if(this.data.totalPlayerDamageTaken>0&&(participantChaged=!0,this.participant.actor?await this.participant.actor.dealDamage(this.data.totalPlayerDamageTaken,{ignoreArmor:!0}):(participantUpdate.hp=this.participantData.hp,participantUpdate.hp-=this.data.totalPlayerDamageTaken,participantUpdate.hp<0&&(participantUpdate.hp=0))),this.data.totalActionCost>0&&(participantChaged=!0,participantUpdate.currentMovementActions=this.participantData.currentMovementActions,participantUpdate.currentMovementActions-=this.data.totalActionCost),void 0===this.data.flags.consumeBonusDice&&(this.data.flags.consumeBonusDice=!0),this.data.flags.consumeBonusDice?(participantChaged=!0,participantUpdate.bonusDice=0):isNaN(this.data.bonusDice)||this.data.bonusDice===this.participant.bonusDice||(participantUpdate.bonusDice=this.data.bonusDice),this.data.movePlayer){let targetLocation;targetLocation=this.data.forward?this.location:this.chase.getLocationShift(this.location.uuid,{skip:-1}),targetLocation.uuid&&await this.chase.moveParticipantToLocation(this.participantData.uuid,targetLocation.uuid,{scrollToLocation:!0,activateLocation:!1,render:!1})}return loactionChanged&&await this.chase.updateLocation(this.location.uuid,obstacleUpdate,{render:!1}),participantChaged&&await this.chase.updateParticipant(this.participantData.uuid,participantUpdate,{render:!1}),this.data.states.closed=!0,await this.chase.activateNextParticipantTurn(),!0}async defineObstacle(options){return this.data.states||(this.data.states={}),this.data.states.obstacleDefined=!0,!0}async tryToNegotiateObstacle(options){return this.data.states.breakOrNegotiateDefined=!0,this.data.states.tryToNegotiate=!0,this.data.states.tryToBreak=!1,!0}async tryToBreakDownObstacle(options){return this.data.states.breakOrNegotiateDefined=!0,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!0,!0}async cancelObstacleDefinition(options){return this.data.states.obstacleDefined=!1,this.data.states.breakOrNegotiateDefined=!1,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!1,!0}async cancelBreakOrPassChoice(options){return this.data.obstacle.hasHitPoints?(this.data.states.breakOrNegotiateDefined=!1,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!1,!0):this.cancelObstacleDefinition()}async requestRoll(options){return this.data.states.playerActionDefined=!0,!0}async takeCautiousApproach(options){return this.data.totalCautiousApproach||(this.data.totalCautiousApproach=0),this.data.totalCautiousApproach+=1,this.data.bonusDice+=1,this.data.totalActionCost+=1,this.data.flags.consumeBonusDice||(this.data.flags.consumeBonusDice=!0),this.data.flags.hasBonusDice||(this.data.flags.hasBonusDice=!0),this.data.movementAction<=this.data.totalActionCost&&(this.data.flags.consumeBonusDice=!1,this.data.states.cardResolved=!0,this.data.movePlayer=!1),!0}async rollSkillCheck(options){const target=options.event.currentTarget;if(!target.classList.contains("disabled")){if(target.classList.toggle("disabled"),this.roll)return this.data.objects||(this.data.objects={}),this.data.objects.check=CoC7Check.createFromActorRollData(this.roll),!!this.data.objects.check&&(this.data.objects.check.denyPush=!0,await this.data.objects.check._perform({forceDSN:!0}),this.data.totalActionCost+=1,this.data.states.checkRolled=!0,target.classList.toggle("disabled"),this.data.objects.check.passed?(this.data.movePlayer=!0,this.data.states.cardResolved=!0):void 0===this.data.armor&&this.participant.actor&&(this.data.armor=this.participant.actor.data.data.attribs.armor.value||0),!0);ui.notifications.error(game.i18n.localize("CoC7.NothingToRoll"))}}async useLuck(options){return await CoC7Check.alter(this.data.objects.check,"useLuck",{target:options.event.currentTarget,update:!1}),this.data.objects.check.passed&&(this.data.states.cardResolved=!0,this.data.movePlayer=!0,this.data.totalActionCost+=1),!0}async rollFailConsequences(options){if(this.data.objects||(this.data.objects={}),this.data.obstacle.hasDamage&&this.data.objects.check?.isFailure){const damage="number"==typeof this.data.obstacle.failedCheckDamage?`${this.data.obstacle.failedCheckDamage}`:this.data.obstacle.failedCheckDamage;this.data.objects.failedDamageRoll=new Roll(damage),await this.data.objects.failedDamageRoll.evaluate({async:!0})}if(this.data.obstacle.hazard&&this.data.obstacle.hasActionCost&&this.data.objects.check?.isFailure){const actionCost="number"==typeof this.data.obstacle.failedActionCost?`${this.data.obstacle.failedActionCost}`:this.data.obstacle.failedActionCost;this.data.objects.failedActionRoll=new Roll(actionCost),await this.data.objects.failedActionRoll.evaluate({async:!0}),this.data.totalActionCost+=this.data.objects.failedActionRoll.total-1}return this.data.states.failedConsequencesRolled=!0,this.data.states.cardResolved=!0,!0}async askRollObstacleDamage(options){return this.data.states.playerActionDefined=!0,!0}async rollObstacleDamage(options){return this.data.objects||(this.data.objects={}),this.data.objects.obstacleDamageRoll=new Roll(this.usedWeapon?.damage),await this.data.objects.obstacleDamageRoll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(this.data.objects.obstacleDamageRoll),this.data.states.obstacleDamageRolled=!0,this.data.totalActionCost+=1,this.data.states.cardResolved=!0,!0}listChanges(validate=!1){const diff={obstacle:{},player:{},changes:!1},names={barrier:game.i18n.localize("CoC7.Type"),hazard:game.i18n.localize("CoC7.Type"),hasHitPoints:game.i18n.localize("CoC7.Breakable"),HitPoints:game.i18n.localize("CoC7.HitPoints"),hasActionCost:game.i18n.localize("CoC7.ActionCost"),failedActionCost:game.i18n.localize("CoC7.ActionCost"),hasDamage:game.i18n.localize("CoC7.FightBack"),failedCheckDamage:game.i18n.localize("CoC7.WeaponDamage"),checkName:game.i18n.localize("CoC7.Check"),name:game.i18n.localize("CoC7.Name")};validate&&!this.data.validation&&(this.data.validation={});const newObstacle=foundry.utils.diffObject(this.obstacle,this.data.obstacle);for(const[key]of Object.entries(newObstacle))""===newObstacle[key]&&null===this.obstacle[key]||!isNaN(Number(newObstacle[key]))&&Number(newObstacle[key])===this.obstacle[key]||(diff.changes=!0,diff.obstacle[key]={old:this.obstacle[key],new:newObstacle[key],name:names[key],key},validate&&(this.data.validation[key]=!0));return diff}}class CoC7Chase extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/running-solid.svg"),super(data,context),this.context=context}get participants(){const pList=[],preys=this.system.participants.filter((p=>!p.chaser)).map((p=>new _participant(p))),chasers=this.system.participants.filter((p=>p.chaser)).map((p=>new _participant(p)));return this.system.participants.forEach((p=>{p.assist=[],p.chaser?p.assist=chasers.filter((c=>c.uuid!==p.uuid&&!c.hasMaxBonusDice)).map((c=>({uuid:c.uuid,name:c.name}))):p.assist=preys.filter((c=>c.uuid!==p.uuid&&!c.hasMaxBonusDice)).map((c=>({uuid:c.uuid,name:c.name})));const particpant=new _participant(p);pList.push(particpant)})),pList}get participantsObject(){const participants=this.participants;return participants.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),participants}get activeParticipantData(){return this.system.participants.find((p=>p.active))}get activeActor(){const p=this.activeParticipantData;if(p)return p.docUuid?CoC7Utilities.getActorFromKey(p.docUuid):void 0}get participantsByAdjustedMov(){const pList=this.actualParticipants.sort(((a,b)=>a.adjustedMov-b.adjustedMov));return pList.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),pList}get participantsByInitiative(){const pList=this.actualParticipants.sort(((a,b)=>b.initiative-a.initiative));return pList.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),pList}get preys(){return this.participants.filter((p=>!p.isChaser&&p.isValid))||[]}get chasers(){return this.participants.filter((p=>p.isChaser&&p.isValid))||[]}get allHaveValidMov(){return this.participants.every((e=>e.hasValidMov))}get allHaveSpeedRoll(){return this.participants.every((p=>p.speedCheck?.rolled))}getParticipantLocation(participantUuid){if(!this.system.locations?.list?.length)return;if(!this.started)return;const location=this.locations.find((l=>{const lp=l.participants?.find((p=>participantUuid===p.uuid));return!!lp}));return location||void 0}getParticipantData(participantUuid){const participant=this.system.participants.find((p=>participantUuid===p.uuid));if(participant)return foundry.utils.duplicate(participant)}getParticipant(participantUuid){const participantData=this.getParticipantData(participantUuid);if(participantData)return new _participant(participantData)}get nextActiveParticipant(){if(this.started)return this.participantsByInitiative.find((p=>p.data.currentMovementActions>0))}get slowestPrey(){const preys=this.participants.sort(((a,b)=>a.adjustedMov-b.adjustedMov))?.filter((p=>p.isPrey));if(preys.length>0)return preys[0]}get fastestChaser(){const chasers=this.participants.sort(((a,b)=>a.adjustedMov-b.adjustedMov))?.filter((p=>p.isChaser));if(chasers.length>0)return chasers.slice(-1).pop()}get actualParticipants(){const slowestPrey=this.slowestPrey,fastestChaser=this.fastestChaser;let pList=this.participants;return!this.system.includeLatecomers&&slowestPrey&&(pList=pList.filter((p=>p.isPrey||p.isChaser&&p.adjustedMov>=slowestPrey.adjustedMov))),!this.system.includeEscaped&&fastestChaser&&(pList=pList.filter((p=>p.isChaser||p.isPrey&&p.adjustedMov<=fastestChaser.adjustedMov))),pList}get slowestParticipant(){const pList=this.participantsByAdjustedMov;if(pList.length>0)return pList[0]}async updateParticipants(list,{render=!0}={}){const participantsData=this.cleanParticipantList(list);return await this.update({"system.participants":participantsData},{render})}async updateParticipant(particiantUuid,updateData,{render=!0}={}){const participants=foundry.utils.duplicate(this.system.participants),update=foundry.utils.duplicate(updateData),participantIndex=participants.findIndex((p=>particiantUuid===p.uuid));-1!==participantIndex&&(update.uuid&&delete update.uuid,foundry.utils.mergeObject(participants[participantIndex],update,{overwrite:!0}),await this.updateParticipants(participants,{render}))}cleanParticipantList(list){const participantsData=list||foundry.utils.duplicate(this.system.participants);return list.forEach((p=>{let data;data="_participant"===p.constructor.name?p.data:p;const index=this.findIndex(participantsData,data.uuid);-1===index?(participantsData.push(data),ui.notifications.warn(game.i18n.localize("CoC7.ParticipantDataMissing"))):participantsData[index]=data})),participantsData}async assistParticipant(assistantUuid,beneficiaryUuid,{useMovementActions=!0,render=!0}={}){const assistant=this.getParticipant(assistantUuid),beneficiary=this.getParticipant(beneficiaryUuid),participantsData=foundry.utils.duplicate(this.system.participants),assistantIndex=participantsData.findIndex((p=>assistantUuid===p.uuid)),beneficiaryIndex=participantsData.findIndex((p=>beneficiaryUuid===p.uuid));if(assistant&&beneficiary)if(beneficiary.hasMaxBonusDice)ui.notifications.error(game.i18n.format("CoC7.ErrorBeneficiaryAtMaxBonus",{name:beneficiary.name}));else{if(useMovementActions){if(assistant.currentMovementActions<1)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid,actions:assistant.currentMovementActions}));assistant.alterMovementActions(-1),participantsData[assistantIndex]=foundry.utils.duplicate(assistant.data)}beneficiary.addBonusDice(),participantsData[beneficiaryIndex]=foundry.utils.duplicate(beneficiary.data),await this.update({"system.participants":participantsData},{render})}else ui.notifications.error(game.i18n.localize("CoC7.ParticipantNotFound"))}async toggleBonusDice(participantUuid,diceNumber,{render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));participant.bonusDice>=diceNumber?participant.removeBonusDice():participant.addBonusDice(),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}async cautiousApproach(participantUuid,{useMovementActions=!0,render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));if(participant.hasMaxBonusDice)ui.notifications.error(game.i18n.format("CoC7.ErrorParticipantAtMaxBonus",{participantUuid}));else{if(useMovementActions){if(participant.currentMovementActions<1)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid:participantUuid,actions:participant.currentMovementActions}));participant.alterMovementActions(-1)}participant.addBonusDice(),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}}async alterParticipantMovementAction(participantUuid,count,{render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));participant.alterMovementActions(count),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}async activateNextParticipantTurn({scrollToLocation=!0,activateLocation=!0,render=!0,html=null}={}){const activeParticipant=this.nextActiveParticipant,options={scrollToLocation,activateLocation,render,html};return activeParticipant?this.activateParticipant(activeParticipant.uuid,options):this.activateParticipant(void 0,options)}async activateParticipant(participantUuid,{scrollToLocation=!0,activateLocation=!0,render=!0,html=null}={}){const dataUpdate=this.getActivateParticipantUpdateData(participantUuid,{scrollToLocation,activeLocation:activateLocation,html});await this.update(dataUpdate,{render})}getActivateParticipantUpdateData(participantUuid,{scrollToLocation=!0,activateLocation=!0,html=null}={}){const pUuid=participantUuid,participantsDataUpdate={},participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[];participants.forEach((p=>{delete p.active,pUuid&&pUuid===p.uuid&&(p.active=!0)})),participantsDataUpdate["system.participants"]=participants;const participantLocation=this.getParticipantLocation(pUuid);let locationsDataUpdate=null;return participantLocation?activateLocation?locationsDataUpdate=this.getActivateLocationUpdateData(participantLocation.uuid,{scrollToLocation,html}):scrollToLocation&&(locationsDataUpdate={},locationsDataUpdate["system.scroll.chaseTrack.from"]=this.chaseTrackCurrentScrollPosition,locationsDataUpdate["system.scroll.chaseTrack.to"]=this.getChaseTrackLocationScrollPosition(participantLocation.uuid,{html})):locationsDataUpdate=this.getActivateLocationUpdateData(void 0,{scrollToLocation}),locationsDataUpdate?foundry.utils.mergeObject(participantsDataUpdate,locationsDataUpdate):participantsDataUpdate}activeParticipantObstacleCheck(locationUuid,{moveParticipant=!0}={}){new ChaseObstacleCard({chaseUuid:this.uuid,locationUuid,moveParticipant,forward:locationUuid!==this.activeLocation.uuid}).toMessage()}async progressToNextRound({render=!0}={}){const participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[];participants.forEach((p=>{p.currentMovementActions<p.movementAction&&(p.currentMovementActions+=p.movementAction,p.currentMovementActions>p.movementAction&&(p.currentMovementActions=p.movementAction))})),await this.updateParticipants(participants,{render:!1}),this.activateNextParticipantTurn({render})}async updateRoll(rollString){if(game.user.isGM){const roll=CoC7Check.fromRollString(rollString),participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[],index=participants.findIndex((p=>p.rollUuid===roll.uuid));index>=0&&(participants[index].speedCheck.rollDataString=roll.JSONRollString,await this.update({"system.participants":participants}))}else{const data={data:rollString,type:"invoke",method:"updateRoll",item:this.uuid};game.socket.emit("system.CoC7",data)}}get locations(){const locations=this.started?this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[]:this.initTrack;return this.processLocations(locations),locations}getLocationData(locationUuid,{duplicateData=!0}={}){return(duplicateData?foundry.utils.duplicate(this.locations):this.locations).find((l=>locationUuid===l.uuid))}processLocations(locations){if(locations?.length){locations[0].first=!0;for(let index=0;index<locations.length;index++){const classes=[],location=locations[index];location.name||classes.push("empty"),location.active&&classes.push("active"),location.init&&!this.started&&classes.push("init"),location.cssClasses=classes.join(" ")}locations.length>1&&(locations[locations.length-1].last=!0),locations.forEach((l=>{if(l.participants&&l.participants.length){l.participants=l.participants.filter((p=>!(null===p)));for(let i=0;i<l.participants.length;i++){const elem=l.participants[i];let p;"string"==typeof elem||elem instanceof String?p=this.system.participants.find((p=>elem===p.uuid)):"_participant"===elem?.constructor?.name?(p=void 0,ui.notifications.warn(game.i18n.localize("CoC7.ParticipantAlreadyProcessed"))):p=void 0,void 0!==p?l.participants[i]=new _participant(p):console.error("Undefined paticipant while processing participants array")}l.participants.sort(sortByRoleAndDex)}}))}}get initTrack(){if(!this.system.locations.list||0===this.system.locations.list.length)return;const locations=[],init=this.startingLine;let locationsIndexStart,initIndexStart,locationsLength;if(locationsIndexStart=init.length<=0||this.system.startingIndex>=init.length?0:init.length-this.system.startingIndex,initIndexStart=this.system.startingIndex<=0||this.system.startingIndex<=init.length?0:this.system.startingIndex-init.length,locationsLength=0===locationsIndexStart?this.system.locations.list.length:this.system.locations.list.length+locationsIndexStart,0!==init.length&&this.system.startingIndex<0)for(let index=0;index<Math.abs(this.system.startingIndex);index++)init.push({uuid:this.generateNewUuid(),init:!0,participants:[]});const chaseLocations=foundry.utils.duplicate(this.system.locations);for(let index=0;index<locationsLength;index++){let location={};const participants=[];index>=locationsIndexStart&&index-locationsIndexStart<chaseLocations.list.length&&(location=foundry.utils.duplicate(chaseLocations.list[index-locationsIndexStart]),location.init=!1,location.participants?.forEach((p=>{null!=p&&participants.push(p)}))),index>=initIndexStart&&index-initIndexStart<init.length&&(mergeObject(location,init[index-initIndexStart],{overwrite:!1}),init[index-initIndexStart].participants?.forEach((p=>{null!=p&&participants.push(p)})),location.participants=participants),location.first=!1,location.end=!1,locations.push(location)}return locations}get startingLine(){const preys=this.system.includeEscaped?this.preys:this.preys?.filter((p=>!p.data.escaped)),chasers=this.system.includeLatecomers?this.chasers:this.chasers?.filter((c=>!c.data.excluded)),chaseTrack=[],chasersMinMov=this.findMinMov(chasers),chasersMaxMov=this.findMaxMov(chasers),preysMinMov=this.findMinMov(preys),preysMaxMov=this.findMaxMov(preys);if(-1!==chasersMinMov&&-1!==chasersMaxMov){for(let mov=chasersMinMov;mov<=chasersMaxMov;mov++){const location={uuid:this.generateNewUuid(),init:!0,participants:[]};chasers.filter((p=>mov===p.adjustedMov)).sort(((a,b)=>a.dex-b.dex)).forEach((p=>location.participants.push(p.uuid))),chaseTrack.push(location)}for(let index=0;index<this.system.startingRange;index++)chaseTrack.push({uuid:this.generateNewUuid(),init:!0,participants:[]})}if(-1!==preysMinMov&&-1!==preysMaxMov)for(let mov=preysMinMov;mov<=preysMaxMov;mov++){const location={uuid:this.generateNewUuid(),init:!0,participants:[]};preys.filter((p=>mov===p.adjustedMov)).sort(((a,b)=>a.dex-b.dex)).forEach((p=>location.participants.push(p.uuid))),chaseTrack.push(location)}return chaseTrack}async updateLocationsList(list,{render=!0}={}){const updatedList=this.cleanLocationsList(list);await this.update({"system.locations.list":updatedList},{render})}async updateLocation(locationUuid,updateData,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),update=foundry.utils.duplicate(updateData),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));-1!==locationIndex&&(update.uuid&&delete update.uuid,foundry.utils.mergeObject(locations[locationIndex],update,{overwrite:!0}),await this.updateLocationsList(locations,{render}))}cleanLocationsList(list){const updatedList=foundry.utils.duplicate(list),partipantsUuidArray=this.system.participants.map((p=>p.uuid));return updatedList.forEach((l=>{if(delete l.cssClasses,delete l.first,delete l.last,delete l.end,l.participants&&l.participants.length){for(let i=0;i<l.participants.length;i++)l.participants=l.participants.filter((p=>!(null===p))),l.participants[i].data?.uuid&&(l.participants[i]=l.participants[i].data.uuid);l.participants=l.participants.filter((uuid=>partipantsUuidArray.includes(uuid)))}})),updatedList}async insertLocation(insertAtUuid,{shift=0,locData={},render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list);locations.forEach((l=>{delete l.active}));const locationIndex=locations.findIndex((l=>insertAtUuid===l.uuid));if(-1===locationIndex)return!1;const newLocationIndex=locationIndex+shift;if(newLocationIndex>locations.length)return!1;const newLocation=foundry.utils.duplicate(locData);return newLocation.uuid=this.generateNewUuid(),newLocation.init=locations[locationIndex].init,newLocation.active=!0,locations.splice(newLocationIndex,0,newLocation),await this.updateLocationsList(locations,{render})}async removeLocation(uuid,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>uuid===l.uuid));if(locations.splice(locationIndex,1),locations.forEach((l=>{delete l.active})),locations.length>0){let index=locationIndex-1;index<0&&(index=0),locations[index].active=!0}return await this.updateLocationsList(locations,{render})}async activateLocation(locationUuid,{scrollToLocation=!0,render=!0}={}){const updateData=this.getActivateLocationUpdateData(locationUuid,{scrollToLocation});await this.update(updateData,{render})}getClearActiveLocationUpdateData({scrollToLocation=!0,html=null}={}){const updateData={},locations=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];return locations.forEach((l=>{delete l.active})),updateData["system.locations.list"]=this.cleanLocationsList(locations),scrollToLocation&&(updateData["system.scroll.chaseTrack.from"]=0,updateData["system.scroll.chaseTrack.to"]=-1),updateData}getActivateLocationUpdateData(locationUuid,{scrollToLocation=!0,html=null}={}){if(!locationUuid)return this.getClearActiveLocationUpdateData({scrollToLocation});const updateData={},locations=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];return locations.forEach((l=>{delete l.active,locationUuid===l.uuid&&(l.active=!0)})),updateData["system.locations.list"]=this.cleanLocationsList(locations),scrollToLocation&&(updateData["system.scroll.chaseTrack.from"]=this.chaseTrackCurrentScrollPosition,updateData["system.scroll.chaseTrack.to"]=this.getChaseTrackLocationScrollPosition(locationUuid,{html})),updateData}get activeLocation(){if(!this.locations)return;const location=this.locations.find((l=>l.active));if(!location)return;location.participants?.length&&(location.hasParticipant=!0);const actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}get previousLocation(){if(!this.locations)return;const activeIndex=this.locations.findIndex((l=>l.active));if(-1===activeIndex)return;if(0===activeIndex)return;const location=this.locations[activeIndex-1],actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}get nextLocation(){if(!this.locations)return;const activeIndex=this.locations.findIndex((l=>l.active));if(-1===activeIndex)return;if(activeIndex===this.locations.length-1)return;const location=this.locations[activeIndex+1],actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}async locatorDropped(data){await this.setLocationCoordinates(data.locationUuid,data.x,data.y,data.scene)}async setLocationCoordinates(locationUuid,x,y,sceneId,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));return locations[locationIndex].coordinates={x,y,scene:sceneId},await this.updateLocationsList(locations,{render})}async clearActiveLocationCoordinates({render=!0}={}){if(this.activeLocation)return await this.clearLocationCoordinates(this.activeLocation.uuid,{render})}async clearLocationCoordinates(locationUuid,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));return delete locations[locationIndex].coordinates,await this.updateLocationsList(locations,{render})}async cutToTheChase(){if(this.allHaveSpeedRoll){if(this.actualParticipants?.length<2)ui.notifications.warn(game.i18n.localize("CoC7.NeedMin2Participants"));else if(this.allHaveValidMov){const participants=this.participants,minMov=this.findMinMov(this.actualParticipants);participants.forEach((p=>{p.calculateMovementActions(minMov),p.currentMovementActions=p.movementAction,p.bonusDice=0})),await this.updateParticipants(participants,{render:!1}),await this.updateLocationsList(this.locations,{render:!1}),await this.start()}}else ui.notifications.warn(game.i18n.localize("CoC7.NotAllHaveSpeedRoll"))}async restart(){const locations=this.locations.filter((l=>!l.init));for(let i=0;i<locations.length;i++)locations[i].participants&&(locations[i].participants=[]),locations[i].active&&delete locations[i].active;const participantsData=this.system.participants?foundry.utils.duplicate(this.system.participants):[];for(let i=0;i<participantsData.length;i++)participantsData[i].active&&delete participantsData[i].active;await this.setchaseTrackScroll(0,0,{render:!1}),await this.updateLocationsList(locations,{render:!1}),await this.updateParticipants(participantsData,{render:!1}),await this.stop()}getLocationShift(locationUuid,{skip=1}={}){const locations=foundry.utils.duplicate(this.system.locations.list),destinationIndex=locations.findIndex((l=>locationUuid===l.uuid))+skip;return 0===locations.length?null:destinationIndex>=locations.length?locations[locations.length-1]:destinationIndex<0?locations[0]:locations[destinationIndex]}async removeParticipant(participantUuid,{render=!0}={}){const p=this.getParticipant(participantUuid);await Dialog.confirm({title:game.i18n.localize("CoC7.RemoveParticipant"),content:`<p>${game.i18n.format("CoC7.RemoveParticipantHint",{name:p.name})}</p>`,yes:async()=>{const newParticipantsData=foundry.utils.duplicate(this.system.participants).filter((p=>participantUuid!==p.uuid)),locationsData=foundry.utils.duplicate(this.system.locations.list);locationsData.forEach((l=>{l.participants&&l.participants.length&&(l.participants=l.participants.filter((uuid=>participantUuid!==uuid)))})),await this.updateParticipants(newParticipantsData,{render:!1}),await this.updateLocationsList(locationsData,{render})}})}async addParticipant(participant,{render=!0,locationUuid=null,recalculateMovementActions=!0,update=!1}={}){const participantsData=this.system.participants?foundry.utils.duplicate(this.system.participants):[];if(participant.data.chaseUuid&&delete participant.data.chaseUuid,participant.data.locationUuid&&delete participant.data.locationUuid,participant.data.update&&delete participant.data.update,!participant.uuid){let unique=!1;for(;!unique;)participant.data.uuid=foundry.utils.randomID(16),unique=0===participantsData.filter((p=>p.uuid===participant.uuid)).length}if(update){participant.currentMovementActions>participant.movementAction&&(participant.currentMovementActions=participant.movementAction);const index=participantsData.findIndex((p=>p.uuid===participant.uuid));participantsData[index]=participant.data}else participantsData.push(participant.data);if(await this.updateParticipants(participantsData,{render:render&&!this.started&&!this.recalculateMovementActions}),recalculateMovementActions){const slowest=this.slowestParticipant?.adjustedMov,participants=this.participants;participants.forEach((p=>p.calculateMovementActions(slowest))),await this.updateParticipants(participants,{render:render&&!this.started})}if(this.started&&!participant.data.escaped&&!participant.data.excluded){const locationsData=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];0===locationsData.length&&ui.notifications.error(game.i18n.localize("CoC7.ErrorEmptyLocationsList"));let locationIndex=locationsData.findIndex((l=>locationUuid===l.uuid));-1===locationIndex&&(locationIndex=0),locationsData[locationIndex].participants||(locationsData[locationIndex].participants=[]),-1===locationsData[locationIndex].participants.findIndex((p=>p===participant.uuid))&&locationsData[locationIndex].participants.push(participant.uuid),await this.updateLocationsList(locationsData,{render})}}async editParticipant(participantUuid,{useMovementActions=!0,scrollToLocation=!0,activateLocation=!0,activateParticipant=!0,render=!0}={}){}async moveParticipant(participantUuid,locationMoved,{useMovementActions=!0,scrollToLocation=!0,activateLocation=!0,activateParticipant=!0,render=!0}={}){let modified=!1;const locations=foundry.utils.duplicate(this.system.locations.list),originIndex=locations.findIndex((l=>l.participants?.includes(participantUuid)));let destinationIndex=originIndex+locationMoved;destinationIndex>locations.length-1&&(destinationIndex=locations.length-1),destinationIndex<0&&(destinationIndex=0);const totalMove=destinationIndex-originIndex,participant=this.getParticipant(participantUuid),participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));if(useMovementActions){if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid:this.participantUuid}));if(participant.currentMovementActions<Math.abs(totalMove))return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid:participantUuid,actions:participant.currentMovementActions}));participant.alterMovementActions(0-Math.abs(totalMove)),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render:!1}),modified=!0}return 0!==totalMove&&(await this.moveParticipantToLocation(participantUuid,locations[destinationIndex].uuid,{render:!1}),modified=!0),activateParticipant&&(await this.activateParticipant(participantUuid,{scrollToLocation,activateLocation,render:!1}),modified=!0),activateLocation&&!activateParticipant&&(await this.activateLocation(locations[destinationIndex].uuid,{scrollToLocation,render:!1}),modified=!0),modified&&render&&await this.sheet.render(!0),totalMove}async moveParticipantToLocation(participantUuid,locationUuid,{scrollToLocation=!0,activateLocation=!0,animate=null,moveToken=!0,render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),destination=locations.find((l=>locationUuid===l.uuid));if(!destination)return void console.error(`Failed to move ${participantUuid}. Location ${locationUuid} unknown`);const origin=locations.find((l=>l.participants?.includes(participantUuid)));if(!origin)return void console.error(`Failed to find ${participantUuid} in locations`);if(destination.participants||(destination.participants=[]),destination.participants.includes(participantUuid))return;destination.participants.push(participantUuid);const oldParticipantsList=origin.participants.filter((p=>participantUuid!==p));if(origin.participants=oldParticipantsList,moveToken&&destination.coordinates){const participant=this.getParticipant(participantUuid);let particpantDocument=CoC7Utilities.getDocumentFromKey(participant?.data?.docUuid);if(particpantDocument&&!(particpantDocument instanceof TokenDocument||particpantDocument?.object instanceof Token)){const foundTokens=canvas.scene.tokens.filter((d=>d.actorLink&&d.actor?.id===particpantDocument.id));1===foundTokens.length&&(particpantDocument=foundTokens[0])}if(particpantDocument&&!(particpantDocument instanceof TokenDocument||particpantDocument?.object instanceof Token))console.warn("No token associated with this actor");else if(destination.coordinates.scene!==game.scenes.viewed.uuid&&console.warn("Caution the scene is not the active scene"),particpantDocument.parent?.uuid!==destination.coordinates.scene)ui.notifications.error(game.i18n.localize("CoC7.ErrorTokenNotOnScene"));else{const scene=CoC7Utilities.getDocumentFromKey(destination.coordinates.scene);let x=destination.coordinates.x;const y=destination.coordinates.y;let targetRect=new PIXI.Rectangle(x,y,particpantDocument.object.width,particpantDocument.object.height).normalize();const update=[];let foundFreeSpace=!1;for(;!foundFreeSpace;){const overlapingToken=scene.tokens.find((t=>t.id!==particpantDocument.id&&t.object.bounds.intersects(targetRect)));overlapingToken?(x=overlapingToken.object.bounds.right+1,targetRect=new PIXI.Rectangle(x,y,particpantDocument.object.width,particpantDocument.object.height).normalize()):foundFreeSpace=!0}update.push({_id:particpantDocument.id,x,y});const showTokenMovement="boolean"==typeof animate?animate:this.system.showTokenMovement;await particpantDocument.parent.updateEmbeddedDocuments("Token",update,{animate:showTokenMovement})}}await this.updateLocationsList(locations,{render})}async setchaseTrackScroll({from,to=-1,render=!0}={}){await this.update({"system.scroll.chaseTrack.from":void 0===from?this.chaseTrackCurrentScrollPosition:from,"system.scroll.chaseTrack.to":void 0===to?this.chaseTrackCurrentScrollPosition:to},{render})}get chaseTrackCurrentScrollPosition(){const html=this.sheet?._element;if(!html)return-1;const chaseTrack=html[0].querySelector(".chase-track");return chaseTrack?chaseTrack.scrollLeft:-1}get chaseTrackActiveLocationScrollPosition(){return this.activeLocation?this.getChaseTrackLocationScrollPosition(this.activeLocation.uuid):-1}getChaseTrackLocationScrollPosition(locationUuid,{html=null}){const htmlElement=html||this.sheet?._element;if(!htmlElement||!htmlElement[0])return-1;const chaseTrack=htmlElement[0].querySelector(".chase-track");if(!chaseTrack)return-1;const activeLocationElement=chaseTrack.querySelector(`.chase-location[data-uuid="${locationUuid}"]`);if(!activeLocationElement)return-1;const leftScroll=activeLocationElement.offsetLeft+activeLocationElement.clientWidth/2-chaseTrack.clientWidth/2;return leftScroll<0?0:Math.floor(leftScroll)}findMinMov(list){return list?.length?list.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1}findMaxMov(list){return list?.length?list.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1}findIndex(list,uuid){return list.findIndex((p=>p.uuid===uuid))}get started(){return this.getFlag("CoC7","started")}async start(){const remString=$(":root").css("font-size"),remSize=Number(remString.replace("px","")),pCount=this.actualParticipants.length,width=Math.max((11.2*pCount+3)*remSize,40*remSize);this.sheet._tabs[0].active="setup",this.sheet.position.width=width,await this.setFlag("CoC7","started",!0),await this.activateNextParticipantTurn()}async stop(){return this.unsetFlag("CoC7","started")}generateNewUuid(){return foundry.utils.randomID(16)}getActorSkillsAndCharacteristics(participantUuid){const participant=this.getParticipant(participantUuid);if(!participant.actor)return;const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${game.i18n.localize("CoC7.Characteristics")} (${c.shortName})`))),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.Luck")})`),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.SAN")})`),participant.actor.skills.forEach((s=>list.push(s.name))),list}get activeActorSkillsAndCharacteristics(){const particicpantData=this.activeParticipantData;if(particicpantData)return this.getActorSkillsAndCharacteristics(particicpantData.uuid)}get allSkillsAndCharacteristics(){const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${game.i18n.localize("CoC7.Characteristics")} (${c.shortName})`))),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.Luck")})`),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.SAN")})`),game.CoC7.skillList?.forEach((s=>{list.includes(s.name)||s.name.toLowerCase().includes(`(${game.i18n.localize("CoC7.AnySpecName")})`.toLowerCase())||list.push(s.name)})),this.participants.forEach((p=>{p.actor&&p.actor.skills.forEach((s=>{list.includes(s.name)||list.push(s.name)}))})),list.sort(Intl.Collator().compare)}get allSkillsAndCharacteristicsShort(){const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${c.label}`))),list.push(`${game.i18n.localize("CoC7.Luck")}`),list.push(`${game.i18n.localize("CoC7.SAN")}`),game.CoC7.skillList?.forEach((s=>{list.includes(s.name)||s.name.toLowerCase().includes(`(${game.i18n.localize("CoC7.AnySpecName")})`.toLowerCase())||list.push(s.name)})),this.participants.forEach((p=>{p.actor&&p.actor.skills.forEach((s=>{list.includes(s.name)||list.push(s.name)}))})),list.sort(Intl.Collator().compare)}}class CoC7Skill extends CoC7Item{constructor(data,context){if(void 0===data.system?.skillName){const skill=CoC7Skill.guessNameParts(data.name),{name,skillName,specialization,...newProperties}=skill;data.name=name,data.system||={};const properties={...data.system.properties,...newProperties};data.system={...data.system,skillName,specialization,properties}}super(data,context)}static guessNameParts(skillName){const output={combat:!1,fighting:!1,firearm:!1,name:skillName,skillName,special:!1,specialization:""},match=skillName.match(/^(.+)\s*\(([^)]+)\)$/);if(match){output.skillName=match[2].trim(),output.special=!0;const specialization=match[1].trim();output.specialization=specialization,output.name=specialization+" ("+output.skillName+")",output.fighting=specialization===game.i18n.localize("CoC7.FightingSpecializationName"),output.firearm=specialization===game.i18n.localize("CoC7.FirearmSpecializationName"),output.combat=output.fighting||output.firearm}return output}get hasActiveEffects(){return this.activeEffects.length>0}get activeEffects(){if(this.parent&&this.parent.effects){const effectKeyFull=`skill.${this.name}`.toLowerCase(),effectKeyShort=`skill.${this.system.skillName}`.toLowerCase();let changes=this.parent.effects.reduce(((changes,e)=>e.disabled||e.isSuppressed?changes:changes.concat(e.data.changes.map((c=>((c=foundry.utils.duplicate(c)).effect=e,c.priority=c.priority??10*c.mode,c))))),[]);return changes.sort(((a,b)=>a.priority-b.priority)),changes=changes.filter((e=>e.key.toLowerCase()===effectKeyShort||e.key.toLowerCase()===effectKeyFull)),changes}return[]}get itemIdentifier(){return this.name}get rawValue(){let value=0;return"character"===this.actor.type?(value=this.base,value+=this.system.adjustments?.personal?parseInt(this.system.adjustments?.personal):0,value+=this.system.adjustments?.occupation?parseInt(this.system.adjustments?.occupation):0,value+=this.system.adjustments?.experience?parseInt(this.system.adjustments?.experience):0,game.settings.get("CoC7","pulpRuleArchetype")&&this.system.adjustments?.archetype&&(value+=parseInt(this.system.adjustments?.archetype))):value=parseInt(this.system.value),isNaN(value)?null:value}get value(){const value=this.parent?.system.skills?.[`${this.itemIdentifier}`]?.value;return value||this.rawValue}async updateValue(value){if("character"===this.actor.type){const delta=parseInt(value)-this.rawValue,exp=(this.system.adjustments?.experience?parseInt(this.system.adjustments.experience):0)+delta;await this.update({"system.adjustments.experience":exp>0?exp:0})}else await this.update({"system.value":value})}async increaseExperience(x){if("skill"!==this.type)return null;if("character"===this.actor.type){const exp=(this.system.adjustments?.experience?parseInt(this.system.adjustments.experience):0)+parseInt(x);await this.update({"system.adjustments.experience":exp>0?exp:0})}}}class CoC7Vehicle extends CoCActor{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/jeep.svg"),super(data,context)}get rawBuild(){return this.build}get build(){const build=parseInt(this.system.attribs.build.value);return isNaN(build)?null:build}get hp(){if(null===this.system.attribs.build.current||void 0===this.system.attribs.build.current||""===this.system.attribs.build.current)return this.build;if(this.system.attribs.build.current>this.system.attribs.build.value)return this.build;const hp=parseInt(this.system.attribs.build.current);return isNaN(hp)?null:hp}get hpMax(){return this.build}get rawHpMax(){return this.build}async setHp(value){return value>this.build&&(value=this.build),await this.update({"system.attribs.build.current":value})}get rawDb(){return this.db}get db(){const db=parseInt(this.system.attribs.db?.value);return isNaN(db)?null:db}get rawMov(){return this.mov}get mov(){const mov=parseInt(this.system.attribs.mov?.value);return isNaN(mov)?null:mov}get mpMax(){return parseInt(this.system.attribs?.mp?.max)||0}get rawMpMax(){return this.mpMax}get sanMax(){return null}get rawSanMax(){return null}}class CoC7DecaderDie extends DiceTerm{constructor(termData){super(termData),this.faces=10}get total(){const total=super.total;return 10===total?0:10*total}static get DENOMINATION(){return"t"}}class CoC7DecaderDieOther extends CoC7DecaderDie{static get DENOMINATION(){return"o"}}const SETTINGS={pulpRules:{name:"",hint:"",scope:"world",config:!1,default:!1,type:Boolean},initiativeRule:{name:"SETTINGS.InitiativeRule",hint:"SETTINGS.InitiativeRuleHint",scope:"world",config:!1,default:"basic",type:String,choices:{basic:"SETTINGS.InitiativeRuleBasic",optional:"SETTINGS.InitiativeRuleOptional"},onChange:rule=>_setInitiativeOptions(rule)},developmentRollForLuck:{name:"SETTINGS.developmentRollForLuck",hint:"SETTINGS.developmentRollForLuckHint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleDoubleMaxHealth:{name:"CoC7.Settings.PulpRules.DoubleMaxHealth.Name",hint:"CoC7.Settings.PulpRules.DoubleMaxHealth.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleDevelopmentRollLuck:{name:"CoC7.Settings.PulpRules.DevelopmentRollLuck.Name",hint:"CoC7.Settings.PulpRules.DevelopmentRollLuck.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleArchetype:{name:"CoC7.Settings.PulpRules.Archetype.Name",hint:"CoC7.Settings.PulpRules.Archetype.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleOrganization:{name:"CoC7.Settings.PulpRules.Organization.Name",hint:"CoC7.Settings.PulpRules.Organization.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleTalents:{name:"CoC7.Settings.PulpRules.Talents.Name",hint:"CoC7.Settings.PulpRules.Talents.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleFasterRecovery:{name:"CoC7.Settings.PulpRules.FasterRecovery.Name",hint:"CoC7.Settings.PulpRules.FasterRecovery.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleIgnoreMajorWounds:{name:"CoC7.Settings.PulpRules.IgnoreMajorWounds.Name",hint:"CoC7.Settings.PulpRules.IgnoreMajorWounds.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleIgnoreAgePenalties:{name:"CoC7.Settings.PulpRules.IgnoreAgePenalties.Name",hint:"CoC7.Settings.PulpRules.IgnoreAgePenalties.Hint",scope:"world",config:!1,default:!1,type:Boolean},opposedRollTieBreaker:{name:"SETTINGS.OpposedRollTieBreaker",hint:"SETTINGS.OpposedRollTieBreakerHint",scope:"world",config:!1,default:!1,type:Boolean}};function _setInitiativeOptions(rule){let decimals=0;switch(rule){case"optional":decimals=2;break;case"basic":decimals=0}CONFIG.Combat.initiative={formula:null,decimals}}class CoC7GameRuleSettings extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{title:"SETTINGS.TitleRules",id:"rules-settings",template:"systems/CoC7/templates/system/rule-settings.html",width:550,height:"auto",closeOnSubmit:!0})}getData(){const options={},pulpRules={true:!1,false:!1};for(const[k,v]of Object.entries(SETTINGS))options[k]={value:game.settings.get("CoC7",k),setting:v},k.match(/^pulpRule.{2,}$/)&&(pulpRules[options[k].value]=!0);return options.pulpSelection=pulpRules.true?pulpRules.false?"some":"all":"none",options}static registerSettings(){for(const[k,v]of Object.entries(SETTINGS))game.settings.register("CoC7",k,v);_setInitiativeOptions(game.settings.get("CoC7","initiativeRule"))}activateListeners(html){super.activateListeners(html),html.find("#pulpRulesSelect").on("change",(event=>this.onChangePulpSelect(event))),html.find("input.pulpRulesSelect[type=checkbox]").on("click",(event=>this.onClickPulp(event))),html.find("button[name=reset]").on("click",(event=>this.onResetDefaults(event)))}onChangePulpSelect(event){const val=$(event.currentTarget).val();"none"!==val&&"all"!==val||$("#rules-settings").find("input.pulpRulesSelect[type=checkbox]").each((function(){const checkbox=$(this);"none"===val?checkbox.prop("checked",!1):checkbox.prop("checked",!0)}))}onClickPulp(event){const pulpRules={true:!1,false:!1};$("#rules-settings").find("input.pulpRulesSelect[type=checkbox]").each((function(){$(this).prop("checked")?pulpRules.true=!0:pulpRules.false=!0})),$("#pulpRulesSelect").val(pulpRules.true?pulpRules.false?"some":"all":"none")}async onResetDefaults(event){event.preventDefault();for await(const[k,v]of Object.entries(SETTINGS))await game.settings.set("CoC7",k,v?.default);return this.render()}async _updateObject(event,data){const pulpRules={true:!1,false:!1};for await(const key of Object.keys(SETTINGS))game.settings.set("CoC7",key,data[key]),key.match(/^pulpRule.{2,}$/)&&(pulpRules[data[key]]=!0);game.settings.set("CoC7","pulpRules",pulpRules.true&&!pulpRules.false)}}class CoC7ArchetypeSheet extends ItemSheet{activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"skills"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"skills"))))}async _onDrop(event,type="skill",collectionName="skills"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];for(const item of dataList)item&&item.system&&[type].includes(item.type)&&(!CoC7Item.isAnySpec(item)&&collection.find((el=>el.name===item.name))||(0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))));await this.item.update({[`system.${collectionName}`]:collection})}_onItemSummary(event,collectionName="items"){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.item.system[collectionName].find((s=>s._id===li.data("item-id")));if(!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","occupation"],template:"systems/CoC7/templates/items/archetype.html",width:520,height:480,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded;const coreCharacteristics=[];for(const[key,selected]of Object.entries(sheetData.data.system.coreCharacteristics))if(selected){const characName=game.i18n.localize(`CHARAC.${key.toUpperCase()}`);coreCharacteristics.push(characName)}sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedSuggestedOccupations=TextEditor.enrichHTML(sheetData.data.system.suggestedOccupations,{async:!1,secrets:sheetData.editable}),sheetData.enrichedSuggestedTraits=TextEditor.enrichHTML(sheetData.data.system.suggestedTraits,{async:!1,secrets:sheetData.editable}),sheetData.data.system.skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.skills}),sheetData.skillListEmpty=0===sheetData.data.system.skills.length,sheetData.data.system.skills.sort(CoC7Utilities.sortByNameKey),sheetData.coreCharacteristicsString="";const orString=` ${game.i18n.localize("CoC7.Or")} `;return coreCharacteristics.length&&(sheetData.coreCharacteristicsString+=coreCharacteristics.join(orString)),sheetData.itemProperties=[],sheetData.itemProperties.push(`${game.i18n.localize("CoC7.PulpTalents")}: ${sheetData.data.system.talents}`),sheetData.itemProperties.push(`${game.i18n.localize("CoC7.BonusPoints")}: ${sheetData.data.system.bonusPoints}`),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7BookSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/items/book/main.html",classes:["coc7","item","book"],width:500,height:"auto",resizable:!1,dragDrop:[{dragSelector:".spells",dropSelector:null}],scrollY:[".body"],tabs:[{navSelector:".navigation",contentSelector:".body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();return sheetData.initialReading=this.item.system.initialReading,sheetData.isKeeper=game.user.isGM,sheetData.isOwner=this.item.isOwner,sheetData.spellsLearned=this.spellsLearned,sheetData.exhausted=!1!==await this.item.checkExhaustion(),sheetData.studyCompleted=this.item.system.study.progress===this.item.system.study.necessary,sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.spellListEmpty=0===this.item.system.spells.length,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedContent=TextEditor.enrichHTML(sheetData.data.system.content,{async:!1,secrets:sheetData.editable}),sheetData}get spellsLearned(){let amount=0;const spells=this.item.system.spells;for(const spell of spells)spell.system.learned&&amount++;return`${amount} / ${spells.length}`}activateListeners(html){super.activateListeners(html),html.find("#attempt-initial-reading").click((event=>{event.preventDefault(),this.item.attemptInitialReading()})),html.find(".delete-spell").click((event=>this._onDelete(event))),html.find(".edit-spell").click((event=>this._onSpellDetail(event))),html.find(".spell-name").click((event=>this._onSpellDetail(event))),html.find(".teach-spell").click((event=>{const id=$(event.currentTarget).parents("li").data("id");this.item.attemptSpellLearning(id)})),html.find('[name="system.study.necessary"]').change((event=>{const value=parseInt(event.currentTarget.value);this.item.changeProgress("reset",value)})),html.find("#increase-progress").click((()=>{this.item.changeProgress("increase")})),html.find("#decrease-progress").click((()=>{this.item.changeProgress("decrease")})),html.find(".add-other-gains").click((event=>{this.modifyOthersGains(event,"add")})),html.find(".change-other-gains").change((event=>{this.modifyOthersGains(event,"change")})),html.find("#redo-full-study").click((()=>{this.item.redoFullStudy()})),html.find(".remove-other-gains").click((event=>{this.modifyOthersGains(event,"remove")})),html.find(".option").click((event=>this.modifyType(event)))}async _onSpellDetail(event){event.preventDefault();const index=$(event.currentTarget).parents("li").data("index");return await this.item.spellDetail(index)}async _onDelete(event){if(!game.user.isGM)return;event.preventDefault();const index=$(event.currentTarget).parents("li").data("index"),spells=this.item.system.spells?duplicate(this.item.system.spells):[];return index>=0&&spells.splice(index,1),await this.item.update({"system.spells":spells})}async _onDrop(event,type="spell"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item"),spells=[];for(const item of dataList)item&&["skill","spell"].includes(item.type)&&("spell"===item.type?spells.push(item):"skill"===item.type&&this.item.system.type.other&&this.modifyOthersGains(null,"add",{name:item.name}));await this.item.addSpells(spells)}modifyType(event){event.preventDefault(),event.stopPropagation();return $(event.currentTarget).prev().trigger("click")}async modifyOthersGains(event,mode,options={}){let index=null,element=null;event&&(event.preventDefault(),element=$(event.currentTarget),index=element.parents("tr").data("index"));const skills=this.item.system.gains.others?duplicate(this.item.system.gains.others):[];switch(mode){case"add":skills.push({name:options.name||game.i18n.localize("CoC7.NewSkillName"),value:"development"});break;case"change":skills[index]={name:element.is("input")?element.val():skills[index].name,value:element.is("select")?element.val():skills[index].value};break;case"remove":index>=0&&skills.splice(index,1)}return await this.item.update({"system.gains.others":skills})}}class CoC7ContainerSheet extends ActorSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","storage"],template:"systems/CoC7/templates/actors/storage-sheet.html",width:672,height:765,dragDrop:[{dragSelector:".item",dropSelector:null}],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"items"}]})}async _onDrop(event){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");if(!this.options.editable)return;const items=this.actor.items.toObject()||[];for(const item of dataList)item&&item.system&&["book","item","spell","weapon"].includes(item.type)&&items.push(item.toObject());await this.actor.update({items})}onCloseSheet(){}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=await super.getData();if(sheetData.isKeeper=game.user.isGM,sheetData.editable=this.isEditable,sheetData.itemsByType={},sheetData.items){for(const item of sheetData.items)Object.prototype.hasOwnProperty.call(sheetData.itemsByType,item.type)||(sheetData.itemsByType[item.type]=[]),sheetData.itemsByType[item.type].push(item);for(const itemType in sheetData.itemsByType)sheetData.itemsByType[itemType].sort(CoC7Utilities.sortByNameKey)}return sheetData.allowUnlock="always"===game.settings.get("CoC7","playerUnlockSheetMode")||game.user.isGM,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryWeapons=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"weapon")||!sheetData.data.system.flags.locked,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryWeapons,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".item-edit").click((ev=>{const li=$(ev.currentTarget).parents(".item");this.actor.items.get(li.data("itemId")).sheet.render(!0)})),html.find(".inventory-header").click(this._onInventoryHeader.bind(this)),html.find(".item-trade").click(this._onTradeItem.bind(this)),html.find(".show-detail").click(this._onItemSummary.bind(this)),html.find(".item-delete").click((async ev=>{const li=$(ev.currentTarget).parents(".item"),itemToDelete=this.actor.items.get(li.data("itemId"),{strict:!0});await itemToDelete.delete(),li.slideUp(200,(()=>this.render(!1)))})),html.find(".add-item").click((ev=>{switch(ev.currentTarget.dataset.type){case"book":this.actor.createEmptyBook(ev);break;case"item":this.actor.createEmptyItem(ev);break;case"skill":this.actor.createEmptySkill(ev);break;case"spell":this.actor.createEmptySpell(ev);break;case"weapon":this.actor.createEmptyWeapon(ev)}})),html.find(".lock").click(this._onLockClicked.bind(this))}async _onLockClicked(event){event.preventDefault();const isLocked=this.actor.locked;this.actor.locked=!isLocked}async _onTradeItem(event){const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("itemId"));let content="<p>"+game.i18n.localize("CoC7.MessageSelectUserToGiveTo");const message={actorFrom:this.actor.id,scene:null,actorTo:this.actor.id,item:item.id};this.token?.actor&&(message.actorFrom=this.token.id,message.scene=this.token.parent.id);const actors=game.actors.filter((e=>{if(!["character","npc","creature","container"].includes(e.type))return!1;if(this.actor.id===e.id)return!1;let visible=!1;for(const[k,v]of Object.entries(e.ownership))"default"!==k&&k!==game.user.id||(visible=visible||v!==CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE);return visible}));content+='<form id="selectform"><select name="user">';for(const actor of actors)content=content+'<option value="'+actor.id+'">'+actor.name+"</option>";content+="</select></form></p>",await Dialog.prompt({title:game.i18n.localize("CoC7.MessageTitleSelectUserToGiveTo"),content,callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)"user"===name&&(message.actorTo=value)}}),await game.CoC7socket.executeAsGM("gmtradeitemto",message)}_onItemSummary(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id")),chatData=item.getChatData({secrets:this.actor.isOwner});if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$('<div class="item-summary"></div>'),labels=$('<div class="item-labels"></div>');for(const p of chatData.labels)labels.append(`<div class="item-label"><span class="label-name">${p.name} :</span><span class="label-value">${p.value}</span></div>`);if(div.append(labels),div.append($(`<div class="item-description">${chatData.description.value}</div>`)),item.system.properties?.spcl){const specialDiv=$(`<div class="item-special">${chatData.description.special}</div>`);div.append(specialDiv)}const props=$('<div class="item-properties"></div>');for(const p of chatData.properties)props.append(`<div class="tag item-property">${game.i18n.localize(p)}</div>`);div.append(props),li.append(div.hide()),CoC7Link.bindEventsHandler(div),div.slideDown(200)}li.toggleClass("expanded")}_onInventoryHeader(event){event.preventDefault(),$(event.currentTarget).siblings("li").slideToggle(200)}}class CoC7ChaseParticipantImporter extends FormApplication{static get defaultOptions(){return foundry.utils.mergeObject(super.defaultOptions,{title:game.i18n.localize("CoC7.AddActorToChase"),template:"systems/CoC7/templates/apps/chase-participant-importer.html",classes:["coc7","dialog","chase-participant-importer"],editable:!0,resizable:!1,submitOnChange:!0,closeOnSubmit:!1,width:300,height:"auto"})}activateListeners(html){super.activateListeners(html);new DragDrop({dropSelector:".form-container",permissions:{drop:game.user.isGM},callbacks:{drop:this._onDropParticipant.bind(this)}}).bind(html[0]);new DragDrop({dragSelector:".chase-token",permissions:{dragstart:game.user.isGM},callbacks:{dragstart:this._onTokenSelectorDragStart.bind(this)}}).bind(html[0]),html.find(".reset-participant").click((async()=>{this.object={},this._actor=null,await this.render(!0)})),html.find(".food-chain").click((async()=>{this.object.chaser=!this.object.chaser,await this.render(!0)})),html.find("[data-action]").click(this._onAction.bind(this))}async _onTokenSelectorDragStart(event){const data={type:"getToken",appId:this.appId,callBack:"addTokenToChase"};event.dataTransfer.setData("text/plain",JSON.stringify(data))}async getData(){if(!this.object.initiative){const init=CoCActor.getCharacteristicDefinition().find((c=>"dex"===c.key));this.object.initiative=init.label}if(!this.object.speedCheck){const speedCheck=CoCActor.getCharacteristicDefinition().find((c=>"con"===c.key));this.object.speedCheck={name:speedCheck.label}}this.validateParticipant();const data=await super.getData();if(data.participant=new _participant(this.object),data.object.speedCheck.name&&this.actor){const speedCheck=this.actor.find(data.object.speedCheck.name);speedCheck?(data.object.speedCheck.score=speedCheck.value.value,data.speedCheckReadOnly=!0):data.participant.speedCheck.score&&!this.object.speedCheck?.score&&(data.object.speedCheck.score=data.participant.speedCheck.score)}if(data.object.initiative&&this.actor){const initiative=this.actor.find(data.object.initiative);initiative?(data.object.dex=initiative.value.value,data.initReadOnly=!0):data.object.dex=data.participant.initiative}return data.actor=this.actor,data.chase=this.chase,data.data=this.data,data.optionsList={},this.chase&&(data.skillsAndCharacteristicsList=this.chase.allSkillsAndCharacteristicsShort),this.actor&&(data.skillsAndCharacteristicsList=[],CoCActor.getCharacteristicDefinition().forEach((c=>data.skillsAndCharacteristicsList.push(`${c.label}`))),data.skillsAndCharacteristicsList.push(`${game.i18n.localize("CoC7.Luck")}`),data.skillsAndCharacteristicsList.push(`${game.i18n.localize("CoC7.SAN")}`),this.actor.skills.forEach((s=>data.skillsAndCharacteristicsList.push(s.name)))),data}get chase(){return this._chase||(this._chase=CoC7Utilities.SfromUuid(this.object.chaseUuid)),this._chase}get actor(){return this.object.docUuid?(this._actor||(this._actor=CoC7Utilities.getActorFromKey(this.object.docUuid)),this._actor):null}async _updateObject(event,formData){foundry.utils.mergeObject(this,formData),await this.render(!0)}async _onDropParticipant(event){const dropString=event.dataTransfer.getData("text/plain"),dropData=JSON.parse(dropString),docUuid=CoC7Utilities.getActorDocumentFromDropData(dropData);this.object.docUuid=docUuid,this.object.chaser=0===this.actor?.owners?.filter((u=>!u.isGM)).length,this.object.speedCheck.rollDataString&&delete this.object.speedCheck.rollDataString,await this.render(!0)}async addTokenToChase(tokens){1===tokens.length?(this.object.docUuid=tokens[0].document?.uuid,this.object.chaser=0===this.actor?.owners?.filter((u=>!u.isGM)).length,this.object.speedCheck.rollDataString&&delete this.object.speedCheck.rollDataString,await this.render(!0)):ui.notifications.warn(game.i18n.localize("CoC7.ErrorTokenIncorrect"))}async _onAction(event){event.preventDefault();switch(event.currentTarget.dataset.action){case"chase-cancel":this.close();break;case"chase-add":{const participant=new _participant(this.object);if(this.chase.started){if(!(participant.movementAction&&participant.movementAction>0))return void ui.notifications.warn(game.i18n.localize("CoC7.DoesNotMeetMinimumReqToBeAdded"));if(this.data.overrideMovementAction){const slowest=this.chase.slowestParticipant;isNaN(participant.adjustedMov)&&(participant.mov=slowest.adjustedMov),this.data.recalculationNeeded=!1}}await this.chase.addParticipant(participant,{locationUuid:this.object.locationUuid,recalculateMovementActions:this.data.recalculationNeeded,update:this.object.update}),this.close()}break;case"roll-speed-check":{const participant=new _participant(this.object);if(participant.speedCheck.refSet){const roll=new CoC7Check;participant.data.rolled=!0,roll.actor=participant.actor.actorKey,participant.speedCheck.isCharacteristic?(await roll.rollCharacteristic(participant.speedCheck.ref.key),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isSkill?(roll.skill=participant.speedCheck.ref,await roll.roll(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isAttribute&&(await roll.rollAttribute(participant.speedCheck.ref.key),participant.data.speedCheck.rollDataString=roll.JSONRollString)}else if(participant.speedCheck.score){const rollData={rawValue:participant.speedCheck.score,displayName:participant.speedCheck.name,actorName:participant.name?participant.name:void 0};participant.hasActor&&(rollData.actor=participant.actor.actorKey);const roll=CoC7Check.create(rollData);await roll.roll(),participant.data.speedCheck.rollDataString=roll.JSONRollString,participant.data.rolled=!0}foundry.utils.mergeObject(this.object,participant.data),this.render(!0)}}}validateParticipant(){const participant=new _participant(this.object);if(this.data||(this.data={}),this.object.excluded=!1,this.object.escaped=!1,this.data.recalculationNeeded=!1,this.data.participantExcluded=!1,this.data.movementActionDelta=0,!this.data.overrideMovementAction){const slowestPrey=this.chase.slowestPrey,fastestChaser=this.chase.fastestChaser,slowest=this.chase.slowestParticipant;participant.adjustedMov<slowest?.adjustedMov?(this.data.recalculationNeeded=!0,participant.movementAction=1):(this.data.recalculationNeeded=!1,participant.calculateMovementActions(slowest?.adjustedMov)),participant.isChaser&&slowestPrey&&!this.chase.system.includeLastCommers&&participant.adjustedMov<slowestPrey.adjustedMov&&(this.object.excluded=!0,this.data.participantExcluded=!0,this.data.excludedBecause=game.i18n.localize("CoC7.TooSlow"),this.data.recalculationNeeded=!1),participant.isPrey&&fastestChaser&&!this.chase.system.includeEscaped&&participant.adjustedMov>fastestChaser.adjustedMov&&(this.object.escaped=!0,this.data.participantExcluded=!0,this.data.excludedBecause=game.i18n.localize("CoC7.TooFast"),this.data.recalculationNeeded=!1)}}static async create(data){if(data.dropData){const docUuid=CoC7Utilities.getActorDocumentFromDropData(data.dropData);docUuid&&(data.docUuid=docUuid),delete data.dropData}return new CoC7ChaseParticipantImporter(data).render(!0)}}class CoC7ChaseSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","item","chase"],template:"systems/CoC7/templates/items/chase.html",width:550,height:500,resizable:!0,tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"participants"}]})}static get type(){return"coc7ChaseSheet"}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(options={}){const sheetData=super.getData(options);return sheetData.participants=this.item.participantsObject,sheetData.participantsByInitiative=this.item.participantsByInitiative,sheetData.preys=this.item.preys,sheetData.chasers=this.item.chasers,sheetData.preysMinMov=sheetData.preys.length?sheetData.preys.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.preysMaxMov=sheetData.preys.length?sheetData.preys.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasersMinMov=sheetData.chasers.length?sheetData.chasers.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasersMaxMov=sheetData.chasers.length?sheetData.chasers.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasers.forEach((p=>{p.adjustedMov<sheetData.preysMinMov?p.tooSlow():p.includeInChase(),p.fastest=p.adjustedMov===sheetData.chasersMaxMov,p.slowest=p.adjustedMov===sheetData.chasersMinMov})),sheetData.preys.forEach((p=>{p.adjustedMov>sheetData.chasersMaxMov?p.escaped():p.includeInChase(),p.fastest=p.adjustedMov===sheetData.preysMaxMov,p.slowest=p.adjustedMov===sheetData.preysMinMov})),sheetData.locations=this.item.locations,sheetData.allHaveValidMov=this.allHaveValidMov,sheetData.activeLocation=this.item.activeLocation,sheetData.activeLocation&&(sheetData.activeLocation.title=sheetData.activeLocation.coordinates?game.i18n.format("CoC7.LocationCoordinate",{x:sheetData.activeLocation.coordinates.x,y:sheetData.activeLocation.coordinates.y}):game.i18n.localize("CoC7.DragOnCanvas")),sheetData.previousLocation=this.item.previousLocation,sheetData.nextLocation=this.item.nextLocation,sheetData.started=this.item.started,sheetData.isKeeper=game.user.isGM,sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".dropdown-element").on("click",(event=>this._onDropDownElementSelected(event))),html.find(".dropbtn").click((event=>{event.preventDefault(),event.stopPropagation();event.currentTarget.closest(".dropdown").querySelector(".dropdown-content").classList.toggle("show")})),html.find(".dropdown").mouseleave((event=>event.currentTarget.querySelector(".dropdown-content").classList.remove("show"))),html.on("dblclick",".open-actor",CoC7Chat._onOpenActor.bind(this)),html.find(".pin-location").contextmenu(this.clearActiveLocationCoordinates.bind(this)),html.find(".participant").on("dragenter",(event=>this._onDragEnterParticipant(event))),html.find(".participant").on("dragover",(event=>this._onDragEnterParticipant(event))),html.find(".participant").on("dragleave",(event=>this._onDragLeaveParticipant(event))),html.find(".participant").on("drop",(event=>this._onDragLeaveParticipant(event))),html.find(".p-side").click(this._onChangeSide.bind(this)),html.find(".delete-participant").click(this._onDeleteParticipant.bind(this)),html.find(".reset-roll").click(this._onResetRoll.bind(this)),html.find(".delete-driver").click(this._onDeleteDriver.bind(this)),html.find(".new-participant").on("dragenter",(event=>this._onDragEnterParticipant(event))),html.find(".new-participant").on("dragover",(event=>this._onDragEnterParticipant(event))),html.find(".new-participant").on("dragleave",(event=>this._onDragLeaveParticipant(event))),html.find(".new-participant").on("drop",(event=>this._onDragLeaveParticipant(event))),html.find(".add-sign").click(this._onAddParticipant.bind(this)),html.find(".roll-participant").click(this._onRollParticipant.bind(this)),html.find(".button").click(this._onButtonClick.bind(this)),html.find(".name-container").click(this._onLocationClick.bind(this)),html.find(".obstacle-type").click(this._onObstacleTypeClick.bind(this)),html.find(".toggle").click(this._onToggle.bind(this)),html.find(".participant-control").click(this._onParticipantControlClicked.bind(this)),html.find(".chase-control").click(this._onChaseControlClicked.bind(this)),html.find(".location-control").click(this._onLocationControlClick.bind(this));new DragDrop({dragSelector:".pin-location",permissions:{dragstart:this._canPinLocationDragStart.bind(this)},callbacks:{dragstart:this._onPinLocationDragStart.bind(this)}}).bind(html[0]);new DragDrop({dropSelector:".participant",callbacks:{drop:this._onDropParticipant.bind(this)}}).bind(html[0]);if(new DragDrop({dropSelector:".new-participant",callbacks:{drop:this._onAddParticipant.bind(this)}}).bind(html[0]),this.item.started){html.find(".chase-location .chase-participant").click(this._onChaseParticipantClick.bind(this));new DragDrop({dragSelector:".chase-participant",dropSelector:".chase-location",permissions:{dragstart:this._canChaseParticipantDragStart.bind(this),drop:this._canChaseParticipantDragDrop.bind(this)},callbacks:{dragstart:this._onChaseParticipantDragStart.bind(this),drop:this._onChaseParticipantDragDrop.bind(this),dragover:this._onDragEnter.bind(this)}}).bind(html[0]),html.find(".chase-location").on("dragleave",(event=>this._onDragLeave(event)))}}_getSubmitData(updateData={}){let data=new FormDataExtended(this.form,{editors:this.editors}).object;if(data=updateData?mergeObject(data,updateData):expandObject(data),this.item.system.locations?.list?.length&&data.system.startingIndex>this.item.system.locations.list.length&&(data.system.startingIndex=this.item.system.locations.list.length),data.system.participants){const participants=duplicate(this.item.system.participants);for(const[k,v]of Object.entries(data.system.participants)){const index=participants.findIndex((p=>p.uuid===k));if(-1===index)ui.notifications.error("Participant table corrupted");else{const original=participants[index],cleaned=clean(v);mergeObject(original,cleaned),participants[index]=original}}data.system.participants=participants}if(data.locations){const locations=duplicate(this.item.system.locations.list);for(const[key,value]of Object.entries(data.locations)){const locationIndex=locations.findIndex((l=>l.uuid===key));if(-1===locationIndex)ui.notifications.error("Locations table corrupted");else{const originalLocation=locations[locationIndex],cleaned=clean(value);mergeObject(originalLocation,cleaned),locations[locationIndex]=originalLocation}}delete data.locations,data.system.locations={list:locations}}return flattenObject(data)}async _updateObject(event,formData){const target=event.currentTarget,override="true"===target?.dataset?.override;if(target?.name?.includes(".hp")){const[,,uuid]=target.name.split("."),participant=this.item.getParticipant(uuid);participant&&participant.actor&&(isNaN(Number(target.value))||await participant.actor.setHp(Number(target.value)))}if(override){const[,type,uuid,subType,data]=target.name.split("."),index=this.findParticipantIndex(uuid);if("participants"===type&&!isNaN(index)&&"speed-check"===subType&&"name"===data){const participants=this.item.system.participants?duplicate(this.item.system.participants):[];return participants[index].speedCheck?(delete participants[index].speedCheck.id,delete participants[index].speedCheck.type):participants[index].speedCheck={},participants[index].speedCheck.name=target.value,void await this.item.update({"system.participants":participants})}}super._updateObject(event,formData)}static async setScroll(app,html,data){if(!data.editable)return;const initialOpening=html[0].classList.contains("window-app"),chaseTrack=html[0].querySelector(".chase-track");if(!chaseTrack)return;let start=data.data.scroll?.chaseTrack.from,end=data.data.scroll?.chaseTrack.to;if(void 0===start&&(start=0),void 0===end&&(end=-1),initialOpening){const remString=$(":root").css("font-size"),remSize=Number(remString.replace("px",""));if(app.item.started){const pCount=app.item.actualParticipants?.length,width=(11.2*pCount+3)*remSize;app.activateTab("setup"),app.position.width=Math.max(width,40*remSize)}else app.position.width=45*remSize;return await app.item.activateNextParticipantTurn({html})}start&&-1!==start&&chaseTrack.scrollTo({top:0,left:start,behavior:"instant"}),-1!==end&&chaseTrack.scrollTo({top:0,left:end,behavior:"smooth"})}static onClose(app,html){app.item.update({"system.trackScrollPosition":-1})}findParticipantIndex(uuid){return this.item.system.participants.findIndex((p=>p.uuid===uuid))}findLocationIndex(uuid){return this.item.system.locations.list.findIndex((p=>p.uuid===uuid))}findLocation(uuid){return this.item.system.locations.list.find((p=>p.uuid===uuid))}findIndex(list,uuid){return list.findIndex((p=>p.uuid===uuid))}async _onDropDownElementSelected(event){event.preventDefault(),event.stopPropagation();const target=event.currentTarget;target.closest(".dropdown-content")?.classList.toggle("show");const assistantUuid=target.closest(".initiative-block")?.dataset?.uuid,beneficiaryUuid=target.dataset.beneficiaryUuid;await this.item.assistParticipant(assistantUuid,beneficiaryUuid)}async _onToggle(event){const target=event.currentTarget,toggle=target.getAttribute("toggle"),data=expandObject({[toggle]:!target.classList.contains("switched-on")});if(data.locations){const locations=duplicate(this.item.system.locations.list);for(const[key,value]of Object.entries(data.locations)){const locationIndex=locations.findIndex((l=>l.uuid===key));if(-1===locationIndex)ui.notifications.error("Locations table corrupted");else{const originalLocation=locations[locationIndex],cleaned=clean(value);mergeObject(originalLocation,cleaned),locations[locationIndex]=originalLocation}}await this.item.updateLocationsList(locations)}}async _onObstacleTypeClick(event){const target=event.currentTarget,uuid=target.closest(".obstacle").dataset.uuid,locations=duplicate(this.item.system.locations.list),locationIndex=this.findIndex(locations,uuid);locations[locationIndex].obstacleDetails||(locations[locationIndex].obstacleDetails={});const obstacle=locations[locationIndex].obstacleDetails,type=target.classList.contains("barrier")?"barrier":"hazard",active=obstacle[type];obstacle.barrier=!1,obstacle.hazard=!1,obstacle[type]=!active,locations[locationIndex].obstacle=!active,await this.item.updateLocationsList(locations)}async _onLocationClick(event){const lUuid=event.currentTarget.closest(".chase-location").dataset.uuid;await this.item.activateLocation(lUuid)}async _onLocationControlClick(event){event.preventDefault();const target=event.currentTarget;if(target.classList.contains("inactive"))return;const action=target.dataset.action,lUuid=target.closest(".chase-location").dataset.uuid;switch(action){case"remove":await this.item.removeLocation(lUuid);break;case"add-after":await this.item.insertLocation(lUuid,{shift:1});break;case"add-before":await this.item.insertLocation(lUuid,{shift:0});break;case"add-participant":CoC7ChaseParticipantImporter.create({chaseUuid:this.item.uuid,locationUuid:lUuid,dropData:{}})}}async _onChaseParticipantClick(event){const pUuid=event.currentTarget.dataset?.uuid;await this.item.activateParticipant(pUuid)}async _onParticipantControlClicked(event){event.preventDefault();const target=event.currentTarget;if(target.classList.contains("inactive"))return;if(target.classList.contains("dropdown"))return;event.stopPropagation();const participantUuid=target.closest(".initiative-block")?.dataset?.uuid;if(participantUuid){switch(target.dataset.action){case"drawGun":await this.toggleParticipantGun(participantUuid);break;case"decreaseActions":await this._onChangeMovementActions(-1,event);break;case"increaseActions":await this._onChangeMovementActions(1,event);break;case"moveBackward":await this.item.moveParticipant(participantUuid,-1,{render:!0});break;case"moveForward":await this.item.moveParticipant(participantUuid,1,{render:!0});break;case"activateParticipant":return await this.item.activateParticipant(participantUuid);case"bonusDice":{const diceNumber=target.dataset.count;await this.item.toggleBonusDice(participantUuid,diceNumber),this.item.activateNextParticipantTurn()}break;case"cautiousApproach":await this.item.cautiousApproach(participantUuid);break;case"editParticipant":{const participant=this.item.getParticipant(participantUuid),location=this.item.getParticipantLocation(participantUuid);participant.data.chaseUuid=this.item.uuid,participant.data.locationUuid=location.uuid,participant.data.update=!0,CoC7ChaseParticipantImporter.create(participant.data)}break;case"removeParticipant":await this.item.removeParticipant(participantUuid)}this.item.activateNextParticipantTurn()}}async _onChaseControlClicked(event){event.preventDefault();const target=event.currentTarget;event.stopPropagation();const locationUuid=target.closest(".obstacle")?.dataset?.uuid;if(locationUuid)return"obstacle-skill-check"===target.dataset.action?this.item.activeParticipantObstacleCheck(locationUuid):void 0}async _onChangeMovementActions(count,event){event.preventDefault(),event.stopPropagation();const target=event.currentTarget,participantUuid=target.closest(".initiative-block")?.dataset?.uuid;if(!participantUuid)return;const participants=this.item.participants,participant=participants.find((p=>participantUuid===p.uuid));participant.hasMaxMvtActions&&count>0||(participant.alterMovementActions(count),await this.item.setchaseTrackScroll({render:!1}),await this.item.updateParticipants(participants))}async _onButtonClick(event){const target=event.currentTarget,action=target.dataset?.action;if(action)switch(action){case"init":if(!isNaN(this.item.system.locations.total)&&this.item.system.locations.total>0){const locations=Array.apply(null,Array(this.item.system.locations.total)).map((function(){return{uuid:foundry.utils.randomID(16)}}));locations[0].name="Start",locations.length>1&&(locations[locations.length-1].name="End"),await this.item.updateLocationsList(locations)}break;case"reset":Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmResetChase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmResetChaseHint")}</p>`,yes:async()=>{await this.item.updateLocationsList([]),await this.item.stop()}});break;case"cut2chase":this.item.allHaveSpeedRoll?Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmCut2Chase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmCut2ChaseHint")}</p>`,yes:()=>this.item.cutToTheChase()}):ui.notifications.warn(game.i18n.localize("CoC7.NotAllHaveSpeedRoll"));break;case"restart":Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmRestartChase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmRestartChaseHint")}</p>`,yes:()=>this.item.restart()});break;case"nextRound":this.item.nextActiveParticipant?Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmNextChaseRound")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmNextChaseRoundHint")}</p>`,yes:()=>this.item.progressToNextRound()}):this.item.progressToNextRound()}}_canPinLocationDragStart(selector){return!!game.user.isGM}async _onPinLocationDragStart(event){const a=event.currentTarget,i=a.querySelector("i.icon"),dragIcon=a.querySelector(".pin-image");event.dataTransfer.setDragImage(dragIcon,0,dragIcon.height);const locationElement=a.closest(".chase-location"),data={type:"locator",CoC7Type:"chase"};data.icon=i.dataset.linkIcon,data.locationUuid=locationElement.dataset.uuid,data.docUuid=this.item.uuid,data.callBack="locatorDropped",event.dataTransfer.setData("text/plain",JSON.stringify(data))}_canChaseParticipantDragStart(selector){return!!game.user.isGM}_canChaseParticipantDragDrop(selector){return!!game.user.isGM}async _onChaseParticipantDragStart(dragEvent){const dragData={uuid:dragEvent.currentTarget.dataset.uuid,type:"participant"};dragEvent.dataTransfer.setData("text/plain",JSON.stringify(dragData))}async _onChaseParticipantDragDrop(dragEvent){const dataString=dragEvent.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);this._onDragLeave(dragEvent);const locationUuid=dragEvent.currentTarget.dataset.uuid;if("participant"===data.type){const oldLocation=this.findLocation(locationUuid);if(oldLocation&&oldLocation.participants?.includes(data.uuid))return;await this.item.setchaseTrackScroll({render:!1}),await this.item.moveParticipantToLocation(data.uuid,locationUuid)}else CoC7ChaseParticipantImporter.create({chaseUuid:this.item.uuid,locationUuid,dropData:data})}_onDragOver(dragEvent){this._onDragEnter(dragEvent)}_onDragEnter(dragEvent){dragEvent.currentTarget.classList.add("drag-over")}_onDragLeave(dragEvent){const target=dragEvent.currentTarget;target.classList?.remove("drag-over")}async _onDropParticipant(event){const target=event.currentTarget,uuid=target.dataset?.uuid,dataString=event.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);await this.alterParticipant(data,uuid)}async _onAddParticipant(event){event.preventDefault();const data={chaseUuid:this.item.uuid};if(event.dataTransfer){const dataString=event.dataTransfer.getData("text/plain");data.dropData=JSON.parse(dataString)}CoC7ChaseParticipantImporter.create(data)}async _onRollParticipant(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[],participant=new _participant(participants[index]);if(participant.speedCheck.refSet){const roll=new CoC7Check;roll.parent=this.item.uuid,participant.data.rolled=!0,participant.data.rollUuid=roll.uuid,roll.actor=participant.actor.actorKey,!event.shiftKey&&participant.actor.player&&(roll.standby=!0,roll.standbyText="CoC7.Chase",roll.standbyRightIcon="systems/CoC7/assets/icons/running-solid.svg"),participant.speedCheck.isCharacteristic?(await roll.rollCharacteristic(participant.speedCheck.ref.key),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isSkill?(roll.skill=participant.speedCheck.ref,await roll.roll(),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isAttribute&&(await roll.rollAttribute(participant.speedCheck.ref.key),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString)}else if(participant.speedCheck.score){const rollData={rawValue:participant.speedCheck.score,displayName:participant.speedCheck.name,actorName:participant.name?participant.name:void 0};participant.hasActor&&(rollData.actor=participant.actor.actorKey);const roll=CoC7Check.create(rollData);roll.parent=this.item.uuid,await roll.roll(),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString,participant.data.rolled=!0,participant.data.rollUuid=roll.uuid}await this.item.update({"data.participants":participants})}_onDragEnterParticipant(event){event.currentTarget.classList.add("drag-over")}_onDragLeaveParticipant(event){event.currentTarget.classList.remove("drag-over")}async _onChangeSide(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];participants[index].chaser=!participants[index].chaser,await this.item.update({"data.participants":participants})}async _onDeleteDriver(event){const uuid=event.currentTarget.closest(".driver").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];delete participants[index].docUuid,await this.item.update({"data.participants":participants})}async _onDeleteParticipant(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];participants.splice(index,1),await this.item.update({"data.participants":participants})}async _onResetRoll(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];delete participants[index].speedCheck.rollDataString,await this.item.update({"data.participants":participants})}async alterParticipant(data,uuid){let docUuid,actor;docUuid=data.tokenUuid?data.tokenUuid:data.sceneId&&data.tokenId?`Scene.${data.sceneId}.Token.${data.tokenId}`:data.actorId||data.actorKey||data.id,"Token"===data.type?docUuid=data.uuid:docUuid&&(actor=chatHelper.getActorFromKey(docUuid),actor||"Item"!==data.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid);const participant={};switch(docUuid&&(participant.docUuid=docUuid),data.type?.toLowerCase()){case"actor":default:break;case"item":participant.speedCheck={id:data.data?._id||data.id,type:"item"};break;case"characteristic":participant.speedCheck={id:data.name,type:"characteristic"};break;case"attribute":participant.speedCheck={id:data.name,type:"attribute"}}const participants=this.item.system.participants?duplicate(this.item.system.participants):[],oldParticipant=participants[this.findParticipantIndex(uuid)];oldParticipant.mov&&delete oldParticipant.mov,mergeObject(oldParticipant,participant),await this.item.update({"data.participants":participants})}async clearActiveLocationCoordinates(){await this.item.clearActiveLocationCoordinates()}async addParticipant(data){let docUuid,actor;docUuid=data.tokenUuid?data.tokenUuid:data.sceneId&&data.tokenId?`Scene.${data.sceneId}.Token.${data.tokenId}`:data.actorId||data.actorKey||data.id,"Token"===data.type?docUuid=data.uuid:docUuid&&(actor=chatHelper.getActorFromKey(docUuid),actor||"Item"!==data.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid);const participant={};switch(docUuid&&(participant.docUuid=docUuid),data.type?.toLowerCase()){case"actor":default:break;case"item":if(data.id){const item=game.items.get(data.id);if("skill"!==item?.data?.type)return}participant.speedCheck={id:data.data?._id||data.id,type:"item"};break;case"characteristic":participant.speedCheck={id:data.name,type:"characteristic"};break;case"attribute":participant.speedCheck={id:data.name,type:"attribute"}}participant.speedCheck||(this.item.system.vehicle?participant.speedCheck={type:"item",name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.drive-auto")}:participant.speedCheck={id:"con",type:"characteristic",name:game.i18n.localize("CHARAC.Constitution")});const participants=this.item.system.participants?duplicate(this.item.system.participants):[];let unique=!1;for(;!unique;)participant.uuid=foundry.utils.randomID(16),unique=0===participants.filter((p=>p.uuid===participant.uuid)).length;participants.push(participant),await this.item.update({"data.participants":participants})}async toggleParticipantGun(participantUuid){const participants=this.item.system.participants?duplicate(this.item.system.participants):[],participant=participants.find((p=>participantUuid===p.uuid));participant&&(participant.hasAGunReady=!participant.hasAGunReady,await this.item.setchaseTrackScroll({render:!1}),await this.item.updateParticipants(participants))}}function clean(obj){for(const propName in obj){const tp=getType(obj[propName]);"Object"===tp&&(obj[propName]=clean(obj[propName])),("Object"!==tp||Object.entries(obj[propName]).length)&&("string"!==tp||obj[propName].length)?"string"!==tp||isNaN(Number(obj[propName]))||(obj[propName]=Number(obj[propName])):obj[propName]=null}return obj}class CoC7ItemSheetV2 extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","item"],template:"systems/CoC7/templates/items/item-sheetV2.html",width:500,height:450,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(options={}){const sheetData=super.getData(options);return sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects,{status:!1}),sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.item)))}}class CoC7ItemSheet extends CoC7ItemSheetV2{static get defaultOptions(){return mergeObject(super.defaultOptions,{width:525,height:506})}}class CoC7JournalSheet extends JournalSheet{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7MacroConfig extends MacroConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7PlaylistConfig extends PlaylistConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7RollTableConfig extends RollTableConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7SceneConfig extends SceneConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7SetupSheet extends ItemSheet{activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"items"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"items"))),html.find(".add-bio").click((async()=>await this._onAddBio())),html.find(".remove-section").click(this._onRemoveSection.bind(this)),html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find(".add-monetary").click(this._onAddMonetary.bind(this)),html.find(".remove-monetary").click(this._onRemoveMonetary.bind(this)))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _onDrop(event,collectionName="items"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];for(const item of dataList)item&&item.system&&["item","weapon","skill","book","spell"].includes(item.type)&&(!CoC7Item.isAnySpec(item)&&collection.find((el=>el.name===item.name))||(0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))));await this.item.update({[`system.${collectionName}`]:collection})}async _onRemoveSection(event){const div=event.currentTarget.closest(".item"),bio=duplicate(this.item.system.bioSections);bio.splice(Number(div.dataset.index),1),await this.item.update({"system.bioSections":bio})}async _onAddBio(){const bio=this.item.system.bioSections?duplicate(this.item.system.bioSections):[];bio.push(null),await this.item.update({"system.bioSections":bio})}_onAddMonetary(){const values=this.item.system.monetary.values?duplicate(this.item.system.monetary.values):[];values.push({name:"",min:null,max:null,cashType:0,cashValue:"",assetsType:0,assetsValue:"",spendingType:0,spendingValue:""}),this.item.update({"system.monetary.values":values})}_onRemoveMonetary(event){const div=event.currentTarget.closest(".item"),values=duplicate(this.item.system.monetary.values);values.splice(Number(div.dataset.index),1),this.item.update({"system.monetary.values":values})}_onItemSummary(event,collectionName="items"){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.item.system[collectionName].find((s=>s._id===li.data("item-id")));if(!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","setup"],template:"systems/CoC7/templates/items/setup.html",width:565,height:530,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded;const era=Object.entries(this.item.flags?.CoC7?.cocidFlag?.eras??{}).filter((e=>e[1])).map((e=>e[0])),items=await game.system.api.cocid.expandItemArray({itemList:this.item.system.items,era:void 0===era[0]||era[0]});sheetData.skills=items.filter((it=>"skill"===it.type)),sheetData.otherItems=items.filter((it=>"skill"!==it.type)),sheetData.skillListEmpty=0===sheetData.skills.length,sheetData.itemsListEmpty=0===sheetData.otherItems.length,sheetData.skills.sort(CoC7Utilities.sortByNameKey),sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData._monetaryFormats=[];for(const key in COC7.monetaryFormats)sheetData._monetaryFormats.push({key,val:game.i18n.localize(COC7.monetaryFormats[key])});sheetData.showCurrencySymbol=["decimalLeft","decimalRight","integerLeft","integerRight"].includes(sheetData.data.system.monetary.format),sheetData._monetaryTypes=[];for(const key in COC7.monetaryTypes)(0===COC7.monetaryTypes[key].filter.length||COC7.monetaryTypes[key].filter.includes(sheetData.data.system.monetary.format))&&sheetData._monetaryTypes.push({key,val:game.i18n.localize(COC7.monetaryTypes[key].name)});return sheetData.oneBlockBackStory=game.settings.get("CoC7","oneBlockBackstory"),sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedBackstory=TextEditor.enrichHTML(sheetData.data.system.backstory,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}_updateObject(event,formData){const system=expandObject(formData)?.system;system.bioSections&&(formData["system.bioSections"]=Object.values(system.bioSections||[])),system.monetary.values&&(formData["system.monetary.values"]=Object.values(system.monetary.values||[])),"system.characteristics.points.enabled"===event.currentTarget?.name&&(formData["system.characteristics.rolls.enabled"]=!event.currentTarget.checked),"system.characteristics.rolls.enabled"===event.currentTarget?.name&&(formData["system.characteristics.points.enabled"]=!event.currentTarget.checked),super._updateObject(event,formData)}}class CoC7SkillSheet extends ItemSheet{constructor(...args){super(...args),this._sheetTab="items"}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","item"],width:520,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}get template(){return`systems/CoC7/templates/items/${this.item.type}-sheet.html`}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.hadNonCharacterOwner=sheetData.hasOwner&&"character"!==this.actor?.type,sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects),sheetData._properties=[];for(const[key,value]of Object.entries(COC7.skillProperties))sheetData._properties.push({id:key,name:value,isEnabled:!0===this.item.system.properties[key]});sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});return sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.isSpecialized=this.item.system.properties.special,sheetData.canModifySpec=!this.item.system.properties.firearm&&!this.item.system.properties.fighting,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&html.find(".toggle-switch").click(this._onClickToggle.bind(this))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.closest(".toggle-switch").dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _updateObject(event,formData){const skillName=formData["system.skillName"]||this.item.system.skillName;if(this.item.system.properties?.special){const specialization=formData["system.specialization"]||this.item.system.specialization;formData.name=specialization+" ("+skillName+")"}else formData.name=skillName;return super._updateObject(event,formData)}}class CoC7SpellSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/items/spell/main.html",classes:["coc7","item","spell"],width:500,height:"auto",resizable:!1,scrollY:[".body"],tabs:[{navSelector:".navigation",contentSelector:".body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();return sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.isKeeper=game.user.isGM,sheetData.isOwner=this.item.isOwner,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".option").click((event=>this.modifyType(event))),html.find("#cast-spell").click((event=>{event.preventDefault(),this.item.cast()}))}modifyType(event){event.preventDefault(),event.stopPropagation();return $(event.currentTarget).prev().trigger("click")}}class CoC7StatusSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","status"],template:"systems/CoC7/templates/items/status.html",width:525,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}activateListeners(html){super.activateListeners(html),html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.item)))}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects,{status:!1}),sheetData.itemProperties=[];for(const[key,value]of Object.entries(this.item.system.type))value&&sheetData.itemProperties.push(COC7.statusType[key]?COC7.statusType[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7TalentSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","talent"],template:"systems/CoC7/templates/items/talent.html",width:525,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.itemProperties=[];for(const[key,value]of Object.entries(this.item.system.type))value&&sheetData.itemProperties.push(COC7.talentType[key]?COC7.talentType[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7VehicleSheet extends CoC7ActorSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","actor","item","vehicle"],width:555,height:420,resizable:!0,template:"systems/CoC7/templates/actors/vehicle.html",dragDrop:[{dragSelector:".actor",dropSelector:".dropZone"}],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"description"}]})}async getData(){const sheetData=await super.getData();sheetData.properties=[],this.actor.system.properties.armed&&sheetData.properties.push(game.i18n.localize("CoC7.ArmedVehicle"));const expanded=this.actor.getFlag("CoC7","expanded");return sheetData.expanded=void 0===expanded||expanded,sheetData.expanded?sheetData.options.height=420:sheetData.options.height="auto",sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".add-armor").click((async()=>await this._onAddArmor())),html.find(".remove-armor").click((async event=>await this._onRemoveArmor(event))),html.find(".expand-button").click(this._onToggleExpand.bind(this))}async _onToggleExpand(){const expanded=this.actor.getFlag("CoC7","expanded");expanded?(this.oldSize=this.position.height,this.position.height="auto"):this.position.height=this.oldSize||420,await this.actor.setFlag("CoC7","expanded",!expanded)}async _onAddArmor(){const locations=duplicate(this.actor.system.attribs.armor.locations||[]);locations.push({name:null,value:null}),await this.actor.update({"system.attribs.armor.locations":locations})}async _onRemoveArmor(event){const index=event.currentTarget.closest(".armor").dataset.index,locations=duplicate(this.actor.system.attribs.armor.locations||null);locations&&(locations.splice(index,1),await this.actor.update({"system.attribs.armor.locations":locations}))}onCloseSheet(){super.onCloseSheet()}_updateObject(event,formData){const system=expandObject(formData)?.system;system.attribs.armor.locations&&(formData["system.attribs.armor.locations"]=Object.values(system.attribs.armor.locations||[])),super._updateObject(event,formData)}}class CoC7WeaponSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","item"],width:545,height:480,tabs:[{navSelector:".sheet-tabs",contentSelector:".sheet-body",initial:"skills"}]})}get template(){return"systems/CoC7/templates/items/weapon-sheet.html"}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.combatSkill=[],sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.hasOwner&&(sheetData.firearmSkills=this.actor.firearmSkills,sheetData.fightingSkills=this.actor.fightingSkills,sheetData.combatSkill=this.item.actor.items.filter((item=>!("skill"!==item.type||!item.system.properties.combat))),sheetData.combatSkill.sort(CoC7Utilities.sortByNameKey)),sheetData._properties=[];for(const[key,value]of Object.entries(COC7.weaponProperties))sheetData._properties.push({id:key,name:value,isEnabled:!0===this.item.system.properties[key]});sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({price:this.item.system.price[key]??0,id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});return sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.usesAlternateSkill=!0===this.item.system.properties.auto||!0===this.item.system.properties.brst||!0===this.item.system.properties.thrown,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionSpecial=TextEditor.enrichHTML(sheetData.data.system.description.special,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find(".weapon-property").click(this._onPropertyClick.bind(this)))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.closest(".toggle-switch").dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _onPropertyClick(event){event.preventDefault();const propertyId=event.currentTarget.closest(".weapon-property").dataset.property;await this.item.toggleProperty(propertyId)}}async function performFilter(e){const appId=e.currentTarget.name.replace(/^coc7[^0-9]+(\d+)$/,"$1"),app=$("div.app[data-appid="+appId+"]"),type=app.find("select[name=coc7type"+appId+"]").val(),name=app.find("input[name=search]").val(),eraElement=app.find("select[name=coc7era"+appId+"]");let era="";switch(type){case"setup":case"skill":case"weapon":eraElement.closest("div.era_select").show(),era=eraElement.val();break;default:eraElement.closest("div.era_select").hide()}const items=await(game.packs.get(app.data("packId"))?.getDocuments());if(void 0===items)return;const show=[],nameFilter=new RegExp(RegExp.escape(name),"i");for(const[,item]of Object.entries(items)){let filter=!0;if(filter&&""!==name&&(filter=item.name.match(nameFilter)),filter&&""!==type&&(filter=item.type===type),filter&&""!==era){const eras=item.flags?.CoC7?.cocidFlag?.eras;eras&&Object.keys(eras).length>0&&!eras[era]&&(filter=!1)}filter&&show.push(item.id)}app.find("ol.directory-list li").each((function(){this.style.display=show.includes(this.dataset.documentId)?"flex":"none"}))}class CoCID{static init(){CONFIG.Actor.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Item.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Item.compendiumIndexFields.push("system.base"),CONFIG.Item.compendiumIndexFields.push("system.properties"),CONFIG.JournalEntry.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Macro.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Playlist.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.RollTable.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Scene.compendiumIndexFields.push("flags.CoC7.cocidFlag"),game.system.api={cocid:CoCID}}static regExKey(){return new RegExp("^("+Object.keys(CoCID.gamePropertyLookup).join("|")+")\\.(.*?)\\.(.+)$")}static getPrefix(document){for(const type in CoCID.documentNameLookup)if(document instanceof CoCID.documentNameLookup[type])return type+"."+(document.type??"")+".";return""}static guessId(document){return CoCID.getPrefix(document)+CoC7Utilities.toKebabCase(document.name)}static guessGroupFromKey(id){if(id){const key=id.replace(/([^\\.-]+)$/,"");if("-"===key.substr(-1))return key}return""}static guessGroupFromDocument(document){return CoCID.guessGroupFromKey(document.flags?.CoC7?.cocidFlag?.id)}static eraText(era){return!1===era?game.i18n.localize("CoC7.Any"):(!0===era&&(era=game.settings.get("CoC7","worldEra")),game.i18n.format(COC7.eras[era]??"CoC7.CoCIDFlag.error.unknown-era",{era}))}static async expandItemArray({itemList,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){let items=[];const cocids=itemList.filter((it=>"string"==typeof it));if(items=itemList.filter((it=>"string"!=typeof it)),cocids.length){const found=await CoCID.fromCoCIDRegexBest({cocidRegExp:CoCID.makeGroupRegEx(cocids),type:"i",lang,era,langFallback,showLoading}),all=[];for(const cocid of cocids){const item=found.find((i=>i.flags.CoC7.cocidFlag.id===cocid));item&&all.push(item)}if(all.length<cocids.length){const notmissing=[];for(const doc of all)notmissing.push(doc.flags.CoC7.cocidFlag.id);!0===era&&(era=game.settings.get("CoC7","worldEra")),ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.documents-not-found",{cocids:cocids.filter((x=>!notmissing.includes(x))).join(", "),lang,era:CoCID.eraText(era)}))}items=items.concat(all)}return items}static findCocIdInList(cocid,list){let itemName="";const CoCIDKeys=flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys);return void 0!==CoCIDKeys[cocid]&&(itemName=CoCIDKeys[cocid]),(void 0===list.filter?Object.values(list):list).filter((i=>i.flags?.CoC7?.cocidFlag?.id===cocid||""!==itemName&&itemName===i.name))}static makeGroupRegEx(cocids){if("string"==typeof cocids)cocids=[cocids];else if(void 0===cocids||"function"!=typeof cocids.filter)return;const splits={},rgx=CoCID.regExKey();for(const i of cocids){const key=i.match(rgx);key&&(void 0===splits[key[1]]&&(splits[key[1]]={}),void 0===splits[key[1]][key[2]]&&(splits[key[1]][key[2]]=[]),splits[key[1]][key[2]].push(key[3]))}const regExParts=[];for(const t in splits){const row=[];for(const s in splits[t])splits[t][s].length>1?row.push(s+"\\.("+splits[t][s].join("|")+")"):row.push(s+"\\."+splits[t][s].join(""));row.length>1?regExParts.push(t+"\\.("+row.join("|")+")"):regExParts.push(t+"\\."+row.join(""))}return regExParts.length>1?new RegExp("^("+regExParts.join("|")+")$"):new RegExp("^"+regExParts.join("")+"$")}static async fromCoCIDRegexAll({cocidRegExp,type,lang=game.i18n.lang,era=!1,scope="match",langFallback=!0,showLoading=!1}={}){if(!cocidRegExp)return[];const result=[];let count=0;if(showLoading&&(["match","all","world"].includes(scope)&&count++,["match","all","compendiums"].includes(scope)&&(count+=game.packs.size)),["match","all","world"].includes(scope)){const worldDocuments=await CoCID.documentsFromWorld({cocidRegExp,type,lang,era,langFallback,progressBar:count});if("match"===scope&&worldDocuments.length)return showLoading&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:100}),this.filterAllCoCID(worldDocuments,langFallback&&"en"!==lang);result.splice(0,0,...worldDocuments)}if(["match","all","compendiums"].includes(scope)){const compendiaDocuments=await CoCID.documentsFromCompendia({cocidRegExp,type,lang,era,langFallback,progressBar:count});result.splice(result.length,0,...compendiaDocuments)}return showLoading&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:100}),this.filterAllCoCID(result,langFallback&&"en"!==lang)}static async fromCoCIDAll({cocid,lang=game.i18n.lang,era=!1,scope="match",langFallback=!0,showLoading=!1}={}){if(!cocid||"string"!=typeof cocid)return[];const parts=cocid.match(CoCID.regExKey());return parts?(""===lang&&(lang=game.i18n.lang),CoCID.fromCoCIDRegexAll({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(cocid)+"$"),type:parts[1],lang,era,scope,langFallback,showLoading})):[]}static async fromCoCIDRegexBest({cocidRegExp,type,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){if(!1===era)return ui.notifications.error(game.i18n.format("CoC7.CoCIDFlag.error.unknown-era",{era:game.i18n.localize("CoC7.Any")})),[];const allDocuments=await this.fromCoCIDRegexAll({cocidRegExp,type,lang,era,scope:"all",langFallback,showLoading});return this.filterBestCoCID(allDocuments)}static fromCoCID(cocid,lang=game.i18n.lang,era=!0,langFallback=!0){return!1===era?(ui.notifications.error(game.i18n.format("CoC7.CoCIDFlag.error.unknown-era",{era:game.i18n.localize("CoC7.Any")})),[]):CoCID.fromCoCIDBest({cocid,lang,era,langFallback})}static fromCoCIDBest({cocid,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){if(!cocid||"string"!=typeof cocid)return[];if(!1===era)return ui.notifications.error(game.i18n.format("CoC7.CoCIDFlag.error.unknown-era",{era:game.i18n.localize("CoC7.Any")})),[];const type=cocid.split(".")[0],cocidRegExp=new RegExp("^"+CoC7Utilities.quoteRegExp(cocid)+"$");return CoCID.fromCoCIDRegexBest({cocidRegExp,type,lang,era,langFallback,showLoading})}static filterBestCoCID(documents){const bestMatchDocuments=new Map;for(const doc of documents){const docCoCID=doc.getFlag("CoC7","cocidFlag")?.id;if(docCoCID){const currentDoc=bestMatchDocuments.get(docCoCID);if(void 0===currentDoc){bestMatchDocuments.set(docCoCID,doc);continue}if(!(""===(doc.pack??"")||""!==(currentDoc?.pack??"")))continue;let docPriority=parseInt(doc.getFlag("CoC7","cocidFlag")?.priority??Number.MIN_SAFE_INTEGER,10);docPriority=isNaN(docPriority)?Number.MIN_SAFE_INTEGER:docPriority;let existingPriority=parseInt(currentDoc.getFlag("CoC7","cocidFlag")?.priority??Number.MIN_SAFE_INTEGER,10);existingPriority=isNaN(existingPriority)?Number.MIN_SAFE_INTEGER:existingPriority;if(!(docPriority>=existingPriority))continue;bestMatchDocuments.set(docCoCID,doc)}}return[...bestMatchDocuments.values()]}static filterAllCoCID(documents,langFallback){if(!langFallback)return documents;const bestMatchDocuments=new Map;for(const doc of documents){const docCoCID=doc.getFlag("CoC7","cocidFlag")?.id;if(docCoCID){const docEras=Object.entries(doc.getFlag("CoC7","cocidFlag")?.eras??{}).filter((e=>e[1])).map((e=>e[0])).sort().join("/");let docPriority=parseInt(doc.getFlag("CoC7","cocidFlag")?.priority??Number.MIN_SAFE_INTEGER,10);docPriority=isNaN(docPriority)?Number.MIN_SAFE_INTEGER:docPriority;const key=docCoCID+"/"+docEras+"/"+(isNaN(docPriority)?Number.MIN_SAFE_INTEGER:docPriority),currentDoc=bestMatchDocuments.get(key);if(void 0===currentDoc){bestMatchDocuments.set(key,doc);continue}const docLang=doc.getFlag("CoC7","cocidFlag")?.lang??"en",existingLang=currentDoc?.getFlag("CoC7","cocidFlag")?.lang??"en";"en"===existingLang&&existingLang!==docLang&&bestMatchDocuments.set(key,doc)}}return[...bestMatchDocuments.values()]}static async documentsFromWorld({cocidRegExp,type,lang=game.i18n.lang,era=!1,langFallback=!0,progressBar=0}={}){if(!cocidRegExp)return[];""===lang&&(lang=game.i18n.lang),!0===era&&(era=game.settings.get("CoC7","worldEra")),progressBar>0&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:Math.floor(100/progressBar)});const gameProperty=CoCID.getGameProperty(`${type}..`),candidateDocuments=game[gameProperty]?.filter((d=>{const cocidFlag=d.getFlag("CoC7","cocidFlag");if(void 0===cocidFlag)return!1;const eras=cocidFlag.eras??[],matchingEras=!1===era||0===Object.entries(eras).length||Object.prototype.hasOwnProperty.call(eras,era)&&eras[era];return cocidRegExp.test(cocidFlag.id)&&[lang,langFallback?"en":"-"].includes(cocidFlag.lang)&&matchingEras}));return void 0===candidateDocuments?[]:candidateDocuments.sort(CoCID.compareCoCIDPrio)}static async documentsFromCompendia({cocidRegExp,type,lang=game.i18n.lang,era=!1,langFallback=!0,progressBar=0}){if(!cocidRegExp)return[];""===lang&&(lang=game.i18n.lang),!0===era&&(era=game.settings.get("CoC7","worldEra"));const eraText=CoCID.eraText(era),documentType=CoCID.getDocumentType(type).schema.name,candidateDocuments=[];let count=1;for(const pack of game.packs)if(progressBar>0&&(SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:Math.floor(100*count/progressBar)}),count++),pack.documentName===documentType){pack.indexed||await pack.getIndex();const indexInstances=pack.index.filter((i=>{const cocidFlag=i.flags?.CoC7?.cocidFlag;if(void 0===cocidFlag)return!1;const eras=cocidFlag.eras??[],matchingEras=!1===era||0===Object.entries(eras).length||Object.prototype.hasOwnProperty.call(eras,era)&&eras[era];return cocidRegExp.test(cocidFlag.id)&&[lang,langFallback?"en":"-"].includes(cocidFlag.lang)&&matchingEras}));for(const index of indexInstances){const document=await pack.getDocument(index._id);if(!document){const msg=game.i18n.format("CoC7.CoCIDFlag.error.document-not-found",{cocid:cocidRegExp,lang,era:eraText});throw ui.notifications.error(msg),console.log("CoC7 |",msg,index),new Error}candidateDocuments.push(document)}}return candidateDocuments.sort(CoCID.compareCoCIDPrio)}static compareCoCIDPrio(a,b){return b.getFlag("CoC7","cocidFlag")?.priority-a.getFlag("CoC7","cocidFlag")?.priority}static getGameProperty(cocid){const type=cocid.split(".")[0],gameProperty=CoCID.gamePropertyLookup[type];if(!gameProperty)throw ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.incorrect.type")),console.log("CoC7 | ",cocid),new Error;return gameProperty}static get gamePropertyLookup(){return{a:"actors",c:"cards",i:"items",je:"journal",m:"macros",p:"playlists",rt:"tables",s:"scenes"}}static getDocumentType(cocid){const type=cocid.split(".")[0],documentType=CoCID.documentNameLookup[type];if(!documentType)throw ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.incorrect.type")),console.log("CoC7 | ",cocid),new Error;return documentType}static get documentNameLookup(){return{a:Actor,c:Card,i:Item,je:JournalEntry,m:Macro,p:Playlist,rt:RollTable,s:Scene}}}function init_listen(){Hooks.once("init",(async()=>{CONFIG.ActiveEffect.documentClass=CoC7ActiveEffect,CONFIG.Actor.documentClass=CoCActor,CONFIG.Actor.documentClasses={vehicle:CoC7Vehicle},CONFIG.Item.documentClass=CoC7Item,CONFIG.Item.documentClasses={book:CoC7Book,spell:CoC7Spell,chase:CoC7Chase,skill:CoC7Skill},async function(){loadTemplates(["systems/CoC7/templates/actors/parts/npc-skills.html","systems/CoC7/templates/actors/parts/npc-combat.html","systems/CoC7/templates/actors/parts/actor-inventory.html","systems/CoC7/templates/actors/parts/actor-inventory-items.html","systems/CoC7/templates/actors/parts/actor-background.html","systems/CoC7/templates/common/active-effects.hbs","systems/CoC7/templates/actors/parts/actor-mythos-enounters.hbs","systems/CoC7/templates/actors/parts/actor-keeper-mythos-enounters.hbs","systems/CoC7/templates/actors/parts/actor-skills-v2.html","systems/CoC7/templates/actors/parts/character-development-v2.html","systems/CoC7/templates/actors/parts/development-controls.html","systems/CoC7/templates/actors/parts/vitals.html","systems/CoC7/templates/actors/parts/combat.html","systems/CoC7/templates/actors/character-sheet-v2.html","systems/CoC7/templates/actors/character/summary.html","systems/CoC7/templates/items/book/details.html","systems/CoC7/templates/items/spell/details.html","systems/CoC7/templates/apps/investigator-wizard/introduction.hbs","systems/CoC7/templates/apps/investigator-wizard/configuration.hbs","systems/CoC7/templates/apps/investigator-wizard/select-setup.hbs","systems/CoC7/templates/apps/investigator-wizard/select-archetype.hbs","systems/CoC7/templates/apps/investigator-wizard/select-occupation.hbs","systems/CoC7/templates/apps/investigator-wizard/set-characteristics.hbs","systems/CoC7/templates/apps/investigator-wizard/set-attributes.hbs","systems/CoC7/templates/apps/investigator-wizard/view-attributes.hbs","systems/CoC7/templates/apps/investigator-wizard/set-investigator.hbs","systems/CoC7/templates/apps/investigator-wizard/set-occupation-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/toggle-skill.hbs","systems/CoC7/templates/apps/investigator-wizard/set-archetype-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/points-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/backstory.hbs","systems/CoC7/templates/apps/investigator-wizard/create.hbs"])}(),function(){if(game.settings.registerMenu("CoC7","gameRules",{name:"CoC7.Settings.Rules.Name",label:"CoC7.Settings.Rules.Label",hint:"CoC7.Settings.Rules.Hint",icon:"fas fa-book",type:CoC7GameRuleSettings,restricted:!0}),CoC7GameRuleSettings.registerSettings(),game.settings.register("CoC7","useContextMenus",{name:"SETTINGS.UseContextMenus",hint:"SETTINGS.UseContextMenusHint",scope:"world",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","dholeUploadDirectory",{name:"CoC7.Settings.DholeUpload.Directory.Name",hint:"CoC7.Settings.DholeUpload.Directory.Hint",scope:"world",config:!0,type:CoC7DirectoryPicker.DefaultDirectory,default:"[data] worlds/"+game.world.id+"/dhole-images"}),game.settings.register("CoC7","worldEra",{name:"CoC7.Settings.WorldEra.Name",hint:"CoC7.Settings.WorldEra.Hint",scope:"world",config:!0,default:"standard",type:String,choices:COC7.eras,onChange:()=>{ui.players.render(!0)}}),game.settings.register("CoC7","dropCoCID",{name:"CoC7.Settings.DropCoCID.Name",hint:"CoC7.Settings.DropCoCID.Hint",scope:"world",config:!0,default:"",type:String,choices:{"":"CoC7.Settings.DropCoCID.Prompt",Y:"CoC7.Settings.DropCoCID.UseCoCID",N:"CoC7.Settings.DropCoCID.IgnoreCoCID"}}),game.settings.register("CoC7","displayInitDices",{name:"SETTINGS.displayInitDices",hint:"SETTINGS.displayInitDicesHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","displayInitAsText",{name:"SETTINGS.displayInitAsText",hint:"SETTINGS.displayInitAsTextHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","stanbyGMRolls",{name:"SETTINGS.StanbyGMRolls",hint:"SETTINGS.StanbyGMRollsHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","allowFlatDiceModifier",{name:"SETTINGS.AllowFlatDiceModifier",hint:"SETTINGS.AllowFlatDiceModifierHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","allowFlatThresholdModifier",{name:"SETTINGS.AllowFlatThresholdModifier",hint:"SETTINGS.AllowFlatThresholdModifierHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","defaultCheckDifficulty",{name:"SETTINGS.DefaultDifficulty",hint:"SETTINGS.DefaultDifficultyHint",scope:"world",config:!0,default:"regular",type:String,choices:{regular:"SETTINGS.CheckDifficultyRegular",unknown:"SETTINGS.CheckDifficultyUnknown"}}),game.settings.register("CoC7","selfRollWhisperTarget",{name:"SETTINGS.SelfRollWhisperTarget",hint:"SETTINGS.SelfRollWhisperTargetHint",scope:"world",config:!0,default:"everyone",type:String,choices:{nobody:"SETTINGS.DoNotAdvise",owners:"SETTINGS.AdviseOwnersOnly",everyone:"SETTINGS.AdviseAllPlayer"}}),game.settings.register("CoC7","trustedCanModfyChatCard",{name:"SETTINGS.TrustedCanModfyChatCard",hint:"SETTINGS.TrustedCanModfyChatCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","trustedCanSeeChatCard",{name:"SETTINGS.TrustedCanSeeChatCard",hint:"SETTINGS.TrustedCanSeeChatCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","displayActorOnCard",{name:"SETTINGS.DisplayActorOnCard",hint:"SETTINGS.DisplayActorOnCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","displayCheckSuccessLevel",{name:"SETTINGS.DisplayCheckSuccessLevel",scope:"client",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","displayResultType",{name:"SETTINGS.DisplayResultType",scope:"client",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","useToken",{name:"SETTINGS.UseToken",hint:"SETTINGS.UseTokenHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","enableStatusIcons",{name:"SETTINGS.EnableStatusIcons",hint:"SETTINGS.EnableStatusIconsHint",scope:"world",config:!0,type:Boolean,default:!0}),game.settings.register("CoC7","gridSpaces",{name:"SETTINGS.RestrictGridSpaces",hint:"SETTINGS.RestrictGridSpacesHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","distanceElevation",{name:"SETTINGS.CheckElevation",hint:"SETTINGS.CheckElevationHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","distanceTheatreOfTheMind",{name:"SETTINGS.SceneDistanceNotCalcualtedNoError",hint:"SETTINGS.SceneDistanceNotCalcualtedNoErrorHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","overrideGameArtwork",{name:"SETTINGS.OverrideGameArtwork",hint:"SETTINGS.OverrideGameArtworkHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.get("CoC7","overrideGameArtwork")&&(game.settings.register("CoC7","artPauseImage",{name:"SETTINGS.ArtPauseImage",hint:"SETTINGS.ArtPauseImageHint",scope:"world",config:!0,default:"systems/CoC7/assets/icons/time-trap.svg",type:String}),game.settings.register("CoC7","artPauseText",{name:"SETTINGS.ArtPauseText",hint:"SETTINGS.ArtPauseTextHint",scope:"world",config:!0,default:"The Blind Idiot God is dreaming...",type:String})),game.settings.register("CoC7","displayPlayerNameOnSheet",{name:"SETTINGS.displayPlayerNameOnSheet",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","toolTipDelay",{name:"CoC7.toolTipDelay",scope:"world",config:!0,default:2e3,type:Number}),game.settings.register("CoC7","showIconsOnly",{name:"SETTINGS.showIconsOnly",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","playerUnlockSheetMode",{name:"SETTINGS.PlayerUnlockSheetMode",scope:"world",config:!0,default:"always",type:String,choices:{always:"SETTINGS.AlwaysEditable",creation:"SETTINGS.CreationModeOnly",never:"SETTINGS.NeverEditable"}}),game.settings.register("CoC7","statusPlayerEditable",{name:"SETTINGS.StatusPlayerEditable",hint:"SETTINGS.StatusPlayerEditableHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","oneBlockBackstory",{name:"SETTINGS.OneBlockBackStory",hint:"SETTINGS.OneBlockBackStoryHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","overrideSheetArtwork",{name:"SETTINGS.OverrideSheetArtwork",hint:"SETTINGS.OverrideSheetArtworkHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.get("CoC7","overrideSheetArtwork")){function _setRootFontSize(size){$(":root").css("font-size",size),ui.sidebar.render(!0);for(const[,w]of Object.entries(ui.windows))w.render(!0)}game.settings.register("CoC7","artWorkSheetBackground",{name:"SETTINGS.ArtWorkSheetBackground",hint:"SETTINGS.ArtWorkSheetBackgroundHint",scope:"world",config:!0,default:"url('./assets/images/background.webp') 4 repeat",type:String}),game.settings.register("CoC7","artWorkSheetBackgroundType",{name:"SETTINGS.ArtWorkSheetBackgroundType",scope:"world",config:!0,default:"slice",type:String,choices:{slice:"SETTINGS.BackgroundSlice",auto:"SETTINGS.BackgroundAuto",contain:"SETTINGS.BackgroundContain",cover:"SETTINGS.BackgroundCover"}}),game.settings.register("CoC7","artWorkOtherSheetBackground",{name:"SETTINGS.ArtWorkOtherSheetBackground",hint:"SETTINGS.ArtWorkOtherSheetBackgroundHint",scope:"world",config:!0,default:"url( './assets/images/background.webp')",type:String}),game.settings.register("CoC7","artworkSheetImage",{name:"SETTINGS.ArtworkSheetImage",hint:"SETTINGS.ArtworkSheetImageHint",scope:"world",config:!0,default:"url('./assets/images/tentacles.webp')",type:String}),game.settings.register("CoC7","artworkFrontColor",{name:"SETTINGS.ArtworkFrontColor",hint:"SETTINGS.ArtworkFrontColorHint",scope:"world",config:!0,default:"rgba(43,55,83,1)",type:String}),game.settings.register("CoC7","artworkBackgroundColor",{name:"SETTINGS.ArtworkBackgroundColor",hint:"SETTINGS.ArtworkBackgroundColorHint",scope:"world",config:!0,default:"rgba(103,11,11,1)",type:String}),game.settings.register("CoC7","artworkInteractiveColor",{name:"SETTINGS.ArtworkInteractiveColor",hint:"SETTINGS.ArtworkInteractiveColorHint",scope:"world",config:!0,default:"rgba(103,11,11,1)",type:String}),game.settings.register("CoC7","artworkFixedSkillLength",{name:"SETTINGS.ArtworkFixedSkillLength",hint:"SETTINGS.ArtworkFixedSkillLengthHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","artworkMainFont",{name:"SETTINGS.ArtworkMainFont",scope:"world",config:!0,default:"",type:String}),game.settings.register("CoC7","artworkMainFontBold",{name:"SETTINGS.ArtworkMainFontBold",scope:"world",config:!0,default:"",type:String}),game.settings.register("CoC7","artworkMainFontSize",{name:"SETTINGS.ArtworkMainFontSize",scope:"world",config:!0,default:16,type:Number,onChange:size=>_setRootFontSize(size)})}if(game.settings.register("CoC7","disregardUsePerRound",{name:"SETTINGS.DisregardUsePerRound",hint:"SETTINGS.DisregardUsePerRoundHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","disregardAmmo",{name:"SETTINGS.DisregardAmmo",hint:"SETTINGS.DisregardAmmoHint",scope:"world",config:!0,default:!1,type:Boolean}),game.modules.get("dice-so-nice")?.active){game.settings.register("CoC7","syncDice3d",{name:"SETTINGS.SyncDice3D",hint:"SETTINGS.SyncDice3DHint",scope:"world",config:!0,default:!0,type:Boolean});const[version]=game.modules.get("dice-so-nice")?.version.split(".");!isNaN(Number(version))&&Number(version)>=3&&(game.settings.register("CoC7","tenDieBonus",{name:"SETTINGS.TenDieBonus",hint:"SETTINGS.TenDieBonusHint",scope:"client",config:!0,default:"bronze",type:String}),game.settings.register("CoC7","tenDiePenalty",{name:"SETTINGS.TenDiePenalty",hint:"SETTINGS.TenDiePenaltyHint",scope:"client",config:!0,default:"bloodmoon",type:String}))}game.settings.register("CoC7","debugmode",{name:"SETTINGS.DebugMode",hint:"SETTINGS.DebugModeHint",scope:"client",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","experimentalFeatures",{name:"SETTINGS.ShowExperimentalFeatures",hint:"SETTINGS.ShowExperimentalFeaturesHint",scope:"world",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","hiddendevmenu",{name:"Hidden dev menu",hint:"Use at your own risk",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","developmentEnabled",{name:"Dev phased allowed",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","showWelcomeMessage",{name:"SETTINGS.showWelcomeMessage",hint:"SETTINGS.showWelcomeMessage",scope:"world",config:!1,default:!0,type:Boolean}),game.settings.register("CoC7","charCreationEnabled",{name:"Char creation allowed",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","systemUpdateVersion",{name:"System update version",scope:"world",config:!1,type:String,default:"0"}),game.settings.register("CoC7","systemUpdatedModuleVersion",{scope:"world",config:!1,default:{}}),game.settings.register("CoC7","xpEnabled",{name:"Enable XP gain",scope:"world",config:!1,type:Boolean,default:!0}),game.settings.register("CoC7","showInstructions",{name:"Show changelog/instructions",scope:"world",config:!1,type:String,default:"0"}),game.settings.register("CoC7","InvestigatorWizardSetup",{name:"Force specific setup CoC ID for Investigator Wizard",scope:"world",config:!1,type:String,default:""}),game.settings.register("CoC7","InvestigatorWizardQuantity",{name:"Number of investigators a single user without create actor rights can own",scope:"world",config:!1,type:Number,default:0}),game.settings.register("CoC7","InvestigatorWizardOwnership",{name:"Default permissions for non owner players",scope:"world",config:!1,type:Number,default:CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE}),game.settings.register("CoC7","InvestigatorWizardRerolls",{name:"Allow players to reroll characteristics",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","InvestigatorWizardPointBuy",{name:"Force point buy instead of setup choice",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","InvestigatorWizardQuickFire",{name:"Quick fire setup values",scope:"world",config:!1,type:Array,default:[]}),CONFIG.Combat.initiative={formula:"@characteristics.dex.value",decimals:4},CONFIG.debug.hooks=!!game.settings.get("CoC7","debugmode"),CONFIG.Dice.terms.t=CoC7DecaderDie,CONFIG.Dice.terms.o=CoC7DecaderDieOther}(),Actors.unregisterSheet("core",ActorSheet),Actors.registerSheet("CoC7",CoC7NPCSheet,{types:["npc"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7VehicleSheet,{types:["vehicle"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7CreatureSheet,{types:["creature"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7ContainerSheet,{types:["container"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7CharacterSheet,{types:["character"],makeDefault:!0}),Items.unregisterSheet("core",ItemSheet),Items.registerSheet("CoC7",CoC7SkillSheet,{types:["skill"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7WeaponSheet,{types:["weapon"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7BookSheet,{types:["book"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7SpellSheet,{types:["spell"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7TalentSheet,{types:["talent"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7StatusSheet,{types:["status"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7OccupationSheet,{types:["occupation"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ArchetypeSheet,{types:["archetype"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7SetupSheet,{types:["setup"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ChaseSheet,{types:["chase"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ItemSheet,{types:["item"]}),Items.registerSheet("CoC7",CoC7ItemSheetV2,{types:["item"],makeDefault:!0}),Scenes.unregisterSheet("core",SceneConfig),Scenes.registerSheet("CoC7",CoC7SceneConfig,{makeDefault:!0}),Journal.unregisterSheet("core",JournalSheet),Journal.registerSheet("CoC7",CoC7JournalSheet,{makeDefault:!0}),RollTables.unregisterSheet("core",RollTableConfig),RollTables.registerSheet("CoC7",CoC7RollTableConfig,{makeDefault:!0}),Macros.unregisterSheet("core",MacroConfig),Macros.registerSheet("CoC7",CoC7MacroConfig,{makeDefault:!0}),Playlists.unregisterSheet("core",PlaylistConfig),Playlists.registerSheet("CoC7",CoC7PlaylistConfig,{makeDefault:!0}),Handlebars.registerHelper("rollActorImg",(function(actorKey){return chatHelper.getActorImgFromKey(actorKey)||"../icons/svg/mystery-man-black.svg"})),function(){Hooks.on("renderCompendium",(async(app,html,data)=>{if("Item"===app.collection.documentName){await app.collection.getIndex();const types=[...new Set(data.index.filter((i=>"#[CF_tempEntity]"!==i.name)).map((item=>item.type)))],select=[];select.push('<option value="">'+game.i18n.localize("CoC7.All")+"</option>"),types.includes("archetype")&&select.push('<option value="archetype">'+game.i18n.localize("CoC7.Entities.Archetype")+"</option>"),types.includes("book")&&select.push('<option value="book">'+game.i18n.localize("CoC7.Entities.Book")+"</option>"),types.includes("item")&&select.push('<option value="item">'+game.i18n.localize("CoC7.Entities.Item")+"</option>"),types.includes("occupation")&&select.push('<option value="occupation">'+game.i18n.localize("CoC7.Entities.Occupation")+"</option>"),types.includes("setup")&&select.push('<option value="setup">'+game.i18n.localize("CoC7.Entities.Setup")+"</option>"),types.includes("skill")&&select.push('<option value="skill">'+game.i18n.localize("CoC7.Entities.Skill")+"</option>"),types.includes("spell")&&select.push('<option value="spell">'+game.i18n.localize("CoC7.Entities.Spell")+"</option>"),types.includes("status")&&select.push('<option value="status">'+game.i18n.localize("CoC7.Entities.Status")+"</option>"),types.includes("talent")&&select.push('<option value="talent">'+game.i18n.localize("CoC7.Entities.Talent")+"</option>"),types.includes("weapon")&&select.push('<option value="weapon">'+game.i18n.localize("CoC7.Entities.Weapon")+"</option>");const eras=[];eras.push('<option value="">'+game.i18n.localize("CoC7.All")+"</option>");for(const era of Object.entries(COC7.eras).map((e=>({id:e[0],name:game.i18n.localize(e[1])}))).sort(CoC7Utilities.sortByNameKey))eras.push('<option value="'+era.id+'">'+era.name+"</option>");html.data("packId",app.metadata.id);let uncommon=game.i18n.localize("CoC7.SkillRarityShort");"CoC7.SkillRarityShort"===uncommon&&(uncommon="??"),html.find("li.directory-item").each((function(){const row=$(this);let item=[];item=void 0!==data.index?data.index.find((i=>i._id===row.data("document-id"))):app.collection.index.get(row.data("document-id")),item&&"skill"===item.type&&row.find("a").html(item.name+" ("+(item.system?.base??"?")+"%"+(item.system?.properties?.rarity?" "+uncommon:"")+")")})),html.find("header.directory-header").after('<div class="compendiumfilter"><div class="header-search flexrow"><i class="fas fa-layer-group"></i><select name="coc7type'+app.appId+'" style="">'+select.join("")+'</select></div><div class="header-search flexrow era_select" style="display:none"><i class="fas fa-layer-group"></i><select name="coc7era'+app.appId+'" style="">'+eras.join("")+"</select></div></div>"),html.find("select").change(performFilter.bind(this)),html.find("input").keyup(performFilter.bind(this))}}))}(),CoCID.init(),CoC7Link.init()}))}class CoC7Tooltips{constructor(){this.ToolTipHover=null,this.toolTipTimer=null}displayToolTip(toolTip){if(void 0!==this.ToolTipHover){const bounds=this.ToolTipHover.getBoundingClientRect();if(!isNaN(bounds.left||"")&&!isNaN(bounds.top||"")){let left=bounds.left,top=bounds.top;const heightText=$(this.ToolTipHover).outerHeight();$("body").append('<div id="help-tooltip">'+toolTip+"</div>");const tip=$("#help-tooltip"),heightTip=tip.outerHeight(),widthTip=tip.outerWidth();window.innerHeight<1.5*heightText+heightTip+top?top-=heightTip:top+=1.5*heightText,window.innerWidth<widthTip+left&&(left=window.innerWidth-widthTip),tip.css({left:left+"px",top:top+"px"})}}}toolTipLeave(event){game.CoC7Tooltips.ToolTipHover===event.currentTarget&&(clearTimeout(game.CoC7Tooltips.toolTipTimer),game.CoC7Tooltips.ToolTipHover=null,$("#help-tooltip").remove())}}let CoC7Tour=class{};"undefined"!=typeof Tour&&(CoC7Tour=class extends Tour{async waitForElement(selector){return new Promise(((resolve,reject)=>{if(document.querySelector(selector))return void resolve();new MutationObserver(((mutations,observer)=>{document.querySelectorAll(selector).forEach((el=>{resolve(),observer.disconnect()}))})).observe(document.body,{childList:!0,subtree:!0})}))}async _preStep(){if(await super._preStep(),0===this.stepIndex)for(const app of Object.values(ui.windows))app.close();await this.waitForElement(this.currentStep.selector),void 0!==this.currentStep.sidebarTab&&ui.sidebar.activateTab(this.currentStep.sidebarTab)}async _postStep(){if(await super._postStep(),!(this.stepIndex<0)&&this.hasNext&&this.currentStep.action)if(this.isResetting)this.isResetting=!1;else if("click"===this.currentStep.action)document.querySelector(this.currentStep.selector).click()}async reset(){"completed"!==this.status&&(this.isResetting=!0),await super.reset()}});class EnableVariantRulesEn extends CoC7Tour{constructor(config){super(mergeObject({title:"Enable optional/variant rules.",description:"Learn how to enable Pulp Cthulhu rules, or other variant rules",canBeResumed:!1,display:!0,steps:[{id:"goto-settings",selector:'.tabs>a[data-tab="settings"]',title:"COC7.Tour.GotoSettingsTitle",content:"COC7.Tour.GotoSettingsContent",sidebarTab:"settings"},{id:"goto-configure",selector:'[data-action="configure"]',title:"COC7.Tour.GotoConfigureTitle",content:"COC7.Tour.GotoConfigureContent",action:"click"},{id:"goto-system-settings",selector:'[data-tab="system"]',title:"COC7.Tour.GotoSystemSettingsTitle",content:"COC7.Tour.GotoSystemSettingsContent",action:"click"},{id:"goto-game-rules",selector:'[data-category="system"] [data-key="CoC7.gameRules"]',title:"COC7.Tour.GotoGameRulesTitle",content:"COC7.Tour.GotoGameRulesContent",action:"click"},{id:"save-game-rules",selector:"#rules-settings [name=submit]",title:"COC7.Tour.SaveGameRulesTitle",content:"COC7.Tour.SaveGameRulesContent"}],localization:{"COC7.Tour.GotoSettingsTitle":"Game Settings","COC7.Tour.GotoSettingsContent":"Go to the Game Settings tab","COC7.Tour.GotoConfigureTitle":"Configure Settings","COC7.Tour.GotoConfigureContent":"Click on the Configure Settings button","COC7.Tour.GotoSystemSettingsTitle":"System Settings","COC7.Tour.GotoSystemSettingsContent":"Go to the System Settings tab","COC7.Tour.GotoGameRulesTitle":"Configure Variant/Optional Rules","COC7.Tour.GotoGameRulesContent":"Click on the Configure Variant/Optional Rules button","COC7.Tour.SaveGameRulesTitle":"Save rule changes","COC7.Tour.SaveGameRulesContent":"Once you have made your changes click on the Save Changes button"}},config))}}class EnableVariantRulesFr extends EnableVariantRulesEn{constructor(config){super({title:"Activez les règles optionnelles.",description:"Activez les règles optionelles et Pulp Cthulhu",localization:{"COC7.Tour.GotoSettingsTitle":"Paramètres","COC7.Tour.GotoSettingsContent":'Ouvrir l\'onglet "Paramètres"',"COC7.Tour.GotoConfigureTitle":"Configuration des options","COC7.Tour.GotoConfigureContent":'Cliquez sur "Configuration des options"',"COC7.Tour.GotoSystemSettingsTitle":"Système de jeu","COC7.Tour.GotoSystemSettingsContent":'Ouvrez l\'onglet "Système de jeu"',"COC7.Tour.GotoGameRulesTitle":"Configurer les variantes/règles optionnelles","COC7.Tour.GotoGameRulesContent":'Clickez sur le boutton "Configurer les variantes/règles optionnelles"',"COC7.Tour.SaveGameRulesTitle":"Sauvegarder les modifications","COC7.Tour.SaveGameRulesContent":'Apres avoir choisis les options cliquez sur le bouton "Sauvegarder les modifications"'}})}}function ready_listen(){Hooks.once("ready",(async()=>{console.log("Call of Cthulhu 7th Edition | Ready"),game.settings.get("CoC7","showWelcomeMessage")&&game.user.isGM,game.CoC7Tooltips=new CoC7Tooltips;const instructionsVersion=game.settings.get("CoC7","showInstructions");let lang=game.i18n.lang;const readMe={en:"sxB2OXbfwV6M0nyQ",es:"35FM7ZOdzC6L2xlj",fr:"tdakyzTVOQsAMdSm"};void 0===readMe[lang]&&(lang="en"),CONFIG.CoC7=CONFIG.CoC7??{},CONFIG.CoC7.Manual=readMe[lang],isNewerVersion(game.system.version,instructionsVersion??"0")&&((await game.packs.get("CoC7.system-doc").getDocument(CONFIG.CoC7.Manual))?.sheet.render(!0),game.settings.set("CoC7","showInstructions",game.system.version)),async function(){try{let lang=game.i18n.lang;const tours={en:{"enable-variant-rules":EnableVariantRulesEn},fr:{"enable-variant-rules":EnableVariantRulesFr}};void 0===tours[lang]&&(lang="en");for(const tourName in tours[lang])game.tours.register("CoC7",tourName,new tours[lang][tourName])}catch(err){console.error("TOUR ERROR",err)}}()}))}const CoC7Hooks={listen(){Hooks.on("createToken",(async(tokenDocument,options,actorId)=>{"icons/svg/mystery-man.svg"===tokenDocument.texture.src&&tokenDocument.texture.src!==tokenDocument._object.actor.img&&(tokenDocument.texture.src=tokenDocument._object.actor.img),"character"!==tokenDocument._object.actor.type&&(tokenDocument._object.actor.hasRollableCharacteristics||tokenDocument._object.actor.hosRollableSkills)&&new Dialog({title:game.i18n.localize("CoC7.TokenCreationRoll.Title"),content:game.i18n.localize("CoC7.TokenCreationRoll.Prompt"),buttons:{roll:{label:game.i18n.localize("CoC7.TokenCreationRoll.ButtonRoll"),callback:async()=>await tokenDocument._object.actor.rollCharacteristicsValue()},average:{label:game.i18n.localize("CoC7.TokenCreationRoll.ButtonAverage"),callback:async()=>await tokenDocument._object.actor.averageCharacteristicsValue()},skip:{label:game.i18n.localize("CoC7.Migrate.ButtonSkip")}}}).render(!0)})),Hooks.once("diceSoNiceReady",(dice3d=>{dice3d.addDicePreset({type:"dt",labels:["10","20","30","40","50","60","70","80","90","00"],fontScale:.75,system:"standard"}),dice3d.addDicePreset({type:"do",labels:["10","20","30","40","50","60","70","80","90","00"],fontScale:.75,system:"standard"}),game.CoC7DecaderDSNFaces=new CoC7DecaderDSNFaces})),Hooks.on("diceSoNiceRollStart",(dice3d=>{game.CoC7DecaderDSNFaces.setFaces()})),init_listen(),ready_listen(),Hooks.on("renderActorSheet",(async(data,html,options)=>{})),Hooks.on("renderChatMessage",((app,html,data)=>{CoC7Chat.renderMessageHook(app,html,data),CoC7Chat.renderChatMessageHook(app,html,data),CoC7Parser.ParseMessage(app,html,data),CoC7Link.bindEventsHandler(html)})),Hooks.on("renderDialog",((dialog,html)=>{const form=html.find("form");if(form.is("#document-create")&&0!==form.find("select").length){const entityCreateSelectTag=form.find("[name='type']"),entitySortedList=[],showExperimental=!!game.settings.get("CoC7","experimentalFeatures");entityCreateSelectTag.children().each(((o,entityOption)=>{const key=entityOption.textContent?.capitalize();game.i18n.has(`CoC7.Entities.${key}`)&&(entityOption.textContent=game.i18n.localize(`CoC7.Entities.${key}`)),!showExperimental&&["vehicle"].includes(entityOption.value)||entitySortedList.push(entityOption)})),entityCreateSelectTag.empty(),entityCreateSelectTag.append(entitySortedList.sort(((first,second)=>first.innerText.localeCompare(second.innerText)))),"actor"===entityCreateSelectTag.val()?entityCreateSelectTag.val("character"):"book"===entityCreateSelectTag.val()&&entityCreateSelectTag.val("item")}})),Hooks.on("renderItemSheet",(async(data,html,options)=>{})),Hooks.on("renderPause",(async(data,html,options)=>{game.settings.get("CoC7","overrideGameArtwork")&&("null"===game.settings.get("CoC7","artPauseImage").toLowerCase()&&html.find("img").remove(),""!==game.settings.get("CoC7","artPauseImage")&&html.find("img").attr("src",game.settings.get("CoC7","artPauseImage")),""!==game.settings.get("CoC7","artPauseText")&&html.find("h3").html(game.settings.get("CoC7","artPauseText")))})),Hooks.on("renderPlayerList",((playerList,html,data)=>{$("<h4>").append('<div><i class="fa-regular fa-calendar"></i>'+game.i18n.format(COC7.eras[game.settings.get("CoC7","worldEra")]??"CoC7.CoCIDFlag.error.unknown-era",{era:game.settings.get("CoC7","worldEra")})+"</div>").insertAfter($("h3",html))})),Hooks.on("renderSettingsConfig",((app,html,user)=>{CoC7DirectoryPicker.processHtml(html)}))}};async function gmcreatemessageas(data){const meleeTarget=new CoC7MeleeTarget(data.targetKey,data.messageId,data.fastForward);meleeTarget.initiatorKey=data.actorKey;return await meleeTarget.createChatCard()}async function gmtradeitemto(data){try{let actor;actor=data.scene?game.scenes.get(data.scene).tokens.get(data.actorFrom).actor:game.actors.get(data.actorFrom);const item=actor.items.get(data.item);await game.actors.get(data.actorTo).createEmbeddedDocuments("Item",[item.toJSON()])&&actor.deleteEmbeddedDocuments("Item",[item.id])}catch(e){return ui.notifications.error(e),!1}return!0}class CoC7SystemSocket{static async callSocket(data){if(void 0!==data.listener){if(game.user.id===data.listener)switch(data.type){case"character-wizard":CoC7InvestigatorWizard.createCharacterFromData(data.payload);break;case"open-character":game.actors.get(data.payload).sheet.render(!0)}}else{if(game.user.isGM)switch(data.type){case OpposedCheckCard.defaultConfig.type:OpposedCheckCard.dispatch(data);break;case CombinedCheckCard.defaultConfig.type:CombinedCheckCard.dispatch(data);break;case"invoke":(await fromUuid(data.item))[data.method](data.data)}if("updateChar"===data.type)CoC7Utilities.updateCharSheets()}}static requestKeeperAction(data){if(game.user.isGM)data.listener=game.user.id,CoC7SystemSocket.callSocket(data);else{const keepers=game.users.filter((u=>u.active&&u.isGM));keepers.length?(data.listener=keepers[0].id,game.socket.emit("system.CoC7",data)):ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingKeeperUser"))}}static requestUserAction(data,{userId=null,errorIfMissing=!0,includeSelf=!0}={}){if(userId&&void 0!==userId)if(userId===game.user.id)data.listener=game.user.id,CoC7SystemSocket.callSocket(data);else{const user=game.users.get(userId);void 0!==user.id&&user.active?(data.listener=user.id,game.socket.emit("system.CoC7",data)):errorIfMissing&&ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingUser"))}else includeSelf&&CoC7SystemSocket.callSocket(data),game.socket.emit("system.CoC7",data)}}function _onLeftClick(event){return event.shiftKey}Hooks.on("renderSettingsConfig",((app,html,options)=>{const systemTab=$(app.form).find(".tab[data-tab=system]");systemTab.find("input[name=CoC7\\.displayInitDices]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleInitiative")+"</h2>"),systemTab.find("input[name=CoC7\\.stanbyGMRolls]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleRoll")+"</h2>"),systemTab.find("input[name=CoC7\\.trustedCanModfyChatCard]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleChatCards")+"</h2>"),systemTab.find("input[name=CoC7\\.enableStatusIcons]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleScene")+"</h2>"),systemTab.find("input[name=CoC7\\.overrideGameArtwork]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleGameArtwork")+"</h2>"),systemTab.find("input[name=CoC7\\.displayPlayerNameOnSheet]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleSheet")+"</h2>"),systemTab.find("input[name=CoC7\\.disregardUsePerRound]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleWeapon")+"</h2>"),systemTab.find("input[name=CoC7\\.syncDice3d]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleDiceSoNice")+"</h2>"),systemTab.find("input[name=CoC7\\.debugmode]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleDeveloperDebug")+"</h2>"),systemTab.find("select[name=CoC7\\.boutOfMadnessSummaryTable]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleRollTable")+"</h2>")})),Hooks.once("init",(async function(){game.CoC7={macros:{skillCheck:CoC7Utilities.skillCheckMacro,weaponCheck:CoC7Utilities.weaponCheckMacro,check:CoC7Utilities.checkMacro},cards:{DamageCard},dev:{dice:{alwaysCrit:!1,alwaysFumble:!1}},eras:(era,name)=>{COC7.eras[era]=name}},Combat.prototype.rollInitiative=rollInitiative})),function(...cardclass){Hooks.on("renderChatLog",((app,html,data)=>EnhancedChatCardLib.injectCSS(app,html,data))),Hooks.once("socketlib.ready",(function(){EnhancedChatCardLib.register(cardclass),EnhancedChatCardLib.socket=socketlib.registerSystem(game.system.id),EnhancedChatCardLib.socket.register("updateMessage",updateMessage),EnhancedChatCardLib.socket.register("GMUpdate",GMUpdate),EnhancedChatCardLib.socket.register("advise",advise)})),Hooks.on("renderChatMessage",((app,html,data)=>EnhancedChatCard.bindListeners(html)))}(ChaseObstacleCard),Hooks.on("renderCombatTracker",((app,html,data)=>CoC7Combat.renderCombatTracker(app,html,data))),Hooks.on("chatMessage",((html,content)=>{if(content.match(/^\/(cbr|cc)/i)){const commands=content.match(/(\d+)/g);return commands?new Roll("1d100").roll({async:!0}).then((r=>{const s=r.result,res=commands.map((m=>{let res="";return res=s<=1?game.i18n.localize("CoC7.CriticalSuccess"):s>=100?game.i18n.localize("CoC7.Fumble"):s<=m/5?game.i18n.localize("CoC7.ExtremeSuccess"):s<=m/2?game.i18n.localize("CoC7.HardSuccess"):s<=m?game.i18n.localize("CoC7.RegularSuccess"):s>=96&&m<50?game.i18n.localize("CoC7.Fumble"):game.i18n.localize("CoC7.Failure"),res+=" "+game.i18n.localize("CoC7.Value")+" "+m,res})).join(" / ");r.toMessage({speaker:ChatMessage.getSpeaker(),flavor:res})})):ui.notifications.error("Incorrect usage of command"),!1}})),CoC7Hooks.listen(),Hooks.once("socketlib.ready",(function(){game.CoC7socket=socketlib.registerSystem("CoC7"),game.CoC7socket.register("gmcreatemessageas",gmcreatemessageas),game.CoC7socket.register("gmtradeitemto",gmtradeitemto)})),Hooks.once("setup",(function(){const toLocalize=["spellProperties","bookType","talentType","occupationProperties","statusType"];for(const o of toLocalize){const localized=Object.entries(COC7[o]).map((e=>[e[0],game.i18n.localize(e[1])]));COC7[o]=localized.reduce(((obj,e)=>(obj[e[0]]=e[1],obj)),{})}let effectIndex=CONFIG.statusEffects.findIndex((t=>t.id===COC7.status.dead));-1!==effectIndex&&(CONFIG.statusEffects[effectIndex].icon="systems/CoC7/assets/icons/tombstone.svg"),effectIndex=CONFIG.statusEffects.findIndex((t=>t.id===COC7.status.unconscious)),-1!==effectIndex&&(CONFIG.statusEffects[effectIndex].icon="systems/CoC7/assets/icons/knocked-out-stars.svg"),CONFIG.statusEffects.unshift({id:COC7.status.tempoInsane,label:"CoC7.BoutOfMadnessName",icon:"systems/CoC7/assets/icons/hanging-spider.svg"},{id:COC7.status.indefInsane,label:"CoC7.InsanityName",icon:"systems/CoC7/assets/icons/tentacles-skull.svg"},{id:COC7.status.criticalWounds,label:"CoC7.CriticalWounds",icon:"systems/CoC7/assets/icons/arm-sling.svg"},{id:COC7.status.dying,label:"CoC7.Dying",icon:"systems/CoC7/assets/icons/heart-beats.svg"})})),Hooks.on("createActiveEffect",((data,options,userId)=>{if(game.userId===userId&&void 0!==data.flags.core&&void 0!==data.flags.core.statusId)switch(data.flags.core.statusId){case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:data.parent.setCondition(data.flags.core.statusId,{forceValue:!0});break;case COC7.status.tempoInsane:{const realTime=data.flags.CoC7?.realTime;let duration=null;!0===realTime?duration=data.duration?.rounds:!1===realTime&&(duration=data.duration?.seconds,isNaN(duration)||(duration=Math.floor(duration/3600))),data.parent.setCondition(COC7.status.tempoInsane,{forceValue:!0,realTime,duration})}}})),Hooks.on("deleteActiveEffect",((data,options,userId)=>{if(game.userId===userId&&void 0!==data.flags.core&&void 0!==data.flags.core.statusId)switch(data.flags.core.statusId){case COC7.status.tempoInsane:case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:data.parent.unsetCondition(data.flags.core.statusId,{forceValue:!0})}})),Hooks.on("changeSidebarTab",(directory=>{if(directory instanceof ItemDirectory){const item=game.items.find((i=>"__CoC7InternalItem__"===i.name));if(item){const itemElement=directory._element.find(`[data-document-id='${item.id}']`);itemElement&&(itemElement[0].style.display="none")}}})),Hooks.on("hotbarDrop",((bar,data,slot)=>CoC7Utilities.createMacro(bar,data,slot))),Hooks.on("renderChatLog",((app,html,data)=>CoC7Chat.chatListeners(app,html,data))),Hooks.on("updateChatMessage",((chatMessage,chatData,diff,speaker)=>CoC7Chat.onUpdateChatMessage(chatMessage,chatData,diff,speaker))),Hooks.on("ready",(async()=>{function _tableSettingsChanged(table,id){game.CoC7.tables[table]="none"===id?null:game.tables.get(id)}await Updater.checkForUpdate(),function(){const body=$("body");document.addEventListener("click",CoC7ContextMenu.closeAll),body.on("click","a.coc7-inline-check",CoC7Check._onClickInlineRoll),document.addEventListener("mousedown",_onLeftClick)}(),game.CoC7.skillList=await(game.packs.get("CoC7.skills")?.getDocuments()),game.socket.on("system.CoC7",(async data=>{CoC7SystemSocket.callSocket(data)}));const tableChoice={none:"SETTINGS.LetKeeperDecide"};for(const t of game.tables)tableChoice[t._id]=t.name;game.settings.register("CoC7","boutOfMadnessSummaryTable",{name:"SETTINGS.BoutOfMadnessSummaryTable",scope:"world",config:!0,default:"none",type:String,choices:tableChoice,onChange:id=>_tableSettingsChanged("boutOfMadness_Summary",id)}),game.settings.register("CoC7","boutOfMadnessRealTimeTable",{name:"SETTINGS.BoutOfMadnessRealTimeTable",scope:"world",config:!0,default:"none",type:String,choices:tableChoice,onChange:id=>_tableSettingsChanged("boutOfMadness_RealTime",id)}),game.CoC7.tables={boutOfMadness_Summary:"none"===game.settings.get("CoC7","boutOfMadnessSummaryTable")?null:game.tables.get(game.settings.get("CoC7","boutOfMadnessSummaryTable")),boutOfMadness_RealTime:"none"===game.settings.get("CoC7","boutOfMadnessRealTimeTable")?null:game.tables.get(game.settings.get("CoC7","boutOfMadnessRealTimeTable"))}})),Hooks.on("renderCoC7ChaseSheet",((app,html,data)=>CoC7ChaseSheet.setScroll(app,html,data))),Hooks.on("closeCoC7ChaseSheet",((app,html)=>CoC7ChaseSheet.onClose(app,html))),Hooks.on("closeActorSheet",(characterSheet=>characterSheet.onCloseSheet())),Hooks.on("renderCoC7CreatureSheet",((app,html,data)=>CoC7CreatureSheet.forceAuto(app,html,data))),Hooks.on("renderCoC7NPCSheet",((app,html,data)=>CoC7NPCSheet.forceAuto(app,html,data))),Hooks.on("chatMessage",CoC7Utilities.ParseChatEntry),Hooks.on("getSceneControlButtons",(()=>{})),Hooks.on("renderItemSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderJournalPageSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderActorSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderActorSheet",CoC7CharacterSheet.renderSheet),Hooks.on("renderItemSheet",CoC7CharacterSheet.renderSheet),Hooks.on("getSceneControlButtons",CoC7Menu.getButtons),Hooks.on("renderSceneControls",CoC7Menu.renderControls),Hooks.on("dropCanvasData",CoC7Canvas.onDropSomething),Hooks.on("dropActorSheetData",(function(actor,sheet,data){if("Item"===data.type&&data.actorId){if(actor.data._id===data.actorId)return;let actorFrom=null;switch(actorFrom=data.sceneId&&data.tokenId?game.scenes.get(data.sceneId).tokens.get(data.tokenId).actor:game.actors.get(data.actorId),actor.data.type){case"character":case"npc":case"creature":if(!["chase"].includes(data.data.type))return;break;case"vehicle":return;case"container":if(!["book","item","spell","weapon"].includes(data.data.type))return}actorFrom&&actorFrom.deleteEmbeddedDocuments("Item",[data.data._id])}})),CONFIG.ui.settings=CoC7SettingsDirectory,CONFIG.ui.compendium=CoC7CompendiumDirectory,CONFIG.ui.actors=CoC7ActorDirectory})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzBKLEdBQUduRCxPQUFTKzdFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvZGljZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jb2M3LWNvbnRlbnQtbGluay1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvaGVscGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3JvbGwtZGlhbG9nLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NhcmRzL3JvbGwtY2FyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9jb21iaW5lZC1yb2xsLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2ludGVyYWN0aXZlLWNoYXQtY2FyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9kYW1hZ2UuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY2FyZHMvb3Bwb3NlZC1yb2xsLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NhcmQtYWN0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY2FyZHMvc2FuLWNoZWNrLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3NhbmRhdGEtZGlhbG9nLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctY2hhdC1tZXNzYWdlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NvbmNoZWNrLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3NraWxsLXNlbGVjdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvcG9pbnQtc2VsZWN0aW9uLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jaGFyLXNlbGVjdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvY2hhci1yb2xsLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9za2lsbC1zcGVjLXNlbGVjdC1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvc2tpbGwtc3BlY2lhbGl6YXRpb24tc2VsZWN0LWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9za2lsbC12YWx1ZS1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY29tYmF0L21lbGVlLXJlc29sdXRpb24uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY29tYmF0L21lbGVlLXRhcmdldC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9yYW5nZWNvbWJhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvYWN0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvY29jNy1saW5rLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctcGFyc2VyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9pdGVtLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGVjay5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYy1pZC1lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0aXZlLWVmZmVjdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY29udGV4dC1tZW51LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FjdG9ycy9zaGVldHMvbnBjLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2NyZWF0dXJlLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NyZWF0ZS1teXRob3MtZW5jb3VudGVycy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0b3JzL3NoZWV0cy9jaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NvbWJhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jb2MtaWQtYmF0Y2guanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3VwZGF0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvYWN0b3ItaW1wb3J0ZXItcmVnZXhwLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2FjdG9yLWltcG9ydGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2NvYzctZGlyZWN0b3J5LXBpY2tlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kaG9sZWhvdXNlX2ltcG9ydGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2FjdG9yLWltcG9ydGVyLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kcm9wLWNvYy1pZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2hlZXRzL29jY3VwYXRpb24uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvbWVudS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NldHRpbmdzLWRpcmVjdG9yeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY29tcGVuZGl1bS1kaXJlY3RvcnkuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FjdG9yLWRpcmVjdG9yeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kZWNhZGVyLWRzbi1mYWNlcy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc3BlbGwvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvYm9vay9kYXRhLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jb21tb24vY2hhdGNhcmRsaWIvc3JjL2NoYXRjYXJkbGliLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9jaGFzZS9wYXJ0aWNpcGFudC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvY2hhc2UvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2tpbGwvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0b3JzL3ZlaGljbGUvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kZWNhZGVyLWRpZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kZWNhZGVyLWRpZS1vdGhlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2NyaXB0cy9nYW1lLXJ1bGVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvYXJjaGV0eXBlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9ib29rL3NoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jaGFzZS1wYXJ0aWNpcGFudC1pbXBvcnRlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvY2hhc2Uvc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy9pdGVtLXNoZWV0VjIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy9pdGVtLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zaGVldHMvY29jNy1qb3VybmFsLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zaGVldHMvY29jNy1tYWNyby1jb25maWcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NoZWV0cy9jb2M3LXBsYXlsaXN0LWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2hlZXRzL2NvYzctcm9sbC10YWJsZS1jb25maWcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NoZWV0cy9jb2M3LXNjZW5lLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2hlZXRzL3NldHVwLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvc2tpbGwuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NwZWxsL3NoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvc3RhdHVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvdGFsZW50LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL3ZlaGljbGUuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy93ZWFwb24tc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29tcGVuZGl1bS1maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29jLWlkLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9pbml0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2NvbmZpZ3VyZS1kb2N1bWVudHMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvbG9hZC10ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvcmVnaXN0ZXItc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvcmVnaXN0ZXItc2hlZXRzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2hhbmRsZWJhcnMtaGVscGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3Rvb2x0aXBzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctdG91ci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvdG91cnMvZW5hYmxlLXZhcmlhbnQtcnVsZXMtZW4uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3RvdXJzL2VuYWJsZS12YXJpYW50LXJ1bGVzLWZyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZWFkeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2NyaXB0cy9yZWdpc3Rlci10b3Vycy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL2NyZWF0ZS10b2tlbi5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvZGljZS1zby1uaWNlLXJlYWR5LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9kaWNlLXNvLW5pY2Utcm9sbC1zdGFydC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLWFjdG9yLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZW5kZXItY2hhdC1tZXNzYWdlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZW5kZXItZGlhbG9nLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZW5kZXItaXRlbS1zaGVldC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLXBhdXNlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZW5kZXItcGxheWVyLWxpc3QuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL3JlbmRlci1zZXR0aW5ncy1jb25maWcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jb2M3LXN5c3RlbS1zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NvYzcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2RpY2Vib3QuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL2Ryb3AtYWN0b3Itc2hlZXQtZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOYW1lc3BhY2UgQ09DNyBDb25maWd1cmF0aW9uIFZhbHVlc1xuZXhwb3J0IGNvbnN0IENPQzcgPSB7fVxuXG4vLyBDdXN0b20gY2hhdE1lc3NhZ2Vcbi8vIENPTkZJRy5DaGF0TWVzc2FnZS50ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY2hhdC1tZXNzYWdlLmh0bWwnO1xuXG4vKipcbiAqIFRoZSBzZXQgb2YgRXJhcyB1c2VkIHdpdGhpbiB0aGUgc3lzdGVtXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5DT0M3LmVyYXMgPSB7XG4gIHN0YW5kYXJkOiAnQ29DNy5FcmExOTIwJyxcbiAgbW9kZXJuOiAnQ29DNy5FcmFNb2Rlcm4nLFxuICBtb2Rlcm5QdWxwOiAnQ29DNy5FcmFNb2Rlcm5QdWxwJyxcbiAgcHVscDogJ0NvQzcuRXJhUHVscCcsXG4gIGRvd25EYXJrZXJUcmFpbHM6ICdDb0M3LkVyYURvd25EYXJrZXJUcmFpbHMnLFxuICBkb3duRGFya2VyVHJhaWxzUHVscDogJ0NvQzcuRXJhRG93bkRhcmtlclRyYWlsc1B1bHAnLFxuICBkYXJrQWdlczogJ0NvQzcuRXJhRGFya0FnZXMnLFxuICBkYXJrQWdlc1B1bHA6ICdDb0M3LkVyYURhcmtBZ2VzUHVscCcsXG4gIHJlZ2VuY3k6ICdDb0M3LkVyYVJlZ2VuY3knLFxuICByZWdlbmN5UHVscDogJ0NvQzcuRXJhUmVnZW5jeVB1bHAnLFxuICAvLyBSZWlnbiBvZiBUZXJyb3JcbiAgZ2FzTGlnaHQ6ICdDb0M3LkVyYUdhc0xpZ2h0JyxcbiAgaW52aWN0dXM6ICdDb0M3LkVyYUludmljdHVzJ1xufVxuXG5DT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cyA9IHtcbiAgZGVjaW1hbExlZnQ6ICdkZWNpbWFsTGVmdCcsXG4gIGRlY2ltYWxSaWdodDogJ2RlY2ltYWxSaWdodCcsXG4gIGludGVnZXJMZWZ0OiAnaW50ZWdlckxlZnQnLFxuICBpbnRlZ2VyUmlnaHQ6ICdpbnRlZ2VyUmlnaHQnLFxuICBsc2Q6ICdsc2QnLFxuICByb21hbjogJ3JvbWFuJ1xufVxuXG5DT0M3Lm1vbmV0YXJ5Rm9ybWF0cyA9IHtcbiAgZGVjaW1hbExlZnQ6ICdDb0M3Lk1vbmV0YXJ5Rm9ybWF0RGVjaW1hbExlZnQnLFxuICBkZWNpbWFsUmlnaHQ6ICdDb0M3Lk1vbmV0YXJ5Rm9ybWF0RGVjaW1hbFJpZ2h0JyxcbiAgaW50ZWdlckxlZnQ6ICdDb0M3Lk1vbmV0YXJ5Rm9ybWF0SW50ZWdlckxlZnQnLFxuICBpbnRlZ2VyUmlnaHQ6ICdDb0M3Lk1vbmV0YXJ5Rm9ybWF0SW50ZWdlclJpZ2h0JyxcbiAgbHNkOiAnQ29DNy5Nb25ldGFyeUZvcm1hdExzZCcsXG4gIHJvbWFuOiAnQ29DNy5Nb25ldGFyeUZvcm1hdFJvbWFuJ1xufVxuXG5DT0M3Lm1vbmV0YXJ5VHlwZUtleXMgPSB7XG4gIG5vbmU6ICdub25lJyxcbiAgYXNzZXM6ICdhc3NlcycsXG4gIHNlc3RlcnRpaTogJ3Nlc3RlcnRpaScsXG4gIHF1aW5hcmlpOiAncXVpbmFyaWknLFxuICBkZW5hcmlpOiAnZGVuYXJpaScsXG4gIGQ6ICdkJyxcbiAgczogJ3MnLFxuICB2YWx1ZTogJ3ZhbHVlJyxcbiAgbXVsdGlwbGllcjogJ211bHRpcGxpZXInXG59XG5cbkNPQzcubW9uZXRhcnlUeXBlcyA9IHtcbiAgbm9uZToge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZU5vbmUnLFxuICAgIGZpbHRlcjogW11cbiAgfSxcbiAgYXNzZXM6IHtcbiAgICBuYW1lOiAnQ29DNy5Nb25ldGFyeVR5cGVBc3NlcycsXG4gICAgZmlsdGVyOiBbJ3JvbWFuJ11cbiAgfSxcbiAgc2VzdGVydGlpOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlU2VzdGVydGlpJyxcbiAgICBmaWx0ZXI6IFsncm9tYW4nXVxuICB9LFxuICBxdWluYXJpaToge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZVF1aW5hcmlpJyxcbiAgICBmaWx0ZXI6IFsncm9tYW4nXVxuICB9LFxuICBkZW5hcmlpOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlRGVuYXJpaScsXG4gICAgZmlsdGVyOiBbJ3JvbWFuJ11cbiAgfSxcbiAgZDoge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZURlbmllcnMnLFxuICAgIGZpbHRlcjogWydsc2QnXVxuICB9LFxuICBzOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlU291cycsXG4gICAgZmlsdGVyOiBbJ2xzZCddXG4gIH0sXG4gIHZhbHVlOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlT25lJyxcbiAgICBmaWx0ZXI6IFtdXG4gIH0sXG4gIG11bHRpcGxpZXI6IHtcbiAgICBuYW1lOiAnQ29DNy5Nb25ldGFyeVR5cGVDcmVkaXRSYXRpbmcnLFxuICAgIGZpbHRlcjogW11cbiAgfVxufVxuXG5DT0M3LmNoYXJhY3RlcmlzdGljcyA9IHtcbiAgc3RyOiAnQ29DNy5DaGFyYWNTdHInLFxuICBjb246ICdDb0M3LkNoYXJhY0NvbicsXG4gIHNpejogJ0NvQzcuQ2hhcmFjU2l6JyxcbiAgZGV4OiAnQ29DNy5DaGFyYWNEZXgnLFxuICBhcHA6ICdDb0M3LkNoYXJhY0FwcCcsXG4gIGludDogJ0NvQzcuQ2hhcmFjSW50JyxcbiAgcG93OiAnQ29DNy5DaGFyYWNQb3cnLFxuICBlZHU6ICdDb0M3LkNoYXJhY0VkdSdcbn1cblxuLyoqXG4gKiBUaGUgc2V0IG9mIFNraWxscyBhdHRyaWJ1dGVzIHVzZWQgd2l0aGluIHRoZSBzeXN0ZW1cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbkNPQzcuc2tpbGxQcm9wZXJ0aWVzID0ge1xuICBub2FkanVzdG1lbnRzOiAnQ29DNy5Ta2lsbE5vQWRqdXN0bWVudHMnLFxuICBub3hwZ2FpbjogJ0NvQzcuU2tpbGxOb1hwR2FpbicsXG4gIHNwZWNpYWw6ICdDb0M3LlNraWxsU3BlY2lhbCcsXG4gIHJhcml0eTogJ0NvQzcuU2tpbGxSYXJpdHknLFxuICBwdXNoOiAnQ29DNy5Ta2lsbFB1c2gnLFxuICBjb21iYXQ6ICdDb0M3LlNraWxsQ29tYmF0JyxcbiAgZmlnaHRpbmc6ICdDb0M3LlNraWxsRmlnaHRpbmcnLFxuICBmaXJlYXJtOiAnQ29DNy5Ta2lsbEZpcmVhcm0nLFxuICByZXF1aXJlc25hbWU6ICdDb0M3LlNraWxsUmVxdWlyZXNOYW1lJyxcbiAga2VlcGJhc2V2YWx1ZTogJ0NvQzcuU2tpbGxLZWVwQmFzZVZhbHVlJyxcbiAgcGlja25hbWVvbmx5OiAnQ29DNy5Ta2lsbFBpY2tOYW1lT25seScsXG4gIG9ubHlvbmU6ICdDb0M3LlNraWxsU3BlY2lhbGl6YXRpb25Jc1VuaXF1ZSdcbn1cblxuQ09DNy53ZWFwb25Qcm9wZXJ0aWVzID0ge1xuICBtZWxlZTogJ0NvQzcuV2VhcG9uLlByb3BlcnR5Lk1lbGVlJyxcbiAgcm5nZDogJ0NvQzcuV2VhcG9uUm5nZCcsXG4gIG1udnI6ICdDb0M3LldlYXBvblByb3BlcnlNYW5ldXZlcicsXG4gIHRocm93bjogJ0NvQzcuV2VhcG9uLlByb3BlcnR5LlRocm93bicsXG4gIHNob3RndW46ICdDb0M3LldlYXBvbi5Qcm9wZXJ0eS5TaG90Z3VuJyxcbiAgZGJybDogJ0NvQzcuV2VhcG9uRGJybCcsXG4gIGltcGw6ICdDb0M3LldlYXBvbkltcGwnLFxuICBicnN0OiAnQ29DNy5XZWFwb25CcnN0JyxcbiAgYXV0bzogJ0NvQzcuV2VhcG9uQXV0bycsXG4gIGFoZGI6ICdDb0M3LldlYXBvbkFoZGInLFxuICBhZGRiOiAnQ29DNy5XZWFwb25BZGRiJyxcbiAgc2xudDogJ0NvQzcuV2VhcG9uU2xudCcsXG4gIHNwY2w6ICdDb0M3LldlYXBvblNwY2wnLFxuICBtb250OiAnQ29DNy5XZWFwb25Nb250JyxcbiAgYmxzdDogJ0NvQzcuV2VhcG9uQmxzdCcsXG4gIHN0dW46ICdDb0M3LldlYXBvblN0dW4nLFxuICByYXJlOiAnQ29DNy5XZWFwb25SYXJlJyxcbiAgYnVybjogJ0NvQzcuV2VhcG9uLlByb3BlcnR5LkJ1cm4nXG59XG5cbkNPQzcuc3BlbGxQcm9wZXJ0aWVzID0ge1xuICBjYWxsOiAnQ29DNy5DYWxsU3BlbGwnLFxuICBkaXNtaXNzOiAnQ29DNy5EaXNtaXNzU3BlbGwnLFxuICBjb250YWN0OiAnQ29DNy5Db250YWN0U3BlbGwnLFxuICBzdW1tb246ICdDb0M3LlN1bW1vblNwZWxsJyxcbiAgYmluZDogJ0NvQzcuQmluZFNwZWxsJyxcbiAgZW5jaGFudG1lbnQ6ICdDb0M3LkVuY2hhbnRtZW50U3BlbGwnLFxuICBnYXRlOiAnQ29DNy5HYXRlU3BlbGwnLFxuICBjb21iYXQ6ICdDb0M3LkNvbWJhdFNwZWxsJ1xufVxuXG5DT0M3LmJvb2tUeXBlID0ge1xuICBteXRob3M6ICdDb0M3Lk15dGhvc0Jvb2snLFxuICBvY2N1bHQ6ICdDb0M3Lk9jY3VsdEJvb2snLFxuICBvdGhlcjogJ0NvQzcuT3RoZXInXG59XG5cbkNPQzcudGFsZW50VHlwZSA9IHtcbiAgcGh5c2ljYWw6ICdDb0M3LlBoeXNpY2FsVGFsZW50JyxcbiAgbWVudGFsOiAnQ29DNy5NZW50YWxUYWxlbnQnLFxuICBjb21iYXQ6ICdDb0M3LkNvbWJhdFRhbGVudCcsXG4gIG1pc2NlbGxhbmVvdXM6ICdDb0M3Lk1pc2NlbGxhbmVvdXNUYWxlbnQnLFxuICBiYXNpYzogJ0NvQzcuQmFzaWNUYWxlbnQnLFxuICBpbnNhbmU6ICdDb0M3Lkluc2FuZVRhbGVudCcsXG4gIG90aGVyOiAnQ29DNy5PdGhlclRhbGVudCdcbn1cblxuQ09DNy5zdGF0dXNUeXBlID0ge1xuICBtYW5pYTogJ0NvQzcuTWFuaWEnLFxuICBwaG9iaWE6ICdDb0M3LlBob2JpYSdcbn1cblxuQ09DNy5vY2N1cGF0aW9uUHJvcGVydGllcyA9IHtcbiAgY2xhc3NpYzogJ0NvQzcuQ2xhc3NpYycsXG4gIGxvdmVjcmFmdGlhbjogJ0NvQzcuTG92ZWNyYWZ0aWFuJyxcbiAgbW9kZXJuOiAnQ29DNy5Nb2Rlcm4nLFxuICBwdWxwOiAnQ29DNy5QdWxwJ1xufVxuXG5DT0M3LmZvcm11bGEgPSB7fVxuXG5DT0M3LmZvcm11bGEuYWN0b3IgPSB7XG4gICdAU1RSJzogJ3RoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUnLFxuICAnQENPTic6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuY29uLnZhbHVlJyxcbiAgJ0BTSVonOiAndGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZScsXG4gICdAREVYJzogJ3RoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUnLFxuICAnQEFQUCc6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuYXBwLnZhbHVlJyxcbiAgJ0BJTlQnOiAndGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmludC52YWx1ZScsXG4gICdAUE9XJzogJ3RoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUnLFxuICAnQEVEVSc6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuZWR1LnZhbHVlJ1xufVxuXG5DT0M3LmZvcm11bGEuYWN0b3JzaGVldCA9IHtcbiAgJ0BTVFInOiAndGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnN0ci52YWx1ZScsXG4gICdAQ09OJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5jb24udmFsdWUnLFxuICAnQFNJWic6ICd0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlJyxcbiAgJ0BERVgnOiAndGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZScsXG4gICdAQVBQJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5hcHAudmFsdWUnLFxuICAnQElOVCc6ICd0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuaW50LnZhbHVlJyxcbiAgJ0BQT1cnOiAndGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZScsXG4gICdARURVJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5lZHUudmFsdWUnXG59XG5cbkNPQzcuc3RhdHVzID0ge1xuICB0ZW1wb0luc2FuZTogJ3RlbXBvSW5zYW5lJyxcbiAgaW5kZWZJbnNhbmU6ICdpbmRlZkluc2FuZScsXG4gIHVuY29uc2Npb3VzOiAndW5jb25zY2lvdXMnLFxuICBjcml0aWNhbFdvdW5kczogJ2NyaXRpY2FsV291bmRzJyxcbiAgZHlpbmc6ICdkeWluZycsXG4gIHByb25lOiAncHJvbmUnLFxuICBkZWFkOiAnZGVhZCdcbn1cblxuQ09DNy5uZXdCb29rTmFtZSA9ICdDb0M3Lk5ld0Jvb2tOYW1lJ1xuQ09DNy5uZXdTa2lsbE5hbWUgPSAnQ29DNy5OZXdTa2lsbE5hbWUnXG5DT0M3Lm5ld1NwZWxsTmFtZSA9ICdDb0M3Lk5ld1NwZWxsTmFtZSdcbkNPQzcubmV3SXRlbU5hbWUgPSAnQ29DNy5OZXdJdGVtTmFtZSdcbkNPQzcubmV3V2VhcG9uTmFtZSA9ICdDb0M3Lk5ld1dlYXBvbk5hbWUnXG5cbkNPQzcuY3JlYXR1cmVGaWdodGluZ1NraWxsID0gJ0NvQzcuY3JlYXR1cmVGaWdodGluZ1NraWxsJ1xuXG5DT0M3LmZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lID0gJ0NvQzcuRmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUnXG5DT0M3LmZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWUgPSAnQ29DNy5GaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lJ1xuXG5DT0M3LmNvbWJhdENhcmRzID0ge1xuICBmaWdodEJhY2s6ICdDb0M3LkZpZ2h0QmFjaycsXG4gIGRvZGdlOiAnQ29DNy5Eb2RnZScsXG4gIG1hbmV1dmVyOiAnQ29DNy5NYW5ldXZlcicsXG4gIG5vUmVzcG9uc2U6ICdDb0M3Lk5vUmVzcG9uc2UnXG59XG4iLCIvKiBnbG9iYWwgQ2hhdE1lc3NhZ2UsIENPTkZJRywgZ2FtZSwgUm9sbCAqL1xuXG5leHBvcnQgY2xhc3MgQ29DN0RpY2Uge1xuICBzdGF0aWMgYXN5bmMgcm9sbCAobW9kaWYgPSAwLCByb2xsTW9kZSA9IG51bGwsIGhpZGVEaWNlID0gZmFsc2UpIHtcbiAgICBsZXQgYWx0ZXJuYXRpdmVEaWNlID0gJydcbiAgICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZSkge1xuICAgICAgaWYgKG1vZGlmIDwgMCkge1xuICAgICAgICBhbHRlcm5hdGl2ZURpY2UgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0ZW5EaWVQZW5hbHR5JylcbiAgICAgIH0gZWxzZSBpZiAobW9kaWYgPiAwKSB7XG4gICAgICAgIGFsdGVybmF0aXZlRGljZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3RlbkRpZUJvbnVzJylcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJvbGxcbiAgICBpZiAoXG4gICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzQ3JpdCAmJlxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnaGlkZGVuZGV2bWVudScpXG4gICAgKSB7XG4gICAgICByb2xsID0gUm9sbC5mcm9tRGF0YShDb0M3RGljZS5jcml0MDEpXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGdhbWUuQ29DNy5kZXYuZGljZS5hbHdheXNGdW1ibGUgJiZcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2hpZGRlbmRldm1lbnUnKVxuICAgICkge1xuICAgICAgcm9sbCA9IFJvbGwuZnJvbURhdGEoQ29DN0RpY2UuZnVtYmxlOTkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJvbGwgPSBhd2FpdCBuZXcgUm9sbChcbiAgICAgICAgJzFkdCcgK1xuICAgICAgICAgIChhbHRlcm5hdGl2ZURpY2UgIT09ICcnXG4gICAgICAgICAgICA/ICcrMWRvWycgKyBhbHRlcm5hdGl2ZURpY2UgKyAnXSdcbiAgICAgICAgICAgIDogJysxZHQnXG4gICAgICAgICAgKS5yZXBlYXQoTWF0aC5hYnMobW9kaWYpKSArXG4gICAgICAgICAgJysxZDEwJ1xuICAgICAgKS5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICB1bml0OiB7XG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfSxcbiAgICAgIHRlbnM6IHtcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICB9LFxuICAgICAgdG90YWw6IDAsXG4gICAgICByb2xsXG4gICAgfVxuXG4gICAgaWYgKHJvbGxNb2RlKSByZXN1bHQucm9sbE1vZGUgPSByb2xsTW9kZVxuICAgIGlmIChoaWRlRGljZSkgcmVzdWx0LmhpZGVEaWNlID0gaGlkZURpY2VcbiAgICBmb3IgKGNvbnN0IGQgb2Ygcm9sbC5kaWNlKSB7XG4gICAgICBpZiAoZCBpbnN0YW5jZW9mIENPTkZJRy5EaWNlLnRlcm1zLnQpIHtcbiAgICAgICAgcmVzdWx0LnRlbnMucmVzdWx0cy5wdXNoKGQudG90YWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQudW5pdC50b3RhbCA9IGQudG90YWwgPT09IDEwID8gMCA6IGQudG90YWxcbiAgICAgICAgcmVzdWx0LnVuaXQucmVzdWx0cy5wdXNoKHJlc3VsdC51bml0LnRvdGFsKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9kaWYgPCAwKSB7XG4gICAgICByZXN1bHQudGVucy50b3RhbCA9XG4gICAgICAgIHJlc3VsdC51bml0LnRvdGFsID09PSAwICYmIHJlc3VsdC50ZW5zLnJlc3VsdHMuaW5jbHVkZXMoMClcbiAgICAgICAgICA/IDEwMFxuICAgICAgICAgIDogTWF0aC5tYXgoLi4ucmVzdWx0LnRlbnMucmVzdWx0cylcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC51bml0LnRvdGFsID09PSAwKSB7XG4gICAgICBjb25zdCBkaWNlID0gcmVzdWx0LnRlbnMucmVzdWx0cy5maWx0ZXIodCA9PiB0ID4gMClcbiAgICAgIHJlc3VsdC50ZW5zLnRvdGFsID0gZGljZS5sZW5ndGggPT09IDAgPyAxMDAgOiBNYXRoLm1pbiguLi5kaWNlKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQudGVucy50b3RhbCA9IE1hdGgubWluKC4uLnJlc3VsdC50ZW5zLnJlc3VsdHMpXG4gICAgfVxuICAgIHJlc3VsdC50b3RhbCA9IHJlc3VsdC51bml0LnRvdGFsICsgcmVzdWx0LnRlbnMudG90YWxcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgc2hvd1JvbGxEaWNlM2QgKHJvbGwpIHtcbiAgICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZSkge1xuICAgICAgY29uc3Qgc3luY0RpY2UgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzeW5jRGljZTNkJylcblxuICAgICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICAgIHdoaXNwZXI6IG51bGwsXG4gICAgICAgIGJsaW5kOiBmYWxzZVxuICAgICAgfVxuICAgICAgQ2hhdE1lc3NhZ2UuYXBwbHlSb2xsTW9kZShjaGF0RGF0YSwgZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKSlcblxuICAgICAgYXdhaXQgZ2FtZS5kaWNlM2Quc2hvd0ZvclJvbGwoXG4gICAgICAgIHJvbGwsXG4gICAgICAgIGdhbWUudXNlcixcbiAgICAgICAgc3luY0RpY2UsXG4gICAgICAgIGNoYXREYXRhLndoaXNwZXIsXG4gICAgICAgIGNoYXREYXRhLmJsaW5kXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNvbWJpbmVkUm9sbCAob3B0aW9ucykge1xuICAgIG9wdGlvbnMucG9vbCA9IG9wdGlvbnMucG9vbCA/PyB7fVxuICAgIG9wdGlvbnMucG9vbFsnMCddID0gZmFsc2VcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucy5wb29sKS5tYXAodiA9PiBwYXJzZUludCh2LCAxMCkpXG4gICAgbGV0IHBlbmFsdHlEaWNlID0gTWF0aC5hYnMoTWF0aC5taW4oMCwgTWF0aC5taW4oLi4ua2V5cykpKVxuICAgIGxldCBib251c0RpY2UgPSBNYXRoLm1heCgwLCBNYXRoLm1heCguLi5rZXlzKSlcbiAgICBjb25zdCBoYXNEU04gPSBnYW1lLm1vZHVsZXMuZ2V0KCdkaWNlLXNvLW5pY2UnKT8uYWN0aXZlXG5cbiAgICBjb25zdCBwb29sID0gW11cbiAgICBwb29sLnB1c2goJzFkdCsxZDEwJylcblxuICAgIGlmIChwZW5hbHR5RGljZSA+IDApIHtcbiAgICAgIHBvb2wucHVzaChcbiAgICAgICAgKGhhc0RTTlxuICAgICAgICAgID8gJysxZG9bJyArIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3RlbkRpZVBlbmFsdHknKSArICddJ1xuICAgICAgICAgIDogJzFkdCdcbiAgICAgICAgKS5yZXBlYXQoTWF0aC5hYnMocGVuYWx0eURpY2UpKVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoYm9udXNEaWNlID4gMCkge1xuICAgICAgcG9vbC5wdXNoKFxuICAgICAgICAoaGFzRFNOXG4gICAgICAgICAgPyAnKzFkb1snICsgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndGVuRGllQm9udXMnKSArICddJ1xuICAgICAgICAgIDogJzFkdCdcbiAgICAgICAgKS5yZXBlYXQoTWF0aC5hYnMoYm9udXNEaWNlKSlcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3Qgcm9sbCA9IGF3YWl0IG5ldyBSb2xsKHBvb2wuam9pbignJykpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGdyb3Vwczoge1xuICAgICAgICBiYXNlRGllOiAwLFxuICAgICAgICBwZW5hbHR5RGljZTogW10sXG4gICAgICAgIGJvbnVzRGljZTogW11cbiAgICAgIH0sXG4gICAgICB1bml0OiAwLFxuICAgICAgcm9sbFxuICAgIH1cbiAgICBsZXQgYmFzZVNldCA9IGZhbHNlXG4gICAgZm9yIChjb25zdCBkIG9mIHJvbGwuZGljZSkge1xuICAgICAgaWYgKGQgaW5zdGFuY2VvZiBDT05GSUcuRGljZS50ZXJtcy50KSB7XG4gICAgICAgIGlmICghYmFzZVNldCkge1xuICAgICAgICAgIHJlc3VsdC5ncm91cHMuYmFzZURpZSA9IGQudG90YWxcbiAgICAgICAgICBiYXNlU2V0ID0gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKHBlbmFsdHlEaWNlID4gMCkge1xuICAgICAgICAgIHJlc3VsdC5ncm91cHMucGVuYWx0eURpY2UucHVzaChkLnRvdGFsKVxuICAgICAgICAgIHBlbmFsdHlEaWNlLS1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuZ3JvdXBzLmJvbnVzRGljZS5wdXNoKGQudG90YWwpXG4gICAgICAgICAgYm9udXNEaWNlLS1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnVuaXQgPSBkLnRvdGFsID09PSAxMCA/IDAgOiBkLnRvdGFsXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb3V0cHV0ID0ge31cblxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMucG9vbCkge1xuICAgICAgb3V0cHV0W2tleV0gPSB7XG4gICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnVuaXQsXG4gICAgICAgICAgcmVzdWx0czogW3Jlc3VsdC51bml0XVxuICAgICAgICB9LFxuICAgICAgICB0ZW5zOiB7XG4gICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgfSxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIHJvbGxcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vZGlmID0gcGFyc2VJbnQoa2V5LCAxMClcbiAgICAgIGxldCBtb2RpZmllciA9IG1vZGlmXG4gICAgICBvdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMucHVzaChyZXN1bHQuZ3JvdXBzLmJhc2VEaWUpXG4gICAgICBmb3IgKGNvbnN0IG9mZnNldCA9IE1hdGguYWJzKG1vZGlmaWVyKTsgbW9kaWZpZXIgPCAwOyBtb2RpZmllcisrKSB7XG4gICAgICAgIG91dHB1dFtrZXldLnRlbnMucmVzdWx0cy5wdXNoKFxuICAgICAgICAgIHJlc3VsdC5ncm91cHMucGVuYWx0eURpY2VbbW9kaWZpZXIgKyBvZmZzZXRdXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qgb2Zmc2V0ID0gbW9kaWZpZXI7IG1vZGlmaWVyID4gMDsgbW9kaWZpZXItLSkge1xuICAgICAgICBvdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMucHVzaChcbiAgICAgICAgICByZXN1bHQuZ3JvdXBzLmJvbnVzRGljZVtNYXRoLmFicyhtb2RpZmllciAtIG9mZnNldCldXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmIChtb2RpZiA8IDApIHtcbiAgICAgICAgb3V0cHV0W2tleV0udGVucy50b3RhbCA9XG4gICAgICAgICAgb3V0cHV0W2tleV0udW5pdC50b3RhbCA9PT0gMCAmJiBvdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMuaW5jbHVkZXMoMClcbiAgICAgICAgICAgID8gMTAwXG4gICAgICAgICAgICA6IE1hdGgubWF4KC4uLm91dHB1dFtrZXldLnRlbnMucmVzdWx0cylcbiAgICAgIH0gZWxzZSBpZiAob3V0cHV0W2tleV0udW5pdC50b3RhbCA9PT0gMCkge1xuICAgICAgICBjb25zdCBkaWNlID0gb3V0cHV0W2tleV0udGVucy5yZXN1bHRzLmZpbHRlcih0ID0+IHQgPiAwKVxuICAgICAgICBvdXRwdXRba2V5XS50ZW5zLnRvdGFsID0gZGljZS5sZW5ndGggPT09IDAgPyAxMDAgOiBNYXRoLm1pbiguLi5kaWNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0W2tleV0udGVucy50b3RhbCA9IE1hdGgubWluKC4uLm91dHB1dFtrZXldLnRlbnMucmVzdWx0cylcbiAgICAgIH1cbiAgICAgIG91dHB1dFtrZXldLnRvdGFsID0gb3V0cHV0W2tleV0udW5pdC50b3RhbCArIG91dHB1dFtrZXldLnRlbnMudG90YWxcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgLy8gUHJlZGV0ZXJtaW5lZCB2YWx1ZSBvZiBkaWNlLCB1c2VkIG9ubHkgZm9yIERFViBhbmQgdGVzdCBwdXJwb3Nlc1xuICBzdGF0aWMgZnVtYmxlOTkgPSB7XG4gICAgY2xhc3M6ICdSb2xsJyxcbiAgICBvcHRpb25zOiB7fSxcbiAgICBkaWNlOiBbXSxcbiAgICBmb3JtdWxhOiAnMWR0ICsgMWQxMCcsXG4gICAgdGVybXM6IFtcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6ICdDb0M3RGVjYWRlckRpZScsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBldmFsdWF0ZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgZmFjZXM6IDEwLFxuICAgICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgICByZXN1bHRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiA5LFxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGFzczogJ09wZXJhdG9yVGVybScsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBldmFsdWF0ZWQ6IHRydWUsXG4gICAgICAgIG9wZXJhdG9yOiAnKydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiAnRGllJyxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgIGV2YWx1YXRlZDogdHJ1ZSxcbiAgICAgICAgbnVtYmVyOiAxLFxuICAgICAgICBmYWNlczogMTAsXG4gICAgICAgIG1vZGlmaWVyczogW10sXG4gICAgICAgIHJlc3VsdHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQ6IDksXG4gICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdLFxuICAgIHRvdGFsOiA5OSxcbiAgICBldmFsdWF0ZWQ6IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcml0MDEgPSB7XG4gICAgY2xhc3M6ICdSb2xsJyxcbiAgICBvcHRpb25zOiB7fSxcbiAgICBkaWNlOiBbXSxcbiAgICBmb3JtdWxhOiAnMWR0ICsgMWQxMCcsXG4gICAgdGVybXM6IFtcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6ICdDb0M3RGVjYWRlckRpZScsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBldmFsdWF0ZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgZmFjZXM6IDEwLFxuICAgICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgICByZXN1bHRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiAxMCxcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6ICdPcGVyYXRvclRlcm0nLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgZXZhbHVhdGVkOiB0cnVlLFxuICAgICAgICBvcGVyYXRvcjogJysnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGFzczogJ0RpZScsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBldmFsdWF0ZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgZmFjZXM6IDEwLFxuICAgICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgICByZXN1bHRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiAxLFxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXSxcbiAgICB0b3RhbDogMSxcbiAgICBldmFsdWF0ZWQ6IHRydWVcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGNhbnZhcywgQ09OU1QsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgbWVyZ2VPYmplY3QsIHVpICovXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uL2FjdG9ycy9hY3Rvci5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuL2NvYzctbGluay5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q29udGVudExpbmtEaWFsb2cgZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGlkOiAnbGluay1jcmVhdGlvbicsXG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnYWN0aXZlLWVmZmVjdC1zaGVldCddLFxuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DcmVhdGVMaW5rJyksXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiBudWxsLCBkcm9wU2VsZWN0b3I6ICcuY29udGFpbmVyJyB9XSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2xpbmstY3JlYXRpb24uaHRtbCcsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgIHdpZHRoOiA1NjAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnRhYnMnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5lZmZlY3Qtb3B0aW9ucycsXG4gICAgICAgICAgaW5pdGlhbDogJ2RldGFpbHMnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICAvLyBQcmVwYXJlIGNoZWNrIHR5cGVcbiAgICBzaGVldERhdGEuY2hlY2tUeXBlID0gW1xuICAgICAge1xuICAgICAgICBrZXk6IENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0ssXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hlY2snKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5DSEVDS19UWVBFLlNBTkxPU1MsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5Q2hlY2snKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5DSEVDS19UWVBFLklURU0sXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSXRlbVdlYXBvbicpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6IENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNULFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdFRkZFQ1QuVGFiRWZmZWN0cycpXG4gICAgICB9XG4gICAgXVxuXG4gICAgLy8gUHJlcGFyZSAnY2hlY2snIGxpbmsgdHlwZVxuICAgIHNoZWV0RGF0YS5saW5rVHlwZSA9IFtcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5MSU5LX1RZUEUuQ0hBUkFDVEVSSVNUSUMsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hhcmFjdGVyaXN0aWMnKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5MSU5LX1RZUEUuQVRUUklCVVRFLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6IENvQzdMaW5rLkxJTktfVFlQRS5TS0lMTCxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ta2lsbCcpXG4gICAgICB9XG4gICAgXVxuXG4gICAgLy8gUHJlcGFyZSAnY2hlY2snICdhdHRyaWJ1dGUnIHR5cGVzXG4gICAgc2hlZXREYXRhLmF0dHJpYnV0ZVR5cGUgPSBbXG4gICAgICB7XG4gICAgICAgIGtleTogJ2xjaycsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTHVjaycpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdzYW4nLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbml0eScpXG4gICAgICB9XG4gICAgXVxuXG4gICAgLy8gUHJlcGFyZSBlZmZlY3QgbW9kZSB0eXBlc1xuICAgIHNoZWV0RGF0YS5lZmZlY3RNb2RlcyA9IE9iamVjdC5lbnRyaWVzKENPTlNULkFDVElWRV9FRkZFQ1RfTU9ERVMpLnJlZHVjZShcbiAgICAgIChvYmosIGUpID0+IHtcbiAgICAgICAgb2JqW2VbMV1dID0gZ2FtZS5pMThuLmxvY2FsaXplKCdFRkZFQ1QuTU9ERV8nICsgZVswXSlcbiAgICAgICAgcmV0dXJuIG9ialxuICAgICAgfSxcbiAgICAgIHt9XG4gICAgKVxuXG4gICAgLy8gUHJlcGFyZSAnY2hlY2snICdjaGFyYWN0ZXJpc3RpYycgdHlwZXNcbiAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNUeXBlID0gQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKClcblxuICAgIHNoZWV0RGF0YS5saW5rID0gc2hlZXREYXRhLm9iamVjdC5saW5rXG5cbiAgICBzaGVldERhdGEuZnJvbUdhbWUgPSBzaGVldERhdGEubGluay5pc0l0ZW1DaGVjayB8fCBzaGVldERhdGEubGluay5pc1NraWxsQ2hlY2tcblxuICAgIHNoZWV0RGF0YS5mcm9tRGlyZWN0b3J5ID0gKHNoZWV0RGF0YS5vYmplY3QuaGFzSUQgPT09ICdmcm9tRGlyZWN0b3J5JylcbiAgICBzaGVldERhdGEuZnJvbUNvbXBlbmRpdW0gPSAoc2hlZXREYXRhLm9iamVjdC5oYXNJRCA9PT0gJ2Zyb21Db21wZW5kaXVtJylcblxuICAgIHNoZWV0RGF0YS5pc1NldEZyb21HYW1lID0gKHNoZWV0RGF0YS5saW5rLmlkICYmIChzaGVldERhdGEuZnJvbURpcmVjdG9yeSB8fCBzaGVldERhdGEuZnJvbUNvbXBlbmRpdW0pKVxuXG4gICAgc2hlZXREYXRhLmRpZmZpY3VsdHlMZXZlbCA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWxcblxuICAgIHNoZWV0RGF0YS5hY3Rvck5hbWVzID0gc2hlZXREYXRhLm9iamVjdC5hY3RvcnMubWFwKGEgPT4gYS5uYW1lKS5qb2luKCcsICcpXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnc2VsZWN0W25hbWU9dHlwZV0sc2VsZWN0W25hbWU9Y2hlY2tdLHNlbGVjdFtuYW1lPWF0dHJpYnV0ZUtleV0sc2VsZWN0W25hbWU9Y2hhcmFjdGVyaXN0aWNLZXldLGlucHV0W3R5cGU9Y2hlY2tib3hdJylcbiAgICAgIC5jaGFuZ2UodGhpcy5fb25DaGFuZ2VTdWJtaXQuYmluZCh0aGlzKSlcblxuICAgIC8vIEhhbmRsaW5nIGVmZmVjdHNcbiAgICBodG1sLmZpbmQoJy5lZmZlY3QtY29udHJvbCcpLmNsaWNrKHRoaXMuX29uRWZmZWN0Q29udHJvbC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgX29uQ2hhbmdlU3VibWl0IChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5uYW1lKSB7XG4gICAgICBjYXNlICdmcm9tQ29tcGVuZGl1bSc6XG4gICAgICBjYXNlICdmcm9tRGlyZWN0b3J5JzpcbiAgICAgICAgdGhpcy5vYmplY3QuaGFzSUQgPSAoZXZlbnQuY3VycmVudFRhcmdldC5uYW1lID09PSB0aGlzLm9iamVjdC5oYXNJRCA/ICcnIDogZXZlbnQuY3VycmVudFRhcmdldC5uYW1lKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgfVxuXG4gIF9vbkVmZmVjdENvbnRyb2wgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBzd2l0Y2ggKGJ1dHRvbi5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEVmZmVjdENoYW5nZSgpXG4gICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICBidXR0b24uY2xvc2VzdCgnLmVmZmVjdC1jaGFuZ2UnKS5yZW1vdmUoKVxuICAgICAgICB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgICB9XG4gIH1cblxuICBhc3luYyBfYWRkRWZmZWN0Q2hhbmdlICgpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLm9iamVjdC5saW5rLmVmZmVjdC5jaGFuZ2VzLmxlbmd0aFxuICAgIHJldHVybiB0aGlzLnN1Ym1pdCh7XG4gICAgICBwcmV2ZW50Q2xvc2U6IHRydWUsXG4gICAgICB1cGRhdGVEYXRhOiB7XG4gICAgICAgIFtgZWZmZWN0LmNoYW5nZXMuJHtpZHh9YF06IHtcbiAgICAgICAgICBrZXk6ICcnLFxuICAgICAgICAgIG1vZGU6IENPTlNULkFDVElWRV9FRkZFQ1RfTU9ERVMuQURELFxuICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGxldCBoYXNFZmZlY3QgPSBmYWxzZVxuICAgIGNvbnN0IGVmZmVjdCA9IHtcbiAgICAgIGR1cmF0aW9uOiB7fSxcbiAgICAgIGNoYW5nZXM6IFtdXG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlICdjaGVja05hbWUnOlxuICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ25hbWUnLCBmb3JtRGF0YS5jaGVja05hbWUpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnYmxpbmQnOlxuICAgICAgICBjYXNlICdkaWZmaWN1bHR5JzpcbiAgICAgICAgY2FzZSAnZGlzcGxheU5hbWUnOlxuICAgICAgICBjYXNlICdpY29uJzpcbiAgICAgICAgY2FzZSAnaWQnOlxuICAgICAgICBjYXNlICdtb2RpZmllcic6XG4gICAgICAgIGNhc2UgJ3BhY2snOlxuICAgICAgICBjYXNlICdzYW5NaW4nOlxuICAgICAgICBjYXNlICdzYW5NYXgnOlxuICAgICAgICBjYXNlICdzYW5SZWFzb24nOlxuICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoa2V5LCBmb3JtRGF0YVtrZXldKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2hhc01vZGlmaWVycyc6XG4gICAgICAgIGNhc2UgJ2hhc0xhYmVsJzpcbiAgICAgICAgY2FzZSAnaGFzSWNvbic6XG4gICAgICAgICAgdGhpcy5vYmplY3Rba2V5XSA9IGZvcm1EYXRhW2tleV1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QubGFiZWwnOlxuICAgICAgICAgIGVmZmVjdC5sYWJlbCA9IGZvcm1EYXRhW2tleV1cbiAgICAgICAgICBoYXNFZmZlY3QgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZWZmZWN0Lmljb24nOlxuICAgICAgICAgIGVmZmVjdC5pY29uID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QudGludCc6XG4gICAgICAgICAgZWZmZWN0LnRpbnQgPSBmb3JtRGF0YVtrZXldXG4gICAgICAgICAgaGFzRWZmZWN0ID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VmZmVjdC5kaXNhYmxlZCc6XG4gICAgICAgICAgZWZmZWN0LmRpc2FibGVkID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QuZHVyYXRpb24uc2Vjb25kcyc6XG4gICAgICAgICAgZWZmZWN0LmR1cmF0aW9uLnNlY29uZHMgPSBmb3JtRGF0YVtrZXldXG4gICAgICAgICAgaGFzRWZmZWN0ID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VmZmVjdC5kdXJhdGlvbi5yb3VuZHMnOlxuICAgICAgICAgIGVmZmVjdC5kdXJhdGlvbi5yb3VuZHMgPSBmb3JtRGF0YVtrZXldXG4gICAgICAgICAgaGFzRWZmZWN0ID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VmZmVjdC5kdXJhdGlvbi50dXJucyc6XG4gICAgICAgICAgZWZmZWN0LmR1cmF0aW9uLnR1cm5zID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBrZXkubWF0Y2goL15lZmZlY3RcXC5jaGFuZ2VzXFwuKFxcZCspXFwua2V5JC8pXG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBlZmZlY3QuY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAga2V5OiBmb3JtRGF0YVtrZXldLFxuICAgICAgICAgICAgICBtb2RlOiBmb3JtRGF0YVsnZWZmZWN0LmNoYW5nZXMuJyArIG1hdGNoWzFdICsgJy5tb2RlJ10sXG4gICAgICAgICAgICAgIHZhbHVlOiBmb3JtRGF0YVsnZWZmZWN0LmNoYW5nZXMuJyArIG1hdGNoWzFdICsgJy52YWx1ZSddXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaGFzRWZmZWN0ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzRWZmZWN0KSB7XG4gICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCdvYmplY3QnLCBlZmZlY3QpXG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBzd2l0Y2ggKHRhcmdldC5uYW1lKSB7XG4gICAgICAgIGNhc2UgJ3R5cGUnOlxuICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ2NoZWNrJywgdGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIGlmICh0YXJnZXQudmFsdWUgPT09IENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0spIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ2xpbmtUeXBlJywgQ29DN0xpbmsuTElOS19UWVBFLlNLSUxMKVxuICAgICAgICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnbmFtZScsICcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjaGVjayc6XG4gICAgICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnbGlua1R5cGUnLCB0YXJnZXQudmFsdWUpXG4gICAgICAgICAgaWYgKHRhcmdldC52YWx1ZSA9PT0gQ29DN0xpbmsuTElOS19UWVBFLkNIQVJBQ1RFUklTVElDKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKClbMF0ua2V5KVxuICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LnZhbHVlID09PSBDb0M3TGluay5MSU5LX1RZUEUuQVRUUklCVVRFKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgJ2xjaycpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ25hbWUnLCAnJylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnYXR0cmlidXRlS2V5JzpcbiAgICAgICAgY2FzZSAnY2hhcmFjdGVyaXN0aWNLZXknOlxuICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ25hbWUnLCB0YXJnZXQudmFsdWUpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnc3VibWl0Jykge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnN1Ym1pdHRlci5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgICAgIGNhc2UgJ2NsaXBib2FyZCc6XG4gICAgICAgICAgICBDb0M3VXRpbGl0aWVzLmNvcHlUb0NsaXBib2FyZCh0aGlzLm9iamVjdC5saW5rLmxpbmspXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2NoYXQnOlxuICAgICAgICAgICAgQ29DN0xpbmsudG9DaGF0TWVzc2FnZSh0aGlzLm9iamVjdC5saW5rLm9iamVjdClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnd2hpc3Blci1vd25lcic6XG4gICAgICAgICAgICBDb0M3TGluay50b1doaXNwZXJNZXNzYWdlKHRoaXMub2JqZWN0Lmxpbmsub2JqZWN0LCB0aGlzLm9iamVjdC5hY3RvcnMpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ3doaXNwZXItc2VsZWN0ZWQnOlxuICAgICAgICAgICAgaWYgKCFjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JOb1Rva2Vuc1NlbGVjdGVkJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENvQzdMaW5rLnRvV2hpc3Blck1lc3NhZ2UodGhpcy5vYmplY3QubGluay5vYmplY3QsIGNhbnZhcy50b2tlbnMuY29udHJvbGxlZC5maWx0ZXIodCA9PiB0LmFjdG9yLm93bmVycy5sZW5ndGgpLm1hcCh0ID0+IHQuYWN0b3IpKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50KSB7XG4gICAgY29uc3QgZGF0YVN0cmluZyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKVxuICAgIGlmIChkYXRhLnR5cGUgPT09ICdDb0M3TGluaycpIHtcbiAgICAgIHRoaXMuc2V0TGluayhhd2FpdCBDb0M3TGluay5mcm9tRHJvcERhdGEoZGF0YSkpXG4gICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKGRhdGEudHlwZSA9PT0gJ0ZvbGRlcicgJiYgZGF0YS5kb2N1bWVudE5hbWUgPT09ICdBY3RvcicpIHx8IFsnSXRlbScsICdBY3RvciddLmluY2x1ZGVzKGRhdGEudHlwZSkpIHtcbiAgICAgICAgY29uc3QgZGF0YUxpc3QgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmdldERhdGFGcm9tRHJvcEV2ZW50KGV2ZW50LCBkYXRhLmRvY3VtZW50TmFtZSA/PyBkYXRhLnR5cGUpXG4gICAgICAgIGlmIChkYXRhLmRvY3VtZW50TmFtZSA/PyBkYXRhLnR5cGUgPT09ICdBY3RvcicpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5hY3RvcnMgPSBkYXRhTGlzdC5maWx0ZXIoYSA9PiBhLm93bmVycy5sZW5ndGgpXG4gICAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhTGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBpZiAoWydza2lsbCcsICd3ZWFwb24nXS5pbmNsdWRlcyhkYXRhTGlzdFswXS50eXBlKSkge1xuICAgICAgICAgICAgaWYgKGRhdGFMaXN0WzBdLnBhY2spIHtcbiAgICAgICAgICAgICAgdGhpcy5vYmplY3QuaGFzSUQgPSAnZnJvbUNvbXBlbmRpdW0nXG4gICAgICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ3BhY2snLCBkYXRhTGlzdFswXS5wYWNrKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5vYmplY3QuaGFzSUQgPSAnZnJvbURpcmVjdG9yeSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ2lkJywgZGF0YUxpc3RbMF0uaWQpXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgZGF0YUxpc3RbMF0ubmFtZSlcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0TGluayAobGluaykge1xuICAgIHRoaXMub2JqZWN0LmxpbmsgPSBsaW5rXG4gICAgaWYgKGxpbmsucGFjayAhPT0gJycpIHtcbiAgICAgIHRoaXMub2JqZWN0Lmhhc0lEID0gJ2Zyb21Db21wZW5kaXVtJ1xuICAgIH0gZWxzZSBpZiAobGluay5pZCAhPT0gJycpIHtcbiAgICAgIHRoaXMub2JqZWN0Lmhhc0lEID0gJ2Zyb21EaXJlY3RvcnknXG4gICAgfVxuICAgIGlmIChsaW5rLmRpZmZpY3VsdHkgIT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciB8fCBwYXJzZUludChsaW5rLm1vZGlmaWVyLCAxMCkgIT09IDApIHtcbiAgICAgIHRoaXMub2JqZWN0Lmhhc01vZGlmaWVycyA9IHRydWVcbiAgICB9XG4gICAgaWYgKGxpbmsuZGlzcGxheU5hbWUgIT09ICcnKSB7XG4gICAgICB0aGlzLm9iamVjdC5oYXNMYWJlbCA9IHRydWVcbiAgICB9XG4gICAgaWYgKGxpbmsuaWNvbiAhPT0gJycpIHtcbiAgICAgIHRoaXMub2JqZWN0Lmhhc0ljb24gPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAobGlua0RhdGEgPSB7fSwgb3B0aW9uID0ge30pIHtcbiAgICBjb25zdCBvYmplY3QgPSBtZXJnZU9iamVjdCh7XG4gICAgICBsaW5rOiBudWxsLFxuICAgICAgaGFzSUQ6ICcnLFxuICAgICAgaGFzTW9kaWZpZXJzOiBmYWxzZSxcbiAgICAgIGhhc0xhYmVsOiBmYWxzZSxcbiAgICAgIGhhc0ljb246IGZhbHNlLFxuICAgICAgYWN0b3JzOiBbXVxuICAgIH0sIG9wdGlvbilcbiAgICBjb25zdCBkaWFsb2cgPSBuZXcgQ29DN0NvbnRlbnRMaW5rRGlhbG9nKG9iamVjdCwge30pXG4gICAgZGlhbG9nLnNldExpbmsoYXdhaXQgQ29DN0xpbmsuZnJvbURyb3BEYXRhKGxpbmtEYXRhKSlcbiAgICBkaWFsb2cucmVuZGVyKHRydWUpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBjYW52YXMsIENoYXRNZXNzYWdlLCBDT05TVCwgZHVwbGljYXRlLCBmcm9tVXVpZCwgZ2FtZSwgUmF5LCBUb2tlbiwgdWkgKi9cblxuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJ1xuXG4vKipcbiAqIFJldHVybiA8YT4gZWxlbWVudCBvZiBhIHJvbGwgaW5zdGFuY2UuIGZvdW5kcnkuanMgcmVmOlRleHRFZGl0b3IuX2NyZWF0ZUlubGluZVJvbGxcbiAqIEBwYXJhbSB7Um9sbH0gcm9sbCAgICAgIFRoZSByb2xsIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5saW5lUm9sbCAocm9sbCkge1xuICBjb25zdCBkYXRhID0ge1xuICAgIGNsczogWydpbmxpbmUtcm9sbCddLFxuICAgIGRhdGFzZXQ6IHt9XG4gIH1cblxuICB0cnkge1xuICAgIGRhdGEuY2xzLnB1c2goJ2lubGluZS1yZXN1bHQnKVxuICAgIGRhdGEucmVzdWx0ID0gcm9sbC50b3RhbFxuICAgIGRhdGEudGl0bGUgPSByb2xsLmZvcm11bGFcbiAgICBkYXRhLmRhdGFzZXQucm9sbCA9IGVzY2FwZShKU09OLnN0cmluZ2lmeShyb2xsKSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIENvbnN0cnVjdCBhbmQgcmV0dXJuIHRoZSBmb3JtZWQgbGluayBlbGVtZW50XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgYS5jbGFzc0xpc3QuYWRkKC4uLmRhdGEuY2xzKVxuICBhLnRpdGxlID0gZGF0YS50aXRsZVxuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhkYXRhLmRhdGFzZXQpKSB7XG4gICAgYS5kYXRhc2V0W2tdID0gdlxuICB9XG4gIGEuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLWRpY2UtZDIwXCI+PC9pPiAke2RhdGEucmVzdWx0fWBcbiAgcmV0dXJuIGFcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB1c2VkIGZvciBKU09OLnN0cmluZ2lmeSByZXBsYWNlci5cbiAqIEV4Y2x1ZGUgYW55IGtleSBzdGFydGluZyB3aXRoIF9cbiAqIEBwYXJhbSB7Kn0ga2V5ICAgICBUaGUgb2JqZWN0J3MgcHJvcGVydHkgS2V5XG4gKiBAcGFyYW0geyp9IHZhbHVlICAgVGhlIGFzc29jaWF0ZWQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfIChrZXksIHZhbHVlKSB7XG4gIC8vIGNvbnZlcnQgUmVnRXhwIHRvIHN0cmluZ1xuICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ18nKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQgLy8gcmVtb3ZlIGZyb20gcmVzdWx0XG4gIH1cbiAgcmV0dXJuIHZhbHVlIC8vIHJldHVybiBhcyBpc1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHVzZWQgZm9yIEpTT04uc3RyaW5naWZ5IHJlcGxhY2VyLlxuICogRXhjbHVkZSBhbnkga2V5IHN0YXJ0aW5nIHdpdGggX19cbiAqIEBwYXJhbSB7Kn0ga2V5ICAgICBUaGUgb2JqZWN0J3MgcHJvcGVydHkgS2V5XG4gKiBAcGFyYW0geyp9IHZhbHVlICAgVGhlIGFzc29jaWF0ZWQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfXyAoa2V5LCB2YWx1ZSkge1xuICAvLyBjb252ZXJ0IFJlZ0V4cCB0byBzdHJpbmdcbiAgaWYgKGtleS5zdGFydHNXaXRoKCdfXycpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAvLyByZW1vdmUgZnJvbSByZXN1bHRcbiAgfVxuICByZXR1cm4gdmFsdWUgLy8gcmV0dXJuIGFzIGlzXG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaXMgQ1RSTCBrZXkgaXMgcHJlc3NlZFxuICogVXNlZCBmb3IgTUFDIGNvbXBhdC5cbiAqIEBwYXJhbSB7Uy5FdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0N0cmxLZXkgKGV2ZW50KSB7XG4gIGlmIChldmVudCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gKFxuICAgIGV2ZW50Lm1ldGFLZXkgfHxcbiAgICBldmVudC5jdHJsS2V5IHx8XG4gICAgZXZlbnQua2V5Q29kZSA9PT0gOTEgfHxcbiAgICBldmVudC5rZXlDb2RlID09PSAyMjRcbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgY2hhdEhlbHBlciB7XG4gIHN0YXRpYyBoeXBoZW5Ub0NhbWVsQ2FzZSAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8tKFthLXpdKS9nLCBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nWzFdLnRvVXBwZXJDYXNlKClcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZU1lc3NhZ2UgKHRpdGxlLCBtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtZXNzYWdlRGF0YSA9IHt9XG4gICAgbWVzc2FnZURhdGEuZmxhdm9yID0gdGl0bGVcbiAgICBtZXNzYWdlRGF0YS5zcGVha2VyID0gb3B0aW9ucy5zcGVha2VyIHx8IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgIGlmIChvcHRpb25zLndoaXNwZXIpIHtcbiAgICAgIG1lc3NhZ2VEYXRhLnR5cGUgPSBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuV0hJU1BFUlxuICAgICAgbWVzc2FnZURhdGEud2hpc3BlciA9IG9wdGlvbnMud2hpc3BlclxuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucm9sbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1lc3NhZ2VEYXRhLnJvbGwgPSBvcHRpb25zLnJvbGxcbiAgICAgIG1lc3NhZ2VEYXRhLnR5cGUgPSBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuUk9MTFxuICAgICAgbWVzc2FnZURhdGEucm9sbE1vZGUgPSBDT05TVC5ESUNFX1JPTExfTU9ERVMuU0VMRlxuICAgIH1cbiAgICBtZXNzYWdlRGF0YS51c2VyID0gZ2FtZS51c2VyLmlkXG4gICAgbWVzc2FnZURhdGEuY29udGVudCA9IG1lc3NhZ2VcblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShtZXNzYWdlRGF0YSkudGhlbihtc2cgPT4ge1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIH0pXG4gIH1cblxuICBzdGF0aWMgY2FtZWxDYXNlVG9IeXBoZW4gKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gJy0nICsgc3RyaW5nLnRvTG93ZXJDYXNlKClcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGdldEFjdG9yRnJvbUtleSAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHJldHVybiBudWxsXG4gICAgLy8gQ2FzZSAwIC0gYSBkb2N1bWVudCBVdWlkXG4gICAgaWYgKENvQzdVdGlsaXRpZXMuaXNEb2N1bWVudFV1aWQoa2V5KSkge1xuICAgICAgaWYgKENvQzdVdGlsaXRpZXMuaXNEb2N1bWVudFV1aWRQYWNrKGtleSkpIHJldHVybiBmcm9tVXVpZChrZXkpIC8vIFRPRE8gQ2hlY2sgd2UgY2FuIGRvIHRoYXRcbiAgICAgIHJldHVybiBDb0M3VXRpbGl0aWVzLlNmcm9tVXVpZChrZXkpXG4gICAgfVxuXG4gICAgLy8gQ2FzZSAxIC0gYSBzeW50aGV0aWMgYWN0b3IgZnJvbSBhIFRva2VuXG4gICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IGtleS5zcGxpdCgnLicpXG4gICAgICBpZiAoc2NlbmVJZCA9PT0gJ1RPS0VOJykge1xuICAgICAgICByZXR1cm4gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgfVxuICAgICAgY29uc3QgdG9rZW4gPSBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleShrZXkpXG4gICAgICByZXR1cm4gdG9rZW4/LmFjdG9yXG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyIC0gdXNlIEFjdG9yIElEIGRpcmVjdG9yeVxuICAgIHJldHVybiBnYW1lLmFjdG9ycy5nZXQoa2V5KSB8fCBudWxsXG4gIH1cblxuICBzdGF0aWMgZ2V0U3BlYWtlckZyb21LZXkgKGFjdG9yS2V5KSB7XG4gICAgY29uc3Qgc3BlYWtlciA9IHt9XG4gICAgY29uc3QgYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleShhY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgaWYgKGFjdG9yS2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IGFjdG9yS2V5LnNwbGl0KCcuJykgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBzcGVha2VyLnRva2VuID0gdG9rZW5JZFxuICAgICAgc3BlYWtlci5zY2VuZSA9IHNjZW5lSWRcbiAgICAgIGlmIChhY3Rvci50b2tlbj8ubmFtZSkgc3BlYWtlci5hbGlhcyA9IGFjdG9yLnRva2VuLm5hbWVcbiAgICAgIHNwZWFrZXIuYWN0b3IgPSBhY3Rvci5pZFxuICAgIH0gZWxzZSB7XG4gICAgICBzcGVha2VyLmFjdG9yID0gYWN0b3JLZXlcbiAgICAgIHNwZWFrZXIuYWxpYXMgPSBhY3Rvci5uYW1lXG4gICAgfVxuICAgIHJldHVybiBzcGVha2VyXG4gIH1cblxuICBzdGF0aWMgYXR0YWNoT2JqZWN0VG9FbGVtZW50IChvYmplY3QsIGVsZW1lbnQsIG9iamVjdE5hbWUgPSAnJykge1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPYmplY3Qua2V5cyhvYmplY3QpKSB7XG4gICAgICBpZiAoIXByb3Auc3RhcnRzV2l0aCgnXycpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGNoYXRIZWxwZXIuYXR0YWNoT2JqZWN0VG9FbGVtZW50KFxuICAgICAgICAgICAgb2JqZWN0W3Byb3BdLFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGAke29iamVjdE5hbWV9OiR7cHJvcH06YFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbYCR7b2JqZWN0TmFtZX0ke3Byb3B9YF0gPSBvYmplY3RbcHJvcF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRPYmplY3RGcm9tRWxlbWVudCAob2JqZWN0LCBlbGVtZW50KSB7XG4gICAgZnVuY3Rpb24gZGVzZXJpYWxpemUgKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgY29uc3QgcyA9IGtleS5zbGljZSgxKVxuICAgICAgICBjb25zdCBvYmpQcm9wID0gcy5zbGljZShzLmluZGV4T2YoJzonKSArIDEpXG4gICAgICAgIGNvbnN0IG9iak5hbWUgPSBzLnN1YnN0cmluZygwLCBzLmluZGV4T2YoJzonKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbb2JqTmFtZV0gPT09ICd1bmRlZmluZWQnKSBvYmpbb2JqTmFtZV0gPSB7fVxuICAgICAgICBkZXNlcmlhbGl6ZShvYmpbb2JqTmFtZV0sIG9ialByb3AsIHZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSAndHJ1ZScpIG9ialtrZXldID0gdHJ1ZVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykgb2JqW2tleV0gPSBmYWxzZVxuICAgICAgICBlbHNlIGlmIChOdW1iZXIodmFsdWUpLnRvU3RyaW5nKCkgPT09IHZhbHVlKSBvYmpba2V5XSA9IE51bWJlcih2YWx1ZSlcbiAgICAgICAgZWxzZSBvYmpba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFlbGVtZW50IHx8ICFvYmplY3QpIHJldHVyblxuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpKSB7XG4gICAgICBpZiAocHJvcCA9PT0gJ3RlbXBsYXRlJykgcmV0dXJuXG4gICAgICBkZXNlcmlhbGl6ZShvYmplY3QsIHByb3AsIGVsZW1lbnQuZGF0YXNldFtwcm9wXSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0VG9rZW5Gcm9tS2V5IChrZXkpIHtcbiAgICBpZiAoIWtleSkgcmV0dXJuIG51bGxcbiAgICBpZiAoa2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IGtleS5zcGxpdCgnLicpXG4gICAgICBpZiAoc2NlbmVJZCA9PT0gJ1RPS0VOJykge1xuICAgICAgICBjb25zdCB0b2tlbkRvYyA9IGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXT8udG9rZW5cbiAgICAgICAgcmV0dXJuIHRva2VuRG9jLm9iamVjdCAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgICAgaWYgKCF0b2tlbkRhdGEpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSlcbiAgICAgICAgaWYgKCF0b2tlbi5zY2VuZSkgdG9rZW4uc2NlbmUgPSBkdXBsaWNhdGUoc2NlbmUuZG9jdW1lbnQpXG4gICAgICAgIHJldHVybiB0b2tlblxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChrZXkpXG4gICAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvclRva2VuKGFjdG9yKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvclRva2VuIChhY3Rvcikge1xuICAgIGlmICghYWN0b3IpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGFjdG9yLnRva2VuIHx8IGFjdG9yLnByb3RvdHlwZVRva2VuXG4gICAgLyoqKioqKioqKioqKioqKioqKiovXG4gICAgLy8gLy8gQ2FzZSAwIC0gQWN0b3IgaXMgYSB0b2tlbiAoc3ludGhldGljIGFjdG9yKSwgcmV0dXJuIHRoYXQgdG9rZW4uXG4gICAgLy8gaWYoYWN0b3IuaXNUb2tlbikgcmV0dXJuIGFjdG9yLnRva2VuO1xuICAgIC8vIGVsc2V7XG4gICAgLy8gIC8vIENhc2UgMSAtIEFjdG9yIGlzIG5vdCBhIHRva2VuLCBmaW5kIGlmIGEgdG9rZW4gZXhpc3QgZm9yIHRoYXQgYWN0b3IuXG4gICAgLy8gIGNvbnN0IGFjdG9yVG9rZW5zID0gYWN0b3IuZ2V0QWN0aXZlVG9rZW5zKCk7XG4gICAgLy8gIGlmKCBhY3RvclRva2Vucy5sZW5ndGgpe1xuICAgIC8vICAgIC8vIENhc2UgMS4xIC0gSWYgaGUgaGFzIG9ubHkgb25lIFRva2VuIHJldHVybiBpdC5cbiAgICAvLyAgICBpZiggMSA9PT0gYWN0b3JUb2tlbnMubGVuZ3RoKSByZXR1cm4gYWN0b3JUb2tlbnNbMF07XG5cbiAgICAvLyAgICAvLyBDYXNlIDEuMiAtIEFjdG9yIGhhcyBtdWx0aXBsZSB0b2tlbnMsIGZpbmQgaWYgb25lIG9mIHRoZW0gaXMgdGhlIGNvbnRyb2xsZWQgdG9rZW4uXG4gICAgLy8gICAgY29uc3QgY29udHJvbGxlZFRva2VucyA9IGFjdG9yVG9rZW5zLmZpbHRlciggdCA9PiB0Ll9jb250cm9sbGVkKTtcbiAgICAvLyAgICBpZiggY29udHJvbGxlZFRva2Vucy5sZW5ndGgpe1xuICAgIC8vICAgICAgLy8gUmV0dXJuIHRoZSAxc3QgY29udHJvbGxlZCB0b2tlbiwgcmlzZSBhIHdhcm5pbmcgaWYgaGUgaGFzIG11bHRpcGxlIGNvbnRyb2xsZWQgdG9rZW5zLlxuICAgIC8vICAgICAgaWYoIHZlcmJvc2UgJiYgY29udHJvbGxlZFRva2Vucy5sZW5ndGggPiAxKSB1aS5ub3RpZmljYXRpb25zLndhcm4oIGBBY3RvciAke2FjdG9yLm5hbWV9IGhhcyAke2NvbnRyb2xsZWRUb2tlbnMubGVuZ3RofSBjb250cm9sbGVkIHRva2Vucy4gVXNpbmcgdGhlIGZpcnN0IGZvdW5kYCk7XG4gICAgLy8gICAgICByZXR1cm4gY29udHJvbGxlZFRva2Vuc1swXTtcbiAgICAvLyAgICB9XG5cbiAgICAvLyAgICAvLyBDYXNlIDEuMyBhY3RvciBkb2Vzbid0IGhhdmUgYW55IGFjdGl2ZSB0b2tlbi4gUmV0dXJuIHRoZSBmaXJzdCB2YWxpZCB0b2tlbiBmb3IgdGhhdCBhY3RvciBhbmQgcmFpc2UgYSB3YXJuaW5nLlxuICAgIC8vICAgIGlmKCB2ZXJib3NlKSB1aS5ub3RpZmljYXRpb25zLndhcm4oIGBBY3RvciAke2FjdG9yLm5hbWV9IGRvZXNuJ3QgaGF2ZSBhbnkgY29udHJvbGxlZCB0b2tlbi4gVXNpbmcgZmlyc3QgdG9rZW4gZm91bmQuYCk7XG4gICAgLy8gICAgcmV0dXJuIGFjdG9yVG9rZW5zWzBdO1xuICAgIC8vICB9XG5cbiAgICAvLyAgaWYoIHZlcmJvc2UpIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoIGBDb3VsZCBub3QgZmluIGFueSB0b2tlbiBmb3IgJHthY3Rvci5uYW1lfS5gKTtcbiAgICAvLyAgcmV0dXJuIG51bGw7XG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIGdldEFjdG9ySW1nRnJvbUtleSAoYWN0b3JLZXkpIHtcbiAgICBpZiAoIWFjdG9yS2V5KSByZXR1cm4gbnVsbFxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VUb2tlbicpKSB7XG4gICAgICAvLyBUcnkgdG8gZmluZCBhIHRva2VuLlxuICAgICAgY29uc3QgdG9rZW4gPSBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleShhY3RvcktleSlcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBpZiAoKHRva2VuLmRvY3VtZW50IHx8IHRva2VuKS50ZXh0dXJlLnNyYykge1xuICAgICAgICAgIGlmICgodG9rZW4uZG9jdW1lbnQgfHwgdG9rZW4pLnRleHR1cmUuc3JjLmluZGV4T2YoJyonKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAodG9rZW4uZG9jdW1lbnQgfHwgdG9rZW4pLnRleHR1cmUuc3JjXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VUb2tlbicpKSB7XG4gICAgICAvLyBpZiBubyB0b2tlbiBmb3VuZCBmb3IgdGhhdCBhY3RvciByZXR1cm4gdGhlIHByb3RvdHlwZSB0b2tlbiBpbWFnZS5cbiAgICAgIGlmIChhY3Rvci5wcm90b3R5cGVUb2tlbikge1xuICAgICAgICBpZiAoYWN0b3IucHJvdG90eXBlVG9rZW4udGV4dHVyZS5zcmMpIHtcbiAgICAgICAgICBpZiAoYWN0b3IucHJvdG90eXBlVG9rZW4udGV4dHVyZS5zcmM/LmluZGV4T2YoJyonKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rvci5wcm90b3R5cGVUb2tlbi50ZXh0dXJlLnNyY1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0b3IuaW1nXG4gIH1cblxuICBzdGF0aWMgZ2V0RGlzdGFuY2UgKHN0YXJ0VG9rZW4sIGVuZFRva2VuKSB7XG4gICAgLy8gc3RhcnRUb2tlbi51cGRhdGVTb3VyY2UoKTtcbiAgICAvLyBjYW52YXMuc2lnaHQuaW5pdGlhbGl6ZVRva2VucygpO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBlbmRUb2tlbi5jZW50ZXIgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgZW5kVG9rZW4uaWQgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBpZiAoc3RhcnRUb2tlbi5zY2VuZT8uaWQgfHwgZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc3RhcnRUb2tlbi5zY2VuZS5pZClcbiAgICAgICAgaWYgKHR5cGVvZiBzY2VuZT8udG9rZW5zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHRva2VucyA9IHNjZW5lPy50b2tlbnNcbiAgICAgICAgICAgIC5maWx0ZXIodG9rZW4gPT4gdG9rZW4uYWN0b3IuaWQgPT09IGVuZFRva2VuLmRhdGEuZG9jdW1lbnQuaWQpXG4gICAgICAgICAgICAubWFwKHRva2VuID0+IHRva2VuLm9iamVjdClcbiAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZW5kVG9rZW4gPSB0b2tlbnNbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRpc3RhbmNlID0ge1xuICAgICAgZ3JpZFVuaXQ6IDAsXG4gICAgICB2YWx1ZTogMCxcbiAgICAgIHVuaXQ6IGNhbnZhcy5zY2VuZS5ncmlkLnVuaXRzXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBzdGFydFRva2VuICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIHN0YXJ0VG9rZW4uY2VudGVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGVuZFRva2VuICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGVuZFRva2VuLmNlbnRlciAhPT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoc3RhcnRUb2tlbi5jZW50ZXIsIGVuZFRva2VuLmNlbnRlcilcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSBbeyByYXkgfV1cbiAgICAgIGRpc3RhbmNlID0ge1xuICAgICAgICBncmlkVW5pdDogcmF5LmRpc3RhbmNlIC8gY2FudmFzLnNjZW5lLmdyaWQuc2l6ZSxcbiAgICAgICAgLy8gdmFsdWU6IChyYXkuZGlzdGFuY2UvY2FudmFzLnNjZW5lLmRhdGEuZ3JpZCkqY2FudmFzLnNjZW5lLmRhdGEuZ3JpZERpc3RhbmNlLFxuICAgICAgICB2YWx1ZTogY2FudmFzLmdyaWQubWVhc3VyZURpc3RhbmNlcyhzZWdtZW50LCB7XG4gICAgICAgICAgZ3JpZFNwYWNlczogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZ3JpZFNwYWNlcycpXG4gICAgICAgIH0pWzBdLFxuICAgICAgICB1bml0OiBjYW52YXMuc2NlbmUuZ3JpZC51bml0c1xuICAgICAgfVxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3RhbmNlRWxldmF0aW9uJykpIHtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uID0gTWF0aC5hYnMoXG4gICAgICAgICAgKHN0YXJ0VG9rZW4uZG9jdW1lbnQuZWxldmF0aW9uIHx8IDApIC0gKGVuZFRva2VuLmRvY3VtZW50LmVsZXZhdGlvbiB8fCAwKVxuICAgICAgICApXG4gICAgICAgIGRpc3RhbmNlLnZhbHVlID0gTWF0aC5zcXJ0KFxuICAgICAgICAgIGRpc3RhbmNlLnZhbHVlICogZGlzdGFuY2UudmFsdWUgKyBlbGV2YXRpb24gKiBlbGV2YXRpb25cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3RhbmNlVGhlYXRyZU9mVGhlTWluZCcpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NZXNzYWdlRGlzdGFuY2VDYWxjdWxhdGlvbkZhaWx1cmUnKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gZGlzdGFuY2VcbiAgfVxuXG4gIHN0YXRpYyB0b1lhcmRzIChkaXN0YW5jZSkge1xuICAgIHN3aXRjaCAoZGlzdGFuY2UudW5pdCkge1xuICAgICAgY2FzZSAnZnQnOlxuICAgICAgICByZXR1cm4gZGlzdGFuY2UudmFsdWUgLyAzXG5cbiAgICAgIGNhc2UgJ3lkJzpcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlLnZhbHVlXG5cbiAgICAgIGNhc2UgJ20nOlxuICAgICAgICByZXR1cm4gZGlzdGFuY2UudmFsdWVcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlLnZhbHVlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3Um9sbCB7XG4gIHN0YXRpYyBnZXRGcm9tQ2FyZCAoY2FyZCkge1xuICAgIGNvbnN0IHJvbGxEaXYgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5kaWNlLXJvbGwnKVxuICAgIGlmICghcm9sbERpdikgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IHJvbGwgPSBuZXcgQ29DN1JvbGwoKVxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQocm9sbCwgcm9sbERpdilcblxuICAgIHJldHVybiByb2xsXG4gIH1cblxuICBnZXQgcmVzdWx0VHlwZSAoKSB7XG4gICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBwYXJzZUludCh0aGlzLnN1Y2Nlc3NMZXZlbClcbiAgICBzd2l0Y2ggKHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhcjpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWw6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZnVtYmxlOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5GdW1ibGUnKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmU6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkZhaWx1cmUnKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldCBhY3RvciAoKSB7XG4gICAgaWYgKHRoaXMuYWN0b3JLZXkpIHJldHVybiBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGl0ZW0gKCkge1xuICAgIGlmICh0aGlzLml0ZW1JZCAmJiB0aGlzLmFjdG9yKSByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBza2lsbCAoKSB7XG4gICAgaWYgKHRoaXMuc2tpbGxJZCAmJiB0aGlzLmFjdG9yKSByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5za2lsbElkKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBzaG93RGljZVJvbGwgKCkge1xuICAgIGlmIChnYW1lLm1vZHVsZXMuZ2V0KCdkaWNlLXNvLW5pY2UnKT8uYWN0aXZlKSB7XG4gICAgICBjb25zdCBkaWNlUmVzdWx0cyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGRpZVJlc3VsdCBvZiB0aGlzLmRpY2VzLnRlbnMpIHtcbiAgICAgICAgZGljZVJlc3VsdHMucHVzaChkaWVSZXN1bHQudmFsdWUgPT09IDEwMCA/IDAgOiBkaWVSZXN1bHQudmFsdWUgLyAxMClcbiAgICAgIH1cbiAgICAgIGRpY2VSZXN1bHRzLnB1c2godGhpcy5kaWNlcy51bml0LnZhbHVlKVxuXG4gICAgICBjb25zdCBkaWNlRGF0YSA9IHtcbiAgICAgICAgZm9ybXVsYTogYCR7dGhpcy5kaWNlcy50ZW5zLmxlbmd0aH1kMTAwKzFkMTBgLFxuICAgICAgICByZXN1bHRzOiBkaWNlUmVzdWx0cyxcbiAgICAgICAgd2hpc3BlcjogbnVsbCxcbiAgICAgICAgYmxpbmQ6IGZhbHNlXG4gICAgICB9XG4gICAgICBnYW1lLmRpY2UzZC5zaG93KGRpY2VEYXRhKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tRWxlbWVudCAoZWxlbWVudCwgb2JqZWN0ID0gbnVsbCkge1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuXG4gICAgY29uc3Qgcm9sbCA9IG9iamVjdCB8fCBuZXcgQ29DN1JvbGwoKVxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQocm9sbCwgZWxlbWVudClcbiAgICByb2xsLmRpY2VzID0ge1xuICAgICAgdGVuczogW10sXG4gICAgICB1bml0OiB7fVxuICAgIH1cbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KFxuICAgICAgcm9sbC5kaWNlcyxcbiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRpY2UtcmVzdWx0JylcbiAgICApXG4gICAgcm9sbC5kaWNlcy5oYXNCb251cyA9IHJvbGwuZGljZU1vZGlmaWVyICE9PSAwXG4gICAgcm9sbC5kaWNlcy5ib251cyA9IE1hdGguYWJzKHJvbGwuZGljZU1vZGlmaWVyKVxuICAgIHJvbGwuZGljZXMuYm9udXNUeXBlID1cbiAgICAgIHJvbGwuZGljZU1vZGlmaWVyIDwgMFxuICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGljZU1vZGlmaWVyUGVuYWx0eScpXG4gICAgICAgIDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EaWNlTW9kaWZpZXJCb251cycpXG4gICAgY29uc3QgdGVuRGljZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRlbi1kaWNlJylcbiAgICBpZiAodGVuRGljZSkge1xuICAgICAgZm9yIChjb25zdCBkIG9mIHRlbkRpY2UucXVlcnlTZWxlY3RvckFsbCgnbGknKSkge1xuICAgICAgICBjb25zdCBkaWUgPSB7XG4gICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzTWF4OiBmYWxzZSxcbiAgICAgICAgICBpc01pbjogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IC0xXG4gICAgICAgIH1cbiAgICAgICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudChkaWUsIGQpXG4gICAgICAgIHJvbGwuZGljZXMudGVucy5wdXNoKGRpZSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdW5pdERpZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVuaXQtZGllJylcbiAgICAgID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW5pdC1kaWUnKS5xdWVyeVNlbGVjdG9yKCdsaScpXG4gICAgICA6IG51bGxcbiAgICByb2xsLmRpY2VzLnVuaXQudmFsdWUgPSB1bml0RGllID8gcGFyc2VJbnQodW5pdERpZS5kYXRhc2V0LnZhbHVlKSA6IG51bGxcblxuICAgIHJvbGwuaW5jcmVhc2VTdWNjZXNzID0gW11cbiAgICBjb25zdCBpbmNyZWFzZVN1Y2Nlc3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmNyZWFzZS1zdWNjZXNzJylcbiAgICBpZiAoaW5jcmVhc2VTdWNjZXNzICYmIGluY3JlYXNlU3VjY2Vzcy5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKSkge1xuICAgICAgZm9yIChjb25zdCBpc2wgb2YgaW5jcmVhc2VTdWNjZXNzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpKSB7XG4gICAgICAgIGNvbnN0IG5ld1N1Y2Nlc0xldmVsID0ge31cbiAgICAgICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudChuZXdTdWNjZXNMZXZlbCwgaXNsKVxuICAgICAgICByb2xsLmluY3JlYXNlU3VjY2Vzcy5wdXNoKG5ld1N1Y2Nlc0xldmVsKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyb2xsLmx1Y2tOZWVkZWQpIHtcbiAgICAgIHJvbGwubHVja05lZWRlZFR4dCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU3BlbmRMdWNrJywge1xuICAgICAgICBsdWNrTmVlZGVkVmFsdWU6IHJvbGwubHVja05lZWRlZFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKCFvYmplY3QpIHJldHVybiByb2xsXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNoZWNrIChjaGVjaykge1xuICAgIGNvbnN0IHJvbGwgPSBuZXcgQ29DN1JvbGwoKVxuXG4gICAgcm9sbC5yb2xsVHlwZSA9IGNoZWNrLnJvbGxUeXBlXG4gICAgcm9sbC5zaWRlID0gY2hlY2suc2lkZVxuICAgIHJvbGwuYWN0aW9uID0gY2hlY2suYWN0aW9uXG4gICAgcm9sbC5yZWZNZXNzYWdlSWQgPSBjaGVjay5yZWZNZXNzYWdlSWRcbiAgICByb2xsLnJlZmVyZW5jZU1lc3NhZ2VJZCA9IGNoZWNrLnJlZmVyZW5jZU1lc3NhZ2VJZFxuXG4gICAgcm9sbC5zdWNjZXNzTGV2ZWwgPSBjaGVjay5zdWNjZXNzTGV2ZWxcbiAgICByb2xsLmRpZmZpY3VsdHkgPSBjaGVjay5kaWZmaWN1bHR5XG4gICAgcm9sbC5za2lsbElkID0gY2hlY2suc2tpbGwgPyBjaGVjay5za2lsbC5pZCA6IG51bGxcbiAgICByb2xsLml0ZW1JZCA9IGNoZWNrLml0ZW0gPyBjaGVjay5pdGVtLmlkIDogbnVsbFxuICAgIHJvbGwuZGljZU1vZCA9IGNoZWNrLmRpY2VNb2RpZmllclxuICAgIHJvbGwudmFsdWUgPSBwYXJzZUludChjaGVjay5yYXdWYWx1ZSlcbiAgICByb2xsLmZ1bWJsZSA9IGNoZWNrLmlzRnVtYmxlXG4gICAgcm9sbC5jcml0aWNhbCA9IGNoZWNrLmlzQ3JpdGljYWxcbiAgICByb2xsLmNoYXJhY3RlcmlzdGljID0gY2hlY2suY2hhcmFjdGVyaXN0aWMgPyBjaGVjay5jaGFyYWN0ZXJpc3RpYyA6IG51bGxcbiAgICByb2xsLnJlc3VsdCA9IGNoZWNrLmRpY2UudG90YWxcblxuICAgIHJvbGwuYWN0b3JLZXkgPSBjaGVjay5hY3Rvci50b2tlbktleSAvLyBSRUZBQ1RPUklORyAoMilcblxuICAgIGlmIChjaGVjay5hY3Rvci5pc1Rva2VuKSB7XG4gICAgICByb2xsLnRva2VuSWQgPSBjaGVjay5hY3Rvci50b2tlbktleSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIHJvbGwuYWN0b3JJZCA9IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcm9sbC50b2tlbktleSA9IG51bGxcbiAgICAgIHJvbGwuYWN0b3JJZCA9IGNoZWNrLmFjdG9yLnRva2VuS2V5IC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIH1cblxuICAgIHJldHVybiByb2xsXG4gIH1cblxuICBzdGF0aWMgYXR0YWNoQ2hlY2tUb0VsZW1lbnQgKGh0bWxFbGVtZW50LCBjaGVjaykge1xuICAgIGNvbnN0IHJvbGwgPSBDb0M3Um9sbC5nZXRGcm9tQ2hlY2soY2hlY2spXG4gICAgcm9sbC5hdHRhY2hUb0VsZW1lbnQoaHRtbEVsZW1lbnQpXG5cbiAgICByZXR1cm4gcm9sbFxuICB9XG5cbiAgYXR0YWNoVG9FbGVtZW50IChodG1sRWxlbWVudCkge1xuICAgIGNoYXRIZWxwZXIuYXR0YWNoT2JqZWN0VG9FbGVtZW50KHRoaXMsIGh0bWxFbGVtZW50KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3RGFtYWdlIHtcbiAgc3RhdGljIGdldE1haW5EaWUgKGRhbWFnZVN0cmluZykge1xuICAgIGlmIChkYW1hZ2VTdHJpbmcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZDIwJykpIHJldHVybiAnZDIwJ1xuICAgIGlmIChkYW1hZ2VTdHJpbmcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZDEyJykpIHJldHVybiAnZDEyJ1xuICAgIGlmIChkYW1hZ2VTdHJpbmcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZDEwJykpIHJldHVybiAnZDEwJ1xuICAgIGlmIChkYW1hZ2VTdHJpbmcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZDgnKSkgcmV0dXJuICdkOCdcbiAgICBpZiAoZGFtYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Q0JykpIHJldHVybiAnZDQnXG4gICAgcmV0dXJuICdkNidcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tRWxlbWVudCAoZWxlbWVudCwgb2JqZWN0ID0gbnVsbCkge1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuXG4gICAgY29uc3QgZGFtYWdlID0gb2JqZWN0IHx8IHt9XG4gICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudChkYW1hZ2UsIGVsZW1lbnQpXG4gICAgY29uc3Qgcm9sbHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXJvbGxzJykucXVlcnlTZWxlY3RvckFsbCgnbGknKVxuICAgIGRhbWFnZS5yb2xscyA9IFtdXG4gICAgZm9yIChjb25zdCByIG9mIHJvbGxzKSB7XG4gICAgICBjb25zdCByb2xsID0ge31cbiAgICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQocm9sbCwgcilcbiAgICAgIGRhbWFnZS5yb2xscy5wdXNoKHJvbGwpXG4gICAgfVxuXG4gICAgaWYgKCFvYmplY3QpIHJldHVybiBkYW1hZ2VcbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpYWxvZywgRm9ybURhdGEsIGdhbWUsIHJlbmRlclRlbXBsYXRlICovXG5cbmltcG9ydCB7IENvQzdDaGF0TWVzc2FnZSB9IGZyb20gJy4vY29jNy1jaGF0LW1lc3NhZ2UuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcblxuZXhwb3J0IGNsYXNzIFJvbGxEaWFsb2cge1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChvcHRpb25zID0ge30pIHtcbiAgICBpZiAob3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICBvcHRpb25zLmRpZmZpY3VsdHlMZXZlbCA9IHt9XG4gICAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC51bmtub3duID09PSBvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgb3B0aW9ucy5kaWZmaWN1bHR5TGV2ZWwudW5rbm93biA9IHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgPT09IG9wdGlvbnMuZGlmZmljdWx0eSkge1xuICAgICAgICBvcHRpb25zLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID0gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZCA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICAgIG9wdGlvbnMuZGlmZmljdWx0eUxldmVsLmhhcmQgPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lID09PSBvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgb3B0aW9ucy5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYoIHVuZGVmaW5lZCA9PSBvcHRpb25zLmFza1ZhbHVlKSBvcHRpb25zLmFza1ZhbHVlID0gdHJ1ZTtcbiAgICBpZiAob3B0aW9ucy5uYW1lICYmICFvcHRpb25zLmRpc3BsYXlOYW1lKSBvcHRpb25zLmRpc3BsYXlOYW1lID0gb3B0aW9ucy5uYW1lXG4gICAgY29uc3QgdW5rbm93bkRpZmZpY3VsdHlEZWZhdWx0ID1cbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2RlZmF1bHRDaGVja0RpZmZpY3VsdHknKSA9PT0gJ3Vua25vd24nXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGFsbG93RmxhdERpY2VNb2RpZmllcjpcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYWxsb3dGbGF0RGljZU1vZGlmaWVyJykgJiZcbiAgICAgICAgIW9wdGlvbnMuZGlzYWJsZUZsYXREaWNlTW9kaWZpZXIsXG4gICAgICBhbGxvd0ZsYXRUaHJlc2hvbGRNb2RpZmllcjpcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXInKSAmJlxuICAgICAgICAhb3B0aW9ucy5kaXNhYmxlRmxhdFRocmVzaG9sZE1vZGlmaWVyLFxuICAgICAgZGlmZmljdWx0eTogQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbCxcbiAgICAgIHVua25vd25EaWZmaWN1bHR5RGVmYXVsdCxcbiAgICAgIGhpZGVEaWZmaWN1bHR5OiBvcHRpb25zLmhpZGVEaWZmaWN1bHR5ID8/IGZhbHNlLFxuICAgICAgb3B0aW9uc1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5jYXJkVHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICghb3B0aW9ucy5mb3JjZWRDYXJkVHlwZSA/PyB0cnVlKVxuICAgICkge1xuICAgICAgZGF0YS5jYXJkVHlwZXMgPSBDb0M3Q2hhdE1lc3NhZ2UuY2FyZFR5cGVzKG9wdGlvbnMpXG4gICAgfVxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvYm9udXMuaHRtbCcsXG4gICAgICBkYXRhXG4gICAgKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGxldCBmb3JtRGF0YSA9IG51bGxcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogb3B0aW9ucy5kaXNwbGF5TmFtZVxuICAgICAgICAgID8gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Cb251c1NlbGVjdGlvbldpbmRvd05hbWVkJywge1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5kaXNwbGF5TmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQm9udXNTZWxlY3Rpb25XaW5kb3cnKSxcbiAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUm9sbERpY2UnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjYm9udXMtcm9sbC1mb3JtJykpXG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZvcm1EYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdDogJ3JvbGwnLFxuICAgICAgICBjbG9zZTogKCkgPT4ge31cbiAgICAgIH0pXG4gICAgICBkbGcucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSwgdWkgKi9cbi8vIGltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vLi4vYWN0b3JzL2FjdG9yLmpzJztcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuXG5leHBvcnQgY2xhc3MgUm9sbENhcmQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5yb2xscyA9IFtdXG4gICAgdGhpcy5pbml0aWF0b3IgPSBudWxsXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2VJZCAobWVzc2FnZUlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tTWVzc2FnZShtZXNzYWdlKVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tTWVzc2FnZSAobWVzc2FnZSkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChtZXNzYWdlLmNvbnRlbnQpWzBdXG4gICAgaWYgKCFjYXJkRWxlbWVudCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLmZyb21IVE1MQ2FyZEVsZW1lbnQoY2FyZEVsZW1lbnQpXG4gICAgY2FyZC5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbUhUTUxDYXJkRWxlbWVudCAoY2FyZCkge1xuICAgIGNvbnN0IGNhcmREYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShjYXJkLmRhdGFzZXQub2JqZWN0KSlcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5mcm9tRGF0YShjYXJkRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tRGF0YSAoZGF0YSkge1xuICAgIGNvbnN0IGNhcmQgPSBPYmplY3QuYXNzaWduKG5ldyB0aGlzKCksIGRhdGEpXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNhcmQucm9sbHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoY2FyZC5yb2xsc1tpbmRleF0/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICBjYXJkLnJvbGxzW2luZGV4XSA9IE9iamVjdC5hc3NpZ24obmV3IENvQzdDaGVjaygpLCBjYXJkLnJvbGxzW2luZGV4XSlcbiAgICAgICAgaWYgKGNhcmQucm9sbHNbaW5kZXhdLnJvbGxlZCkge1xuICAgICAgICAgIGNhcmQucm9sbHNbaW5kZXhdLl9odG1sUm9sbCA9IGF3YWl0IGNhcmQucm9sbHNbaW5kZXhdLmdldEh0bWxSb2xsKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FyZFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vblRvZ2dsZSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCBzcGFuID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGlmIChzcGFuICYmIHNwYW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdnbS1zZWxlY3Qtb25seScpICYmICFnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBzcGFuLmNsb3Nlc3QoJy5jaGF0LW1lc3NhZ2UnKVxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLmZyb21NZXNzYWdlSWQobWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZClcbiAgICBpZiAoIWNhcmQpIHJldHVyblxuICAgIGNvbnN0IGZsYWcgPSBzcGFuLmRhdGFzZXQuZmxhZ1xuICAgIGlmICghZmxhZykgcmV0dXJuXG4gICAgY29uc3QgdG9nZ2xlID0gc3Bhbi5jbG9zZXN0KCcudG9nZ2xlJylcbiAgICBpZiAoIXRvZ2dsZSkge1xuICAgICAgY2FyZC50b2dnbGVGbGFnKGZsYWcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0b2dnbGUucXVlcnlTZWxlY3RvckFsbCgnLnRvZ2dsZS1zd2l0Y2gnKVxuICAgICAgZm9yIChjb25zdCBiIG9mIGJ1dHRvbnMpIHtcbiAgICAgICAgY2FyZC51bnNldEZsYWcoYi5kYXRhc2V0LmZsYWcpXG4gICAgICB9XG4gICAgICBjYXJkLnNldEZsYWcoZmxhZylcbiAgICB9XG4gICAgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGlzcGF0Y2ggKGRhdGEpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGxldCBtZXNzYWdlcyA9IHVpLmNoYXQuY29sbGVjdGlvbi5maWx0ZXIobWVzc2FnZSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmRlZmF1bHRDb25maWcudHlwZSA9PT0gbWVzc2FnZS5nZXRGbGFnKCdDb0M3JywgJ3R5cGUnKSAmJlxuICAgICAgICAgIG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdzdGF0ZScpICE9PSAncmVzb2x2ZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChbJ2NvbWJpbmVkQ2FyZCddLmluY2x1ZGVzKHRoaXMuZGVmYXVsdENvbmZpZy50eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdpbml0aWF0b3InKSA9PT0gZGF0YS5yb2xsLmluaXRpYXRvclxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcblxuICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgICAvLyBPbGQgbWVzc2FnZXMgY2FuJ3QgYmUgdXNlZCBpZiBtZXNzYWdlIGlzIG1vcmUgdGhhbiBhIGRheSBvbGQgbWFyayBpdCBhcyByZXNvbHZlZFxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShtZXNzYWdlc1swXS50aW1lc3RhbXApXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICAgICAgY29uc3QgdGltZURpZmZTZWMgPSAobm93IC0gdGltZXN0YW1wKSAvIDEwMDBcbiAgICAgICAgaWYgKDI0ICogNjAgKiA2MCA8IHRpbWVEaWZmU2VjKSB7XG4gICAgICAgICAgYXdhaXQgbWVzc2FnZXNbMF0uc2V0RmxhZygnQ29DNycsICdzdGF0ZScsICdyZXNvbHZlZCcpXG4gICAgICAgICAgbWVzc2FnZXMgPSBbXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBjYXJkXG4gICAgICBpZiAoIW1lc3NhZ2VzLmxlbmd0aCkgY2FyZCA9IG5ldyB0aGlzKClcbiAgICAgIGVsc2UgY2FyZCA9IGF3YWl0IHRoaXMuZnJvbU1lc3NhZ2UobWVzc2FnZXNbMF0pXG4gICAgICBpZiAodHlwZW9mIGRhdGEuX3JvbGxNb2RlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjYXJkLl9yb2xsTW9kZSA9IGRhdGEuX3JvbGxNb2RlXG4gICAgICB9XG4gICAgICBhd2FpdCBjYXJkLnByb2Nlc3MoZGF0YSlcbiAgICB9IGVsc2UgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICB9XG5cbiAgYXN5bmMgdG9NZXNzYWdlICgpIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy5jb25maWcudGVtcGxhdGUsIHRoaXMpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJChodG1sKVxuICAgIGh0bWxDYXJkRWxlbWVudFswXS5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZSh0aGlzLmRhdGFTdHJpbmcpXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmxvY2FsaXplKHRoaXMuY29uZmlnLnRpdGxlKSxcbiAgICAgIGNvbnRlbnQ6IGh0bWxDYXJkRWxlbWVudFswXS5vdXRlckhUTUwsXG4gICAgICBmbGFnczoge1xuICAgICAgICBDb0M3OiB7XG4gICAgICAgICAgdHlwZTogdGhpcy5jb25maWcudHlwZSxcbiAgICAgICAgICBzdGF0ZTogJ2luaXRpYXRlZCcsXG4gICAgICAgICAgaW5pdGlhdG9yOiB0aGlzLmluaXRpYXRvclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKHRoaXMucm9sbE1vZGUpKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICB9XG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YS5ibGluZCA9IHRydWVcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoKSB7XG4gICAgYXdhaXQgdGhpcy5jb21wdXRlKClcbiAgICBpZiAoIXRoaXMubWVzc2FnZUlkKSB7XG4gICAgICBhd2FpdCB0aGlzLnRvTWVzc2FnZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLmNvbmZpZy50ZW1wbGF0ZSwgdGhpcylcbiAgICAgIGNvbnN0IGh0bWxDYXJkRWxlbWVudCA9ICQucGFyc2VIVE1MKGh0bWwpWzBdXG5cbiAgICAgIC8vIEF0dGFjaCB0aGUgc2FuQ2hlY2tDYXJkIG9iamVjdCB0byB0aGUgbWVzc2FnZS5cbiAgICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZSh0aGlzLmRhdGFTdHJpbmcpXG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgbWVzc2FnZS5cbiAgICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG4gICAgICBpZiAodGhpcy5jbG9zZWQpIGF3YWl0IGNoYXRNZXNzYWdlLnNldEZsYWcoJ0NvQzcnLCAnc3RhdGUnLCAncmVzb2x2ZWQnKVxuXG4gICAgICBjb25zdCBtc2cgPSBhd2FpdCBjaGF0TWVzc2FnZS51cGRhdGUoe1xuICAgICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICB9KVxuICAgICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgICByZXR1cm4gbXNnXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlUm9sbCAoZGF0YSkge1xuICAgIGlmICghZGF0YS5mcm9tR00pIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5yb2xsc1tkYXRhLnJhbmtdLCBkYXRhLnJvbGwpXG4gICAgfVxuICB9XG5cbiAgYWRkUm9sbERhdGEgKGRhdGEpIHtcbiAgICBjb25zdCBjaGVjayA9IE9iamVjdC5hc3NpZ24obmV3IENvQzdDaGVjaygpLCBkYXRhLnJvbGwpXG4gICAgdGhpcy5yb2xscy5wdXNoKGNoZWNrKVxuICAgIGlmICh0aGlzLmNvbmZpZy50eXBlID09PSAnY29tYmluZWRDYXJkJykge1xuICAgICAgdGhpcy5pbml0aWF0b3IgPSBkYXRhLnJvbGwuaW5pdGlhdG9yXG4gICAgfVxuICB9XG5cbiAgYWRkUm9sbCAoZGF0YSkge1xuICAgIHRoaXMucm9sbHMucHVzaChkYXRhKVxuICB9XG5cbiAgcmVtb3ZlUm9sbCAocmFuaykge1xuICAgIHRoaXMucm9sbHMuc3BsaWNlKHJhbmssIDEpXG4gIH1cblxuICBzZXRGbGFnIChmbGFnTmFtZSkge1xuICAgIGlmICghZmxhZ05hbWUgJiYgISgkLnR5cGUoZmxhZ05hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHRoaXNbZmxhZ05hbWVdID0gdHJ1ZVxuICB9XG5cbiAgdW5zZXRGbGFnIChmbGFnTmFtZSkge1xuICAgIGlmICghZmxhZ05hbWUgJiYgISgkLnR5cGUoZmxhZ05hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHRoaXNbZmxhZ05hbWVdID0gZmFsc2VcbiAgfVxuXG4gIHRvZ2dsZUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgdGhpc1tmbGFnTmFtZV0gPSAhdGhpc1tmbGFnTmFtZV1cbiAgfVxuXG4gIGdldCBtZXNzYWdlICgpIHtcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2VcbiAgICBpZiAodGhpcy5fbWVzc2FnZUlkKSByZXR1cm4gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5fbWVzc2FnZUlkKVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCBtZXNzYWdlICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZSA9IHhcbiAgfVxuXG4gIGdldCBtZXNzYWdlSWQgKCkge1xuICAgIGlmICh0aGlzLl9tZXNzYWdlSWQpIHJldHVybiB0aGlzLl9tZXNzYWdlSWRcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2UuaWRcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzZXQgbWVzc2FnZUlkICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZUlkID0geFxuICB9XG5cbiAgLy8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRDb25maWcgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleGNsdWRlOiBbJ19hY3RvcicsICdfc2tpbGwnLCAnX2l0ZW0nLCAnX21lc3NhZ2UnLCAnX2h0bWxSb2xsJ10sXG4gICAgICBleGNsdWRlU3RhcnRXaXRoOiAnX18nXG4gICAgfVxuICB9XG5cbiAgLy8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGdldCB3aW5uZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xscy5maWx0ZXIociA9PiByLndpbm5lcilcbiAgfVxuXG4gIGdldCB3aW5uZXIgKCkge1xuICAgIGlmICh0aGlzLndpbm5lcnMubGVuZ3RoKSByZXR1cm4gdGhpcy53aW5uZXJzWzBdXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IGxvb3NlcnMgKCkge1xuICAgIHJldHVybiB0aGlzLnJvbGxzLmZpbHRlcihyID0+ICFyLndpbm5lcilcbiAgfVxuXG4gIGdldCBsb29zZXIgKCkge1xuICAgIGlmICh0aGlzLmxvb3NlcnMubGVuZ3RoKSByZXR1cm4gdGhpcy5sb29zZXJzWzBdXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IGhhc1dpbm5lciAoKSB7XG4gICAgaWYgKHRoaXMud2lubmVycy5sZW5ndGggPiAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGlzS2VlcGVyICgpIHtcbiAgICByZXR1cm4gZ2FtZS51c2VyLmlzR01cbiAgfVxuXG4gIGdldCByb2xsTW9kZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9yb2xsTW9kZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgcmV0dXJuIHRoaXMuX3JvbGxNb2RlXG4gIH1cblxuICBzZXQgcm9sbE1vZGUgKHgpIHtcbiAgICBpZiAoeCA9PT0gZmFsc2UpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHRoaXMuX3JvbGxNb2RlID0geFxuICB9XG5cbiAgZ2V0IGRhdGEgKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZGF0YVN0cmluZylcbiAgfVxuXG4gIGdldCBkYXRhU3RyaW5nICgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcywgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgaWYgKHRoaXMuY29uZmlnLmV4Y2x1ZGU/LmluY2x1ZGVzKGtleSkpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCh0aGlzLmNvbmZpZy5leGNsdWRlU3RhcnRXaXRoKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIEF1ZGlvSGVscGVyLCBDT05GSUcsIGdhbWUsIG1lcmdlT2JqZWN0ICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdEaWNlIH0gZnJvbSAnLi4vLi4vZGljZS5qcydcbmltcG9ydCB7IFJvbGxDYXJkIH0gZnJvbSAnLi9yb2xsLWNhcmQuanMnXG5cbmV4cG9ydCBjbGFzcyBDb21iaW5lZENoZWNrQ2FyZCBleHRlbmRzIFJvbGxDYXJkIHtcbiAgc3RhdGljIGFzeW5jIGJpbmRMaXN0ZXJuZXJzIChodG1sKSB7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJvbGwtY2FyZC5jb21iaW5lZCAudG9nZ2xlLXN3aXRjaCcsXG4gICAgICB0aGlzLl9vblRvZ2dsZS5iaW5kKHRoaXMpXG4gICAgKVxuICAgIC8vIGh0bWwuZmluZCgnLnJvbGwtY2FyZCBhJykuY2xpY2soYXN5bmMgKGV2ZW50KSA9PiBDb21iaW5lZENoZWNrQ2FyZC5fb25DbGljayggZXZlbnQpKTtcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucm9sbC1jYXJkLmNvbWJpbmVkIGEnLFxuICAgICAgQ29tYmluZWRDaGVja0NhcmQuX29uQ2xpY2suYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucm9sbC1jYXJkLmNvbWJpbmVkIGJ1dHRvbicsXG4gICAgICBDb21iaW5lZENoZWNrQ2FyZC5fb25DbGljay5iaW5kKHRoaXMpXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0Q29uZmlnICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdENvbmZpZywge1xuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY2FyZHMvY29tYmluZWQtcm9sbC5odG1sJyxcbiAgICAgIHR5cGU6ICdjb21iaW5lZENhcmQnLFxuICAgICAgdGl0bGU6ICdDb0M3LkNvbWJpbmVkUm9sbENhcmQnXG4gICAgfSlcbiAgfVxuXG4gIGdldCBjb25maWcgKCkge1xuICAgIHJldHVybiBDb21iaW5lZENoZWNrQ2FyZC5kZWZhdWx0Q29uZmlnXG4gIH1cblxuICBnZXQgc3VjY2Vzc0NvdW50ICgpIHtcbiAgICBpZiAodGhpcy5yb2xsZWQpIHtcbiAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgIGZvciAoY29uc3QgciBvZiB0aGlzLnJvbGxzKSB7XG4gICAgICAgIGlmIChyLnBhc3NlZCkgY291bnQgKz0gMVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBtYWluQWN0b3JLZXkgKCkge1xuICAgIHJldHVybiB0aGlzLnJvbGxzWzBdPy5hY3Rvcj8uYWN0b3JLZXkgfHwgdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgc3VjY2VzcyAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnN1Y2Nlc3NDb3VudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodGhpcy5hbnkpIHtcbiAgICAgIGlmICh0aGlzLnN1Y2Nlc3NDb3VudCA+IDApIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsKSB7XG4gICAgICBpZiAodGhpcy5zdWNjZXNzQ291bnQgPT09IHRoaXMucm9sbHMubGVuZ3RoKSByZXR1cm4gdHJ1ZVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBmYWlsdXJlICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuc3VjY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gIXRoaXMuc3VjY2Vzc1xuICB9XG5cbiAgZ2V0IGNoZWNrR01Jbml0aWF0b3IgKCkge1xuICAgIHJldHVybiBnYW1lLnVzZXJzLmdldCh0aGlzLmluaXRpYXRvcik/LmlzR01cbiAgfVxuXG4gIGFzeW5jIGdldEh0bWxSb2xsICgpIHtcbiAgICBpZiAoIXRoaXMucm9sbGVkKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICBhd2FpdCBjaGVjay5fcGVyZm9ybSh7XG4gICAgICByb2xsOiB0aGlzLl9yb2xsW2NoZWNrLmRpY2VNb2RpZmllciB8fCAwXSxcbiAgICAgIHNpbGVudDogdHJ1ZVxuICAgIH0pXG4gICAgcmV0dXJuIGF3YWl0IGNoZWNrLmdldEh0bWxSb2xsKHsgaGlkZVN1Y2Nlc3M6IHRydWUgfSlcbiAgfVxuXG4gIHByb2Nlc3MgKGRhdGEpIHtcbiAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICBjYXNlICduZXcnOlxuICAgICAgICB0aGlzLmFkZFJvbGxEYXRhKGRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3JvbGwnOlxuICAgICAgICB0aGlzLmFkZFJvbGxEYXRhKGRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3VwZGF0ZVJvbGwnOiB7XG4gICAgICAgIHRoaXMudXBkYXRlUm9sbChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdhc3NpZ25Sb2xsJzoge1xuICAgICAgICB0aGlzLmFzc2lnblJvbGwoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICAgIGVsc2UgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICB9XG5cbiAgYXN5bmMgYXNzaWduUm9sbCAoZGF0YSkge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgaWYgKCF0aGlzLnJvbGxlZCkge1xuICAgICAgICB0aGlzLnJvbGxlZCA9IHRydWVcbiAgICAgICAgdGhpcy5fcm9sbCA9IGRhdGEucm9sbFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25DbGljayAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGFjdGlvbiA9IGEuZGF0YXNldC5hY3Rpb25cbiAgICBjb25zdCBsaSA9IGEuY2xvc2VzdCgnbGkuYWN0b3Itcm9sbCcpXG4gICAgY29uc3QgbWVzc2FnZSA9IGEuY2xvc2VzdCgnLmNoYXQtbWVzc2FnZScpXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBhLmNsb3Nlc3QoJ2Rpdi5yb2xsLWNhcmQnKVxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCBDb21iaW5lZENoZWNrQ2FyZC5mcm9tSFRNTENhcmRFbGVtZW50KGNhcmRFbGVtZW50KVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIGNvbnN0IHJhbmsgPSBOdW1iZXIobGk/LmRhdGFzZXQ/LnJhbmspXG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAncmVtb3ZlLXJvbGwnOiB7XG4gICAgICAgIGNhcmQucmVtb3ZlUm9sbChyYW5rKVxuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnY2xvc2UtY2FyZCc6IHtcbiAgICAgICAgY2FyZC5jbG9zZUNhcmQoKVxuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncm9sbC1jYXJkJzoge1xuICAgICAgICBjb25zdCBwb29sID0ge31cbiAgICAgICAgZm9yIChjb25zdCBkaWNlIG9mIGNhcmQucm9sbHMpIHtcbiAgICAgICAgICBjb25zdCBkaWNlTW9kaWZpZXIgPSBwYXJzZUludChkaWNlLmRpY2VNb2RpZmllciwgMTApXG4gICAgICAgICAgaWYgKCFpc05hTihkaWNlTW9kaWZpZXIpKSB7XG4gICAgICAgICAgICBwb29sW2RpY2VNb2RpZmllcl0gPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCBDb0M3RGljZS5jb21iaW5lZFJvbGwoeyBwb29sIH0pXG4gICAgICAgIHJvbGwuaW5pdGlhdG9yID0gZ2FtZS51c2VyLmlkXG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICB0eXBlOiB0aGlzLmRlZmF1bHRDb25maWcudHlwZSxcbiAgICAgICAgICBhY3Rpb246ICdhc3NpZ25Sb2xsJyxcbiAgICAgICAgICBmcm9tR006IGdhbWUudXNlci5pc0dNLFxuICAgICAgICAgIHJvbGxcbiAgICAgICAgfVxuICAgICAgICBBdWRpb0hlbHBlci5wbGF5KHsgc3JjOiBDT05GSUcuc291bmRzLmRpY2UgfSwgdHJ1ZSlcbiAgICAgICAgY2FyZC5wcm9jZXNzKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICB1cGRhdGU6IGZhbHNlLFxuICAgICAgICAgIGRhdGE6IGEuZGF0YXNldCxcbiAgICAgICAgICBjbGFzc2VzOiBhLmNsYXNzTGlzdCxcbiAgICAgICAgICB0YXJnZXQ6IGFcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBDb0M3Q2hlY2suYWx0ZXIoY2FyZC5yb2xsc1tyYW5rXSwgYWN0aW9uLCBvcHRpb25zKVxuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIHR5cGU6IHRoaXMuZGVmYXVsdENvbmZpZy50eXBlLFxuICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZVJvbGwnLFxuICAgICAgICAgIHJhbmssXG4gICAgICAgICAgZnJvbUdNOiBnYW1lLnVzZXIuaXNHTSxcbiAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICBpbml0aWF0b3I6IGdhbWUudXNlci5pZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdhbWUudXNlci5pc0dNKSBkYXRhLnJvbGwgPSBjYXJkLnJvbGxzW3JhbmtdLkpTT05Sb2xsRGF0YVxuICAgICAgICBjYXJkLnByb2Nlc3MoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBjb21wdXRlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGwpIHJldHVyblxuXG4gICAgdGhpcy5yb2xscyA9IHRoaXMucm9sbHMuZmlsdGVyKHJvbGwgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVvZiByb2xsLmFjdG9yLmRhdGEgIT09ICd1bmRlZmluZWQnIC8vIHJlbW92ZSBhbnkgYWN0b3JzIHRoYXQgbm8gbG9uZ2VyIGV4aXN0XG4gICAgfSlcblxuICAgIGZvciAoY29uc3QgciBvZiB0aGlzLnJvbGxzKSB7XG4gICAgICBpZiAoIXIucm9sbGVkKSB7XG4gICAgICAgIHIubW9kaWZpZXIgPSByLmRpY2VNb2RpZmllciB8fCAwXG4gICAgICAgIHIuZGlmZmljdWx0eSA9IHIuZGlmZmljdWx0eSB8fCBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICAgICAgci5mbGF0RGljZU1vZGlmaWVyID0gci5mbGF0RGljZU1vZGlmaWVyIHx8IDBcbiAgICAgICAgci5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSByLmZsYXRUaHJlc2hvbGRNb2RpZmllciB8fCAwXG4gICAgICAgIGF3YWl0IHIuX3BlcmZvcm0oeyByb2xsOiB0aGlzLl9yb2xsW3IubW9kaWZpZXJdLCBzaWxlbnQ6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJvbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yb2xsc1tpXS5yb2xsZWQpIHtcbiAgICAgICAgdGhpcy5yb2xsc1tpXS5faHRtbFJvbGwgPSBhd2FpdCB0aGlzLnJvbGxzW2ldLmdldEh0bWxSb2xsKHtcbiAgICAgICAgICBoaWRlRGljZVJlc3VsdDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2h0bWxSb2xsID0gYXdhaXQgdGhpcy5nZXRIdG1sUm9sbCgpXG4gIH1cblxuICBjbG9zZUNhcmQgKCkge1xuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ2hhdE1lc3NhZ2UsIGRpZmZPYmplY3QsIGV4cGFuZE9iamVjdCwgRm9ybURhdGFFeHRlbmRlZCwgZ2FtZSwgbWVyZ2VPYmplY3QsIHJlbmRlclRlbXBsYXRlLCB1aSAqL1xuaW1wb3J0IHsgY2hhdEhlbHBlciB9IGZyb20gJy4vaGVscGVyLmpzJ1xuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RpdmVDaGF0Q2FyZCB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgZ2V0IG9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdCh0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRPcHRpb25zLCB0aGlzLl9vcHRpb25zKVxuICB9XG5cbiAgZ2V0IHRlbXBsYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRlbXBsYXRlXG4gIH1cblxuICBnZXQgY3NzQ2xhc3NlcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGFzc2VzXG4gIH1cblxuICBhc3luYyB0b01lc3NhZ2UgKG9wdGlvbm5hbENoYXREYXRhID0ge30pIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcbiAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSAkKGh0bWwpWzBdXG4gICAgaHRtbENhcmRFbGVtZW50LmRhdGFzZXQub2JqZWN0ID0gZXNjYXBlKHRoaXMuZGF0YVN0cmluZylcbiAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5jYXJkQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcbiAgICBodG1sQ2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi50aGlzLmNzc0NsYXNzZXMpXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IG1lcmdlT2JqZWN0KFxuICAgICAge1xuICAgICAgICB1c2VyOiBnYW1lLnVzZXIuaWQsXG4gICAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmxvY2FsaXplKHRoaXMub3B0aW9ucy50aXRsZSksXG4gICAgICAgIGNvbnRlbnQ6IGh0bWxDYXJkRWxlbWVudC5vdXRlckhUTUxcbiAgICAgIH0sXG4gICAgICBvcHRpb25uYWxDaGF0RGF0YVxuICAgIClcblxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyh0aGlzLnJvbGxNb2RlKSkge1xuICAgICAgY2hhdERhdGEud2hpc3BlciA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpXG4gICAgfVxuICAgIGlmICh0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJykgY2hhdERhdGEuYmxpbmQgPSB0cnVlXG5cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpLnRoZW4obXNnID0+IHtcbiAgICAgIHJldHVybiBtc2dcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChvcHRpb25zLmNvbXB1dGUpIHRoaXMuY29tcHV0ZSgpXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VJZCkge1xuICAgICAgdGhpcy50b01lc3NhZ2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcbiAgICAgIGNvbnN0IGh0bWxDYXJkRWxlbWVudCA9ICQucGFyc2VIVE1MKGh0bWwpWzBdXG5cbiAgICAgIC8vIEF0dGFjaCB0aGUgc2FuQ2hlY2tDYXJkIG9iamVjdCB0byB0aGUgbWVzc2FnZS5cbiAgICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZSh0aGlzLmRhdGFTdHJpbmcpXG4gICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5jYXJkQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgIGh0bWxDYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMuY3NzQ2xhc3NlcylcblxuICAgICAgLy8gVXBkYXRlIHRoZSBtZXNzYWdlLlxuICAgICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcbiAgICAgIGlmICh0aGlzLmNsb3NlZCkgYXdhaXQgY2hhdE1lc3NhZ2Uuc2V0RmxhZygnQ29DNycsICdzdGF0ZScsICdyZXNvbHZlZCcpXG5cbiAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IGNoYXRNZXNzYWdlLnVwZGF0ZSh7XG4gICAgICAgIGNvbnRlbnQ6IGh0bWxDYXJkRWxlbWVudC5vdXRlckhUTUxcbiAgICAgIH0pXG4gICAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICAgIHJldHVybiBtc2dcbiAgICB9XG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5pbnRlcmFjdGl2ZS1jYXJkIC5pYy1yYWRpby1zd2l0Y2gnLFxuICAgICAgdGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKCdjbGljaycsICcuaW50ZXJhY3RpdmUtY2FyZCAuaWMtc3dpdGNoJywgdGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdjbGljaycsICcuaW50ZXJhY3RpdmUtY2FyZCAuc3VibWl0JywgdGhpcy5fb25TdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdmb2N1c291dCcsICdpbnB1dCcsIHRoaXMuX29uU3VibWl0LmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCAnLmludGVyYWN0aXZlLWNhcmQgYnV0dG9uJywgdGhpcy5fb25CdXR0b24uYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdrZXlkb3duJywgJ2Zvcm0nLCB0aGlzLl9vbktleS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGJpbmRMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBjb25zdCBodG1sTWVzc2FnZUVsZW1lbnQgPSBodG1sWzBdXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gaHRtbE1lc3NhZ2VFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWNhcmQnKVxuICAgIGlmICghaHRtbENhcmRFbGVtZW50KSByZXR1cm5cbiAgICBpZiAoIWh0bWxDYXJkRWxlbWVudC5kYXRhc2V0LmNhcmRDbGFzcykgcmV0dXJuXG4gICAgaWYgKFxuICAgICAgIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGdhbWUuQ29DNy5jYXJkcykuaW5jbHVkZXMoXG4gICAgICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0LmNhcmRDbGFzc1xuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCBJbnRlcmFjdGl2ZUNoYXRDYXJkLmZyb21IVE1MQ2FyZEVsZW1lbnQoaHRtbENhcmRFbGVtZW50KVxuICAgIGNvbnN0IHR5cGVkQ2FyZCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICBuZXcgZ2FtZS5Db0M3LmNhcmRzW2h0bWxDYXJkRWxlbWVudC5kYXRhc2V0LmNhcmRDbGFzc10oKSxcbiAgICAgIGNhcmRcbiAgICApXG4gICAgdHlwZWRDYXJkLmFzc2lnbk9iamVjdCgpXG4gICAgdHlwZWRDYXJkLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgdG8gcmVhc3NpZ24gb2JqZWN0IHR5cGVcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzc2lnbk9iamVjdCAoKSB7fVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGV2ZW50IHdpbGwgY2hlY2sgZm9yIGFuIGFjdGlvbiAoZGF0YS1hY3Rpb24pXG4gICAqIGlmIGEgbWV0aG9kIHdpdGggdGhhdCBuYW1lIGV4aXN0IGl0IHdpbGwgYmUgdHJpZ2dlcmVkLlxuICAgKi9cbiAgX29uQnV0dG9uIChldmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAvLyBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJyAvL0F2b2lkIG11bHRpcGxlIHB1c2hcbiAgICBjb25zdCBhY3Rpb24gPSBidXR0b24uZGF0YXNldC5hY3Rpb25cbiAgICBpZiAodGhpc1thY3Rpb25dKSB0aGlzW2FjdGlvbl0oeyBldmVudCwgdXBkYXRlOiB0cnVlIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBldmVudFxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBrZXkgaXMgZW50ZXIgdG8gYXZvaWQgZ2xvYmFsIHN1Ym1pc3Npb25cbiAgICovXG4gIF9vbktleSAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgICByZXR1cm4gZXZlbnQua2V5ICE9PSAnRW50ZXInXG4gIH1cblxuICBfb25TdWJtaXQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGNhcmQgPSB0YXJnZXQuY2xvc2VzdCgnLmludGVyYWN0aXZlLWNhcmQnKVxuICAgIGlmICghY2FyZCkgcmV0dXJuXG4gICAgY29uc3QgdXBkYXRlcyA9IHRoaXMuX3VwZGF0ZShjYXJkKVxuICAgIGlmICh1cGRhdGVzKSB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIF91cGRhdGUgKGNhcmQpIHtcbiAgICBjb25zdCBmb3JtcyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnZm9ybScpXG4gICAgbGV0IHVwZGF0ZXMgPSBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZvcm0gPSBmb3Jtc1tpXVxuICAgICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGFFeHRlbmRlZChmb3JtKVxuICAgICAgbGV0IGRhdGEgPSBmZC50b09iamVjdCgpXG4gICAgICBkYXRhID0gZGlmZk9iamVjdCh0aGlzLCBleHBhbmRPYmplY3QoZGF0YSkpXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZVxuICAgICAgICB1cGRhdGVzID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlc1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2UgKCkge1xuICAgIGlmICh0aGlzLl9tZXNzYWdlKSByZXR1cm4gdGhpcy5fbWVzc2FnZVxuICAgIGlmICh0aGlzLl9tZXNzYWdlSWQpIHJldHVybiBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLl9tZXNzYWdlSWQpXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgc2V0IG1lc3NhZ2UgKHgpIHtcbiAgICB0aGlzLl9tZXNzYWdlID0geFxuICB9XG5cbiAgZ2V0IG1lc3NhZ2VJZCAoKSB7XG4gICAgaWYgKHRoaXMuX21lc3NhZ2VJZCkgcmV0dXJuIHRoaXMuX21lc3NhZ2VJZFxuICAgIGlmICh0aGlzLl9tZXNzYWdlKSByZXR1cm4gdGhpcy5fbWVzc2FnZS5pZFxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCBtZXNzYWdlSWQgKHgpIHtcbiAgICB0aGlzLl9tZXNzYWdlSWQgPSB4XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NlczogWydpbnRlcmFjdGl2ZS1jYXJkJ10sXG4gICAgICBleGNsdWRlOiBbJ19hY3RvcicsICdfc2tpbGwnLCAnX2l0ZW0nLCAnX21lc3NhZ2UnLCAnX2h0bWxSb2xsJ10sXG4gICAgICBleGNsdWRlU3RhcnRXaXRoOiAnX18nXG4gICAgfVxuICB9XG5cbiAgZ2V0IGRhdGEgKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZGF0YVN0cmluZylcbiAgfVxuXG4gIGdldCBkYXRhU3RyaW5nICgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcywgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodGhpcy5vcHRpb25zLmV4Y2x1ZGVTdGFydFdpdGgpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIGlmICh4ID09PSBmYWxzZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2VJZCAobWVzc2FnZUlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tTWVzc2FnZShtZXNzYWdlKVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tTWVzc2FnZSAobWVzc2FnZSkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChtZXNzYWdlLmNvbnRlbnQpWzBdXG4gICAgaWYgKCFjYXJkRWxlbWVudCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLmZyb21IVE1MQ2FyZEVsZW1lbnQoY2FyZEVsZW1lbnQpXG4gICAgY2FyZC5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbUhUTUxDYXJkRWxlbWVudCAoY2FyZCkge1xuICAgIGNvbnN0IGNhcmREYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShjYXJkLmRhdGFzZXQub2JqZWN0KSlcbiAgICBpZiAoIWNhcmREYXRhLm1lc3NhZ2VJZCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKVxuICAgICAgY2FyZERhdGEubWVzc2FnZUlkID0gbWVzc2FnZT8uZGF0YXNldD8ubWVzc2FnZUlkXG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmZyb21EYXRhKGNhcmREYXRhKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21EYXRhIChkYXRhKSB7XG4gICAgY29uc3QgY2FyZCA9IE9iamVjdC5hc3NpZ24obmV3IHRoaXMoKSwgZGF0YSlcbiAgICBhd2FpdCBjYXJkLmFzc2lnbk9iamVjdCgpXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIC8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBzZXRGbGFnIChmbGFnTmFtZSkge1xuICAgIGlmICghZmxhZ05hbWUgJiYgISgkLnR5cGUoZmxhZ05hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHRoaXNbZmxhZ05hbWVdID0gdHJ1ZVxuICB9XG5cbiAgdW5zZXRGbGFnIChmbGFnTmFtZSkge1xuICAgIGlmICghZmxhZ05hbWUgJiYgISgkLnR5cGUoZmxhZ05hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHRoaXNbZmxhZ05hbWVdID0gZmFsc2VcbiAgfVxuXG4gIHRvZ2dsZUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgdGhpc1tmbGFnTmFtZV0gPSAhdGhpc1tmbGFnTmFtZV1cbiAgfVxuXG4gIGFzeW5jIF9vblRvZ2dsZSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgaWYgKCdhY3Rpb24nIGluIHRhcmdldC5kYXRhc2V0KSByZXR1cm4gdGhpcy5fb25CdXR0b24oZXZlbnQpXG4gICAgaWYgKFxuICAgICAgdGFyZ2V0ICYmXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdnbS1zZWxlY3Qtb25seScpICYmXG4gICAgICAhZ2FtZS51c2VyLmlzR01cbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBmbGFnID0gdGFyZ2V0LmRhdGFzZXQuZmxhZ1xuICAgIGlmICghZmxhZykgcmV0dXJuXG4gICAgY29uc3QgdG9nZ2xlID0gdGFyZ2V0LmNsb3Nlc3QoJy5pYy1yYWRpbycpXG4gICAgaWYgKCF0b2dnbGUpIHtcbiAgICAgIHRoaXMudG9nZ2xlRmxhZyhmbGFnKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidXR0b25zID0gdG9nZ2xlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pYy1yYWRpby1zd2l0Y2gnKVxuICAgICAgZm9yIChjb25zdCBiIG9mIGJ1dHRvbnMpIHtcbiAgICAgICAgdGhpcy51bnNldEZsYWcoYi5kYXRhc2V0LmZsYWcpXG4gICAgICB9XG4gICAgICB0aGlzLnNldEZsYWcoZmxhZylcbiAgICB9XG4gICAgY29uc3QgY2FyZCA9IHRhcmdldC5jbG9zZXN0KCcuaW50ZXJhY3RpdmUtY2FyZCcpXG4gICAgaWYgKGNhcmQpIHRoaXMuX3VwZGF0ZShjYXJkKVxuICAgIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgLy8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBnZXQgZGlzcGxheUFjdG9yT25DYXJkICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJylcbiAgfVxuXG4gIGdldCBpc0JsaW5kICgpIHtcbiAgICBpZiAoIXRoaXMucm9sbE1vZGUpIHJldHVybiBudWxsXG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5faXNCbGluZCkge1xuICAgICAgdGhpcy5faXNCbGluZCA9IHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc0JsaW5kXG4gIH1cblxuICBzZXQgaXNCbGluZCAoeCkge1xuICAgIHRoaXMuX2lzQmxpbmQgPSB4XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIGlmICghdGhpcy5hY3RvcktleSkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gIH1cblxuICBnZXQgdG9rZW4gKCkge1xuICAgIGlmICghdGhpcy5hY3RvcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgfVxuXG4gIGdldCBpdGVtICgpIHtcbiAgICBpZiAoIXRoaXMuaXRlbUlkKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB0aGlzLmFjdG9yLml0ZW1zLmdldCh0aGlzLml0ZW1JZClcbiAgfVxuXG4gIGdldCB3ZWFwb24gKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1cbiAgfVxuXG4gIGdldCB0YXJnZXRlZFRva2VucyAoKSB7XG4gICAgcmV0dXJuIFsuLi5nYW1lLnVzZXIudGFyZ2V0c11cbiAgfVxuXG4gIGdldCB0YXJnZXQgKCkge1xuICAgIGlmICh0aGlzLnRhcmdldFRva2VuKSByZXR1cm4gdGhpcy50YXJnZXRUb2tlblxuICAgIHJldHVybiB0aGlzLnRhcmdldEFjdG9yXG4gIH1cblxuICBnZXQgaXNUYXJnZXRPd25lciAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0LmlzT3duZXJcbiAgfVxuXG4gIGdldCBpc0tlZXBlciAoKSB7XG4gICAgcmV0dXJuIGdhbWUudXNlci5pc0dNXG4gIH1cblxuICAvKipcbiAgICogSWYgYSB0YXJnZXRLZXkgd2FzIHByb3ZpZGVkIHRyeSB0byBmaW5kIGEgdG9rZW4gd2l0aCB0aGF0IGtleSBhbmQgdXNlIGl0LlxuICAgKiBJZiBub3QgdGFyZ2V0S2V5IHByb3ZpZGVkIHJldHVybiB0aGUgZmlyc3QgdGFyZ2V0LlxuICAgKi9cbiAgZ2V0IHRhcmdldFRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuX3RhcmdldFRva2VuKSB7XG4gICAgICBpZiAodGhpcy5fdGFyZ2V0S2V5KSB7XG4gICAgICAgIHRoaXMuX3RhcmdldFRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5fdGFyZ2V0S2V5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0VG9rZW4gPSB0aGlzLnRhcmdldGVkVG9rZW5zLnBvcCgpXG4gICAgICAgIGlmICh0aGlzLl90YXJnZXRUb2tlbikge1xuICAgICAgICAgIHRoaXMuX3RhcmdldEtleSA9IGAke3RoaXMuX3RhcmdldFRva2VuLnNjZW5lLmlkfS4ke3RoaXMuX3RhcmdldFRva2VuLmlkfWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgICAgICB0aGlzLl90YXJnZXRUb2tlbiA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0VG9rZW5cbiAgfVxuXG4gIGdldCB0YXJnZXRBY3RvciAoKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXRBY3Rvcikge1xuICAgICAgaWYgKHRoaXMudGFyZ2V0VG9rZW4pIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0QWN0b3IgPVxuICAgICAgICAgIHRoaXMudGFyZ2V0VG9rZW4uYWN0b3IgfHxcbiAgICAgICAgICB0aGlzLnRhcmdldFRva2VuLmRhdGEuYWN0b3IgfHxcbiAgICAgICAgICB0aGlzLnRhcmdldFRva2VuLmRhdGEuZG9jdW1lbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3RhcmdldEFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5fdGFyZ2V0S2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldEFjdG9yXG4gIH1cblxuICBnZXQgdGFyZ2V0S2V5ICgpIHtcbiAgICBpZiAoIXRoaXMudGFyZ2V0VG9rZW4gJiYgIXRoaXMudGFyZ2V0QWN0b3IpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldEtleVxuICB9XG5cbiAgZ2V0IGhhc1RhcmdldCAoKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldFRva2VuICYmICF0aGlzLnRhcmdldEFjdG9yKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2V0IHRhcmdldEtleSAoeCkge1xuICAgIHRoaXMuX3RhcmdldEtleSA9IHhcbiAgfVxuXG4gIGdldCBza2lsbHMgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLmdldFdlYXBvblNraWxscyh0aGlzLml0ZW1JZClcbiAgfVxuXG4gIGdldCB0YXJnZXRJbWcgKCkge1xuICAgIGNvbnN0IGltZyA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JJbWdGcm9tS2V5KHRoaXMudGFyZ2V0S2V5KVxuICAgIGlmIChpbWcpIHJldHVybiBpbWdcbiAgICByZXR1cm4gJy4uL2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi1ibGFjay5zdmcnXG4gIH1cblxuICBnZXQgbmFtZSAoKSB7XG4gICAgaWYgKHRoaXMudG9rZW4pIHJldHVybiB0aGlzLnRva2VuLm5hbWVcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5uYW1lXG4gIH1cblxuICBnZXQgdGFyZ2V0TmFtZSAoKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldCkgcmV0dXJuICdkdW1teSdcbiAgICByZXR1cm4gdGhpcy50YXJnZXQubmFtZVxuICB9XG5cbiAgZ2V0IGFjdG9ySW1nICgpIHtcbiAgICBjb25zdCBpbWcgPSBjaGF0SGVscGVyLmdldEFjdG9ySW1nRnJvbUtleSh0aGlzLmFjdG9yS2V5KVxuICAgIGlmIChpbWcpIHJldHVybiBpbWdcbiAgICByZXR1cm4gJy4uL2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi1ibGFjay5zdmcnXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBjYW52YXMsIENoYXRNZXNzYWdlLCBEaWFsb2csIGdhbWUsIG1lcmdlT2JqZWN0LCBSb2xsLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuLi8uLi9kaWNlLmpzJ1xuaW1wb3J0IHsgSW50ZXJhY3RpdmVDaGF0Q2FyZCB9IGZyb20gJy4uL2ludGVyYWN0aXZlLWNoYXQtY2FyZC5qcydcbmltcG9ydCB7IGNyZWF0ZUlubGluZVJvbGwgfSBmcm9tICcuLi9oZWxwZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBEYW1hZ2VDYXJkIGV4dGVuZHMgSW50ZXJhY3RpdmVDaGF0Q2FyZCB7XG4gIC8qKlxuICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgNWUgQWN0b3IgU2hlZXRcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgZXhjbHVkZTogW1xuICAgICAgICAnX3RhcmdldFRva2VuJyxcbiAgICAgICAgJ190YXJnZXRBY3RvcicsXG4gICAgICAgICdfaHRtbFJvbGwnLFxuICAgICAgICAnX2h0bWxJbmxpbmVSb2xsJ1xuICAgICAgXS5jb25jYXQoc3VwZXIuZGVmYXVsdE9wdGlvbnMuZXhjbHVkZSksXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jYXJkcy9kYW1hZ2UuaHRtbCdcbiAgICB9KVxuICB9XG5cbiAgLy8gYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgLy8gICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAvLyB9XG5cbiAgYXN5bmMgYXNzaWduT2JqZWN0ICgpIHtcbiAgICBpZiAodGhpcy5kYW1hZ2VSb2xsICYmIHRoaXMuZGFtYWdlUm9sbC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgdGhpcy5kYW1hZ2VSb2xsID0gUm9sbC5mcm9tRGF0YSh0aGlzLmRhbWFnZVJvbGwpXG4gICAgfVxuICB9XG5cbiAgX29uQnV0dG9uIChldmVudCkge1xuICAgIHN1cGVyLl9vbkJ1dHRvbihldmVudClcbiAgfVxuXG4gIGdldCBjcml0aWNhbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jcml0aWNhbFxuICB9XG5cbiAgc2V0IGNyaXRpY2FsICh4KSB7XG4gICAgdGhpcy5fb3B0aW9ucy5jcml0aWNhbCA9IHhcbiAgfVxuXG4gIGdldCBpbXBhbGUgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5faW1wYWxlID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHRoaXMud2VhcG9uLmltcGFsZVxuICAgIHJldHVybiB0aGlzLl9pbXBhbGVcbiAgfVxuXG4gIHNldCBpbXBhbGUgKHgpIHtcbiAgICB0aGlzLl9pbXBhbGUgPSB4XG4gIH1cblxuICBnZXQgaXNEYW1hZ2VGb3JtdWxhICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZGFtYWdlRm9ybXVsYSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZVxuICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuZGFtYWdlRm9ybXVsYSkpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gUm9sbC52YWxpZGF0ZSh0aGlzLmRhbWFnZUZvcm11bGEpXG4gIH1cblxuICBnZXQgaXNEYW1hZ2VOdW1iZXIgKCkge1xuICAgIHJldHVybiAhaXNOYU4oTnVtYmVyKHRoaXMuZGFtYWdlRm9ybXVsYSkpXG4gIH1cblxuICBnZXQgaXNBcm1vckZvcnVsYSAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmFybW9yICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlXG4gICAgaWYgKCFpc05hTihOdW1iZXIodGhpcy5hcm1vcikpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gUm9sbC52YWxpZGF0ZSh0aGlzLmFybW9yKVxuICB9XG5cbiAgZ2V0IHRvdGFsRGFtYWdlU3RyaW5nICgpIHtcbiAgICBsZXQgZGFtYWdlID0gTnVtYmVyKFxuICAgICAgdGhpcy5pc0RhbWFnZU51bWJlciA/IHRoaXMuZGFtYWdlRm9ybXVsYSA6IHRoaXMucm9sbC50b3RhbFxuICAgIClcbiAgICBpZiAoIXRoaXMuaWdub3JlQXJtb3IpIHtcbiAgICAgIGlmIChpc05hTihOdW1iZXIodGhpcy5hcm1vcikpIHx8IE51bWJlcih0aGlzLmFybW9yKSA+IDApIHtcbiAgICAgICAgZGFtYWdlID0gZGFtYWdlIC0gTnVtYmVyKHRoaXMuYXJtb3IpXG4gICAgICB9XG4gICAgICBpZiAoIWlzTmFOKE51bWJlcih0aGlzLmFybW9yKSkpIHtcbiAgICAgICAgaWYgKGRhbWFnZSA8PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Bcm1vckFic29yYnNEYW1hZ2UnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYW1hZ2VcbiAgfVxuXG4gIGdldCBub0RhbWFnZSAoKSB7XG4gICAgaWYgKHRoaXMucm9sbGVkKSB7XG4gICAgICBjb25zdCBkYW1hZ2UgPSB0aGlzLmlzRGFtYWdlTnVtYmVyID8gdGhpcy5kYW1hZ2VGb3JtdWxhIDogdGhpcy5yb2xsLnRvdGFsXG4gICAgICBpZiAoIXRoaXMuaWdub3JlQXJtb3IpIHtcbiAgICAgICAgaWYgKCFpc05hTihOdW1iZXIodGhpcy5hcm1vcikpKSB7XG4gICAgICAgICAgcmV0dXJuICEhKGRhbWFnZSAtIE51bWJlcih0aGlzLmFybW9yKSA8PSAwKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICEhKGRhbWFnZSA8PSAwKVxuICAgICAgfVxuICAgIH0gZWxzZSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZhc3RGb3J3YXJkICYmICF0aGlzLnJvbGwgJiYgIXRoaXMuaXNEYW1hZ2VOdW1iZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMucm9sbERhbWFnZSh7IHVwZGF0ZTogZmFsc2UgfSlcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0RhbWFnZU51bWJlciB8fFxuICAgICAgKHRoaXMucm9sbCAmJiB0aGlzLnJvbGwudG90YWwgIT0gbnVsbCkgfHxcbiAgICAgIHRoaXMuaGFyZHJvbGxlZFxuICAgICkge1xuICAgICAgdGhpcy5yb2xsZWQgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9sbGVkID0gZmFsc2VcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYXN0Rm9yd2FyZCAmJiAhdGhpcy5kYW1hZ2VJbmZsaWN0ZWQgJiYgIXRoaXMubm9EYW1hZ2UpIHtcbiAgICAgIGF3YWl0IHRoaXMuZGVhbERhbWFnZSh7IHVwZGF0ZTogZmFsc2UgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yb2xsZWQgJiYgdGhpcy5yb2xsKSB7XG4gICAgICBpZiAodGhpcy5yb2xsLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgICAgIHRoaXMucm9sbCA9IFJvbGwuZnJvbURhdGEodGhpcy5yb2xsKVxuICAgICAgfVxuICAgICAgY29uc3QgYSA9IGNyZWF0ZUlubGluZVJvbGwodGhpcy5yb2xsKVxuICAgICAgdGhpcy5faHRtbElubGluZVJvbGwgPSBhLm91dGVySFRNTFxuICAgICAgdGhpcy5faHRtbFJvbGwgPSBhd2FpdCB0aGlzLnJvbGwucmVuZGVyKClcbiAgICB9XG4gICAgYXdhaXQgc3VwZXIudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgYXN5bmMgcm9sbERhbWFnZSAob3B0aW9ucyA9IHsgdXBkYXRlOiB0cnVlIH0pIHtcbiAgICB0aGlzLnJvbGwgPSBhd2FpdCBuZXcgUm9sbCh0aGlzLmRhbWFnZUZvcm11bGEgfHwgJzAnKS5ldmFsdWF0ZSh7XG4gICAgICBhc3luYzogdHJ1ZVxuICAgIH0pXG4gICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2QodGhpcy5yb2xsKVxuICAgIHRoaXMuaGFyZHJvbGxlZCA9IHRydWVcbiAgICBvcHRpb25zLnVwZGF0ZSA9XG4gICAgICB0eXBlb2Ygb3B0aW9ucy51cGRhdGUgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMudXBkYXRlXG4gICAgaWYgKG9wdGlvbnMudXBkYXRlKSB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIGFzeW5jIHJvbGxBcm1vciAob3B0aW9ucyA9IHsgdXBkYXRlOiB0cnVlIH0pIHtcbiAgICBjb25zdCByb2xsID0gYXdhaXQgbmV3IFJvbGwodGhpcy5hcm1vcikuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgIHRoaXMuYXJtb3IgPSByb2xsLnRvdGFsXG4gICAgb3B0aW9ucy51cGRhdGUgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMudXBkYXRlID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLnVwZGF0ZVxuICAgIGlmIChvcHRpb25zLnVwZGF0ZSkgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBhc3luYyBkZWFsRGFtYWdlVG9TZWxlY3RlZFRhcmdldCAob3B0aW9ucyA9IHsgdXBkYXRlOiB0cnVlIH0pIHtcbiAgICBpZiAodGhpcy5pc0FybW9yRm9ydWxhKSBhd2FpdCB0aGlzLnJvbGxBcm1vcigpXG4gICAgaWYgKGlzTmFOKE51bWJlcih0aGlzLnRvdGFsRGFtYWdlU3RyaW5nKSkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yRXZhbHVhdGluZ0RhbWFnZScpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHRhcmdldHMgPSBbXVxuICAgIGNvbnN0IHRhcmdldE5hbWUgPSBbXVxuICAgIGNvbnN0IHNlbGVjdGVkUGxheWVycyA9IGNhbnZhcy50b2tlbnMuY29udHJvbGxlZC5tYXAodG9rZW4gPT4ge1xuICAgICAgcmV0dXJuIHRva2VuLmFjdG9yXG4gICAgfSlcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgc2VsZWN0ZWRQbGF5ZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKHRoaXMuYWN0b3IuaWQgPT09IHNlbGVjdGVkUGxheWVyc1tpbmRleF0uaWQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIHRhcmdldE5hbWUucHVzaChzZWxlY3RlZFBsYXllcnNbaW5kZXhdLm5hbWUpXG4gICAgICB0YXJnZXRzLnB1c2goc2VsZWN0ZWRQbGF5ZXJzW2luZGV4XSlcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHRpdGxlOiAnICcsXG4gICAgICBjb250ZW50OiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRlYWxEYW1hZ2UnLCB7XG4gICAgICAgIGRhbWFnZTogdGhpcy50b3RhbERhbWFnZVN0cmluZyxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXROYW1lXG4gICAgICB9KSxcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgb25lOiB7XG4gICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicsXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Qcm9jZWVkJyksXG4gICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybURhbWFnZSh0YXJnZXRzKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdHdvOiB7XG4gICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPicsXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DYW5jZWwnKSxcbiAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge31cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlZmF1bHQ6ICd0d28nXG4gICAgfVxuICAgIGlmICh0YXJnZXROYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgIG5ldyBEaWFsb2coZGF0YSkucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29uZmlybURhbWFnZSAodGFyZ2V0cykge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0YXJnZXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgYXdhaXQgdGFyZ2V0c1tpbmRleF0uZGVhbERhbWFnZShOdW1iZXIodGhpcy50b3RhbERhbWFnZVN0cmluZyksIHtcbiAgICAgICAgaWdub3JlQXJtb3I6IGZhbHNlXG4gICAgICB9KVxuICAgICAgQ2hhdE1lc3NhZ2UuY3JlYXRlKHtcbiAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EYW1hZ2VEZWFsVG8nLCB7XG4gICAgICAgICAgbmFtZTogdGFyZ2V0c1tpbmRleF0ubmFtZSxcbiAgICAgICAgICBkYW1hZ2U6IHRoaXMudG90YWxEYW1hZ2VTdHJpbmdcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVhbERhbWFnZSAob3B0aW9ucyA9IHsgdXBkYXRlOiB0cnVlIH0pIHtcbiAgICBpZiAodGhpcy5pc0FybW9yRm9ydWxhKSBhd2FpdCB0aGlzLnJvbGxBcm1vcigpXG4gICAgbGV0IGRhbWFnZSA9IHRoaXMudG90YWxEYW1hZ2VTdHJpbmdcbiAgICBpZiAoaXNOYU4oTnVtYmVyKGRhbWFnZSkpKSB7XG4gICAgICBpZiAoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFybW9yQWJzb3Jic0RhbWFnZScpID09PSBkYW1hZ2UpIHtcbiAgICAgICAgZGFtYWdlID0gMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignRXJyb3IgZXZhbHVhdGluZyBkYW1hZ2UnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudGFyZ2V0QWN0b3IpIHtcbiAgICAgIGF3YWl0IHRoaXMudGFyZ2V0QWN0b3IuZGVhbERhbWFnZShOdW1iZXIoZGFtYWdlKSwge1xuICAgICAgICBpZ25vcmVBcm1vcjogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5kYW1hZ2VJbmZsaWN0ZWQgPSB0cnVlXG4gICAgb3B0aW9ucy51cGRhdGUgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMudXBkYXRlID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLnVwZGF0ZVxuICAgIGlmIChvcHRpb25zLnVwZGF0ZSkgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBnZXQgcmFuZ2UgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmFuZ2UgfHwgJ25vcm1hbCdcbiAgfVxuXG4gIHNldCByYW5nZSAoeCkge1xuICAgIGNvbnN0IHJhbmdlcyA9IFsnbm9ybWFsJywgJ2xvbmcnLCAnZXh0cmVtZSddXG4gICAgaWYgKCFyYW5nZXMuaW5jbHVlcyh4LnRvTG93ZXJDYXNlKCkpKSByZXR1cm5cbiAgICB0aGlzLl9vcHRpb25zLnJhbmdlID0geFxuICB9XG5cbiAgZ2V0IGRhbWFnZUZvcm11bGEgKCkge1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZVxuICAgIGxldCBmb3JtdWxhID0gdGhpcy53ZWFwb24/LnN5c3RlbT8ucmFuZ2VbcmFuZ2VdPy5kYW1hZ2VcbiAgICBsZXQgZGIgPSB0aGlzLmFjdG9yLmRiXG4gICAgZGIgPSAoKGRiID8/ICcnKS50b1N0cmluZygpLnRyaW0oKSA9PT0gJycgPyAwIDogZGIpLnRvU3RyaW5nKCkudHJpbSgpXG5cbiAgICBpZiAoIWRiLnN0YXJ0c1dpdGgoJy0nKSkgZGIgPSAnKycgKyBkYlxuICAgIGlmICh0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5hZGRiKSBmb3JtdWxhID0gZm9ybXVsYSArIGRiXG4gICAgaWYgKHRoaXMud2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzLmFoZGIpIGZvcm11bGEgPSBmb3JtdWxhICsgJysgZmxvb3IoJyArIGRiICsgJy8yKSdcblxuICAgIGlmIChmb3JtdWxhKSB7XG4gICAgICBjb25zdCBtYXhEYW1hZ2UgPSBuZXcgUm9sbChmb3JtdWxhKS5ldmFsdWF0ZSh7IG1heGltaXplOiB0cnVlIH0pLnRvdGFsXG4gICAgICBsZXQgcm9sbFN0cmluZ1xuICAgICAgaWYgKHRoaXMuY3JpdGljYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1wYWxlKSB7XG4gICAgICAgICAgcm9sbFN0cmluZyA9IGZvcm11bGEgKyAnKycgKyBtYXhEYW1hZ2VcbiAgICAgICAgICByZXR1cm4gcm9sbFN0cmluZ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtYXhEYW1hZ2VcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcm11bGFcbiAgICAgIH1cbiAgICB9IGVsc2UgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IGFybW9yICgpIHtcbiAgICBpZiAodW5kZWZpbmVkICE9PSB0aGlzLl9hcm1vciAmJiB0aGlzLl9hcm1vciAhPT0gJycpIHJldHVybiB0aGlzLl9hcm1vclxuICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0QWN0b3Iuc3lzdGVtLmF0dHJpYnMuYXJtb3IudmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIHNldCBhcm1vciAoeCkge1xuICAgIHRoaXMuX2FybW9yID0geFxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ2hhdE1lc3NhZ2UsIGdhbWUsIG1lcmdlT2JqZWN0ICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IERhbWFnZUNhcmQgfSBmcm9tICcuL2RhbWFnZS5qcydcbmltcG9ydCB7IFJvbGxDYXJkIH0gZnJvbSAnLi9yb2xsLWNhcmQuanMnXG5cbmV4cG9ydCBjbGFzcyBPcHBvc2VkQ2hlY2tDYXJkIGV4dGVuZHMgUm9sbENhcmQge1xuICBzdGF0aWMgYXN5bmMgYmluZExpc3Rlcm5lcnMgKGh0bWwpIHtcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucm9sbC1jYXJkLm9wcG9zZWQgLnRvZ2dsZS1zd2l0Y2gnLFxuICAgICAgdGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKVxuICAgIClcbiAgICAvLyBzdXBlci5iaW5kTGlzdGVybmVycyggaHRtbCk7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJvbGwtY2FyZC5vcHBvc2VkIGEnLFxuICAgICAgT3Bwb3NlZENoZWNrQ2FyZC5fb25DbGljay5iaW5kKHRoaXMpXG4gICAgKVxuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5yb2xsLWNhcmQub3Bwb3NlZCBidXR0b24nLFxuICAgICAgT3Bwb3NlZENoZWNrQ2FyZC5fb25DbGljay5iaW5kKHRoaXMpXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0Q29uZmlnICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdENvbmZpZywge1xuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY2FyZHMvb3Bwb3NlZC1yb2xsLmh0bWwnLFxuICAgICAgdHlwZTogJ29wcG9zZWRDYXJkJ1xuICAgIH0pXG4gIH1cblxuICBnZXQgY29uZmlnICgpIHtcbiAgICByZXR1cm4gT3Bwb3NlZENoZWNrQ2FyZC5kZWZhdWx0Q29uZmlnXG4gIH1cblxuICBnZXQgYXR0YWNrZXJSb2xsICgpIHtcbiAgICBpZiAodGhpcy5jb21iYXQpIHtcbiAgICAgIGlmICh0aGlzLnJvbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYXR0YWNrZXIgPSB0aGlzLnJvbGxzLmZpbHRlcihyID0+IHIuaW5kZXggPT09IDAgfHwgci5hdHRhY2tlcilcbiAgICAgICAgaWYgKGF0dGFja2VyLmxlbmd0aCkgcmV0dXJuIGF0dGFja2VyWzBdXG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBkZWZlbmRlclJvbGwgKCkge1xuICAgIGlmICh0aGlzLmNvbWJhdCkge1xuICAgICAgaWYgKHRoaXMucm9sbHM/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkZWZlbmRlciA9IHRoaXMucm9sbHMuZmlsdGVyKHIgPT4gci5pbmRleCAhPT0gMCB8fCAhci5hdHRhY2tlcilcbiAgICAgICAgaWYgKGRlZmVuZGVyLmxlbmd0aCkgcmV0dXJuIGRlZmVuZGVyWzBdXG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBkZWZlbmRlcklzRG9kZ2luZyAoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5kZWZlbmRlclJvbGw/LmFjdG9yPy5kb2RnZVNraWxsPy5uYW1lICYmXG4gICAgICB0aGlzLmRlZmVuZGVyUm9sbD8uc2tpbGw/Lm5hbWVcbiAgICApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuZGVmZW5kZXJSb2xsLmFjdG9yLmRvZGdlU2tpbGwubmFtZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICB0aGlzLmRlZmVuZGVyUm9sbC5za2lsbC5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgYWR2YW50YWdlQXR0YWNrZXIgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fYWEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGhpcy5kZWZlbmRlclJvbGwpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRlZmVuZGVySXNEb2RnaW5nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FhXG4gIH1cblxuICBnZXQgd2lubmVyUm9sbHNEYW1hZ2UgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY29tYmF0ICYmXG4gICAgICB0aGlzLnJvbGxzLmxlbmd0aCA+PSAyICYmXG4gICAgICB0aGlzLmhhc1dpbm5lciAmJlxuICAgICAgdGhpcy53aW5uZXI/Lml0ZW0/LnR5cGUgPT09ICd3ZWFwb24nXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHNldCBhZHZhbnRhZ2VBdHRhY2tlciAoeCkge1xuICAgIHRoaXMuX2FhID0gdHJ1ZVxuICAgIHRoaXMuX2FkID0gZmFsc2VcbiAgfVxuXG4gIGdldCBhZHZhbnRhZ2VEZWZlbmRlciAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9hZCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLmRlZmVuZGVySXNEb2RnaW5nXG4gICAgcmV0dXJuIHRoaXMuX2FkXG4gIH1cblxuICBzZXQgYWR2YW50YWdlRGVmZW5kZXIgKHgpIHtcbiAgICB0aGlzLl9hZCA9IHRydWVcbiAgICB0aGlzLl9hYSA9IGZhbHNlXG4gIH1cblxuICBnZXQgaXNUaWUgKCkge1xuICAgIHJldHVybiB0aGlzLndpbm5lckNvdW50ID4gMVxuICB9XG5cbiAgZ2V0IG5lZWRzVGllQnJlYWtlciAoKSB7XG4gICAgaWYgKCF0aGlzLmNvbWJhdCkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKFxuICAgICAgdGhpcy5hdHRhY2tlclJvbGwgJiZcbiAgICAgIHRoaXMuZGVmZW5kZXJSb2xsICYmXG4gICAgICB0aGlzLmF0dGFja2VyUm9sbC5zdWNjZXNzTGV2ZWwgPT09IHRoaXMuZGVmZW5kZXJSb2xsLnN1Y2Nlc3NMZXZlbFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgd2lubmVyQ291bnQgKCkge1xuICAgIGxldCBjb3VudCA9IDBcbiAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5yb2xscykge1xuICAgICAgaWYgKHIud2lubmVyKSBjb3VudCArPSAxXG4gICAgfVxuICAgIHJldHVybiBjb3VudFxuICB9XG5cbiAgZ2V0IGlzQXR0YWNrTWFuZXV2ZXIgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY29tYmF0ICYmXG4gICAgICB0aGlzLmF0dGFja2VyUm9sbCAmJlxuICAgICAgKCF0aGlzLmF0dGFja2VyUm9sbD8uaXRlbSB8fFxuICAgICAgICB0aGlzLmF0dGFja2VyUm9sbD8uaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ubW52cilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IHJlc3VsdFRleHQgKCkge1xuICAgIGlmICh0aGlzLmNvbWJhdCAmJiB0aGlzLmF0dGFja2VyUm9sbCAmJiB0aGlzLmRlZmVuZGVyUm9sbCkge1xuICAgICAgaWYgKCF0aGlzLmF0dGFja2VyUm9sbC53aW5uZXIgJiYgIXRoaXMuZGVmZW5kZXJSb2xsLndpbm5lcikge1xuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vV2lubmVyJylcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmF0dGFja2VyUm9sbC53aW5uZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNrZXJSb2xsLm1hbmV1dmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWFuZXV2ZXJTdWNjZXNzJywge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5hdHRhY2tlclJvbGwuYWN0b3IubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQXR0YWNrU3VjY2VzcycsIHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmF0dGFja2VyUm9sbC5hY3Rvci5uYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kZWZlbmRlclJvbGwud2lubmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmRlZmVuZGVyUm9sbC5tYW5ldXZlcikge1xuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1hbmV1dmVyU3VjY2VzcycsIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZGVmZW5kZXJSb2xsLmFjdG9yLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlZmVuZGVySXNEb2RnaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRG9kZ2VTdWNjZXNzJywge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kZWZlbmRlclJvbGwuYWN0b3IubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQXR0YWNrU3VjY2VzcycsIHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmRlZmVuZGVyUm9sbC5hY3Rvci5uYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3MgKGRhdGEpIHtcbiAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICBjYXNlICduZXcnOlxuICAgICAgICBpZiAoIXRoaXMucm9sbHM/Lmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY29tYmF0ID0gZGF0YS5jb21iYXQgfHwgdW5kZWZpbmVkXG4gICAgICAgICAgaWYgKHRoaXMuY29tYmF0KSB7XG4gICAgICAgICAgICBkYXRhLnJvbGwuYXR0YWNrZXIgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRhdGEucm9sbC5pbmRleCA9IHRoaXMucm9sbHMubGVuZ3RoXG4gICAgICAgIHRoaXMuYWRkUm9sbERhdGEoZGF0YSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncm9sbCc6XG4gICAgICAgIHRoaXMuYWRkUm9sbERhdGEoZGF0YSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAndXBkYXRlUm9sbCc6XG4gICAgICAgIHRoaXMudXBkYXRlUm9sbChkYXRhKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gICAgZWxzZSBnYW1lLnNvY2tldC5lbWl0KCdzeXN0ZW0uQ29DNycsIGRhdGEpXG4gIH1cblxuICBhc3luYyByb2xsIChyYW5rKSB7XG4gICAgYXdhaXQgdGhpcy5yb2xsc1tyYW5rXS5fcGVyZm9ybSgpXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHR5cGU6IHRoaXMuY29uZmlnLnR5cGUsXG4gICAgICBhY3Rpb246ICd1cGRhdGVSb2xsJyxcbiAgICAgIHJhbmssXG4gICAgICBmcm9tR006IGdhbWUudXNlci5pc0dNXG4gICAgfVxuICAgIGlmICghZ2FtZS51c2VyLmlzR00pIGRhdGEucm9sbCA9IHRoaXMucm9sbHNbcmFua10uSlNPTlJvbGxEYXRhXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25DbGljayAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGFjdGlvbiA9IGEuZGF0YXNldC5hY3Rpb25cbiAgICBjb25zdCBsaSA9IGEuY2xvc2VzdCgnbGkuYWN0b3Itcm9sbCcpXG4gICAgY29uc3QgbWVzc2FnZSA9IGEuY2xvc2VzdCgnLmNoYXQtbWVzc2FnZScpXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBhLmNsb3Nlc3QoJ2Rpdi5yb2xsLWNhcmQnKVxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCBPcHBvc2VkQ2hlY2tDYXJkLmZyb21IVE1MQ2FyZEVsZW1lbnQoY2FyZEVsZW1lbnQpXG4gICAgY2FyZC5tZXNzYWdlSWQgPSBtZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgY29uc3QgcmFuayA9IE51bWJlcihsaT8uZGF0YXNldD8ucmFuaylcblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICd0b2dnbGUtY29tYmF0Jzoge1xuICAgICAgICBjYXJkLmNvbWJhdCA9ICFjYXJkLmNvbWJhdFxuICAgICAgICAvLyBpZiggIWNhcmQuYWR2YW50YWdlQXR0YWNrZXIgJiYgIWNhcmQuYWR2YW50YWdlRGVmZW5kZXIpIGNhcmQuYWR2YW50YWdlQXR0YWNrZXIgPSB0cnVlO1xuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncmVtb3ZlLXJvbGwnOiB7XG4gICAgICAgIGNhcmQucmVtb3ZlUm9sbChyYW5rKVxuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnY2xvc2UtY2FyZCc6IHtcbiAgICAgICAgY2FyZC5jbG9zZUNhcmQoKVxuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncm9sbC1jaGVjayc6IHtcbiAgICAgICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgICAgICBpZiAoIWNhcmQucm9sbHNbcmFua10uYWN0b3JLZXkpIHtcbiAgICAgICAgICBjYXJkLnJvbGxzW3JhbmtdLmFjdG9yS2V5ID0gYCR7c3BlYWtlci5zY2VuZX0uJHtzcGVha2VyLnRva2VufWBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjYXJkLnJvbGwocmFuaylcbiAgICAgICAgYXdhaXQgY2FyZC5wcm9jZXNzKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtZGFtYWdlJzoge1xuICAgICAgICBjYXJkLmNsb3NlQ2FyZCgpXG4gICAgICAgIGF3YWl0IGNhcmQudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBjb25zdCBkYW1hZ2VDaGF0Q2FyZCA9IG5ldyBEYW1hZ2VDYXJkKHtcbiAgICAgICAgICBjcml0aWNhbDogY2FyZC53aW5uZXIuaXNFeHRyZW1lU3VjY2VzcyxcbiAgICAgICAgICBmYXN0Rm9yd2FyZDogZXZlbnQuc2hpZnRLZXlcbiAgICAgICAgfSlcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQuYWN0b3JLZXkgPSBjYXJkLndpbm5lci5hY3Rvci5hY3RvcktleVxuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC50YXJnZXRLZXkgPSBjYXJkLmxvb3Nlci5hY3Rvci5hY3RvcktleVxuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC5pdGVtSWQgPSBjYXJkLndpbm5lci5pdGVtSWRcbiAgICAgICAgLy8gaWYoIG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQpIGRhbWFnZUNoYXRDYXJkLm1lc3NhZ2VJZCA9IG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQ7XG4gICAgICAgIGRhbWFnZUNoYXRDYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgIHVwZGF0ZTogZmFsc2UsXG4gICAgICAgICAgZGF0YTogYS5kYXRhc2V0LFxuICAgICAgICAgIGNsYXNzZXM6IGEuY2xhc3NMaXN0LFxuICAgICAgICAgIHRhcmdldDogYVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IENvQzdDaGVjay5hbHRlcihjYXJkLnJvbGxzW3JhbmtdLCBhY3Rpb24sIG9wdGlvbnMpXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgdHlwZTogdGhpcy5kZWZhdWx0Q29uZmlnLnR5cGUsXG4gICAgICAgICAgYWN0aW9uOiAndXBkYXRlUm9sbCcsXG4gICAgICAgICAgcmFuayxcbiAgICAgICAgICBmcm9tR006IGdhbWUudXNlci5pc0dNXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSkgZGF0YS5yb2xsID0gY2FyZC5yb2xsc1tyYW5rXS5KU09OUm9sbERhdGFcbiAgICAgICAgY2FyZC5wcm9jZXNzKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29tcHV0ZSAocmFuayA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucm9sbHMgPSB0aGlzLnJvbGxzLmZpbHRlcihyb2xsID0+IHtcbiAgICAgIHJldHVybiB0eXBlb2Ygcm9sbC5hY3Rvci5hY3RvcktleSAhPT0gJ3VuZGVmaW5lZCcgLy8gcmVtb3ZlIGFueSBhY3RvcnMgdGhhdCBubyBsb25nZXIgZXhpc3RcbiAgICB9KVxuXG4gICAgaWYgKCFyYW5rKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9sbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucm9sbHNbaV0ubWFuZXV2ZXJcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuY29tYmF0ICYmXG4gICAgICAgICAgKCF0aGlzLnJvbGxzW2ldLml0ZW0gfHxcbiAgICAgICAgICAgIHRoaXMucm9sbHNbaV0uaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ubW52cikgJiZcbiAgICAgICAgICAoKHRoaXMucm9sbHNbaV0/LmFjdG9yPy5kb2RnZVNraWxsPy5uYW1lICYmXG4gICAgICAgICAgICB0aGlzLnJvbGxzW2ldPy5za2lsbD8ubmFtZSAmJlxuICAgICAgICAgICAgdGhpcy5yb2xsc1tpXS5hY3Rvci5kb2RnZVNraWxsLm5hbWUudG9Mb3dlckNhc2UoKSAhPT1cbiAgICAgICAgICAgICAgdGhpcy5yb2xsc1tpXS5za2lsbC5uYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgICAgICAhdGhpcy5yb2xsc1tpXT8uYWN0b3I/LmRvZGdlU2tpbGw/Lm5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucm9sbHNbaV0ubWFuZXV2ZXIgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucm9sbHNbaV0ucm9sbGVkKSB7XG4gICAgICAgICAgdGhpcy5yb2xsc1tpXS5faHRtbFJvbGwgPSBhd2FpdCB0aGlzLnJvbGxzW2ldLmdldEh0bWxSb2xsKHtcbiAgICAgICAgICAgIGhpZGVEaWNlUmVzdWx0OiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5yb2xsc1tyYW5rXS5yb2xsZWQpIHtcbiAgICAgICAgdGhpcy5yb2xsc1tyYW5rXS5faHRtbFJvbGwgPSBhd2FpdCB0aGlzLnJvbGxzW3JhbmtdLmdldEh0bWxSb2xsKHtcbiAgICAgICAgICBoaWRlRGljZVJlc3VsdDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbWJhdCkge1xuICAgICAgLy8gU29ydCBjb21iYXQgcm9sbHMgYnkgaW5kZXguXG4gICAgICB0aGlzLnJvbGxzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGEuaW5kZXggPiBiLmluZGV4KSByZXR1cm4gMVxuICAgICAgICBpZiAoYS5pbmRleCA8IGIuaW5kZXgpIHJldHVybiAtMVxuICAgICAgICByZXR1cm4gMFxuICAgICAgfSlcblxuICAgICAgLy8gQ29tYmF0IHJvbGwgaW5jbHVkZXMgb25seSAyIHBlcnNvbnMsIHJlbW92ZSB0aGUgcmVzdC5cbiAgICAgIGlmICh0aGlzLnJvbGxzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhpcy5yb2xscyA9IFt0aGlzLnJvbGxzWzBdLCB0aGlzLnJvbGxzWzFdXVxuICAgICAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5yb2xscykge1xuICAgICAgICAgIGRlbGV0ZSByLndpbm5lclxuICAgICAgICAgIGRlbGV0ZSByLnRpZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0IHBlcnNvbiBhZGRlZCBpcyB0aGUgYXR0YWNrZXIuXG4gICAgICBpZiAodGhpcy5yb2xsc1swXSkgdGhpcy5yb2xsc1swXS5hdHRhY2tlciA9IHRydWVcblxuICAgICAgaWYgKHRoaXMucm9sbHNbMF0/LnJvbGxlZCAmJiB0aGlzLnJvbGxzWzFdPy5yb2xsZWQpIHtcbiAgICAgICAgaWYgKHRoaXMucm9sbHNbMF0ucGFzc2VkIHx8IHRoaXMucm9sbHNbMV0ucGFzc2VkKSB7XG4gICAgICAgICAgaWYgKHRoaXMucm9sbHNbMF0uc3VjY2Vzc0xldmVsID4gdGhpcy5yb2xsc1sxXS5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMucm9sbHNbMF0ud2lubmVyID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xsc1sxXS5zdWNjZXNzTGV2ZWwgPiB0aGlzLnJvbGxzWzBdLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5yb2xsc1sxXS53aW5uZXIgPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkdmFudGFnZUF0dGFja2VyKSB0aGlzLnJvbGxzWzBdLndpbm5lciA9IHRydWVcbiAgICAgICAgICAgIGVsc2UgdGhpcy5yb2xsc1sxXS53aW5uZXIgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9sbHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAoYS5yb2xsZWQgJiYgIWIucm9sbGVkKSByZXR1cm4gLTFcbiAgICAgICAgaWYgKCFhLnJvbGxlZCAmJiBiLnJvbGxlZCkgcmV0dXJuIDFcbiAgICAgICAgaWYgKCFhLnJvbGxlZCAmJiAhYi5yb2xsZWQpIHJldHVybiAwXG4gICAgICAgIGlmIChhLnN1Y2Nlc3NMZXZlbCA+IGIuc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5zdWNjZXNzTGV2ZWwgPCBiLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3Bwb3NlZFJvbGxUaWVCcmVha2VyJykpIHtcbiAgICAgICAgICBpZiAoYS5tb2RpZmllZFJlc3VsdCA+IGIubW9kaWZpZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGEubW9kaWZpZWRSZXN1bHQgPCBiLm1vZGlmaWVkUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGEucmF3VmFsdWUgPiBiLnJhd1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhLnJhd1ZhbHVlIDwgYi5yYXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9KVxuXG4gICAgICB0aGlzLndpbkNvdW50ID0gMFxuICAgICAgaWYgKHRoaXMucm9sbHNbMF0gJiYgdGhpcy5yb2xsc1swXS5yb2xsZWQgJiYgIXRoaXMucm9sbHNbMF0uZmFpbGVkKSB7XG4gICAgICAgIHRoaXMud2luQ291bnQgPSAxXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5yb2xscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMucm9sbHNbaV0gJiZcbiAgICAgICAgICAgIHRoaXMucm9sbHNbaV0ucm9sbGVkICYmXG4gICAgICAgICAgICB0aGlzLnJvbGxzWzBdLnN1Y2Nlc3NMZXZlbCA9PT0gdGhpcy5yb2xsc1tpXS5zdWNjZXNzTGV2ZWwgJiZcbiAgICAgICAgICAgIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdvcHBvc2VkUm9sbFRpZUJyZWFrZXInKVxuICAgICAgICAgICAgICA/IHRoaXMucm9sbHNbMF0ubW9kaWZpZWRSZXN1bHQgPT09IHRoaXMucm9sbHNbaV0ubW9kaWZpZWRSZXN1bHRcbiAgICAgICAgICAgICAgOiB0aGlzLnJvbGxzWzBdLnJhd1ZhbHVlID09PSB0aGlzLnJvbGxzW2ldLnJhd1ZhbHVlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy53aW5Db3VudCA9IHRoaXMud2luQ291bnQgKyAxXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb2xscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnJvbGxzW2ldLndpbm5lciA9IGkgPCB0aGlzLndpbkNvdW50XG4gICAgICAgIHRoaXMucm9sbHNbaV0udGllID0gdGhpcy5yb2xsc1tpXS53aW5uZXIgJiYgdGhpcy53aW5Db3VudCA+IDFcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbG9zZUNhcmQgKCkge1xuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ2hhdE1lc3NhZ2UsIGdhbWUgKi9cbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENoYXRDYXJkQWN0b3Ige1xuICBjb25zdHJ1Y3RvciAoYWN0b3JLZXkgPSBudWxsLCBmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5hY3RvcktleSA9IGFjdG9yS2V5XG4gICAgdGhpcy5mYXN0Rm9yd2FyZCA9IGZhc3RGb3J3YXJkXG4gIH1cblxuICBnZXQgZGlzcGxheUFjdG9yT25DYXJkICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJylcbiAgfVxuXG4gIGdldCBpc0JsaW5kICgpIHtcbiAgICBpZiAoIXRoaXMucm9sbE1vZGUpIHJldHVybiBudWxsXG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5faXNCbGluZCkge1xuICAgICAgdGhpcy5faXNCbGluZCA9IHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc0JsaW5kXG4gIH1cblxuICBzZXQgaXNCbGluZCAoeCkge1xuICAgIHRoaXMuX2lzQmxpbmQgPSB4XG4gIH1cblxuICBnZXQgcm9sbE1vZGUgKCkge1xuICAgIGlmICghdGhpcy5fcm9sbE1vZGUpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHJldHVybiB0aGlzLl9yb2xsTW9kZVxuICB9XG5cbiAgc2V0IHJvbGxNb2RlICh4KSB7XG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIGlmICghdGhpcy5hY3RvcktleSkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gIH1cblxuICBnZXQgdG9rZW4gKCkge1xuICAgIGlmICghdGhpcy5hY3RvcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgfVxuXG4gIGdldCBpdGVtICgpIHtcbiAgICBpZiAoIXRoaXMuaXRlbUlkKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB0aGlzLmFjdG9yLml0ZW1zLmdldCh0aGlzLml0ZW1JZClcbiAgfVxuXG4gIGdldCB3ZWFwb24gKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1cbiAgfVxuXG4gIGdldCB0YXJnZXRlZFRva2VucyAoKSB7XG4gICAgcmV0dXJuIFsuLi5nYW1lLnVzZXIudGFyZ2V0c11cbiAgfVxuXG4gIGdldCB0YXJnZXQgKCkge1xuICAgIGlmICh0aGlzLnRhcmdldFRva2VuKSByZXR1cm4gdGhpcy50YXJnZXRUb2tlblxuICAgIHJldHVybiB0aGlzLnRhcmdldEFjdG9yXG4gIH1cblxuICAvKipcbiAgICogSWYgYSB0YXJnZXRLZXkgd2FzIHByb3ZpZGVkIHRyeSB0byBmaW5kIGEgdG9rZW4gd2l0aCB0aGF0IGtleSBhbmQgdXNlIGl0LlxuICAgKiBJZiBub3QgdGFyZ2V0S2V5IHByb3ZpZGVkIHJldHVybiB0aGUgZmlyc3QgdGFyZ2V0LlxuICAgKi9cbiAgZ2V0IHRhcmdldFRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuX3RhcmdldFRva2VuKSB7XG4gICAgICBpZiAodGhpcy5fdGFyZ2V0S2V5KSB7XG4gICAgICAgIHRoaXMuX3RhcmdldFRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5fdGFyZ2V0S2V5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0VG9rZW4gPSB0aGlzLnRhcmdldGVkVG9rZW5zLnBvcCgpXG4gICAgICAgIGlmICh0aGlzLl90YXJnZXRUb2tlbikge1xuICAgICAgICAgIHRoaXMuX3RhcmdldEtleSA9IGAke3RoaXMuX3RhcmdldFRva2VuLnNjZW5lLmlkfS4ke3RoaXMuX3RhcmdldFRva2VuLmlkfWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgICAgICB0aGlzLl90YXJnZXRUb2tlbiA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0VG9rZW5cbiAgfVxuXG4gIGdldCB0YXJnZXRBY3RvciAoKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXRBY3Rvcikge1xuICAgICAgaWYgKHRoaXMudGFyZ2V0VG9rZW4pIHRoaXMuX3RhcmdldEFjdG9yID0gdGhpcy50YXJnZXRUb2tlbi5hY3RvclxuICAgICAgZWxzZSB0aGlzLl90YXJnZXRBY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuX3RhcmdldEtleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl90YXJnZXRBY3RvclxuICB9XG5cbiAgZ2V0IHRhcmdldEtleSAoKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldFRva2VuICYmICF0aGlzLnRhcmdldEFjdG9yKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB0aGlzLl90YXJnZXRLZXlcbiAgfVxuXG4gIGdldCBoYXNUYXJnZXQgKCkge1xuICAgIGlmICghdGhpcy50YXJnZXRUb2tlbiAmJiAhdGhpcy50YXJnZXRBY3RvcikgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNldCB0YXJnZXRLZXkgKHgpIHtcbiAgICB0aGlzLl90YXJnZXRLZXkgPSB4XG4gIH1cblxuICBnZXQgc2tpbGxzICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5nZXRXZWFwb25Ta2lsbHModGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgdGFyZ2V0SW1nICgpIHtcbiAgICBjb25zdCBpbWcgPSBjaGF0SGVscGVyLmdldEFjdG9ySW1nRnJvbUtleSh0aGlzLnRhcmdldEtleSlcbiAgICBpZiAoaW1nKSByZXR1cm4gaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG5cbiAgZ2V0IG5hbWUgKCkge1xuICAgIGlmICh0aGlzLnRva2VuKSByZXR1cm4gdGhpcy50b2tlbi5uYW1lXG4gICAgcmV0dXJuIHRoaXMuYWN0b3IubmFtZVxuICB9XG5cbiAgZ2V0IHRhcmdldE5hbWUgKCkge1xuICAgIGlmICghdGhpcy50YXJnZXQpIHJldHVybiAnZHVtbXknXG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0Lm5hbWVcbiAgfVxuXG4gIGdldCBhY3RvckltZyAoKSB7XG4gICAgY29uc3QgaW1nID0gY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBpZiAoaW1nKSByZXR1cm4gaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG5cbiAgYXN5bmMgc2F5IChtZXNzYWdlLCBmbGF2b3IgPSBudWxsKSB7XG4gICAgY29uc3Qgc3BlYWtlckRhdGEgPSB7fVxuICAgIGxldCBzcGVha2VyXG4gICAgaWYgKHRoaXMuYWN0b3IpIHtcbiAgICAgIHNwZWFrZXJEYXRhLmFjdG9yID0gdGhpcy5hY3RvclxuICAgICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgICAgc3BlYWtlckRhdGEudG9rZW4gPSB0aGlzLnRva2VuLmRvY3VtZW50XG4gICAgICB9XG4gICAgICBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcihzcGVha2VyRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLnVzZXIgPyB0aGlzLmFjdG9yLnVzZXIgOiBnYW1lLnVzZXJcblxuICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgdXNlcjogdXNlci5pZCxcbiAgICAgIHNwZWFrZXIsXG4gICAgICBmbGF2b3IsXG4gICAgICBjb250ZW50OiBtZXNzYWdlXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXMoZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKSlcbiAgICApIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKSAvLyBDaGFuZ2UgZm9yIHVzZXJcbiAgICB9XG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YS5ibGluZCA9IHRydWVcblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSkudGhlbihtc2cgPT4ge1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSwgUm9sbCwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdEaWNlIH0gZnJvbSAnLi4vLi4vZGljZS5qcydcbmltcG9ydCB7IENoYXRDYXJkQWN0b3IgfSBmcm9tICcuLi9jYXJkLWFjdG9yLmpzJ1xuaW1wb3J0IHsgY3JlYXRlSW5saW5lUm9sbCwgY2hhdEhlbHBlciB9IGZyb20gJy4uL2hlbHBlci5qcydcblxuZnVuY3Rpb24gcmVwbGFjZXIgKGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleS5zdGFydHNXaXRoKCdfXycpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAvLyByZW1vdmUgZnJvbSByZXN1bHRcbiAgfVxuXG4gIGNvbnN0IGV4Y2x1ZGUgPSBbJ19hY3RvciddXG4gIGlmIChleGNsdWRlLmluY2x1ZGVzKGtleSkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdCBjaGVja3MgPSBbJ3NhbkNoZWNrJywgJ2ludENoZWNrJ11cbiAgaWYgKGNoZWNrcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgcmV0dXJuIHZhbHVlLkpTT05Sb2xsRGF0YVxuICB9XG5cbiAgcmV0dXJuIHZhbHVlIC8vIHJldHVybiBhcyBpc1xufVxuXG5leHBvcnQgY2xhc3MgU2FuQ2hlY2tDYXJkIGV4dGVuZHMgQ2hhdENhcmRBY3RvciB7XG4gIGNvbnN0cnVjdG9yIChhY3RvcktleSA9IG51bGwsIHNhbkRhdGEgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoXG4gICAgICBhY3RvcktleSxcbiAgICAgIHR5cGVvZiBvcHRpb25zLmZhc3RGb3J3YXJkICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IEJvb2xlYW4ob3B0aW9ucy5mYXN0Rm9yd2FyZClcbiAgICAgICAgOiBmYWxzZVxuICAgIClcbiAgICBzYW5EYXRhLnNhblJlYXNvbiA9IHNhbkRhdGEuc2FuUmVhc29uID8/ICcnXG4gICAgdGhpcy5zYW5EYXRhID0gc2FuRGF0YVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICBpZiAoc2FuRGF0YS5tb2RpZmllciAmJiAhaXNOYU4oTnVtYmVyKHNhbkRhdGEubW9kaWZpZXIpKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNhbk1vZGlmaWVyID0gTnVtYmVyKHNhbkRhdGEubW9kaWZpZXIpXG4gICAgfVxuICAgIGlmIChzYW5EYXRhLmRpZmZpY3VsdHkgJiYgIWlzTmFOKE51bWJlcihzYW5EYXRhLmRpZmZpY3VsdHkpKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNhbkRpZmZpY3VsdHkgPSBOdW1iZXIoc2FuRGF0YS5kaWZmaWN1bHR5KVxuICAgIH1cbiAgICB0aGlzLnN0YXRlID0ge31cbiAgfVxuXG4gIGdldCBpc0JsaW5kICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9ucy5pc0JsaW5kICE9PSAndW5kZWZpbmVkJ1xuICAgICAgPyBCb29sZWFuKHRoaXMub3B0aW9ucy5pc0JsaW5kKVxuICAgICAgOiBzdXBlci5pc0JsaW5kXG4gIH1cblxuICBnZXQgZGlmZmljdWx0eSAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLm9wdGlvbnMuZGlmZmljdWx0eSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gdGhpcy5vcHRpb25zLmRpZmZpY3VsdHlcbiAgICAgIDogQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gIH1cblxuICBnZXQgbW9kaWZpZXIgKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5vcHRpb25zLm1vZGlmaWVyICE9PSAndW5kZWZpbmVkJ1xuICAgICAgPyB0aGlzLm9wdGlvbnMubW9kaWZpZXJcbiAgICAgIDogMFxuICB9XG5cbiAgZ2V0IHNhbkxvc3NTb3VyY2UgKCkge1xuICAgIGlmICghdGhpcy5zYW5EYXRhLnRva2VuS2V5KSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLnNhbkRhdGEudG9rZW5LZXkpXG4gIH1cblxuICBnZXQgaW52b2x1bnRhcnlBY3Rpb24gKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuc2FuUm9sbGVkICYmXG4gICAgICAodGhpcy5zYW5DaGVjay5pc0ZhaWx1cmUgfHwgdGhpcy5zYW5DaGVjay5pc0Z1bWJsZSlcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IHNhbkxvc3NGb3JtdWxhICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zYW5Sb2xsZWQpIHtcbiAgICAgIGlmICh0aGlzLnNhbkRhdGEuc2FuTWF4ICYmIHRoaXMuc2FuQ2hlY2suZmFpbGVkKSB7XG4gICAgICAgIHJldHVybiAhaXNOYU4oTnVtYmVyKHRoaXMuc2FuRGF0YS5zYW5NYXgpKVxuICAgICAgICAgID8gTnVtYmVyKHRoaXMuc2FuRGF0YS5zYW5NYXgpXG4gICAgICAgICAgOiB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zYW5EYXRhLnNhbk1pbiAmJiB0aGlzLnNhbkNoZWNrLnBhc3NlZCkge1xuICAgICAgICByZXR1cm4gIWlzTmFOKE51bWJlcih0aGlzLnNhbkRhdGEuc2FuTWluKSlcbiAgICAgICAgICA/IE51bWJlcih0aGlzLnNhbkRhdGEuc2FuTWluKVxuICAgICAgICAgIDogdGhpcy5zYW5EYXRhLnNhbk1pblxuICAgICAgfVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBzYW5Mb3N0VG9SZWFzb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLnNhbkxvc3RUb1JlYXNvbih0aGlzLnNhbkRhdGEuc2FuUmVhc29uKVxuICB9XG5cbiAgZ2V0IG1heFBvc3NpYmxlU2FuTG9zcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0b3IubWF4TG9zc1RvU2FuUmVhc29uKFxuICAgICAgdGhpcy5zYW5EYXRhLnNhblJlYXNvbixcbiAgICAgIHRoaXMuc2FuRGF0YS5zYW5NYXhcbiAgICApXG4gIH1cblxuICBnZXQgbWF4U2FuTG9zcyAoKSB7XG4gICAgcmV0dXJuIG5ldyBSb2xsKHRoaXMuc2FuRGF0YS5zYW5NYXgudG9TdHJpbmcoKSkuZXZhbHVhdGUoe1xuICAgICAgbWF4aW1pemU6IHRydWVcbiAgICB9KS50b3RhbFxuICB9XG5cbiAgZ2V0IHNhbkxvc3NSZWFzb25FbmNvdW50ZXJlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0b3Iuc2FuTG9zc1JlYXNvbkVuY291bnRlcmVkKHRoaXMuc2FuRGF0YS5zYW5SZWFzb24pXG4gIH1cblxuICBnZXQgZmlyc3RFbmNvdW50ZXIgKCkge1xuICAgIHJldHVybiAhdGhpcy5hY3Rvci5teXRob3NJbnNhbml0eUV4cGVyaWVuY2VkXG4gIH1cblxuICBnZXQgaXNBY3Rvckxvb3NpbmdTYW4gKCkge1xuICAgIC8vIE5vIHNhbiBsb3NzIGR1cmluZyBib3V0IG9mIG1hZC5cbiAgICBpZiAodGhpcy5hY3Rvci5oYXNUZW1wb0luc2FuZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLy8gVGhlIHNhbiBsb3NzIGlzIGEgMFxuICAgIGlmICh0aGlzLnNhbkxvc3NGb3JtdWxhID09PSAwKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc2FuRGF0YS5zYW5SZWFzb24gJiZcbiAgICAgIHRoaXMuYWN0b3IubWF4TG9zc1RvU2FuUmVhc29uKFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uLFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgICApID09PSAwXG4gICAgKSB7XG4gICAgICB0aGlzLnN0YXRlLmltbXVuZVRvQ3JlYXR1cmUgPSB0cnVlXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZ2V0IGJvdXREdXJhdGlvblRleHQgKCkge1xuICAgIGlmICh0aGlzLmJvdXREdXJhdGlvbikge1xuICAgICAgaWYgKHRoaXMuYm91dFJlYWxUaW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmJvdXREdXJhdGlvbn0gJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucm91bmRzJyl9YFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYm91dFN1bW1hcnkpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYm91dER1cmF0aW9ufSAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5ob3VycycpfWBcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCB5b3VHYWluQ3RodWxodU15dGhvc1N0cmluZyAoKSB7XG4gICAgaWYgKHRoaXMubXl0aG9zR2Fpbikge1xuICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuWW91R2FpbmVkQ3RodWxodU15dGhvcycsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMubXl0aG9zR2FpblxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIGFkdmFuY2VTdGF0ZSAoc3RhdGUpIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlICdrZWVwQ3JlYXR1cmVTYW5EYXRhJzoge1xuICAgICAgICB0aGlzLnN0YXRlLmtlZXBDcmVhdHVyZVNhbkRhdGEgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdpbnZvbHVudGFyeUFjdGlvblBlcmZvcm1lZCc6IHtcbiAgICAgICAgdGhpcy5zdGF0ZVtzdGF0ZV0gPSB0cnVlXG4gICAgICAgIGlmICghdGhpcy5pc0FjdG9yTG9vc2luZ1NhbikgdGhpcy5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdzYW5Mb3NzQXBwbGllZCc6IHtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNhbkxvc3MoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZW50ZXJCb3V0T2ZNYWRuZXNzUmVhbFRpbWUnOiB7XG4gICAgICAgIHRoaXMuYm91dER1cmF0aW9uID0gKGF3YWl0IG5ldyBSb2xsKCcxRDEwJykucm9sbCh7IGFzeW5jOiB0cnVlIH0pKS50b3RhbFxuICAgICAgICB0aGlzLmJvdXRSZWFsVGltZSA9IHRydWVcbiAgICAgICAgdGhpcy5ib3V0U3VtbWFyeSA9IGZhbHNlXG4gICAgICAgIHRoaXMuYm91dFJlc3VsdCA9IGF3YWl0IHRoaXMuYWN0b3IuZW50ZXJCb3V0T2ZNYWRuZXNzKFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgdGhpcy5ib3V0RHVyYXRpb25cbiAgICAgICAgKVxuICAgICAgICB0aGlzLnN0YXRlLmJvdXRPZk1hZG5lc3NSZXNvbHZlZCA9IHRydWVcbiAgICAgICAgdGhpcy5zdGF0ZS5ib3V0T2ZNYWRuZXNzT3ZlciA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdlbnRlckJvdXRPZk1hZG5lc3NTdW1tYXJ5Jzoge1xuICAgICAgICB0aGlzLmJvdXREdXJhdGlvbiA9IChhd2FpdCBuZXcgUm9sbCgnMUQxMCcpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICAgICAgdGhpcy5ib3V0UmVhbFRpbWUgPSBmYWxzZVxuICAgICAgICB0aGlzLmJvdXRTdW1tYXJ5ID0gdHJ1ZVxuICAgICAgICB0aGlzLmJvdXRSZXN1bHQgPSBhd2FpdCB0aGlzLmFjdG9yLmVudGVyQm91dE9mTWFkbmVzcyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0aGlzLmJvdXREdXJhdGlvblxuICAgICAgICApXG4gICAgICAgIHRoaXMuc3RhdGUuYm91dE9mTWFkbmVzc1Jlc29sdmVkID0gdHJ1ZVxuICAgICAgICBhd2FpdCB0aGlzLnRyaWdnZXJJbnNhbml0eSgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdib3V0T2ZNYWRuZXNzT3Zlcic6IHtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51bnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSlcbiAgICAgICAgYXdhaXQgdGhpcy50cmlnZ2VySW5zYW5pdHkoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnbm9NeXRob3NHYWluZWQnOiB7XG4gICAgICAgIHRoaXMuc3RhdGUuY3RodWxodU15dGhvc0F3YXJkZWQgPSB0cnVlXG4gICAgICAgIHRoaXMubXl0aG9zR2FpbiA9IDBcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2N0aHVsaHVNeXRob3NBd2FyZGVkJzoge1xuICAgICAgICBsZXQgYW1vdW50R2FpbmVkID0gMVxuICAgICAgICBpZiAoIXRoaXMuYWN0b3IubXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZCkge1xuICAgICAgICAgIGFtb3VudEdhaW5lZCA9IDVcbiAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLmV4cGVyaWVuY2VGaXJzdE15dGhvc0luc2FuaXR5KClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLmN0aHVsaHVNeXRob3NBd2FyZGVkID0gdHJ1ZVxuICAgICAgICBjb25zdCBjdGh1bGh1TXl0aG9zU2tpbGwgPSB0aGlzLmFjdG9yLmN0aHVsaHVNeXRob3NTa2lsbFxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9XG4gICAgICAgICAgY3RodWxodU15dGhvc1NraWxsLmRhdGEuZGF0YS5hZGp1c3RtZW50cy5leHBlcmllbmNlIHx8IDBcbiAgICAgICAgaWYgKGN0aHVsaHVNeXRob3NTa2lsbCkge1xuICAgICAgICAgIGF3YWl0IGN0aHVsaHVNeXRob3NTa2lsbC51cGRhdGUoe1xuICAgICAgICAgICAgJ2RhdGEuYWRqdXN0bWVudHMuZXhwZXJpZW5jZSc6IG9sZFZhbHVlICsgYW1vdW50R2FpbmVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm15dGhvc0dhaW4gPSBhbW91bnRHYWluZWRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBieXBhc3NSb2xsU2FuICgpIHtcbiAgICB0aGlzLmlzQnlwYXNzZWQgPSB0cnVlXG4gICAgdGhpcy5zYW5DaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIHRoaXMuc2FuQ2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yS2V5XG4gICAgdGhpcy5zYW5DaGVjay5hdHRyaWJ1dGUgPSAnc2FuJ1xuICAgIHRoaXMuc2FuQ2hlY2suZGlmZmljdWx0eSA9XG4gICAgICB0aGlzLm9wdGlvbnMuc2FuRGlmZmljdWx0eSB8fCBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB0aGlzLnNhbkNoZWNrLmRpY2VNb2RpZmllciA9IHRoaXMub3B0aW9ucy5zYW5Nb2RpZmllciB8fCAwXG4gICAgYXdhaXQgdGhpcy5zYW5DaGVjay5fcGVyZm9ybSh7IGZvcmNlRFNOOiB0cnVlIH0pXG4gICAgdGhpcy5zdGF0ZS5zYW5Sb2xsZWQgPSB0cnVlXG4gICAgdGhpcy5zdGF0ZS5pbnZvbHVudGFyeUFjdGlvblBlcmZvcm1lZCA9IHRoaXMuc2FuQ2hlY2sucGFzc2VkXG4gICAgdGhpcy5zdGF0ZS5zYW5Mb3NzUm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMuc3RhdGUuaWdub3JlU2FuQ2hlY2sgPSB0cnVlXG4gICAgdGhpcy5zYW5Mb3NzID0gdGhpcy5zYW5Mb3NzRm9ybXVsYVxuICB9XG5cbiAgYXN5bmMgcm9sbFNhbiAoKSB7XG4gICAgdGhpcy5zYW5DaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIHRoaXMuc2FuQ2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yS2V5XG4gICAgdGhpcy5zYW5DaGVjay5hdHRyaWJ1dGUgPSAnc2FuJ1xuICAgIHRoaXMuc2FuQ2hlY2suZGlmZmljdWx0eSA9XG4gICAgICB0aGlzLm9wdGlvbnMuc2FuRGlmZmljdWx0eSB8fCBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB0aGlzLnNhbkNoZWNrLmRpY2VNb2RpZmllciA9IHRoaXMub3B0aW9ucy5zYW5Nb2RpZmllciB8fCAwXG4gICAgYXdhaXQgdGhpcy5zYW5DaGVjay5fcGVyZm9ybSh7IGZvcmNlRFNOOiB0cnVlIH0pXG4gICAgdGhpcy5zdGF0ZS5zYW5Sb2xsZWQgPSB0cnVlXG4gICAgdGhpcy5zdGF0ZS5pbnZvbHVudGFyeUFjdGlvblBlcmZvcm1lZCA9IHRoaXMuc2FuQ2hlY2sucGFzc2VkXG4gICAgaWYgKCF0aGlzLmlzQWN0b3JMb29zaW5nU2FuKSB7XG4gICAgICB0aGlzLnN0YXRlLmZpbmlzaCA9IHRydWVcbiAgICAgIGlmICh0aGlzLmFjdG9yLmhhc1RlbXBvSW5zYW5lKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaW1tdW5lQWxyZWFkeUluQm91dCA9IHRydWVcbiAgICAgICAgaWYgKCF0aGlzLnNhbkNoZWNrLnBhc3NlZCkgdGhpcy5zdGF0ZS5maW5pc2ggPSBmYWxzZVxuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZS5zYW5Mb3NzUm9sbGVkID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5zYW5Mb3NzQXBwbGllZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IGZhbHNlXG4gICAgICB0aGlzLnNhbkxvc3MgPSAwXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5zYW5Mb3NzRm9ybXVsYSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2FuTG9zc1JvbGxlZCA9IHRydWVcbiAgICAgIGlmICh0aGlzLnNhbkRhdGEuc2FuUmVhc29uKSB7XG4gICAgICAgIHRoaXMuc2FuTG9zcyA9IHRoaXMuYWN0b3IubWF4TG9zc1RvU2FuUmVhc29uKFxuICAgICAgICAgIHRoaXMuc2FuRGF0YS5zYW5SZWFzb24sXG4gICAgICAgICAgdGhpcy5zYW5Mb3NzRm9ybXVsYVxuICAgICAgICApXG4gICAgICAgIGlmICh0aGlzLnNhbkxvc3MgPCB0aGlzLnNhbkxvc3NGb3JtdWxhKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5saW1pdGVkTG9zc1RvQ3JlYXR1cmUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2FuTG9zcyA9IHRoaXMuc2FuTG9zc0Zvcm11bGFcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc2FuQ2hlY2suaXNGdW1ibGUpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2FuTG9zc1JvbGxlZCA9IHRydWVcbiAgICAgIHRoaXMuc2FuTG9zcyA9IHRoaXMuYWN0b3IubWF4TG9zc1RvU2FuUmVhc29uKFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uLFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnNhbkRhdGEuc2FuUmVhc29uKSB7XG4gICAgICBjb25zdCBtaW4gPSBuZXcgUm9sbCh0aGlzLnNhbkxvc3NGb3JtdWxhKS5ldmFsdWF0ZSh7XG4gICAgICAgIG1pbmltaXplOiB0cnVlXG4gICAgICB9KS50b3RhbFxuICAgICAgY29uc3QgbWF4ID0gdGhpcy5hY3Rvci5tYXhMb3NzVG9TYW5SZWFzb24oXG4gICAgICAgIHRoaXMuc2FuRGF0YS5zYW5SZWFzb24sXG4gICAgICAgIHRoaXMuc2FuRGF0YS5zYW5NYXhcbiAgICAgIClcbiAgICAgIGlmIChtaW4gPj0gbWF4KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2FuTG9zc1JvbGxlZCA9IHRydWVcbiAgICAgICAgdGhpcy5zYW5Mb3NzID0gbWF4XG4gICAgICAgIHRoaXMuc3RhdGUubGltaXRlZExvc3NUb0NyZWF0dXJlID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJvbGxTYW5Mb3NzICgpIHtcbiAgICB0aGlzLnNhbkxvc3NSb2xsID0gbmV3IFJvbGwoYCR7dGhpcy5zYW5Mb3NzRm9ybXVsYX1gKVxuXG4gICAgYXdhaXQgdGhpcy5zYW5Mb3NzUm9sbC5yb2xsKHsgYXN5bmM6IHRydWUgfSlcblxuICAgIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKHRoaXMuc2FuTG9zc1JvbGwpXG5cbiAgICBjb25zdCBtYXggPSB0aGlzLmFjdG9yLm1heExvc3NUb1NhblJlYXNvbihcbiAgICAgIHRoaXMuc2FuRGF0YS5zYW5SZWFzb24sXG4gICAgICB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgKVxuXG4gICAgaWYgKHRoaXMuc2FuTG9zc1JvbGwudG90YWwgPiBtYXgpIHtcbiAgICAgIHRoaXMuc3RhdGUubGltaXRlZExvc3NUb0NyZWF0dXJlID0gdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMuc2FuTG9zcyA9IE1hdGgubWluKHRoaXMuc2FuTG9zc1JvbGwudG90YWwsIG1heClcbiAgICB0aGlzLnN0YXRlLnNhbkxvc3NSb2xsZWQgPSB0cnVlXG4gIH1cblxuICBhc3luYyBhcHBseVNhbkxvc3MgKCkge1xuICAgIGF3YWl0IHRoaXMuYWN0b3IubG9vc2VTYW4odGhpcy5zYW5EYXRhLnNhblJlYXNvbiwgdGhpcy5zYW5Mb3NzKVxuXG4gICAgaWYgKHRoaXMuc2FuTG9zcyA+IDApIHRoaXMuc3RhdGUuYWN0b3JMb3N0U2FuID0gdHJ1ZVxuICAgIHRoaXMuc3RhdGUuc2FuTG9zc0FwcGxpZWQgPSB0cnVlXG4gICAgaWYgKHRoaXMuYWN0b3Iuc2FuIDw9IDApIHtcbiAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5ib3V0T2ZNYWRuZXNzT3ZlciA9IHRydWVcblxuICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUucGVybWFuZW50bHlJbnNhbmUgPSB0cnVlXG5cbiAgICAgIHRoaXMuc3RhdGUuZmluaXNoID0gdHJ1ZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2FuTG9zcyA8IDUpIHtcbiAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gdHJ1ZVxuICAgICAgaWYgKHRoaXMuYWN0b3IuaGFzSW5kZWZJbnNhbmUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IHRydWVcbiAgICAgICAgdGhpcy5zdGF0ZS5zaGFrZW4gPSB0cnVlXG4gICAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHlUYWJsZVJvbGxlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGUuZmluaXNoID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZS5pbnRSb2xsZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlLmluc2FuaXR5ID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZS5zaGFrZW4gPSB0cnVlXG4gICAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHlUYWJsZVJvbGxlZCA9IHRydWVcbiAgICAgICAgdGhpcy5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3Rvci5kYWlseVNhbkxvc3MgPj0gdGhpcy5hY3Rvci5kYWlseVNhbkxpbWl0KSB7XG4gICAgICAvLyB0aGlzLmFjdG9yLnNhbi81XG4gICAgICB0aGlzLnN0YXRlLmluc2FuaXR5ID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5pbnRSb2xsZWQgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLnRlbXBvcmFyeUluc2FuZSA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXRlLmluZGVmaW5pdGVseUluc2FuZSA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHlUYWJsZVJvbGxlZCA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXRlLm1lbW9yeVJlcHJlc3NlZCA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXRlLmZpbmlzaCA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcm9sbEludCAoKSB7XG4gICAgdGhpcy5pbnRDaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIHRoaXMuaW50Q2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yS2V5XG4gICAgdGhpcy5pbnRDaGVjay5jaGFyYWN0ZXJpc3RpYyA9ICdpbnQnXG4gICAgdGhpcy5pbnRDaGVjay5kaWZmaWN1bHR5ID1cbiAgICAgIHRoaXMub3B0aW9ucy5pbnREaWZmaWN1bHR5IHx8IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIHRoaXMuaW50Q2hlY2suZGljZU1vZGlmaWVyID0gdGhpcy5vcHRpb25zLmludE1vZGlmaWVyIHx8IDBcbiAgICBhd2FpdCB0aGlzLmludENoZWNrLl9wZXJmb3JtKHsgZm9yY2VEU046IHRydWUgfSlcbiAgICB0aGlzLnN0YXRlLmludFJvbGxlZCA9IHRydWVcbiAgICBpZiAodGhpcy5pbnRDaGVjay5wYXNzZWQgfHwgdGhpcy5zdGF0ZS5hbHJlYWR5SW5zYW5lKSB7XG4gICAgICB0aGlzLnN0YXRlLmluc2FuaXR5ID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS50ZW1wb3JhcnlJbnNhbmUgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLmluZGVmaW5pdGVseUluc2FuZSA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXRlLm1lbW9yeVJlcHJlc3NlZCA9IGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHkgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS50ZW1wb3JhcnlJbnNhbmUgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5pbmRlZmluaXRlbHlJbnNhbmUgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5tZW1vcnlSZXByZXNzZWQgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLmZpbmlzaCA9IHRydWVcbiAgICB9XG4gIH1cblxuICBhc3luYyB0cmlnZ2VySW5zYW5pdHkgKCkge1xuICAgIHRoaXMuc3RhdGUuYm91dE9mTWFkbmVzc092ZXIgPSB0cnVlXG4gICAgaWYgKHRoaXMuc3RhdGUuaW5kZWZpbml0ZWx5SW5zYW5lKSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5pbmRlZkluc2FuZSlcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gIH1cblxuICBhc3luYyBjbGVhclNhbkxvc3NSZWFzb24gKCkge1xuICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2V0UmVhc29uU2FuTG9zcyh0aGlzLnNhbkRhdGEuc2FuUmVhc29uLCAwKVxuICAgIGlmICghdGhpcy5zYW5Mb3NzUmVhc29uRW5jb3VudGVyZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUua2VlcENyZWF0dXJlU2FuRGF0YSA9IHRydWVcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoKSB7XG4gICAgLy8gQXR0YWNoZSB0aGUgc2FuQ2hlY2sgcmVzdWx0IHRvIHRoZSBtZXNzYWdlLlxuICAgIGlmICh0aGlzLnN0YXRlLnNhblJvbGxlZCkge1xuICAgICAgdGhpcy5fX2lubGluZVNhbkNoZWNrID0gdGhpcy5zYW5DaGVjay5pbmxpbmVDaGVjay5vdXRlckhUTUxcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zYW5Mb3NzUm9sbCkge1xuICAgICAgY29uc3QgYSA9IGNyZWF0ZUlubGluZVJvbGwodGhpcy5zYW5Mb3NzUm9sbClcbiAgICAgIHRoaXMuX19pbmxpbmVTYW5Mb3NzUm9sbCA9IGEub3V0ZXJIVE1MXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaW50Um9sbGVkICYmIHRoaXMuaW50Q2hlY2spIHtcbiAgICAgIHRoaXMuX19pbmxpbmVJbnRDaGVjayA9IHRoaXMuaW50Q2hlY2suaW5saW5lQ2hlY2sub3V0ZXJIVE1MXG4gICAgfVxuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZSwgdGhpcylcbiAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuXG4gICAgLy8gQXR0YWNoIHRoZSBzYW5DaGVja0NhcmQgb2JqZWN0IHRvIHRoZSBtZXNzYWdlLlxuICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZShKU09OLnN0cmluZ2lmeSh0aGlzLCByZXBsYWNlcikpXG5cbiAgICAvLyBVcGRhdGUgdGhlIG1lc3NhZ2UuXG4gICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IGNoYXRNZXNzYWdlLnVwZGF0ZSh7XG4gICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgfSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICBzdGF0aWMgZ2V0IHRlbXBsYXRlICgpIHtcbiAgICByZXR1cm4gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jYXJkcy9zYW4tY2hlY2suaHRtbCdcbiAgfVxuXG4gIHN0YXRpYyBjaGVja1RhcmdldHMgKHNhbkRhdGEsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBjb25zdCB0YXJnZXRzID0gWy4uLmdhbWUudXNlci50YXJnZXRzXVxuICAgIGlmICh0YXJnZXRzLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCB0IG9mIHRhcmdldHMpIHtcbiAgICAgICAgaWYgKHQuYWN0b3IuaXNUb2tlbikge1xuICAgICAgICAgIFNhbkNoZWNrQ2FyZC5jcmVhdGUodC5hY3Rvci50b2tlbktleSwgc2FuRGF0YSwge1xuICAgICAgICAgICAgZmFzdEZvcndhcmRcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNhbkNoZWNrQ2FyZC5jcmVhdGUodC5hY3Rvci5pZCwgc2FuRGF0YSwgeyBmYXN0Rm9yd2FyZCB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2Fybk5vVGFyZ2V0c1NhbkNoZWNrJykpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoLi4uYXJncykge1xuICAgIGNvbnN0IGNoYXRDYXJkID0gbmV3IFNhbkNoZWNrQ2FyZCguLi5hcmdzKVxuICAgIGlmIChjaGF0Q2FyZC5hY3Rvci5oYXNJbmRlZkluc2FuZSkge1xuICAgICAgY2hhdENhcmQuc3RhdGUuYWxyZWFkeUluc2FuZSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoY2hhdENhcmQuYWN0b3Iuc2FuIDw9IDApIHtcbiAgICAgIGNoYXRDYXJkLnN0YXRlLmludFJvbGxlZCA9IHRydWVcbiAgICAgIGNoYXRDYXJkLnN0YXRlLmJvdXRPZk1hZG5lc3NPdmVyID0gdHJ1ZVxuXG4gICAgICBjaGF0Q2FyZC5zdGF0ZS5pbnNhbml0eSA9IHRydWVcbiAgICAgIGNoYXRDYXJkLnN0YXRlLnBlcm1hbmVudGx5SW5zYW5lID0gdHJ1ZVxuXG4gICAgICBjaGF0Q2FyZC5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gICAgfVxuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZSwgY2hhdENhcmQpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZShKU09OLnN0cmluZ2lmeShjaGF0Q2FyZCwgcmVwbGFjZXIpKVxuICAgIGF3YWl0IGNoYXRDYXJkLnNheShodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MKVxuICB9XG5cbiAgc3RhdGljIGdldEZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgY29uc3QgaHRtbE1lc3NhZ2UgPSAkLnBhcnNlSFRNTChtZXNzYWdlLmNvbnRlbnQpWzBdXG5cbiAgICBjb25zdCBodG1sQ2FyZCA9IGh0bWxNZXNzYWdlLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWNhcmQnKVxuXG4gICAgcmV0dXJuIFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChodG1sQ2FyZClcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tQ2FyZCAoY2FyZCkge1xuICAgIGNvbnN0IHNhbkNoZWNrQ2FyZERhdGEgPSBKU09OLnBhcnNlKHVuZXNjYXBlKGNhcmQuZGF0YXNldC5vYmplY3QpKVxuXG4gICAgY29uc3Qgc2FuQ2hlY2tDYXJkID0gbmV3IFNhbkNoZWNrQ2FyZCgpXG4gICAgT2JqZWN0LmFzc2lnbihzYW5DaGVja0NhcmQsIHNhbkNoZWNrQ2FyZERhdGEpXG4gICAgaWYgKCFzYW5DaGVja0NhcmQubWVzc2FnZUlkKSB7XG4gICAgICBzYW5DaGVja0NhcmQubWVzc2FnZUlkID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgfVxuXG4gICAgaWYgKHNhbkNoZWNrQ2FyZC5zYW5DaGVjaz8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgICBzYW5DaGVja0NhcmQuc2FuQ2hlY2sgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQ29DN0NoZWNrKCksXG4gICAgICAgIHNhbkNoZWNrQ2FyZC5zYW5DaGVja1xuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChzYW5DaGVja0NhcmQuaW50Q2hlY2s/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgc2FuQ2hlY2tDYXJkLmludENoZWNrID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmV3IENvQzdDaGVjaygpLFxuICAgICAgICBzYW5DaGVja0NhcmQuaW50Q2hlY2tcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoc2FuQ2hlY2tDYXJkLnNhbkxvc3NSb2xsPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHNhbkNoZWNrQ2FyZC5zYW5Mb3NzUm9sbCA9IFJvbGwuZnJvbURhdGEoc2FuQ2hlY2tDYXJkLnNhbkxvc3NSb2xsKVxuICAgIH1cblxuICAgIHJldHVybiBzYW5DaGVja0NhcmRcbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpYWxvZywgRm9ybURhdGEsIGdhbWUsIHJlbmRlclRlbXBsYXRlICovXG5cbmV4cG9ydCBjbGFzcyBTYW5EYXRhRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGh0bWwuZmluZCgnOmNoZWNrYm94JykuY2xpY2soKCkgPT4gdGhpcy5fdG9nZ2xlSW5wdXQoaHRtbCkpXG4gIH1cblxuICBfdG9nZ2xlSW5wdXQgKGh0bWwpIHtcbiAgICBodG1sLmZpbmQoJypbbmFtZT1cImN1c3RvbW5hbWVcIl0nKS50b2dnbGUoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9zYW5kYXRhLmh0bWwnLFxuICAgICAgb3B0aW9uc1xuICAgIClcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGxldCBmb3JtRGF0YSA9IG51bGxcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBTYW5EYXRhRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IG9wdGlvbnMuZGlzcGxheU5hbWVcbiAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU2FuRGF0YVNlbGVjdGlvbldpbmRvd05hbWVkJywge1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5kaXNwbGF5TmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuRGF0YVNlbGVjdGlvbldpbmRvdycpLCAvLyBUT0RPOiBSZW1vdmUgU2FuRGF0YVNlbGVjdGlvbldpbmRvd05hbWVkXG4gICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICBWYWxpZGF0ZToge1xuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5WYWxpZGF0ZScpLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGh0bWwgPT4ge1xuICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJyNzYW4tZGF0YS1mb3JtJykpXG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZvcm1EYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdDogJ1ZhbGlkYXRlJyxcbiAgICAgICAgY2xvc2U6ICgpID0+IHt9XG4gICAgICB9KVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q29udGVudExpbmtEaWFsb2cgfSBmcm9tICcuL2NvYzctY29udGVudC1saW5rLWRpYWxvZy5qcydcbmltcG9ydCB7IGlzQ3RybEtleSB9IGZyb20gJy4uL2NoYXQvaGVscGVyLmpzJ1xuaW1wb3J0IHsgUm9sbERpYWxvZyB9IGZyb20gJy4vcm9sbC1kaWFsb2cuanMnXG5pbXBvcnQgeyBDb21iaW5lZENoZWNrQ2FyZCB9IGZyb20gJy4uL2NoYXQvY2FyZHMvY29tYmluZWQtcm9sbC5qcydcbmltcG9ydCB7IE9wcG9zZWRDaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL29wcG9zZWQtcm9sbC5qcydcbmltcG9ydCB7IFNhbkNoZWNrQ2FyZCB9IGZyb20gJy4uL2NoYXQvY2FyZHMvc2FuLWNoZWNrLmpzJ1xuaW1wb3J0IHsgU2FuRGF0YURpYWxvZyB9IGZyb20gJy4vc2FuZGF0YS1kaWFsb2cuanMnXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4vY29jNy1saW5rLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDaGF0TWVzc2FnZSB7XG4gIHN0YXRpYyBnZXQgUk9MTF9UWVBFX0FUVFJJQlVURSAoKSB7XG4gICAgcmV0dXJuICdSL0FUJ1xuICB9XG5cbiAgc3RhdGljIGdldCBST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMgKCkge1xuICAgIHJldHVybiAnUi9DSCdcbiAgfVxuXG4gIHN0YXRpYyBnZXQgUk9MTF9UWVBFX0NPTUJBVCAoKSB7XG4gICAgcmV0dXJuICdSL0NPJ1xuICB9XG5cbiAgc3RhdGljIGdldCBST0xMX1RZUEVfU0tJTEwgKCkge1xuICAgIHJldHVybiAnUi9TSydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgUk9MTF9UWVBFX0VOQ09VTlRFUiAoKSB7XG4gICAgcmV0dXJuICdSL0VDJ1xuICB9XG5cbiAgc3RhdGljIGdldCBDQVJEX1RZUEVfQ09NQklORUQgKCkge1xuICAgIHJldHVybiAnQy9DTydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQ0FSRF9UWVBFX0dST1VQICgpIHtcbiAgICByZXR1cm4gJ0MvR1InXG4gIH1cblxuICBzdGF0aWMgZ2V0IENBUkRfVFlQRV9OT1JNQUwgKCkge1xuICAgIHJldHVybiAnQy9OTydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQ0FSRF9UWVBFX09QUE9TRUQgKCkge1xuICAgIHJldHVybiAnQy9PUCdcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQ0FSRF9UWVBFX1NBTl9DSEVDSyAoKSB7XG4gICAgcmV0dXJuICdDL1NDJ1xuICB9XG5cbiAgc3RhdGljIGdldCBDQVJEX1RZUEVfTk9ORSAoKSB7XG4gICAgcmV0dXJuICdDL05PJ1xuICB9XG5cbiAgLy8gc3RhdGljIGdldCBST0xMX1RPX0NIQVQgKCkge1xuICAvLyAgIHJldHVybiAnUi9DSCdcbiAgLy8gfVxuXG4gIC8vIHN0YXRpYyBnZXQgUk9MTF9UT19DTElQQk9BUkQgKCkge1xuICAvLyAgIHJldHVybiAnUi9DTCdcbiAgLy8gfVxuXG4gIHN0YXRpYyBjYXJkVHlwZXMgKGNvbmZpZykge1xuICAgIGlmIChjb25maWcucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ09NQkFUKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBjb25zdCBzZWxlY3QgPSB7XG4gICAgICBbQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUxdOiAnQ29DNy5SZWd1bGFyUm9sbENhcmQnLFxuICAgICAgW0NvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfQ09NQklORURdOiAnQ29DNy5Db21iaW5lZFJvbGxDYXJkJyxcbiAgICAgIFtDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX09QUE9TRURdOiAnQ29DNy5PcHBvc2VkUm9sbENhcmQnXG4gICAgICAvLyBbQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9HUk9VUF06ICdDb0M3Lkdyb3VwUm9sbENhcmQnIC0gTllJXG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNvbmZpZy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEUgJiZcbiAgICAgIGNvbmZpZy5hdHRyaWJ1dGUgPT09ICdzYW4nXG4gICAgKSB7XG4gICAgICBzZWxlY3RbQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0tdID0gJ0NvQzcuU2FuaXR5TG9zc0VuY291bnRlcidcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdFxuICB9XG5cbiAgc3RhdGljIG5vcm1hbGl6ZVJlcXVlc3QgKG9wdGlvbnMpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5ldmVudCA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBvcHRpb25zLmNhcmRUeXBlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnMuYWN0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAodHlwZW9mIG9wdGlvbnMuc2tpbGxJZCAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuc2tpbGxOYW1lICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGUgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmNoYXJhY3RlcmlzdGljICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBvcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0VOQ09VTlRFUilcbiAgICApIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5za2lsbElkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAob3B0aW9ucy5hY3Rvci5pdGVtcy5nZXQob3B0aW9ucy5za2lsbElkKSkge1xuICAgICAgICAgIG9wdGlvbnMucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuc2tpbGxOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBza2lsbElkcyA9IG9wdGlvbnMuYWN0b3IuZ2V0U2tpbGxzQnlOYW1lKG9wdGlvbnMuc2tpbGxOYW1lKVxuICAgICAgICBpZiAoc2tpbGxJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIG9wdGlvbnMuc2tpbGxJZCA9IHNraWxsSWRzWzBdLmlkXG4gICAgICAgICAgb3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTExcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBbJ2xjaycsICdzYW4nXS5pbmNsdWRlcyhvcHRpb25zLmF0dHJpYnV0ZSlcbiAgICAgICkge1xuICAgICAgICBvcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEVcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmNoYXJhY3RlcmlzdGljICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzW1xuICAgICAgICAgIG9wdGlvbnMuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICkge1xuICAgICAgICBvcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5ldmVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgIHR5cGVvZiBvcHRpb25zLmNhcmRUeXBlID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgdHlwZW9mIG9wdGlvbnMucm9sbFR5cGUgPT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yTm90Rm91bmQnLCB7XG4gICAgICAgICAgdmFsdWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Sb2xsJylcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAhW1xuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX0NPTUJJTkVELFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX0dST1VQLFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTCxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VELFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX1NBTl9DSEVDS1xuICAgICAgXS5pbmNsdWRlcyhvcHRpb25zLmNhcmRUeXBlKVxuICAgICkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JJbnZhbGlkQ2FyZFR5cGUnKVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmIChcbiAgICAgICFbXG4gICAgICAgIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEwsXG4gICAgICAgIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMsXG4gICAgICAgIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFLFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0VOQ09VTlRFUlxuICAgICAgXS5pbmNsdWRlcyhvcHRpb25zLnJvbGxUeXBlKVxuICAgICkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JJbnZhbGlkUm9sbFR5cGUnKVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY2FyZFR5cGU6IG9wdGlvbnMuY2FyZFR5cGUsXG4gICAgICAgIHNoaWZ0S2V5OiBvcHRpb25zLmZhc3RGb3J3YXJkID8/IG9wdGlvbnMuZXZlbnQ/LnNoaWZ0S2V5ID8/IG9wdGlvbnMuZmFzdEZvcndhcmQgPz8gZmFsc2UsXG4gICAgICAgIGFsdEtleTogb3B0aW9ucy5ldmVudD8uYWx0S2V5ID8/IGZhbHNlLFxuICAgICAgICBpc0N0cmxLZXk6IGlzQ3RybEtleShvcHRpb25zLmV2ZW50ID8/IGZhbHNlKSxcbiAgICAgICAgY3JlYXRlRW5jb3VudGVyOiBvcHRpb25zLmNyZWF0ZUVuY291bnRlciA/PyBmYWxzZSxcbiAgICAgICAgb3BlbkxpbmtUb29sOiBvcHRpb25zLm9wZW5MaW5rVG9vbCA/PyBmYWxzZSxcbiAgICAgICAgc2VuZFRvQ2hhdDogb3B0aW9ucy5zZW5kVG9DaGF0ID8/IGZhbHNlLFxuICAgICAgICBzZW5kVG9DbGlwYm9hcmQ6IG9wdGlvbnMuc2VuZFRvQ2xpcGJvYXJkID8/IGZhbHNlLFxuICAgICAgICBpc0NvbWJhdDpcbiAgICAgICAgICBvcHRpb25zLmV2ZW50Py5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdD8uY29udGFpbnMoJ2NvbWJhdCcpID8/IGZhbHNlLFxuICAgICAgICBwcmV2ZW50U3RhbmRieTogb3B0aW9ucy5wcmV2ZW50U3RhbmRieSA/PyBmYWxzZSxcbiAgICAgICAgYm9udXNEaWNlOiAwXG4gICAgICB9LFxuICAgICAgZGlhbG9nT3B0aW9uczoge1xuICAgICAgICByb2xsVHlwZTogb3B0aW9ucy5yb2xsVHlwZSxcbiAgICAgICAgY2FyZFR5cGU6IG9wdGlvbnMuY2FyZFR5cGUsXG4gICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgIGNoYXRNZXNzYWdlOiBvcHRpb25zLmNoYXRNZXNzYWdlID8/IHRydWUsXG4gICAgICAgIGZvcmNlZENhcmRUeXBlOiBvcHRpb25zLmZvcmNlZENhcmRUeXBlID8/IGZhbHNlLFxuICAgICAgICBoaWRlRGlmZmljdWx0eTogb3B0aW9ucy5oaWRlRGlmZmljdWx0eSA/PyBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlKSB7XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEw6XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUM6XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFOlxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0VOQ09VTlRFUjpcbiAgICAgICAgY29uZmlnLm9wdGlvbnMuc2tpbGxJZCA9XG4gICAgICAgICAgb3B0aW9ucy5za2lsbElkID8/XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpPy5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgY29uZmlnLm9wdGlvbnMuaXRlbUlkID1cbiAgICAgICAgICBvcHRpb25zLmV2ZW50Py5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJyk/LmRhdGFzZXQuaXRlbUlkXG4gICAgICAgIGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljID1cbiAgICAgICAgICBvcHRpb25zLmNoYXJhY3RlcmlzdGljID8/XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlID1cbiAgICAgICAgICBvcHRpb25zLmF0dHJpYnV0ZSA/P1xuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmF0dHJpYlxuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5hdHRyaWJ1dGUgPSBjb25maWcub3B0aW9ucy5hdHRyaWJ1dGVcbiAgICAgICAgY29uZmlnLm9wdGlvbnMuYWN0b3JJZCA9XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbG9zZXN0KCdmb3JtJykuZGF0YXNldC5hY3RvcklkID8/XG4gICAgICAgICAgb3B0aW9ucy5hY3Rvci5pZFxuICAgICAgICBjb25maWcub3B0aW9ucy50b2tlbktleSA9XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbG9zZXN0KCdmb3JtJykuZGF0YXNldC50b2tlbklkID8/XG4gICAgICAgICAgb3B0aW9ucy5hY3Rvci50b2tlbktleVxuICAgICAgICBjb25maWcub3B0aW9ucy53ZWFwb25BbHRTa2lsbCA9XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FsdGVybmF0aXYtc2tpbGwnKVxuICAgICAgICBjb25maWcub3B0aW9ucy5hY3RvciA9IG9wdGlvbnMuYWN0b3JcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMICYmXG4gICAgICAgICAgY29uZmlnLm9wdGlvbnMuaXNDb21iYXRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGNvbmZpZy5vcHRpb25zLmFjdG9yLml0ZW1zLmdldChjb25maWcub3B0aW9ucy5pdGVtSWQpXG4gICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgICAgIGNvbmZpZy5vcHRpb25zLndlYXBvbk5hbWUgPSBpdGVtLm5hbWVcbiAgICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DT01CQVRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBjb25maWcub3B0aW9ucy5hY3RvcklkID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICh0eXBlb2YgY29uZmlnLm9wdGlvbnMudG9rZW5LZXkgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICB0eXBlb2YgY29uZmlnLm9wdGlvbnMuYWN0b3IgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICApIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yQWN0b3InKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5vcHRpb25zLnNraWxsSWQgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9ySW52YWxpZEZvcm11bGEnLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuU2tpbGwnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09XG4gICAgICAgICAgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQ1xuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hhcmFjdGVyaXN0aWMnKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICFnYW1lLnVzZXIuaXNHTSAmJlxuICAgICAgICAgICAgIWNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3NbXG4gICAgICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljXG4gICAgICAgICAgICBdPy52YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgIWdhbWUudXNlci5pc0dNICYmXG4gICAgICAgICAgICAhY29uZmlnLm9wdGlvbnMuYWN0b3Iuc3lzdGVtLmF0dHJpYnNbY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlXVxuICAgICAgICAgICAgICA/LnZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ09NQkFUXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm9wdGlvbnMuaXRlbUlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuV2VhcG9uJylcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm9wdGlvbnMuYWx0S2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLm9wdGlvbnMuaGFzUGxheWVyT3duZXIgPVxuICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmFjdG9yLmhhc1BsYXllck93bmVyID8/IGZhbHNlXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT1cbiAgICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpc2FibGVGbGF0VGhyZXNob2xkTW9kaWZpZXIgPVxuICAgICAgICAgICAgY29uZmlnLm9wdGlvbnMuaXNDdHJsS2V5XG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlzYWJsZUZsYXREaWNlTW9kaWZpZXIgPVxuICAgICAgICAgICAgY29uZmlnLm9wdGlvbnMuaXNDdHJsS2V5XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlzYWJsZUZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGZhbHNlXG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlzYWJsZUZsYXREaWNlTW9kaWZpZXIgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyID0gMFxuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5kaWZmaWN1bHR5ID1cbiAgICAgICAgICBvcHRpb25zLmRpZmZpY3VsdHkgPz9cbiAgICAgICAgICBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsW1xuICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGVmYXVsdENoZWNrRGlmZmljdWx0eScpXG4gICAgICAgICAgXVxuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0RGljZU1vZGlmaWVyID0gMFxuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSAwXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHJldHVybiBjb25maWdcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0cmlnZ2VyIChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBjb25maWcgPSBDb0M3Q2hhdE1lc3NhZ2Uubm9ybWFsaXplUmVxdWVzdChvcHRpb25zKVxuICAgIGlmIChjb25maWcgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKFxuICAgICAgKGNvbmZpZy5vcHRpb25zLmlzQ3RybEtleSkgJiZcbiAgICAgIGdhbWUudXNlci5pc0dNICYmXG4gICAgICBbXG4gICAgICAgIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX1NBTl9DSEVDS1xuICAgICAgXS5pbmNsdWRlcyhjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZSlcbiAgICApIHtcbiAgICAgIENvQzdDaGF0TWVzc2FnZS5jcmVhdGVMaW5rKGNvbmZpZylcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgKGNvbmZpZy5vcHRpb25zLnNlbmRUb0NoYXQgfHwgY29uZmlnLm9wdGlvbnMuc2VuZFRvQ2xpcGJvYXJkIHx8IGNvbmZpZy5vcHRpb25zLm9wZW5MaW5rVG9vbCB8fCBjb25maWcub3B0aW9ucy5jcmVhdGVFbmNvdW50ZXIpICYmXG4gICAgICBnYW1lLnVzZXIuaXNHTSAmJlxuICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT05FID09PSBjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZVxuICAgICkge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLmNyZWF0ZUxpbmsoY29uZmlnKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLmFjdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBib251c0RpY2UgPSBjb25maWcub3B0aW9ucy5hY3Rvci5zeXN0ZW0/LmF0dHJpYnM/Lltjb25maWcub3B0aW9ucy5hdHRyaWJ1dGVdPy5ib251c0RpY2VcbiAgICAgICAgICBpZiAoYm9udXNEaWNlKSB7XG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciA9IGJvbnVzRGljZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLm9wdGlvbnMuY2hhcmFjdGVyaXN0aWMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgYm9udXNEaWNlID0gY29uZmlnLm9wdGlvbnMuYWN0b3Iuc3lzdGVtPy5jaGFyYWN0ZXJpc3RpY3M/Lltjb25maWcub3B0aW9ucy5jaGFyYWN0ZXJpc3RpY10/LmJvbnVzRGljZVxuICAgICAgICAgIGlmIChib251c0RpY2UpIHtcbiAgICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyID0gYm9udXNEaWNlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcub3B0aW9ucy5pdGVtSWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgaXRlbU1vZGlmaWVycyA9IE9iamVjdC52YWx1ZXMoY29uZmlnLm9wdGlvbnMuYWN0b3Iuc3lzdGVtLnNraWxscykuZmluZChrID0+IGsuZm91bmRyeUlEID09PSBjb25maWcub3B0aW9ucy5pdGVtSWQpXG4gICAgICAgICAgaWYgKHR5cGVvZiBpdGVtTW9kaWZpZXJzLmJvbnVzRGljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyID0gaXRlbU1vZGlmaWVycy5ib251c0RpY2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMubW9kaWZpZXIgPSBNYXRoLm1pbihNYXRoLm1heChjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciwgLTIpLCAyKVxuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcub3B0aW9ucy5zaGlmdEtleSkge1xuICAgICAgICBhd2FpdCBDb0M3Q2hhdE1lc3NhZ2UuY3JlYXRlUm9sbChjb25maWcpXG4gICAgICB9XG4gICAgICByZXR1cm4gQ29DN0NoYXRNZXNzYWdlLnJ1blJvbGwoY29uZmlnKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMaW5rIChjb25maWcpIHtcbiAgICBzd2l0Y2ggKGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlKSB7XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFOlxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDOlxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NPTUJBVDpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTDpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9FTkNPVU5URVI6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBsaW5rRGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdDb0M3TGluaydcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMKSB7XG4gICAgICAgICAgICBsaW5rRGF0YS5jaGVjayA9IENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0tcbiAgICAgICAgICAgIGxpbmtEYXRhLmxpbmtUeXBlID0gQ29DN0xpbmsuTElOS19UWVBFLlNLSUxMXG4gICAgICAgICAgICBsaW5rRGF0YS5uYW1lID0gY29uZmlnLm9wdGlvbnMuYWN0b3IuaXRlbXMuZ2V0KGNvbmZpZy5vcHRpb25zLnNraWxsSWQpPy5zaG9ydE5hbWVcbiAgICAgICAgICAgIGlmICghbGlua0RhdGEubmFtZSkgcmV0dXJuXG4gICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQykge1xuICAgICAgICAgICAgbGlua0RhdGEuY2hlY2sgPSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLXG4gICAgICAgICAgICBsaW5rRGF0YS5saW5rVHlwZSA9IENvQzdMaW5rLkxJTktfVFlQRS5DSEFSQUNURVJJU1RJQ1xuICAgICAgICAgICAgbGlua0RhdGEubmFtZSA9IGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljXG4gICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgIGlmICgoY29uZmlnLm9wdGlvbnMuYWx0S2V5IHx8IGNvbmZpZy5vcHRpb25zLmNyZWF0ZUVuY291bnRlcikgJiYgY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlID09PSAnc2FuJykge1xuICAgICAgICAgICAgICBsaW5rRGF0YS5jaGVjayA9IENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TU1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGlua0RhdGEuY2hlY2sgPSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLXG4gICAgICAgICAgICAgIGxpbmtEYXRhLmxpbmtUeXBlID0gQ29DN0xpbmsuTElOS19UWVBFLkFUVFJJQlVURVxuICAgICAgICAgICAgICBsaW5rRGF0YS5uYW1lID0gY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DT01CQVQpIHtcbiAgICAgICAgICAgIGxpbmtEYXRhLmNoZWNrID0gQ29DN0xpbmsuQ0hFQ0tfVFlQRS5JVEVNXG4gICAgICAgICAgICBsaW5rRGF0YS5uYW1lID0gY29uZmlnLm9wdGlvbnMud2VhcG9uTmFtZVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfRU5DT1VOVEVSKSB7XG4gICAgICAgICAgICBsaW5rRGF0YS5jaGVjayA9IENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TU1xuICAgICAgICAgICAgbGlua0RhdGEuc2FuTWluID0gY29uZmlnLm9wdGlvbnMuYWN0b3I/LnN5c3RlbT8uc3BlY2lhbD8uc2FuTG9zcz8uY2hlY2tQYXNzZWRcbiAgICAgICAgICAgIGxpbmtEYXRhLnNhbk1heCA9IGNvbmZpZy5vcHRpb25zLmFjdG9yPy5zeXN0ZW0/LnNwZWNpYWw/LnNhbkxvc3M/LmNoZWNrRmFpbGxlZFxuICAgICAgICAgICAgbGlua0RhdGEuc2FuUmVhc29uID0gY29uZmlnLm9wdGlvbnMuYWN0b3Iuc3lzdGVtLmluZm9zLnR5cGU/Lmxlbmd0aFxuICAgICAgICAgICAgICA/IGNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbS5pbmZvcy50eXBlXG4gICAgICAgICAgICAgIDogY29uZmlnLm9wdGlvbnMuYWN0b3IubmFtZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykgPT09ICdibGluZHJvbGwnKSB7XG4gICAgICAgICAgICBsaW5rRGF0YS5ibGluZCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbmZpZy5vcHRpb25zLnNlbmRUb0NoYXQpIHtcbiAgICAgICAgICAgIENvQzdMaW5rLnRvQ2hhdE1lc3NhZ2UobGlua0RhdGEpXG4gICAgICAgICAgfSBlbHNlIGlmIChjb25maWcub3B0aW9ucy5zZW5kVG9DbGlwYm9hcmQpIHtcbiAgICAgICAgICAgIENvQzdMaW5rLmZyb21Ecm9wRGF0YShsaW5rRGF0YSkudGhlbihsaW5rID0+IHtcbiAgICAgICAgICAgICAgQ29DN1V0aWxpdGllcy5jb3B5VG9DbGlwYm9hcmQobGluay5saW5rKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQ29DN0NvbnRlbnRMaW5rRGlhbG9nLmNyZWF0ZShsaW5rRGF0YSwgeyBhY3RvcnM6IFtjb25maWcub3B0aW9ucy5hY3Rvcl0uZmlsdGVyKGEgPT4gYS5vd25lcnMubGVuZ3RoKSwgaGFzTW9kaWZpZXJzOiBjb25maWcub3B0aW9ucy5zaGlmdEtleSB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVSb2xsIChjb25maWcpIHtcbiAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKGNvbmZpZy5kaWFsb2dPcHRpb25zKVxuICAgIGlmICh1c2FnZSkge1xuICAgICAgY29uc3QgY2FyZFR5cGUgPSB1c2FnZS5nZXQoJ2NhcmRUeXBlJylcbiAgICAgIGlmIChjYXJkVHlwZSkge1xuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZSA9IGNhcmRUeXBlXG4gICAgICB9XG4gICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmZsYXREaWNlTW9kaWZpZXIgPSBOdW1iZXIoXG4gICAgICAgIHVzYWdlLmdldCgnZmxhdERpY2VNb2RpZmllcicpXG4gICAgICApXG4gICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIoXG4gICAgICAgIHVzYWdlLmdldCgnZmxhdFRocmVzaG9sZE1vZGlmaWVyJylcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcnVuUm9sbCAoY29uZmlnKSB7XG4gICAgc3dpdGNoIChjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZSkge1xuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX1NBTl9DSEVDSzpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IHNhbkRhdGEgPSBhd2FpdCBTYW5EYXRhRGlhbG9nLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm9tcHRMYWJlbDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgaWYgKHNhbkRhdGEpIHtcbiAgICAgICAgICAgIGxldCBzYW5NaW4gPSBzYW5EYXRhLmdldCgnc2FuTWluJykgfHwgMFxuICAgICAgICAgICAgbGV0IHNhbk1heCA9IHNhbkRhdGEuZ2V0KCdzYW5NYXgnKSB8fCAwXG4gICAgICAgICAgICBjb25zdCBzYW5SZWFzb24gPSBzYW5EYXRhLmdldCgnc2FuUmVhc29uJylcblxuICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIoc2FuTWluKSkpIHNhbk1pbiA9IE51bWJlcihzYW5NaW4pXG4gICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcihzYW5NYXgpKSkgc2FuTWF4ID0gTnVtYmVyKHNhbk1heClcblxuICAgICAgICAgICAgU2FuQ2hlY2tDYXJkLmNyZWF0ZShcbiAgICAgICAgICAgICAgY29uZmlnLm9wdGlvbnMuYWN0b3IuYWN0b3JLZXksXG4gICAgICAgICAgICAgIHsgc2FuTWluLCBzYW5NYXgsIHNhblJlYXNvbiB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2FuTW9kaWZpZXI6IGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyLFxuICAgICAgICAgICAgICAgIHNhbkRpZmZpY3VsdHk6IGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpZmZpY3VsdHksXG4gICAgICAgICAgICAgICAgZmFzdEZvcndhcmQ6IGNvbmZpZy5vcHRpb25zLnNoaWZ0S2V5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUw6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gY29uZmlnLmRpYWxvZ09wdGlvbnMubW9kaWZpZXJcbiAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpZmZpY3VsdHlcbiAgICAgICAgY2hlY2suYWN0b3IgPSAhY29uZmlnLm9wdGlvbnMudG9rZW5LZXlcbiAgICAgICAgICA/IGNvbmZpZy5vcHRpb25zLmFjdG9ySWRcbiAgICAgICAgICA6IGNvbmZpZy5vcHRpb25zLnRva2VuS2V5XG4gICAgICAgIGNoZWNrLmZsYXREaWNlTW9kaWZpZXIgPSBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0RGljZU1vZGlmaWVyXG4gICAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGNvbmZpZy5kaWFsb2dPcHRpb25zLmZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgICBjaGVjay5zdGFuZGJ5ID1cbiAgICAgICAgICAhY29uZmlnLm9wdGlvbnMucHJldmVudFN0YW5kYnkgJiZcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzdGFuYnlHTVJvbGxzJykgJiZcbiAgICAgICAgICBnYW1lLnVzZXIuaXNHTSAmJlxuICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmhhc1BsYXllck93bmVyXG4gICAgICAgIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCkge1xuICAgICAgICAgIGNoZWNrLnNraWxsID0gY29uZmlnLm9wdGlvbnMuc2tpbGxJZFxuICAgICAgICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURVxuICAgICAgICApIHtcbiAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsQXR0cmlidXRlKGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsQ2hhcmFjdGVyaXN0aWMoY29uZmlnLm9wdGlvbnMuY2hhcmFjdGVyaXN0aWMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5kaWFsb2dPcHRpb25zLmNoYXRNZXNzYWdlKSB7XG4gICAgICAgICAgY2hlY2sudG9NZXNzYWdlKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogY2hlY2subW9kaWZpZWRSZXN1bHQsXG4gICAgICAgICAgc3VjY2Vzc0xldmVsOiBjaGVjay5yb2xsZWRTdWNjZXNzTGV2ZWwsXG4gICAgICAgICAgaXNGdW1ibGU6IGNoZWNrLmlzRnVtYmxlLFxuICAgICAgICAgIGlzQ3JpdGljYWw6IGNoZWNrLmlzQ3JpdGljYWwsXG4gICAgICAgICAgc3VjY2Vzc0xldmVsczoge1xuICAgICAgICAgICAgMTogY2hlY2sucmVndWxhclRocmVzaG9sZCxcbiAgICAgICAgICAgIDI6IGNoZWNrLmhhcmRUaHJlc2hvbGQsXG4gICAgICAgICAgICAzOiBjaGVjay5leHRyZW1lVGhyZXNob2xkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXNzZWQ6IGNoZWNrLnBhc3NlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfT1BQT1NFRDpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9DT01CSU5FRDpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgICAgY2hlY2suYWN0b3IgPSAhY29uZmlnLm9wdGlvbnMudG9rZW5LZXlcbiAgICAgICAgICAgID8gY29uZmlnLm9wdGlvbnMuYWN0b3JJZFxuICAgICAgICAgICAgOiBjb25maWcub3B0aW9ucy50b2tlbktleVxuICAgICAgICAgIGNoZWNrLmNoYXJhY3RlcmlzdGljID0gY29uZmlnLm9wdGlvbnMuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgICBjaGVjay5hdHRyaWJ1dGUgPSBjb25maWcub3B0aW9ucy5hdHRyaWJ1dGVcbiAgICAgICAgICBjaGVjay5za2lsbElkID0gY29uZmlnLm9wdGlvbnMuc2tpbGxJZFxuICAgICAgICAgIGNoZWNrLnJvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgICAgICAgIGNoZWNrLmluaXRpYXRvciA9IGdhbWUudXNlci5pZFxuICAgICAgICAgIGxldCBkYXRhID0ge31cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VEXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICB0eXBlOiBPcHBvc2VkQ2hlY2tDYXJkLmRlZmF1bHRDb25maWcudHlwZSxcbiAgICAgICAgICAgICAgY29tYmF0OiBjb25maWcub3B0aW9ucy5pc0NvbWJhdCxcbiAgICAgICAgICAgICAgYWN0aW9uOiAnbmV3J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2suaXRlbSA9IGNvbmZpZy5vcHRpb25zLml0ZW1JZFxuICAgICAgICAgICAgY2hlY2sud2VhcG9uQWx0U2tpbGwgPSBjb25maWcub3B0aW9ucy53ZWFwb25BbHRTa2lsbFxuICAgICAgICAgICAgY2hlY2suZGVueVB1c2ggPSB0cnVlIC8vIE9wcG9zZWQgcm9sbGVkIGNhbid0IGJlIHB1c2hlZC5cbiAgICAgICAgICAgIGF3YWl0IGNoZWNrLl9wZXJmb3JtKClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogQ29tYmluZWRDaGVja0NhcmQuZGVmYXVsdENvbmZpZy50eXBlLFxuICAgICAgICAgICAgICBhY3Rpb246ICduZXcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVjay5kaWZmaWN1bHR5ID0gY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlmZmljdWx0eVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhLnJvbGwgPSBjaGVjay5KU09OUm9sbERhdGFcbiAgICAgICAgICBkYXRhLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5jYXJkVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VEXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBPcHBvc2VkQ2hlY2tDYXJkLmRpc3BhdGNoKGRhdGEpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENvbWJpbmVkQ2hlY2tDYXJkLmRpc3BhdGNoKGRhdGEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ2hhdE1lc3NhZ2UsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgY2hhdEhlbHBlciwgQ29DN1JvbGwgfSBmcm9tICcuL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDb25DaGVjayB7XG4gIGNvbnN0cnVjdG9yIChhY3RvcklkID0gbnVsbCwgZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhcikge1xuICAgIHRoaXMuY2hlY2sgPSBuZXcgQ29DN0NoZWNrKGFjdG9ySWQpXG4gICAgdGhpcy5jaGVjay5jaGFyYWN0ZXJpc3RpYyA9ICdjb24nXG4gICAgdGhpcy5jaGVjay5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgIHRoaXMuY2hlY2suZGVueVB1c2ggPSB0cnVlXG4gICAgdGhpcy5hY3RvcklkID0gYWN0b3JJZFxuICB9XG5cbiAgZ2V0IGlzQmxpbmQgKCkge1xuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX2lzQmxpbmQpIHtcbiAgICAgIHRoaXMuX2lzQmxpbmQgPSB0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJ1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXNCbGluZFxuICB9XG5cbiAgc2V0IGlzQmxpbmQgKHgpIHtcbiAgICB0aGlzLl9pc0JsaW5kID0geFxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIGlmICh4ID09PSBmYWxzZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIGlmICh0aGlzLmFjdG9ySWQpIHJldHVybiBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmFjdG9ySWQpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBzZXQgYWN0b3JJZCAoeCkge1xuICAgIHRoaXMuX2FjdG9ySWQgPSB4XG4gICAgdGhpcy5jaGVjay5hY3RvciA9IHhcbiAgfVxuXG4gIGdldCBhY3RvcklkICgpIHtcbiAgICBpZiAodGhpcy5fYWN0b3JJZCkgcmV0dXJuIHRoaXMuX2FjdG9ySWRcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHRva2VuS2V5ICgpIHtcbiAgICBpZiAodGhpcy5hY3Rvci5pc1Rva2VuKSByZXR1cm4gdGhpcy5hY3Rvci50b2tlbktleVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgaXNTdWNjZXNzICgpIHtcbiAgICBpZiAodGhpcy5jaGVjaykgcmV0dXJuIHRoaXMuY2hlY2suaXNTdWNjZXNzXG4gICAgZWxzZSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBpc1JvbGxlZCAoKSB7XG4gICAgaWYgKHRoaXMuY2hlY2sgJiYgdGhpcy5jaGVjay5kaWNlcyAmJiB0aGlzLmNoZWNrLmRpY2VzLnRvdGFsKSByZXR1cm4gdHJ1ZVxuICAgIGVsc2UgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQpIHtcbiAgICBjb25zdCBjb25DaGVjayA9IG5ldyBDb0M3Q29uQ2hlY2soKVxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQoY29uQ2hlY2ssIGNhcmQpXG4gICAgY29uc3QgaHRtbENoZWNrID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKVxuICAgIENvQzdSb2xsLmdldEZyb21FbGVtZW50KGh0bWxDaGVjaywgY29uQ2hlY2suY2hlY2spXG4gICAgY29uQ2hlY2subWVzc2FnZUlkID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgcmV0dXJuIGNvbkNoZWNrXG4gIH1cblxuICBhc3luYyBnZXRDaGVja0VsZW1lbnQgKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9yb2xsLXJlc3VsdC5odG1sJ1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcy5jaGVjaylcbiAgICBjb25zdCBodG1sRWxlbWVudCA9ICQucGFyc2VIVE1MKGh0bWwpWzBdXG4gICAgaWYgKGh0bWxFbGVtZW50KSB7XG4gICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0LWNhcmQnLCAnaXRlbS1jYXJkJywgJ3JvbGwtY2FyZCcpXG4gICAgICByZXR1cm4gaHRtbEVsZW1lbnRcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIHRvTWVzc2FnZSAoZmFzdEZvcndhcmQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jb24tY2hlY2suaHRtbCdcblxuICAgIGlmIChmYXN0Rm9yd2FyZCkge1xuICAgICAgYXdhaXQgdGhpcy5yb2xsQ29uKClcbiAgICB9XG5cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuXG4gICAgaWYgKGZhc3RGb3J3YXJkKSB7XG4gICAgICBjb25zdCBjaGVjayA9IGh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb2xsLXJlc3VsdCcpXG4gICAgICBjaGVjay5yZXBsYWNlV2l0aChhd2FpdCB0aGlzLmdldENoZWNrRWxlbWVudCgpKVxuICAgIH1cblxuICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICBsZXQgc3BlYWtlclxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBpZiAodGhpcy50b2tlbikgc3BlYWtlckRhdGEudG9rZW4gPSB0aGlzLnRva2VuXG4gICAgICBlbHNlIHNwZWFrZXJEYXRhLmFjdG9yID0gdGhpcy5hY3RvclxuICAgICAgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gdGhpcy5hY3Rvci51c2VyID8gdGhpcy5hY3Rvci51c2VyIDogZ2FtZS51c2VyXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgZmxhdm9yOiB0aGlzLmZsYXZvcixcbiAgICAgIGNvbnRlbnQ6IGh0bWxFbGVtZW50Lm91dGVySFRNTFxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykpXG4gICAgKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJykgLy8gQ2hhbmdlIGZvciB1c2VyXG4gICAgfVxuICAgIGlmICh0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJykgY2hhdERhdGEuYmxpbmQgPSB0cnVlXG5cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpLnRoZW4obXNnID0+IHtcbiAgICAgIHJldHVybiBtc2dcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgcm9sbENvbiAoKSB7XG4gICAgdGhpcy5jaGVjay5oaWRlRGljZVJlc3VsdCA9IHRydWVcbiAgICBhd2FpdCB0aGlzLmNoZWNrLl9wZXJmb3JtKClcbiAgICBpZiAoIXRoaXMuaXNCbGluZCAmJiAhdGhpcy5pc1JvbGxlZCAmJiAhdGhpcy5pc1N1Y2Nlc3MpIHtcbiAgICAgIGlmICh0aGlzLnN0YXlBbGl2ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5kZWFkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYXBwbGllZCA9IHRydWVcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY29uLWNoZWNrLmh0bWwnXG5cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuXG4gICAgY29uc3QgY2hlY2sgPSBodG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKVxuICAgIGNoZWNrLnJlcGxhY2VXaXRoKGF3YWl0IHRoaXMuZ2V0Q2hlY2tFbGVtZW50KCkpXG5cbiAgICBpZiAoIXRoaXMuaXNCbGluZCAmJiB0aGlzLmlzUm9sbGVkICYmICF0aGlzLmlzU3VjY2Vzcykge1xuICAgICAgaWYgKHRoaXMuc3RheUFsaXZlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmRlYWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy51bmNvbnNjaW91cylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubWVzc2FnZUlkKSByZXR1cm5cbiAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KHRoaXMubWVzc2FnZUlkKVxuXG4gICAgY29uc3QgbXNnID0gYXdhaXQgY2hhdE1lc3NhZ2UudXBkYXRlKHsgY29udGVudDogaHRtbEVsZW1lbnQub3V0ZXJIVE1MIH0pXG4gICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgcmV0dXJuIG1zZ1xuICB9XG59XG4iLCIvKiBnbG9iYWwgRGlhbG9nLCByZW5kZXJUZW1wbGF0ZSAqL1xuZXhwb3J0IGNsYXNzIFNraWxsU2VsZWN0RGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5zZWxlY3Qtc2tpbGwnKVxuICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHRoaXMuX29uU2VsZWN0U2tpbGxDbGlja2VkKGV2ZW50KSlcbiAgfVxuXG4gIGFzeW5jIF9vblNlbGVjdFNraWxsQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIC8vIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KCB0aGlzLmRhdGEuZGF0YS5hY3RvcklkKTtcbiAgICAvLyBhd2FpdCBhY3Rvci5hZGRTa2lsbCggdGhpcy5kYXRhLmRhdGEuc2tpbGxzW051bWJlcihsaS5kYXRhc2V0LmluZGV4KV0sIHRoaXMuZGF0YS5kYXRhLnR5cGUpO1xuICAgIHRoaXMuZGF0YS5kYXRhLnNraWxsc1tOdW1iZXIobGkuZGF0YXNldC5pbmRleCldLnNlbGVjdGVkID0gdHJ1ZVxuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIGlmICghdGhpcy5kYXRhLmRhdGEuYWRkZWQpIHRoaXMuZGF0YS5kYXRhLmFkZGVkID0gMFxuICAgIHRoaXMuZGF0YS5kYXRhLmFkZGVkKytcbiAgICBjb25zdCBmb3JtID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc2tpbGwtc2VsZWN0b3InKVxuICAgIGNvbnN0IGRpdkNvdW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuY291bnQnKVxuICAgIGRpdkNvdW50LmlubmVyVGV4dCA9IHRoaXMuZGF0YS5kYXRhLmFkZGVkXG4gICAgaWYgKHRoaXMuZGF0YS5kYXRhLmFkZGVkID49IHRoaXMuZGF0YS5kYXRhLm9wdGlvbnNDb3VudCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoZGF0YSkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2tpbGwtc2VsZWN0Lmh0bWwnLFxuICAgICAgZGF0YVxuICAgICkgLy8gUmVuZGVyIHRlbXBsYXRlIGJ1ZyBhdmVjIGNlcnRhaW5lcyBkYXRhXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgZGxnID0gbmV3IFNraWxsU2VsZWN0RGlhbG9nKFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGJ1dHRvbnM6IHt9LFxuICAgICAgICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuYWRkZWQgPj0gZGF0YS5vcHRpb25zQ291bnQpIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBkYXRhLnNraWxscy5maWx0ZXIoc2tpbGwgPT4gc2tpbGwuc2VsZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShzZWxlY3RlZClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdza2lsbC1zZWxlY3QnXSB9XG4gICAgICApXG4gICAgICBkbGcucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIERpYWxvZywgcmVuZGVyVGVtcGxhdGUgKi9cblxuZXhwb3J0IGNsYXNzIFBvaW50U2VsZWN0RGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5pdGVtLW5hbWUnKVxuICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHRoaXMuX29uU2VsZWN0Q2hhcmFjdGVyaXN0aWMoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnYnV0dG9uJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25CdXR0b25DbGlja2VkKGV2ZW50KSlcbiAgfVxuXG4gIGFzeW5jIF9vblNlbGVjdENoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IGxpID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgaXRlbUxpc3QgPSBsaS5jbG9zZXN0KCcuaXRlbS1saXN0JylcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbUxpc3QucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGFibGUnKSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpXG4gICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3NbaXRlbS5kYXRhc2V0LmtleV0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzW2l0ZW0uZGF0YXNldC5rZXldLm9wdGlvbmFsID0gZmFsc2VcbiAgICB9XG4gICAgJChsaSkudG9nZ2xlQ2xhc3MoJ3NlbGVjdGVkJylcbiAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3NbbGkuZGF0YXNldC5rZXldLnNlbGVjdGVkID0gdHJ1ZVxuICAgIGNvbnN0IHRvdGFsUG9pbnRzID0gbGlcbiAgICAgIC5jbG9zZXN0KCcjc2tpbGwtc2VsZWN0aW9uLWZvcm0nKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5wb2ludHMnKVxuICAgIHRvdGFsUG9pbnRzLmlubmVyVGV4dCA9XG4gICAgICB0aGlzLmRhdGEuZGF0YS50b3RhbCArXG4gICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3NbbGkuZGF0YXNldC5rZXldLm11bHRpcGxpZXIgKlxuICAgICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3NbbGkuZGF0YXNldC5rZXldLnZhbHVlXG4gICAgY29uc3QgYnV0dG9uID0gbGlcbiAgICAgIC5jbG9zZXN0KCcjc2tpbGwtc2VsZWN0aW9uLWZvcm0nKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi52YWxpZGF0ZScpXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJylcbiAgICB0aGlzLmRhdGEuZGF0YS5yZXNvbHZlZCA9IHRydWVcbiAgICAvLyBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmdldCggdGhpcy5kYXRhLmRhdGEuYWN0b3JJZCk7XG4gICAgLy8gYXdhaXQgYWN0b3IuYWRkU2tpbGwoIHRoaXMuZGF0YS5kYXRhLnNraWxsc1tOdW1iZXIobGkuZGF0YXNldC5pbmRleCldLCB0aGlzLmRhdGEuZGF0YS50eXBlKTtcbiAgICAvLyBldmVudC5jdXJyZW50VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gaWYoICF0aGlzLmRhdGEuZGF0YS5hZGRlZCkgdGhpcy5kYXRhLmRhdGEuYWRkZWQgPSAwO1xuICAgIC8vIHRoaXMuZGF0YS5kYXRhLmFkZGVkKys7XG4gICAgLy8gY29uc3QgZm9ybSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnBvaW50LXNlbGVjdG9yJyk7XG4gICAgLy8gY29uc3QgZGl2Q291bnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jb3VudCcpO1xuICAgIC8vIGRpdkNvdW50LmlubmVyVGV4dCA9IHRoaXMuZGF0YS5kYXRhLmFkZGVkO1xuICAgIC8vIGlmKCB0aGlzLmRhdGEuZGF0YS5hZGRlZCA+PSB0aGlzLmRhdGEuZGF0YS5vcHRpb25zKSB0aGlzLmNsb3NlKCk7XG4gICAgLy8gcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgYXN5bmMgX29uQnV0dG9uQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmFjdGl2ZScpKSByZXR1cm5cbiAgICBzdXBlci5jbG9zZSgpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChkYXRhKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9wb2ludC1zZWxlY3QuaHRtbCcsXG4gICAgICBkYXRhXG4gICAgKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBQb2ludFNlbGVjdERpYWxvZyhcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEucmVzb2x2ZWQpIHJldHVybiByZXNvbHZlKGRhdGEpXG4gICAgICAgICAgICBlbHNlIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NoYXItc2VsZWN0J10gfVxuICAgICAgKVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIHJlbmRlclRlbXBsYXRlICovXG5leHBvcnQgY2xhc3MgQ2hhcmFjU2VsZWN0RGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5pdGVtLW5hbWUnKVxuICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHRoaXMuX29uU2VsZWN0Q2hhcmFjdGVyaXN0aWMoZXZlbnQpKVxuICB9XG5cbiAgYXN5bmMgX29uU2VsZWN0Q2hhcmFjdGVyaXN0aWMgKGV2ZW50KSB7XG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICB0aGlzLmRhdGEuZGF0YS5zZWxlY3RlZCA9IGxpLmRhdGFzZXQua2V5XG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChkYXRhKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9jaGFyLXNlbGVjdC5odG1sJyxcbiAgICAgIGRhdGFcbiAgICApXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgZGxnID0gbmV3IENoYXJhY1NlbGVjdERpYWxvZyhcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEuc2VsZWN0ZWQpIHJldHVybiByZXNvbHZlKGRhdGEuc2VsZWN0ZWQpXG4gICAgICAgICAgICBlbHNlIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NoYXItc2VsZWN0J10gfVxuICAgICAgKVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIGdhbWUsIHJlbmRlclRlbXBsYXRlLCBSb2xsICovXG5leHBvcnQgY2xhc3MgQ2hhcmFjUm9sbERpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoZGF0YSwgb3B0aW9ucylcblxuICAgIHRoaXMucm9sbGVkID0gZGF0YS5yb2xsZWQgfHwge31cbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLm9uKCdjaGFuZ2UnLCAnaW5wdXQnLCB0aGlzLl9vbkNoYW5nZUlucHV0LmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignc3VibWl0JywgJ2Zvcm0nLCB0aGlzLl9vblN1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5yb2xsLWNoYXJhY3RlcmlzdGljJyxcbiAgICAgIHRoaXMuX29uUm9sbENoYXJhY3RlcmlzdGljLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLmluY3JlYXNlLWNoYXJhY3RlcmlzdGljJyxcbiAgICAgIHRoaXMuX29uSW5jcmVhc2VDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpXG4gICAgKVxuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5kZWNyZWFzZS1jaGFyYWN0ZXJpc3RpYycsXG4gICAgICB0aGlzLl9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMuYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucmVzZXQtY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgdGhpcy5fb25SZXNldENoYXJhY3RlcmlzdGljLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbignY2xpY2snLCAnYnV0dG9uJywgdGhpcy5fb25CdXR0b24uYmluZCh0aGlzKSlcbiAgfVxuXG4gIGFzeW5jIF9vblJvbGxDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBjaGFyYWNLZXkgPSBsaS5kYXRhc2V0LmtleVxuICAgIGF3YWl0IHRoaXMucm9sbENoYXJhY3RlcmlzdGljKGNoYXJhY0tleSlcbiAgfVxuXG4gIGFzeW5jIF9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGxpID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgY2hhcmFjS2V5ID0gbGkuZGF0YXNldC5rZXlcbiAgICB0aGlzLmluY3JlYXNlQ2hhcmFjdGVyaXN0aWMoY2hhcmFjS2V5KVxuICB9XG5cbiAgYXN5bmMgX29uRGVjcmVhc2VDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBjaGFyYWNLZXkgPSBsaS5kYXRhc2V0LmtleVxuICAgIHRoaXMuZGVjcmVhc2VDaGFyYWN0ZXJpc3RpYyhjaGFyYWNLZXkpXG4gIH1cblxuICBhc3luYyBfb25SZXNldENoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGNoYXJhY0tleSA9IGxpLmRhdGFzZXQua2V5XG4gICAgdGhpcy5yZXNldENoYXJhY3RlcmlzdGljKGNoYXJhY0tleSlcbiAgfVxuXG4gIGFzeW5jIF9vbkJ1dHRvbiAoZXZlbnQpIHtcbiAgICBjb25zdCBhY3Rpb24gPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3JvbGwnKSB7XG4gICAgICBmb3IgKGNvbnN0IGNoYXIgb2YgW1xuICAgICAgICAnc3RyJyxcbiAgICAgICAgJ2NvbicsXG4gICAgICAgICdzaXonLFxuICAgICAgICAnZGV4JyxcbiAgICAgICAgJ2FwcCcsXG4gICAgICAgICdpbnQnLFxuICAgICAgICAncG93JyxcbiAgICAgICAgJ2VkdScsXG4gICAgICAgICdsdWNrJ1xuICAgICAgXSkge1xuICAgICAgICBhd2FpdCB0aGlzLnJvbGxDaGFyYWN0ZXJpc3RpYyhjaGFyKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICAgIGlmIChhY3Rpb24gPT09ICd2YWxpZGF0ZScgJiYgdGhpcy5kYXRhLmRhdGEudmFsaWRhdGUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJvbGxDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoYGxpLml0ZW1bZGF0YS1rZXk9JHtrZXl9XWApXG4gICAgY29uc3QgaW5wdXQgPSBsaT8ucXVlcnlTZWxlY3RvcignaW5wdXQnKVxuICAgIGNvbnN0IGZvcm11bGEgPSB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHNba2V5XVxuICAgIGlmIChpbnB1dCAmJiBmb3JtdWxhKSB7XG4gICAgICBpZiAoaXNOYU4oTnVtYmVyKGZvcm11bGEpKSkge1xuICAgICAgICBjb25zdCByb2xsID0gbmV3IFJvbGwoZm9ybXVsYSlcbiAgICAgICAgYXdhaXQgcm9sbC5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgIHJvbGwudG9NZXNzYWdlKHtcbiAgICAgICAgICBmbGF2b3I6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWVzc2FnZVJvbGxpbmdDaGFyYWN0ZXJpc3RpYycsIHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MubGlzdFtrZXldLmxhYmVsLFxuICAgICAgICAgICAgZm9ybXVsYVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGlucHV0LnZhbHVlID0gcm9sbC50b3RhbFxuICAgICAgfSBlbHNlIGlucHV0LnZhbHVlID0gTnVtYmVyKGZvcm11bGEpXG4gICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzW2tleV0gPSBOdW1iZXIoaW5wdXQudmFsdWUpXG4gICAgICBpZiAoIXRoaXMucm9sbGVkKSB0aGlzLnJvbGxlZCA9IHt9XG4gICAgICB0aGlzLnJvbGxlZFtrZXldID0gdHJ1ZVxuICAgIH1cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICB9XG5cbiAgYXN5bmMgaW5jcmVhc2VDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoYGxpLml0ZW1bZGF0YS1rZXk9JHtrZXl9XWApXG4gICAgY29uc3QgaW5wdXQgPSBsaT8ucXVlcnlTZWxlY3RvcignaW5wdXQnKVxuICAgIGlmIChpbnB1dCkge1xuICAgICAgaW5wdXQudmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpICsgMVxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlc1trZXldID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgIH1cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICB9XG5cbiAgYXN5bmMgZGVjcmVhc2VDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoYGxpLml0ZW1bZGF0YS1rZXk9JHtrZXl9XWApXG4gICAgY29uc3QgaW5wdXQgPSBsaT8ucXVlcnlTZWxlY3RvcignaW5wdXQnKVxuICAgIGlmIChpbnB1dCAmJiBOdW1iZXIoaW5wdXQudmFsdWUpID4gMCkge1xuICAgICAgaW5wdXQudmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpIC0gMVxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlc1trZXldID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgIH1cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICB9XG5cbiAgYXN5bmMgcmVzZXRDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoYGxpLml0ZW1bZGF0YS1rZXk9JHtrZXl9XWApXG4gICAgY29uc3QgaW5wdXQgPSBsaT8ucXVlcnlTZWxlY3RvcignaW5wdXQnKVxuICAgIGlmIChpbnB1dCkge1xuICAgICAgaW5wdXQudmFsdWUgPSBudWxsXG4gICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzW2tleV0gPSAwXG4gICAgfVxuICAgIHRoaXMuY2hlY2tUb3RhbCgpXG4gIH1cblxuICBhc3luYyBfb25DaGFuZ2VJbnB1dCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaW5wdXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgdmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpXG4gICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgIHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNbaW5wdXQubmFtZV0gPSB2YWx1ZVxuICAgIH1cblxuICAgIHRoaXMuY2hlY2tUb3RhbCgpXG4gIH1cblxuICBjaGVja1RvdGFsICgpIHtcbiAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsID0gMFxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlc1xuICAgICkpIHtcbiAgICAgIGlmIChrZXkgIT09ICdsdWNrJykge1xuICAgICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsICs9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMuX2VsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLnBvaW50cycpXG4gICAgaWYgKHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMuZW5hYmxlZCkge1xuICAgICAgaWYgKFxuICAgICAgICBOdW1iZXIodGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbCkgIT09XG4gICAgICAgIE51bWJlcih0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnZhbHVlKVxuICAgICAgKSB7XG4gICAgICAgIHZhbGlkYXRpb24uY2xhc3NMaXN0LmFkZCgnd2FybmluZycpXG4gICAgICAgIHRoaXMuZGF0YS5kYXRhLnZhbGlkYXRlID0gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnd2FybmluZycpXG4gICAgICAgIHRoaXMuZGF0YS5kYXRhLnZhbGlkYXRlID0gdHJ1ZVxuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSB2YWxpZGF0aW9uLnF1ZXJ5U2VsZWN0b3IoJy52YWx1ZScpXG4gICAgICB2YWx1ZS5pbm5lclRleHQgPSB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnZhbHVlXG4gICAgfVxuXG4gICAgY29uc3QgdG90YWwgPSB2YWxpZGF0aW9uLnF1ZXJ5U2VsZWN0b3IoJy50b3RhbCcpXG4gICAgdG90YWwuaW5uZXJUZXh0ID0gdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbFxuXG4gICAgaWYgKHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy5yb2xscy5lbmFibGVkKSB7XG4gICAgICB0aGlzLmRhdGEuZGF0YS52YWxpZGF0ZSA9IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlcykuZmlsdGVyKHZhbCA9PiBpc05hTihwYXJzZUludCh2YWwpKSkubGVuZ3RoID09PSAwXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uU3VibWl0IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKGRhdGEpIHtcbiAgICBjb25zdCByb2xsZWQgPSB7fVxuICAgIGRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbCA9IDBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMpKSB7XG4gICAgICBpZiAoa2V5ICE9PSAnbHVjaycpIHtcbiAgICAgICAgZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsICs9IHZhbHVlIHx8IDBcbiAgICAgIH1cbiAgICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlID4gMCkge1xuICAgICAgICByb2xsZWRba2V5XSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLmVuYWJsZWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgTnVtYmVyKGRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbCkgIT09XG4gICAgICAgIE51bWJlcihkYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMudmFsdWUpXG4gICAgICApIHtcbiAgICAgICAgZGF0YS5wb2ludHNXYXJuaW5nID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvY2hhci1yb2xsLmh0bWwnLFxuICAgICAgZGF0YVxuICAgIClcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBkbGcgPSBuZXcgQ2hhcmFjUm9sbERpYWxvZyhcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICByb2xsZWQsXG4gICAgICAgICAgYnV0dG9uczoge30sXG4gICAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnZhbGlkYXRlKSByZXR1cm4gcmVzb2x2ZSh0cnVlKVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdjaGFyLXNlbGVjdCddIH1cbiAgICAgIClcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgRGlhbG9nLCBGb3JtRGF0YSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUgKi9cbmV4cG9ydCBjbGFzcyBTa2lsbFNwZWNTZWxlY3REaWFsb2cge1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChcbiAgICBza2lsbHMsXG4gICAgc3BlY2lhbGl6YXRpb25OYW1lLFxuICAgIGJhc2VWYWx1ZSA9IG51bGwsXG4gICAgbmFtZSA9IG51bGxcbiAgKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9za2lsbC1zcGVjLXNlbGVjdC5odG1sJyxcbiAgICAgIHtcbiAgICAgICAgaGFzU2tpbGxzOiBza2lsbHMubGVuZ3RoID4gMCxcbiAgICAgICAgc2tpbGxzLFxuICAgICAgICBiYXNlOiBiYXNlVmFsdWUsXG4gICAgICAgIG5hbWVcbiAgICAgIH1cbiAgICApXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgbGV0IGZvcm1EYXRhID0gbnVsbFxuICAgICAgY29uc3QgZGxnID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiBuYW1lXG4gICAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNraWxsU2VsZWN0QmFzZScsIHsgbmFtZSB9KVxuICAgICAgICAgIDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ta2lsbFNwZWNTZWxlY3RUaXRsZScsIHtcbiAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiBzcGVjaWFsaXphdGlvbk5hbWVcbiAgICAgICAgICB9KSxcbiAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlZhbGlkYXRlJyksXG4gICAgICAgICAgICBjYWxsYmFjazogaHRtbCA9PiB7XG4gICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKFxuICAgICAgICAgICAgICAgIGh0bWxbMF0ucXVlcnlTZWxlY3RvcignI3NraWxsLXNlbGVjdC1mb3JtJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmb3JtRGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICd2YWxpZGF0ZScsXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBkbGcucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgbWVyZ2VPYmplY3QgKi9cblxuZXhwb3J0IGNsYXNzIFNraWxsU3BlY2lhbGl6YXRpb25TZWxlY3REaWFsb2cgZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdza2lsbC1uYW1lLWRpYWxvZyddLFxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2tpbGwtc3BlY2lhbGl6YXRpb24tc2VsZWN0LmhicycsXG4gICAgICB3aWR0aDogNDAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBnZXQgdGl0bGUgKCkge1xuICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNraWxsU3BlY1NlbGVjdFRpdGxlJywge1xuICAgICAgc3BlY2lhbGl6YXRpb246IHRoaXMub2JqZWN0LnNwZWNpYWxpemF0aW9uTmFtZVxuICAgIH0pXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBodG1sLmZpbmQoJy5zdWJtaXQtYnV0dG9uJykuY2xpY2sodGhpcy5fb25DbGlja1N1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnW25hbWU9ZXhpc3Rpbmctc2tpbGxdJykuY2hhbmdlKHRoaXMuX29uU2VsZWN0Q2hhbmdlLmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBfb25TZWxlY3RDaGFuZ2UgKGV2ZW50KSB7XG4gICAgdGhpcy5vYmplY3Quc2VsZWN0ZWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkNsaWNrU3VibWl0IChldmVudCkge1xuICAgIGlmICh0aGlzLm9iamVjdC5zZWxlY3RlZCA9PT0gJycpIHtcbiAgICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnZm9ybScpXG4gICAgICB0aGlzLm9iamVjdC5uYW1lID0gKG9iai5maW5kKCdpbnB1dFtuYW1lPW5ldy1za2lsbC1uYW1lXScpLnZhbCgpID8/ICcnKVxuICAgICAgdGhpcy5vYmplY3QuYmFzZVZhbHVlID0gKG9iai5maW5kKCdpbnB1dFtuYW1lPWJhc2UtdmFsdWVdJykudmFsKCkgPz8gJycpXG4gICAgfVxuICAgIGlmICh0aGlzLm9iamVjdC5zZWxlY3RlZCA9PT0gJycgJiYgdGhpcy5vYmplY3QubmFtZSA9PT0gJycpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLm9iamVjdC5yZXNvbHZlKHtcbiAgICAgIHNlbGVjdGVkOiB0aGlzLm9iamVjdC5zZWxlY3RlZCxcbiAgICAgIG5hbWU6IHRoaXMub2JqZWN0Lm5hbWUsXG4gICAgICBiYXNlVmFsdWU6IHRoaXMub2JqZWN0LmJhc2VWYWx1ZVxuICAgIH0pXG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKHsgc2tpbGxzID0gW10sIGFsbG93Q3VzdG9tID0gZmFsc2UsIGZpeGVkQmFzZVZhbHVlID0gZmFsc2UsIHNwZWNpYWxpemF0aW9uTmFtZSA9ICcnLCBsYWJlbCA9ICcnLCBiYXNlVmFsdWUgPSBudWxsIH0gPSB7fSkge1xuICAgIGNvbnN0IHNlbGVjdCA9IFtdXG4gICAgZm9yIChjb25zdCBza2lsbCBvZiBza2lsbHMpIHtcbiAgICAgIHNlbGVjdC5wdXNoKHtcbiAgICAgICAgaWQ6IHNraWxsLmlkLFxuICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICBiYXNlOiBza2lsbC5zeXN0ZW0uYmFzZVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgbmV3IFNraWxsU3BlY2lhbGl6YXRpb25TZWxlY3REaWFsb2coe1xuICAgICAgICBzcGVjaWFsaXphdGlvbk5hbWUsXG4gICAgICAgIGFsbG93Q3VzdG9tLFxuICAgICAgICBmaXhlZEJhc2VWYWx1ZSxcbiAgICAgICAgYWxsb3dTZWxlY3Q6IHNraWxscy5sZW5ndGggPiAwLFxuICAgICAgICBza2lsbHM6IHNlbGVjdCxcbiAgICAgICAgc2VsZWN0ZWQ6ICcnLFxuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGJhc2VWYWx1ZSxcbiAgICAgICAgcmVzb2x2ZVxuICAgICAgfSwge30pLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIEZvcm1EYXRhLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSAqL1xuZXhwb3J0IGNsYXNzIFNraWxsVmFsdWVEaWFsb2cge1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChuYW1lID0gbnVsbCwgYmFzZVZhbHVlID0gbnVsbCkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2tpbGwtdmFsdWUuaHRtbCcsXG4gICAgICB7IGJhc2U6IGJhc2VWYWx1ZSwgbmFtZSB9XG4gICAgKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGxldCBmb3JtRGF0YSA9IG51bGxcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ta2lsbFZhbHVlJywgeyBuYW1lIH0pLFxuICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVmFsaWRhdGUnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoXG4gICAgICAgICAgICAgICAgaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2tpbGwtc2VsZWN0LWZvcm0nKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZvcm1EYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdDogJ3ZhbGlkYXRlJyxcbiAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ2hhdE1lc3NhZ2UsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlSW5pdGlhdG9yIH0gZnJvbSAnLi9tZWxlZS1pbml0aWF0b3IuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVUYXJnZXQgfSBmcm9tICcuL21lbGVlLXRhcmdldC5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdNZWxlZVJlc29sdGlvbiB7XG4gIGNvbnN0cnVjdG9yIChcbiAgICBpbml0aWF0b3JNZXNzYWdlID0gbnVsbCxcbiAgICB0YXJnZXRNZXNzYWdlID0gbnVsbCxcbiAgICBtZXNzYWdlSWQgPSBudWxsXG4gICkge1xuICAgIHRoaXMuaW5pdGlhdG9yTWVzc2FnZSA9IGluaXRpYXRvck1lc3NhZ2VcbiAgICB0aGlzLnRhcmdldE1lc3NhZ2UgPSB0YXJnZXRNZXNzYWdlXG4gICAgdGhpcy5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgfVxuXG4gIGFzeW5jIHByZUNyZWF0ZU1lc3NhZ2UgKCkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzKVxuXG4gICAgLy8gY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoe2FjdG9yOiB0aGlzLmFjdG9yfSk7XG4gICAgLy8gaWYoIHRoaXMuYWN0b3IuaXNUb2tlbikgc3BlYWtlci5hbGlhcyA9IHRoaXMuYWN0b3IudG9rZW4ubmFtZTtcblxuICAgIC8vIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLnVzZXIgPyB0aGlzLmFjdG9yLnVzZXIgOiBnYW1lLnVzZXI7XG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICB9XG5cbiAgICAvLyBBZGQgaW1hZ2UgdG8gY2FyZC5cbiAgICAvLyBkYXRhLmZsYWdzID0ge1xuICAgIC8vICAgaW1nOiB0aGlzLmFjdG9yLmlzVG9rZW4gPyB0aGlzLmFjdG9yLnRva2VuLmRhdGEuaW1nOiB0aGlzLmFjdG9yLmltZ1xuICAgIC8vIH07XG5cbiAgICBjb25zdCByb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXMocm9sbE1vZGUpKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICB9XG4gICAgLy8gaWYgKCByb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcgKSBjaGF0RGF0YVsnYmxpbmQnXSA9IHRydWU7XG4gICAgY2hhdERhdGEuYmxpbmQgPSBmYWxzZVxuXG4gICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG4gICAgdGhpcy5tZXNzYWdlSWQgPSBjaGF0TWVzc2FnZS5pZFxuICAgIHJldHVybiBjaGF0TWVzc2FnZVxuICB9XG5cbiAgZ2V0IGRpc3BsYXlBY3Rvck9uQ2FyZCAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlBY3Rvck9uQ2FyZCcpXG4gIH1cblxuICBnZXQgdGFyZ2V0ICgpIHtcbiAgICBpZiAodGhpcy50YXJnZXRNZXNzYWdlKSB7XG4gICAgICByZXR1cm4gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21NZXNzYWdlSWQodGhpcy50YXJnZXRNZXNzYWdlKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHRhcmdldFRva2VuICgpIHtcbiAgICBpZiAodGhpcy50YXJnZXQpIHJldHVybiBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleSh0aGlzLnRhcmdldC5hY3RvcktleSlcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGluaXRpYXRvciAoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhdG9yTWVzc2FnZSkge1xuICAgICAgcmV0dXJuIENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKHRoaXMuaW5pdGlhdG9yTWVzc2FnZSlcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBpbml0aWF0b3JUb2tlbiAoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhdG9yKSB7XG4gICAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5pbml0aWF0b3IuYWN0b3JLZXkpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyByZXNvbHZlICgpIHtcbiAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgIHN3aXRjaCAodGhpcy50YXJnZXQuYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ25vUmVzcG9uc2UnOlxuICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XaW5uZXJSb2xsRGFtYWdlJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLmluaXRpYXRvci5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSAncm9sbC1tZWxlZS1kYW1hZ2UnXG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Jbml0aWF0b3JNaXNzZWQnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLmluaXRpYXRvci53ZWFwb24uaW1nXG4gICAgICAgICAgdGhpcy53aW5uZXJUaXRsZSA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5uYW1lXG4gICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnZG9kZ2UnOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsIDw9IDAgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsIDw9IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vV2lubmVyJylcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPiB0aGlzLnRhcmdldC5yb2xsLnN1Y2Nlc3NMZXZlbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldpbm5lclJvbGxEYW1hZ2UnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5pbWdcbiAgICAgICAgICAgIHRoaXMud2lubmVyVGl0bGUgPSB0aGlzLmluaXRpYXRvci53ZWFwb24ubmFtZVxuICAgICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSAncm9sbC1tZWxlZS1kYW1hZ2UnXG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsIDw9IHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRG9kZ2VTdWNjZXNzJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRhcmdldC5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLnRhcmdldC5za2lsbC5pbWdcbiAgICAgICAgICAgIHRoaXMud2lubmVyVGl0bGUgPSB0aGlzLnRhcmdldC5za2lsbC5uYW1lXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9ICdkb2RnZSdcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdmaWdodEJhY2snOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsIDw9IDAgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsIDw9IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vV2lubmVyJylcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPj0gdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XaW5uZXJSb2xsRGFtYWdlJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLmluaXRpYXRvci5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLmluaXRpYXRvci53ZWFwb24uaW1nXG4gICAgICAgICAgICB0aGlzLndpbm5lclRpdGxlID0gdGhpcy5pbml0aWF0b3Iud2VhcG9uLm5hbWVcbiAgICAgICAgICAgIHRoaXMubG9vc2VyID0gdGhpcy50YXJnZXRcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPD0gdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdmVyaWZpZXIgbGEgY29uZGl0aW9uIDw9IHZzIDxcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XaW5uZXJSb2xsRGFtYWdlJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRhcmdldC5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLnRhcmdldC53ZWFwb24uaW1nXG4gICAgICAgICAgICB0aGlzLndpbm5lclRpdGxlID0gdGhpcy50YXJnZXQud2VhcG9uLm5hbWVcbiAgICAgICAgICAgIHRoaXMubG9vc2VyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ21hbmV1dmVyJzpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA8PSAwICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5yb2xsLnN1Y2Nlc3NMZXZlbCA8PSAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob1dpbm5lcicpXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IG51bGxcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IGZhbHNlXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsID49IHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuV2lubmVyUm9sbERhbWFnZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogdGhpcy5pbml0aWF0b3IubmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICAgIHRoaXMud2lubmVySW1nID0gdGhpcy5pbml0aWF0b3Iud2VhcG9uLmltZ1xuICAgICAgICAgICAgdGhpcy53aW5uZXJUaXRsZSA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5uYW1lXG4gICAgICAgICAgICB0aGlzLmxvb3NlciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsIDw9IHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWFuZXV2ZXJTdWNjZXNzJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRhcmdldC5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLnRhcmdldC5za2lsbC5kYXRhLmltZ1xuICAgICAgICAgICAgdGhpcy53aW5uZXJUaXRsZSA9IHRoaXMudGFyZ2V0LnNraWxsLm5hbWVcbiAgICAgICAgICAgIHRoaXMubG9vc2VyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA+IDApIHtcbiAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XaW5uZXJSb2xsRGFtYWdlJywge1xuICAgICAgICBuYW1lOiB0aGlzLmluaXRpYXRvci5uYW1lXG4gICAgICB9KVxuICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgdGhpcy5yb2xsRGFtYWdlID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5pdGlhdG9yTWlzc2VkJywge1xuICAgICAgICBuYW1lOiB0aGlzLmluaXRpYXRvci5uYW1lXG4gICAgICB9KVxuICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy53aW5uZXIpIHtcbiAgICAgIGlmICh0aGlzLndpbm5lci5yb2xsLnN1Y2Nlc3NMZXZlbCA+PSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUpIHtcbiAgICAgICAgdGhpcy53aW5uZXIucm9sbC5jcml0aWNhbERhbWFnZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMud2lubmVyLnJvbGwuY3JpdGljYWxEYW1hZ2UgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG4gICAgaWYgKHRoaXMubWVzc2FnZUlkKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG4gICAgICBjb25zdCBzcGVha2VyRGF0YSA9IHt9XG4gICAgICBpZiAodGhpcy53aW5uZXIpIHtcbiAgICAgICAgaWYgKHRoaXMud2lubmVyLnRva2VuKSBzcGVha2VyRGF0YS50b2tlbiA9IHRoaXMud2lubmVyLnRva2VuLmRvY3VtbWVudFxuICAgICAgICBpZiAodGhpcy53aW5uZXIuYWN0b3IpIHNwZWFrZXJEYXRhLmFjdG9yID0gdGhpcy53aW5uZXIuYWN0b3JcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWFrZXIgPSB0aGlzLndpbm5lciA/IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpIDogbnVsbFxuICAgICAgY29uc3QgdXNlciA9XG4gICAgICAgIHRoaXMud2lubmVyICYmIHRoaXMud2lubmVyLmFjdG9yLnVzZXJcbiAgICAgICAgICA/IHRoaXMud2lubmVyLmFjdG9yLnVzZXJcbiAgICAgICAgICA6IGdhbWUudXNlclxuXG4gICAgICBsZXQgbXNnXG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgLy8gVE9ETzogSWYgY2FyZCBpc24ndCBmb3VuZCAoY2FyZCB3YXMgZGVsZXRlZCBiZWZvcmUgY29tcGxldGlvbikgP1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oJ1Jlc29saXRpb24gY2FyZCBtaXNzaW5nLCB3YXMgZGVsZXRlZCA/JylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAoc3BlYWtlcikge1xuICAgICAgICBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7XG4gICAgICAgICAgLy8gVE9ETzogSWYgY2FyZCBpc24ndCBmb3VuZCAoY2FyZCB3YXMgZGVsZXRlZCBiZWZvcmUgY29tcGxldGlvbikgP1xuICAgICAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICAgICAgc3BlYWtlcixcbiAgICAgICAgICBjb250ZW50OiBodG1sXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7XG4gICAgICAgICAgdXNlcjogdXNlci5pZCxcbiAgICAgICAgICBjb250ZW50OiBodG1sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICAgIHJldHVybiBtc2dcbiAgICB9XG4gIH1cblxuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NvbWJhdC9tZWxlZS1yZXNvbHV0aW9uLmh0bWwnXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDaGF0TWVzc2FnZSwgQ09OU1QsIERpYWxvZywgRm9ybURhdGEsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyLCBDb0M3Um9sbCB9IGZyb20gJy4uL2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdDaGF0IH0gZnJvbSAnLi4vLi4vY2hhdC5qcydcbmltcG9ydCB7IENoYXRDYXJkQWN0b3IgfSBmcm9tICcuLi9jYXJkLWFjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlUmVzb2x0aW9uIH0gZnJvbSAnLi9tZWxlZS1yZXNvbHV0aW9uLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlSW5pdGlhdG9yIH0gZnJvbSAnLi9tZWxlZS1pbml0aWF0b3IuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3TWVsZWVUYXJnZXQgZXh0ZW5kcyBDaGF0Q2FyZEFjdG9yIHtcbiAgY29uc3RydWN0b3IgKGFjdG9yS2V5LCBwYXJlbnRNZXNzYWdlSWQgPSBudWxsLCBmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoYWN0b3JLZXksIGZhc3RGb3J3YXJkKVxuICAgIHRoaXMuYWN0b3JLZXkgPSBhY3RvcktleVxuICAgIHRoaXMuaW5pdGlhdG9yS2V5ID0gbnVsbFxuICAgIHRoaXMucGFyZW50TWVzc2FnZUlkID0gcGFyZW50TWVzc2FnZUlkXG4gICAgdGhpcy5mYXN0Rm9yd2FyZCA9IGZhc3RGb3J3YXJkXG4gICAgdGhpcy5yZXNvbHZlZCA9IGZhbHNlXG5cbiAgICB0aGlzLm91dG51bWJlcmVkID0gZmFsc2VcbiAgICB0aGlzLnN1cnByaXNlZCA9IGZhbHNlXG4gICAgdGhpcy5hdXRvU3VjY2VzcyA9IGZhbHNlXG4gICAgdGhpcy5hZHZhbnRhZ2UgPSBmYWxzZVxuICAgIHRoaXMuZGlzYWR2YW50YWdlID0gZmFsc2VcblxuICAgIHRoaXMubWVzc2FnZUlkID0gbnVsbFxuICAgIHRoaXMuc2tpbGxJZCA9IG51bGxcbiAgICB0aGlzLml0ZW1JZCA9IG51bGxcbiAgICB0aGlzLmRvZGdpbmcgPSBmYWxzZVxuICAgIHRoaXMubm90UmVzcG9uZGluZyA9IGZhbHNlXG4gICAgdGhpcy5maWdodGluZ0JhY2sgPSBmYWxzZVxuICAgIHRoaXMubWFuZXV2ZXJpbmcgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IGFjdGlvblNlbGVjdGVkICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5kb2RnaW5nIHx8XG4gICAgICB0aGlzLm5vdFJlc3BvbmRpbmcgfHxcbiAgICAgIHRoaXMuZmlnaHRpbmdCYWNrIHx8XG4gICAgICB0aGlzLm1hbmV1dmVyaW5nXG4gICAgKVxuICB9XG5cbiAgZ2V0IGFjdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZG9kZ2luZykgcmV0dXJuICdkb2RnZSdcbiAgICBpZiAodGhpcy5ub3RSZXNwb25kaW5nKSByZXR1cm4gJ25vUmVzcG9uc2UnXG4gICAgaWYgKHRoaXMuZmlnaHRpbmdCYWNrKSByZXR1cm4gJ2ZpZ2h0QmFjaydcbiAgICBpZiAodGhpcy5tYW5ldXZlcmluZykgcmV0dXJuICdtYW5ldXZlcidcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHdlYXBvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMuaXRlbUlkKVxuICB9XG5cbiAgZ2V0IHNraWxsICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5za2lsbElkKVxuICB9XG5cbiAgc2V0IGluaXRpYXRvcktleSAoeCkge1xuICAgIHRoaXMuX2luaXRpYXRvcktleSA9IHhcbiAgICB0aGlzLnRhcmdldEtleSA9IHhcbiAgfVxuXG4gIGdldCBpbml0aWF0b3JLZXkgKCkge1xuICAgIGlmICghdGhpcy5faW5pdGlhdG9yS2V5KSB7XG4gICAgICBpZiAoIXRoaXMuX2luaXRpYXRvciAmJiB0aGlzLnBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB0aGlzLl9pbml0aWF0b3IgPSBDb0M3TWVsZWVJbml0aWF0b3IuZ2V0RnJvbU1lc3NhZ2VJZChcbiAgICAgICAgICB0aGlzLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5faW5pdGlhdG9yKSB0aGlzLl9pbml0aWF0b3JLZXkgPSB0aGlzLl9pbml0aWF0b3IuYWN0b3JLZXlcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbml0aWF0b3JLZXkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGBObyBpbml0aWF0b3IgZm91bmQgZm9yIHRhcmdldCA6ICR7dGhpcy5hY3Rvci5uYW1lfWBcbiAgICAgIClcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbml0aWF0b3JLZXlcbiAgfVxuXG4gIGdldCBpbml0aWF0b3IgKCkge1xuICAgIGlmICghdGhpcy5pbml0aWF0b3JLZXkpIHtcbiAgICAgIGlmICh0aGlzLnBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB0aGlzLl9pbml0aWF0b3IgPSBDb0M3TWVsZWVJbml0aWF0b3IuZ2V0RnJvbU1lc3NhZ2VJZChcbiAgICAgICAgICB0aGlzLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgICApXG4gICAgICAgIHRoaXMuaW5pdGlhdG9yS2V5ID0gdGhpcy5faW5pdGlhdG9yLmFjdG9yS2V5XG4gICAgICB9IGVsc2UgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuaW5pdGlhdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgfVxuXG4gIGdldCBtZWxlZUluaXRpYXRvciAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWF0b3IpIHtcbiAgICAgIHRoaXMuX2luaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKFxuICAgICAgICB0aGlzLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faW5pdGlhdG9yXG4gIH1cblxuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NvbWJhdC9tZWxlZS10YXJnZXQuaHRtbCdcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tTWVzc2FnZUlkIChtZXNzYWdlSWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuICAgIGlmICghbWVzc2FnZSkgcmV0dXJuIG51bGxcbiAgICBjb25zdCBjYXJkID0gJChtZXNzYWdlLmNvbnRlbnQpWzBdXG5cbiAgICBjb25zdCB0YXJnZXQgPSBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbUNhcmQoY2FyZCwgbWVzc2FnZUlkKVxuICAgIHRhcmdldC5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcblxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVDYXJkU3dpdGNoIChldmVudCwgcHVibGlzaFVwZGF0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubWVsZWUudGFyZ2V0JylcbiAgICBjb25zdCBmbGFnID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWdcbiAgICBjb25zdCBjYW1lbEZsYWcgPSBjaGF0SGVscGVyLmh5cGhlblRvQ2FtZWxDYXNlKGZsYWcpXG5cbiAgICAvLyB1cGRhdGUgb25seSBmb3IgbG9jYWwgcGxheWVyXG4gICAgaWYgKCFwdWJsaXNoVXBkYXRlKSB7XG4gICAgICBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXSA9IGNhcmQuZGF0YXNldFtjYW1lbEZsYWddICE9PSAndHJ1ZSdcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnc3dpdGNoZWQtb24nKVxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNlbGVjdGVkID0gY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ11cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIGNhcmQgZm9yIGFsbCBwbGF5ZXJcbiAgICAgIGNvbnN0IHRhcmdldCA9IENvQzdNZWxlZVRhcmdldC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgdGFyZ2V0LnRvZ2dsZUZsYWcoZmxhZylcbiAgICAgIHRhcmdldC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBjb25zdCBmbGFnID0gZmxhZ05hbWUuaW5jbHVkZXMoJy0nKVxuICAgICAgPyBjaGF0SGVscGVyLmh5cGhlblRvQ2FtZWxDYXNlKGZsYWdOYW1lKVxuICAgICAgOiBmbGFnTmFtZVxuICAgIHRoaXNbZmxhZ10gPSAhdGhpc1tmbGFnXVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ2hhdENhcmQgKCkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzKVxuXG4gICAgY29uc3Qgc3BlYWtlckRhdGEgPSB7fVxuICAgIGNvbnN0IHRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBpZiAodG9rZW4pIHNwZWFrZXJEYXRhLnRva2VuID0gdG9rZW4uZG9jdW1lbnRcbiAgICBlbHNlIHNwZWFrZXJEYXRhLmFjdG9yID0gdGhpcy5hY3RvclxuXG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpXG4gICAgaWYgKHRoaXMuYWN0b3IuaXNUb2tlbikgc3BlYWtlci5hbGlhcyA9IHRoaXMuYWN0b3IudG9rZW4ubmFtZVxuXG4gICAgbGV0IHVzZXIgPSBnYW1lLnVzZXJcbiAgICBpZiAodHlwZW9mIHRoaXMuYWN0b3IudXNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxldCBvd25lcnMgPSBbXVxuICAgICAgY29uc3QgZ21zID0gZ2FtZS51c2Vycy5maWx0ZXIoYSA9PiBhLmlzR00pLm1hcChhID0+IGEuaWQpXG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmFjdG9yLm93bmVyc2hpcCkpIHtcbiAgICAgICAgaWYgKHYgPT09IENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuT1dORVIpIHtcbiAgICAgICAgICBpZiAoayA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBvd25lcnMgPSBnYW1lLnVzZXJzLm1hcChhID0+IGEuaWQpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWdtcy5pbmNsdWRlcyhrKSkge1xuICAgICAgICAgICAgb3duZXJzLnB1c2goaylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjb250ZW50ID0gJydcbiAgICAgIHN3aXRjaCAob3duZXJzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgLy8gR01cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHR5cGVvZiBnYW1lLnVzZXJzLmdldChvd25lcnNbMF0pICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdXNlciA9IGdhbWUudXNlcnMuZ2V0KG93bmVyc1swXSlcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgICc8cD4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VTZWxlY3RTaW5nbGVVc2VyRm9yVGFyZ2V0JylcbiAgICAgICAgICBjb250ZW50ID0gY29udGVudCArICc8Zm9ybSBpZD1cInNlbGVjdGZvcm1cIj48c2VsZWN0IG5hbWU9XCJ1c2VyXCI+J1xuICAgICAgICAgIGZvciAoY29uc3QgayBvZiBvd25lcnMpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCInICtcbiAgICAgICAgICAgICAgayArXG4gICAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgICAgZ2FtZS51c2Vycy5nZXQoaykubmFtZSArXG4gICAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgJzwvc2VsZWN0PjwvZm9ybT48L3A+J1xuICAgICAgICAgIGF3YWl0IERpYWxvZy5wcm9tcHQoe1xuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuTWVzc2FnZVRpdGxlU2VsZWN0U2luZ2xlVXNlckZvclRhcmdldCdcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgY2FsbGJhY2s6IGh0bWwgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShcbiAgICAgICAgICAgICAgICBodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJyNzZWxlY3Rmb3JtJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgZm9ybURhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICAgICAgICB1c2VyID0gZ2FtZS51c2Vycy5nZXQodmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmFjdG9yLnVzZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1c2VyID0gdGhpcy5hY3Rvci51c2VyXG4gICAgfVxuXG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICB1c2VyOiB1c2VyLmlkLFxuICAgICAgc3BlYWtlcixcbiAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICB9XG5cbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXModGhpcy5yb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICAvLyBpZiAoIHRoaXMuaXNCbGluZCApIGNoYXREYXRhWydibGluZCddID0gdHJ1ZTtcbiAgICBjaGF0RGF0YS5ibGluZCA9IGZhbHNlXG5cbiAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgQ2hhdE1lc3NhZ2UuY3JlYXRlKGNoYXREYXRhKVxuXG4gICAgdGhpcy5tZXNzYWdlSWQgPSBtZXNzYWdlLmlkXG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICgpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG4gICAgaWYgKCFnYW1lLnVzZXIuaXNHTSAmJiBtZXNzYWdlLnVzZXIuaWQgIT09IGdhbWUudXNlci5pZCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5hYmxlVG9JbnRlcmFjdFdpdGhDaGF0Q2FyZCcpXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7IGNvbnRlbnQ6IGh0bWwgfSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICBhc3luYyBnZXRVcGRhdGVkQ2hhdENhcmQgKCkge1xuICAgIHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpLnRoZW4oaHRtbCA9PiB7XG4gICAgICByZXR1cm4gaHRtbFxuICAgIH0pXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlU2VsZWN0ZWQgKGNhcmQsIGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21DYXJkKGNhcmQpXG5cbiAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2RvZGdlJzpcbiAgICAgICAgdGFyZ2V0LmRvZGdpbmcgPSB0cnVlXG4gICAgICAgIHRhcmdldC5ub3RSZXNwb25kaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0LmZpZ2h0aW5nQmFjayA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5tYW5ldXZlcmluZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5za2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgdGFyZ2V0Lml0ZW1JZCA9IG51bGxcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnbm9SZXNwb25zZSc6XG4gICAgICAgIHRhcmdldC5kb2RnaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0Lm5vdFJlc3BvbmRpbmcgPSB0cnVlXG4gICAgICAgIHRhcmdldC5maWdodGluZ0JhY2sgPSBmYWxzZVxuICAgICAgICB0YXJnZXQubWFuZXV2ZXJpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQuc2tpbGxJZCA9IG51bGxcbiAgICAgICAgdGFyZ2V0Lml0ZW1JZCA9IG51bGxcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnZmlnaHRCYWNrJzpcbiAgICAgICAgdGFyZ2V0LmRvZGdpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQubm90UmVzcG9uZGluZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5maWdodGluZ0JhY2sgPSB0cnVlXG4gICAgICAgIHRhcmdldC5tYW5ldXZlcmluZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5za2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgdGFyZ2V0Lml0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC53ZWFwb25JZFxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdtYW5ldXZlcic6XG4gICAgICAgIHRhcmdldC5kb2RnaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0Lm5vdFJlc3BvbmRpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQuZmlnaHRpbmdCYWNrID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0Lm1hbmV1dmVyaW5nID0gdHJ1ZVxuICAgICAgICB0YXJnZXQuc2tpbGxJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbElkXG4gICAgICAgIHRhcmdldC5pdGVtSWQgPSBudWxsXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdGFyZ2V0LnVwZGF0ZUNoYXRDYXJkKClcblxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm1Ta2lsbENoZWNrIChza2lsbElkID0gbnVsbCwgcHVibGlzaCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAvLyBDb21iYXQgcm9sbCBjYW5ub3QgYmUgYmxpbmQgb3IgdW5rbm93blxuICAgIGNoZWNrLmlzQmxpbmQgPSBmYWxzZVxuICAgIGNoZWNrLmlzVW5rb253biA9IGZhbHNlXG4gICAgY2hlY2sucmVmZXJlbmNlTWVzc2FnZUlkID0gdGhpcy5tZXNzYWdlSWRcbiAgICBjaGVjay5yb2xsVHlwZSA9ICdvcHBvc2VkJ1xuICAgIGNoZWNrLnNpZGUgPSAndGFyZ2V0J1xuICAgIGNoZWNrLmFjdGlvbiA9IHRoaXMuYWN0aW9uXG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yXG4gICAgY2hlY2suaXRlbSA9IHRoaXMuaXRlbUlkXG4gICAgY2hlY2suc2tpbGwgPSBza2lsbElkXG4gICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IDBcblxuICAgIGlmICh0aGlzLmRpc2FkdmFudGFnZSkgY2hlY2suZGljZU1vZGlmaWVyIC09IDFcbiAgICBpZiAodGhpcy5hZHZhbnRhZ2UpIGNoZWNrLmRpY2VNb2RpZmllciArPSAxXG5cbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICB0aGlzLmNoZWNrID0gY2hlY2tcbiAgICB0aGlzLnJvbGxlZCA9IHRydWVcbiAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgIGlmIChwdWJsaXNoKSBjaGVjay50b01lc3NhZ2UoKVxuXG4gICAgcmV0dXJuIGNoZWNrXG4gIH1cblxuICBhc3luYyBwdWJsaXNoTm9SZXBvbnNlUmVzdWx0ICgpIHtcbiAgICB0aGlzLnJvbGxlZCA9IHRydWVcbiAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgIHRoaXMubm90UmVzcG9uZGluZyA9IHRydWVcbiAgICBjb25zdCByZXNvbHV0aW9uQ2FyZCA9IG5ldyBDb0M3TWVsZWVSZXNvbHRpb24oXG4gICAgICB0aGlzLnBhcmVudE1lc3NhZ2VJZCxcbiAgICAgIHRoaXMubWVzc2FnZUlkXG4gICAgKVxuXG4gICAgY29uc3QgcmVzb2x1dGlvbk1lc3NhZ2UgPSBhd2FpdCByZXNvbHV0aW9uQ2FyZC5wcmVDcmVhdGVNZXNzYWdlKClcblxuICAgIHRoaXMucmVzb2x1dGlvbkNhcmQgPSByZXNvbHV0aW9uTWVzc2FnZS5pZFxuICAgIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgYXN5bmMgcHVibGlzaENoZWNrUmVzdWx0IChjaGVjayA9IG51bGwpIHtcbiAgICBpZiAoIWNoZWNrICYmICF0aGlzLmNoZWNrKSByZXR1cm4gbnVsbFxuXG4gICAgaWYgKGNoZWNrKSB0aGlzLmNoZWNrID0gY2hlY2tcbiAgICB0aGlzLnJvbGwgPSBDb0M3Um9sbC5nZXRGcm9tQ2hlY2sodGhpcy5jaGVjaylcbiAgICB0aGlzLnJvbGxlZCA9IHRydWVcblxuICAgIHRoaXMucm9sbC5yb2xsSWNvbnMgPSBbXVxuICAgIGlmICh0aGlzLnJvbGwuY3JpdGljYWwpIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnZ29sZGVucm9kJ1xuICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Dcml0aWNhbFN1Y2Nlc3MnKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDQ7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxJY29ucy5wdXNoKCdtZWRhbCcpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnJvbGwuZnVtYmxlKSB7XG4gICAgICB0aGlzLnJvbGwucm9sbENvbG9yID0gJ2RhcmtyZWQnXG4gICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZ1bWJsZScpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLnJvbGwucm9sbEljb25zLnB1c2goJ3NwaWRlcicpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnJvbGwuc3VjY2Vzcykge1xuICAgICAgdGhpcy5yb2xsLnJvbGxDb2xvciA9ICdnb2xkZW5yb2QnXG4gICAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyID09PSB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgfVxuICAgICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZCA9PT0gdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgIH1cbiAgICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUgPT09IHRoaXMucm9sbC5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLnJvbGwucm9sbEljb25zLnB1c2goJ3N0YXInKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvbGwucm9sbENvbG9yID0gJ2JsYWNrJ1xuICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GYWlsdXJlJylcbiAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnc2t1bGwnKVxuICAgIH1cblxuICAgIGNvbnN0IHJlc29sdXRpb25DYXJkID0gbmV3IENvQzdNZWxlZVJlc29sdGlvbihcbiAgICAgIHRoaXMucGFyZW50TWVzc2FnZUlkLFxuICAgICAgdGhpcy5tZXNzYWdlSWRcbiAgICApXG4gICAgY29uc3QgcmVzb2x1dGlvbk1lc3NhZ2UgPSBhd2FpdCByZXNvbHV0aW9uQ2FyZC5wcmVDcmVhdGVNZXNzYWdlKClcblxuICAgIHRoaXMucmVzb2x1dGlvbkNhcmQgPSByZXNvbHV0aW9uTWVzc2FnZS5pZFxuICAgIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgc3RhdGljIGdldEZyb21DYXJkIChjYXJkLCBtZXNzYWdlSWQgPSBudWxsKSB7XG4gICAgY29uc3QgYWN0b3JLZXkgPSBjYXJkLmRhdGFzZXQuYWN0b3JLZXlcbiAgICBjb25zdCBwYXJlbnRNZXNzYWdlSWQgPSBjYXJkLmRhdGFzZXQucGFyZW50TWVzc2FnZUlkXG4gICAgY29uc3QgZmFzdEZvcndhcmQgPSBjYXJkLmRhdGFzZXQuZmFzdEZvcndhcmQgPT09ICd0cnVlJ1xuICAgIGNvbnN0IHRhcmdldCA9IG5ldyBDb0M3TWVsZWVUYXJnZXQoYWN0b3JLZXksIHBhcmVudE1lc3NhZ2VJZCwgZmFzdEZvcndhcmQpXG5cbiAgICB0YXJnZXQucm9sbCA9IENvQzdSb2xsLmdldEZyb21DYXJkKGNhcmQpXG4gICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudCh0YXJnZXQsIGNhcmQpXG5cbiAgICBpZiAoY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpKSB7XG4gICAgICB0YXJnZXQubWVzc2FnZUlkID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgfSBlbHNlIHRhcmdldC5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgICByZXR1cm4gdGFyZ2V0XG4gIH1cblxuICB1cGdyYWRlUm9sbCAobHVja0Ftb3VudCwgbmV3U3VjY2Vzc0xldmVsLCBvbGRDYXJkKSB7XG4gICAgLy8gVE9ETyA6IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgYXN5bmNcbiAgICBpZiAoIXRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBgJHt0aGlzLmFjdG9yLm5hbWV9IGRpZG4ndCBoYXZlIGVub3VnaCBsdWNrIHRvIHBhc3MgdGhlIGNoZWNrYFxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLnJvbGwudmFsdWUgPSBudWxsXG4gICAgdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbCA9IG5ld1N1Y2Nlc3NMZXZlbFxuICAgIHRoaXMucm9sbC5sdWNrU3BlbnQgPSB0cnVlXG4gICAgb2xkQ2FyZC5kYXRhc2V0LnByb2Nlc3NlZCA9IGZhbHNlXG5cbiAgICBjb25zdCBkaWNlUm9sbHMgPSBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXJvbGwnKVxuICAgIGRpY2VSb2xscy5kYXRhc2V0LnZhbHVlID0gbnVsbFxuICAgIGRpY2VSb2xscy5kYXRhc2V0LnN1Y2Nlc3NMZXZlbCA9IG5ld1N1Y2Nlc3NMZXZlbFxuICAgIGRpY2VSb2xscy5kYXRhc2V0Lmx1Y2tTcGVudCA9IHRydWVcblxuICAgIGNvbnN0IHJlc3VsRGV0YWlscyA9IG9sZENhcmQucXVlcnlTZWxlY3RvcignLnJlc3VsdC1kZXRhaWxzJylcbiAgICBjb25zdCBkaWNlVG90YWwgPSBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvdGFsJylcbiAgICBzd2l0Y2ggKG5ld1N1Y2Nlc3NMZXZlbCkge1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgICByZXN1bERldGFpbHMuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkOlxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZTpcbiAgICAgICAgZGljZVRvdGFsLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZGljZVRvdGFsLmNsYXNzTGlzdC5yZXBsYWNlKCdmYWlsdXJlJywgJ3N1Y2Nlc3MnKVxuICAgIG9sZENhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtYnV0dG9ucycpLnJlbW92ZSgpXG4gICAgb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b29sdGlwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIENvQzdDaGF0LnVwZGF0ZUNoYXRDYXJkKG9sZENhcmQpIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDaGF0TWVzc2FnZSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIFJvbGwsIHVpICovXG5pbXBvcnQgeyBDb0M3RGljZSB9IGZyb20gJy4uL2RpY2UuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIENvQzdSb2xsLCBDb0M3RGFtYWdlIH0gZnJvbSAnLi9oZWxwZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3UmFuZ2VJbml0aWF0b3Ige1xuICBjb25zdHJ1Y3RvciAoYWN0b3JLZXkgPSBudWxsLCBpdGVtSWQgPSBudWxsLCBmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5hY3RvcktleSA9IGFjdG9yS2V5XG4gICAgdGhpcy5pdGVtSWQgPSBpdGVtSWRcbiAgICB0aGlzLmZhc3RGb3J3YXJkID0gZmFzdEZvcndhcmRcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2VcbiAgICB0aGlzLmNvdmVyID0gZmFsc2VcbiAgICB0aGlzLnN1cnByaXNlZCA9IGZhbHNlXG4gICAgdGhpcy5hdXRvU3VjY2VzcyA9IGZhbHNlXG4gICAgdGhpcy5hZHZhbnRhZ2UgPSBmYWxzZVxuICAgIHRoaXMuZGlzYWR2YW50YWdlID0gZmFsc2VcbiAgICB0aGlzLm1lc3NhZ2VJZCA9IG51bGxcbiAgICB0aGlzLnRhcmdldENhcmQgPSBudWxsXG4gICAgdGhpcy5yb2xsZWQgPSBmYWxzZVxuICAgIHRoaXMuc2luZ2xlU2hvdCA9IGZhbHNlXG4gICAgdGhpcy5tdWx0aXBsZVNob3RzID0gZmFsc2VcbiAgICB0aGlzLmJ1cnN0ID0gZmFsc2VcbiAgICB0aGlzLmZ1bGxBdXRvID0gZmFsc2VcbiAgICB0aGlzLnRva2VuS2V5ID0gbnVsbFxuICAgIHRoaXMuYWltZWQgPSBmYWxzZVxuICAgIHRoaXMudG90YWxCdWxsZXRzRmlyZWQgPSAwXG4gICAgdGhpcy5fdGFyZ2V0cyA9IFtdXG4gICAgZm9yIChjb25zdCB0IG9mIFsuLi5nYW1lLnVzZXIudGFyZ2V0c10pIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBDb0M3UmFuZ2VUYXJnZXQoYCR7dC5zY2VuZS5pZH0uJHt0LmlkfWApIC8vXG4gICAgICB0YXJnZXQudG9rZW4gPSB0XG4gICAgICB0aGlzLl90YXJnZXRzLnB1c2godGFyZ2V0KVxuICAgIH1cbiAgICBpZiAodGhpcy5fdGFyZ2V0cy5sZW5ndGgpIHRoaXMuX3RhcmdldHNbMF0uYWN0aXZlID0gdHJ1ZVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IENvQzdSYW5nZVRhcmdldCgpXG4gICAgICB0YXJnZXQuYWN0aXZlID0gdHJ1ZVxuICAgICAgdGhpcy5fdGFyZ2V0cy5wdXNoKHRhcmdldClcbiAgICB9XG4gICAgaWYgKGFjdG9yS2V5KSB7XG4gICAgICBjb25zdCBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KGFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIHRoaXMudG9rZW4gPSBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleShhY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBpZiAodGhpcy50b2tlbikgdGhpcy50b2tlbktleSA9IGFjdG9yLnRva2VuS2V5XG4gICAgICBpZiAoaXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbiA9IGFjdG9yLml0ZW1zLmdldChpdGVtSWQpXG4gICAgICAgIGlmICh3ZWFwb24pIHtcbiAgICAgICAgICBpZiAodGhpcy53ZWFwb24uc2luZ2xlU2hvdCkgdGhpcy5zaW5nbGVTaG90ID0gdHJ1ZVxuICAgICAgICAgIGVsc2UgaWYgKHRoaXMud2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzLmF1dG8pIHRoaXMuZnVsbEF1dG8gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudG9rZW5LZXkpIHtcbiAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLl90YXJnZXRzKSB7XG4gICAgICAgIGlmICh0LnRva2VuICYmIHRoaXMudG9rZW4pIHtcbiAgICAgICAgICB0LmRpc3RhbmNlID0gY2hhdEhlbHBlci5nZXREaXN0YW5jZSh0LnRva2VuLCB0aGlzLnRva2VuKVxuICAgICAgICAgIHQucm91bmRlZERpc3RhbmNlID0gTWF0aC5yb3VuZCh0LmRpc3RhbmNlLnZhbHVlICogMTAwKSAvIDEwMFxuICAgICAgICAgIHQuZGlzdGFuY2VVbml0ID0gdC5kaXN0YW5jZS51bml0XG4gICAgICAgICAgY29uc3QgZGlzdEluWWQgPVxuICAgICAgICAgICAgTWF0aC5yb3VuZChjaGF0SGVscGVyLnRvWWFyZHModC5kaXN0YW5jZSkgKiAxMDApIC8gMTAwXG4gICAgICAgICAgLy8gaWYoIGRpc3RJbllkKXtcbiAgICAgICAgICBpZiAodGhpcy5hY3Rvcikge1xuICAgICAgICAgICAgdC5wb2ludEJsYW5rUmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgY29uc3QgcGJSYW5nZUluWWQgPVxuICAgICAgICAgICAgICB0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlIC8gMTVcbiAgICAgICAgICAgIGlmIChkaXN0SW5ZZCA8PSBwYlJhbmdlSW5ZZCkgdC5wb2ludEJsYW5rUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLndlYXBvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMud2VhcG9uLmJhc2VSYW5nZSkge1xuICAgICAgICAgICAgICB0LmJhc2VSYW5nZSA9IGZhbHNlXG4gICAgICAgICAgICAgIHQubG9uZ1JhbmdlID0gZmFsc2VcbiAgICAgICAgICAgICAgdC5leHRyZW1lUmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICB0Lm91dE9mUmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICBpZiAodGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1bikge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0SW5ZZCA8PSB0aGlzLndlYXBvbi5iYXNlUmFuZ2UpIHQuYmFzZVJhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkID4gdGhpcy53ZWFwb24uYmFzZVJhbmdlICYmXG4gICAgICAgICAgICAgICAgICBkaXN0SW5ZZCA8PSB0aGlzLndlYXBvbi5sb25nUmFuZ2VcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHQubG9uZ1JhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkaXN0SW5ZZCA+IHRoaXMud2VhcG9uLmxvbmdSYW5nZSAmJlxuICAgICAgICAgICAgICAgICAgZGlzdEluWWQgPD0gdGhpcy53ZWFwb24uZXh0cmVtZVJhbmdlXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0LmV4dHJlbWVSYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RJbllkID4gdGhpcy53ZWFwb24uZXh0cmVtZVJhbmdlKSB0Lm91dE9mUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RJbllkIDw9IHRoaXMud2VhcG9uLmJhc2VSYW5nZSkgdC5iYXNlUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZGlzdEluWWQgPiB0aGlzLndlYXBvbi5iYXNlUmFuZ2UgJiZcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkIDw9IHRoaXMud2VhcG9uLmJhc2VSYW5nZSAqIDJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHQubG9uZ1JhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkaXN0SW5ZZCA+IHRoaXMud2VhcG9uLmJhc2VSYW5nZSAqIDIgJiZcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkIDw9IHRoaXMud2VhcG9uLmJhc2VSYW5nZSAqIDRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHQuZXh0cmVtZVJhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlzdEluWWQgPiB0aGlzLndlYXBvbi5iYXNlUmFuZ2UgKiA0KSB0Lm91dE9mUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICEodC5iYXNlUmFuZ2UgfHwgdC5sb25nUmFuZ2UgfHwgdC5leHRyZW1lUmFuZ2UgfHwgdC5vdXRPZlJhbmdlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0LmJhc2VSYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0gZWxzZSB0LmJhc2VSYW5nZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgZGlzcGxheUFjdG9yT25DYXJkICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJylcbiAgfVxuXG4gIGdldCBhY3RvckltZyAoKSB7XG4gICAgY29uc3QgaW1nID0gY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBpZiAoaW1nKSByZXR1cm4gaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gIH1cblxuICBnZXQgaXRlbSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMuaXRlbUlkKVxuICB9XG5cbiAgZ2V0IHdlYXBvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbVxuICB9XG5cbiAgZ2V0IHRhcmdldHMgKCkge1xuICAgIGlmICghdGhpcy5fdGFyZ2V0cykgdGhpcy5fdGFyZ2V0cyA9IFtdXG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldHNcbiAgfVxuXG4gIGdldCB0YXJnZXQgKCkge1xuICAgIGlmICh0aGlzLnRhcmdldHMgJiYgdGhpcy50YXJnZXRzLmxlbmd0aCkgcmV0dXJuIHRoaXMudGFyZ2V0cy5wb3AoKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgc2tpbGxzICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5nZXRXZWFwb25Ta2lsbHModGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgbWFpbldlYXBvblNraWxsICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy53ZWFwb24uc3lzdGVtLnNraWxsLm1haW4uaWQpXG4gIH1cblxuICBnZXQgYXV0b1dlYXBvblNraWxsICgpIHtcbiAgICBpZiAodGhpcy53ZWFwb24uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdG9yLml0ZW1zLmdldCh0aGlzLndlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWFpbldlYXBvblNraWxsXG4gIH1cblxuICBnZXQgYXV0b0ZpcmUgKCkge1xuICAgIHJldHVybiB0aGlzLmJ1cnN0IHx8IHRoaXMuZnVsbEF1dG9cbiAgfVxuXG4gIGdldCBtdWx0aVRhcmdldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbEF1dG8gfHwgdGhpcy5tdWx0aXBsZVNob3RzXG4gIH1cblxuICBnZXQgYWltaW5nICgpIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9haW1pbmcpIHtcbiAgICAgIHRoaXMuX2FpbWluZyA9IHRoaXMuYWN0b3IuZ2V0QWN0b3JGbGFnKCdhaW1pbmcnKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWltaW5nXG4gIH1cblxuICBnZXQgYWN0aXZlVGFyZ2V0ICgpIHtcbiAgICBpZiAoIXRoaXMuX3RhcmdldHMubGVuZ3RoKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB0aGlzLl90YXJnZXRzLmZpbmQodCA9PiB0LmFjdGl2ZSlcbiAgfVxuXG4gIGdldCBzaG90cyAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fc2hvdHMpIHRoaXMuX3Nob3RzID0gW11cbiAgICByZXR1cm4gdGhpcy5fc2hvdHNcbiAgfVxuXG4gIGdldCBjdXJyZW50U2hvdFJhbmsgKCkge1xuICAgIHJldHVybiB0aGlzLnNob3RzLmxlbmd0aCArIDFcbiAgfVxuXG4gIGdldCBhY3RpdmVUYXJnZXRTaG90RGlmZmljdWx0eSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hvdERpZmZpY3VsdHkoKVxuICB9XG5cbiAgc2V0IGFpbWluZyAoYikge1xuICAgIHRoaXMuX2FpbWluZyA9IGJcbiAgfVxuXG4gIGdldCBkaWRBbnlTaG90SGl0ICgpIHtcbiAgICBsZXQgYW55SGl0ID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5yb2xscykge1xuICAgICAgYW55SGl0ID0gYW55SGl0IHx8IHIuaXNTdWNjZXNzXG4gICAgfVxuICAgIHJldHVybiBhbnlIaXRcbiAgfVxuXG4gIGdldCBzdWNjZXNzZnVsSGl0cyAoKSB7XG4gICAgY29uc3QgaGl0cyA9IFtdXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucm9sbHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAodGhpcy5yb2xsc1tpbmRleF0uaXNTdWNjZXNzKSB7XG4gICAgICAgIGNvbnN0IGhpdCA9IHtcbiAgICAgICAgICByb2xsOiB0aGlzLnJvbGxzW2luZGV4XSxcbiAgICAgICAgICBzaG90OiB0aGlzLnNob3RzW2luZGV4XVxuICAgICAgICB9XG4gICAgICAgIGhpdHMucHVzaChoaXQpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoaXRzLmxlbmd0aCAhPT0gMCkgcmV0dXJuIGhpdHNcbiAgICBlbHNlIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgc2hvdEZpcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5zaG90cyA/IHRoaXMuc2hvdHMubGVuZ3RoIDogMFxuICB9XG5cbiAgZ2V0IHRvdGFsQW1tbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2VhcG9uLmdldEJ1bGxldExlZnQoKVxuICB9XG5cbiAgZ2V0IG1heFNob3RzICgpIHtcbiAgICBpZiAodGhpcy5mdWxsQXV0bykgcmV0dXJuICfiiJ4nXG4gICAgLy8gcmV0dXJuIHRoaXMud2VhcG9uLmRhdGEuZGF0YS51c2VzUGVyUm91bmQubWF4O1xuXG4gICAgcmV0dXJuIHRoaXMud2VhcG9uLnN5c3RlbS51c2VzUGVyUm91bmQubWF4XG4gICAgICA/IHBhcnNlSW50KHRoaXMud2VhcG9uLnN5c3RlbS51c2VzUGVyUm91bmQubWF4KVxuICAgICAgOiAxXG4gIH1cblxuICBnZXQgaWdub3JlQW1tbyAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3JlZ2FyZEFtbW8nKVxuICB9XG5cbiAgZ2V0IGlnbm9yZVVzZXNQZXJSb3VuZCAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3JlZ2FyZFVzZVBlclJvdW5kJylcbiAgfVxuXG4gIGdldCBvdXRPZkFtbW8gKCkge1xuICAgIGlmICh0aGlzLmlnbm9yZUFtbW8pIHJldHVybiBmYWxzZVxuICAgIGlmICh0aGlzLnRvdGFsQnVsbGV0c0ZpcmVkID49IHRoaXMud2VhcG9uLmdldEJ1bGxldExlZnQoKSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBvdXRPZlNob3RzICgpIHtcbiAgICBpZiAodGhpcy5pZ25vcmVVc2VzUGVyUm91bmQpIHJldHVybiBmYWxzZVxuICAgIGlmICh0aGlzLnNob3RzKSByZXR1cm4gdGhpcy5zaG90cy5sZW5ndGggPj0gdGhpcy5tYXhTaG90c1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IHZvbGxleVNpemUgKCkge1xuICAgIGlmICghdGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuYXV0bykgcmV0dXJuIDFcbiAgICBpZiAodGhpcy5fdm9sbGV5U2l6ZSkgcmV0dXJuIHRoaXMuX3ZvbGxleVNpemVcbiAgICBjb25zdCBzaXplID0gTWF0aC5mbG9vcih0aGlzLmF1dG9XZWFwb25Ta2lsbC52YWx1ZSAvIDEwKVxuICAgIHJldHVybiBzaXplIDwgMyA/IDMgOiBzaXplXG4gIH1cblxuICBzZXQgdm9sbGV5U2l6ZSAoeCkge1xuICAgIGlmICh4ID49IE1hdGguZmxvb3IodGhpcy5hdXRvV2VhcG9uU2tpbGwudmFsdWUgLyAxMCkpIHtcbiAgICAgIHRoaXMuX3ZvbGxleVNpemUgPSBNYXRoLmZsb29yKHRoaXMuYXV0b1dlYXBvblNraWxsLnZhbHVlIC8gMTApXG4gICAgfSBlbHNlIGlmICh4IDw9IDMpIHtcbiAgICAgIHRoaXMuX3ZvbGxleVNpemUgPSAzXG4gICAgfVxuICAgIHRoaXMuX3ZvbGxleVNpemUgPSBwYXJzZUludCh4KVxuICB9XG5cbiAgZ2V0IGlzVm9sbGV5TWluU2l6ZSAoKSB7XG4gICAgaWYgKHRoaXMudm9sbGV5U2l6ZSA9PT0gMykgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBpc1ZvbGxleU1heFNpemUgKCkge1xuICAgIGNvbnN0IG1heFNpemUgPVxuICAgICAgTWF0aC5mbG9vcih0aGlzLmF1dG9XZWFwb25Ta2lsbC52YWx1ZSAvIDEwKSA8IDNcbiAgICAgICAgPyAzXG4gICAgICAgIDogTWF0aC5mbG9vcih0aGlzLmF1dG9XZWFwb25Ta2lsbC52YWx1ZSAvIDEwKVxuICAgIGlmIChtYXhTaXplID09PSB0aGlzLnZvbGxleVNpemUpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXRUYXJnZXRGcm9tS2V5IChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0cy5maW5kKHQgPT4ga2V5ID09PSB0LmFjdG9yS2V5KVxuICB9XG5cbiAgY2FsY1RhcmdldHNEaWZmaWN1bHR5ICgpIHtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy50YXJnZXRzKSB7XG4gICAgICB0LnNob3REaWZmaWN1bHR5ID0gdGhpcy5zaG90RGlmZmljdWx0eSh0KVxuICAgIH1cbiAgfVxuXG4gIHNob3REaWZmaWN1bHR5ICh0ID0gbnVsbCkge1xuICAgIGNvbnN0IHRhcmdldCA9IHQgfHwgdGhpcy5hY3RpdmVUYXJnZXRcbiAgICBsZXQgZGFtYWdlID0gdGhpcy53ZWFwb24uc3lzdGVtLnJhbmdlLm5vcm1hbC5kYW1hZ2VcbiAgICBpZiAodGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1bikge1xuICAgICAgaWYgKHQubG9uZ1JhbmdlKSBkYW1hZ2UgPSB0aGlzLndlYXBvbi5zeXN0ZW0ucmFuZ2UubG9uZy5kYW1hZ2VcbiAgICAgIGlmICh0LmV4dHJlbWVSYW5nZSkgZGFtYWdlID0gdGhpcy53ZWFwb24uc3lzdGVtLnJhbmdlLmV4dHJlbWUuZGFtYWdlXG4gICAgfVxuICAgIGxldCBtb2RpZmllciA9IHRhcmdldC5tb2RpZmllclxuICAgIGxldCBkaWZmaWN1bHR5XG4gICAgdGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1blxuICAgICAgPyAoZGlmZmljdWx0eSA9IDEpXG4gICAgICA6IChkaWZmaWN1bHR5ID0gdGFyZ2V0LmRpZmZpY3VsdHkpXG4gICAgbGV0IGRpZmZpY3VsdHlOYW1lID0gJydcbiAgICBpZiAodGhpcy5haW1pbmcgJiYgdGhpcy5jdXJyZW50U2hvdFJhbmsgPT09IDEpIG1vZGlmaWVyKytcbiAgICBpZiAodGhpcy5hZHZhbnRhZ2UpIG1vZGlmaWVyKytcbiAgICBpZiAodGhpcy5kaXNhZHZhbnRhZ2UpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5yZWxvYWQpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5tdWx0aXBsZVNob3RzICYmICF0aGlzLmZ1bGxBdXRvKSBtb2RpZmllci0tXG4gICAgaWYgKHRoaXMuZnVsbEF1dG8pIG1vZGlmaWVyIC09IHRoaXMuY3VycmVudFNob3RSYW5rIC0gMVxuICAgIGlmIChtb2RpZmllciA8IC0yKSB7XG4gICAgICBjb25zdCBleGNlc3MgPSBNYXRoLmFicyhtb2RpZmllciArIDIpXG4gICAgICBkaWZmaWN1bHR5ICs9IGV4Y2Vzc1xuICAgICAgaWYgKGRpZmZpY3VsdHkgPiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsKSB7XG4gICAgICAgIGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmltcG9zc2libGVcbiAgICAgIH1cbiAgICAgIG1vZGlmaWVyID0gLTJcbiAgICB9XG5cbiAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID09PSBkaWZmaWN1bHR5KSB7XG4gICAgICBkaWZmaWN1bHR5TmFtZSA9ICdSZWd1bGFyJ1xuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkID09PSBkaWZmaWN1bHR5KSBkaWZmaWN1bHR5TmFtZSA9ICdIYXJkJ1xuICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWUgPT09IGRpZmZpY3VsdHkpIHtcbiAgICAgIGRpZmZpY3VsdHlOYW1lID0gJ0V4dHJlbWUnXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsID09PSBkaWZmaWN1bHR5KSB7XG4gICAgICBkaWZmaWN1bHR5TmFtZSA9ICdDcml0aWNhbCdcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaW1wb3NzaWJsZSA9PT0gZGlmZmljdWx0eSkge1xuICAgICAgZGlmZmljdWx0eU5hbWUgPSAnSW1wb3NzaWJsZSdcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IGRpZmZpY3VsdHksXG4gICAgICBuYW1lOiBkaWZmaWN1bHR5TmFtZSxcbiAgICAgIG1vZGlmaWVyLFxuICAgICAgZGFtYWdlLFxuICAgICAgaW1wb3NzaWJsZTogZGlmZmljdWx0eSA9PT0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5pbXBvc3NpYmxlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob290IGF0IHRoZSBhY3RpdmUgdGFyZ2V0LiBBZGQgaXQgdG8gdGhlIGxpc3Qgb2Ygc2hvdHMuXG4gICAqIFRPRE8gOiByZWNhbGN1bGVyIGxhIGRpZmZpY3VsdMOpIGRlIHRvdXMgbGVzIHNob3RzICEuXG4gICAqL1xuICBhZGRTaG90QXRDdXJyZW50VGFyZ2V0ICgpIHtcbiAgICB0aGlzLmNhbGNUYXJnZXRzRGlmZmljdWx0eSgpXG4gICAgY29uc3Qgc2hvdCA9IHtcbiAgICAgIHRhcmdldDogdGhpcy5hY3RpdmVUYXJnZXQsXG4gICAgICBleHRyZW1lUmFuZ2U6IHRoaXMuYWN0aXZlVGFyZ2V0LmV4dHJlbWVSYW5nZSxcbiAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdGl2ZVRhcmdldC5hY3RvcktleSxcbiAgICAgIGFjdG9yTmFtZTogdGhpcy5hY3RpdmVUYXJnZXQubmFtZSxcbiAgICAgIGRpZmZpY3VsdHk6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5LmxldmVsLFxuICAgICAgbW9kaWZpZXI6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5Lm1vZGlmaWVyLFxuICAgICAgZGFtYWdlOiB0aGlzLmFjdGl2ZVRhcmdldC5zaG90RGlmZmljdWx0eS5kYW1hZ2UsXG4gICAgICBidWxsZXRzU2hvdDogMSxcbiAgICAgIHRyYW5zaXRCdWxsZXRzOiAwLFxuICAgICAgYnVsbGV0c1Nob3RUcmFuc2l0OiAxLFxuICAgICAgdHJhbnNpdDogZmFsc2VcbiAgICB9XG5cbiAgICBsZXQgYnVsbGV0TGVmdCA9IHRoaXMudG90YWxBbW1vIC0gdGhpcy50b3RhbEJ1bGxldHNGaXJlZFxuXG4gICAgaWYgKHRoaXMuZnVsbEF1dG8pIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTaG90UmFuayA+IDEpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNTaG90ID0gdGhpcy5zaG90c1t0aGlzLmN1cnJlbnRTaG90UmFuayAtIDJdXG4gICAgICAgIGlmIChwcmV2aW91c1Nob3QuYWN0b3JLZXkgIT09IHRoaXMuYWN0aXZlVGFyZ2V0LmFjdG9yS2V5KSB7XG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBjaGF0SGVscGVyLmdldERpc3RhbmNlKFxuICAgICAgICAgICAgY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkocHJldmlvdXNTaG90LmFjdG9yS2V5KSxcbiAgICAgICAgICAgIGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuYWN0aXZlVGFyZ2V0LmFjdG9yS2V5KVxuICAgICAgICAgIClcbiAgICAgICAgICBzaG90LnRyYW5zaXRCdWxsZXRzID0gTWF0aC5mbG9vcihjaGF0SGVscGVyLnRvWWFyZHMoZGlzdGFuY2UpKVxuICAgICAgICAgIGlmIChzaG90LnRyYW5zaXRCdWxsZXRzID49IGJ1bGxldExlZnQgJiYgIXRoaXMuaWdub3JlQW1tbykge1xuICAgICAgICAgICAgc2hvdC50cmFuc2l0QnVsbGV0cyA9IGJ1bGxldExlZnRcbiAgICAgICAgICAgIGJ1bGxldExlZnQgPSAwXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudG90YWxCdWxsZXRzRmlyZWQgPVxuICAgICAgICAgICAgcGFyc2VJbnQodGhpcy50b3RhbEJ1bGxldHNGaXJlZCkgKyBzaG90LnRyYW5zaXRCdWxsZXRzXG4gICAgICAgICAgc2hvdC50cmFuc2l0ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzaG90LmJ1bGxldHNTaG90ID0gdGhpcy52b2xsZXlTaXplXG4gICAgICBpZiAoc2hvdC5idWxsZXRzU2hvdCA8PSAzKSBzaG90LmJ1bGxldHNTaG90ID0gM1xuICAgICAgaWYgKHNob3QuYnVsbGV0c1Nob3QgPj0gYnVsbGV0TGVmdCAmJiAhdGhpcy5pZ25vcmVBbW1vKSB7XG4gICAgICAgIHNob3QuYnVsbGV0c1Nob3QgPSBidWxsZXRMZWZ0XG4gICAgICAgIGJ1bGxldExlZnQgPSAwXG4gICAgICB9XG4gICAgICAvLyBidWxsZXRzU2hvdFRyYW5zaXQgaXMgZm9yIGxvY2FsaXppbmcgQ29DNy5TaG90QnVsbGV0cyB1c2luZyBwYXJhbWV0ZXJzLCBsb2NhbGl6ZSBkb2VzIG5vdCBhY2NlcHQgYWRkaW5nIGEgcGFyYW1ldGVyIGFzIGEgc3VtIG9mIHNob3QuYnVsbGV0c1Nob3QgKyBzaG90LnRyYW5zaXRCdWxsZXRzLCBzbyBJIGNyZWF0ZSBhIG5ldyB2YWx1ZSBpbiBhZHZhbmNlIHRvIHVzZSBpbnN0ZWFkXG4gICAgICBzaG90LmJ1bGxldHNTaG90VHJhbnNpdCA9IHNob3QuYnVsbGV0c1Nob3QgKyBzaG90LnRyYW5zaXRCdWxsZXRzXG4gICAgfVxuICAgIGlmICh0aGlzLmJ1cnN0KSB7XG4gICAgICBzaG90LmJ1bGxldHNTaG90ID0gcGFyc2VJbnQodGhpcy53ZWFwb24uc3lzdGVtLnVzZXNQZXJSb3VuZC5idXJzdClcbiAgICAgICAgPyBwYXJzZUludCh0aGlzLndlYXBvbi5zeXN0ZW0udXNlc1BlclJvdW5kLmJ1cnN0KVxuICAgICAgICA6IDFcbiAgICAgIGlmIChzaG90LmJ1bGxldHNTaG90ID49IGJ1bGxldExlZnQgJiYgIXRoaXMuaWdub3JlQW1tbykge1xuICAgICAgICBzaG90LmJ1bGxldHNTaG90ID0gYnVsbGV0TGVmdFxuICAgICAgICBidWxsZXRMZWZ0ID0gMFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudG90YWxCdWxsZXRzRmlyZWQgPSBwYXJzZUludCh0aGlzLnRvdGFsQnVsbGV0c0ZpcmVkKSArIHNob3QuYnVsbGV0c1Nob3RcblxuICAgIGlmICh0aGlzLmFpbWluZykge1xuICAgICAgdGhpcy5haW1pbmcgPSBmYWxzZVxuICAgICAgdGhpcy5haW1lZCA9IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLnNob3RzLnB1c2goc2hvdClcbiAgfVxuXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY29tYmF0L3JhbmdlLWluaXRpYXRvci5odG1sJ1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ2hhdENhcmQgKCkge1xuICAgIHRoaXMuY2FsY1RhcmdldHNEaWZmaWN1bHR5KClcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcblxuICAgIC8vIGNvbnN0IGVsZW1lbnQgPSAkKGh0bWwpWzBdO1xuICAgIC8vIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXJnZXRUZXN0Jyk7XG4gICAgLy8gdGhpcy50YXJnZXQuYXR0YWNoVG9FbGVtZW50KHRhcmdldEVsZW1lbnQpO1xuICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICBjb25zdCB0b2tlbiA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gICAgaWYgKHRva2VuKSBzcGVha2VyRGF0YS50b2tlbiA9IHRva2VuLmRvY3VtZW50XG4gICAgZWxzZSBzcGVha2VyRGF0YS5hY3RvciA9IHRoaXMuYWN0b3JcblxuICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKHNwZWFrZXJEYXRhKVxuICAgIC8vIGlmKCB0aGlzLmFjdG9yLmlzVG9rZW4pIHNwZWFrZXIuYWxpYXMgPSB0aGlzLmFjdG9yLnRva2VuLm5hbWU7XG5cbiAgICBjb25zdCB1c2VyID0gdGhpcy5hY3Rvci51c2VyID8gdGhpcy5hY3Rvci51c2VyIDogZ2FtZS51c2VyXG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICB1c2VyOiB1c2VyLmlkLFxuICAgICAgc3BlYWtlcixcbiAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICB9XG5cbiAgICBjb25zdCByb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXMocm9sbE1vZGUpKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICB9XG4gICAgLy8gaWYgKCByb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcgKSBjaGF0RGF0YVsnYmxpbmQnXSA9IHRydWU7XG4gICAgY2hhdERhdGEuYmxpbmQgPSBmYWxzZVxuXG4gICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG5cbiAgICByZXR1cm4gY2hhdE1lc3NhZ2VcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICgpIHtcbiAgICB0aGlzLmNhbGNUYXJnZXRzRGlmZmljdWx0eSgpXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7IGNvbnRlbnQ6IGh0bWwgfSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICB0b2dnbGVGbGFnIChmbGFnTmFtZSkge1xuICAgIGNvbnN0IGZsYWcgPSBmbGFnTmFtZS5pbmNsdWRlcygnLScpXG4gICAgICA/IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoZmxhZ05hbWUpXG4gICAgICA6IGZsYWdOYW1lXG4gICAgaWYgKFxuICAgICAgZmxhZyA9PT0gJ3NpbmdsZVNob3QnIHx8XG4gICAgICBmbGFnID09PSAnbXVsdGlwbGVTaG90cycgfHxcbiAgICAgIGZsYWcgPT09ICdmdWxsQXV0bydcbiAgICApIHtcbiAgICAgIHRoaXMuc2luZ2xlU2hvdCA9IGZhbHNlXG4gICAgICB0aGlzLm11bHRpcGxlU2hvdHMgPSBmYWxzZVxuICAgICAgdGhpcy5mdWxsQXV0byA9IGZhbHNlXG4gICAgICBpZiAoZmxhZyA9PT0gJ2Z1bGxBdXRvJykgdGhpcy5idXJzdCA9IGZhbHNlXG4gICAgICB0aGlzW2ZsYWddID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAoZmxhZyA9PT0gJ2J1cnN0Jykge1xuICAgICAgdGhpcy5mdWxsQXV0byA9IGZhbHNlXG4gICAgICBpZiAoIXRoaXMuc2luZ2xlU2hvdCAmJiAhdGhpcy5tdWx0aXBsZVNob3RzKSB0aGlzLnNpbmdsZVNob3QgPSB0cnVlXG4gICAgICB0aGlzLmJ1cnN0ID0gIXRoaXMuYnVyc3RcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1tmbGFnXSA9ICF0aGlzW2ZsYWddXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZUNhcmQgKCkge1xuICAgIHRoaXMucm9sbHMgPSBbXVxuICAgIGlmICh0aGlzLm11bHRpVGFyZ2V0KSB7XG4gICAgICBsZXQgd2VhcG9uTWFsZnVuY3Rpb24gPSBmYWxzZVxuICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgd2hpbGUgKCF3ZWFwb25NYWxmdW5jdGlvbiAmJiB0aGlzLnNob3RzLmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCB0aGlzLnNob290QXRUYXJnZXQodGhpcy5zaG90c1tpbmRleF0pXG4gICAgICAgIGlmIChyb2xsLmRpY2U/LnJvbGwpIHtcbiAgICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChyb2xsLmRpY2Uucm9sbClcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLndlYXBvbi5zaG9vdEJ1bGxldHMoXG4gICAgICAgICAgcGFyc2VJbnQodGhpcy5zaG90c1tpbmRleF0uYnVsbGV0c1Nob3QpICtcbiAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuc2hvdHNbaW5kZXhdLnRyYW5zaXRCdWxsZXRzKVxuICAgICAgICApXG4gICAgICAgIGlmIChyb2xsLmhhc01hbGZ1bmN0aW9uKSB7XG4gICAgICAgICAgcm9sbC5pc1N1Y2Nlc3MgPSBmYWxzZVxuICAgICAgICAgIHdlYXBvbk1hbGZ1bmN0aW9uID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGluZGV4KytcbiAgICAgICAgdGhpcy5yb2xscy5wdXNoKHJvbGwpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCB0aGlzLnNob290QXRUYXJnZXQoKVxuICAgICAgaWYgKHJvbGwuZGljZT8ucm9sbCkge1xuICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChyb2xsLmRpY2Uucm9sbClcbiAgICAgIH1cbiAgICAgIGxldCBidWxsZXRGaXJlZCA9IHRoaXMuYnVyc3RcbiAgICAgICAgPyBwYXJzZUludCh0aGlzLndlYXBvbi5zeXN0ZW0udXNlc1BlclJvdW5kLmJ1cnN0KVxuICAgICAgICA6IDFcbiAgICAgIGlmIChidWxsZXRGaXJlZCA+PSB0aGlzLnRvdGFsQW1tbykgYnVsbGV0RmlyZWQgPSB0aGlzLnRvdGFsQW1tb1xuICAgICAgY29uc3Qgc2hvdCA9IHtcbiAgICAgICAgdGFyZ2V0OiB0aGlzLmFjdGl2ZVRhcmdldCxcbiAgICAgICAgZXh0cmVtZVJhbmdlOiB0aGlzLmFjdGl2ZVRhcmdldC5leHRyZW1lUmFuZ2UsXG4gICAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdGl2ZVRhcmdldC5hY3RvcktleSxcbiAgICAgICAgYWN0b3JOYW1lOiB0aGlzLmFjdGl2ZVRhcmdldC5uYW1lLFxuICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmFjdGl2ZVRhcmdldC5zaG90RGlmZmljdWx0eS5sZXZlbCxcbiAgICAgICAgbW9kaWZpZXI6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5Lm1vZGlmaWVyLFxuICAgICAgICBkYW1hZ2U6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5LmRhbWFnZSxcbiAgICAgICAgYnVsbGV0c1Nob3Q6IGJ1bGxldEZpcmVkLFxuICAgICAgICB0cmFuc2l0QnVsbGV0czogMCxcbiAgICAgICAgdHJhbnNpdDogZmFsc2VcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMud2VhcG9uLnNob290QnVsbGV0cyhidWxsZXRGaXJlZClcblxuICAgICAgaWYgKHJvbGwuaGFzTWFsZnVuY3Rpb24pIHtcbiAgICAgICAgcm9sbC5pc1N1Y2Nlc3MgPSBmYWxzZVxuICAgICAgfVxuICAgICAgdGhpcy5zaG90cy5wdXNoKHNob3QpXG4gICAgICB0aGlzLnJvbGxzLnB1c2gocm9sbClcbiAgICB9XG4gICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICB0aGlzLnJvbGxlZCA9IHRydWVcblxuICAgIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgYXN5bmMgc2hvb3RBdFRhcmdldCAoc2hvdCA9IG51bGwpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBzaG90XG4gICAgICA/IHRoaXMuZ2V0VGFyZ2V0RnJvbUtleShzaG90LmFjdG9yS2V5KVxuICAgICAgOiB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgY2hlY2suYWN0b3JLZXkgPSB0aGlzLmFjdG9yS2V5XG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yS2V5XG4gICAgY2hlY2suaXRlbSA9IHRoaXMuaXRlbUlkXG4gICAgLy8gQ29tYmF0IHJvbGwgY2Fubm90IGJlIGJsaW5kIG9yIHVua25vd25cbiAgICBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICBjaGVjay5pc1Vua29ud24gPSBmYWxzZVxuICAgIGlmICh0aGlzLmF1dG9GaXJlKSBjaGVjay5za2lsbCA9IHRoaXMuYXV0b1dlYXBvblNraWxsXG4gICAgZWxzZSBjaGVjay5za2lsbCA9IHRoaXMubWFpbldlYXBvblNraWxsXG4gICAgaWYgKHRoaXMubXVsdGlUYXJnZXQpIHtcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBzaG90LmRpZmZpY3VsdHlcbiAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IHNob3QubW9kaWZpZXJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYWxjVGFyZ2V0c0RpZmZpY3VsdHkoKVxuICAgICAgdGhpcy50b3RhbEJ1bGxldHNGaXJlZCA9IHBhcnNlSW50KHRoaXMudG90YWxCdWxsZXRzRmlyZWQpICsgMVxuICAgICAgaWYgKHRoaXMuYWltaW5nKSB7XG4gICAgICAgIHRoaXMuYWltaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy5haW1lZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSB0aGlzLmFjdGl2ZVRhcmdldC5zaG90RGlmZmljdWx0eS5sZXZlbFxuICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gdGhpcy5hY3RpdmVUYXJnZXQuc2hvdERpZmZpY3VsdHkubW9kaWZpZXJcbiAgICB9XG5cbiAgICBjaGVjay5kZXRhaWxzID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlRhcmdldCcpfTogJHt0YXJnZXQubmFtZX1gXG4gICAgY2hlY2sudGFyZ2V0S2V5ID0gdGFyZ2V0LmFjdG9yS2V5XG5cbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICByZXR1cm4gY2hlY2tcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tTWVzc2FnZUlkIChtZXNzYWdlSWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuICAgIGlmICghbWVzc2FnZSkgcmV0dXJuIG51bGxcbiAgICBjb25zdCBjYXJkID0gJChtZXNzYWdlLmNvbnRlbnQpWzBdXG5cbiAgICBjb25zdCBpbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZCwgbWVzc2FnZUlkKVxuICAgIGluaXRpYXRvci5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcblxuICAgIHJldHVybiBpbml0aWF0b3JcbiAgfVxuXG4gIGNoYW5nZVZvbGxleVNpemUgKHgpIHtcbiAgICB0aGlzLnZvbGxleVNpemUgPSB0aGlzLnZvbGxleVNpemUgKyB4XG4gICAgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBzdGF0aWMgdXBkYXRlQ2FyZFN3aXRjaCAoZXZlbnQsIHB1Ymxpc2hVcGRhdGUgPSB0cnVlKSB7XG4gICAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnJhbmdlLmluaXRpYXRvcicpXG4gICAgY29uc3QgZmxhZyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnXG4gICAgY29uc3QgY2FtZWxGbGFnID0gY2hhdEhlbHBlci5oeXBoZW5Ub0NhbWVsQ2FzZShmbGFnKVxuXG4gICAgLy8gdXBkYXRlIG9ubHkgZm9yIGxvY2FsIHBsYXllclxuICAgIGlmICghcHVibGlzaFVwZGF0ZSkge1xuICAgICAgY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ10gPSBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXSAhPT0gJ3RydWUnXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ3N3aXRjaGVkLW9uJylcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zZWxlY3RlZCA9IGNhcmQuZGF0YXNldFtjYW1lbEZsYWddXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBjYXJkIGZvciBhbGwgcGxheWVyXG4gICAgICBjb25zdCBpbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0LWZsYWcnKSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50YXJnZXQnKVxuICAgICAgICBjb25zdCBrZXkgPSBwYXJzZUludCh0YXJnZXQuZGF0YXNldC50YXJnZXRLZXkpXG4gICAgICAgIGluaXRpYXRvci50YXJnZXRzW2tleV0udG9nZ2xlRmxhZyhjYW1lbEZsYWcpXG4gICAgICB9IGVsc2UgaW5pdGlhdG9yLnRvZ2dsZUZsYWcoY2FtZWxGbGFnKVxuICAgICAgaW5pdGlhdG9yLnVwZGF0ZUNoYXRDYXJkKClcbiAgICB9XG4gIH1cblxuICBwYXNzUm9sbCAocm9sbEluZGV4KSB7XG4gICAgY29uc3Qgcm9sbCA9IHRoaXMucm9sbHNbcm9sbEluZGV4XVxuICAgIGNvbnN0IGx1Y2tBbW91bnQgPSBwYXJzZUludChyb2xsLmx1Y2tOZWVkZWQpXG4gICAgaWYgKCF0aGlzLmFjdG9yLnNwZW5kTHVjayhsdWNrQW1vdW50KSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgYCR7dGhpcy5hY3Rvci5uYW1lfSBkb2VzIG5vdCBoYXZlIGVub3VnaCBsdWNrIHRvIHBhc3MgdGhlIGNoZWNrYFxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJvbGwuc3VjY2Vzc0xldmVsID0gcm9sbC5kaWZmaWN1bHR5XG4gICAgcm9sbC5pc1N1Y2Nlc3MgPSB0cnVlXG4gICAgcm9sbC5sdWNrU3BlbnQgPSB0cnVlXG4gICAgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICB1cGdyYWRlUm9sbCAocm9sbEluZGV4LCB1cGdyYWRlaW5kZXgpIHtcbiAgICAvLyBUT0RPIDogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBhc3luY1xuICAgIGNvbnN0IHJvbGwgPSB0aGlzLnJvbGxzW3JvbGxJbmRleF1cbiAgICBjb25zdCBpbmNyZWFzZWRTdWNjZXNzID0gcm9sbC5pbmNyZWFzZVN1Y2Nlc3NbdXBncmFkZWluZGV4XVxuICAgIGNvbnN0IGx1Y2tBbW91bnQgPSBwYXJzZUludChpbmNyZWFzZWRTdWNjZXNzLmx1Y2tBbW91bnQpXG4gICAgaWYgKCF0aGlzLmFjdG9yLnNwZW5kTHVjayhsdWNrQW1vdW50KSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgYCR7dGhpcy5hY3Rvci5uYW1lfSBkb2VzIG5vdCBoYXZlIGVub3VnaCBsdWNrIHRvIHBhc3MgdGhlIGNoZWNrYFxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG5ld1N1Y2Nlc3NMZXZlbCA9IHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MubmV3U3VjY2Vzc0xldmVsKVxuICAgIHJvbGwuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgaWYgKHJvbGwuZGlmZmljdWx0eSA8PSBuZXdTdWNjZXNzTGV2ZWwpIHJvbGwuaXNTdWNjZXNzID0gdHJ1ZVxuICAgIHJvbGwubHVja1NwZW50ID0gdHJ1ZVxuICAgIHRoaXMudXBkYXRlQ2hhdENhcmQoKSAvLyBUT0RPIDogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBhc3luY1xuICB9XG5cbiAgc3RhdGljIGdldEZyb21DYXJkIChjYXJkLCBtZXNzYWdlSWQgPSBudWxsKSB7XG4gICAgY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBuZXcgQ29DN1JhbmdlSW5pdGlhdG9yKClcbiAgICByYW5nZUluaXRpYXRvci5fdGFyZ2V0cyA9IFtdXG4gICAgaWYgKG1lc3NhZ2VJZCkgcmFuZ2VJbml0aWF0b3IubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgZWxzZSBpZiAoY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpKSB7XG4gICAgICByYW5nZUluaXRpYXRvci5tZXNzYWdlSWQgPSBjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJykuZGF0YXNldC5tZXNzYWdlSWRcbiAgICB9XG5cbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHJhbmdlSW5pdGlhdG9yLCBjYXJkKVxuICAgIGNvbnN0IGNhcmRUYXJnZXRzID0gY2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0JylcbiAgICBmb3IgKGNvbnN0IHQgb2YgY2FyZFRhcmdldHMpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IENvQzdSYW5nZVRhcmdldC5nZXRGcm9tRWxlbWVudCh0KVxuICAgICAgcmFuZ2VJbml0aWF0b3IudGFyZ2V0cy5wdXNoKHRhcmdldClcbiAgICB9XG5cbiAgICBjb25zdCBjYXJkU2hvdHMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaG90JylcbiAgICBpZiAoY2FyZFNob3RzKSB7XG4gICAgICBmb3IgKGNvbnN0IHMgb2YgY2FyZFNob3RzKSB7XG4gICAgICAgIGNvbnN0IHNob3QgPSB7fVxuICAgICAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHNob3QsIHMpXG4gICAgICAgIHJhbmdlSW5pdGlhdG9yLnNob3RzLnB1c2goc2hvdClcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZWxzZSB7XG4gICAgLy8gIGNvbnN0IHNob3QgPSB7XG4gICAgLy8gICAgICBzaG90T3JkZXI6IDAsXG4gICAgLy8gICAgICBhY3RvcktleTogbnVsbCxcbiAgICAvLyAgICAgIGFjdG9yTmFtZTogJ2R1bW15J1xuICAgIC8vICB9XG4gICAgLy8gfVxuXG4gICAgcmFuZ2VJbml0aWF0b3Iucm9sbHMgPSBbXVxuICAgIGNvbnN0IHJvbGxzID0gY2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcucm9sbC1yZXN1bHQnKVxuICAgIGZvciAoY29uc3QgciBvZiByb2xscykge1xuICAgICAgY29uc3Qgcm9sbCA9IENvQzdSb2xsLmdldEZyb21FbGVtZW50KHIpXG4gICAgICByYW5nZUluaXRpYXRvci5yb2xscy5wdXNoKHJvbGwpXG4gICAgfVxuXG4gICAgcmFuZ2VJbml0aWF0b3IuZGFtYWdlID0gW11cbiAgICBjb25zdCBkYW1hZ2VSb2xscyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLmRhbWFnZS1yZXN1bHRzJylcbiAgICBmb3IgKGNvbnN0IGRyIG9mIGRhbWFnZVJvbGxzKSB7XG4gICAgICBjb25zdCBkYW1hZ2VSb2xsID0gQ29DN0RhbWFnZS5nZXRGcm9tRWxlbWVudChkcilcbiAgICAgIHJhbmdlSW5pdGlhdG9yLmRhbWFnZS5wdXNoKGRhbWFnZVJvbGwpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlSW5pdGlhdG9yXG4gIH1cblxuICBhc3luYyByb2xsRGFtYWdlICgpIHtcbiAgICB0aGlzLmRhbWFnZSA9IFtdXG4gICAgY29uc3QgaGl0cyA9IHRoaXMuc3VjY2Vzc2Z1bEhpdHNcblxuICAgIC8vIGxldCB2b2xsZXlTaXplID0gMTtcbiAgICAvLyBpZiggdGhpcy5mdWxsQXV0bykge1xuICAgIC8vICB2b2xsZXlTaXplID0gdGhpcy52b2xsZXlTaXplO1xuICAgIC8vICBpZih2b2xsZXlTaXplIDwgMykgdm9sbGV5U2l6ZSA9IDM7XG4gICAgLy8gfVxuICAgIC8vIGlmKCB0aGlzLmJ1cnN0KSB2b2xsZXlTaXplID0gcGFyc2VJbnQodGhpcy53ZWFwb24uZGF0YS5kYXRhLnVzZXNQZXJSb3VuZC5idXJzdCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBoID0gaGl0c1tpXVxuICAgICAgY29uc3Qgdm9sbGV5U2l6ZSA9IHBhcnNlSW50KGguc2hvdC5idWxsZXRzU2hvdClcbiAgICAgIGNvbnN0IGRhbWFnZVJvbGxzID0gW11cblxuICAgICAgaWYgKHZvbGxleVNpemUgPiAwKSB7XG4gICAgICAgIGxldCBkYW1hZ2VGb3JtdWxhID0gU3RyaW5nKGguc2hvdC5kYW1hZ2UpXG4gICAgICAgIGlmICghZGFtYWdlRm9ybXVsYSB8fCBkYW1hZ2VGb3JtdWxhID09PSAnJykgZGFtYWdlRm9ybXVsYSA9ICcwJ1xuICAgICAgICBjb25zdCBkYW1hZ2VEaWUgPSBDb0M3RGFtYWdlLmdldE1haW5EaWUoZGFtYWdlRm9ybXVsYSlcbiAgICAgICAgY29uc3QgbWF4RGFtYWdlID0gbmV3IFJvbGwoZGFtYWdlRm9ybXVsYSkuZXZhbHVhdGUoe1xuICAgICAgICAgIG1heGltaXplOiB0cnVlXG4gICAgICAgIH0pLnRvdGFsXG4gICAgICAgIGNvbnN0IGNyaXRpY2FsRGFtYWdlRm9ybXVsYSA9IHRoaXMud2VhcG9uLmltcGFsZVxuICAgICAgICAgID8gYCR7ZGFtYWdlRm9ybXVsYX0gKyAke21heERhbWFnZX1gXG4gICAgICAgICAgOiBgJHttYXhEYW1hZ2V9YFxuICAgICAgICBjb25zdCBjcml0aWNhbERhbWFnZURpZSA9IENvQzdEYW1hZ2UuZ2V0TWFpbkRpZShjcml0aWNhbERhbWFnZUZvcm11bGEpXG5cbiAgICAgICAgbGV0IGltcGFsaW5nU2hvdHMgPSAwXG4gICAgICAgIGxldCBzdWNjZXNzZnVsU2hvdHMgPSAwXG4gICAgICAgIGxldCBjcml0aWNhbCA9IGZhbHNlXG4gICAgICAgIGlmICh0aGlzLmZ1bGxBdXRvIHx8IHRoaXMuYnVyc3QpIHtcbiAgICAgICAgICBzdWNjZXNzZnVsU2hvdHMgPSBNYXRoLmZsb29yKHZvbGxleVNpemUgLyAyKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdWNjZXNzZnVsU2hvdHMgPT09IDApIHN1Y2Nlc3NmdWxTaG90cyA9IDFcbiAgICAgICAgaWYgKGgucm9sbC5zdWNjZXNzTGV2ZWwgPj0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lKSB7XG4gICAgICAgICAgaW1wYWxpbmdTaG90cyA9IHN1Y2Nlc3NmdWxTaG90c1xuICAgICAgICAgIHN1Y2Nlc3NmdWxTaG90cyA9IHZvbGxleVNpemUgLSBpbXBhbGluZ1Nob3RzXG4gICAgICAgICAgY3JpdGljYWwgPSB0cnVlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5jcml0aWNhbCAhPT0gaC5yb2xsLnN1Y2Nlc3NMZXZlbCAmJlxuICAgICAgICAgICAgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZSA8PSBoLnJvbGwuZGlmZmljdWx0eSB8fFxuICAgICAgICAgICAgICBoLnNob3QuZXh0cmVtZVJhbmdlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc3VjY2Vzc2Z1bFNob3RzID0gdm9sbGV5U2l6ZVxuICAgICAgICAgICAgaW1wYWxpbmdTaG90cyA9IDBcbiAgICAgICAgICAgIGNyaXRpY2FsID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG90YWwgPSAwXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzdWNjZXNzZnVsU2hvdHM7IGluZGV4KyspIHtcbiAgICAgICAgICBjb25zdCByb2xsID0gbmV3IFJvbGwoZGFtYWdlRm9ybXVsYSlcbiAgICAgICAgICAvKiogTU9ESUYgMC44LnggKiovXG4gICAgICAgICAgYXdhaXQgcm9sbC5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2Qocm9sbClcbiAgICAgICAgICAvKioqKioqKioqKioqKioqKiovXG4gICAgICAgICAgZGFtYWdlUm9sbHMucHVzaCh7XG4gICAgICAgICAgICBmb3JtdWxhOiBkYW1hZ2VGb3JtdWxhLFxuICAgICAgICAgICAgdG90YWw6IHJvbGwudG90YWwsXG4gICAgICAgICAgICBkaWU6IGRhbWFnZURpZSxcbiAgICAgICAgICAgIGNyaXRpY2FsOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdG90YWwgKz0gcm9sbC50b3RhbFxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbXBhbGluZ1Nob3RzOyBpbmRleCsrKSB7XG4gICAgICAgICAgY29uc3Qgcm9sbCA9IG5ldyBSb2xsKGNyaXRpY2FsRGFtYWdlRm9ybXVsYSlcbiAgICAgICAgICAvKiogTU9ESUYgMC44LnggKiovXG4gICAgICAgICAgYXdhaXQgcm9sbC5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2Qocm9sbClcbiAgICAgICAgICAvKioqKioqKioqKioqKioqKiovXG4gICAgICAgICAgZGFtYWdlUm9sbHMucHVzaCh7XG4gICAgICAgICAgICBmb3JtdWxhOiBjcml0aWNhbERhbWFnZUZvcm11bGEsXG4gICAgICAgICAgICB0b3RhbDogcm9sbC50b3RhbCxcbiAgICAgICAgICAgIGRpZTogY3JpdGljYWxEYW1hZ2VEaWUsXG4gICAgICAgICAgICBjcml0aWNhbDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdG90YWwgKz0gcm9sbC50b3RhbFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRhcmdldE5hbWUgPSAnZHVtbXknXG4gICAgICAgIGxldCB0YXJnZXQgPSBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleShoLnJvbGwudGFyZ2V0S2V5KVxuICAgICAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoaC5yb2xsLnRhcmdldEtleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICAgIGlmICh0YXJnZXQpIHRhcmdldE5hbWUgPSB0YXJnZXQubmFtZVxuXG4gICAgICAgIHRoaXMuZGFtYWdlLnB1c2goe1xuICAgICAgICAgIHRhcmdldEtleTogaC5yb2xsLnRhcmdldEtleSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIHJvbGxzOiBkYW1hZ2VSb2xscyxcbiAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICBjcml0aWNhbCxcbiAgICAgICAgICBkZWFsdDogZmFsc2UsXG4gICAgICAgICAgcmVzdWx0U3RyaW5nOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LnJhbmdlQ29tYmF0RGFtYWdlJywge1xuICAgICAgICAgICAgbmFtZTogdGFyZ2V0TmFtZSxcbiAgICAgICAgICAgIHRvdGFsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhbWFnZVJvbGxlZCA9IHRoaXMuZGFtYWdlLmxlbmd0aCAhPT0gMFxuICAgIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgYXN5bmMgZGVhbERhbWFnZSAoKSB7XG4gICAgZm9yIChsZXQgZEluZGV4ID0gMDsgZEluZGV4IDwgdGhpcy5kYW1hZ2UubGVuZ3RoOyBkSW5kZXgrKykge1xuICAgICAgY29uc3QgYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmRhbWFnZVtkSW5kZXhdLnRhcmdldEtleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBpZiAoYWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm9UYXJnZXRUb0RhbWFnZScpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS50b3RhbFRha2VuID0gMFxuICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnRvdGFsQWJzb3JiZWQgPSAwXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IHJJbmRleCA9IDA7XG4gICAgICAgICAgckluZGV4IDwgdGhpcy5kYW1hZ2VbZEluZGV4XS5yb2xscy5sZW5ndGg7XG4gICAgICAgICAgckluZGV4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgZGVhbHRBbW91bnQgPSBhd2FpdCBhY3Rvci5kZWFsRGFtYWdlKFxuICAgICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5yb2xsc1tySW5kZXhdLnRvdGFsXG4gICAgICAgICAgKVxuICAgICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0udG90YWxUYWtlbiArPSBkZWFsdEFtb3VudFxuICAgICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0ucm9sbHNbckluZGV4XS50YWtlbiA9IGRlYWx0QW1vdW50XG4gICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5yb2xsc1tySW5kZXhdLmFic29yYmVkID1cbiAgICAgICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0ucm9sbHNbckluZGV4XS50b3RhbCAtIGRlYWx0QW1vdW50XG4gICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS50b3RhbEFic29yYmVkICs9XG4gICAgICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnJvbGxzW3JJbmRleF0udG90YWwgLSBkZWFsdEFtb3VudFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0uZGVhbHQgPSB0cnVlXG4gICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0ucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAnQ29DNy5yYW5nZUNvbWJhdERhbWFnZUFybW9yJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLmRhbWFnZVtkSW5kZXhdLnRhcmdldE5hbWUsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy5kYW1hZ2VbZEluZGV4XS50b3RhbFRha2VuLFxuICAgICAgICAgICAgYXJtb3I6IHRoaXMuZGFtYWdlW2RJbmRleF0udG90YWxBYnNvcmJlZFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRhbWFnZURlYWx0ID0gdHJ1ZVxuICAgIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3UmFuZ2VUYXJnZXQge1xuICBjb25zdHJ1Y3RvciAoYWN0b3JLZXkgPSBudWxsKSB7XG4gICAgdGhpcy5hY3RvcktleSA9IGFjdG9yS2V5XG4gICAgdGhpcy5jb3ZlciA9IGZhbHNlXG4gICAgdGhpcy5wb2ludEJsYW5rUmFuZ2UgPSBmYWxzZVxuICAgIHRoaXMuYmFzZVJhbmdlID0gdHJ1ZVxuICAgIHRoaXMubG9uZ1JhbmdlID0gZmFsc2VcbiAgICB0aGlzLmV4dHJlbWVSYW5nZSA9IGZhbHNlXG4gICAgdGhpcy5pbk1lbGVlID0gZmFsc2VcbiAgfVxuXG4gIGdldCBiaWcgKCkge1xuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX2JpZykge1xuICAgICAgaWYgKHRoaXMuYWN0b3IgJiYgdGhpcy5hY3Rvci5idWlsZCkgdGhpcy5fYmlnID0gdGhpcy5hY3Rvci5idWlsZCA+PSA0XG4gICAgICBlbHNlIHRoaXMuX2JpZyA9IGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9iaWdcbiAgfVxuXG4gIHNldCBiaWcgKGIpIHtcbiAgICB0aGlzLl9iaWcgPSBiXG4gIH1cblxuICBnZXQgc21hbGwgKCkge1xuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX3NtYWxsKSB7XG4gICAgICBpZiAodGhpcy5hY3RvciAmJiB0aGlzLmFjdG9yLmJ1aWxkKSB0aGlzLl9zbWFsbCA9IHRoaXMuYWN0b3IuYnVpbGQgPD0gLTJcbiAgICAgIGVsc2UgdGhpcy5fc21hbGwgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc21hbGxcbiAgfVxuXG4gIHNldCBzbWFsbCAoYikge1xuICAgIHRoaXMuX3NtYWxsID0gYlxuICB9XG5cbiAgZ2V0IG5vcm1hbCAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmJpZyAmJiAhdGhpcy5zbWFsbFxuICB9XG5cbiAgc2V0IG5vcm1hbCAoYikge1xuICAgIHRoaXMuX2JpZyA9IGZhbHNlXG4gICAgdGhpcy5fc21hbGwgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IGlzRmFzdCAoKSB7XG4gICAgaWYgKHRoaXMuYWN0b3IgJiYgdGhpcy5hY3Rvci5tb3YpIHJldHVybiB0aGlzLmFjdG9yLm1vdiA+PSA4XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgZmFzdCAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fZmFzdCkge1xuICAgICAgLy8gaWYoIHRoaXMuYWN0b3IgJiYgdGhpcy5hY3Rvci5tb3YpIHRoaXMuX2Zhc3QgPSB0aGlzLmFjdG9yLm1vdiA+PSA4O1xuICAgICAgLy8gZWxzZSB0aGlzLl9mYXN0ID0gZmFsc2U7XG4gICAgICB0aGlzLl9mYXN0ID0gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2Zhc3RcbiAgfVxuXG4gIHNldCBmYXN0IChiKSB7XG4gICAgdGhpcy5fZmFzdCA9IGJcbiAgfVxuXG4gIGdldCBhY3RvciAoKSB7XG4gICAgaWYgKHRoaXMuYWN0b3JLZXkgJiYgIXRoaXMuX2FjdG9yKSB7XG4gICAgICB0aGlzLl9hY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWN0b3JcbiAgfVxuXG4gIGdldCBuYW1lICgpIHtcbiAgICBpZiAodGhpcy50b2tlbikgcmV0dXJuIHRoaXMudG9rZW4ubmFtZVxuICAgIGlmICh0aGlzLmFjdG9yKSByZXR1cm4gdGhpcy5hY3Rvci5uYW1lXG4gICAgcmV0dXJuICdEdW1teSdcbiAgfVxuXG4gIGdldCBpbWcgKCkge1xuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICBpZiAodGhpcy50b2tlbi5kb2N1bWVudD8udGV4dHVyZS5zcmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW4uZG9jdW1lbnQ/LnRleHR1cmUuc3JjXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmFjdG9yKSByZXR1cm4gdGhpcy5hY3Rvci5kYXRhLmltZ1xuICAgIHJldHVybiAnLi4vaWNvbnMvc3ZnL215c3RlcnktbWFuLWJsYWNrLnN2ZydcbiAgfVxuXG4gIGdldCB0b2tlbiAoKSB7XG4gICAgaWYgKCF0aGlzLl90b2tlbiAmJiB0aGlzLmFjdG9yS2V5KSB7XG4gICAgICB0aGlzLl90b2tlbiA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl90b2tlblxuICB9XG5cbiAgZ2V0IHNpemVUZXh0ICgpIHtcbiAgICBpZiAodGhpcy5iaWcpIHtcbiAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucmFuZ2VDb21iYXRDYXJkLkJpZ1RhcmdldFRpdGxlJylcbiAgICB9XG4gICAgaWYgKHRoaXMuc21hbGwpIHtcbiAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucmFuZ2VDb21iYXRDYXJkLlNtYWxsVGFyZ2V0VGl0bGUnKVxuICAgIH1cbiAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LnJhbmdlQ29tYmF0Q2FyZC5Ob3JtYWxUYXJnZXRUaXRsZScpXG4gIH1cblxuICBnZXQgc2l6ZUxhYmVsICgpIHtcbiAgICBpZiAodGhpcy5iaWcpIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucmFuZ2VDb21iYXRDYXJkLkJpZ1RhcmdldCcpXG4gICAgaWYgKHRoaXMuc21hbGwpIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuY29tYmF0Q2FyZC5TbWFsbFRhcmdldCcpXG4gICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5yYW5nZUNvbWJhdENhcmQuTm9ybWFsVGFyZ2V0JylcbiAgfVxuXG4gIGdldCBkaWZmaWN1bHR5ICgpIHtcbiAgICBpZiAodGhpcy5iYXNlUmFuZ2UgfHwgdGhpcy5wb2ludEJsYW5rUmFuZ2UpIHtcbiAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB9XG4gICAgaWYgKHRoaXMubG9uZ1JhbmdlKSByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkXG4gICAgaWYgKHRoaXMuZXh0cmVtZVJhbmdlKSByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lXG4gICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaW1wb3NzaWJsZVxuICB9XG5cbiAgZ2V0IG1vZGlmaWVyICgpIHtcbiAgICBsZXQgbW9kaWZpZXIgPSAwXG4gICAgaWYgKHRoaXMuY292ZXIpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5wb2ludEJsYW5rUmFuZ2UpIG1vZGlmaWVyKytcbiAgICBpZiAodGhpcy5mYXN0KSBtb2RpZmllci0tXG4gICAgaWYgKHRoaXMuc21hbGwpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5iaWcpIG1vZGlmaWVyKytcbiAgICBpZiAodGhpcy5pbk1lbGVlKSBtb2RpZmllci0tXG4gICAgaWYgKHRoaXMuc3VycHJpc2VkKSBtb2RpZmllcisrXG4gICAgcmV0dXJuIG1vZGlmaWVyXG4gIH1cblxuICBzZXQgdG9rZW4gKHQpIHtcbiAgICB0aGlzLl90b2tlbiA9IHRcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tRWxlbWVudCAoZWxlbWVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IG5ldyBDb0M3UmFuZ2VUYXJnZXQoKVxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQodGFyZ2V0LCBlbGVtZW50KVxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIHN0YXRpYyBjaGFuZ2VEaXNwbGF5ZWRUYXJnZXQgKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0LXNlbGVjdG9yJykpIHJldHVybiBudWxsXG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgdGFyZ2V0cyA9IHRhcmdldFNlbGVjdG9yLmNsb3Nlc3QoJy50YXJnZXRzJylcbiAgICBjb25zdCB0YXJnZXRMaXN0ID0gdGFyZ2V0cy5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0JylcbiAgICByZXR1cm4gdGFyZ2V0TGlzdFxuICB9XG5cbiAgYXR0YWNoVG9FbGVtZW50IChlbGVtZW50KSB7XG4gICAgY2hhdEhlbHBlci5hdHRhY2hPYmplY3RUb0VsZW1lbnQodGhpcywgZWxlbWVudClcbiAgfVxuXG4gIHRvZ2dsZUZsYWcgKGZsYWcpIHtcbiAgICBpZiAoXG4gICAgICBmbGFnID09PSAnYmFzZVJhbmdlJyB8fFxuICAgICAgZmxhZyA9PT0gJ2xvbmdSYW5nZScgfHxcbiAgICAgIGZsYWcgPT09ICdleHRyZW1lUmFuZ2UnIHx8XG4gICAgICBmbGFnID09PSAncG9pbnRCbGFua1JhbmdlJ1xuICAgICkge1xuICAgICAgdGhpcy5wb2ludEJsYW5rUmFuZ2UgPSBmYWxzZVxuICAgICAgdGhpcy5iYXNlUmFuZ2UgPSBmYWxzZVxuICAgICAgdGhpcy5sb25nUmFuZ2UgPSBmYWxzZVxuICAgICAgdGhpcy5leHRyZW1lUmFuZ2UgPSBmYWxzZVxuICAgICAgdGhpcy5vdXRPZlJhbmdlID0gZmFsc2VcbiAgICAgIHRoaXNbZmxhZ10gPSB0cnVlXG4gICAgfSBlbHNlIGlmIChmbGFnID09PSAnc2l6ZScpIHtcbiAgICAgIGlmICh0aGlzLnNtYWxsKSB7XG4gICAgICAgIHRoaXMuc21hbGwgPSBmYWxzZVxuICAgICAgICB0aGlzLmJpZyA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5iaWcpIHtcbiAgICAgICAgdGhpcy5zbWFsbCA9IGZhbHNlXG4gICAgICAgIHRoaXMuYmlnID0gZmFsc2VcbiAgICAgIH0gZWxzZSB0aGlzLnNtYWxsID0gdHJ1ZVxuICAgIH0gZWxzZSB0aGlzW2ZsYWddID0gIXRoaXNbZmxhZ11cbiAgICBpZiAoZmxhZyA9PT0gJ2Zhc3QnICYmIHRoaXMuZmFzdCAmJiAhdGhpcy5pc0Zhc3QpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XYXJuRmFzdFRhcmdldFdpdGhXcm9uZ01PVicsIHtcbiAgICAgICAgICBtb3Y6IHRoaXMuYWN0b3IubW92XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ2hhdE1lc3NhZ2UsIENPTlNULCBnYW1lLCBUb2tlbiwgdG9rZW5EYXRhLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi9jaGVjay5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi9hcHBzL2NvYzctbGluay5qcydcbmltcG9ydCB7IENvQzdNZWxlZUluaXRpYXRvciB9IGZyb20gJy4vY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlVGFyZ2V0IH0gZnJvbSAnLi9jaGF0L2NvbWJhdC9tZWxlZS10YXJnZXQuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVSZXNvbHRpb24gfSBmcm9tICcuL2NoYXQvY29tYmF0L21lbGVlLXJlc29sdXRpb24uanMnXG5pbXBvcnQgeyBDb0M3UmFuZ2VJbml0aWF0b3IgfSBmcm9tICcuL2NoYXQvcmFuZ2Vjb21iYXQuanMnXG5pbXBvcnQgeyBDb0M3Um9sbCwgY2hhdEhlbHBlciwgaXNDdHJsS2V5IH0gZnJvbSAnLi9jaGF0L2hlbHBlci5qcydcbi8vIGltcG9ydCB7IENvQzdEYW1hZ2VSb2xsIH0gZnJvbSAnLi9jaGF0L2RhbWFnZWNhcmRzLmpzJztcbmltcG9ydCB7IENvQzdDb25DaGVjayB9IGZyb20gJy4vY2hhdC9jb25jaGVjay5qcydcbmltcG9ydCB7IFNhbkNoZWNrQ2FyZCB9IGZyb20gJy4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5pbXBvcnQgeyBPcHBvc2VkQ2hlY2tDYXJkIH0gZnJvbSAnLi9jaGF0L2NhcmRzL29wcG9zZWQtcm9sbC5qcydcbmltcG9ydCB7IENvbWJpbmVkQ2hlY2tDYXJkIH0gZnJvbSAnLi9jaGF0L2NhcmRzL2NvbWJpbmVkLXJvbGwuanMnXG5pbXBvcnQgeyBJbnRlcmFjdGl2ZUNoYXRDYXJkIH0gZnJvbSAnLi9jaGF0L2ludGVyYWN0aXZlLWNoYXQtY2FyZC5qcydcbmltcG9ydCB7IERhbWFnZUNhcmQgfSBmcm9tICcuL2NoYXQvY2FyZHMvZGFtYWdlLmpzJ1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuL2RpY2UuanMnXG5cbmNvbnN0IENIQVRfQ09DN19NRVNTQUdFID0ge1xuICBGQUtFUk9MTDpcbiAgICAnPGRpdiBjbGFzcz1cImRpY2Utcm9sbFwiPjxkaXYgY2xhc3M9XCJkaWNlLXJlc3VsdFwiPjxkaXYgY2xhc3M9XCJkaWNlLWZvcm11bGFcIj4/Pz88L2Rpdj48aDQgY2xhc3M9XCJkaWNlLXRvdGFsXCI+PzwvaDQ+PC9kaXY+PC9kaXY+J1xufVxuZXhwb3J0IGNsYXNzIENvQzdDaGF0IHtcbiAgc3RhdGljIHJlbmRlckNoYXRNZXNzYWdlSG9vayAoY2hhdE1lc3NhZ2UsIGh0bWwpIHtcbiAgICBpZiAoY2hhdE1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdHTVNlbGZSb2xsJykgJiYgIWdhbWUudXNlci5pc0dNKSB7XG4gICAgICBodG1sLmZpbmQoJy53aGlzcGVyLXRvJykucmVtb3ZlKClcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5mbGF2b3ItdGV4dCcpXG4gICAgICAgIC5yZXBsYWNlV2l0aChcbiAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJmbGF2b3ItdGV4dFwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgJ0NvQzcuUm9sbFNlY3JldERpY2UnXG4gICAgICAgICAgKX08L3NwYW4+YFxuICAgICAgICApXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcubWVzc2FnZS1jb250ZW50JylcbiAgICAgICAgLnJlcGxhY2VXaXRoKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwibWVzc2FnZS1jb250ZW50XCI+JHtDSEFUX0NPQzdfTUVTU0FHRS5GQUtFUk9MTH08L2Rpdj5gXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoY2hhdE1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdyZW1vdmVXaXNwZXJUYXJnZXRzJykgJiYgIWdhbWUudXNlci5pc0dNKSB7XG4gICAgICBodG1sLmZpbmQoJy53aGlzcGVyLXRvJykucmVtb3ZlKClcbiAgICB9XG5cbiAgICBpZiAoY2hhdE1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdmYWtlUm9sbCcpICYmIGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuZmxhdm9yLXRleHQnKVxuICAgICAgICAucmVwbGFjZVdpdGgoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LktlZXBlclNlbnREZWNveScpKVxuICAgICAgaHRtbC5maW5kKCcubWVzc2FnZS1jb250ZW50JykucmVtb3ZlKClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZmFrZVJvbGxNZXNzYWdlICgpIHtcbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxTZWNyZXREaWNlJyksXG4gICAgICB3aGlzcGVyOiBnYW1lLnVzZXJzLnBsYXllcnMsXG4gICAgICB0eXBlOiBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuV0hJU1BFUixcbiAgICAgIGZsYWdzOiB7XG4gICAgICAgIENvQzc6IHtcbiAgICAgICAgICBHTVNlbGZSb2xsOiBmYWxzZSxcbiAgICAgICAgICByZW1vdmVXaXNwZXJUYXJnZXRzOiB0cnVlLFxuICAgICAgICAgIGZha2VSb2xsOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBDSEFUX0NPQzdfTUVTU0FHRS5GQUtFUk9MTFxuICAgIH1cblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSlcbiAgfVxuXG4gIC8vIFRPRE8gcmVtcGxhY2VyIGxlcyBnZXRFbGVtZW50c0J5eHh4eCBwYXIgcXVlcnlTZWxlY3RvclxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICpcbiAgICogIEluaXQgc29ja2V0cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICBzdGF0aWMgcmVhZHkgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCctLT5Db0M3Q2hhdC5yZWFkeScpO1xuICAgIGdhbWUuQ29DNyA9ICdpbml0J1xuICB9XG5cbiAgLy8gc3RhdGljIG9uTWVzc2FnZSggZGF0YSkge1xuICAvLyAgY29uc29sZS5sb2coJy0tPkNvQzdDaGF0Lm9uTWVzc2FnZScpO1xuICAvLyAgY29uc29sZS5sb2coYG1lc3NhZ2UgcmVjZWl2ZWQgc2VuZCZlciA6JHtkYXRhLnVzZXJ9IG1lc3NhZ2UgdHlwZSA6ICR7ZGF0YS5hY3Rpb259IGZvciBtZXNzYWdlIDoke2RhdGEubWVzc2FnZUlkfWApO1xuICAvLyB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKlxuICAgKiAgQ2hhdCBNZXNzYWdlIEhlbHBlcnMgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgc3RhdGljIGFzeW5jIGNoYXRMaXN0ZW5lcnMgKGFwcCwgaHRtbCkge1xuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5jYXJkLWJ1dHRvbnMgYnV0dG9uJyxcbiAgICAgIENvQzdDaGF0Ll9vbkNoYXRDYXJkQWN0aW9uLmJpbmQodGhpcylcbiAgICApXG4gICAgLy8gaHRtbC5vbignY2xpY2snLCAnLmNhcmQtYnV0dG9ucyBidXR0b24nLCBDb0M3Q2hhdC5fb25DaGF0Q2FyZFRlc3QuYmluZCh0aGlzKSk7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLmNhcmQtdGl0bGUnLFxuICAgICAgQ29DN0NoYXQuX29uQ2hhdENhcmRUb2dnbGVDb250ZW50LmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJhZGlvLXN3aXRjaCcsXG4gICAgICBDb0M3Q2hhdC5fb25DaGF0Q2FyZFJhZGlvU3dpdGNoLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnBhbmVsLXN3aXRjaCcsXG4gICAgICBDb0M3Q2hhdC5fb25DaGF0Q2FyZFRvZ2dsZVN3aXRjaC5iaW5kKHRoaXMpXG4gICAgKVxuXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnNpbXBsZS1mbGFnJyxcbiAgICAgIENvQzdDaGF0Ll9vbkNoYXRDYXJkVG9nZ2xlU3dpdGNoLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbignY2xpY2snLCAnLnZvbGxleS1zaXplJywgQ29DN0NoYXQuX29uQ2hhdENhcmRWb2xsZXlTaXplLmJpbmQodGhpcykpXG5cbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcuZHJvcGRvd24tZWxlbWVudCcsXG4gICAgICBDb0M3Q2hhdC5fb25Ecm9wRG93bkVsZW1lbnRTZWxlY3RlZC5iaW5kKHRoaXMpXG4gICAgKVxuICAgIGh0bWwub24oJ2NsaWNrJywgJy5zaW1wbGUtdG9nZ2xlJywgQ29DN0NoYXQuX29uVG9nZ2xlU2VsZWN0ZWQuYmluZCh0aGlzKSlcbiAgICAvLyBodG1sLm9uKCdjbGljaycsICcuaXMtb3V0bnVtYmVyZWQnLCBDb0M3Q2hhdC5fb25PdXRudW1iZXJlZFNlbGVjdGVkLmJpbmQodGhpcykpO1xuXG4gICAgaHRtbC5vbignY2xpY2snLCAnLnRhcmdldC1zZWxlY3RvcicsIENvQzdDaGF0Ll9vblRhcmdldFNlbGVjdC5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbC5vbignZGJsY2xpY2snLCAnLm9wZW4tYWN0b3InLCBDb0M3Q2hhdC5fb25PcGVuQWN0b3IuYmluZCh0aGlzKSlcblxuICAgIENvQzdMaW5rLmJpbmRFdmVudHNIYW5kbGVyKGh0bWwpXG5cbiAgICBodG1sLm9uKCdjbGljaycsICdjb2M3LWlubGluZS1yZXN1bHQnLCBDb0M3Q2hhdC5fb25JbmxpbmUuYmluZCh0aGlzKSlcblxuICAgIC8vIFJvbGxDYXJkLmJpbmRMaXN0ZXJuZXJzKCBodG1sKTtcbiAgICBPcHBvc2VkQ2hlY2tDYXJkLmJpbmRMaXN0ZXJuZXJzKGh0bWwpXG4gICAgQ29tYmluZWRDaGVja0NhcmQuYmluZExpc3Rlcm5lcnMoaHRtbClcbiAgfVxuXG4gIHN0YXRpYyBfb25PcGVuQWN0b3IgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGFjdG9yS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdG9yS2V5XG4gICAgaWYgKGFjdG9yS2V5KSB7XG4gICAgICBjb25zdCBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KGFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmIChhY3Rvci5pc093bmVyKSBhY3Rvci5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgb25VcGRhdGVDaGF0TWVzc2FnZSAoY2hhdE1lc3NhZ2UpIHtcbiAgICB1aS5jaGF0LnNjcm9sbEJvdHRvbSgpXG5cbiAgICAvLyBpZiggY2hhdE1lc3NhZ2UuZ2V0RmxhZyggJ0NvQzcnLCAncmV2ZWxlZCcpKXtcbiAgICAvLyB9XG4gICAgaWYgKGdhbWUudXNlci5pc0dNICYmIGNoYXRNZXNzYWdlLnR5cGUgPT09IDApIHtcbiAgICAgIGNvbnN0IGNhcmQgPSAkKGNoYXRNZXNzYWdlLmNvbnRlbnQpWzBdXG4gICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbGVlJykpIHtcbiAgICAgICAgaWYgKGNhcmQuZGF0YXNldC5yZXNvbHZlZCA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbml0aWF0b3InKSkge1xuICAgICAgICAgICAgaWYgKGNhcmQuZGF0YXNldC50YXJnZXRDYXJkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKFxuICAgICAgICAgICAgICAgIGNoYXRNZXNzYWdlLmlkXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21NZXNzYWdlSWQoXG4gICAgICAgICAgICAgICAgaW5pdGlhdG9yLnRhcmdldENhcmRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAodGFyZ2V0LnJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbkNhcmQgPSBuZXcgQ29DN01lbGVlUmVzb2x0aW9uKFxuICAgICAgICAgICAgICAgICAgY2hhdE1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICB0YXJnZXQubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlc29sdXRpb25DYXJkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGF3YWl0IHJlc29sdXRpb25DYXJkLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIGlmICghaW5pdGlhdG9yLmNoZWNrUmV2ZWFsZWQpIGF3YWl0IGluaXRpYXRvci5yZXZlYWxDaGVjaygpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKFxuICAgICAgICAgICAgICAgIGNoYXRNZXNzYWdlLmlkXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKGluaXRpYXRvci5yZXNvbHV0aW9uQ2FyZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb25DYXJkID0gbmV3IENvQzdNZWxlZVJlc29sdGlvbihcbiAgICAgICAgICAgICAgICAgIGNoYXRNZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIGluaXRpYXRvci5yZXNvbHV0aW9uQ2FyZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBhd2FpdCByZXNvbHV0aW9uQ2FyZC5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICBpZiAoIWluaXRpYXRvci5jaGVja1JldmVhbGVkKSBhd2FpdCBpbml0aWF0b3IucmV2ZWFsQ2hlY2soKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IENvQzdNZWxlZVRhcmdldC5nZXRGcm9tTWVzc2FnZUlkKGNoYXRNZXNzYWdlLmlkKVxuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbkNhcmQgPSBuZXcgQ29DN01lbGVlUmVzb2x0aW9uKFxuICAgICAgICAgICAgICB0YXJnZXQucGFyZW50TWVzc2FnZUlkLFxuICAgICAgICAgICAgICBjaGF0TWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgdGFyZ2V0LnJlc29sdXRpb25DYXJkXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBhd2FpdCByZXNvbHV0aW9uQ2FyZC5yZXNvbHZlKClcbiAgICAgICAgICAgIGlmICghdGFyZ2V0Lm1lbGVlSW5pdGlhdG9yLmNoZWNrUmV2ZWFsZWQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGFyZ2V0Lm1lbGVlSW5pdGlhdG9yLnJldmVhbENoZWNrKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcmVuZGVyTWVzc2FnZUhvb2sgKG1lc3NhZ2UsIGh0bWwpIHtcbiAgICB1aS5jaGF0LnNjcm9sbEJvdHRvbSgpXG5cbiAgICBJbnRlcmFjdGl2ZUNoYXRDYXJkLmJpbmRMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmIChtZXNzYWdlLmdldEZsYWcoJ0NvQzcnLCAnY2hlY2tSZXZlYWxlZCcpKSB7XG4gICAgICBodG1sLmZpbmQoJy5kaWNlLXJvbGwnKS5yZW1vdmVDbGFzcygnZ20tdmlzaWJsZS1vbmx5JylcbiAgICAgIGh0bWxbMF0uZGF0YXNldC5jaGVja1JldmVhbGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBzaG93aW5nIGRyb3Bkb3duIHNlbGVjdGlvblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuZHJvcGJ0bicpXG4gICAgICAuY2xpY2soZXZlbnQgPT5cbiAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgICAgIC5jbG9zZXN0KCcuZHJvcGRvd24nKVxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tY29udGVudCcpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKVxuICAgICAgKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuZHJvcGRvd24nKVxuICAgICAgLm1vdXNlbGVhdmUoZXZlbnQgPT5cbiAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tY29udGVudCcpXG4gICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxuICAgICAgKVxuXG4gICAgLy8gY29uc29sZS5sb2coJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi0tPkNvQzdDaGF0Lm1lc3NhZ2VMaXN0ZW5lcnMgbWVzc2FnZSA6JyArIG1lc3NhZ2UuaWQpO1xuICAgIC8vIG1lc3NhZ2UuZGF0YS5jb250ZW50ID0gXCJcIjtcbiAgICAvLyBkYXRhLm1lc3NhZ2UuY29udGVudCA9IFwiXCI7XG5cbiAgICAvLyBXaGVuIGEgbmV3IGNhcmQgaXMgcHVibGlzaGVkLCBjaGVjayB3ZXRoZXIgaXQncyBhIHJvbGwgdGhhdCBtb2RpZmllcyBhbiBvdGhlciBjYXJkLlxuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgY29uc3QgY2FyZCA9IGh0bWxbMF0ucXVlcnlTZWxlY3RvcignLmNvYzcuY2hhdC1jYXJkJylcbiAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5jb250YWlucygncm9sbC1jYXJkJykgJiZcbiAgICAgICAgICAhKGNhcmQuZGF0YXNldC5wcm9jZXNzZWQgPT09ICd0cnVlJykgJiZcbiAgICAgICAgICBjYXJkLmRhdGFzZXQucmVmTWVzc2FnZUlkXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHJvbGwgPSBDb0M3Um9sbC5nZXRGcm9tRWxlbWVudChjYXJkKVxuXG4gICAgICAgICAgaWYgKGNhcmQuZGF0YXNldC5zaWRlID09PSAndGFyZ2V0Jykge1xuICAgICAgICAgICAgcm9sbC5kZWZlbmRhbnRJZCA9IGNhcmQuZGF0YXNldC50b2tlbklkXG4gICAgICAgICAgICAgID8gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICAgICAgICAgICAgOiBjYXJkLmRhdGFzZXQuYWN0b3JJZFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2FyZC5kYXRhc2V0LnNpZGUgPT09ICdpbml0aWF0b3InKSB7XG4gICAgICAgICAgICByb2xsLmluaXRpYXRvcklkID0gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICAgICAgICAgICAgPyBjYXJkLmRhdGFzZXQudG9rZW5JZFxuICAgICAgICAgICAgICA6IGNhcmQuZGF0YXNldC5hY3RvcklkXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhcmQuZGF0YXNldC5wcm9jZXNzZWQgPSAndHJ1ZSdcblxuICAgICAgICAgIENvQzdDaGF0LnVwZGF0ZUNvbWJhdENhcmRUYXJnZXQocm9sbClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJPbmx5ID0gaHRtbC5maW5kKCcudGFyZ2V0LW9ubHknKVxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB1c2VyT25seSkge1xuICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgY29uc3QgYWN0b3JJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdG9yLWlkJylcbiAgICAgICAgaWYgKGFjdG9ySWQpIHtcbiAgICAgICAgICBpZiAoZ2FtZS5hY3RvcnMuZ2V0KGFjdG9ySWQpLmlzT3duZXIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnbU9ubHkgPSBodG1sLmZpbmQoJy5nbS1vbmx5JylcbiAgICBmb3IgKGNvbnN0IHpvbmUgb2YgZ21Pbmx5KSB7XG4gICAgICBpZiAoIWdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgIHpvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJWaXNpYmxlT25seSA9IGh0bWwuZmluZCgnLnVzZXItdmlzaWJsZS1vbmx5JylcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2YgdXNlclZpc2libGVPbmx5KSB7XG4gICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIGNvbnN0IGdtVmlzaWJsZU9ubHkgPSBodG1sLmZpbmQoJy5nbS12aXNpYmxlLW9ubHknKVxuICAgIGZvciAoY29uc3QgZWxlbSBvZiBnbVZpc2libGVPbmx5KSB7XG4gICAgICBpZiAoIShnYW1lLnVzZXIuaXNHTSB8fCAoZ2FtZS51c2VyLmlzVHJ1c3RlZCAmJiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0cnVzdGVkQ2FuU2VlQ2hhdENhcmQnKSkpKSBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG5cbiAgICBjb25zdCBvd25lclZpc2libGVPbmx5ID0gaHRtbC5maW5kKCcub3duZXItdmlzaWJsZS1vbmx5JylcbiAgICBmb3IgKGNvbnN0IHpvbmUgb2Ygb3duZXJWaXNpYmxlT25seSkge1xuICAgICAgLy8gVHJ5IHJldHJpZXZpbmcgYWN0b3JcbiAgICAgIGxldCBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoem9uZS5kYXRhc2V0Py5hY3RvcktleSkgLy8gVHJ5IHdpdGggc2VsZi5cbiAgICAgIGlmICghYWN0b3IpIGFjdG9yID0gQ29DN0NoYXQuX2dldENoYXRDYXJkQWN0b3Ioem9uZS5jbG9zZXN0KCcuY2hhdC1jYXJkJykpIC8vIFRyeSB3aXRoIGNsb3Nlc3QgY2hhdCBjYXJkLlxuICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoem9uZS5wYXJlbnRFbGVtZW50LmRhdGFzZXQuYWN0b3JLZXkpIC8vIFRyeSB3aXRoIHBhcmVudCBlbGVtZW50LlxuICAgICAgfVxuICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoXG4gICAgICAgICAgem9uZS5jbG9zZXN0KCdbZGF0YS1hY3Rvci1rZXldJyk/LmRhdGFzZXQuYWN0b3JLZXlcbiAgICAgICAgKSAvLyBUcnkgd2l0aCBjbG9zZXN0IGRhdGEtYWN0b3Ita2V5XG4gICAgICB9XG4gICAgICBpZiAoIWFjdG9yKSB7XG4gICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleShcbiAgICAgICAgICB6b25lLmNsb3Nlc3QoJ1tkYXRhLXRva2VuLWtleV0nKT8uZGF0YXNldC5hY3RvcktleVxuICAgICAgICApIC8vIFRyeSB3aXRoIGNsb3Nlc3QgZGF0YS10b2tlbi1rZXlcbiAgICAgIH1cblxuICAgICAgLy8gY29uc3QgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoIGFjdG9ySWQpO1xuICAgICAgaWYgKChhY3RvciAmJiAhYWN0b3IuaXNPd25lcikgfHwgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgem9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICB9IC8vIGlmIGN1cnJlbnQgdXNlciBkb2Vzbid0IG93biB0aGlzIGhlIGNhbid0IGludGVycmFjdFxuICAgICAgLy8gaWYoICFDb0M3Q2hhdC5pc0NhcmRPd25lciggem9uZS5jbG9zZXN0KCcuY2hhdC1jYXJkJykpKSB7em9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO31cbiAgICB9XG5cbiAgICBpZiAoIWdhbWUudXNlci5pc0dNKSB7XG4gICAgICAvLyBHTSBjYW4gc2VlIGV2ZXJ5dGhpbmdcbiAgICAgIGNvbnN0IG93bmVyT25seSA9IGh0bWwuZmluZCgnLm93bmVyLW9ubHknKVxuICAgICAgZm9yIChjb25zdCB6b25lIG9mIG93bmVyT25seSkge1xuICAgICAgICAvLyBUcnkgcmV0cmlldmluZyBhY3RvclxuICAgICAgICBsZXQgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0QWN0b3JGcm9tS2V5KFxuICAgICAgICAgIHpvbmUuZGF0YXNldD8uYWN0b3JLZXkgfHwgem9uZS5kYXRhc2V0Py5hY3RvcklkXG4gICAgICAgICkgLy8gVHJ5IHdpdGggc2VsZi5cbiAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldENoYXRDYXJkQWN0b3Ioem9uZS5jbG9zZXN0KCcuY2hhdC1jYXJkJykpIC8vIFRyeSB3aXRoIGNsb3Nlc3QgY2hhdCBjYXJkLlxuICAgICAgICB9XG4gICAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgICBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoem9uZS5wYXJlbnRFbGVtZW50LmRhdGFzZXQuYWN0b3JLZXkpIC8vIFRyeSB3aXRoIHBhcmVudCBlbGVtZW50LlxuICAgICAgICB9XG4gICAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgICBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoXG4gICAgICAgICAgICB6b25lLmNsb3Nlc3QoJ1tkYXRhLWFjdG9yLWtleV0nKT8uZGF0YXNldC5hY3RvcktleVxuICAgICAgICAgICkgLy8gVHJ5IHdpdGggY2xvc2VzdCBkYXRhLWFjdG9yLWtleVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgICBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoXG4gICAgICAgICAgICB6b25lLmNsb3Nlc3QoJ1tkYXRhLXRva2VuLWtleV0nKT8uZGF0YXNldC5hY3RvcktleVxuICAgICAgICAgICkgLy8gVHJ5IHdpdGggY2xvc2VzdCBkYXRhLXRva2VuLWtleVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc3QgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoIGFjdG9ySWQpO1xuICAgICAgICBpZiAoKGFjdG9yICYmICFhY3Rvci5pc093bmVyKSB8fCAoIWFjdG9yICYmICFnYW1lLnVzZXIuaXNHTSkpIHtcbiAgICAgICAgICB6b25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgfSAvLyBpZiBjdXJyZW50IHVzZXIgZG9lc24ndCBvd24gdGhpcyBoZSBjYW4ndCBpbnRlcnJhY3RcbiAgICAgICAgLy8gaWYoICFDb0M3Q2hhdC5pc0NhcmRPd25lciggem9uZS5jbG9zZXN0KCcuY2hhdC1jYXJkJykpKSB7em9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO31cbiAgICAgIH1cblxuICAgICAgY29uc3QgZ21TZWxlY3RPbmx5ID0gaHRtbC5maW5kKCcuZ20tc2VsZWN0LW9ubHknKVxuICAgICAgaWYgKCEoZ2FtZS51c2VyLmlzVHJ1c3RlZCAmJiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0cnVzdGVkQ2FuTW9kZnlDaGF0Q2FyZCcpKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdCBvZiBnbVNlbGVjdE9ubHkpIHtcbiAgICAgICAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZCgnaW5hY3RpdmUnKVxuICAgICAgICAgIHNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzaW1wbGUtZmxhZycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IGFjdGlvblR5cGVTdHJpbmcgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWdodEJhY2s6ICdDb0M3LmZpZ2h0QmFjaycsXG4gICAgICBtYW5ldXZlcjogJ0NvQzcubWFuZXV2ZXInLFxuICAgICAgZG9kZ2luZzogJ0NvQzcuZG9kZ2UnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9vblRhcmdldFNlbGVjdCAoZXZlbnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5rZXkpXG4gICAgY29uc3QgdGFyZ2V0c1NlbGVjdG9yID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcudGFyZ2V0cy1zZWxlY3RvcicpXG4gICAgZm9yIChjb25zdCBpIG9mIHRhcmdldHNTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSkge1xuICAgICAgaS5zdHlsZS5ib3JkZXIgPSAnbm9uZSdcbiAgICB9XG4gICAgdGFyZ2V0c1NlbGVjdG9yXG4gICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEta2V5PVwiJHtpbmRleH1cIl1gKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgIzAwMCdcbiAgICBjb25zdCB0YXJnZXRzID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcudGFyZ2V0cycpXG4gICAgZm9yIChjb25zdCB0IG9mIHRhcmdldHMucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldCcpKSB7XG4gICAgICB0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIHQuZGF0YXNldC5hY3RpdmUgPSAnZmFsc2UnXG4gICAgfVxuICAgIGNvbnN0IHRhcmdldFRvRGlzcGxheSA9IHRhcmdldHMucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbZGF0YS10YXJnZXQta2V5PVwiJHtpbmRleH1cIl1gXG4gICAgKVxuICAgIHRhcmdldFRvRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgIHRhcmdldFRvRGlzcGxheS5kYXRhc2V0LmFjdGl2ZSA9ICd0cnVlJ1xuICAgIC8vIGNvbnN0IGNoYXRDYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhdC1jYXJkLnJhbmdlJyk7XG4gICAgLy8gY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoIGNoYXRDYXJkKTtcbiAgfVxuXG4gIHN0YXRpYyBfb25Ecm9wRG93bkVsZW1lbnRTZWxlY3RlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhdC1jYXJkJylcbiAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3RhcmdldCcpKSB7XG4gICAgICBDb0M3TWVsZWVUYXJnZXQudXBkYXRlU2VsZWN0ZWQoY2FyZCwgZXZlbnQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBjbGVhciBhbGwgZHJvcCBkb3duIGFuZCBoaWdobGlnaHQgdGhpcyBwYXJ0aWN1bGFyIG9uZVxuICAgIGNvbnN0IGRyb3BEb3duQm94ZXMgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAuY2xvc2VzdCgnLnJlc3BvbnNlLXNlbGVjdGlvbicpXG4gICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnRvZ2dsZS1zd2l0Y2gnKVxuICAgIGZvciAoY29uc3QgZHBkbkJveCBvZiBkcm9wRG93bkJveGVzKSB7XG4gICAgICBkcGRuQm94LmNsYXNzTGlzdC5yZW1vdmUoJ3N3aXRjaGVkLW9uJylcbiAgICB9XG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcudG9nZ2xlLXN3aXRjaCcpLmNsYXNzTGlzdC5hZGQoJ3N3aXRjaGVkLW9uJylcblxuICAgIC8vIGNsb3NlIGRyb3Bkb3duXG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKVxuXG4gICAgLy8gRGlzcGxheSB0aGUgcm9sbCBidXR0b25cbiAgICBjb25zdCBzZWxlY3RlZEJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIC5jbG9zZXN0KCcuZGVmZW5kZXItYWN0aW9uLXNlbGVjdCcpXG4gICAgICAucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkLWFjdGlvbicpXG4gICAgc2VsZWN0ZWRCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICBjb25zdCBidXR0b24gPSBzZWxlY3RlZEJveC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuXG4gICAgLy8gUGFzcyB0aGUgaW5pdGlhdG9yIElkIC0gQnVpbGQgY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoYXRcblxuICAgIC8vIFBhc3MgdGhlIGluaXRpYXRvciBpdGVtXG5cbiAgICAvLyBQYXNzIHRoZSBkZWZlbmRhbnQgSWRcblxuICAgIC8vIFBhc3MgdGhlIGRlZmVuZGFudCBhY3Rpb25cbiAgICBidXR0b24uZGF0YXNldC5hY3Rpb24gPSAnZGVmZW5kaW5nJ1xuICAgIGJ1dHRvbi5kYXRhc2V0LmFjdGlvblR5cGUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXG4gICAgYnV0dG9uLmRhdGFzZXQuZGVmZW5kZXJDaG9pY2UgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbElkXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxWYWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbFZhbHVlXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxOYW1lID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsTmFtZVxuICAgIGJ1dHRvbi5kYXRhc2V0Lml0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC53ZWFwb25JZFxuICAgIGJ1dHRvbi5kYXRhc2V0Lml0ZW1OYW1lID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LndlYXBvbk5hbWVcblxuICAgIC8vIFB1dCBzb21lIHRleHQgaW4gdGhlIGJ1dHRvblxuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnbWFuZXV2ZXInOlxuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgIENPQzcuY29tYmF0Q2FyZHNbZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbl1cbiAgICAgICAgKX0gOiAke2V2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbE5hbWV9ICgke1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbFZhbHVlXG4gICAgICAgIH0lKWBcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ZpZ2h0QmFjayc6XG4gICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5jb21iYXRDYXJkc1tldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXVxuICAgICAgICApfSA6ICR7ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LndlYXBvbk5hbWV9ICgke1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbFZhbHVlXG4gICAgICAgIH0lKWBcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgLy8gU2F2ZSBhY3Rpb24gZm9yIHRoZSByb2xsXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uSW5saW5lIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuXG4gICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmxpbmUtcmVzdWx0JykpIHtcbiAgICAgIGlmIChhLmNsYXNzTGlzdC5jb250YWlucygnZXhwYW5kZWQnKSkge1xuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLl9jb2xsYXBzZUlubGluZVJlc3VsdChhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5fZXhwYW5kSW5saW5lUmVzdWx0KGEpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9vblRvZ2dsZVNlbGVjdGVkIChldmVudCkge1xuICAgIGNvbnN0IGNhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWNhcmQnKVxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykpIHtcbiAgICAgIENvQzdNZWxlZVRhcmdldC51cGRhdGVTZWxlY3RlZChjYXJkLCBldmVudClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZCA9PT0gJycpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yTm9Eb2RnZVNraWxsJykpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBjbGVhciBhbGwgZHJvcCBkb3duIGFuZCBoaWdobGlnaHQgdGhpcyBwYXJ0aWN1bGFyIG9uZVxuICAgIGNvbnN0IGRyb3BEb3duQm94ZXMgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAuY2xvc2VzdCgnLnJlc3BvbnNlLXNlbGVjdGlvbicpXG4gICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnRvZ2dsZS1zd2l0Y2gnKVxuICAgIGZvciAoY29uc3QgZHBkbkJveCBvZiBkcm9wRG93bkJveGVzKSB7XG4gICAgICBkcGRuQm94LmNsYXNzTGlzdC5yZW1vdmUoJ3N3aXRjaGVkLW9uJylcbiAgICB9XG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdzd2l0Y2hlZC1vbicpIC8vIE5lZWQgdG8gdGVzdCBpZiBpdCdzIHJlYWxseSBhIGRvZGdlICEhIVxuXG4gICAgLy8gU2F2ZSBhY3Rpb24gZm9yIHRoZSByb2xsXG4gICAgY29uc3Qgc2VsZWN0ZWRCb3ggPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAuY2xvc2VzdCgnLmRlZmVuZGVyLWFjdGlvbi1zZWxlY3QnKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZC1hY3Rpb24nKVxuICAgIHNlbGVjdGVkQm94LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgY29uc3QgYnV0dG9uID0gc2VsZWN0ZWRCb3gucXVlcnlTZWxlY3RvcignYnV0dG9uJylcblxuICAgIGJ1dHRvbi5kYXRhc2V0LmFjdGlvbiA9ICdkZWZlbmRpbmcnXG4gICAgYnV0dG9uLmRhdGFzZXQuYWN0aW9uVHlwZSA9ICdkb2RnaW5nJ1xuICAgIGJ1dHRvbi5kYXRhc2V0LmRlZmVuZGVyQ2hvaWNlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvblxuICAgIGJ1dHRvbi5kYXRhc2V0LnNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgIGJ1dHRvbi5kYXRhc2V0LnNraWxsVmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxWYWx1ZVxuICAgIGJ1dHRvbi5kYXRhc2V0LnNraWxsTmFtZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbE5hbWVcblxuICAgIGJ1dHRvbi5pbm5lclRleHQgPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICBDT0M3LmNvbWJhdENhcmRzW2V2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb25dXG4gICAgKX0gOiAke2V2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbE5hbWV9ICgke1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsVmFsdWVcbiAgICB9JSlgXG4gIH1cblxuICBzdGF0aWMgX29uQ2hhdENhcmRSYWRpb1N3aXRjaCAoZXZlbnQpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnLS0+Q29DN0NoYXQuX29uQ2hhdENhcmRSYWRpb1N3aXRjaCcpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBvcHRpb25MaXN0ID1cbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyYWRpby1zd2l0Y2gnKVxuICAgIGxldCBpbmRleFxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvbkxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gb3B0aW9uTGlzdFtpbmRleF1cbiAgICAgIGlmIChlbGVtZW50LmRhdGFzZXQucHJvcGVydHkgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wcm9wZXJ0eSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3N3aXRjaGVkLW9uJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3dpdGNoZWQtb24nKVxuICAgICAgfVxuICAgIH1cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5zZWxlY3RlZCA9XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucHJvcGVydHlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25DaGF0Q2FyZFZvbGxleVNpemUgKGV2ZW50KSB7XG4gICAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmNoYXQtY2FyZCcpXG5cbiAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JhbmdlJykpIHtcbiAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaW5pdGlhdG9yJykpIHtcbiAgICAgICAgY29uc3QgcmFuZ2VDYXJkID0gQ29DN1JhbmdlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaW5jcmVhc2UnKSkge1xuICAgICAgICAgIHJhbmdlQ2FyZC5jaGFuZ2VWb2xsZXlTaXplKDEpXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlY3JlYXNlJykpIHtcbiAgICAgICAgICByYW5nZUNhcmQuY2hhbmdlVm9sbGV5U2l6ZSgtMSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25DaGF0Q2FyZFRvZ2dsZVN3aXRjaCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhdC1jYXJkJylcbiAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbGVlJykpIHtcbiAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaW5pdGlhdG9yJykpIHtcbiAgICAgICAgQ29DN01lbGVlSW5pdGlhdG9yLnVwZGF0ZUNhcmRTd2l0Y2goZXZlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykpIHtcbiAgICAgICAgQ29DN01lbGVlVGFyZ2V0LnVwZGF0ZUNhcmRTd2l0Y2goZXZlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyYW5nZScpKSB7XG4gICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ2luaXRpYXRvcicpKSB7XG4gICAgICAgIENvQzdSYW5nZUluaXRpYXRvci51cGRhdGVDYXJkU3dpdGNoKGV2ZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnZGFtYWdlJykpIHtcbiAgICAgIC8vIENvQzdJdGVtLnVwZGF0ZUNhcmRTd2l0Y2goIGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvbGwtY2FyZCcpKSB7XG4gICAgICBDb0M3Q2hlY2sudXBkYXRlQ2FyZFN3aXRjaChldmVudClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBBY3RvciB3aGljaCBpcyB0aGUgYXV0aG9yIG9mIGEgY2hhdCBjYXJkXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhcmQgICAgVGhlIGNoYXQgY2FyZCBiZWluZyB1c2VkXG4gICAqIEByZXR1cm4ge0FjdG9yfG51bGx9ICAgICAgICAgVGhlIEFjdG9yIGVudGl0eSBvciBudWxsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2dldENoYXRDYXJkQWN0b3IgKGNhcmQpIHtcbiAgICAvLyBpZiBkYXRhc2V0Lm9iamVjdCBpcyB0aGVyZSA9PiBuZWVkIHRvIHVuZXNjYXBlIHRoaW5ncyAhIVxuICAgIC8vIGlmIG5vdCB1c2UgdGhlIGRhdGFzZXQgZGlyZWN0bHkuXG4gICAgY29uc3QgY2FyZERhdGEgPSBjYXJkLmRhdGFzZXQub2JqZWN0XG4gICAgICA/IEpTT04ucGFyc2UodW5lc2NhcGUoY2FyZC5kYXRhc2V0Lm9iamVjdCkpXG4gICAgICA6IGNhcmQuZGF0YXNldFxuXG4gICAgaWYgKGNhcmREYXRhLmFjdG9yS2V5KSByZXR1cm4gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleShjYXJkRGF0YS5hY3RvcktleSlcblxuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGNvbnN0IHRva2VuS2V5ID0gY2FyZERhdGEudG9rZW5JZFxuICAgIGlmICh0b2tlbktleSkge1xuICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0gdG9rZW5LZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuID0gc2NlbmUuZ2V0RW1iZWRkZWREb2N1bWVudCgnVG9rZW4nLCB0b2tlbklkKVxuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxuICAgICAgICByZXR1cm4gdG9rZW4uYWN0b3IgfHwgbmV3IFRva2VuKHRva2VuRGF0YSkuYWN0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYXNlIDIgLSB1c2UgQWN0b3IgSUQgZGlyZWN0b3J5XG4gICAgY29uc3QgYWN0b3JJZCA9IGNhcmREYXRhLmFjdG9ySWRcbiAgICBpZiAoYWN0b3JJZCkgcmV0dXJuIGdhbWUuYWN0b3JzLmdldChhY3RvcklkKVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKVxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IG1lc3NhZ2UgPyBtZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkIDogbnVsbFxuICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuICAgICAgaWYgKGNoYXRNZXNzYWdlLnVzZXIpIHJldHVybiBjaGF0TWVzc2FnZS51c2VyLmNoYXJhY3RlclxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBzdGF0aWMgaXNDYXJkT3duZXIgKGNhcmQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpXG4gICAgY29uc3QgbWVzc2FnZUlkID0gbWVzc2FnZSA/IG1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQgOiBudWxsXG4gICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgICByZXR1cm4gY2hhdE1lc3NhZ2Uub3dubmVyIHx8IGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzdGF0aWMgX2dldEFjdG9yRnJvbUtleSAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHJldHVybiB1bmRlZmluZWRcbiAgICAvLyBDYXNlIDEgLSBhIHN5bnRoZXRpYyBhY3RvciBmcm9tIGEgVG9rZW5cbiAgICBpZiAoa2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0ga2V5LnNwbGl0KCcuJylcbiAgICAgIGlmIChzY2VuZUlkID09PSAnVE9LRU4nKSB7XG4gICAgICAgIHJldHVybiBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0gLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbiA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGxcbiAgICAgICAgcmV0dXJuIHRva2VuLmFjdG9yIHx8IG5ldyBUb2tlbih0b2tlbkRhdGEpLmFjdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyIC0gdXNlIEFjdG9yIElEIGRpcmVjdG9yeVxuICAgIHJldHVybiBnYW1lLmFjdG9ycy5nZXQoa2V5KSB8fCBudWxsXG4gIH1cblxuICBzdGF0aWMgZ2V0QWN0b3JGcm9tVG9rZW4gKHRva2VuS2V5KSB7XG4gICAgY29uc3QgdG9rZW4gPSBDb0M3Q2hhdC5nZXRUb2tlbih0b2tlbktleSlcbiAgICByZXR1cm4gdG9rZW4gPyB0b2tlbi5hY3RvciA6IG51bGxcbiAgfVxuXG4gIHN0YXRpYyBnZXRUb2tlbiAodG9rZW5LZXkpIHtcbiAgICBpZiAodG9rZW5LZXkpIHtcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IHRva2VuS2V5LnNwbGl0KCcuJylcbiAgICAgIGlmIChzY2VuZUlkID09PSAnVE9LRU4nKSB7XG4gICAgICAgIGNvbnN0IHRva2VuRG9jID0gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdPy50b2tlblxuICAgICAgICByZXR1cm4gdG9rZW5Eb2Mub2JqZWN0IC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZClcbiAgICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuIG51bGxcbiAgICAgICAgY29uc3QgdG9rZW4gPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsXG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBuZXcgVG9rZW4odG9rZW5EYXRhKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIHVwZGF0ZSBhIGNoYXQgbWVzc2FnZSB3aXRoIGEgbmV3IEhUTUwgY29udGVudCBhbmQgcG9wdWxhdGUgaXQuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhcmRcbiAgICovXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoY2FyZCwgbWVzc0lkID0gbnVsbCkge1xuICAgIGNvbnN0IG1lc3NhZ2VJZCA9XG4gICAgICBtZXNzSWQgPT0gbnVsbCA/IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKS5kYXRhc2V0Lm1lc3NhZ2VJZCA6IG1lc3NJZFxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7IGNvbnRlbnQ6IGNhcmQub3V0ZXJIVE1MIH0pXG4gICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgcmV0dXJuIG1zZ1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vbkNoYXRDYXJkQWN0aW9uIChldmVudCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCctLT5Db0M3Q2hhdC5fb25DaGF0Q2FyZEFjdGlvbicpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBjYXJkID0gYnV0dG9uLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKVxuICAgIGlmICghY2FyZCkgcmV0dXJuXG4gICAgY29uc3Qgb3JpZ2luTWVzc2FnZSA9IGJ1dHRvbi5jbG9zZXN0KCcubWVzc2FnZScpXG4gICAgLy8gY29uc3QgbWVzc2FnZUlkID0gb3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZDtcbiAgICBjb25zdCBhY3Rpb24gPSBidXR0b24uZGF0YXNldC5hY3Rpb25cblxuICAgIGlmICghQ29DN0NoYXQuX2dldENoYXRDYXJkQWN0b3IoY2FyZCkpIHJldHVyblxuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3VzZUx1Y2snOiB7XG4gICAgICAgIGNvbnN0IGx1Y2tBbW91bnQgPSBwYXJzZUludChidXR0b24uZGF0YXNldC5sdWNrQW1vdW50KVxuICAgICAgICBjb25zdCBuZXdTdWNjZXNzTGV2ZWwgPSBwYXJzZUludChcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubmV3U3VjY2Vzc0xldmVsXG4gICAgICAgIClcblxuICAgICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbGVlJykpIHtcbiAgICAgICAgICBsZXQgbWVsZWVDYXJkXG4gICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSkge1xuICAgICAgICAgICAgbWVsZWVDYXJkID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaW5pdGlhdG9yJykpIHtcbiAgICAgICAgICAgIG1lbGVlQ2FyZCA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICAgIH1cbiAgICAgICAgICBtZWxlZUNhcmQudXBncmFkZVJvbGwobHVja0Ftb3VudCwgbmV3U3VjY2Vzc0xldmVsLCBjYXJkKSAvLyBUT0RPIDogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBhc3luY1xuICAgICAgICB9IGVsc2UgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyYW5nZScpKSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2VDYXJkID0gQ29DN1JhbmdlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgICAgY29uc3Qgcm9sbFJlc3VsdCA9IGJ1dHRvbi5jbG9zZXN0KCcucm9sbC1yZXN1bHQnKVxuICAgICAgICAgIGNvbnN0IHJvbGxJbmRleCA9IHJvbGxSZXN1bHRcbiAgICAgICAgICAgID8gcGFyc2VJbnQocm9sbFJlc3VsdC5kYXRhc2V0LmluZGV4KVxuICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Bhc3MtY2hlY2snKSkge1xuICAgICAgICAgICAgcmFuZ2VDYXJkLnBhc3NSb2xsKHJvbGxJbmRleClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdXBncmFkZUluZGV4ID0gcGFyc2VJbnQoYnV0dG9uLmRhdGFzZXQuaW5kZXgpXG4gICAgICAgICAgICByYW5nZUNhcmQudXBncmFkZVJvbGwocm9sbEluZGV4LCB1cGdyYWRlSW5kZXgpIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb2xsLWNhcmQnKSB8fFxuICAgICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcignLnJvbGwtcmVzdWx0JykgIT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IENvQzdDaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXNzLWNoZWNrJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGx1Y2tBbW91bnQgPSBwYXJzZUludChidXR0b24uZGF0YXNldC5sdWNrQW1vdW50KVxuICAgICAgICAgICAgY2hlY2suZm9yY2VQYXNzKGx1Y2tBbW91bnQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZ3JhZGVJbmRleCA9IHBhcnNlSW50KGJ1dHRvbi5kYXRhc2V0LmluZGV4KVxuICAgICAgICAgICAgYXdhaXQgY2hlY2sudXBncmFkZUNoZWNrKHVwZ3JhZGVJbmRleClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0Q2hhdENhcmRBY3RvcihjYXJkKVxuICAgICAgICAgIGNvbnN0IGRldGFpbGVkUmVzdWx0UGxhY2VIb2xkZXIgPVxuICAgICAgICAgICAgY2FyZC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0LWRldGFpbHMnKVxuXG4gICAgICAgICAgaWYgKGFjdG9yLnNwZW5kTHVjayhsdWNrQW1vdW50KSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b3RhbCcpXG4gICAgICAgICAgICBjYXJkLmRhdGFzZXQuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgICAgICAgICBjYXJkLmRhdGFzZXQucHJvY2Vzc2VkID0gJ2ZhbHNlJyAvLyB0cmlnZ2VyIDMgdXBkYXRlcyBkZSBjYXJkXG4gICAgICAgICAgICBzd2l0Y2ggKG5ld1N1Y2Nlc3NMZXZlbCkge1xuICAgICAgICAgICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhcjpcbiAgICAgICAgICAgICAgICByZXN1bHQuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJTdWNjZXNzJylcbiAgICAgICAgICAgICAgICBkZXRhaWxlZFJlc3VsdFBsYWNlSG9sZGVyLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyRGlmZmljdWx0eScpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkU3VjY2VzcycpXG4gICAgICAgICAgICAgICAgZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlci5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZVN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgIGRldGFpbGVkUmVzdWx0UGxhY2VIb2xkZXIuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVEaWZmaWN1bHR5JylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWw6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Dcml0aWNhbFN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgIGRldGFpbGVkUmVzdWx0UGxhY2VIb2xkZXIuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsRGlmZmljdWx0eScpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LmNsYXNzTGlzdC5yZXBsYWNlKCdmYWlsdXJlJywgJ3N1Y2Nlc3MnKVxuICAgICAgICAgICAgcmVzdWx0LmNsYXNzTGlzdC5yZW1vdmUoJ2Z1bWJsZScpXG4gICAgICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWJ1dHRvbnMnKS5yZW1vdmUoKVxuICAgICAgICAgICAgY2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b29sdGlwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgICAgYXdhaXQgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQoY2FyZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvck5vdEVub3VnaEx1Y2snLCB7XG4gICAgICAgICAgICAgICAgYWN0b3I6IGFjdG9yLm5hbWVcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3B1c2gnOiB7XG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjYXJkLmNsb25lTm9kZSh0cnVlKSAvLyBUT0RPIG5vdCBuZWNlc3NhcnlcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b3RhbCcpXG4gICAgICAgIHJlc3VsdC5pbm5lclRleHQgPVxuICAgICAgICAgIHJlc3VsdC5pbm5lclRleHQgKyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHVzaGluZ1NraWxsJylcbiAgICAgICAgcmVzdWx0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhaWx1cmUnKVxuICAgICAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWJ1dHRvbnMnKS5yZW1vdmUoKVxuICAgICAgICBuZXdDYXJkLmRhdGFzZXQucHVzaGVkUm9sbCA9IHRydWVcbiAgICAgICAgYXdhaXQgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQobmV3Q2FyZCwgb3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZClcbiAgICAgICAgYXdhaXQgQ29DN0NoZWNrLnB1c2goY2FyZClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RlZmVuZGluZyc6IHtcbiAgICAgICAgbGV0IGRlZmVuZGVyS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuZGVmZW5kZXItYWN0aW9uLXNlbGVjdCcpXG4gICAgICAgICAgLmRhdGFzZXQudG9rZW5JZFxuICAgICAgICBsZXQgZGVmZW5kZXJcbiAgICAgICAgaWYgKCFkZWZlbmRlcktleSkge1xuICAgICAgICAgIGRlZmVuZGVyS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuZGVmZW5kZXItYWN0aW9uLXNlbGVjdCcpXG4gICAgICAgICAgICAuZGF0YXNldC5hY3RvcklkXG4gICAgICAgICAgZGVmZW5kZXIgPSBnYW1lLmFjdG9ycy5nZXQoZGVmZW5kZXJLZXkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZW5kZXIgPSB0aGlzLmdldEFjdG9yRnJvbVRva2VuKGRlZmVuZGVyS2V5KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VUeXBlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvblR5cGVcbiAgICAgICAgY29uc3Qgb3V0bnVtYmVyZWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQub3V0bnVtYmVyZWQgPT09ICd0cnVlJ1xuICAgICAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgICAgICBjaGVjay5yZWZlcmVuY2VNZXNzYWdlSWQgPSBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgICAgIGNoZWNrLnJvbGxUeXBlID0gJ29wcG9zZWQnXG4gICAgICAgIGNoZWNrLnNpZGUgPSAndGFyZ2V0J1xuICAgICAgICBjaGVjay5hY3Rpb24gPSByZXNwb25zZVR5cGVcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZVR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkb2RnaW5nJzpcbiAgICAgICAgICAgIGNoZWNrLmFjdG9yID0gZGVmZW5kZXJcbiAgICAgICAgICAgIGNoZWNrLnNraWxsID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICAgICAgICAgIGlmIChvdXRudW1iZXJlZCkgY2hlY2suZGljZU1vZGlmaWVyID0gLTFcblxuICAgICAgICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICAgICAgICBjaGVjay50b01lc3NhZ2UoKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdmaWdodEJhY2snOlxuICAgICAgICAgICAgY2hlY2suYWN0b3IgPSBkZWZlbmRlclxuICAgICAgICAgICAgY2hlY2suc2tpbGwgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgICAgICAgY2hlY2suaXRlbSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pdGVtSWRcbiAgICAgICAgICAgIGlmIChvdXRudW1iZXJlZCkgY2hlY2suZGljZU1vZGlmaWVyID0gLTFcblxuICAgICAgICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICAgICAgICBjaGVjay50b01lc3NhZ2UoKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdtYW5ldXZlcic6IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdG9yID0gQ29DN0NoYXQuX2dldENoYXRDYXJkQWN0b3IoY2FyZClcbiAgICAgICAgICAgIGlmIChkZWZlbmRlci5idWlsZCA8PSBhY3Rvci5idWlsZCAtIDMpIHtcbiAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JNYW5ldXZlck5vdFBvc3NpYmxlJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrLmFjdG9yID0gZGVmZW5kZXJcbiAgICAgICAgICAgIGNoZWNrLnNraWxsID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICAgICAgICAgIGlmIChvdXRudW1iZXJlZCkgY2hlY2suZGljZU1vZGlmaWVyID0gLTFcbiAgICAgICAgICAgIGlmIChkZWZlbmRlci5idWlsZCA8IGFjdG9yLmJ1aWxkKSB7XG4gICAgICAgICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9XG4gICAgICAgICAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyIC0gKGFjdG9yLmJ1aWxkIC0gZGVmZW5kZXIuYnVpbGQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGVjay5kaWNlTW9kaWZpZXIgPCAtMikge1xuICAgICAgICAgICAgICBjaGVjay5kaWZmaWN1bHR5ID1cbiAgICAgICAgICAgICAgICBjaGVjay5kaWZmaWN1bHR5ICsgTWF0aC5hYnMoY2hlY2suZGljZU1vZGlmaWVyKSAtIDJcbiAgICAgICAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gLTJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICAgICAgICBjaGVjay50b01lc3NhZ2UoKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnbWVsZWUtaW5pdGlhdG9yLXJvbGwnOiB7XG4gICAgICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IGluaXRpYXRvci5wZXJmb3JtU2tpbGxDaGVjayhcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxcbiAgICAgICAgKVxuICAgICAgICAkKGJ1dHRvbikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChjaGVjay5kaWNlLnJvbGwpXG4gICAgICAgIGF3YWl0IGluaXRpYXRvci5wdWJsaXNoQ2hlY2tSZXN1bHQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdtZWxlZS10YXJnZXQtbm8tcmVzcG9uc2UnOiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IENvQzdNZWxlZVRhcmdldC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCB0YXJnZXQucHVibGlzaE5vUmVwb25zZVJlc3VsdCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ21lbGVlLXRhcmdldC1yb2xsJzoge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCB0YXJnZXQucGVyZm9ybVNraWxsQ2hlY2soXG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsXG4gICAgICAgIClcbiAgICAgICAgJChidXR0b24pLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSlcbiAgICAgICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2QoY2hlY2suZGljZS5yb2xsKVxuICAgICAgICBhd2FpdCB0YXJnZXQucHVibGlzaENoZWNrUmVzdWx0KClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JvbGwtbWVsZWUtZGFtYWdlJzoge1xuICAgICAgICBjb25zdCBkYW1hZ2VDaGF0Q2FyZCA9IG5ldyBEYW1hZ2VDYXJkKHtcbiAgICAgICAgICBjcml0aWNhbDogYnV0dG9uLmRhdGFzZXQuY3JpdGljYWwgPT09ICd0cnVlJyxcbiAgICAgICAgICBmYXN0Rm9yd2FyZDogZXZlbnQuc2hpZnRLZXlcbiAgICAgICAgfSlcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQuYWN0b3JLZXkgPSBidXR0b24uZGF0YXNldC5kZWFsZXJcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQudGFyZ2V0S2V5ID0gYnV0dG9uLmRhdGFzZXQudGFyZ2V0XG4gICAgICAgIGRhbWFnZUNoYXRDYXJkLml0ZW1JZCA9IGJ1dHRvbi5kYXRhc2V0LndlYXBvblxuICAgICAgICBpZiAob3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZCkge1xuICAgICAgICAgIGRhbWFnZUNoYXRDYXJkLm1lc3NhZ2VJZCA9IG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC51cGRhdGVDaGF0Q2FyZCgpXG5cbiAgICAgICAgLy8gY29uc3QgZGFtYWdlQ2FyZCA9IG5ldyBDb0M3RGFtYWdlUm9sbChcbiAgICAgICAgLy8gIGJ1dHRvbi5kYXRhc2V0LndlYXBvbixcbiAgICAgICAgLy8gIGJ1dHRvbi5kYXRhc2V0LmRlYWxlcixcbiAgICAgICAgLy8gIHtcbiAgICAgICAgLy8gICAgdGFyZ2V0S2V5OiBidXR0b24uZGF0YXNldC50YXJnZXQsXG4gICAgICAgIC8vICAgIGNyaXRpY2FsOiAndHJ1ZScgPT0gYnV0dG9uLmRhdGFzZXQuY3JpdGljYWwsXG4gICAgICAgIC8vICAgIGZhc3RGb3J3YXJkOiBldmVudC5zaGlmdEtleVxuICAgICAgICAvLyAgfSk7XG4gICAgICAgIC8vIGlmKCBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkKSBkYW1hZ2VDYXJkLm1lc3NhZ2VJZCA9IG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQ7XG4gICAgICAgIC8vIGRhbWFnZUNhcmQucm9sbERhbWFnZSgpO1xuICAgICAgICAvLyBpZiggb3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZCkge1xuICAgICAgICAvLyAgZm9yIChjb25zdCBiIG9mIGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtYnV0dG9ucycpKSB7IGIucmVtb3ZlKCkgfVxuICAgICAgICAvLyAgYXdhaXQgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQoIGNhcmQpO1xuICAgICAgICAvLyB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdyYW5nZS1pbml0aWF0b3Itc2hvb3QnOiB7XG4gICAgICAgIGNvbnN0IHJhbmdlSW5pdGlhdG9yID0gQ29DN1JhbmdlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIHJhbmdlSW5pdGlhdG9yLmFkZFNob3RBdEN1cnJlbnRUYXJnZXQoKVxuICAgICAgICBhd2FpdCByYW5nZUluaXRpYXRvci51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdyYW5nZS1pbml0aWF0b3Itcm9sbCc6IHtcbiAgICAgICAgY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgcmFuZ2VJbml0aWF0b3IucmVzb2x2ZUNhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncm9sbC1yYW5nZS1kYW1hZ2UnOiB7XG4gICAgICAgIGNvbnN0IHJhbmdlSW5pdGlhdG9yID0gQ29DN1JhbmdlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGF3YWl0IHJhbmdlSW5pdGlhdG9yLnJvbGxEYW1hZ2UoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZGVhbC1tZWxlZS1kYW1hZ2UnOiB7XG4gICAgICAgIGNvbnN0IHRhcmdldEtleSA9IGNhcmQuZGF0YXNldC50YXJnZXRLZXlcbiAgICAgICAgY29uc3QgYW1vdW50ID0gY2FyZC5kYXRhc2V0LnJlc3VsdFxuICAgICAgICBjb25zdCB0YXJnZXRBY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRhcmdldEtleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICAgIGF3YWl0IHRhcmdldEFjdG9yLmRlYWxEYW1hZ2UoYW1vdW50KVxuICAgICAgICBjb25zdCBidXR0b25zID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1idXR0b25zJylcbiAgICAgICAgY29uc3QgZGljZVRvdGFsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b3RhbCcpXG4gICAgICAgICQoZGljZVRvdGFsKS5hcHBlbmQoJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicpXG4gICAgICAgIGlmIChidXR0b25zKSBidXR0b25zLnJlbW92ZSgpXG4gICAgICAgIGF3YWl0IENvQzdDaGF0LnVwZGF0ZUNoYXRDYXJkKGNhcmQpXG5cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZGVhbC1yYW5nZS1kYW1hZ2UnOiB7XG4gICAgICAgIGNvbnN0IHJhbmdlSW5pdGlhdG9yID0gQ29DN1JhbmdlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGF3YWl0IHJhbmdlSW5pdGlhdG9yLmRlYWxEYW1hZ2UoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICd0ZXN0Y2hlY2snOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLmZvcmNlUGFzcygpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZvcmNlLXBhc3MnOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLmZvcmNlUGFzcygpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZvcmNlLWZhaWwnOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLmZvcmNlRmFpbCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2luY3JlYXNlLXN1Y2Nlc3MtbGV2ZWwnOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLmluY3JlYXNlU3VjY2Vzc0xldmVsKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZGVjcmVhc2Utc3VjY2Vzcy1sZXZlbCc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suZGVjcmVhc2VTdWNjZXNzTGV2ZWwoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyZXZlYWwtY2hlY2snOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLmlzQmxpbmQgPSBmYWxzZVxuICAgICAgICBjaGVjay5jb21wdXRlQ2hlY2soKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNDdHJsS2V5KGV2ZW50KVxuICAgICAgICApIHtcbiAgICAgICAgICBjaGVjay51cGRhdGVDaGF0Q2FyZCh7IG1ha2VQdWJsaWM6IHRydWUgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVjay51cGRhdGVDaGF0Q2FyZCh7IG1ha2VQdWJsaWM6IHRydWUgfSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyb2xsLWNoZWNrLWNhcmQnOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNoZWNrLnN0YW5kYnkgPSBmYWxzZVxuICAgICAgICBhd2FpdCBjaGVjay5fcGVyZm9ybSgpXG4gICAgICAgIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKHsgZm9yY2VSb2xsOiB0cnVlIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZsYWctZm9yLWRldmVsb3BtZW50Jzoge1xuICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IENvQzdDaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBjaGVjay5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgICAgICAgY2hlY2suY29tcHV0ZUNoZWNrKClcbiAgICAgICAgY2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyZXNldC1jcmVhdHVyZS1zYW4tZGF0YSc6IHtcbiAgICAgICAgY29uc3Qgc2FuQ2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2suY2xlYXJTYW5Mb3NzUmVhc29uKClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyb2xsLXNhbi1jaGVjayc6IHtcbiAgICAgICAgY29uc3Qgc2FuQ2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2sucm9sbFNhbigpXG4gICAgICAgIGF3YWl0IHNhbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYWR2YW5jZS1zdGF0ZSc6IHtcbiAgICAgICAgY29uc3Qgc2FuQ2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2suYWR2YW5jZVN0YXRlKFxuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnN0YXRlIC8qLCBidXR0b24uZGF0YXNldC5wYXJhbSAqL1xuICAgICAgICApXG4gICAgICAgIGF3YWl0IHNhbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncm9sbC1zYW4tbG9zcyc6IHtcbiAgICAgICAgY29uc3Qgc2FuQ2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2sucm9sbFNhbkxvc3MoKVxuICAgICAgICBzYW5DaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtaW50LWNoZWNrJzoge1xuICAgICAgICBjb25zdCBzYW5DaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay5yb2xsSW50KClcbiAgICAgICAgc2FuQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICAvLyBjYXNlICdhcHBseS1zYW4tbG9zcyc6e1xuICAgICAgLy8gIGNvbnN0IHNhbkNoZWNrID0gQ29DN1NhbkNoZWNrLmdldEZyb21DYXJkKCBjYXJkKTtcbiAgICAgIC8vICBhd2FpdCBzYW5DaGVjay5hcHBseVNhbkxvc3MoKTtcbiAgICAgIC8vICBzYW5DaGVjay51cGRhdGVDaGF0Q2FyZCgpO1xuICAgICAgLy8gIGJyZWFrO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBjYXNlICdyZXZlYWwtc2FuLWNoZWNrJzp7XG4gICAgICAvLyAgY29uc3Qgc2FuQ2hlY2sgPSBDb0M3U2FuQ2hlY2suZ2V0RnJvbUNhcmQoIGNhcmQpO1xuICAgICAgLy8gIHNhbkNoZWNrLmlzQmxpbmQgPSBmYWxzZTtcbiAgICAgIC8vICBzYW5DaGVjay51cGRhdGVDaGF0Q2FyZCgpO1xuICAgICAgLy8gIGJyZWFrO1xuICAgICAgLy8gfVxuXG4gICAgICBjYXNlICdyb2xsLWNvbi1jaGVjayc6IHtcbiAgICAgICAgY29uc3QgY29uQ2hlY2sgPSBDb0M3Q29uQ2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgY29uQ2hlY2sucm9sbENvbigpXG4gICAgICAgIGNvbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncmV2ZWFsLWNvbi1jaGVjayc6IHtcbiAgICAgICAgY29uc3QgY29uQ2hlY2sgPSBDb0M3Q29uQ2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY29uQ2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgICAgIGNvbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRvZ2dsaW5nIHRoZSB2aXNpYmlsaXR5IG9mIGNoYXQgY2FyZCBjb250ZW50IHdoZW4gdGhlIG5hbWUgaXMgY2xpY2tlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAgIFRoZSBvcmlnaW5hdGluZyBjbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9vbkNoYXRDYXJkVG9nZ2xlQ29udGVudCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaGVhZGVyID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGNhcmQgPSBoZWFkZXIuY2xvc2VzdCgnLmNoYXQtY2FyZCcpXG4gICAgY29uc3QgY29udGVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCcpXG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgIGlmICghY29udGVudC5zdHlsZS5kaXNwbGF5KSB7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9XG4gICAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ2hhdE1lc3NhZ2UsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyLCBDb0M3Um9sbCB9IGZyb20gJy4uL2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdDaGF0IH0gZnJvbSAnLi4vLi4vY2hhdC5qcydcbmltcG9ydCB7IENvQzdNZWxlZVJlc29sdGlvbiB9IGZyb20gJy4vbWVsZWUtcmVzb2x1dGlvbi5qcydcbmltcG9ydCB7IENoYXRDYXJkQWN0b3IgfSBmcm9tICcuLi9jYXJkLWFjdG9yLmpzJ1xuXG4vLyBUT0RPIDogcsOpY3Vww6lyZXIgbGUgamV0IGVuIHRhbnQgcXUnb2JqZXQgISEhXG5leHBvcnQgY2xhc3MgQ29DN01lbGVlSW5pdGlhdG9yIGV4dGVuZHMgQ2hhdENhcmRBY3RvciB7XG4gIGNvbnN0cnVjdG9yIChhY3RvcktleSA9IG51bGwsIGl0ZW1JZCA9IG51bGwsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBzdXBlcihhY3RvcktleSwgZmFzdEZvcndhcmQpXG4gICAgdGhpcy5pdGVtSWQgPSBpdGVtSWRcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2VcbiAgICB0aGlzLm91dG51bWJlcmVkID0gZmFsc2VcbiAgICB0aGlzLnN1cnByaXNlZCA9IGZhbHNlXG4gICAgdGhpcy5hdXRvU3VjY2VzcyA9IGZhbHNlXG4gICAgdGhpcy5hZHZhbnRhZ2UgPSBmYWxzZVxuICAgIHRoaXMuZGlzYWR2YW50YWdlID0gZmFsc2VcbiAgICB0aGlzLm1lc3NhZ2VJZCA9IG51bGxcbiAgICB0aGlzLnRhcmdldENhcmQgPSBudWxsXG4gICAgdGhpcy5yb2xsZWQgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IHRlbXBsYXRlICgpIHtcbiAgICByZXR1cm4gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmh0bWwnXG4gIH1cblxuICBhc3luYyByZXZlYWxDaGVjayAoKSB7XG4gICAgLy8gVE9ETyA6IG9uIHV0aWxpc2UgbCd1cGRhdGUgZHUgbWVzc2FnZSBhdSBsaWV1IGRlIHJlY29uc3RydWlyZSBsJ29iamV0LiBDaGFuZ2VyIGNlIGNvbXBvcnRlbWVudC5cbiAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KHRoaXMubWVzc2FnZUlkKVxuXG4gICAgYXdhaXQgY2hhdE1lc3NhZ2Uuc2V0RmxhZygnQ29DNycsICdjaGVja1JldmVhbGVkJywgdHJ1ZSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UoY2hhdE1lc3NhZ2UsIGZhbHNlKVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ2hhdENhcmQgKCkge1xuICAgIGNoYXRIZWxwZXIuZ2V0QWN0b3JJbWdGcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBzcGVha2VyRGF0YSA9IHt9XG4gICAgaWYgKHRoaXMudG9rZW4pIHNwZWFrZXJEYXRhLnRva2VuID0gdGhpc1xuICAgIGVsc2Ugc3BlYWtlckRhdGEuYWN0b3IgPSB0aGlzXG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpXG5cbiAgICBjb25zdCB1c2VyID0gdGhpcy5hY3Rvci51c2VyID8gdGhpcy5hY3Rvci51c2VyIDogZ2FtZS51c2VyXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH1cblxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyh0aGlzLnJvbGxNb2RlKSkge1xuICAgICAgY2hhdERhdGEud2hpc3BlciA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpXG4gICAgfVxuICAgIC8vIGlmICggdGhpcy5pc0JsaW5kICkgY2hhdERhdGFbJ2JsaW5kJ10gPSB0cnVlO1xuICAgIGNoYXREYXRhLmJsaW5kID0gZmFsc2VcblxuICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gYXdhaXQgQ2hhdE1lc3NhZ2UuY3JlYXRlKGNoYXREYXRhKVxuXG4gICAgcmV0dXJuIGNoYXRNZXNzYWdlXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZSh7IGNvbnRlbnQ6IGh0bWwgfSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICB0b2dnbGVGbGFnIChmbGFnTmFtZSkge1xuICAgIGNvbnN0IGZsYWcgPSBmbGFnTmFtZS5pbmNsdWRlcygnLScpXG4gICAgICA/IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoZmxhZ05hbWUpXG4gICAgICA6IGZsYWdOYW1lXG4gICAgdGhpc1tmbGFnXSA9ICF0aGlzW2ZsYWddXG4gIH1cblxuICBhc3luYyBwZXJmb3JtU2tpbGxDaGVjayAoc2tpbGxJZCA9IG51bGwsIHB1Ymxpc2ggPSBmYWxzZSkge1xuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgLy8gQ29tYmF0IHJvbGwgY2Fubm90IGJlIGJsaW5kIG9yIHVua25vd25cbiAgICBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICBjaGVjay5pc1Vua29ud24gPSBmYWxzZVxuICAgIGNoZWNrLnJlZmVyZW5jZU1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZUlkXG4gICAgY2hlY2sucm9sbFR5cGUgPSAnb3Bwb3NlZCdcbiAgICBjaGVjay5zaWRlID0gJ2luaXRpYXRvcidcbiAgICBjaGVjay5hY3Rpb24gPSAnYXR0YWNrJ1xuICAgIGNoZWNrLmFjdG9yID0gdGhpcy5hY3RvcktleVxuICAgIGNoZWNrLml0ZW0gPSB0aGlzLml0ZW1JZFxuICAgIGNoZWNrLnNraWxsID0gc2tpbGxJZFxuICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSAwXG5cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHRoaXMuY2hlY2tSZXZlYWxlZCA9IGZhbHNlXG4gICAgZWxzZSB0aGlzLmNoZWNrUmV2ZWFsZWQgPSB0cnVlXG5cbiAgICBpZiAodGhpcy5vdXRudW1iZXJlZCkgY2hlY2suZGljZU1vZGlmaWVyICs9IDFcbiAgICBpZiAodGhpcy5zdXJwcmlzZWQpIGNoZWNrLmRpY2VNb2RpZmllciArPSAxXG4gICAgaWYgKHRoaXMuZGlzYWR2YW50YWdlKSBjaGVjay5kaWNlTW9kaWZpZXIgLT0gMVxuICAgIGlmICh0aGlzLmFkdmFudGFnZSkgY2hlY2suZGljZU1vZGlmaWVyICs9IDFcblxuICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgIHRoaXMuY2hlY2sgPSBjaGVja1xuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgaWYgKHB1Ymxpc2gpIGNoZWNrLnRvTWVzc2FnZSgpXG5cbiAgICB0aGlzLmNyaXRpY2FsRGFtYWdlID1cbiAgICAgIGNoZWNrLnN1Y2Nlc3NMZXZlbCA9PT0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lIHx8XG4gICAgICBjaGVjay5zdWNjZXNzTGV2ZWwgPT09IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWxcbiAgICBpZiAodGhpcy5oYXNUYXJnZXQgJiYgIXRoaXMuYXV0b1N1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBnYW1lLkNvQzdzb2NrZXQuZXhlY3V0ZUFzR00oJ2dtY3JlYXRlbWVzc2FnZWFzJywge1xuICAgICAgICB0YXJnZXRLZXk6IHRoaXMudGFyZ2V0S2V5LFxuICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubWVzc2FnZUlkLFxuICAgICAgICBmYXN0Rm9yd2FyZDogdGhpcy5mYXN0Rm9yd2FyZCxcbiAgICAgICAgYWN0b3JLZXk6IHRoaXMuYWN0b3JLZXlcbiAgICAgIH0pXG4gICAgICB0aGlzLnRhcmdldENhcmQgPSBtZXNzYWdlLmlkIHx8IG1lc3NhZ2UuX2lkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXV0b1N1Y2Nlc3MgJiYgIXRoaXMuY2hlY2suaXNGdW1ibGUpIHtcbiAgICAgIHRoaXMuY2hlY2suZm9yY2VQYXNzKClcbiAgICB9XG4gICAgcmV0dXJuIGNoZWNrXG4gIH1cblxuICBhc3luYyBwdWJsaXNoQ2hlY2tSZXN1bHQgKGNoZWNrID0gbnVsbCkge1xuICAgIGlmICghY2hlY2sgJiYgIXRoaXMuY2hlY2spIHJldHVybiBudWxsXG5cbiAgICBpZiAoY2hlY2spIHRoaXMuY2hlY2sgPSBjaGVja1xuICAgIHRoaXMucm9sbCA9IENvQzdSb2xsLmdldEZyb21DaGVjayh0aGlzLmNoZWNrKVxuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuXG4gICAgdGhpcy5yb2xsLnJvbGxJY29ucyA9IFtdXG4gICAgaWYgKHRoaXMucm9sbC5jcml0aWNhbCkge1xuICAgICAgdGhpcy5yb2xsLnJvbGxDb2xvciA9ICdnb2xkZW5yb2QnXG4gICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLnJvbGwucm9sbEljb25zLnB1c2goJ21lZGFsJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucm9sbC5mdW1ibGUpIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnZGFya3JlZCdcbiAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCA0OyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnc3BpZGVyJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucm9sbC5zdWNjZXNzKSB7XG4gICAgICB0aGlzLnJvbGwucm9sbENvbG9yID0gJ2dvbGRlbnJvZCdcbiAgICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIgPT09IHRoaXMucm9sbC5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyU3VjY2VzcycpXG4gICAgICB9XG4gICAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZFN1Y2Nlc3MnKVxuICAgICAgfVxuICAgICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSA9PT0gdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnc3RhcicpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnYmxhY2snXG4gICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZhaWx1cmUnKVxuICAgICAgdGhpcy5yb2xsLnJvbGxJY29ucy5wdXNoKCdza3VsbCcpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnRhcmdldENhcmQgJiYgIXRoaXMuYXV0b1N1Y2Nlc3MgJiYgdGhpcy5oYXNUYXJnZXQpIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb25DYXJkID0gbmV3IENvQzdNZWxlZVJlc29sdGlvbihcbiAgICAgICAgdGhpcy5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgIHRoaXMubWVzc2FnZUlkXG4gICAgICApXG4gICAgICBjb25zdCByZXNvbHV0aW9uTWVzc2FnZSA9IGF3YWl0IHJlc29sdXRpb25DYXJkLnByZUNyZWF0ZU1lc3NhZ2UoKVxuICAgICAgdGhpcy5yZXNvbHV0aW9uQ2FyZCA9IHJlc29sdXRpb25NZXNzYWdlLmlkXG4gICAgfVxuICAgIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgc3RhdGljIGdldEZyb21DYXJkIChjYXJkLCBtZXNzYWdlSWQgPSBudWxsKSB7XG4gICAgY29uc3QgaW5pdGlhdG9yID0gbmV3IENvQzdNZWxlZUluaXRpYXRvcigpXG4gICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudChpbml0aWF0b3IsIGNhcmQpXG4gICAgaW5pdGlhdG9yLnJvbGwgPSBDb0M3Um9sbC5nZXRGcm9tQ2FyZChjYXJkKVxuXG4gICAgaWYgKGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKSkge1xuICAgICAgaW5pdGlhdG9yLm1lc3NhZ2VJZCA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIH0gZWxzZSBpbml0aWF0b3IubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgcmV0dXJuIGluaXRpYXRvclxuICB9XG5cbiAgc3RhdGljIGdldEZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGNhcmQgPSAkKG1lc3NhZ2UuY29udGVudClbMF1cblxuICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkLCBtZXNzYWdlSWQpXG4gICAgaW5pdGlhdG9yLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuXG4gICAgcmV0dXJuIGluaXRpYXRvclxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZUNhcmRTd2l0Y2ggKGV2ZW50LCBwdWJsaXNoVXBkYXRlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5tZWxlZS5pbml0aWF0b3InKVxuICAgIGNvbnN0IGZsYWcgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmxhZ1xuICAgIGNvbnN0IGNhbWVsRmxhZyA9IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoZmxhZylcblxuICAgIC8vIHVwZGF0ZSBvbmx5IGZvciBsb2NhbCBwbGF5ZXJcbiAgICBpZiAoIXB1Ymxpc2hVcGRhdGUpIHtcbiAgICAgIGNhcmQuZGF0YXNldFtjYW1lbEZsYWddID0gY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ10gIT09ICd0cnVlJ1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdzd2l0Y2hlZC1vbicpXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2VsZWN0ZWQgPSBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgY2FyZCBmb3IgYWxsIHBsYXllclxuICAgICAgY29uc3QgaW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICBpbml0aWF0b3IudG9nZ2xlRmxhZyhmbGFnKVxuICAgICAgaW5pdGlhdG9yLnVwZGF0ZUNoYXRDYXJkKClcbiAgICB9XG4gIH1cblxuICB1cGdyYWRlUm9sbCAobHVja0Ftb3VudCwgbmV3U3VjY2Vzc0xldmVsLCBvbGRDYXJkKSB7XG4gICAgLy8gVE9ETyA6IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgYXN5bmNcbiAgICBpZiAoIXRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lkx1Y2tOb3RFbm91Z2gnLCB7XG4gICAgICAgICAgbmFtZTogdGhpcy5hY3Rvci5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHRoaXMucm9sbC52YWx1ZSA9IG51bGxcbiAgICB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgdGhpcy5yb2xsLmx1Y2tTcGVudCA9IHRydWVcbiAgICBvbGRDYXJkLmRhdGFzZXQucHJvY2Vzc2VkID0gZmFsc2VcblxuICAgIGNvbnN0IGRpY2VSb2xscyA9IG9sZENhcmQucXVlcnlTZWxlY3RvcignLmRpY2Utcm9sbCcpXG4gICAgZGljZVJvbGxzLmRhdGFzZXQudmFsdWUgPSBudWxsXG4gICAgZGljZVJvbGxzLmRhdGFzZXQuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgZGljZVJvbGxzLmRhdGFzZXQubHVja1NwZW50ID0gdHJ1ZVxuXG4gICAgY29uc3QgcmVzdWxEZXRhaWxzID0gb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0LWRldGFpbHMnKVxuICAgIGNvbnN0IGRpY2VUb3RhbCA9IG9sZENhcmQucXVlcnlTZWxlY3RvcignLmRpY2UtdG90YWwnKVxuICAgIGNvbnN0IHJvbGxEYW1hZ2VCdXR0b24gPSBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnYnV0dG9uW2RhdGEtYWN0aW9uPVwicm9sbC1tZWxlZS1kYW1hZ2VcIl0nXG4gICAgKVxuICAgIGlmIChyb2xsRGFtYWdlQnV0dG9uKSByb2xsRGFtYWdlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmlzaWJsZScpXG5cbiAgICBzd2l0Y2ggKG5ld1N1Y2Nlc3NMZXZlbCkge1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgICByZXN1bERldGFpbHMuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkOlxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZTpcbiAgICAgICAgaWYgKHJvbGxEYW1hZ2VCdXR0b24pIHJvbGxEYW1hZ2VCdXR0b24uZGF0YXNldC5jcml0aWNhbCA9IHRydWVcbiAgICAgICAgZGljZVRvdGFsLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICBpZiAocm9sbERhbWFnZUJ1dHRvbikgcm9sbERhbWFnZUJ1dHRvbi5kYXRhc2V0LmNyaXRpY2FsID0gdHJ1ZVxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZGljZVRvdGFsLmNsYXNzTGlzdC5yZXBsYWNlKCdmYWlsdXJlJywgJ3N1Y2Nlc3MnKVxuICAgIG9sZENhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtYnV0dG9ucycpLnJlbW92ZSgpXG4gICAgb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b29sdGlwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIENvQzdDaGF0LnVwZGF0ZUNoYXRDYXJkKG9sZENhcmQpIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBBY3RvciwgQXBwbGljYXRpb24sIENPTkZJRywgQ09OU1QsIERpYWxvZywgRGllLCBkdXBsaWNhdGUsIGZvdW5kcnksIGZyb21VdWlkLCBmcm9tVXVpZFN5bmMsIGdhbWUsIGdldFByb3BlcnR5LCBIb29rcywgbWVyZ2VPYmplY3QsIFJvbGwsIFRleHRFZGl0b3IsIFRva2VuLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdDaGF0TWVzc2FnZSB9IGZyb20gJy4uL2FwcHMvY29jNy1jaGF0LW1lc3NhZ2UuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdDb25DaGVjayB9IGZyb20gJy4uL2NoYXQvY29uY2hlY2suanMnXG5pbXBvcnQgeyBSb2xsRGlhbG9nIH0gZnJvbSAnLi4vYXBwcy9yb2xsLWRpYWxvZy5qcydcbmltcG9ydCB7IFNraWxsU2VsZWN0RGlhbG9nIH0gZnJvbSAnLi4vYXBwcy9za2lsbC1zZWxlY3Rpb24tZGlhbG9nLmpzJ1xuaW1wb3J0IHsgUG9pbnRTZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL3BvaW50LXNlbGVjdGlvbi1kaWFsb2cuanMnXG5pbXBvcnQgeyBDaGFyYWNTZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL2NoYXItc2VsZWN0aW9uLWRpYWxvZy5qcydcbmltcG9ydCB7IENoYXJhY1JvbGxEaWFsb2cgfSBmcm9tICcuLi9hcHBzL2NoYXItcm9sbC1kaWFsb2cuanMnXG5pbXBvcnQgeyBTa2lsbFNwZWNTZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL3NraWxsLXNwZWMtc2VsZWN0LWRpYWxvZy5qcydcbmltcG9ydCB7IFNraWxsU3BlY2lhbGl6YXRpb25TZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL3NraWxsLXNwZWNpYWxpemF0aW9uLXNlbGVjdC1kaWFsb2cuanMnXG5pbXBvcnQgeyBTa2lsbFZhbHVlRGlhbG9nIH0gZnJvbSAnLi4vYXBwcy9za2lsbC12YWx1ZS1kaWFsb2cuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVJbml0aWF0b3IgfSBmcm9tICcuLi9jaGF0L2NvbWJhdC9tZWxlZS1pbml0aWF0b3IuanMnXG5pbXBvcnQgeyBDb0M3UmFuZ2VJbml0aWF0b3IgfSBmcm9tICcuLi9jaGF0L3JhbmdlY29tYmF0LmpzJ1xuaW1wb3J0IHsgY2hhdEhlbHBlciB9IGZyb20gJy4uL2NoYXQvaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuLi9kaWNlLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtcy9pdGVtLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2UgQWN0b3IgY2xhc3MgdG8gaW1wbGVtZW50IGFkZGl0aW9uYWwgbG9naWMgc3BlY2lhbGl6ZWQgZm9yIENvQyA3dGguXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0NBY3RvciBleHRlbmRzIEFjdG9yIHtcbiAgLyoqIENyZWF0ZSBkZXJpdmVkIGRvY3VtZW50IGNsYXNzZXMgZm9yIHNwZWNpZmljIEl0ZW0gdHlwZXMgKi9cbiAgY29uc3RydWN0b3IgKGRhdGEsIGNvbnRleHQpIHtcbiAgICAvKiogQHNlZSBDT05GSUcuQWN0b3IuZG9jdW1lbnRDbGFzc2VzIGluIG1vZHVsZS9zY3JpcHRzL2NvbmZpZ3VyZS1kb2N1bWVudHMgKi9cbiAgICBpZiAoZGF0YS50eXBlIGluIENPTkZJRy5BY3Rvci5kb2N1bWVudENsYXNzZXMgJiYgIWNvbnRleHQ/LmV4dGVuZGVkKSB7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgbmV3IGNsYXNzIHdpbGwgY2FsbCBpdCdzIHN1cGVyKCksXG4gICAgICAgKiB0aGUgZXh0ZW5kZWQgZmxhZyB3aWxsIGJlIHRydWUsIHRodXMgYnlwYXNzaW5nIHRoaXMgd2hvbGUgcHJvY2Vzc1xuICAgICAgICogYW5kIHJlc3VtZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXcgQ09ORklHLkFjdG9yLmRvY3VtZW50Q2xhc3Nlc1tkYXRhLnR5cGVdKGRhdGEsIHtcbiAgICAgICAgLi4ueyBleHRlbmRlZDogdHJ1ZSB9LFxuICAgICAgICAuLi5jb250ZXh0XG4gICAgICB9KVxuICAgIH1cbiAgICAvLyBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vICAgaWYgKGRhdGEudHlwZSA9PT0gJ3NraWxsJykge1xuICAgIC8vICAgICBkYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3NraWxscy5zdmcnXG4gICAgLy8gICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3N0YXR1cycpIHtcbiAgICAvLyAgICAgZGF0YS5pbWcgPSAnaWNvbnMvc3ZnL2F1cmEuc3ZnJ1xuICAgIC8vICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgLy8gICAgIGRhdGEuaW1nID0gJ2ljb25zL3N2Zy9zd29yZC5zdmcnXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIC8qKiBEZWZhdWx0IGJlaGF2aW9yLCBqdXN0IGNhbGwgc3VwZXIoKSBhbmQgZG8gYWxsIHRoZSBkZWZhdWx0IEl0ZW0gaW5pdHMgKi9cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSAoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpXG4gICAgYXdhaXQgdGhpcy5jcmVhdHVyZUluaXQoKSAvLyBUT0RPIDogbW92ZSB0aGlzIGluIENvQ0FjdG9yLmNyZWF0ZShkYXRhLCBvcHRpb25zKVxuICB9XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKiBUZXN0aW5nXG4gIC8vIGFzeW5jIHVwZGF0ZShkYXRhLCBvcHRpb25zPXt9KSB7XG4gIC8vICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKCdyZXR1cm4gc3VwZXIudXBkYXRlKGRhdGEsIG9wdGlvbnMpOycpO1xuICAvLyAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhgaW50IDogJHt0aGlzLmNoYXJhY3RlcmlzdGljcy5pbnR9YCk7XG4gIC8vICAgdGhpcy5jaGFyYWN0ZXJpc3RpY3MuaW50ID0gMTU7XG4gIC8vICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKGBtb2RpZmllZCBpbnQgOiAke3RoaXMuY2hhcmFjdGVyaXN0aWNzLmludH1gKTtcbiAgLy8gICByZXR1cm4gc3VwZXIudXBkYXRlKGRhdGEsIG9wdGlvbnMpO1xuICAvLyB9XG5cbiAgLy8gZ2V0IGNoYXJhY3RlcmlzdGljcygpe1xuICAvLyAgIGNvbnN0IGFjdG9yID0gdGhpcztcbiAgLy8gICAgIHJldHVybiB7XG4gIC8vICAgICAgIGdldCBpbnQoKXtcbiAgLy8gICAgICAgICByZXR1cm4gYWN0b3IuZ2V0UHJvcCgnX2ludCcpO1xuICAvLyAgICAgICB9LFxuXG4gIC8vICAgICAgIHNldCBpbnQoeCl7XG4gIC8vICAgICAgICAgYWN0b3Iuc2V0UHJvcCgnX2ludCcsIHgpO1xuICAvLyAgICAgICB9XG4gIC8vICAgIH07XG4gIC8vIH1cblxuICAvLyBzZXRQcm9wKGtleSwgeCl7XG4gIC8vICAgdGhpc1trZXldID0geDtcbiAgLy8gfVxuXG4gIC8vIGdldFByb3Aoa2V5KXtcbiAgLy8gICByZXR1cm4gdGhpc1trZXldfHwwO1xuICAvLyB9XG4gIC8vXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBQcmVwYXJlIGRhdGEgcmVsYXRlZCB0byB0aGlzIERvY3VtZW50IGl0c2VsZiwgYmVmb3JlIGFueSBlbWJlZGRlZCBEb2N1bWVudHMgb3IgZGVyaXZlZCBkYXRhIGlzIGNvbXB1dGVkLlxuICAgKiBAbWVtYmVyb2YgQ2xpZW50RG9jdW1lbnRNaXhpbiNcbiAgICovXG4gIHByZXBhcmVCYXNlRGF0YSAoKSB7XG4gICAgaWYgKFsnY2hhcmFjdGVyJywgJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKHRoaXMudHlwZSkpIHtcbiAgICAgIHRoaXMuc3lzdGVtLnNraWxscyA9IHt9XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5pdGVtcykge1xuICAgICAgICBpZiAoaS50eXBlICE9PSAnc2tpbGwnKSBjb250aW51ZVxuICAgICAgICB0aGlzLnN5c3RlbS5za2lsbHNbYCR7aS5pdGVtSWRlbnRpZmllcn1gXSA9IHsgZm91bmRyeUlEOiBpLmlkLCBjb2NpZDogaS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5pZCwgdmFsdWU6IGkucmF3VmFsdWUsIGJvbnVzRGljZTogaS5zeXN0ZW0uYm9udXNEaWNlIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICogUmVtb3ZhbCBvZiAxLzUgc2FuaXR5XG4gICAgICogdGhpcyBpcyB0byByZW1vdmUgdGhlXG4gICAgICogYWN0b3IuZGF0YS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSB0byBiZSByZW1vdmVkIGZyb20gdGVtcGxhdGVcbiAgICAgKiBhbmQgaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwgdG8gYmUgcmVtb3ZlZCBmcm9tIHRlbXBsYXRlXG4gICAgICovXG4gICAgICBpZiAodHlwZW9mIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TGltaXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSkge1xuICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eS5zcGxpdCgnLycpXG4gICAgICAgICAgaWYgKHNbMV0gJiYgIWlzTmFOKE51bWJlcihzWzFdKSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TGltaXQgPSBOdW1iZXIoc1sxXSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCA9IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gY29tcHV0ZWQgdmFsdWVzIG9yIGZpeGVkIHZhbHVlcyBpZiBub3QgYXV0by5cbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LnZhbHVlID0gdGhpcy5yYXdNb3ZcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuZGIudmFsdWUgPSB0aGlzLnJhd0RiXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLnZhbHVlID0gdGhpcy5yYXdCdWlsZFxuXG4gICAgICAvLyBGb3IgdmVoaWNsZSBvbmx5IDpcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCA9IHRoaXMuaHBcblxuICAgICAgLy8gaWYgKFxuICAgICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5tcC52YWx1ZSA+IGRhdGEuZGF0YS5hdHRyaWJzLm1wLm1heCB8fFxuICAgICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5tcC5tYXggPT0gbnVsbFxuICAgICAgLy8gKSB7XG4gICAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLm1wLnZhbHVlID0gZGF0YS5kYXRhLmF0dHJpYnMubXAubWF4XG4gICAgICAvLyB9XG4gICAgICAvLyBpZiAoXG4gICAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLmhwLnZhbHVlID4gZGF0YS5kYXRhLmF0dHJpYnMuaHAubWF4IHx8XG4gICAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLmhwLm1heCA9PSBudWxsXG4gICAgICAvLyApIHtcbiAgICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMuaHAudmFsdWUgPSBkYXRhLmRhdGEuYXR0cmlicy5ocC5tYXhcbiAgICAgIC8vIH1cblxuICAgIC8vIGlmIChcbiAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLmhwLnZhbHVlID09IG51bGwgJiZcbiAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLmhwLm1heCAhPSBudWxsXG4gICAgLy8gKSB7XG4gICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5ocC52YWx1ZSA9IGRhdGEuZGF0YS5hdHRyaWJzLmhwLm1heFxuICAgIC8vIH1cbiAgICAvLyBpZiAoXG4gICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5tcC52YWx1ZSA9PSBudWxsICYmXG4gICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5tcC5tYXggIT0gbnVsbFxuICAgIC8vICkge1xuICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMubXAudmFsdWUgPSBkYXRhLmRhdGEuYXR0cmlicy5tcC5tYXhcbiAgICAvLyB9XG4gICAgfVxuICAgIHN1cGVyLnByZXBhcmVCYXNlRGF0YSgpXG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIFByZXBhcmUgYWxsIGVtYmVkZGVkIERvY3VtZW50IGluc3RhbmNlcyB3aGljaCBleGlzdCB3aXRoaW4gdGhpcyBwcmltYXJ5IERvY3VtZW50LlxuICAgKiBAbWVtYmVyb2YgQ2xpZW50RG9jdW1lbnRNaXhpbiNcbiAgICogYWN0aXZlIGVmZmVjdHMgYXJlIGFwcGxpZWRcbiAgICovXG4gIHByZXBhcmVFbWJlZGRlZERvY3VtZW50cyAoKSB7XG4gICAgc3VwZXIucHJlcGFyZUVtYmVkZGVkRG9jdW1lbnRzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQXBwbHkgdHJhbnNmb3JtYXRpb25zIG9yIGRlcml2YXRpb25zIHRvIHRoZSB2YWx1ZXMgb2YgdGhlIHNvdXJjZSBkYXRhIG9iamVjdC5cbiAgICogQ29tcHV0ZSBkYXRhIGZpZWxkcyB3aG9zZSB2YWx1ZXMgYXJlIG5vdCBzdG9yZWQgdG8gdGhlIGRhdGFiYXNlLlxuICAgKiBAbWVtYmVyb2YgQ2xpZW50RG9jdW1lbnRNaXhpbiNcbiAgICovXG4gIHByZXBhcmVEZXJpdmVkRGF0YSAoKSB7XG4gICAgaWYgKFsnY2hhcmFjdGVyJywgJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKHRoaXMudHlwZSkpIHtcbiAgICAgIHN1cGVyLnByZXBhcmVEZXJpdmVkRGF0YSgpXG4gICAgICAvLyBTZXQgaHBNYXgsIG1wTWF4LCBzYW5NYXgsIG1vdiwgZGIsIGJ1aWxkLiBUaGlzIGlzIHRvIGFsbG93IGNhbGN1bGF0aW9uIG9mIGRlcml2ZWQgdmFsdWUgd2l0aCBtb2RpZmVkIGNoYXJhY3RlcmlzdGljcy5cbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LnZhbHVlID0gdGhpcy5yYXdNb3ZcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuZGIudmFsdWUgPSB0aGlzLnJhd0RiXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLnZhbHVlID0gdGhpcy5yYXdCdWlsZFxuXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heCA9IHRoaXMucmF3SHBNYXhcbiAgICAgIGlmICh0aGlzLmhwID09PSBudWxsKSB0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLnZhbHVlID0gdGhpcy5yYXdIcE1heFxuXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLm1heCA9IHRoaXMucmF3TXBNYXhcbiAgICAgIGlmICh0aGlzLm1wID09PSBudWxsKSB0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlID0gdGhpcy5yYXdNcE1heFxuXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5tYXggPSB0aGlzLnJhd1Nhbk1heFxuICAgICAgaWYgKHRoaXMuc2FuID09PSBudWxsKSB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSA9IHRoaXMucmF3U2FuTWF4XG5cbiAgICAgIC8vIEFwcGx5IGVmZmVjdHMgdG8gYXV0b21hdGljYWx5IGNhbGN1bGF0ZWQgdmFsdWVzLlxuICAgICAgY29uc3QgZmlsdGVyTWF0cml4ID0gW11cblxuICAgICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAuYXV0bykgZmlsdGVyTWF0cml4LnB1c2goJ3N5c3RlbS5hdHRyaWJzLmhwLm1heCcpXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMubXAubWF4JylcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMuc2FuLm1heCcpXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YuYXV0bykgZmlsdGVyTWF0cml4LnB1c2goJ3N5c3RlbS5hdHRyaWJzLm1vdi52YWx1ZScpXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5kYi5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMuZGIudmFsdWUnKVxuICAgICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuYXV0bykgZmlsdGVyTWF0cml4LnB1c2goJ3N5c3RlbS5hdHRyaWJzLmJ1aWxkLnZhbHVlJylcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuZWZmZWN0cy5yZWR1Y2UoKGNoYW5nZXMsIGUpID0+IHtcbiAgICAgICAgaWYgKGUuZGlzYWJsZWQgfHwgZS5pc1N1cHByZXNzZWQpIHJldHVybiBjaGFuZ2VzXG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmNvbmNhdChcbiAgICAgICAgICBlLmNoYW5nZXMubWFwKGMgPT4ge1xuICAgICAgICAgICAgYyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKGMpXG4gICAgICAgICAgICBjLmVmZmVjdCA9IGVcbiAgICAgICAgICAgIGMucHJpb3JpdHkgPSBjLnByaW9yaXR5ID8/IGMubW9kZSAqIDEwXG4gICAgICAgICAgICByZXR1cm4gY1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0sIFtdKVxuICAgICAgY2hhbmdlcy5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSlcblxuICAgICAgY29uc3Qgc2VsZWN0Q2hhbmdlcyA9IGNoYW5nZXMuZmlsdGVyKGUgPT4gZmlsdGVyTWF0cml4LmluY2x1ZGVzKGUua2V5KSlcblxuICAgICAgLy8gQXBwbHkgYWxsIGNoYW5nZXNcbiAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIHNlbGVjdENoYW5nZXMpIHtcbiAgICAgICAgY2hhbmdlLmVmZmVjdC5hcHBseSh0aGlzLCBjaGFuZ2UpXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhwTWF4ICYmIHRoaXMuaHBNYXggPCB0aGlzLmhwKSB7IHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUgPSB0aGlzLmhwTWF4IH1cbiAgICAgIGlmICh0aGlzLm1wTWF4ICYmIHRoaXMubXBNYXggPCB0aGlzLm1wKSB7IHRoaXMuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUgPSB0aGlzLm1wTWF4IH1cbiAgICAgIGlmICh0aGlzLnNhbk1heCAmJiB0aGlzLnNhbk1heCA8IHRoaXMuc2FuKSB7IHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlID0gdGhpcy5zYW5NYXggfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoZGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgIGRhdGEucHJvdG90eXBlVG9rZW4gPSBtZXJnZU9iamVjdChkYXRhLnByb3RvdHlwZVRva2VuIHx8IHt9LCB7XG4gICAgICAgIGFjdG9yTGluazogdHJ1ZSxcbiAgICAgICAgZGlzcG9zaXRpb246IDEsXG4gICAgICAgIHNpZ2h0OiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnbnBjJykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0YS5pbWcgPT09ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJykge1xuICAgICAgICBkYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL2N1bHRpc3Quc3ZnJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnY3JlYXR1cmUnKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJyB8fCBkYXRhLmltZyA9PT0gJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnKSB7XG4gICAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvZmxvYXRpbmctdGVudGFjbGVzLnN2ZydcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnIHx8IGRhdGEuaW1nID09PSAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZycpIHtcbiAgICAgICAgZGF0YS5pbWcgPSAnaWNvbnMvc3ZnL2NoZXN0LnN2ZydcbiAgICAgIH1cbiAgICAgIGRhdGEucHJvdG90eXBlVG9rZW4gPSBtZXJnZU9iamVjdChkYXRhLnByb3RvdHlwZVRva2VuIHx8IHt9LCB7XG4gICAgICAgIGFjdG9yTGluazogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmNyZWF0ZShkYXRhLCBvcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIEVhcmx5IHZlcnNpb24gb24gdGVtcGxhdGVzIGRpZCBub3QgaW5jbHVkZSBwb3NzaWJpbGl0eSBvZiBhdXRvIGNhbGNcbiAgICogSnVzdCBjaGVjayBpZiBhdXRvIGlzIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBpdCB3aWxsIGJlIHNldCB0byB0cnVlXG4gICAqL1xuICBjaGVja1VuZGVmaW5lZEF1dG8gKCkge1xuICAgIGNvbnN0IHJldHVybkRhdGEgPSB7XG4gICAgICBhdHRyaWJzOiB7XG4gICAgICAgIGhwOiB7fSxcbiAgICAgICAgbXA6IHt9LFxuICAgICAgICBzYW46IHt9LFxuICAgICAgICBtb3Y6IHt9LFxuICAgICAgICBkYjoge30sXG4gICAgICAgIGJ1aWxkOiB7fVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicz8uaHA/LmF1dG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuRGF0YS5hdHRyaWJzLmhwLmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5tcD8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMubXAuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnM/LnNhbj8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMuc2FuLmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5tb3Y/LmF1dG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuRGF0YS5hdHRyaWJzLm1vdi5hdXRvID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicz8uZGI/LmF1dG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuRGF0YS5hdHRyaWJzLmRiLmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5idWlsZD8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMuYnVpbGQuYXV0byA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuRGF0YVxuICB9XG5cbiAgZ2V0IGNoYXJhY3RlcmlzdGljcyAoKSB7XG4gICAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0ge1xuICAgICAgc3RyOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuU1RSJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuU3RyZW5ndGgnLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgY29uOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuQ09OJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuQ29uc3RpdHV0aW9uJyxcbiAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgfSxcbiAgICAgIHNpejoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgc2hvcnROYW1lOiAnQ0hBUkFDLlNJWicsXG4gICAgICAgIGxhYmVsOiAnQ0hBUkFDLlNpemUnLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgZGV4OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuREVYJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuRGV4dGVyaXR5JyxcbiAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgfSxcbiAgICAgIGFwcDoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgc2hvcnROYW1lOiAnQ0hBUkFDLkFQUCcsXG4gICAgICAgIGxhYmVsOiAnQ0hBUkFDLkFwcGVhcmFuY2UnLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgaW50OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuSU5UJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuSW50ZWxsaWdlbmNlJyxcbiAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgfSxcbiAgICAgIHBvdzoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgc2hvcnROYW1lOiAnQ0hBUkFDLlBPVycsXG4gICAgICAgIGxhYmVsOiAnQ0hBUkFDLlBvd2VyJyxcbiAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgfSxcbiAgICAgIGVkdToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgc2hvcnROYW1lOiAnQ0hBUkFDLkVEVScsXG4gICAgICAgIGxhYmVsOiAnQ0hBUkFDLkVkdWNhdGlvbicsXG4gICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgIHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1xuICAgICAgKSkge1xuICAgICAgICBjaGFyYWN0ZXJpc3RpY3Nba2V5XSA9IHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgc2hvcnROYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUuc2hvcnQpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUubGFiZWwpLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZSxcbiAgICAgICAgICBoYXJkOiBNYXRoLmZsb29yKHZhbHVlLnZhbHVlIC8gMikgfHwgbnVsbCxcbiAgICAgICAgICBleHRyZW1lOiBNYXRoLmZsb29yKHZhbHVlLnZhbHVlIC8gNSkgfHwgbnVsbCxcbiAgICAgICAgICBmb3JtdWxhOiB2YWx1ZS5mb3JtdWxhXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYXJhY3RlcmlzdGljc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRva2VuIGNyZWF0aW9uIGZyb20gcHJlQ3JlYXRlQWN0b3IgaG9va1xuICAgKiBAcGFyYW0geyp9IGNyZWF0ZURhdGFcbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbml0VG9rZW4gKGNyZWF0ZURhdGEpIHtcbiAgICAvLyBjYWxsZWQgdXBvbiB0b2tlbiBjcmVhdGlvbi5hY3RpdmVcbiAgICBpZiAoY3JlYXRlRGF0YSkge1xuICAgICAgLy9cbiAgICB9XG4gIH1cblxuICBnZXQgaGFzVGVtcG9JbnNhbmUgKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSlcbiAgfVxuXG4gIGdldCBnZXRUZW1wb0luc2FuZUR1cmF0aW9uVGV4dCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uVmFsdWUoQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUsICdkdXJhdGlvblRleHQnKVxuICB9XG5cbiAgZ2V0IGhhc0luZGVmSW5zYW5lICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMuaW5kZWZJbnNhbmUpXG4gIH1cblxuICBnZXQgcG9ydHJhaXQgKCkge1xuICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlVG9rZW4nKSkgcmV0dXJuIHRoaXMuaW1nXG4gICAgcmV0dXJuIHRoaXMudG9rZW4/LnRleHR1cmU/LnNyYyB8fCB0aGlzLnByb3RvdHlwZVRva2VuPy50ZXh0dXJlPy5zcmMgfHwgdGhpcy5pbWdcbiAgfVxuXG4gIGFzeW5jIGVudGVyQm91dE9mTWFkbmVzcyAocmVhbFRpbWUgPSB0cnVlLCBkdXJhdGlvbiA9IDEpIHtcbiAgICAvLyBjb25zdCBkdXJhdGlvbiA9IHtyb3VuZHM6IDEsXG4gICAgLy8gICBzZWNvbmRzOiAxNyxcbiAgICAvLyAgIHN0YXJ0Um91bmQ6IDMsXG4gICAgLy8gICBzdGFydFRpbWU6IDU4LFxuICAgIC8vICAgc3RhcnRUdXJuOiA0LFxuICAgIC8vICAgdHVybnM6IDJ9O1xuICAgIC8vIGF3YWl0IHRoaXMuYm91dE9mTWFkbmVzcz8uc2V0RmxhZyggJ0NvQzcnLCAnbWFkbmVzcycsIHRydWUpO1xuXG4gICAgbGV0IHJlc3VsdCA9IG51bGxcbiAgICBjb25zdCBib3V0T2ZNYWRuZXNzVGFibGVJZCA9IHJlYWxUaW1lXG4gICAgICA/IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NSZWFsVGltZVRhYmxlJylcbiAgICAgIDogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1N1bW1hcnlUYWJsZScpXG4gICAgaWYgKGJvdXRPZk1hZG5lc3NUYWJsZUlkICE9PSAnbm9uZScpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgcGhvYmlhOiBmYWxzZSxcbiAgICAgICAgbWFuaWE6IGZhbHNlLFxuICAgICAgICBkZXNjcmlwdGlvbjogbnVsbFxuICAgICAgfVxuICAgICAgY29uc3QgYm91dE9mTWFkbmVzc1RhYmxlID0gZ2FtZS50YWJsZXMuZ2V0KGJvdXRPZk1hZG5lc3NUYWJsZUlkKVxuICAgICAgcmVzdWx0LnRhYmxlUm9sbCA9IGF3YWl0IGJvdXRPZk1hZG5lc3NUYWJsZS5yb2xsKClcbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0LnRhYmxlUm9sbC5yZXN1bHRzWzBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgQ09OU1QuVEFCTEVfUkVTVUxUX1RZUEVTLkRPQ1VNRU5UID09PVxuICAgICAgICAgIHJlc3VsdC50YWJsZVJvbGwucmVzdWx0c1swXS50eXBlXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBnYW1lLml0ZW1zLmdldChyZXN1bHQudGFibGVSb2xsLnJlc3VsdHNbMF0uZG9jdW1lbnRJZClcbiAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zeXN0ZW0/LnR5cGU/LnBob2JpYSkgcmVzdWx0LnBob2JpYSA9IHRydWVcbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbT8udHlwZT8ubWFuaWEpIHJlc3VsdC5tYW5pYSA9IHRydWVcbiAgICAgICAgICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9IGAke2l0ZW0ubmFtZX06JHtUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICB7IGFzeW5jOiBmYWxzZSB9XG4gICAgICAgICAgICApfWBcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gaXRlbS5uYW1lXG4gICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGl0ZW0udG9PYmplY3QoKVxuICAgICAgICAgICAgZGVsZXRlIGl0ZW1EYXRhLl9pZFxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtpdGVtRGF0YV0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NZXNzYWdlQm91dE9mTWFkbmVzc0l0ZW1Ob3RGb3VuZCcpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBDT05TVC5UQUJMRV9SRVNVTFRfVFlQRVMuVEVYVCA9PT1cbiAgICAgICAgICByZXN1bHQudGFibGVSb2xsLnJlc3VsdHNbMF0udHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICAgICAgICByZXN1bHQudGFibGVSb2xsLnJlc3VsdHNbMF0udGV4dCxcbiAgICAgICAgICAgIHsgYXN5bmM6IGZhbHNlIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VCb3V0T2ZNYWRuZXNzVGFibGVOb3RGb3VuZCcpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBpdCdzIG5vdCBhIHJlYWwgdGltZSBubyBuZWVkIHRvIGFjdGl2YXRlIHRoZSBib3V0XG4gICAgaWYgKCFyZWFsVGltZSkgcmV0dXJuIHJlc3VsdFxuXG4gICAgdGhpcy5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUsIHtcbiAgICAgIHJlYWxUaW1lLFxuICAgICAgZHVyYXRpb25cbiAgICB9KVxuXG4gICAgLy8gY29uc3QgZWZmZWN0ID0gdGhpcy5lZmZlY3RzLmdldCggZWZmZWN0RGF0YS5faWQpO1xuICAgIC8vIGVmZmVjdC5zaGVldC5yZW5kZXIodHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbmV3IGFjdG9yIGNyZWF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICogQHBhcmFtIHsqfSBvcHRpb25zXG4gICAqL1xuICAvLyBzdGF0aWMgYXN5bmMgY3JlYXRlKGRhdGEsIG9wdGlvbnMpIHtcbiAgLy8gIC8vIElmIHRoZSBjcmVhdGVkIGFjdG9yIGhhcyBpdGVtcyAob25seSBhcHBsaWNhYmxlIHRvIGR1cGxpY2F0ZWQgYWN0b3JzKSBieXBhc3MgdGhlIG5ldyBhY3RvciBjcmVhdGlvbiBsb2dpY1xuICAvLyAgaWYgKGRhdGEuaXRlbXMpIHtcbiAgLy8gICAgcmV0dXJuIHN1cGVyLmNyZWF0ZShkYXRhLCBvcHRpb25zKTtcbiAgLy8gIH1cbiAgLy8gIHJldHVybiBzdXBlci5jcmVhdGUoZGF0YSwgb3B0aW9ucyk7XG4gIC8vIH1cblxuICBzdGF0aWMgZW1wdHlTa2lsbCAoXG4gICAgc2tpbGxOYW1lLFxuICAgIHZhbHVlLFxuICAgIHtcbiAgICAgIHJhcml0eSA9IGZhbHNlLFxuICAgICAgcHVzaCA9IHRydWUsXG4gICAgICBjb21iYXQgPSBmYWxzZSxcbiAgICAgIGltZyA9IGZhbHNlLFxuICAgICAgc3BlY2lhbGl6YXRpb24gPSBmYWxzZVxuICAgIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbmFtZTogc2tpbGxOYW1lLFxuICAgICAgdHlwZTogJ3NraWxsJyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgc2tpbGxOYW1lLFxuICAgICAgICBzcGVjaWFsaXphdGlvbjogJycsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBzcGVjaWFsOiBmYWxzZSxcbiAgICAgICAgICByYXJpdHksXG4gICAgICAgICAgcHVzaCxcbiAgICAgICAgICBjb21iYXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW1nICE9PSBmYWxzZSkge1xuICAgICAgZGF0YS5pbWcgPSBpbWdcbiAgICB9XG4gICAgaWYgKHNwZWNpYWxpemF0aW9uICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgcGFydHMgPSBDb0M3SXRlbS5nZXROYW1lUGFydHNTcGVjKHNraWxsTmFtZSwgc3BlY2lhbGl6YXRpb24pXG4gICAgICBkYXRhLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICBkYXRhLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgIGRhdGEubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgIGRhdGEuc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCA9IHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiBsaXN0IG9mIHNraWxscyBieSByZW1vdmluZyBzcGVjaWFsaXphdGlvbiBmcm9tIG5hbWVcbiAgICovXG4gIC8vIGFzeW5jIGNsZWFuU2tpbGxzICgpIHtcbiAgLy8gICBEaWFsb2cuY29uZmlybSh7XG4gIC8vICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNsZWFuU2tpbGxMaXN0Jyl9YCxcbiAgLy8gICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DbGVhblNraWxsTGlzdEhpbnQnKX08L3A+YCxcbiAgLy8gICAgIHllczogKCkgPT4gY2xlYW4odGhpcylcbiAgLy8gICB9KVxuICAvLyAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFuIChhY3Rvcikge1xuICAvLyAgICAgY29uc3QgdXBkYXRlID0gW11cbiAgLy8gICAgIGFjdG9yLnNraWxscy5mb3JFYWNoKHMgPT4ge1xuICAvLyAgICAgICBpZiAocy5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsKSB7XG4gIC8vICAgICAgICAgY29uc3QgY2xlYW4gPSBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWMocyk/LnRyaW0oKVxuICAvLyAgICAgICAgIGlmIChjbGVhbi50b0xvd2VyQ2FzZSgpICE9IHMubmFtZS50b0xvd2VyQ2FzZSgpIHx8IGNsZWFuLnRvTG93ZXJDYXNlKCkgIT0gcy5kYXRhLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAvLyAgICAgICAgICAgdXBkYXRlLnB1c2goe1xuICAvLyAgICAgICAgICAgICBfaWQ6IHMuaWQsXG4gIC8vICAgICAgICAgICAgIG5hbWU6IGNsZWFuXG4gIC8vICAgICAgICAgICB9KVxuICAvLyAgICAgICAgIH1cbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSlcbiAgLy8gICAgIGlmICh1cGRhdGUubGVuZ3RoICE9IDApe1xuICAvLyAgICAgICBhd2FpdCBhY3Rvci51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIHVwZGF0ZSlcbiAgLy8gICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKCBgU2tpbGxzIDogJHtBcnJheS5mcm9tKCB1cGRhdGUsIGUgPT4gZS5uYW1lKS5qb2luKCcsICcpfSB1cGRhdGVkLmApXG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oICdTa2lsbCBsaXN0IHdhcyBjbGVhbiBhbHJlYWR5ICEnKVxuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXN5bmMgY3JlYXRlU2tpbGwgKHNraWxsTmFtZSwgdmFsdWUsIHNob3dTaGVldCA9IGZhbHNlKSB7XG4gICAgY29uc3QgZGF0YSA9IENvQ0FjdG9yLmVtcHR5U2tpbGwoc2tpbGxOYW1lLCB2YWx1ZSlcbiAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkYXRhXSwge1xuICAgICAgcmVuZGVyU2hlZXQ6IHNob3dTaGVldFxuICAgIH0pXG4gICAgcmV0dXJuIGNyZWF0ZWRcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVdlYXBvblNraWxsIChuYW1lLCBmaXJlYXJtcyA9IGZhbHNlLCBiYXNlID0gbnVsbCkge1xuICAgIC8vIFRPRE8gOiBBc2sgZm9yIGJhc2UgdmFsdWUgaWYgbnVsbFxuXG4gICAgY29uc3Qgc2tpbGxEYXRhID0gYXdhaXQgU2tpbGxTcGVjU2VsZWN0RGlhbG9nLmNyZWF0ZShcbiAgICAgIFtdLFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICBmaXJlYXJtc1xuICAgICAgICAgID8gJ0NvQzcuRmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSdcbiAgICAgICAgICA6ICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgKSxcbiAgICAgIDAsXG4gICAgICBuYW1lXG4gICAgKVxuICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKHNraWxsRGF0YS5nZXQoJ2Jhc2UtdmFsdWUnKSlcbiAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICBuYW1lLFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICBmaXJlYXJtc1xuICAgICAgICAgID8gJ0NvQzcuRmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSdcbiAgICAgICAgICA6ICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgKVxuICAgIClcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbmFtZTogcGFydHMubmFtZSxcbiAgICAgIHR5cGU6ICdza2lsbCcsXG4gICAgICBzeXN0ZW06IHtcbiAgICAgICAgYmFzZTogaXNOYU4odmFsdWUpID8gMCA6IHZhbHVlLFxuICAgICAgICBhZGp1c3RtZW50czoge1xuICAgICAgICAgIHBlcnNvbmFsOiBudWxsLFxuICAgICAgICAgIG9jY3VwYXRpb246IG51bGwsXG4gICAgICAgICAgYXJjaGV0eXBlOiBudWxsLFxuICAgICAgICAgIGV4cGVyaWVuY2U6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc2tpbGxOYW1lOiBwYXJ0cy5za2lsbE5hbWUsXG4gICAgICAgIHNwZWNpYWxpemF0aW9uOiBwYXJ0cy5zcGVjaWFsaXphdGlvbixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNwZWNpYWw6IHRydWUsXG4gICAgICAgICAgZmlnaHRpbmc6ICFmaXJlYXJtcyxcbiAgICAgICAgICBmaXJlYXJtOiBmaXJlYXJtcyxcbiAgICAgICAgICBjb21iYXQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2RhdGFdLCB7XG4gICAgICByZW5kZXJTaGVldDogIWJhc2VcbiAgICB9KVxuICAgIGNvbnN0IHNraWxsID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUobmFtZSlcbiAgICByZXR1cm4gc2tpbGxbMF1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgY3JlYXR1cmUgd2l0aCBtaW5pbXVtcyBza2lsbHNcbiAgICovXG4gIGFzeW5jIGNyZWF0dXJlSW5pdCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ2NyZWF0dXJlJykgcmV0dXJuXG4gICAgaWYgKHRoaXMuZ2V0QWN0b3JGbGFnKCdpbml0aWFsaXplZCcpKSByZXR1cm4gLy8gQ2hhbmdlIHRvIHJldHVybiBza2lsbCA/XG5cbiAgICAvLyBDaGVjayBpZiBmaWdodGluZyBza2lsbHMgZXhpc3RzLCBpZiBub3QgY3JlYXRlIGl0IGFuZCB0aGUgYXNzb2NpYXRlZCBhdHRhY2suXG4gICAgY29uc3Qgc2tpbGxzID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUoXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5jcmVhdHVyZUZpZ2h0aW5nU2tpbGwpXG4gICAgKVxuICAgIGlmIChza2lsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBDcmVhdGluZyBuYXR1cmFsIGF0dGFjayBza2lsbFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBDb0M3SXRlbS5nZXROYW1lUGFydHNTcGVjKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3LmNyZWF0dXJlRmlnaHRpbmdTa2lsbCksXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKENPQzcuZmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUpXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICB0eXBlOiAnc2tpbGwnLFxuICAgICAgICAgIG5hbWU6IHBhcnRzLm5hbWUsXG4gICAgICAgICAgc3lzdGVtOiB7XG4gICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBza2lsbE5hbWU6IHBhcnRzLnNraWxsTmFtZSxcbiAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiBwYXJ0cy5zcGVjaWFsaXphdGlvbixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICAgICAgICBmaWdodGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgc3BlY2lhbDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZsYWdzOiB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBza2lsbCA9IGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBhdHRhY2sgPSBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKFxuICAgICAgICAgICdJdGVtJyxcbiAgICAgICAgICBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6ICdJbm5hdGUgYXR0YWNrJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3dlYXBvbicsXG4gICAgICAgICAgICAgIHN5c3RlbToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogXCJDcmVhdHVyZSdzIG5hdHVyYWwgYXR0YWNrXCIsXG4gICAgICAgICAgICAgICAgICBjaGF0OiBcIkNyZWF0dXJlJ3MgbmF0dXJhbCBhdHRhY2tcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgd3BuVHlwZTogJ2lubmF0ZScsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgYWRkYjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNsbnQ6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHsgcmVuZGVyU2hlZXQ6IGZhbHNlIH1cbiAgICAgICAgKVxuICAgICAgICBpZiAoc2tpbGwubGVuZ3RoID4gMCAmJiBhdHRhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNyZWF0ZWRBdHRhY2sgPSB0aGlzLml0ZW1zLmdldChhdHRhY2tbMF0uaWQpXG4gICAgICAgICAgYXdhaXQgY3JlYXRlZEF0dGFjay51cGRhdGUoe1xuICAgICAgICAgICAgJ3N5c3RlbS5za2lsbC5tYWluLmlkJzogc2tpbGxbMF0uaWQsXG4gICAgICAgICAgICAnc3lzdGVtLnNraWxsLm1haW4ubmFtZSc6IHNraWxsWzBdLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ3JlYXR1cmUgaW5pdDogJyArIGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2coICdTa2lsbCBjcmVhdGVkJyk7XG4gICAgICBhd2FpdCB0aGlzLnNldEFjdG9yRmxhZygnaW5pdGlhbGl6ZWQnKVxuICAgICAgLy8gQ3JlYXRpbmcgY29ycmVzcG9uZGluZyB3ZWFwb24uXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlSXRlbSAoaXRlbU5hbWUsIHF1YW50aXR5ID0gMSwgc2hvd1NoZWV0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbmFtZTogaXRlbU5hbWUsXG4gICAgICB0eXBlOiAnaXRlbScsXG4gICAgICBzeXN0ZW06IHtcbiAgICAgICAgcXVhbnRpdHlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgIHJlbmRlclNoZWV0OiBzaG93U2hlZXRcbiAgICB9KVxuICAgIHJldHVybiBjcmVhdGVkXG4gIH1cblxuICBhc3luYyBjcmVhdGVFbXB0eUJvb2sgKGV2ZW50ID0gbnVsbCkge1xuICAgIGNvbnN0IHNob3dTaGVldCA9IGV2ZW50ID8gIWV2ZW50LnNoaWZ0S2V5IDogdHJ1ZVxuICAgIGlmICghdGhpcy5nZXRJdGVtSWRCeU5hbWUoZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3Qm9va05hbWUpKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQm9vayhnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdCb29rTmFtZSksIHNob3dTaGVldClcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGxldCBpdGVtTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0Jvb2tOYW1lKSArICcgJyArIGluZGV4XG4gICAgd2hpbGUgKHRoaXMuZ2V0SXRlbUlkQnlOYW1lKGl0ZW1OYW1lKSkge1xuICAgICAgaW5kZXgrK1xuICAgICAgaXRlbU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdCb29rTmFtZSkgKyAnICcgKyBpbmRleFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVCb29rKGl0ZW1OYW1lLCBzaG93U2hlZXQpXG4gIH1cblxuICBhc3luYyBjcmVhdGVCb29rIChpdGVtTmFtZSwgc2hvd1NoZWV0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbmFtZTogaXRlbU5hbWUsXG4gICAgICB0eXBlOiAnYm9vaycsXG4gICAgICBzeXN0ZW06IHt9XG4gICAgfVxuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2RhdGFdLCB7XG4gICAgICByZW5kZXJTaGVldDogc2hvd1NoZWV0XG4gICAgfSlcbiAgICByZXR1cm4gY3JlYXRlZFxuICB9XG5cbiAgYXN5bmMgY3JlYXRlRW1wdHlTcGVsbCAoZXZlbnQgPSBudWxsKSB7XG4gICAgY29uc3Qgc2hvd1NoZWV0ID0gZXZlbnQgPyAhZXZlbnQuc2hpZnRLZXkgOiB0cnVlXG4gICAgaWYgKCF0aGlzLmdldEl0ZW1JZEJ5TmFtZShnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTcGVsbE5hbWUpKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU3BlbGwoZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3U3BlbGxOYW1lKSwgc2hvd1NoZWV0KVxuICAgIH1cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgbGV0IGl0ZW1OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3U3BlbGxOYW1lKSArICcgJyArIGluZGV4XG4gICAgd2hpbGUgKHRoaXMuZ2V0SXRlbUlkQnlOYW1lKGl0ZW1OYW1lKSkge1xuICAgICAgaW5kZXgrK1xuICAgICAgaXRlbU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTcGVsbE5hbWUpICsgJyAnICsgaW5kZXhcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU3BlbGwoaXRlbU5hbWUsIHNob3dTaGVldClcbiAgfVxuXG4gIHN0YXRpYyBlbXB0eVNwZWxsIChpdGVtTmFtZSkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgIHR5cGU6ICdzcGVsbCcsXG4gICAgICBzeXN0ZW06IHt9XG4gICAgfVxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBhc3luYyBjcmVhdGVTcGVsbCAoaXRlbU5hbWUsIHNob3dTaGVldCA9IGZhbHNlKSB7XG4gICAgY29uc3QgZGF0YSA9IENvQ0FjdG9yLmVtcHR5U3BlbGwoaXRlbU5hbWUpXG4gICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgIHJlbmRlclNoZWV0OiBzaG93U2hlZXRcbiAgICB9KVxuICAgIHJldHVybiBjcmVhdGVkXG4gIH1cblxuICBhc3luYyBjcmVhdGVFbXB0eVNraWxsIChldmVudCA9IG51bGwpIHtcbiAgICBjb25zdCBzaG93U2hlZXQgPSBldmVudCA/ICFldmVudC5zaGlmdEtleSA6IHRydWVcbiAgICBpZiAoIXRoaXMuZ2V0SXRlbUlkQnlOYW1lKGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1NraWxsTmFtZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVTa2lsbChcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3U2tpbGxOYW1lKSxcbiAgICAgICAgKHRoaXMudHlwZSAhPT0gJ2NoYXJhY3RlcicgPyAxIDogbnVsbCksXG4gICAgICAgIHNob3dTaGVldFxuICAgICAgKVxuICAgIH1cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgbGV0IHNraWxsTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1NraWxsTmFtZSkgKyAnICcgKyBpbmRleFxuICAgIHdoaWxlICh0aGlzLmdldEl0ZW1JZEJ5TmFtZShza2lsbE5hbWUpKSB7XG4gICAgICBpbmRleCsrXG4gICAgICBza2lsbE5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTa2lsbE5hbWUpICsgJyAnICsgaW5kZXhcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTa2lsbChza2lsbE5hbWUsIG51bGwsIHNob3dTaGVldClcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUVtcHR5SXRlbSAoZXZlbnQgPSBudWxsKSB7XG4gICAgY29uc3Qgc2hvd1NoZWV0ID0gZXZlbnQgPyAhZXZlbnQuc2hpZnRLZXkgOiB0cnVlXG4gICAgaWYgKCF0aGlzLmdldEl0ZW1JZEJ5TmFtZShnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdJdGVtTmFtZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVJdGVtKGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0l0ZW1OYW1lKSwgMSwgc2hvd1NoZWV0KVxuICAgIH1cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgbGV0IGl0ZW1OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3SXRlbU5hbWUpICsgJyAnICsgaW5kZXhcbiAgICB3aGlsZSAodGhpcy5nZXRJdGVtSWRCeU5hbWUoaXRlbU5hbWUpKSB7XG4gICAgICBpbmRleCsrXG4gICAgICBpdGVtTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0l0ZW1OYW1lKSArICcgJyArIGluZGV4XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUl0ZW0oaXRlbU5hbWUsIDEsIHNob3dTaGVldClcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUVtcHR5V2VhcG9uIChldmVudCA9IG51bGwsIHByb3BlcnRpZXMgPSB7fSkge1xuICAgIGNvbnN0IHNob3dTaGVldCA9IGV2ZW50ID8gIWV2ZW50LnNoaWZ0S2V5IDogdHJ1ZVxuICAgIGxldCB3ZWFwb25OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3V2VhcG9uTmFtZSlcbiAgICBpZiAodGhpcy5nZXRJdGVtSWRCeU5hbWUoZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3V2VhcG9uTmFtZSkpKSB7XG4gICAgICBsZXQgaW5kZXggPSAwXG4gICAgICB3ZWFwb25OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3V2VhcG9uTmFtZSkgKyAnICcgKyBpbmRleFxuICAgICAgd2hpbGUgKHRoaXMuZ2V0SXRlbUlkQnlOYW1lKHdlYXBvbk5hbWUpKSB7XG4gICAgICAgIGluZGV4KytcbiAgICAgICAgd2VhcG9uTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1dlYXBvbk5hbWUpICsgJyAnICsgaW5kZXhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbmFtZTogd2VhcG9uTmFtZSxcbiAgICAgIHR5cGU6ICd3ZWFwb24nLFxuICAgICAgc3lzdGVtOiB7XG4gICAgICAgIHByb3BlcnRpZXM6IHt9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5XSBvZiBPYmplY3QuZW50cmllcyhDT0M3LndlYXBvblByb3BlcnRpZXMpKSB7XG4gICAgICBkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcGVydGllcywga2V5KSA/PyBmYWxzZVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgIHJlbmRlclNoZWV0OiBzaG93U2hlZXRcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQmlvU2VjdGlvbiAodGl0bGUgPSBudWxsKSB7XG4gICAgY29uc3QgYmlvID0gdGhpcy5zeXN0ZW0uYmlvZ3JhcGh5XG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgICA6IFtdXG4gICAgYmlvLnB1c2goe1xuICAgICAgdGl0bGUsXG4gICAgICB2YWx1ZTogbnVsbFxuICAgIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJpb2dyYXBoeSc6IGJpbyB9LCB7IHJlbmRlclNoZWV0OiBmYWxzZSB9KVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQmlvVmFsdWUgKGluZGV4LCBjb250ZW50KSB7XG4gICAgY29uc3QgYmlvID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtLmJpb2dyYXBoeSlcbiAgICBiaW9baW5kZXhdLnZhbHVlID0gY29udGVudFxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iaW9ncmFwaHknOiBiaW8gfSwgeyByZW5kZXI6IGZhbHNlIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVCaW9UaXRsZSAoaW5kZXgsIHRpdGxlKSB7XG4gICAgY29uc3QgYmlvID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtLmJpb2dyYXBoeSlcbiAgICBiaW9baW5kZXhdLnRpdGxlID0gdGl0bGVcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYmlvZ3JhcGh5JzogYmlvIH0pXG4gIH1cblxuICBhc3luYyBkZWxldGVCaW9TZWN0aW9uIChpbmRleCkge1xuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgYmlvLnNwbGljZShpbmRleCwgMSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYmlvZ3JhcGh5JzogYmlvIH0pXG4gIH1cblxuICBhc3luYyBtb3ZlQmlvU2VjdGlvblVwIChpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuXG4gICAgY29uc3QgYmlvID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtLmJpb2dyYXBoeSlcbiAgICBpZiAoaW5kZXggPj0gYmlvLmxlbmd0aCkgcmV0dXJuXG4gICAgY29uc3QgZWxlbSA9IGJpby5zcGxpY2UoaW5kZXgsIDEpWzBdXG4gICAgYmlvLnNwbGljZShpbmRleCAtIDEsIDAsIGVsZW0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJpb2dyYXBoeSc6IGJpbyB9KVxuICB9XG5cbiAgYXN5bmMgbW92ZUJpb1NlY3Rpb25Eb3duIChpbmRleCkge1xuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgaWYgKGluZGV4ID49IGJpby5sZW5ndGggLSAxKSByZXR1cm5cbiAgICBjb25zdCBlbGVtID0gYmlvLnNwbGljZShpbmRleCwgMSlbMF1cbiAgICBiaW8uc3BsaWNlKGluZGV4ICsgMSwgMCwgZWxlbSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYmlvZ3JhcGh5JzogYmlvIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVUZXh0QXJlYSAodGV4dEFyZWEpIHtcbiAgICBjb25zdCBuYW1lID0gJ3N5c3RlbS4nICsgdGV4dEFyZWEuZGF0YXNldC5hcmVhTmFtZVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgW25hbWVdOiB0ZXh0QXJlYS52YWx1ZSB9KVxuICB9XG5cbiAgLy8gYXN5bmMgX3VwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzIChkb2N1bWVudENsYXNzLCBwYXJlbnQsIHsgdXBkYXRlcywgb3B0aW9ucywgcGFjayB9LCB1c2VyKSB7XG4gIC8vICAgY29uc3QgcG91ZXQgPSAndG90bydcbiAgLy8gfVxuXG4gIC8vIGFzeW5jIHByZVVwZGF0ZUFjdGl2ZUVmZmVjdCAoYSxiLGMsZCkge1xuICAvLyAgIGNvbnN0IHBvdWV0ID0gJ3RvdG8nXG4gIC8vIH1cblxuICAvLyBhc3luYyB1cGRhdGVBY3RpdmVFZmZlY3QgKGEsYixjLGQpIHtcbiAgLy8gICBjb25zdCBwb3VldCA9ICd0b3RvJ1xuICAvLyB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpdGVtIGZvciB0aGF0IGFjdG9yLlxuICAgKiBJZiBpdCdzIGEgc2tpbGwgZmlyc3QgY2hlY2sgaWYgdGhlIHNraWxsIGlzIGFscmVhZHkgb3duZWQuIElmIGl0IGlzIGRvbid0IGNyZWF0ZSBhIHNlY29uZCB0aW1lLlxuICAgKiBGaWxsIHRoZSB2YWx1ZSBvZiB0aGUgc2tpbGwgd2l0aCBiYXNlIG9yIHRyeSB0byBldmFsdWF0ZSB0aGUgZm9ybXVsYS5cbiAgICogQHBhcmFtIHsqfSBlbWJlZGRlZE5hbWVcbiAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlRW1iZWRkZWREb2N1bWVudHMgKGVtYmVkZGVkTmFtZSwgZGF0YUFycmF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvY2Vzc2VkRGF0YUFycmF5ID0gW11cbiAgICBsZXQgYmFzZVZhbHVlID0gMFxuICAgIGxldCBiYXNlQ2FsY3VsYXRlZCA9IDBcbiAgICBsZXQgYXJjaGV0eXBlID0gZmFsc2VcbiAgICBsZXQgb2NjdXBhdGlvbiA9IGZhbHNlXG4gICAgZm9yIChsZXQgZGF0YSBvZiBkYXRhQXJyYXkpIHtcbiAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NraWxsJzoge1xuICAgICAgICAgIGJhc2VWYWx1ZSA9IGRhdGEuc3lzdGVtLmJhc2VcbiAgICAgICAgICBiYXNlQ2FsY3VsYXRlZCA9IGF3YWl0IENvQzdJdGVtLmNhbGN1bGF0ZUJhc2UodGhpcywgZGF0YSlcbiAgICAgICAgICBpZiAodGhpcy50eXBlICE9PSAnY2hhcmFjdGVyJykge1xuICAgICAgICAgICAgLy8gSWYgbm90IGEgUEMgc2V0IHNraWxsIHZhbHVlIHRvIGJhc2VcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEl0ZW1JZEJ5TmFtZShkYXRhLm5hbWUpKSByZXR1cm4gLy8gSWYgc2tpbGwgd2l0aCB0aGlzIG5hbWUgZXhpc3QgcmV0dXJuXG5cbiAgICAgICAgICAgIGlmIChiYXNlVmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKFN0cmluZyhiYXNlVmFsdWUpICE9PSBTdHJpbmcoZGF0YS5zeXN0ZW0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0udmFsdWUgPSBiYXNlQ2FsY3VsYXRlZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc05hTihOdW1iZXIoZGF0YS5zeXN0ZW0udmFsdWUpKSkge1xuICAgICAgICAgICAgICBsZXQgdmFsdWVcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBSb2xsKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZUNoYXJhY3RlcmlzdGljcygpXG4gICAgICAgICAgICAgICAgICApLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICAgICAgICApLnRvdGFsXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSkgZGF0YS5zeXN0ZW0udmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLnN5c3RlbS52YWx1ZSA9IG51bGxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgYWRkVGhpcyA9IHRydWVcblxuICAgICAgICAgIGlmIChDb0M3SXRlbS5pc0FueVNwZWMoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQW55QnV0Tm90RmxhZ2dlZCA9ICghKGRhdGEuc3lzdGVtLnByb3BlcnRpZXM/LnJlcXVpcmVzbmFtZSkgPz8gZmFsc2UpICYmICEoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ucGlja25hbWVvbmx5ID8/IGZhbHNlKVxuICAgICAgICAgICAgbGV0IHNraWxsTGlzdCA9IFtdXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0dyb3VwRnJvbURvY3VtZW50KGRhdGEpXG4gICAgICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgICAgc2tpbGxMaXN0ID0gKGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSURSZWdleEJlc3QoeyBjb2NpZFJlZ0V4cDogbmV3IFJlZ0V4cCgnXicgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKGdyb3VwKSArICcuKyQnKSwgdHlwZTogJ2knIH0pKS5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5zcGVjaWFsID8/IGZhbHNlKSAmJiAhKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnJlcXVpcmVzbmFtZSA/PyBmYWxzZSkgJiYgIShpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5waWNrbmFtZW9ubHkgPz8gZmFsc2UpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5zeXN0ZW0/LmZsYWdzPy5vY2N1cGF0aW9uIHx8IGRhdGEuc3lzdGVtPy5mbGFncz8uYXJjaGV0eXBlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2tpbGxzID0gdGhpcy5za2lsbHMuZmlsdGVyKGVsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsLnN5c3RlbS5zcGVjaWFsaXphdGlvbikgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0/LmZsYWdzPy5vY2N1cGF0aW9uICYmXG4gICAgICAgICAgICAgICAgICBlbC5zeXN0ZW0uZmxhZ3M/Lm9jY3VwYXRpb25cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbT8uZmxhZ3M/LmFyY2hldHlwZSAmJlxuICAgICAgICAgICAgICAgICAgZWwuc3lzdGVtLmZsYWdzPy5hcmNoZXR5cGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgIGVsLnN5c3RlbS5zcGVjaWFsaXphdGlvbi50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdTa2lsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChza2lsbExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGV4aXN0aW5nU2tpbGxzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gc2tpbGxMaXN0LmZpbmRJbmRleChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBleGlzdGluZ1NraWxsc1tpXS5uYW1lIHx8IGl0ZW0uZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQgPT09IGV4aXN0aW5nU2tpbGxzW2ldLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0LnNwbGljZShmb3VuZCwgMSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0ID0gc2tpbGxMaXN0LmNvbmNhdChleGlzdGluZ1NraWxscylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0ID0gZXhpc3RpbmdTa2lsbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChza2lsbExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBza2lsbExpc3Quc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBza2lsbERhdGEgPSBhd2FpdCBTa2lsbFNwZWNpYWxpemF0aW9uU2VsZWN0RGlhbG9nLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIHNraWxsczogc2tpbGxMaXN0LFxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbTogKGlzQW55QnV0Tm90RmxhZ2dlZCB8fCAoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ucmVxdWlyZXNuYW1lID8/IGZhbHNlKSksXG4gICAgICAgICAgICAgIGZpeGVkQmFzZVZhbHVlOiAoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ua2VlcGJhc2V2YWx1ZSA/PyBmYWxzZSksXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uTmFtZTogZGF0YS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24sXG4gICAgICAgICAgICAgIGxhYmVsOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGJhc2VWYWx1ZTogZGF0YS5zeXN0ZW0uYmFzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2tpbGxEYXRhLCAnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5pdGVtcy5nZXQoXG4gICAgICAgICAgICAgICAgICBza2lsbERhdGEuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHt9XG4gICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5rZWVwYmFzZXZhbHVlID8/IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLmJhc2VWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICBiYXNlQ2FsY3VsYXRlZCA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzWydzeXN0ZW0udmFsdWUnXSA9IGJhc2VDYWxjdWxhdGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuc3lzdGVtLmZsYWdzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzW2BzeXN0ZW0uZmxhZ3MuJHtrZXl9YF0gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjaGFuZ2VzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXMuX2lkID0gZXhpc3RpbmdJdGVtLmlkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbY2hhbmdlc10pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWMoZXhpc3RpbmdJdGVtKVxuICAgICAgICAgICAgICAgICAgYWRkVGhpcyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gc2tpbGxMaXN0LmZpbmQoaSA9PiBpLmlkID09PSBza2lsbERhdGEuc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBkYXRhLnN5c3RlbT8uZmxhZ3NcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2VlcEJhc2UgPSAoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ua2VlcGJhc2V2YWx1ZSA/PyBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGR1cGxpY2F0ZShleGlzdGluZylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5mbGFnc1trZXldID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcEJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLmJhc2VWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmJhc2UgPSBza2lsbERhdGEuYmFzZVZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZSA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBiYXNlQ2FsY3VsYXRlZCA9IGF3YWl0IENvQzdJdGVtLmNhbGN1bGF0ZUJhc2UodGhpcywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgICAgICAgICAgICBza2lsbERhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGlmICghKGRhdGEuc3lzdGVtLnByb3BlcnRpZXM/LmtlZXBiYXNldmFsdWUgPz8gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLmJhc2VWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uYmFzZSA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZSA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgIGJhc2VDYWxjdWxhdGVkID0gYXdhaXQgQ29DN0l0ZW0uY2FsY3VsYXRlQmFzZSh0aGlzLCBkYXRhKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYWRkVGhpcykge1xuICAgICAgICAgICAgaWYgKFN0cmluZyhiYXNlVmFsdWUpICE9PSBTdHJpbmcoYmFzZUNhbGN1bGF0ZWQpKSB7XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmJhc2UgPSBiYXNlQ2FsY3VsYXRlZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9jZXNzZWREYXRhQXJyYXkucHVzaChkdXBsaWNhdGUoZGF0YSkpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd3ZWFwb24nOiB7XG4gICAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgICAgIGNvbnN0IG1haW5Ta2lsbCA9IGRhdGEuc3lzdGVtPy5za2lsbD8ubWFpbj8ubmFtZVxuICAgICAgICAgICAgaWYgKG1haW5Ta2lsbCkge1xuICAgICAgICAgICAgICBsZXQgc2tpbGwgPSB0aGlzLmdldFNraWxsc0J5TmFtZShtYWluU2tpbGwpWzBdXG4gICAgICAgICAgICAgIGlmICghc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbWFpblNraWxsLm1hdGNoKC9cXCgoW14pXSspXFwpLylcbiAgICAgICAgICAgICAgICAgID8gbWFpblNraWxsLm1hdGNoKC9cXCgoW14pXSspXFwpLylbMV1cbiAgICAgICAgICAgICAgICAgIDogbWFpblNraWxsXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHRvIHVzZSBhbiBhbHJlYWR5IGRlZmluZWQgc2tpbGxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzZWFyY2ggb24gdGhlIGNvbXBlbmRpdW1zXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBnYW1lLml0ZW1zLmZpbmQoXG4gICAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgICAgICAgICAgICAgICAoaXRlbS5uYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSB8fCBpdGVtLnN5c3RlbS5za2lsbE5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXRlbXMoW2V4aXN0aW5nXSlcbiAgICAgICAgICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5nZXRTa2lsbHNCeU5hbWUobWFpblNraWxsKVswXVxuICAgICAgICAgICAgICAgICAgLy8gc2tpbGwgPSBleGlzdGluZy50b09iamVjdCgpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5jcmVhdGVXZWFwb25Ta2lsbChcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgISFkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5ybmdkXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChza2lsbCkgZGF0YS5zeXN0ZW0uc2tpbGwubWFpbi5pZCA9IHNraWxsLmlkXG4gICAgICAgICAgICB9IC8vIFRPRE8gOiBFbHNlIDogc2VsZWN0aW9ubmVyIGxlIHNraWxsIGRhbnMgbGEgbGlzdGUgb3UgZW4gY3LDqWVyIHVuIG5vdXZlYXUuXG5cbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFNraWxsID0gZGF0YS5zeXN0ZW0/LnNraWxsPy5hbHRlcm5hdGl2Py5uYW1lXG4gICAgICAgICAgICBpZiAoc2Vjb25kU2tpbGwpIHtcbiAgICAgICAgICAgICAgbGV0IHNraWxsID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUoc2Vjb25kU2tpbGwpWzBdXG4gICAgICAgICAgICAgIGlmICghc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gc2Vjb25kU2tpbGwubWF0Y2goL1xcKChbXildKylcXCkvKVxuICAgICAgICAgICAgICAgICAgPyBzZWNvbmRTa2lsbC5tYXRjaCgvXFwoKFteKV0rKVxcKS8pWzFdXG4gICAgICAgICAgICAgICAgICA6IHNlY29uZFNraWxsXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBnYW1lLml0ZW1zLmZpbmQoXG4gICAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgICAgICAgICAgICAgICAoaXRlbS5uYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSB8fCBpdGVtLnN5c3RlbS5za2lsbE5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXRlbXMoW2V4aXN0aW5nXSlcbiAgICAgICAgICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5nZXRTa2lsbHNCeU5hbWUoc2Vjb25kU2tpbGwpWzBdXG4gICAgICAgICAgICAgICAgICAvLyBza2lsbCA9IGV4aXN0aW5nLnRvT2JqZWN0KClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2tpbGwgPSBhd2FpdCB0aGlzLmNyZWF0ZVdlYXBvblNraWxsKFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAhIWRhdGEuc3lzdGVtLnByb3BlcnRpZXM/LnJuZ2RcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHNraWxsKSBkYXRhLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkID0gc2tpbGwuaWRcbiAgICAgICAgICAgIH0gLy8gVE9ETyA6IEVsc2UgOiBzZWxlY3Rpb25uZXIgbGUgc2tpbGwgZGFucyBsYSBsaXN0ZSBvdSBlbiBjcsOpZXIgdW4gbm91dmVhdS5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcm9jZXNzZWREYXRhQXJyYXkucHVzaChkdXBsaWNhdGUoZGF0YSkpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3NldHVwJzoge1xuICAgICAgICAgIGlmIChkYXRhLnN5c3RlbS5lbmFibGVDaGFyYWN0ZXJpc2l0aWNzKSB7XG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdCA9IHt9XG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5zdHIgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKCdzdHInKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuY29uID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnY29uJylcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LnNpeiA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ3NpeicpXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5kZXggPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKCdkZXgnKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuYXBwID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnYXBwJylcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmludCA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ2ludCcpXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5wb3cgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKCdwb3cnKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuZWR1ID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnZWR1JylcblxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QubHVjayA9IHt9XG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5sdWNrLnZhbHVlID0gaXNOYU4odGhpcy5sdWNrKVxuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiB0aGlzLmx1Y2tcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0Lmx1Y2subGFiZWwgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICdDb0M3Lkx1Y2snXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5sdWNrLnNob3J0TmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuTHVjaydcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgaWYgKCFkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzKSB7XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMgPSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5zdHIgPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5zdHIudmFsdWVcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuY29uID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuY29uLnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnNpeiA9XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LnNpei52YWx1ZVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5kZXggPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5kZXgudmFsdWVcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuYXBwID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuYXBwLnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmludCA9XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmludC52YWx1ZVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5wb3cgPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5wb3cudmFsdWVcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuZWR1ID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuZWR1LnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmx1Y2sgPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5sdWNrLnZhbHVlXG4gICAgICAgICAgICBpZiAoZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvaW50cy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNwZW5kUG9pbnRzJylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxDaGFyYWMnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0ucG9pbnRzV2FybmluZyA9ICEoXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuc3RyICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuY29uICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuc2l6ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuZGV4ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuYXBwICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuaW50ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMucG93ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuZWR1ICE9PSBudWxsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjb25zdCByb2xsZWQgPSBhd2FpdCBDaGFyYWNSb2xsRGlhbG9nLmNyZWF0ZShkYXRhLnN5c3RlbSlcbiAgICAgICAgICAgIGlmIChyb2xsZWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFtcbiAgICAgICAgICAgICAgICAnc3RyJyxcbiAgICAgICAgICAgICAgICAnY29uJyxcbiAgICAgICAgICAgICAgICAnc2l6JyxcbiAgICAgICAgICAgICAgICAnZGV4JyxcbiAgICAgICAgICAgICAgICAnYXBwJyxcbiAgICAgICAgICAgICAgICAnaW50JyxcbiAgICAgICAgICAgICAgICAncG93JyxcbiAgICAgICAgICAgICAgICAnZWR1J1xuICAgICAgICAgICAgICBdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YVtgc3lzdGVtLmNoYXJhY3RlcmlzdGljcy4ke2tleX0udmFsdWVgXSA9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNba2V5XVxuICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YVtgc3lzdGVtLmNoYXJhY3RlcmlzdGljcy4ke2tleX0uZm9ybXVsYWBdID1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzW2tleV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMubHVjaykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLmxjay52YWx1ZSddID1cbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMubHVja1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnBvdykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSddID1cbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMucG93XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TGltaXQnXSA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnBvdyAvIDVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMubXAubWF4J10gPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5wb3cgLyA1XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZURhdGEsIHsgcmVuZGVyU2hlZXQ6IGZhbHNlIH0pXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUnOiB0aGlzLnJhd0hwTWF4LFxuICAgICAgICAgICAgICAgICdzeXN0ZW0uYXR0cmlicy5ocC5tYXgnOiB0aGlzLnJhd0hwTWF4XG4gICAgICAgICAgICAgIH0sIHsgcmVuZGVyU2hlZXQ6IGZhbHNlIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXJhID0gT2JqZWN0LmVudHJpZXMoZGF0YS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzKS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiBlWzBdKVxuICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiBkYXRhLnN5c3RlbS5pdGVtcywgZXJhOiAodHlwZW9mIGVyYVswXSAhPT0gJ3VuZGVmaW5lZCcgPyBlcmFbMF0gOiB0cnVlKSB9KVxuICAgICAgICAgIGNvbnN0IHNraWxscyA9IGl0ZW1zLmZpbHRlcihpdCA9PiBpdC50eXBlID09PSAnc2tpbGwnKVxuICAgICAgICAgIGNvbnN0IG90aGVyc0l0ZW1zID0gaXRlbXMuZmlsdGVyKGl0ID0+IGl0LnR5cGUgIT09ICdza2lsbCcpXG4gICAgICAgICAgYXdhaXQgdGhpcy5hZGRVbmlxdWVJdGVtcyhza2lsbHMpXG4gICAgICAgICAgYXdhaXQgdGhpcy5hZGRJdGVtcyhvdGhlcnNJdGVtcylcbiAgICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb25lQmxvY2tCYWNrc3RvcnknKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJhY2tzdG9yeSc6IGRhdGEuc3lzdGVtLmJhY2tzdG9yeSB9LCB7IHJlbmRlclNoZWV0OiBmYWxzZSB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlY3Rpb25OYW1lIG9mIGRhdGEuc3lzdGVtLmJpb1NlY3Rpb25zKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhdGhpcy5zeXN0ZW0uYmlvZ3JhcGh5Py5maW5kKFxuICAgICAgICAgICAgICAgICAgZWwgPT4gc2VjdGlvbk5hbWUgPT09IGVsLnRpdGxlXG4gICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgIHNlY3Rpb25OYW1lXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQmlvU2VjdGlvbihzZWN0aW9uTmFtZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZWZhY3RvciB0aGlzXG4gICAgICAgICAgY29uc3QgbW9uZXRhcnkgPSBtZXJnZU9iamVjdCh0aGlzLnN5c3RlbS5tb25ldGFyeSwgZHVwbGljYXRlKGRhdGEuc3lzdGVtLm1vbmV0YXJ5KSlcbiAgICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRcbiAgICAgICAgICBsZXQgc3RhdGUgPSBmYWxzZVxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIHN0YXRlID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShzaGVldC5fc3RhdGUpXG4gICAgICAgICAgICB9LCAxMDApKVxuICAgICAgICAgIH0gd2hpbGUgKHN0YXRlID09PSBBcHBsaWNhdGlvbi5SRU5ERVJfU1RBVEVTLlJFTkRFUklORylcbiAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICAnc3lzdGVtLm1vbmV0YXJ5JzogbW9uZXRhcnlcbiAgICAgICAgICB9KVxuICAgICAgICAgIEhvb2tzLmNhbGwoJ3NldHVwRmluaXNoZWRDb0M3JylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2FyY2hldHlwZSc6XG4gICAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgICAgICAgIC8vIEFyY2hldHlwcmUgb25seSBmb3IgUENzXG4gICAgICAgICAgICBpZiAodGhpcy5hcmNoZXR5cGUpIHtcbiAgICAgICAgICAgICAgbGV0IHJlc2V0QXJjaGV0eXBlID0gZmFsc2VcbiAgICAgICAgICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVzZXRBcmNoZXR5cGUnKSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgPHA+JHtnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlc2V0QXJjaGV0eXBlSGludCcsIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgICAgICAgICAgIH0pfTwvcD5gLFxuICAgICAgICAgICAgICAgIHllczogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzZXRBcmNoZXR5cGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0WWVzOiBmYWxzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZiAocmVzZXRBcmNoZXR5cGUpIGF3YWl0IHRoaXMucmVzZXRBcmNoZXR5cGUoKVxuICAgICAgICAgICAgICBlbHNlIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb3JlQ2hhcmFjID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljcykpIHtcbiAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cnlcbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc1trZXldID0gZmFsc2VcbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoa2V5KVxuICAgICAgICAgICAgICAgIGNoYXIua2V5ID0ga2V5XG4gICAgICAgICAgICAgICAgY29yZUNoYXJhYy5wdXNoKGNoYXIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNoYXJhY1xuXG4gICAgICAgICAgICBpZiAoY29yZUNoYXJhYy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoYXJEaWFsb2dEYXRhID0ge31cbiAgICAgICAgICAgICAgY2hhckRpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzID0gY29yZUNoYXJhY1xuICAgICAgICAgICAgICBjaGFyRGlhbG9nRGF0YS50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TZWxlY3RDb3JlQ2hhcmFjJylcbiAgICAgICAgICAgICAgY2hhcmFjID0gYXdhaXQgQ2hhcmFjU2VsZWN0RGlhbG9nLmNyZWF0ZShjaGFyRGlhbG9nRGF0YSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29yZUNoYXJhYy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgY2hhcmFjID0gY29yZUNoYXJhY1swXS5rZXlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjaGFyYWMpIHJldHVyblxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc1tjaGFyYWNdID0gdHJ1ZVxuICAgICAgICAgICAgaWYgKGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NGb3JtdWxhLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gTnVtYmVyKGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NGb3JtdWxhLnZhbHVlKVxuICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoY2hhcmFjKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgUm9sbChcbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NGb3JtdWxhLnZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGF3YWl0IHJvbGwucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgcm9sbC50b01lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgICAnQ29DNy5NZXNzYWdlUm9sbGluZ0NoYXJhY3RlcmlzdGljJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBjaGFyLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGE6IGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NGb3JtdWxhLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHZhbHVlID0gY2hhci52YWx1ZSA8IHJvbGwudG90YWwgPyByb2xsLnRvdGFsIDogY2hhci52YWx1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBbYHN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuJHtjaGFyYWN9LnZhbHVlYF06IHZhbHVlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBhbGwgc2tpbGxzXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IGRhdGEuc3lzdGVtLnNraWxscyB9KVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRVbmlxdWVJdGVtcyhkYXRhLnN5c3RlbS5za2lsbHMsICdhcmNoZXR5cGUnKVxuXG4gICAgICAgICAgICBwcm9jZXNzZWREYXRhQXJyYXkucHVzaChkdXBsaWNhdGUoZGF0YSkpXG4gICAgICAgICAgICBhcmNoZXR5cGUgPSB0cnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnb2NjdXBhdGlvbic6XG4gICAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgICAgICAgIC8vIE9jY3VwYXRpb24gb25seSBmb3IgUENzXG4gICAgICAgICAgICBpZiAodGhpcy5vY2N1cGF0aW9uKSB7XG4gICAgICAgICAgICAgIGxldCByZXNldE9jY3VwYXRpb24gPSBmYWxzZVxuICAgICAgICAgICAgICBhd2FpdCBEaWFsb2cuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZXNldE9jY3VwYXRpb24nKSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgPHA+JHtnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlc2V0T2NjdXBhdGlvbkhpbnQnLCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgICAgICAgICAgICB9KX08L3A+YCxcbiAgICAgICAgICAgICAgICB5ZXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc2V0T2NjdXBhdGlvbiA9IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRZZXM6IGZhbHNlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIGlmIChyZXNldE9jY3VwYXRpb24pIGF3YWl0IHRoaXMucmVzZXRPY2N1cGF0aW9uKClcbiAgICAgICAgICAgICAgZWxzZSByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29udmVydCBDb0NJRHMgdG8gaXRlbXNcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLnNraWxscyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogZGF0YS5zeXN0ZW0uc2tpbGxzIH0pXG5cbiAgICAgICAgICAgIGlmIChOdW1iZXIoZGF0YS5zeXN0ZW0uY3JlZGl0UmF0aW5nLm1heCkgPiAwKSB7XG4gICAgICAgICAgICAgIC8vIE9jY3VwYXRpb25zIHdpdGggYSBjcmVkaXQgcmF0aW5nIHJlcXVpcmUgYSBjcmVkaXQgcmF0aW5nIHNraWxsXG4gICAgICAgICAgICAgIGNvbnN0IGFjdG9yQ3JlZGl0UmF0aW5nID0gZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZpbmRDb2NJZEluTGlzdCgnaS5za2lsbC5jcmVkaXQtcmF0aW5nJywgZGF0YS5zeXN0ZW0uc2tpbGxzKVxuICAgICAgICAgICAgICBpZiAoYWN0b3JDcmVkaXRSYXRpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5maW5kQ29jSWRJbkxpc3QoJ2kuc2tpbGwuY3JlZGl0LXJhdGluZycsIHRoaXMuaXRlbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzLnB1c2goJ2kuc2tpbGwuY3JlZGl0LXJhdGluZycpXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IGRhdGEuc3lzdGVtLnNraWxscyB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZpbmRDb2NJZEluTGlzdCgnaS5za2lsbC5jcmVkaXQtcmF0aW5nJywgdGhpcy5pdGVtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMucHVzaChhY3RvckNyZWRpdFJhdGluZ1swXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2VsZWN0IGNoYXJhY3RlcmlzdGljXG4gICAgICAgICAgICBjb25zdCBwb2ludHNEaWFsb2dEYXRhID0ge31cbiAgICAgICAgICAgIHBvaW50c0RpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzID0gZGF0YS5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzXG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwXG4gICAgICAgICAgICBsZXQgb3B0aW9uYWxDaGFyID0gZmFsc2VcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLm9jY3VwYXRpb25Ta2lsbFBvaW50c1xuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBlbnRyeVxuICAgICAgICAgICAgICBjb25zdCBjaGFyID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYyhrZXkpXG4gICAgICAgICAgICAgIHBvaW50c0RpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzW2tleV0ubmFtZSA9IGNoYXIubGFiZWxcbiAgICAgICAgICAgICAgcG9pbnRzRGlhbG9nRGF0YS5jaGFyYWN0ZXJpc3RpY3Nba2V5XS52YWx1ZSA9IGNoYXIudmFsdWVcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzRGlhbG9nRGF0YS5jaGFyYWN0ZXJpc3RpY3Nba2V5XS50b3RhbCA9XG4gICAgICAgICAgICAgICAgICBjaGFyLnZhbHVlICpcbiAgICAgICAgICAgICAgICAgIE51bWJlcihwb2ludHNEaWFsb2dEYXRhLmNoYXJhY3RlcmlzdGljc1trZXldLm11bHRpcGxpZXIpXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5vcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgdG90YWwgKz0gcG9pbnRzRGlhbG9nRGF0YS5jaGFyYWN0ZXJpc3RpY3Nba2V5XS50b3RhbFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25hbENoYXIgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludHNEaWFsb2dEYXRhLnRvdGFsID0gdG90YWxcbiAgICAgICAgICAgIGlmIChvcHRpb25hbENoYXIpIHtcbiAgICAgICAgICAgICAgLy8gSXMgdGhlcmUgYW55IG9wdGlvbmFsIGNoYXIgdG8gY2hvb3NlIGZvciBwb2ludHMgY2FsYyA/XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvaW50U2VsZWN0RGlhbG9nLmNyZWF0ZShwb2ludHNEaWFsb2dEYXRhKVxuICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIC8vIFBvaW50IG5vdCBzZWxlY3RlZCA9PiBleGl0LlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgb3B0aW9uYWwgc2tpbGxzXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGF0YS5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAvLyBDb252ZXJ0IENvQ0lkcyB0byBpdGVtc1xuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxscyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMgfSlcblxuICAgICAgICAgICAgICBjb25zdCBkaWFsb2dEYXRhID0ge31cbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5za2lsbHMgPSBbXVxuICAgICAgICAgICAgICBkaWFsb2dEYXRhLnR5cGUgPSAnb2NjdXBhdGlvbidcbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5hY3RvcklkID0gdGhpcy5pZFxuICAgICAgICAgICAgICBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudCA9IE51bWJlcihkYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLm9wdGlvbnMpXG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEudGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2tpbGxTZWxlY3Rpb25XaW5kb3cnKVxuXG4gICAgICAgICAgICAgIC8vIFNlbGVjdCBvbmx5IHNraWxscyB0aGF0IGFyZSBub3QgcHJlc2VudCBvciBhcmUgbm90IGZsYWdnZWQgYXMgb2NjdXBhdGlvbi5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxscykge1xuICAgICAgICAgICAgICAgIGlmIChDb0M3SXRlbS5pc0FueVNwZWModmFsdWUpKSBkaWFsb2dEYXRhLnNraWxscy5wdXNoKHZhbHVlKVxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBnZW5lcmljIHNwZWMgd2UgYWx3YXlzIGFkZCBpdFxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLml0ZW1zLmZpbmQoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHZhbHVlLm5hbWUgJiYgaXRlbS50eXBlID09PSAnc2tpbGwnXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgaWYgKCFza2lsbCB8fCAhc2tpbGwuc3lzdGVtLmZsYWdzPy5vY2N1cGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHNraWxsIHdhcyBhZGRlZCB0byBza2lsbCBsaXN0IHByZXZpb3VzbHksIHJlbW92ZSBpdFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHJlYWR5U2VsZWN0ZWRTa2lsbCA9IGRhdGEuc3lzdGVtLnNraWxscy5maW5kKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHZhbHVlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5U2VsZWN0ZWRTa2lsbCkgZGlhbG9nRGF0YS5za2lsbHMucHVzaCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vbmUsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgIGlmIChkaWFsb2dEYXRhLnNraWxscy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nRGF0YS5za2lsbHMubGVuZ3RoIDw9IGRpYWxvZ0RhdGEub3B0aW9uc0NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGlzIGxlc3Mgc2tpbGwgdGhhbiBvcHRpb25zLCBhZGQgdGhlbSBhbGwuXG4gICAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5mb0xlc3NTa2lsbFRoYW5PcHRpb25zJywge1xuICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ291bnQ6IGRpYWxvZ0RhdGEuc2tpbGxzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zQ291bnQ6IGRpYWxvZ0RhdGEub3B0aW9uc0NvdW50XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmFkZFVuaXF1ZUl0ZW1zKCBkaWFsb2dEYXRhLnNraWxscywgJ29jY3VwYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IENvQzdJdGVtLm1lcmdlT3B0aW9uYWxTa2lsbHMoXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnNraWxscyxcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nRGF0YS5za2lsbHNcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnNraWxscyA9IG1lcmdlZFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBza2lsbCBzZWxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGF3YWl0IFNraWxsU2VsZWN0RGlhbG9nLmNyZWF0ZShkaWFsb2dEYXRhKVxuICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBDb0M3SXRlbS5tZXJnZU9wdGlvbmFsU2tpbGxzKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBtZXJnZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkluZm9BbGxTa2lsbHNBbHJlYWR5U2VsZWN0ZWQnKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgZXh0cmEgc2tpbGxzXG4gICAgICAgICAgICBpZiAoTnVtYmVyKGRhdGEuc3lzdGVtLnBlcnNvbmFsKSkge1xuICAgICAgICAgICAgICBjb25zdCBkaWFsb2dEYXRhID0ge31cbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5za2lsbHMgPSBbXVxuICAgICAgICAgICAgICBkaWFsb2dEYXRhLnR5cGUgPSAnb2NjdXBhdGlvbidcbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5hY3RvcklkID0gdGhpcy5pZFxuICAgICAgICAgICAgICBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudCA9IE51bWJlcihkYXRhLnN5c3RlbS5wZXJzb25hbClcbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS50aXRsZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU2VsZWN0UGVyc29uYWxTa2lsbHMnLCB7XG4gICAgICAgICAgICAgICAgbnVtYmVyOiBOdW1iZXIoZGF0YS5zeXN0ZW0ucGVyc29uYWwpXG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgLy8gU2VsZWN0IG9ubHkgc2tpbGxzIHRoYXQgYXJlIG5vdCBwcmVzZW50IG9yIGFyZSBub3QgZmxhZ2dlZCBhcyBvY2N1cGF0aW9uLlxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5za2lsbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgYWxsIHNraWxscyB0aGF0IGFyZSBub3QgYWxyZWFkeSBmbGFnZ2VkIGFzIG9jY3VwYXRpb24sIGNhbiBoYXZlIGFkanVzdG1lbnRzIGFuZCBYUC5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAhcy5zeXN0ZW0uZmxhZ3Mub2NjdXBhdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgIXMuc3lzdGVtLnByb3BlcnRpZXMubm9hZGp1c3RtZW50cyAmJlxuICAgICAgICAgICAgICAgICAgIXMuc3lzdGVtLnByb3BlcnRpZXMubm94cGdhaW5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHNraWxsIGFscmVhZHkgc2VsZWN0ZWQgZG9uJ3QgYWRkIGl0XG4gICAgICAgICAgICAgICAgICBjb25zdCBhbHJlYWR5U2VsZWN0ZWRTa2lsbCA9IGRhdGEuc3lzdGVtLnNraWxscy5maW5kKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBzLm5hbWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlTZWxlY3RlZFNraWxsKSBkaWFsb2dEYXRhLnNraWxscy5wdXNoKHMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBub25lLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICBpZiAoZGlhbG9nRGF0YS5za2lsbHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZ0RhdGEuc2tpbGxzLmxlbmd0aCA8PSBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudCkge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBpcyBsZXNzIHNraWxsIHRoYW4gb3B0aW9ucywgYWRkIHRoZW0gYWxsLlxuICAgICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluZm9MZXNzU2tpbGxUaGFuT3B0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgICBza2lsbENvdW50OiBkaWFsb2dEYXRhLnNraWxscy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0NvdW50OiBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5hZGRVbmlxdWVJdGVtcyggZGlhbG9nRGF0YS5za2lsbHMsICdvY2N1cGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBDb0M3SXRlbS5tZXJnZU9wdGlvbmFsU2tpbGxzKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMsXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ0RhdGEuc2tpbGxzXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBtZXJnZWRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3Igc2tpbGwgc2VsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBhd2FpdCBTa2lsbFNlbGVjdERpYWxvZy5jcmVhdGUoZGlhbG9nRGF0YSkgLy8gRGlhbG9nIGRhdGEgYnVnID8/P1xuICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBDb0M3SXRlbS5tZXJnZU9wdGlvbmFsU2tpbGxzKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBtZXJnZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkluZm9BbGxTa2lsbHNBbHJlYWR5U2VsZWN0ZWQnKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgYWxsIHNraWxsc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRVbmlxdWVJdGVtcyhkYXRhLnN5c3RlbS5za2lsbHMsICdvY2N1cGF0aW9uJylcbiAgICAgICAgICAgIC8vIENyZWRpdCByYXRpbmcgaXMgYWx3YXlzIHBhcnQgb2Ygb2NjdXBhdGlvblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVkaXRSYXRpbmdTa2lsbD8uc2V0SXRlbUZsYWcoJ29jY3VwYXRpb24nKVxuICAgICAgICAgICAgLy8gc2V0dGluZyBpdCB0byBtaW4gY3JlZGl0IHJhdGluZ1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVkaXRSYXRpbmdTa2lsbD8udXBkYXRlKHtcbiAgICAgICAgICAgICAgJ3N5c3RlbS5hZGp1c3RtZW50cy5vY2N1cGF0aW9uJzogTnVtYmVyKGRhdGEuc3lzdGVtLmNyZWRpdFJhdGluZy5taW4pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBwcm9jZXNzZWREYXRhQXJyYXkucHVzaChkdXBsaWNhdGUoZGF0YSkpXG4gICAgICAgICAgICBvY2N1cGF0aW9uID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LnB1c2goZHVwbGljYXRlKGRhdGEpKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzc2VkRGF0YUFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGNvbnN0IHByb2Nlc3NlZCA9IGF3YWl0IHN1cGVyLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKFxuICAgICAgZW1iZWRkZWROYW1lLFxuICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LFxuICAgICAgb3B0aW9uc1xuICAgIClcblxuICAgIGlmIChhcmNoZXR5cGUpIHtcbiAgICAgIC8vIHNldHRpbmcgcG9pbnRzXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uZGV2ZWxvcG1lbnQuYXJjaGV0eXBlJzogdGhpcy5hcmNoZXR5cGVQb2ludHNcbiAgICAgIH0pXG4gICAgICBIb29rcy5jYWxsKCdhcmNoZXR5cGVGaW5pc2hlZENvQzcnKVxuICAgIH1cbiAgICBpZiAob2NjdXBhdGlvbikge1xuICAgICAgLy8gc2V0dGluZyBwb2ludHNcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5kZXZlbG9wbWVudC5vY2N1cGF0aW9uJzogdGhpcy5vY2N1cGF0aW9uUG9pbnRzLFxuICAgICAgICAnc3lzdGVtLmRldmVsb3BtZW50LnBlcnNvbmFsJzogdGhpcy5wZXJzb25hbFBvaW50c1xuICAgICAgfSlcbiAgICAgIEhvb2tzLmNhbGwoJ29jY3VwYXRpb25GaW5pc2hlZENvQzcnKVxuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWRcbiAgfVxuXG4gIC8vIGdldFNraWxsSWRCeU5hbWUoIHNraWxsTmFtZSl7XG4gIC8vICAgbGV0IGlkID0gbnVsbDtcbiAgLy8gICAgZm9yIChjb25zdCBbbWFwLCBrZXksIHZhbHVlXSBvZiB0aGlzLml0ZW1zKSB7XG4gIC8vICAgICBpZiggdmFsdWUubmFtZSA9PSBza2lsbE5hbWUpIGlkID0gdmFsdWUuaWQ7XG4gIC8vICAgfTtcblxuICAvLyAgIHJldHVybiBpZDtcbiAgLy8gfVxuXG4gIGdldEl0ZW1JZEJ5TmFtZSAoaXRlbU5hbWUpIHtcbiAgICBsZXQgaWQgPSBudWxsXG4gICAgY29uc3QgbmFtZSA9IGl0ZW1OYW1lLm1hdGNoKC9cXCgoW14pXSspXFwpLylcbiAgICAgID8gaXRlbU5hbWUubWF0Y2goL1xcKChbXildKylcXCkvKVsxXVxuICAgICAgOiBpdGVtTmFtZVxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKFxuICAgICAgICBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWModmFsdWUpLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgKSB7XG4gICAgICAgIGlkID0gdmFsdWUuaWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGdldEl0ZW1zQnlOYW1lIChpdGVtTmFtZSkge1xuICAgIGNvbnN0IGl0ZW1MaXN0ID0gW11cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmICh2YWx1ZS5uYW1lID09PSBpdGVtTmFtZSkgaXRlbUxpc3QucHVzaCh2YWx1ZSlcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbUxpc3RcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKlxuICAgKi9cbiAgZ2V0U2tpbGxzQnlOYW1lIChza2lsbE5hbWUpIHtcbiAgICAvLyBUT0RPIDogbW9yZSBhZ2dyZXNzaXZlIGZpbmRpbmcgaW5jbHVkaW5nIHNwZWNzXG4gICAgY29uc3Qgc2tpbGxMaXN0ID0gW11cbiAgICBjb25zdCBuYW1lID0gc2tpbGxOYW1lLm1hdGNoKC9cXCgoW14pXSspXFwpLylcbiAgICAgID8gc2tpbGxOYW1lLm1hdGNoKC9cXCgoW14pXSspXFwpLylbMV1cbiAgICAgIDogc2tpbGxOYW1lXG5cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKFxuICAgICAgICAgIENvQzdJdGVtLmdldE5hbWVXaXRob3V0U3BlYyh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpIHx8XG4gICAgICAgICAgdmFsdWUuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQgPT09IHNraWxsTmFtZVxuICAgICAgICApICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdza2lsbCdcbiAgICAgICkge1xuICAgICAgICBza2lsbExpc3QucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNraWxsTGlzdFxuICB9XG5cbiAgZ2V0Rmlyc3RTa2lsbEJ5Q29DSUQgKGNvY2lkKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmluZChpID0+IGkuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQgPT09IGNvY2lkKVxuICB9XG5cbiAgLy8gcGFyc2VGb3JtdWxhIChmb3JtdWxhKSB7XG4gIC8vICAgbGV0IHBhcnNlZEZvcm11bGEgPSBmb3JtdWxhXG4gIC8vICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5mb3JtdWxhLmFjdG9yKSkge1xuICAvLyAgICAgcGFyc2VkRm9ybXVsYSA9IHBhcnNlZEZvcm11bGEucmVwbGFjZShrZXksIHZhbHVlKVxuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gcGFyc2VkRm9ybXVsYVxuICAvLyB9XG5cbiAgcGFyc2VDaGFyYWN0ZXJpc3RpY3MgKCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHt9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5mb3JtdWxhLmFjdG9yKSkge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdAJykgJiYgdmFsdWUuc3RhcnRzV2l0aCgndGhpcy4nKSkge1xuICAgICAgICBwYXJzZWRba2V5LnN1YnN0cmluZygxKV0gPSBnZXRQcm9wZXJ0eSh0aGlzLCB2YWx1ZS5zdWJzdHJpbmcoNSkpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWRcbiAgfVxuXG4gIHN0YXRpYyBnZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24gKCkge1xuICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IFtdXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICBnYW1lLnN5c3RlbS50ZW1wbGF0ZS5BY3Rvci50ZW1wbGF0ZXMuY2hhcmFjdGVyaXN0aWNzLmNoYXJhY3RlcmlzdGljc1xuICAgICkpIHtcbiAgICAgIGNoYXJhY3RlcmlzdGljcy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICBzaG9ydE5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5zaG9ydCksXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUubGFiZWwpXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gY2hhcmFjdGVyaXN0aWNzXG4gIH1cblxuICBnZXRDaGFyYWN0ZXJpc3RpYyAoY2hhck5hbWUpIHtcbiAgICBpZiAodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzXG4gICAgICApKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUuc2hvcnQpLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICBjaGFyTmFtZS50b0xvd2VyQ2FzZSgpIHx8XG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLmxhYmVsKS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgY2hhck5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGtleSA9PT0gY2hhck5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc2hvcnROYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUuc2hvcnQpLFxuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5sYWJlbCksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldEF0dHJpYnV0ZSAoYXR0cmliTmFtZSkge1xuICAgIGlmIChcbiAgICAgIFsnbGNrJywgJ2x1Y2snLCBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTHVjaycpLnRvTG93ZXJDYXNlKCldLmluY2x1ZGVzKFxuICAgICAgICBhdHRyaWJOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleTogJ2xjaycsXG4gICAgICAgIHNob3J0TmFtZTogJ2x1Y2snLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKSxcbiAgICAgICAgdmFsdWU6IHRoaXMuc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChcbiAgICAgIFtcbiAgICAgICAgJ3NhbicsXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TQU4nKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5JykudG9Mb3dlckNhc2UoKVxuICAgICAgXS5pbmNsdWRlcyhhdHRyaWJOYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6ICdzYW4nLFxuICAgICAgICBzaG9ydE5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TQU4nKSxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TYW5pdHknKSxcbiAgICAgICAgdmFsdWU6IHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyBydW5Sb2xsIChvcHRpb25zID0ge30pIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FyZFR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUxcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZXZlbnRTdGFuZGJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5wcmV2ZW50U3RhbmRieSA9IHRydWVcbiAgICB9XG4gICAgb3B0aW9ucy5hY3RvciA9IHRoaXNcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIob3B0aW9ucylcbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgZ2V0IG9jY3VwYXRpb24gKCkge1xuICAgIGNvbnN0IG9jY3VwYXRpb24gPSB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ29jY3VwYXRpb24nKVxuICAgIHJldHVybiBvY2N1cGF0aW9uWzBdXG4gIH1cblxuICBnZXQgYXJjaGV0eXBlICgpIHtcbiAgICBjb25zdCBhcmNoZXR5cGUgPSB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ2FyY2hldHlwZScpXG4gICAgcmV0dXJuIGFyY2hldHlwZVswXVxuICB9XG5cbiAgYXN5bmMgcmVzZXRPY2N1cGF0aW9uIChlcmFzZU9sZCA9IHRydWUpIHtcbiAgICBpZiAoZXJhc2VPbGQpIHtcbiAgICAgIGNvbnN0IG9jY3VwYXRpb25Ta2lsbCA9IHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT5cbiAgICAgICAgaXRlbS5nZXRJdGVtRmxhZygnb2NjdXBhdGlvbicpXG4gICAgICApXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgb2NjdXBhdGlvblNraWxsLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBhd2FpdCBvY2N1cGF0aW9uU2tpbGxbaW5kZXhdLnVuc2V0SXRlbUZsYWcoJ29jY3VwYXRpb24nKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5vY2N1cGF0aW9uKSBhd2FpdCB0aGlzLm9jY3VwYXRpb24uZGVsZXRlKClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZGV2ZWxvcG1lbnQub2NjdXBhdGlvbic6IG51bGwgfSlcbiAgfVxuXG4gIGFzeW5jIHJlc2V0QXJjaGV0eXBlIChlcmFzZU9sZCA9IHRydWUpIHtcbiAgICBpZiAoZXJhc2VPbGQpIHtcbiAgICAgIGNvbnN0IGFyY2hldHlwZVNraWxsID0gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PlxuICAgICAgICBpdGVtLmdldEl0ZW1GbGFnKCdhcmNoZXR5cGUnKVxuICAgICAgKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFyY2hldHlwZVNraWxsLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBhd2FpdCBhcmNoZXR5cGVTa2lsbFtpbmRleF0udW5zZXRJdGVtRmxhZygnYXJjaGV0eXBlJylcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuYXJjaGV0eXBlKSBhd2FpdCB0aGlzLmFyY2hldHlwZS5kZWxldGUoKVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5kZXZlbG9wbWVudC5hcmNoZXR5cGUnOiBudWxsIH0pXG4gIH1cblxuICBnZXQgbHVjayAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnM/Lmxjaz8udmFsdWUpXG4gIH1cblxuICBhc3luYyBzZXRMdWNrICh2YWx1ZSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5sY2sudmFsdWUnOiB2YWx1ZSB9KVxuICB9XG5cbiAgYXN5bmMgc3BlbmRMdWNrIChhbW91bnQpIHtcbiAgICBhbW91bnQgPSBwYXJzZUludChhbW91bnQpXG4gICAgaWYgKCEodGhpcy5sdWNrID49IGFtb3VudCkpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0aGlzLnNldEx1Y2sodGhpcy5sdWNrIC0gYW1vdW50KVxuICB9XG5cbiAgZ2V0IGhwICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC52YWx1ZSlcbiAgfVxuXG4gIGdldCByYXdIcE1heCAoKSB7XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAuYXV0bykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmNvbi52YWx1ZSAhPSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIENvQ0FjdG9yLmhwRnJvbUNoYXJhY3RlcmlzdGljcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MsIHRoaXMudHlwZSlcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpXG4gIH1cblxuICBnZXQgaHBNYXggKCkge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heClcbiAgfVxuXG4gIGFzeW5jIF9zZXRIcCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcbiAgICBpZiAodmFsdWUgPiB0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heCkge1xuICAgICAgdmFsdWUgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heClcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzogdmFsdWUgfSlcbiAgfVxuXG4gIGFzeW5jIGFkZFVuaXF1ZUl0ZW1zIChza2lsbExpc3QsIGZsYWcgPSBudWxsKSB7XG4gICAgY29uc3QgcHJvY2Vzc2VkID0gW11cbiAgICBmb3IgKGxldCBza2lsbCBvZiBza2lsbExpc3QpIHtcbiAgICAgIHNraWxsID0gZHVwbGljYXRlKHNraWxsKVxuICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2tpbGwuc3lzdGVtLCAnZmxhZ3MnKSkge1xuICAgICAgICAgIHNraWxsLnN5c3RlbS5mbGFncyA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgc2tpbGwuc3lzdGVtLmZsYWdzW2ZsYWddID0gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKENvQzdJdGVtLmlzQW55U3BlYyhza2lsbCkpIHtcbiAgICAgICAgcHJvY2Vzc2VkLnB1c2goc2tpbGwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtSWQgPSB0aGlzLmdldEl0ZW1JZEJ5TmFtZShza2lsbC5uYW1lKVxuICAgICAgICBpZiAoIWl0ZW1JZCkge1xuICAgICAgICAgIHByb2Nlc3NlZC5wdXNoKHNraWxsKVxuICAgICAgICB9IGVsc2UgaWYgKGZsYWcpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtcy5nZXQoaXRlbUlkKVxuICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0SXRlbUZsYWcoZmxhZylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzc2VkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBwcm9jZXNzZWQsIHtcbiAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBhZGRJdGVtcyAoaXRlbUxpc3QsIGZsYWcgPSBudWxsKSB7XG4gICAgY29uc3QgcHJvY2Vzc2VkID0gW11cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbUxpc3QpIHtcbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIGlmICghaXRlbS5zeXN0ZW0uZmxhZ3MpIGl0ZW0uc3lzdGVtLmZsYWdzID0ge31cbiAgICAgICAgaXRlbS5zeXN0ZW0uZmxhZ3NbZmxhZ10gPSB0cnVlXG4gICAgICB9XG4gICAgICBwcm9jZXNzZWQucHVzaChkdXBsaWNhdGUoaXRlbSkpXG4gICAgfVxuICAgIGlmIChwcm9jZXNzZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBwcm9jZXNzZWQsIHtcbiAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBhZGRVbmlxdWVJdGVtIChza2lsbCwgZmxhZyA9IG51bGwpIHtcbiAgICBjb25zdCBpdGVtSWQgPSB0aGlzLmdldEl0ZW1JZEJ5TmFtZShza2lsbC5uYW1lKVxuICAgIGlmICghaXRlbUlkKSB7XG4gICAgICBpZiAoZmxhZykge1xuICAgICAgICBpZiAoIXNraWxsLnN5c3RlbS5mbGFncykgc2tpbGwuc3lzdGVtLmZsYWdzID0ge31cbiAgICAgICAgc2tpbGwuc3lzdGVtLmZsYWdzW2ZsYWddID0gdHJ1ZVxuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtza2lsbF0sIHtcbiAgICAgICAgcmVuZGVyU2hlZXQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoZmxhZykge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICAgIGF3YWl0IGl0ZW0uc2V0SXRlbUZsYWcoZmxhZylcbiAgICB9XG4gIH1cblxuICBnZXQgcmF3TXBNYXggKCkge1xuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLmF1dG8pIHtcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG93LnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIENvQ0FjdG9yLm1wRnJvbUNoYXJhY3RlcmlzdGljcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpXG4gICAgICB9IGVsc2UgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMubXAubWF4KVxuICB9XG5cbiAgZ2V0UmVhc29uU2FuTG9zcyAoc2FuUmVhc29uKSB7XG4gICAgaWYgKHR5cGVvZiBzYW5SZWFzb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnN5c3RlbS5zYW5pdHlMb3NzRXZlbnRzLmZpbHRlcihcbiAgICAgICAgICByID0+IHIudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzYW5SZWFzb24udG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICApWzBdID8/IHsgdHlwZTogJycsIHRvdGFsTG9zczogMCwgaW1tdW5pdHk6IGZhbHNlIH1cbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogJycsIHRvdGFsTG9zczogMCwgaW1tdW5pdHk6IGZhbHNlIH1cbiAgfVxuXG4gIHNhbkxvc3RUb1JlYXNvbiAoc2FuUmVhc29uKSB7XG4gICAgaWYgKHNhblJlYXNvbikge1xuICAgICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50ID0gdGhpcy5nZXRSZWFzb25TYW5Mb3NzKHNhblJlYXNvbilcbiAgICAgIHJldHVybiBzYW5pdHlMb3NzRXZlbnQudG90YWxMb3NzXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBzYW5Mb3NzUmVhc29uRW5jb3VudGVyZWQgKHNhblJlYXNvbikge1xuICAgIGlmIChzYW5SZWFzb24pIHtcbiAgICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudCA9IHRoaXMuZ2V0UmVhc29uU2FuTG9zcyhzYW5SZWFzb24pXG4gICAgICByZXR1cm4gc2FuaXR5TG9zc0V2ZW50LnR5cGUgIT09ICcnXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgc2V0UmVhc29uU2FuTG9zcyAoc2FuUmVhc29uLCBzYW5Mb3NzKSB7XG4gICAgaWYgKHR5cGVvZiBzYW5SZWFzb24gPT09ICdzdHJpbmcnICYmIHNhblJlYXNvbiAhPT0gJycpIHtcbiAgICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudHMgPSBkdXBsaWNhdGUodGhpcy5zeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cylcbiAgICAgIGNvbnN0IGluZGV4ID0gc2FuaXR5TG9zc0V2ZW50cy5maW5kSW5kZXgoXG4gICAgICAgIHIgPT4gci50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNhblJlYXNvbi50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgICBpZiAoc2FuTG9zcyA+IDApIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBzYW5SZWFzb24sXG4gICAgICAgICAgICB0b3RhbExvc3M6IHNhbkxvc3MsXG4gICAgICAgICAgICBpbW11bml0eTogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhbml0eUxvc3NFdmVudHNbaW5kZXhdLnRvdGFsTG9zcyArPSBzYW5Mb3NzXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBzYW5pdHlMb3NzRXZlbnRzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgc2FuaXR5TG9zc0V2ZW50cy5zb3J0KGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgICAgIHJldHVybiBsZWZ0LnR5cGUubG9jYWxlQ29tcGFyZShyaWdodC50eXBlKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5zYW5pdHlMb3NzRXZlbnRzJzogc2FuaXR5TG9zc0V2ZW50c1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBtYXhMb3NzVG9TYW5SZWFzb24gKHNhblJlYXNvbiwgc2FuTWF4Rm9ybXVsYSkge1xuICAgIGNvbnN0IHNhbk1heCA9IG5ldyBSb2xsKHNhbk1heEZvcm11bGEudG9TdHJpbmcoKSkuZXZhbHVhdGUoe1xuICAgICAgbWF4aW1pemU6IHRydWVcbiAgICB9KS50b3RhbFxuICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudCA9IHRoaXMuZ2V0UmVhc29uU2FuTG9zcyhzYW5SZWFzb24pXG4gICAgaWYgKHNhbml0eUxvc3NFdmVudC5pbW11bml0eSkge1xuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHNhbk1heCAtIHNhbml0eUxvc3NFdmVudC50b3RhbExvc3MpXG4gIH1cblxuICBhc3luYyBsb29zZVNhbiAoc2FuUmVhc29uLCBzYW5Mb3NzKSB7XG4gICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50ID0gdGhpcy5nZXRSZWFzb25TYW5Mb3NzKHNhblJlYXNvbilcbiAgICBpZiAoIXNhbml0eUxvc3NFdmVudC5pbW11bml0eSkge1xuICAgICAgYXdhaXQgdGhpcy5zZXRTYW4odGhpcy5zYW4gLSBzYW5Mb3NzKVxuICAgICAgdGhpcy5zZXRSZWFzb25TYW5Mb3NzKHNhblJlYXNvbiwgc2FuTG9zcylcbiAgICAgIHJldHVybiBzYW5Mb3NzXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBzYW5Mb3NzIChjaGVja1Bhc3NlZCkge1xuICAgIGlmIChjaGVja1Bhc3NlZCkgcmV0dXJuIHRoaXMuc2FuTG9zc0NoZWNrUGFzc2VkXG4gICAgcmV0dXJuIHRoaXMuc2FuTG9zc0NoZWNrRmFpbGxlZFxuICB9XG5cbiAgZ2V0IHNhbkxvc3NDaGVja1Bhc3NlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLnNwZWNpYWw/LnNhbkxvc3M/LmNoZWNrUGFzc2VkXG4gIH1cblxuICBnZXQgc2FuTG9zc0NoZWNrRmFpbGxlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLnNwZWNpYWw/LnNhbkxvc3M/LmNoZWNrRmFpbGxlZFxuICB9XG5cbiAgZ2V0IHNhbkxvc3NNYXggKCkge1xuICAgIGlmICh0aGlzLnNhbkxvc3NDaGVja0ZhaWxsZWQpIHtcbiAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuc2FuTG9zc0NoZWNrRmFpbGxlZCkpKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5zYW5Mb3NzQ2hlY2tGYWlsbGVkKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSb2xsKHRoaXMuc2FuTG9zc0NoZWNrRmFpbGxlZCkuZXZhbHVhdGUoe1xuICAgICAgICBtYXhpbWl6ZTogdHJ1ZVxuICAgICAgfSkudG90YWxcbiAgICB9XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGdldCBzYW5Mb3NzTWluICgpIHtcbiAgICBpZiAodGhpcy5zYW5Mb3NzQ2hlY2tQYXNzZWQpIHtcbiAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuc2FuTG9zc0NoZWNrUGFzc2VkKSkpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLnNhbkxvc3NDaGVja1Bhc3NlZClcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUm9sbCh0aGlzLnNhbkxvc3NDaGVja1Bhc3NlZCkuZXZhbHVhdGUoe1xuICAgICAgICBtYXhpbWl6ZTogdHJ1ZVxuICAgICAgfSkudG90YWxcbiAgICB9XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGdldCBkYWlseVNhbkxvc3MgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbj8uZGFpbHlMb3NzIHx8IDBcbiAgfVxuXG4gIGdldCBkYWlseVNhbkxpbWl0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4/LmRhaWx5TGltaXQgfHwgMFxuICB9XG5cbiAgZ2V0IHJhd1Nhbk1heCAoKSB7XG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnM/LnNhbj8uYXV0bykge1xuICAgICAgaWYgKHRoaXMuY3RodWxodU15dGhvcykgcmV0dXJuIE1hdGgubWF4KDk5IC0gdGhpcy5jdGh1bGh1TXl0aG9zLCAwKVxuICAgICAgcmV0dXJuIDk5XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5tYXgpXG4gIH1cblxuICBnZXQgc2FuTWF4ICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4ubWF4KVxuICB9XG5cbiAgZ2V0IG1wICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSlcbiAgfVxuXG4gIGdldCBtcE1heCAoKSB7XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMubXAuYXV0bykge1xuICAgICAgLy8gVE9ETyBpZiBhbnkgaXMgbnVsbCBzZXQgbWF4IGJhY2sgdG8gbnVsbC5cbiAgICAgIGlmICh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG93LnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZSAvIDUpXG4gICAgICB9XG4gICAgICByZXR1cm4gMFxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC5tYXgpXG4gIH1cblxuICBhc3luYyBzZXRNcCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcbiAgICBpZiAodmFsdWUgPiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLm1heCkpIHsgdmFsdWUgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLm1heCkgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSc6IHZhbHVlIH0pXG4gIH1cblxuICBnZXQgc2FuICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUpXG4gIH1cblxuICBnZXQgaW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnaW50JylcbiAgfVxuXG4gIGdldCBvY2N1cGF0aW9uUG9pbnRzU3BlbnQgKCkge1xuICAgIGxldCBvY2N1cGF0aW9uUG9pbnRzID0gMFxuICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgdGhpcy5za2lsbHMpIHtcbiAgICAgIGlmIChza2lsbC5zeXN0ZW0uYWRqdXN0bWVudHM/Lm9jY3VwYXRpb24pIHtcbiAgICAgICAgb2NjdXBhdGlvblBvaW50cyArPSBza2lsbC5zeXN0ZW0uYWRqdXN0bWVudHMub2NjdXBhdGlvblxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2NjdXBhdGlvblBvaW50c1xuICB9XG5cbiAgZ2V0IG9jY3VwYXRpb25Qb2ludHMgKCkge1xuICAgIGlmICghdGhpcy5vY2N1cGF0aW9uKSByZXR1cm4gMFxuICAgIGxldCBwb2ludHMgPSAwXG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgIHRoaXMub2NjdXBhdGlvbi5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzXG4gICAgKSkge1xuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cnlcbiAgICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKGtleSlcbiAgICAgIGlmICh2YWx1ZS5zZWxlY3RlZCkge1xuICAgICAgICBwb2ludHMgKz0gY2hhci52YWx1ZSAqIE51bWJlcih2YWx1ZS5tdWx0aXBsaWVyKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9pbnRzXG4gIH1cblxuICBhc3luYyByZXNldE9jY3VwYXRpb25Qb2ludHMgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICdzeXN0ZW0uZGV2ZWxvcG1lbnQub2NjdXBhdGlvbic6IHRoaXMub2NjdXBhdGlvblBvaW50c1xuICAgIH0pXG4gIH1cblxuICBhc3luYyByZXNldEFyY2hldHlwZVBvaW50cyAoKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5kZXZlbG9wbWVudC5hcmNoZXR5cGUnOiB0aGlzLm9jY3VwYXRpb25Qb2ludHNcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgcmVzZXRQZXJzb25hbFBvaW50cyAoKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5kZXZlbG9wbWVudC5wZXJzb25hbCc6IHRoaXMucGVyc29uYWxQb2ludHNcbiAgICB9KVxuICB9XG5cbiAgZ2V0IGFyY2hldHlwZVBvaW50c1NwZW50ICgpIHtcbiAgICBsZXQgYXJjaGV0eXBlUG9pbnRzID0gMFxuICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgdGhpcy5za2lsbHMpIHtcbiAgICAgIGlmIChza2lsbC5zeXN0ZW0uYWRqdXN0bWVudHM/LmFyY2hldHlwZSkge1xuICAgICAgICBhcmNoZXR5cGVQb2ludHMgKz0gc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzLmFyY2hldHlwZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJjaGV0eXBlUG9pbnRzXG4gIH1cblxuICBnZXQgYXJjaGV0eXBlUG9pbnRzICgpIHtcbiAgICBpZiAoIXRoaXMuYXJjaGV0eXBlKSByZXR1cm4gMFxuICAgIHJldHVybiB0aGlzLmFyY2hldHlwZS5zeXN0ZW0uYm9udXNQb2ludHNcbiAgfVxuXG4gIGdldCBleHBlcmllbmNlUG9pbnRzICgpIHtcbiAgICBsZXQgZXhwZXJpZW5jZVBvaW50cyA9IDBcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHRoaXMuc2tpbGxzKSB7XG4gICAgICBpZiAoc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzPy5leHBlcmllbmNlKSB7XG4gICAgICAgIGV4cGVyaWVuY2VQb2ludHMgKz0gc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4cGVyaWVuY2VQb2ludHNcbiAgfVxuXG4gIGdldCBwZXJzb25hbFBvaW50c1NwZW50ICgpIHtcbiAgICBsZXQgcGVyc29uYWxQb2ludHMgPSAwXG4gICAgZm9yIChjb25zdCBza2lsbCBvZiB0aGlzLnNraWxscykge1xuICAgICAgaWYgKHNraWxsLnN5c3RlbS5hZGp1c3RtZW50cz8ucGVyc29uYWwpIHtcbiAgICAgICAgcGVyc29uYWxQb2ludHMgKz0gc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzLnBlcnNvbmFsXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwZXJzb25hbFBvaW50c1xuICB9XG5cbiAgZ2V0IHBlcnNvbmFsUG9pbnRzICgpIHtcbiAgICByZXR1cm4gMiAqIE51bWJlcih0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuaW50LnZhbHVlKVxuICB9XG5cbiAgZ2V0IGhhc0RldmVsb3BtZW50UGhhc2UgKCkge1xuICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgdGhpcy5za2lsbHMpIHtcbiAgICAgIGlmIChza2lsbC5zeXN0ZW0uZmxhZ3M/LmRldmVsb3BlbWVudCkgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMub25seVJ1bk9uY2VQZXJTZXNzaW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgZm9yIChjb25zdCBzYW5pdHlMb3NzRXZlbnQgb2YgdGhpcy5zeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cykge1xuICAgICAgaWYgKCFzYW5pdHlMb3NzRXZlbnQuaW1tdW5pdHkpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYXN5bmMgc2V0U2FuICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxuICAgIGlmICh2YWx1ZSA+IHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm1heCkgeyB2YWx1ZSA9IHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm1heCB9XG4gICAgY29uc3QgbG9zcyA9IHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlKSAtIHZhbHVlXG5cbiAgICBpZiAobG9zcyA+IDApIHtcbiAgICAgIGxldCB0b3RhbExvc3MgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MpXG4gICAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzKVxuICAgICAgICA6IDBcbiAgICAgIHRvdGFsTG9zcyA9IHRvdGFsTG9zcyArIGxvc3NcbiAgICAgIGlmIChsb3NzID49IDUpIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lKVxuICAgICAgaWYgKHRvdGFsTG9zcyA+PSB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxpbWl0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmluZGVmSW5zYW5lKVxuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlJzogdmFsdWUsXG4gICAgICAgICdzeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzJzogdG90YWxMb3NzXG4gICAgICB9KVxuICAgIH0gZWxzZSBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUnOiB2YWx1ZSB9KVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgYXN5bmMgc2V0QXR0cmliQXV0byAodmFsdWUsIGF0dHJpYikge1xuICAgIGNvbnN0IHVwZGF0ZWRLZXkgPSBgc3lzdGVtLmF0dHJpYnMuJHthdHRyaWJ9LmF1dG9gXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHsgW3VwZGF0ZWRLZXldOiB2YWx1ZSB9KVxuICB9XG5cbiAgYXN5bmMgdG9nZ2xlQXR0cmliQXV0byAoYXR0cmliKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJBdXRvKCF0aGlzLnN5c3RlbS5hdHRyaWJzW2F0dHJpYl0uYXV0bywgYXR0cmliKVxuICB9XG5cbiAgc3RhdGljIGRiRnJvbUNoYXJhY3RlcmlzdGljcyAoY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgY29uc3Qgc3VtID0gKGNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUgPz8gMCkgKyAoY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSA/PyAwKVxuICAgIGlmIChzdW0gPCA2NSkgcmV0dXJuIC0yXG4gICAgaWYgKHN1bSA8IDg1KSByZXR1cm4gLTFcbiAgICBpZiAoc3VtIDwgMTI1KSByZXR1cm4gMFxuICAgIGlmIChzdW0gPCAxNjUpIHJldHVybiAnMUQ0J1xuICAgIHJldHVybiBgJHtNYXRoLmZsb29yKChzdW0gLSA0NSkgLyA4MCl9RDZgXG4gIH1cblxuICBzdGF0aWMgYnVpbGRGcm9tQ2hhcmFjdGVyaXN0aWNzIChjaGFyYWN0ZXJpc3RpY3MpIHtcbiAgICBjb25zdCBzdW0gPSAoY2hhcmFjdGVyaXN0aWNzLnN0ci52YWx1ZSA/PyAwKSArIChjaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlID8/IDApXG4gICAgaWYgKHN1bSA8IDY1KSByZXR1cm4gLTJcbiAgICBpZiAoc3VtIDwgODUpIHJldHVybiAtMVxuICAgIGlmIChzdW0gPCAxMjUpIHJldHVybiAwXG4gICAgaWYgKHN1bSA8IDE2NSkgcmV0dXJuIDFcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoc3VtIC0gNDUpIC8gODApICsgMVxuICB9XG5cbiAgc3RhdGljIGhwRnJvbUNoYXJhY3RlcmlzdGljcyAoY2hhcmFjdGVyaXN0aWNzLCB0eXBlKSB7XG4gICAgY29uc3Qgc3VtID0gcGFyc2VJbnQoY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSA/PyAwLCAxMCkgKyBwYXJzZUludChjaGFyYWN0ZXJpc3RpY3MuY29uLnZhbHVlID8/IDAsIDEwKVxuICAgIGNvbnN0IGRpdmlzb3IgPSAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVEb3VibGVNYXhIZWFsdGgnKSAmJiB0eXBlID09PSAnY2hhcmFjdGVyJyA/IDUgOiAxMClcbiAgICByZXR1cm4gTWF0aC5mbG9vcihzdW0gLyBkaXZpc29yKVxuICB9XG5cbiAgc3RhdGljIG1wRnJvbUNoYXJhY3RlcmlzdGljcyAoY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZSAvIDUpXG4gIH1cblxuICBzdGF0aWMgbW92RnJvbUNoYXJhY3RlcmlzdGljcyAoY2hhcmFjdGVyaXN0aWNzLCB0eXBlLCBhZ2UpIHtcbiAgICBsZXQgTU9WXG4gICAgaWYgKGNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUgPiBjaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlICYmIGNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUgPiBjaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlKSB7XG4gICAgICBNT1YgPSA5IC8vIEJ1ZyBjb3JyZWN0aW9uIGJ5IEFkbWlyYWxOeWFyLlxuICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZSA+PSBjaGFyYWN0ZXJpc3RpY3Muc2l6LnZhbHVlIHx8IGNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUgPj0gY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSkge1xuICAgICAgTU9WID0gOFxuICAgIH0gZWxzZSB7XG4gICAgICBNT1YgPSA3XG4gICAgfVxuICAgIGlmICh0eXBlICE9PSAnY3JlYXR1cmUnICYmICFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUlnbm9yZUFnZVBlbmFsdGllcycpKSB7XG4gICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGFnZSkpKSB7XG4gICAgICAgIE1PViA9IHBhcnNlSW50KGFnZSkgPj0gNDAgPyBNT1YgLSBNYXRoLmZsb29yKHBhcnNlSW50KGFnZSkgLyAxMCkgKyAzIDogTU9WXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heCgwLCBNT1YpXG4gIH1cblxuICBnZXQgcmF3QnVpbGQgKCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0uYXR0cmlicykgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQpIHJldHVybiBudWxsXG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWUgPT09ICdhdXRvJykge1xuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5hdXRvID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5hdXRvKSB7XG4gICAgICByZXR1cm4gQ29DQWN0b3IuYnVpbGRGcm9tQ2hhcmFjdGVyaXN0aWNzKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC52YWx1ZVxuICB9XG5cbiAgZ2V0IGJ1aWxkICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC52YWx1ZVxuICB9XG5cbiAgZ2V0IHJhd0RiICgpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmF0dHJpYnMpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzLmRiKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLnZhbHVlID09PSAnYXV0bycpIHtcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuZGIuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuZGIuYXV0bykge1xuICAgICAgcmV0dXJuIENvQ0FjdG9yLmRiRnJvbUNoYXJhY3RlcmlzdGljcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLnZhbHVlXG4gIH1cblxuICBnZXQgZGIgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLnZhbHVlXG4gIH1cblxuICBnZXQgcmF3TW92ICgpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmF0dHJpYnMpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzLm1vdikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YudmFsdWUgPT09ICdhdXRvJykge1xuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LmF1dG8pIHtcbiAgICAgIGNvbnN0IE1PViA9IENvQ0FjdG9yLm1vdkZyb21DaGFyYWN0ZXJpc3RpY3ModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLCB0aGlzLnN5c3RlbS50eXBlLCB0aGlzLnN5c3RlbS5pbmZvcy5hZ2UpXG4gICAgICBpZiAoTU9WID4gMCkgcmV0dXJuIE1PVlxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YudmFsdWVcbiAgfVxuXG4gIGdldCBtb3YgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5hdHRyaWJzLm1vdi52YWx1ZVxuICB9XG5cbiAgZ2V0IHRva2VuSWQgKCkge1xuICAgIC8vIFRPRE8gY2xhcmlmaWVyIGNhIGV0IHRva2Vua2V5XG4gICAgcmV0dXJuIHRoaXMudG9rZW4gPyBgJHt0aGlzLnRva2VuLnNjZW5lLl9pZH0uJHt0aGlzLnRva2VuLmlkfWAgOiBudWxsIC8vIFJFRkFDVE9SSU5HICgyKVxuICB9XG5cbiAgZ2V0IGxvY2tlZCAoKSB7XG4gICAgaWYgKCF0aGlzLnN5c3RlbS5mbGFncykge1xuICAgICAgdGhpcy5zeXN0ZW0uZmxhZ3MgPSB7fVxuICAgICAgdGhpcy5zeXN0ZW0uZmxhZ3MubG9ja2VkID0gdHJ1ZSAvLyBMb2NrZWQgYnkgZGVmYXVsdFxuICAgICAgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZsYWdzJzoge30gfSlcbiAgICAgIHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncy5sb2NrZWQnOiBmYWxzZSB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgfVxuXG4gIGdldEl0ZW1zRnJvbU5hbWUgKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoaSA9PiBpLm5hbWUgPT09IG5hbWUpXG4gIH1cblxuICBzZXQgbG9ja2VkICh2YWx1ZSkge1xuICAgIHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncy5sb2NrZWQnOiB2YWx1ZSB9KVxuICB9XG5cbiAgYXN5bmMgdG9nZ2xlQWN0b3JGbGFnIChmbGFnTmFtZSkge1xuICAgIGNvbnN0IGZsYWdWYWx1ZSA9ICF0aGlzLnN5c3RlbS5mbGFnc1tmbGFnTmFtZV1cbiAgICBjb25zdCBuYW1lID0gYHN5c3RlbS5mbGFncy4ke2ZsYWdOYW1lfWBcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtuYW1lXTogZmxhZ1ZhbHVlIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBhdHRyaWJ1dGVOYW1lIGtleSBvZiBhdHRyaWJ1dGUgdG8gY2hlY2sgaW4gWydsY2snXVxuICAgKiBAcGFyYW0geyp9IGZhc3RGb3J3YXJkXG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBkaWZmaWN1bHR5IGluIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwsIG1vZGlmaWVyICgtMiArMiksIG5hbWVcbiAgICovXG4gIGFzeW5jIGF0dHJpYnV0ZUNoZWNrIChhdHRyaWJ1dGVOYW1lLCBmYXN0Rm9yd2FyZCA9IGZhbHNlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBhdHRyaWIgPSB0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgaWYgKCFhdHRyaWIpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JOb3RGb3VuZCcsIHtcbiAgICAgICAgICBtaXNzaW5nOiBhdHRyaWJ1dGVOYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG5cbiAgICBpZiAob3B0aW9ucy5tb2RpZmllcikgY2hlY2suZGljZU1vZGlmaWVyID0gTnVtYmVyKG9wdGlvbnMubW9kaWZpZXIpXG4gICAgaWYgKG9wdGlvbnMuZGlmZmljdWx0eSkge1xuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdVdGlsaXRpZXMuY29udmVydERpZmZpY3VsdHkob3B0aW9ucy5kaWZmaWN1bHR5KVxuICAgIH1cblxuICAgIGlmICghZmFzdEZvcndhcmQpIHtcbiAgICAgIGlmICh1bmRlZmluZWQgPT09IG9wdGlvbnMuZGlmZmljdWx0eSB8fCB1bmRlZmluZWQgPT09IG9wdGlvbnMubW9kaWZpZXIpIHtcbiAgICAgICAgY29uc3QgdXNhZ2UgPSBhd2FpdCBSb2xsRGlhbG9nLmNyZWF0ZShvcHRpb25zKVxuICAgICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdib251c0RpY2UnKSlcbiAgICAgICAgICBjaGVjay5kaWZmaWN1bHR5ID0gTnVtYmVyKHVzYWdlLmdldCgnZGlmZmljdWx0eScpKVxuICAgICAgICAgIGNoZWNrLmZsYXREaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0RGljZU1vZGlmaWVyJykpXG4gICAgICAgICAgY2hlY2suZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gTnVtYmVyKFxuICAgICAgICAgICAgdXNhZ2UuZ2V0KCdmbGF0VGhyZXNob2xkTW9kaWZpZXInKVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrLmFjdG9yID0gdGhpcy50b2tlbktleVxuICAgIGlmIChvcHRpb25zLmJsaW5kID09PSAnZmFsc2UnKSBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICBlbHNlIGNoZWNrLmlzQmxpbmQgPSAhIW9wdGlvbnMuYmxpbmRcbiAgICBhd2FpdCBjaGVjay5yb2xsQXR0cmlidXRlKGF0dHJpYi5rZXkpXG4gICAgY2hlY2sudG9NZXNzYWdlKClcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGNoYXJhY3RlcmlzdGljTmFtZSBrZXkgb2YgY2hhcmFjdGVyaXN0aWMgdG8gY2hlY2sgaW4gWydzdHInLCdjb24nLCdzaXonLCdkZXgnLCdhcHAnLCdpbnQnLCdwb3cnLCdlZHUnXVxuICAgKiBAcGFyYW0geyp9IGZhc3RGb3J3YXJkXG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBkaWZmaWN1bHR5IGluIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwsIG1vZGlmaWVyICgtMiArMiksIG5hbWVcbiAgICovXG4gIGFzeW5jIGNoYXJhY3RlcmlzdGljQ2hlY2sgKFxuICAgIGNoYXJhY3RlcmlzdGljTmFtZSxcbiAgICBmYXN0Rm9yd2FyZCA9IGZhbHNlLFxuICAgIG9wdGlvbnMgPSB7fVxuICApIHtcbiAgICBjb25zdCBjaGFyID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYyhjaGFyYWN0ZXJpc3RpY05hbWUpXG5cbiAgICBpZiAoIWNoYXIpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JOb3RGb3VuZEZvckFjdG9yJywge1xuICAgICAgICAgIG1pc3Npbmc6IGNoYXJhY3RlcmlzdGljTmFtZSxcbiAgICAgICAgICBhY3RvcjogdGhpcy5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuXG4gICAgaWYgKG9wdGlvbnMubW9kaWZpZXIpIGNoZWNrLmRpY2VNb2RpZmllciA9IE51bWJlcihvcHRpb25zLm1vZGlmaWVyKVxuICAgIGlmIChvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3VXRpbGl0aWVzLmNvbnZlcnREaWZmaWN1bHR5KG9wdGlvbnMuZGlmZmljdWx0eSlcbiAgICB9XG5cbiAgICBpZiAoIWZhc3RGb3J3YXJkKSB7XG4gICAgICBpZiAodW5kZWZpbmVkID09PSBvcHRpb25zLmRpZmZpY3VsdHkgfHwgdW5kZWZpbmVkID09PSBvcHRpb25zLm1vZGlmaWVyKSB7XG4gICAgICAgIG9wdGlvbnMuZGlzcGxheU5hbWUgPSBjaGFyLmxhYmVsXG4gICAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUob3B0aW9ucylcbiAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnYm9udXNEaWNlJykpXG4gICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgICAgICBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnZmxhdERpY2VNb2RpZmllcicpKVxuICAgICAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IE51bWJlcihcbiAgICAgICAgICAgIHVzYWdlLmdldCgnZmxhdFRocmVzaG9sZE1vZGlmaWVyJylcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVjay5hY3RvciA9IHRoaXMudG9rZW5LZXlcbiAgICBpZiAob3B0aW9ucy5ibGluZCA9PT0gJ2ZhbHNlJykgY2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgZWxzZSBjaGVjay5pc0JsaW5kID0gISFvcHRpb25zLmJsaW5kXG4gICAgYXdhaXQgY2hlY2sucm9sbENoYXJhY3RlcmlzdGljKGNoYXIua2V5KVxuICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gIH1cblxuICBhc3luYyBza2lsbENoZWNrIChza2lsbERhdGEsIGZhc3RGb3J3YXJkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBza2lsbElkZW50aWZpZXIgPSBza2lsbERhdGEubmFtZSA/IHNraWxsRGF0YS5uYW1lIDogc2tpbGxEYXRhXG4gICAgY29uc29sZS5sb2coc2tpbGxJZGVudGlmaWVyKVxuICAgIGNvbnN0IGlzQ29DSUQgPSAhIXNraWxsSWRlbnRpZmllci5tYXRjaCgvXmlcXC5za2lsbFxcLi8pXG4gICAgbGV0IHNraWxsID0gW11cbiAgICBpZiAoaXNDb0NJRCkge1xuICAgICAgLy8gQXR0ZW1wdCB0byBsb2FkIGZyb20gYWN0b3IgZnJvbSBDb0MgSURcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEZpcnN0U2tpbGxCeUNvQ0lEKHNraWxsSWRlbnRpZmllcilcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHNraWxsLnB1c2goaXRlbSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFza2lsbC5sZW5ndGgpIHtcbiAgICAgIC8vIEF0dGVtcHQgdG8gbG9hZCBmb3IgYWN0b3IgYnkgbmFtZVxuICAgICAgc2tpbGwgPSB0aGlzLmdldFNraWxsc0J5TmFtZShza2lsbElkZW50aWZpZXIpXG4gICAgfVxuICAgIGlmICghc2tpbGwubGVuZ3RoKSB7XG4gICAgICBsZXQgaXRlbSA9IG51bGxcbiAgICAgIGlmIChza2lsbERhdGEucGFjaykge1xuICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5nZXQoc2tpbGxEYXRhLnBhY2spXG4gICAgICAgIGlmIChwYWNrLm1ldGFkYXRhLmVudGl0eSAhPT0gJ0l0ZW0nKSByZXR1cm5cbiAgICAgICAgaXRlbSA9IGF3YWl0IHBhY2suZ2V0RG9jdW1lbnQoc2tpbGxEYXRhLmlkKVxuICAgICAgfSBlbHNlIGlmIChza2lsbERhdGEuaWQpIHtcbiAgICAgICAgaXRlbSA9IGdhbWUuaXRlbXMuZ2V0KHNraWxsRGF0YS5pZClcbiAgICAgIH1cblxuICAgICAgLy8gTm8gc2tpbGwgZm91bmQsIHRyeSB0byBnZXQgZ2V0IGl0IGZyb20gY29tcGVuZGl1bSAhXG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IHJldHJpZXZhbCBvZiBza2lsbCBmcm9tIGNvbXBlbmRpdW0gISFcbiAgICAgICAgLy8gZ2FtZS5zZXR0aW5ncy5nZXQoICdDb0M3JywgJ0RlZmF1bHRDb21wZW5kaXVtJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgIGNoZWNrLl9yYXdWYWx1ZSA9ICc/J1xuICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgY2hlY2sudG9NZXNzYWdlKClcbiAgICAgIH1cbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTm9Ta2lsbCcpICsgJyAnICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JOb3RGb3VuZEZvckFjdG9yJywge1xuICAgICAgICAgICAgICBtaXNzaW5nOiBza2lsbERhdGEubmFtZSA/IHNraWxsRGF0YS5uYW1lIDogc2tpbGxEYXRhLFxuICAgICAgICAgICAgICBhY3RvcjogdGhpcy5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGxldCBjcmVhdGUgPSBmYWxzZVxuICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFkZFdlYXBvbicpfWAsXG4gICAgICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQWRkV2VhcG9udEhpbnQnLCB7XG4gICAgICAgICAgd2VhcG9uOiBza2lsbERhdGEubmFtZSxcbiAgICAgICAgICBhY3RvcjogdGhpcy5uYW1lXG4gICAgICAgIH0pfTwvcD5gLFxuICAgICAgICB5ZXM6ICgpID0+IHtcbiAgICAgICAgICBjcmVhdGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmIChjcmVhdGUgPT09IHRydWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkdXBsaWNhdGUoaXRlbSldKVxuICAgICAgfSBlbHNlIHJldHVyblxuXG4gICAgICBza2lsbCA9IHRoaXMuZ2V0U2tpbGxzQnlOYW1lKGl0ZW0ubmFtZSlcblxuICAgICAgaWYgKCFza2lsbC5sZW5ndGgpIHJldHVyblxuXG4gICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgY29uc3Qgc2tpbGxWYWx1ZSA9IGF3YWl0IFNraWxsVmFsdWVEaWFsb2cuY3JlYXRlKFxuICAgICAgICAgIHNraWxsWzBdLm5hbWUsXG4gICAgICAgICAgc2tpbGxbMF0uYmFzZVxuICAgICAgICApXG4gICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKHNraWxsVmFsdWUuZ2V0KCdiYXNlLXZhbHVlJykpXG4gICAgICAgIGF3YWl0IHNraWxsWzBdLnVwZGF0ZVZhbHVlKHZhbHVlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG5cbiAgICBpZiAodW5kZWZpbmVkICE9PSBvcHRpb25zLm1vZGlmaWVyKSB7XG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBOdW1iZXIob3B0aW9ucy5tb2RpZmllcilcbiAgICB9XG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICBjaGVjay5kaWZmaWN1bHR5ID0gQ29DN1V0aWxpdGllcy5jb252ZXJ0RGlmZmljdWx0eShvcHRpb25zLmRpZmZpY3VsdHkpXG4gICAgfVxuXG4gICAgaWYgKCFmYXN0Rm9yd2FyZCkge1xuICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5IHx8IHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5tb2RpZmllcikge1xuICAgICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKG9wdGlvbnMpXG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKSlcbiAgICAgICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIoXG4gICAgICAgICAgICB1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLnRva2VuS2V5XG4gICAgY2hlY2suc2tpbGwgPSBza2lsbFswXS5pZFxuICAgIGlmIChvcHRpb25zLmJsaW5kID09PSAnZmFsc2UnKSBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICBlbHNlIGNoZWNrLmlzQmxpbmQgPSAhIW9wdGlvbnMuYmxpbmRcbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICBjaGVjay50b01lc3NhZ2UoKVxuICB9XG5cbiAgYXN5bmMgd2VhcG9uQ2hlY2sgKHdlYXBvbkRhdGEsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBsZXQgd2VhcG9uXG4gICAgaWYgKHR5cGVvZiB3ZWFwb25EYXRhLnV1aWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3ZWFwb24gPSBhd2FpdCBmcm9tVXVpZCh3ZWFwb25EYXRhLnV1aWQpXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2VhcG9uRGF0YS5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdlYXBvbiA9IHRoaXMuaXRlbXMuZ2V0KHdlYXBvbkRhdGEuaWQpXG4gICAgfVxuICAgIGlmICghd2VhcG9uKSB7XG4gICAgICBsZXQgd2VhcG9ucyA9IHRoaXMuZ2V0SXRlbXNGcm9tTmFtZSh3ZWFwb25EYXRhLm5hbWUpXG4gICAgICBpZiAod2VhcG9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgbGV0IGl0ZW0gPSBudWxsXG4gICAgICAgICAgY29uc3QgcGFjayA9IHdlYXBvbkRhdGEucGFjayA/IGdhbWUucGFja3MuZ2V0KHdlYXBvbkRhdGEucGFjaykgOiBudWxsXG4gICAgICAgICAgaWYgKHBhY2spIHtcbiAgICAgICAgICAgIGlmIChwYWNrLm1ldGFkYXRhLmVudGl0eSAhPT0gJ0l0ZW0nKSByZXR1cm5cbiAgICAgICAgICAgIGl0ZW0gPSBhd2FpdCBwYWNrLmdldERvY3VtZW50KHdlYXBvbkRhdGEuaWQpXG4gICAgICAgICAgfSBlbHNlIGlmICh3ZWFwb25EYXRhLmlkKSB7XG4gICAgICAgICAgICBpdGVtID0gZ2FtZS5pdGVtcy5nZXQod2VhcG9uRGF0YS5pZClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTWFjcm9Ob0l0ZW1Gb3VuZCcpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGNyZWF0ZSA9IGZhbHNlXG4gICAgICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BZGRXZWFwb24nKX1gLFxuICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5BZGRXZWFwb250SGludCcsIHtcbiAgICAgICAgICAgICAgd2VhcG9uOiB3ZWFwb25EYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGFjdG9yOiB0aGlzLm5hbWVcbiAgICAgICAgICAgIH0pfTwvcD5gLFxuICAgICAgICAgICAgeWVzOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNyZWF0ZSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGNvbnN0IGFjdG9yID1cbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnBhcmVudD8uYWN0b3IgIT09ICd1bmRlZmluZWQnID8gdGhpcy5wYXJlbnQuYWN0b3IgOiB0aGlzXG5cbiAgICAgICAgICBpZiAoY3JlYXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBhd2FpdCBhY3Rvci5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtpdGVtLnRvSlNPTigpXSlcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuXG4gICAgICAgICAgd2VhcG9ucyA9IGFjdG9yLmdldEl0ZW1zRnJvbU5hbWUoaXRlbS5uYW1lKVxuICAgICAgICAgIGlmICghd2VhcG9ucy5sZW5ndGgpIHJldHVyblxuICAgICAgICAgIGF3YWl0IHdlYXBvbnNbMF0ucmVsb2FkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yQWN0b3JIYXNOb1dlYXBvbk5hbWVkJywge1xuICAgICAgICAgICAgICBhY3Rvck5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgd2VhcG9uTmFtZTogd2VhcG9uRGF0YS5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3ZWFwb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JBY3Rvckhhc1Rvb01hbnlXZWFwb25zTmFtZWQnLCB7XG4gICAgICAgICAgICBhY3Rvck5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHdlYXBvbk5hbWU6IHdlYXBvbkRhdGEubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHdlYXBvbiA9IHdlYXBvbnNbMF1cbiAgICB9XG5cbiAgICBpZiAoIXdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICBpZiAoZ2FtZS51c2VyLnRhcmdldHMuc2l6ZSA+IDEpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuVG9vTWFueVRhcmdldCcpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjYXJkID0gbmV3IENvQzdNZWxlZUluaXRpYXRvcih0aGlzLnRva2VuS2V5LCAod2VhcG9uRGF0YS51dWlkIHx8IHdlYXBvbi5pZCksIGZhc3RGb3J3YXJkKVxuICAgICAgY2FyZC5jcmVhdGVDaGF0Q2FyZCgpXG4gICAgfVxuICAgIGlmICh3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDb0M3UmFuZ2VJbml0aWF0b3IodGhpcy50b2tlbktleSwgKHdlYXBvbkRhdGEudXVpZCB8fCB3ZWFwb24uaWQpLCBmYXN0Rm9yd2FyZClcbiAgICAgIGNhcmQuY3JlYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJvbGxJbml0aWF0aXZlIChoYXNHdW4gPSBmYWxzZSkge1xuICAgIHN3aXRjaCAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnaW5pdGlhdGl2ZVJ1bGUnKSkge1xuICAgICAgY2FzZSAnb3B0aW9uYWwnOiB7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgQ29DN0NoZWNrKHRoaXMuYWN0b3JLZXkpXG4gICAgICAgIHJvbGwuZGVueVB1c2ggPSB0cnVlXG4gICAgICAgIHJvbGwuZGVueUx1Y2sgPSB0cnVlXG4gICAgICAgIHJvbGwuZGVueUJsaW5kVGFtcGVyaW5nID0gdHJ1ZVxuICAgICAgICByb2xsLmhpZGVEaWNlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUluaXREaWNlcycpID09PSBmYWxzZVxuICAgICAgICByb2xsLmZsYXZvciA9ICdJbml0aWF0aXZlIHJvbGwnXG4gICAgICAgIGF3YWl0IHJvbGwucm9sbENoYXJhY3RlcmlzdGljKCdkZXgnLCBoYXNHdW4gPyAxIDogMClcbiAgICAgICAgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJvbGwuc3VjY2Vzc0xldmVsICsgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZSAvIDEwMFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBoYXNHdW5cbiAgICAgICAgICA/IHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUgKyA1MFxuICAgICAgICAgIDogdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZVxuICAgIH1cbiAgfVxuXG4gIGdldEFjdG9yRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmZsYWdzKSB7XG4gICAgICB0aGlzLnN5c3RlbS5mbGFncyA9IHt9XG4gICAgICB0aGlzLnN5c3RlbS5mbGFncy5sb2NrZWQgPSB0cnVlXG4gICAgICB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MnOiB7fSB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5mbGFnc1tmbGFnTmFtZV0pIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5mbGFnc1tmbGFnTmFtZV1cbiAgfVxuXG4gIGFzeW5jIHNldEFjdG9yRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtgc3lzdGVtLmZsYWdzLiR7ZmxhZ05hbWV9YF06IHRydWUgfSlcbiAgfVxuXG4gIGFzeW5jIHVuc2V0QWN0b3JGbGFnIChmbGFnTmFtZSkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgW2BzeXN0ZW0uZmxhZ3MuJHtmbGFnTmFtZX1gXTogZmFsc2UgfSlcbiAgfVxuXG4gIGdldFdlYXBvblNraWxscyAoaXRlbUlkKSB7XG4gICAgbGV0IHdlYXBvbiA9IGZyb21VdWlkU3luYyhpdGVtSWQpXG4gICAgaWYgKCF3ZWFwb24pIHtcbiAgICAgIHdlYXBvbiA9IHRoaXMuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWFwb24uc3lzdGVtID09PSAndW5kZWZpbmVkJykge1xuICAgICAgd2VhcG9uID0gZ2FtZS5wYWNrcy5nZXQod2VhcG9uLnBhY2spLmdldCh3ZWFwb24uX2lkKVxuICAgIH1cbiAgICBpZiAod2VhcG9uLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IHNraWxscyA9IFtdXG4gICAgaWYgKHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5pZCkge1xuICAgICAgc2tpbGxzLnB1c2godGhpcy5pdGVtcy5nZXQod2VhcG9uLnN5c3RlbS5za2lsbC5tYWluLmlkKSlcbiAgICB9XG5cbiAgICBpZiAod2VhcG9uLnVzZXNBbHRlcm5hdGl2ZVNraWxsICYmIHdlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCkge1xuICAgICAgc2tpbGxzLnB1c2godGhpcy5pdGVtcy5nZXQod2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkKSlcbiAgICB9XG4gICAgcmV0dXJuIHNraWxsc1xuICB9XG5cbiAgLyoqIFRyeSB0byBmaW5kIGEgY2hhcmFjdGVyaXN0aWMsIGF0dHJpYnV0ZSBvciBza2lsbCB0aGF0IG1hdGNoZXMgdGhlIG5hbWUgKi9cbiAgZmluZCAobmFtZSkge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIC8vIFRyeSBJRFxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zLmdldChuYW1lKVxuICAgIGlmIChpdGVtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaXRlbScsXG4gICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVnRXhwID0gL1xcKChbXildKylcXCkvXG4gICAgY29uc3QgbWF0Y2hlcyA9IHJlZ0V4cC5leGVjKG5hbWUpXG4gICAgbGV0IHNob3J0TmFtZSA9IG51bGxcbiAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkgc2hvcnROYW1lID0gbWF0Y2hlc1sxXVxuICAgIC8vIFRyeSB0byBmaW5kIGEgc2tpbGwgd2l0aCBleGFjdCBuYW1lLlxuICAgIGNvbnN0IHNraWxsID0gdGhpcy5za2lsbHMuZmlsdGVyKHMgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgISFzLm5hbWUgJiZcbiAgICAgICAgKHMubmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgPT09XG4gICAgICAgICAgbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgfHxcbiAgICAgICAgICBzLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpID09PVxuICAgICAgICAgICAgbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgfHxcbiAgICAgICAgICBzLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpID09PVxuICAgICAgICAgICAgc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykpXG4gICAgICApXG4gICAgfSlcbiAgICBpZiAoc2tpbGwubGVuZ3RoKSByZXR1cm4geyB0eXBlOiAnaXRlbScsIHZhbHVlOiBza2lsbFswXSB9XG5cbiAgICAvLyBUcnkgdG8gZmluZCBhIGNoYXJhY3RlcmlzdGljLlxuICAgIGNvbnN0IGNoYXJLZXkgPSBbJ3N0cicsICdjb24nLCAnc2l6JywgJ2RleCcsICdhcHAnLCAnaW50JywgJ3BvdycsICdlZHUnXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcktleS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoY2hhcktleVtpXSlcbiAgICAgIGlmIChjaGFyKSB7XG4gICAgICAgIGNoYXIubmFtZSA9IGNoYXIubGFiZWxcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNoYXIua2V5Py50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBjaGFyLmtleT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdjaGFyYWN0ZXJpc3RpYycsIHZhbHVlOiBjaGFyIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2hhci5zaG9ydE5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGNoYXIuc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzaG9ydE5hbWU/LnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2NoYXJhY3RlcmlzdGljJywgdmFsdWU6IGNoYXIgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjaGFyLmxhYmVsPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBjaGFyLmxhYmVsPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzaG9ydE5hbWU/LnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2NoYXJhY3RlcmlzdGljJywgdmFsdWU6IGNoYXIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGZpbmQgYSBhdHRyaWJ1dGUuXG4gICAgY29uc3QgYXR0cmliS2V5ID0gWydsY2snLCAnc2FuJ11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYktleS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYktleVtpXSlcbiAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgIGF0dHIubmFtZSA9IGF0dHIubGFiZWxcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIua2V5Py50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBhdHRyLmtleT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdhdHRyaWJ1dGUnLCB2YWx1ZTogYXR0ciB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIuc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBhdHRyLnNob3J0TmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdhdHRyaWJ1dGUnLCB2YWx1ZTogYXR0ciB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIubGFiZWw/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGF0dHIubGFiZWw/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNob3J0TmFtZT8udG9Mb3dlckNhc2UoKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiAnYXR0cmlidXRlJywgdmFsdWU6IGF0dHIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHdpdGggcGFydGlhbCA/P1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBwaWxvdFNraWxscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbGxzLmZpbHRlcihzID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHMuc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiZcbiAgICAgICAgcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgZ2FtZS5pMThuXG4gICAgICAgICAgICAubG9jYWxpemUoJ0NvQzcuUGlsb3RTcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgICAgICAgPy50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIGdldCBkcml2ZVNraWxscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbGxzLmZpbHRlcihzID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHMuc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiZcbiAgICAgICAgcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgZ2FtZS5pMThuXG4gICAgICAgICAgICAubG9jYWxpemUoJ0NvQzcuRHJpdmVTcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgICAgICAgPy50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIGdldCB0b2tlblV1aWQgKCkge1xuICAgIGlmICh0aGlzLnNoZWV0LnRva2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGVldC50b2tlbi51dWlkXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgdG9rZW5LZXkgKCkge1xuICAgIC8vIENsYXJpZmllciBjYSBldCB0b2tlbmlkXG4gICAgLyoqICogTU9ESUYgMC44LnggKi9cbiAgICAvLyBpZiB0aGlzLnNoZWV0LnRva2VuID0+IHdhcyBvcGVuZWQgZnJvbSB0b2tlblxuICAgIC8vIGlmIHRoaXMudG9rZW4gPT4gc3ludGhldGljIGFjdG9yID09IHRoaXMuaXNUb2tlblxuICAgIGlmICh0aGlzLnNoZWV0LnRva2VuKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5zaGVldC50b2tlbi5wYXJlbnQuaWR9LiR7dGhpcy5zaGVldC50b2tlbi5pZH1gXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuaWRcbiAgICB9XG4gICAgLyoqKioqKioqKioqKioqKioqL1xuICAgIC8vIC8vQ2FzZSAxOiB0aGUgYWN0b3IgaXMgYSBzeW50aGV0aWMgYWN0b3IgYW5kIGhhcyBhIHRva2VuLCByZXR1cm4gdG9rZW4ga2V5LlxuICAgIC8vIGlmKCB0aGlzLmlzVG9rZW4pIHJldHVybiBgJHt0aGlzLnRva2VuLnNjZW5lPy5faWQ/dGhpcy50b2tlbi5zY2VuZS5faWQ6J1RPS0VOJ30uJHt0aGlzLnRva2VuLmlkfWA7ICAvL1JFRkFDVE9SSU5HICgyKVxuXG4gICAgLy8gLy9DYXNlIDI6IHRoZSBhY3RvciBpcyBub3QgYSB0b2tlbiAobGlua2VkIGFjdG9yKS4gSWYgdGhlIHNoZWV0IGhhdmUgYW4gYXNzb2NpYXRlZCB0b2tlbiByZXR1cm4gdGhlIHRva2VuIGtleS5cbiAgICAvLyBpZiggdGhpcy5zaGVldC50b2tlbikgcmV0dXJuIGAke3RoaXMuc2hlZXQudG9rZW4uc2NlbmU/LmlkP3RoaXMuc2hlZXQudG9rZW4uc2NlbmUuaWQ6J1RPS0VOJ30uJHt0aGlzLnNoZWV0LnRva2VuLmlkfWA7XG5cbiAgICAvLyAvL0Nhc2UgMzogQWN0b3IgaGFzIG5vIHRva2VuIHJldHVybiBoaXMgSUQ7XG4gICAgLy8gcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICBnZXQgYWN0b3JLZXkgKCkge1xuICAgIGlmICh0aGlzLnByb3RvdHlwZVRva2VuLmFjdG9yTGluaykgcmV0dXJuIHRoaXMuaWQgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgcmV0dXJuIHRoaXMudG9rZW5LZXlcbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckZyb21LZXkgKGtleSkge1xuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGlmIChrZXkuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBrZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgICAgaWYgKCF0b2tlbkRhdGEpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSlcbiAgICAgICAgcmV0dXJuIHRva2VuLmFjdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyIC0gdXNlIEFjdG9yIElEIGRpcmVjdG9yeVxuICAgIHJldHVybiBnYW1lLmFjdG9ycy5nZXQoa2V5KSB8fCBudWxsXG4gIH1cblxuICBnZXQgaGFzUm9sbGFibGVDaGFyYWN0ZXJpc3RpY3MgKCkge1xuICAgIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykpIHtcbiAgICAgIGlmIChpc05hTihOdW1iZXIodmFsdWUuZm9ybXVsYSkpKSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBob3NSb2xsYWJsZVNraWxscyAoKSB7XG4gICAgZm9yIChjb25zdCBza2lsbCBvZiB0aGlzLnNraWxscykge1xuICAgICAgaWYgKGlzTmFOKHNraWxsLnN5c3RlbT8udmFsdWUpKSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhlIGZvcm11bGEgaWYgYXZhaWxhYmxlIHRvIHJvbGwgc29tZSBjaGFyYWN0ZXJpdGljcy5cbiAgICovXG4gIGFzeW5jIHJvbGxDaGFyYWN0ZXJpc3RpY3NWYWx1ZSAoKSB7XG4gICAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0ge31cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpKSB7XG4gICAgICBpZiAodmFsdWUuZm9ybXVsYSAmJiAhdmFsdWUuZm9ybXVsYS5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBSb2xsKHZhbHVlLmZvcm11bGEpXG4gICAgICAgIGF3YWl0IHIucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgIGlmIChyLnRvdGFsKSB7XG4gICAgICAgICAgY2hhcmFjdGVyaXN0aWNzW2BzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLiR7a2V5fS52YWx1ZWBdID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIHIudG90YWxcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShjaGFyYWN0ZXJpc3RpY3MpXG4gICAgYXdhaXQgdGhpcy5yZXBvcnRDaGFyYWN0ZWRyaXRpY3NWYWx1ZSgpXG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlcmUgaXMgYSBmb3JtdWxhLCB3aWxsIHNldCB0aGUgY2hhcmFjdGVyaXN0aWMgdG8gdGhlIGF2ZXJhZ2UgdmFsdWUgLGlmIGRpdmlzaWJsZSBieSA1LCBvciB0aGUgY2xvc2VzdCAxMC5cbiAgICovXG4gIGFzeW5jIGF2ZXJhZ2VDaGFyYWN0ZXJpc3RpY3NWYWx1ZSAoKSB7XG4gICAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0ge31cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpKSB7XG4gICAgICBpZiAodmFsdWUuZm9ybXVsYSAmJiAhdmFsdWUuZm9ybXVsYS5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgY29uc3QgbWF4ID0gbmV3IFJvbGwodmFsdWUuZm9ybXVsYSkuZXZhbHVhdGUoeyBtYXhpbWl6ZTogdHJ1ZSB9KS50b3RhbFxuICAgICAgICBjb25zdCBtaW4gPSBuZXcgUm9sbCh2YWx1ZS5mb3JtdWxhKS5ldmFsdWF0ZSh7IG1pbmltaXplOiB0cnVlIH0pLnRvdGFsXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2UgPSBNYXRoLmZsb29yKChtYXggKyBtaW4pIC8gMilcbiAgICAgICAgY29uc3QgY2hhclZhbHVlID1cbiAgICAgICAgICBhdmVyYWdlICUgNSA9PT0gMCA/IGF2ZXJhZ2UgOiBNYXRoLnJvdW5kKGF2ZXJhZ2UgLyAxMCkgKiAxMFxuICAgICAgICBpZiAoY2hhclZhbHVlKSB7XG4gICAgICAgICAgY2hhcmFjdGVyaXN0aWNzW2BzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLiR7a2V5fS52YWx1ZWBdID0gY2hhclZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShjaGFyYWN0ZXJpc3RpY3MpXG4gICAgYXdhaXQgdGhpcy5yZXBvcnRDaGFyYWN0ZWRyaXRpY3NWYWx1ZSgpXG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIGNoYXJhY3RlcmlzaXRjIGZvcm11bGEgaXMgYSByZWZlcmVuY2UgdG8gYW4gb3RoZXIgY2hhcmFjdGVyaXN0aWMgYW5kIHNldCBpdCBhY2NvcmRpbmdseS5cbiAgICovXG4gIGFzeW5jIHJlcG9ydENoYXJhY3RlZHJpdGljc1ZhbHVlICgpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJpc3RpY3MgPSB7fVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykpIHtcbiAgICAgIGlmICh2YWx1ZS5mb3JtdWxhICYmIHZhbHVlLmZvcm11bGEuc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICAgIGxldCBjaGFyVmFsdWVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjaGFyVmFsdWUgPSBuZXcgUm9sbChcbiAgICAgICAgICAgIHZhbHVlLmZvcm11bGEsXG4gICAgICAgICAgICB0aGlzLnBhcnNlQ2hhcmFjdGVyaXN0aWNzKClcbiAgICAgICAgICApLmV2YWx1YXRlKHsgbWF4aW1pemU6IHRydWUgfSkudG90YWxcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2hhclZhbHVlID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyVmFsdWUpIHtcbiAgICAgICAgICBjaGFyYWN0ZXJpc3RpY3NbYHN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuJHtrZXl9LnZhbHVlYF0gPSBjaGFyVmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMudXBkYXRlKGNoYXJhY3RlcmlzdGljcylcbiAgfVxuXG4gIGFzeW5jIHNldENoYXJhY3RlcmlzdGljIChuYW1lLCB2YWx1ZSkge1xuICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljID0ge31cbiAgICBjb25zdCBjaGFyVmFsdWUgPSBpc05hTihwYXJzZUludCh2YWx1ZSkpID8gbnVsbCA6IHBhcnNlSW50KHZhbHVlKVxuICAgIGNoYXJhY3RlcmlzdGljW25hbWVdID0gY2hhclZhbHVlXG4gICAgaWYgKCFjaGFyVmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgY29uc3QgZm9ybXVsYSA9IG5hbWUucmVwbGFjZSgnLnZhbHVlJywgJy5mb3JtdWxhJylcbiAgICAgICAgY2hhcmFjdGVyaXN0aWNbZm9ybXVsYV0gPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMudXBkYXRlKGNoYXJhY3RlcmlzdGljKVxuICAgIGF3YWl0IHRoaXMucmVwb3J0Q2hhcmFjdGVkcml0aWNzVmFsdWUoKVxuICB9XG5cbiAgYXN5bmMgZGV2ZWxvcGVtZW50UGhhc2UgKGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBjb25zdCBmYWlsdXJlID0gW11cbiAgICBjb25zdCBzdWNjZXNzID0gW11cbiAgICBjb25zdCBza2lsbE1hc3RlcmluZ1RocmVzaG9sZCA9IDkwXG4gICAgY29uc3QgYWx3YXlzU3VjY2Vzc1RocmVzaG9sZCA9IDk1XG5cbiAgICBjb25zdCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Sb2xsQWxsNERldicpXG4gICAgbGV0IHNraWxsc1JvbGxlZCA9IDBcbiAgICBsZXQgbWVzc2FnZSA9ICc8cCBjbGFzcz1cImNoYXQtY2FyZFwiPidcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICBpZiAoaXRlbS5kZXZlbG9wZW1lbnRGbGFnKSB7XG4gICAgICAgICAgc2tpbGxzUm9sbGVkKytcbiAgICAgICAgICBjb25zdCBkaWUgPSBhd2FpdCBuZXcgRGllKHsgZmFjZXM6IDEwMCB9KS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgY29uc3Qgc2tpbGxWYWx1ZSA9IGl0ZW0udmFsdWVcbiAgICAgICAgICBsZXQgYXVnbWVudCA9IG51bGxcbiAgICAgICAgICBsZXQgc2tpbGxNYXN0ZXJpbmdNZXNzYWdlID0gbnVsbFxuICAgICAgICAgIGlmIChkaWUudG90YWwgPiBza2lsbFZhbHVlIHx8IGRpZS50b3RhbCA+PSBhbHdheXNTdWNjZXNzVGhyZXNob2xkKSB7XG4gICAgICAgICAgICBjb25zdCBhdWdtZW50RGllID0gYXdhaXQgbmV3IERpZSh7IGZhY2VzOiAxMCB9KS5ldmFsdWF0ZSh7XG4gICAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc3VjY2Vzcy5wdXNoKGl0ZW0uaWQpXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgU0FOIGF1Z21lbnQgd2hlbiB0aGUgc2tpbGwgZ29lcyBiZXlvbmQgdGhlIHNraWxsIG1hc3RlcmluZyB0aHJlc2hvbGQuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNraWxsVmFsdWUgPCBza2lsbE1hc3RlcmluZ1RocmVzaG9sZCAmJlxuICAgICAgICAgICAgICBza2lsbFZhbHVlICsgYXVnbWVudERpZS50b3RhbCA+PSBza2lsbE1hc3RlcmluZ1RocmVzaG9sZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1Z21lbnRTQU5EaWUgPSBhd2FpdCBuZXcgRGllKHtcbiAgICAgICAgICAgICAgICBmYWNlczogNixcbiAgICAgICAgICAgICAgICBudW1iZXI6IDJcbiAgICAgICAgICAgICAgfSkuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICAgICBjb25zdCBzYW5HYWluZWQgPSBhdWdtZW50U0FORGllLnRvdGFsXG4gICAgICAgICAgICAgIGNvbnN0IHNhbkdhaW5lZE1lc3NhZ2UgPSBgR2FpbmVkIDJkNiAoJHthdWdtZW50U0FORGllLnZhbHVlc1swXX0gKyAke2F1Z21lbnRTQU5EaWUudmFsdWVzWzFdfSA9ICR7c2FuR2FpbmVkfSkgU0FOYFxuICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKHNhbkdhaW5lZE1lc3NhZ2UpXG4gICAgICAgICAgICAgIHNraWxsTWFzdGVyaW5nTWVzc2FnZSA9IGA8c3BhbiBjbGFzcz1cInVwZ3JhZGUtc3VjY2Vzc1wiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAnQ29DNy5TYW5HYWluZWQnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IGAke2F1Z21lbnRTQU5EaWUudmFsdWVzWzBdfSArICR7YXVnbWVudFNBTkRpZS52YWx1ZXNbMV19YCxcbiAgICAgICAgICAgICAgICAgIHNhbkdhaW5lZCxcbiAgICAgICAgICAgICAgICAgIHNraWxsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICBza2lsbFZhbHVlOiBza2lsbFZhbHVlICsgYXVnbWVudERpZS50b3RhbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKX08L3NwYW4+PGJyPmBcbiAgICAgICAgICAgICAgLy8gU2V0IHNhbiBjb250cm9scyB0aGF0IGl0IGRvZXNuJ3QgYXVnbWVudCBiZXlvbmQgc2FuTWF4XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0U2FuKHRoaXMuc2FuICsgc2FuR2FpbmVkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXVnbWVudCArPSBhdWdtZW50RGllLnRvdGFsXG4gICAgICAgICAgICBtZXNzYWdlICs9IGA8c3BhbiBjbGFzcz1cInVwZ3JhZGUtc3VjY2Vzc1wiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgJ0NvQzcuRGV2U3VjY2VzcycsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgZGllOiBkaWUudG90YWwsXG4gICAgICAgICAgICAgICAgc2NvcmU6IGl0ZW0udmFsdWUsXG4gICAgICAgICAgICAgICAgYXVnbWVudDogYXVnbWVudERpZS50b3RhbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApfTwvc3Bhbj48YnI+YFxuICAgICAgICAgICAgaWYgKHNraWxsTWFzdGVyaW5nTWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBtZXNzYWdlICs9IHNraWxsTWFzdGVyaW5nTWVzc2FnZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgaXRlbS5pbmNyZWFzZUV4cGVyaWVuY2UoYXVnbWVudClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgPHNwYW4gY2xhc3M9XCJ1cGdyYWRlLWZhaWxlZFwiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgJ0NvQzcuRGV2RmFpbHVyZScsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgZGllOiBkaWUudG90YWwsXG4gICAgICAgICAgICAgICAgc2NvcmU6IGl0ZW0udmFsdWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKX08L3NwYW4+PGJyPmBcbiAgICAgICAgICAgIGZhaWx1cmUucHVzaChpdGVtLmlkKVxuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBpdGVtLnVuZmxhZ0ZvckRldmVsb3BlbWVudCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9IFtdXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZVxuICAgIGZvciAoY29uc3Qgc2FuaXR5TG9zc0V2ZW50IG9mIHRoaXMuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMpIHtcbiAgICAgIGlmIChzYW5pdHlMb3NzRXZlbnQuaW1tdW5pdHkpIHtcbiAgICAgICAgc2FuaXR5TG9zc0V2ZW50cy5wdXNoKHNhbml0eUxvc3NFdmVudClcbiAgICAgIH0gZWxzZSBpZiAoc2FuaXR5TG9zc0V2ZW50LnRvdGFsTG9zcyA+IDEpIHtcbiAgICAgICAgc2FuaXR5TG9zc0V2ZW50LnRvdGFsTG9zcy0tXG4gICAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaChzYW5pdHlMb3NzRXZlbnQpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgaWYgKHNraWxsc1JvbGxlZCkge1xuICAgICAgICBtZXNzYWdlICs9ICc8YnI+J1xuICAgICAgfVxuICAgICAgbWVzc2FnZSArPSBgPHNwYW4+JHtnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlZHVjZVNhbml0eUxpbWl0cycpfTwvc3Bhbj5gXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHNcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghZmFzdEZvcndhcmQpIHtcbiAgICAgIG1lc3NhZ2UgKz0gJzwvcD4nXG4gICAgICBjb25zdCBzcGVha2VyID0geyBhY3RvcjogdGhpcyB9XG4gICAgICBhd2FpdCBjaGF0SGVscGVyLmNyZWF0ZU1lc3NhZ2Uoc2tpbGxzUm9sbGVkID8gdGl0bGUgOiAnJywgbWVzc2FnZSwge1xuICAgICAgICBzcGVha2VyXG4gICAgICB9KVxuICAgICAgdGhpcy5vbmx5UnVuT25jZVBlclNlc3Npb24gPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB7IGZhaWx1cmUsIHN1Y2Nlc3MgfVxuICB9XG5cbiAgYXN5bmMgZGV2ZWxvcEx1Y2sgKGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBjb25zdCBjdXJyZW50THVjayA9IHRoaXMuc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlXG4gICAgaWYgKCFjdXJyZW50THVjaykgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlJzogMCB9KVxuICAgIGNvbnN0IHB1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjayA9IGdhbWUuc2V0dGluZ3MuZ2V0KFxuICAgICAgJ0NvQzcnLFxuICAgICAgJ3B1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjaydcbiAgICApXG4gICAgY29uc3QgdXBncmFkZVJvbGwgPSAoYXdhaXQgbmV3IFJvbGwoJzFEMTAwJykucm9sbCh7IGFzeW5jOiB0cnVlIH0pKS50b3RhbFxuICAgIGNvbnN0IGhpZ2hlclRoYW5DdXJyZW50THVjayA9IHVwZ3JhZGVSb2xsID4gY3VycmVudEx1Y2tcbiAgICBsZXQgYXVnbWVudFJvbGxcbiAgICBpZiAocHVscFJ1bGVEZXZlbG9wbWVudFJvbGxMdWNrKSB7XG4gICAgICBoaWdoZXJUaGFuQ3VycmVudEx1Y2tcbiAgICAgICAgPyAoYXVnbWVudFJvbGwgPSAnMkQxMCsxMCcpXG4gICAgICAgIDogKGF1Z21lbnRSb2xsID0gJzFEMTArNScpXG4gICAgfSBlbHNlIGlmIChoaWdoZXJUaGFuQ3VycmVudEx1Y2spIHtcbiAgICAgIGF1Z21lbnRSb2xsID0gJzFEMTAnXG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxMdWNrNERldicpXG4gICAgbGV0IG1lc3NhZ2UgPSAnPHAgY2xhc3M9XCJjaGF0LWNhcmRcIj4nXG4gICAgaWYgKHB1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjayB8fCBoaWdoZXJUaGFuQ3VycmVudEx1Y2spIHtcbiAgICAgIGNvbnN0IGF1Z21lbnRWYWx1ZSA9IChhd2FpdCBuZXcgUm9sbChhdWdtZW50Um9sbCkucm9sbCh7IGFzeW5jOiB0cnVlIH0pKVxuICAgICAgICAudG90YWxcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLmxjay52YWx1ZSc6XG4gICAgICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5sY2sudmFsdWUgKyBhdWdtZW50VmFsdWVcbiAgICAgIH0pXG4gICAgICBtZXNzYWdlICs9IGA8c3BhbiBjbGFzcz1cInVwZ3JhZGUtc3VjY2Vzc1wiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgJ0NvQzcuTHVja0luY3JlYXNlZCcsXG4gICAgICAgIHtcbiAgICAgICAgICBkaWU6IHVwZ3JhZGVSb2xsLFxuICAgICAgICAgIHNjb3JlOiBjdXJyZW50THVjayxcbiAgICAgICAgICBhdWdtZW50OiBhdWdtZW50VmFsdWVcbiAgICAgICAgfVxuICAgICAgKX08L3NwYW4+YFxuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlICs9IGA8c3BhbiBjbGFzcz1cInVwZ3JhZGUtZmFpbGVkXCI+JHtnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAnQ29DNy5MdWNrTm90SW5jcmVhc2VkJyxcbiAgICAgICAgeyBkaWU6IHVwZ3JhZGVSb2xsLCBzY29yZTogY3VycmVudEx1Y2sgfVxuICAgICAgKX08L3NwYW4+YFxuICAgIH1cbiAgICBpZiAoIWZhc3RGb3J3YXJkKSB7XG4gICAgICBtZXNzYWdlICs9ICc8L3A+J1xuICAgICAgY29uc3Qgc3BlYWtlciA9IHsgYWN0b3I6IHRoaXMgfVxuICAgICAgYXdhaXQgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKHRpdGxlLCBtZXNzYWdlLCB7IHNwZWFrZXIgfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZXZlbG9wU2tpbGwgKHNraWxsSWQsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBjb25zdCBza2lsbCA9IHRoaXMuaXRlbXMuZ2V0KHNraWxsSWQpXG4gICAgaWYgKCFza2lsbCkgcmV0dXJuXG4gICAgbGV0IHRpdGxlID0gJydcbiAgICBsZXQgbWVzc2FnZSA9ICcnXG4gICAgY29uc3QgdXBncmFkZVJvbGwgPSBuZXcgUm9sbCgnMUQxMDAnKVxuICAgIGF3YWl0IHVwZ3JhZGVSb2xsLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgIGlmICghZmFzdEZvcndhcmQpIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKHVwZ3JhZGVSb2xsKVxuICAgIGlmICh1cGdyYWRlUm9sbC50b3RhbCA+IHNraWxsLnZhbHVlIHx8IHVwZ3JhZGVSb2xsLnRvdGFsID49IDk1KSB7XG4gICAgICBjb25zdCBhdWdtZW50Um9sbCA9IG5ldyBSb2xsKCcxRDEwJylcbiAgICAgIGF3YWl0IGF1Z21lbnRSb2xsLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgaWYgKCFmYXN0Rm9yd2FyZCkgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2QoYXVnbWVudFJvbGwpXG4gICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EZXZTdWNjZXNzRGV0YWlscycsIHtcbiAgICAgICAgaXRlbTogc2tpbGwubmFtZSxcbiAgICAgICAgYXVnbWVudDogYXVnbWVudFJvbGwudG90YWxcbiAgICAgIH0pXG4gICAgICB0aXRsZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGV2Um9sbFRpdGxlJywge1xuICAgICAgICBpdGVtOiBza2lsbC5uYW1lLFxuICAgICAgICBkaWU6IHVwZ3JhZGVSb2xsLnRvdGFsLFxuICAgICAgICBzY29yZTogc2tpbGwudmFsdWVcbiAgICAgIH0pXG4gICAgICBhd2FpdCBza2lsbC5pbmNyZWFzZUV4cGVyaWVuY2UoYXVnbWVudFJvbGwudG90YWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EZXZSb2xsVGl0bGUnLCB7XG4gICAgICAgIGl0ZW06IHNraWxsLm5hbWUsXG4gICAgICAgIGRpZTogdXBncmFkZVJvbGwudG90YWwsXG4gICAgICAgIHNjb3JlOiBza2lsbC52YWx1ZVxuICAgICAgfSlcbiAgICAgIG1lc3NhZ2UgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRldkZhaWx1cmVEZXRhaWxzJywge1xuICAgICAgICBpdGVtOiBza2lsbC5uYW1lXG4gICAgICB9KVxuICAgIH1cbiAgICBjb25zdCBzcGVha2VyID0geyBhY3RvcjogdGhpcy5faWQgfVxuICAgIGF3YWl0IGNoYXRIZWxwZXIuY3JlYXRlTWVzc2FnZSh0aXRsZSwgbWVzc2FnZSwgeyBzcGVha2VyIH0pXG4gICAgYXdhaXQgc2tpbGwudW5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgfVxuXG4gIGhhc0NvbmRpdGlvblN0YXR1cyAoY29uZGl0aW9uTmFtZSkge1xuICAgIGNvbnN0IGNvbmRpdGlvblZhbHVlID0gdGhpcy5zeXN0ZW0uY29uZGl0aW9ucz8uW2NvbmRpdGlvbk5hbWVdPy52YWx1ZVxuICAgIGlmICh0eXBlb2YgY29uZGl0aW9uVmFsdWUgIT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIGZhbHNlIC8vIE5lY2Vzc2FyeSwgaW5jb3JyZWN0IHRlbXBsYXRlIGluaXRpYWxpemF0aW9uXG4gICAgfVxuICAgIHJldHVybiBjb25kaXRpb25WYWx1ZVxuICB9XG5cbiAgaGFzQ29uZGl0aW9uVmFsdWUgKGNvbmRpdGlvbk5hbWUsIGZpZWxkKSB7XG4gICAgaWYgKCF0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhjb25kaXRpb25OYW1lKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uTmFtZSA9PT0gQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUgJiYgZmllbGQgPT09ICdkdXJhdGlvblRleHQnKSB7XG4gICAgICBjb25zdCByZWFsVGltZSA9IHRoaXMuaGFzQ29uZGl0aW9uVmFsdWUoY29uZGl0aW9uTmFtZSwgJ3JlYWxUaW1lJylcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5oYXNDb25kaXRpb25WYWx1ZShjb25kaXRpb25OYW1lLCAnZHVyYXRpb24nKVxuICAgICAgaWYgKHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHJlYWxUaW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGR1cmF0aW9uICsgJyAnICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LnJvdW5kcycpXG4gICAgICAgIH0gZWxzZSBpZiAocmVhbFRpbWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGR1cmF0aW9uICsgJyAnICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LmhvdXJzJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5jb25kaXRpb25zPy5bY29uZGl0aW9uTmFtZV0/LltmaWVsZF1cbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZUNvbmRpdGlvbiAoY29uZGl0aW9uTmFtZSkge1xuICAgIGNvbnN0IGNvbmRpdGlvblZhbHVlID0gdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoY29uZGl0aW9uTmFtZSlcbiAgICBpZiAoIWNvbmRpdGlvblZhbHVlKSB7XG4gICAgICBhd2FpdCB0aGlzLnNldENvbmRpdGlvbihjb25kaXRpb25OYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLnVuc2V0Q29uZGl0aW9uKGNvbmRpdGlvbk5hbWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0Q29uZGl0aW9uIChcbiAgICBjb25kaXRpb25OYW1lLFxuICAgIHtcbiAgICAgIGZvcmNlVmFsdWUgPSBmYWxzZSxcbiAgICAgIGp1c3RUaGlzID0gZmFsc2UsXG4gICAgICByZWFsVGltZSA9IG51bGwsXG4gICAgICBkdXJhdGlvbiA9IG51bGxcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgaWYgKCFmb3JjZVZhbHVlICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2VuYWJsZVN0YXR1c0ljb25zJykpIHtcbiAgICAgIGNvbnN0IGVmZmVjdHMgPSB0aGlzLmVmZmVjdHNcbiAgICAgICAgLmZpbHRlcihlZmZlY3QgPT4gZWZmZWN0LmZsYWdzLmNvcmU/LnN0YXR1c0lkID09PSBjb25kaXRpb25OYW1lKVxuICAgICAgICAubWFwKGVmZmVjdCA9PiBlZmZlY3QuaWQpXG4gICAgICBjb25zdCBjdXN0b20gPSB7fVxuICAgICAgc3dpdGNoIChjb25kaXRpb25OYW1lKSB7XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZGVhZDpcbiAgICAgICAgICBjdXN0b20uZmxhZ3MgPSB7XG4gICAgICAgICAgICBjb3JlOiB7XG4gICAgICAgICAgICAgIG92ZXJsYXk6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy50ZW1wb0luc2FuZTpcbiAgICAgICAgICBjdXN0b20uZmxhZ3MgPSB7XG4gICAgICAgICAgICBDb0M3OiB7XG4gICAgICAgICAgICAgIHJlYWxUaW1lOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY3VzdG9tLmR1cmF0aW9uID0ge1xuICAgICAgICAgICAgcm91bmRzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZWNvbmRzOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlYWxUaW1lID09PSB0cnVlIHx8IHJlYWxUaW1lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY3VzdG9tLmZsYWdzLkNvQzcucmVhbFRpbWUgPSByZWFsVGltZVxuICAgICAgICAgICAgY3VzdG9tLmZsYWdzID0ge1xuICAgICAgICAgICAgICBDb0M3OiB7XG4gICAgICAgICAgICAgICAgcmVhbFRpbWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uICE9PSBudWxsICYmIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgaWYgKHJlYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tLmR1cmF0aW9uLnJvdW5kcyA9IGR1cmF0aW9uXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tLmR1cmF0aW9uLnNlY29uZHMgPSBkdXJhdGlvbiAqIDM2MDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgaWYgKGVmZmVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IENPTkZJRy5zdGF0dXNFZmZlY3RzLmZpbHRlcihcbiAgICAgICAgICBlZmZlY3QgPT4gZWZmZWN0LmlkID09PSBjb25kaXRpb25OYW1lXG4gICAgICAgIClcbiAgICAgICAgaWYgKGVmZmVjdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBlZmZlY3REYXRhID0gbWVyZ2VPYmplY3QoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoZWZmZWN0WzBdLmxhYmVsKSxcbiAgICAgICAgICAgICAgaWNvbjogZWZmZWN0WzBdLmljb24sXG4gICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgY29yZToge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQ6IGVmZmVjdFswXS5pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VzdG9tXG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IHN1cGVyLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdBY3RpdmVFZmZlY3QnLCBbZWZmZWN0RGF0YV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBkb2Vzbid0IGV4aXN0IGluIEZvdW5kcnlWVFQgQWN0aXZlRWZmZWN0cz9cbiAgICAgICAgICBmb3JjZVZhbHVlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXN0b20uX2lkID0gZWZmZWN0c1swXVxuICAgICAgICBhd2FpdCBzdXBlci51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgW2N1c3RvbV0pXG4gICAgICAgIGZvcmNlVmFsdWUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmb3JjZVZhbHVlIHx8ICFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdlbmFibGVTdGF0dXNJY29ucycpKSB7XG4gICAgICBzd2l0Y2ggKGNvbmRpdGlvbk5hbWUpIHtcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5pbmRlZkluc2FuZTpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy51bmNvbnNjaW91czpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kczpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5keWluZzpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5wcm9uZTpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5kZWFkOlxuICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgIFtgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS52YWx1ZWBdOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHt9XG4gICAgICAgICAgICBmaWVsZHNbYHN5c3RlbS5jb25kaXRpb25zLiR7Y29uZGl0aW9uTmFtZX0udmFsdWVgXSA9IHRydWVcbiAgICAgICAgICAgIGlmIChyZWFsVGltZSA9PT0gdHJ1ZSB8fCByZWFsVGltZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgZmllbGRzW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9LnJlYWxUaW1lYF0gPSByZWFsVGltZVxuICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gIT09IG51bGwgJiYgdHlwZW9mIGR1cmF0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGZpZWxkc1tgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS5kdXJhdGlvbmBdID0gZHVyYXRpb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICBgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS5yZWFsVGltZWBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGZpZWxkc1tgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS4tPXJlYWxUaW1lYF0gPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgICAgIGBzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9LmR1cmF0aW9uYFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZmllbGRzW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9Li09ZHVyYXRpb25gXSA9IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKGZpZWxkcylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmICghanVzdFRoaXMpIHtcbiAgICAgICAgLy8gRG9lcyBzZXR0aW5nIHRoZSBjb25kaXRpb24gYWxzbyB0cmlnZ2VyIG90aGVyIGFjdGlvbnM/XG4gICAgICAgIC8vIC0gSWYgQWN0aXZlRWZmZWN0cyBhcmUgYWRkZWQgaGFzQ29uZGl0aW9uU3RhdHVzIGZvciByZWNlbnRseSBhZGRlZCBjb25kaXRpb25zIG1heSByZXR1cm4gaW5jb3JyZWN0bHlcbiAgICAgICAgc3dpdGNoIChjb25kaXRpb25OYW1lKSB7XG4gICAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kczpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLnByb25lKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpICYmXG4gICAgICAgICAgICAgICF0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy5kZWFkKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbkNoZWNrID0gbmV3IENvQzdDb25DaGVjayhcbiAgICAgICAgICAgICAgICB0aGlzLmlzVG9rZW4gPyB0aGlzLnRva2VuS2V5IDogdGhpcy5pZFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGNvbkNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZGVhZDpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudW5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHMpXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmR5aW5nKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy51bnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy51bmNvbnNjaW91cylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyB1bnNldENvbmRpdGlvbiAoY29uZGl0aW9uTmFtZSwgeyBmb3JjZVZhbHVlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKCFmb3JjZVZhbHVlICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2VuYWJsZVN0YXR1c0ljb25zJykpIHtcbiAgICAgIGNvbnN0IGVmZmVjdHMgPSB0aGlzLmVmZmVjdHNcbiAgICAgICAgLmZpbHRlcihlZmZlY3QgPT4gZWZmZWN0LmZsYWdzLmNvcmU/LnN0YXR1c0lkID09PSBjb25kaXRpb25OYW1lKVxuICAgICAgICAubWFwKGVmZmVjdCA9PiBlZmZlY3QuaWQpXG4gICAgICBpZiAoZWZmZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmRlbGV0ZUVtYmVkZGVkRG9jdW1lbnRzKCdBY3RpdmVFZmZlY3QnLCBlZmZlY3RzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yY2VWYWx1ZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZvcmNlVmFsdWUgfHwgIWdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2VuYWJsZVN0YXR1c0ljb25zJykpIHtcbiAgICAgIHN3aXRjaCAoY29uZGl0aW9uTmFtZSkge1xuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmluZGVmSW5zYW5lOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLnVuY29uc2Npb3VzOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmR5aW5nOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLnByb25lOlxuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmRlYWQ6XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9Li09dmFsdWVgXTogbnVsbFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9LnZhbHVlYF06IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE8gOiBjaGVjayBpZiBldmVyIHVzZWRcbiAgYXN5bmMgcmVzZXRDb3VudGVyIChjb3VudGVyKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyBbY291bnRlcl06IDAgfSlcbiAgfVxuXG4gIGFzeW5jIHJlc2V0RGFpbHlTYW5pdHkgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICdzeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCc6IE1hdGguZmxvb3IoXG4gICAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlIC8gNVxuICAgICAgKSxcbiAgICAgICdzeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzJzogMFxuICAgIH0pXG4gIH1cblxuICBnZXQgZmlnaHRpbmdTa2lsbHMgKCkge1xuICAgIGNvbnN0IHNraWxsTGlzdCA9IFtdXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBpZiAodmFsdWUudHlwZSA9PT0gJ3NraWxsJyAmJiB2YWx1ZS5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZykge1xuICAgICAgICBza2lsbExpc3QucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBza2lsbExpc3Quc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICByZXR1cm4gc2tpbGxMaXN0XG4gIH1cblxuICBnZXQgY2xvc2VDb21iYXRXZWFwb25zICgpIHtcbiAgICBjb25zdCB3ZWFwb25MaXN0ID0gW11cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSAnd2VhcG9uJyAmJiAhdmFsdWUuc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuaXRlbXMuZ2V0KHZhbHVlLnN5c3RlbS5za2lsbC5tYWluLmlkKVxuICAgICAgICB2YWx1ZS5zeXN0ZW0uc2tpbGwubWFpbi52YWx1ZSA9IHNraWxsID8gc2tpbGwudmFsdWUgOiAwXG4gICAgICAgIHdlYXBvbkxpc3QucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3ZWFwb25MaXN0LnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgcmV0dXJuIHdlYXBvbkxpc3RcbiAgfVxuXG4gIGdldCBmaXJlYXJtU2tpbGxzICgpIHtcbiAgICBjb25zdCBza2lsbExpc3QgPSBbXVxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKHZhbHVlLnR5cGUgPT09ICdza2lsbCcgJiYgdmFsdWUuc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSkge1xuICAgICAgICBza2lsbExpc3QucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBza2lsbExpc3Quc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICByZXR1cm4gc2tpbGxMaXN0XG4gIH1cblxuICBnZXQgdXNlciAoKSB7XG4gICAgLy8gaXMgdGhhdCBhY3RvciBpbXBlcnNvbmFudGVkIGJ5IGEgdXNlciA/XG4gICAgcmV0dXJuIGdhbWUudXNlcnMuZmluZCh1c2VyID0+IHtcbiAgICAgIGlmICh1c2VyLmNoYXJhY3Rlcikge1xuICAgICAgICBpZiAodXNlci5jaGFyYWN0ZXIuaWQgPT09IHRoaXMuaWQpIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgZ2V0IGRvZGdlU2tpbGwgKCkge1xuICAgIGNvbnN0IHNraWxsID0gdGhpcy5nZXRGaXJzdFNraWxsQnlDb0NJRCgnaS5za2lsbC5kb2RnZScpXG4gICAgaWYgKHNraWxsKSB7XG4gICAgICByZXR1cm4gc2tpbGxcbiAgICB9XG4gICAgY29uc3Qgc2tpbGxMaXN0ID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUoXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29DSURGbGFnLmtleXMuaS5za2lsbC5kb2RnZScpXG4gICAgKVxuICAgIGlmIChza2lsbExpc3QubGVuZ3RoICE9PSAwKSByZXR1cm4gc2tpbGxMaXN0WzBdXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBjcmVkaXRSYXRpbmdTa2lsbCAoKSB7XG4gICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldEZpcnN0U2tpbGxCeUNvQ0lEKCdpLnNraWxsLmNyZWRpdC1yYXRpbmcnKVxuICAgIGlmIChza2lsbCkge1xuICAgICAgcmV0dXJuIHNraWxsXG4gICAgfVxuICAgIGNvbnN0IHNraWxsTGlzdCA9IHRoaXMuZ2V0U2tpbGxzQnlOYW1lKFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvQ0lERmxhZy5rZXlzLmkuc2tpbGwuY3JlZGl0LXJhdGluZycpXG4gICAgKVxuICAgIGlmIChza2lsbExpc3QubGVuZ3RoICE9PSAwKSByZXR1cm4gc2tpbGxMaXN0WzBdXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBjdGh1bGh1TXl0aG9zU2tpbGwgKCkge1xuICAgIGNvbnN0IHNraWxsID0gdGhpcy5nZXRGaXJzdFNraWxsQnlDb0NJRCgnaS5za2lsbC5jdGh1bGh1LW15dGhvcycpXG4gICAgaWYgKHNraWxsKSB7XG4gICAgICByZXR1cm4gc2tpbGxcbiAgICB9XG4gICAgY29uc3Qgc2tpbGxMaXN0ID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUoXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29DSURGbGFnLmtleXMuaS5za2lsbC5jdGh1bGh1LW15dGhvcycpXG4gICAgKVxuICAgIGlmIChza2lsbExpc3QubGVuZ3RoICE9PSAwKSByZXR1cm4gc2tpbGxMaXN0WzBdXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBjdGh1bGh1TXl0aG9zICgpIHtcbiAgICBjb25zdCBDTSA9IHRoaXMuY3RodWxodU15dGhvc1NraWxsXG4gICAgaWYgKENNKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IENNLnZhbHVlXG4gICAgICBpZiAodmFsdWUpIHJldHVybiB2YWx1ZVxuICAgICAgcmV0dXJuIHBhcnNlSW50KENNLnN5c3RlbS52YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGdldCBteXRob3NIYXJkZW5lZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RmxhZygnQ29DNycsICdteXRob3NIYXJkZW5lZCcpIHx8IGZhbHNlXG4gIH1cblxuICBhc3luYyBzZXRNeXRob3NIYXJkZW5lZCAoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRGbGFnKCdDb0M3JywgJ215dGhvc0hhcmRlbmVkJywgdHJ1ZSlcbiAgfVxuXG4gIGdldCBteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRGbGFnKCdDb0M3JywgJ215dGhvc0luc2FuaXR5RXhwZXJpZW5jZWQnKSB8fCBmYWxzZVxuICB9XG5cbiAgYXN5bmMgZXhwZXJpZW5jZUZpcnN0TXl0aG9zSW5zYW5pdHkgKCkge1xuICAgIGF3YWl0IHRoaXMuc2V0RmxhZygnQ29DNycsICdteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkJywgdHJ1ZSlcbiAgfVxuXG4gIGdldCBjcmVkaXRSYXRpbmcgKCkge1xuICAgIGNvbnN0IENSID0gdGhpcy5jcmVkaXRSYXRpbmdTa2lsbFxuICAgIGlmIChDUikge1xuICAgICAgY29uc3QgdmFsdWUgPSBDUi52YWx1ZVxuICAgICAgaWYgKHZhbHVlKSByZXR1cm4gdmFsdWVcbiAgICAgIHJldHVybiBwYXJzZUludChDUi5zeXN0ZW0udmFsdWUpXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBzdGF0aWMgbW9uZXRhcnlGb3JtYXQgKGZvcm1hdCwgc3ltYm9sLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICBjYXNlIENPQzcubW9uZXRhcnlGb3JtYXRLZXlzLmxzZDpcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodmFsdWUgLyAyNDApICsgJy8nICsgKE1hdGguZmxvb3IodmFsdWUgLyAxMikgJSAyMCkgKyAnLycgKyAodmFsdWUgJSAxMilcbiAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMucm9tYW46XG4gICAgICAgIHJldHVybiAoTWF0aC5mbG9vcih2YWx1ZSAvIDQwMCkpICsgJy8nICsgKE1hdGguZmxvb3IodmFsdWUgLyAxNikgJSAyNSkgKyAnLycgKyAoTWF0aC5mbG9vcih2YWx1ZSAvIDgpICUgMikgKyAnLycgKyAoTWF0aC5mbG9vcih2YWx1ZSAvIDQpICUgMikgKyAnLycgKyAodmFsdWUgJSA0KVxuICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cy5kZWNpbWFsTGVmdDpcbiAgICAgICAgcmV0dXJuIHN5bWJvbCArIE51bWJlcih2YWx1ZSkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiB9KS5yZXBsYWNlKC9cXC4wMCQvLCAnJylcbiAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMuZGVjaW1hbFJpZ2h0OlxuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pLnJlcGxhY2UoL1xcLjAwJC8sICcnKSArICcgJyArIHN5bWJvbFxuICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cy5pbnRlZ2VyTGVmdDpcbiAgICAgICAgcmV0dXJuIHN5bWJvbCArIE51bWJlcih2YWx1ZSkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cy5pbnRlZ2VyUmlnaHQ6XG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpLnRvTG9jYWxlU3RyaW5nKCkgKyAnICcgKyBzeW1ib2xcbiAgICB9XG4gICAgcmV0dXJuICcwJ1xuICB9XG5cbiAgc3RhdGljIG1vbmV0YXJ5VmFsdWUgKGZvcm1hdCwgdmFsdWVzLCBDUiwgdHlwZSwgdmFsdWUpIHtcbiAgICBDUiA9IENSIHx8IDBcbiAgICBjb25zdCByb3cgPSB2YWx1ZXMuZmluZChyID0+ICh0eXBlb2Ygci5taW4gPT09ICdvYmplY3QnIHx8IHIubWluIDw9IENSKSAmJiAodHlwZW9mIHIubWF4ID09PSAnb2JqZWN0JyB8fCByLm1heCA+PSBDUikpXG4gICAgaWYgKHR5cGVvZiByb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiByb3dbdHlwZV0gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiByb3dbdmFsdWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cy5sc2Q6XG4gICAgICAgICAgc3dpdGNoIChyb3dbdHlwZV0pIHtcbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLm11bHRpcGxpZXI6XG4gICAgICAgICAgICAgIHJldHVybiAyNDAgKiBDUiAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnZhbHVlOlxuICAgICAgICAgICAgICByZXR1cm4gMjQwICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMuczpcbiAgICAgICAgICAgICAgcmV0dXJuIDEyICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMuZDpcbiAgICAgICAgICAgICAgcmV0dXJuIDEgKiByb3dbdmFsdWVdXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMucm9tYW46XG4gICAgICAgICAgc3dpdGNoIChyb3dbdHlwZV0pIHtcbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLm11bHRpcGxpZXI6XG4gICAgICAgICAgICAgIHJldHVybiA0MDAgKiBDUiAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnZhbHVlOlxuICAgICAgICAgICAgICByZXR1cm4gNDAwICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMuZGVuYXJpaTpcbiAgICAgICAgICAgICAgcmV0dXJuIDE2ICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMucXVpbmFyaWk6XG4gICAgICAgICAgICAgIHJldHVybiA4ICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMuc2VzdGVydGlpOlxuICAgICAgICAgICAgICByZXR1cm4gNCAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLmFzc2VzOlxuICAgICAgICAgICAgICByZXR1cm4gMSAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzd2l0Y2ggKHJvd1t0eXBlXSkge1xuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMubXVsdGlwbGllcjpcbiAgICAgICAgICAgICAgcmV0dXJuIENSICogcm93W3ZhbHVlXVxuICAgICAgICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5VHlwZUtleXMudmFsdWU6XG4gICAgICAgICAgICAgIHJldHVybiAxICogcm93W3ZhbHVlXVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgZ2V0IHNwZW5kaW5nTGV2ZWwgKCkge1xuICAgIHJldHVybiBDb0NBY3Rvci5tb25ldGFyeVZhbHVlKHRoaXMuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCwgdGhpcy5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzLCB0aGlzLmNyZWRpdFJhdGluZywgJ3NwZW5kaW5nVHlwZScsICdzcGVuZGluZ1ZhbHVlJylcbiAgfVxuXG4gIGdldCBjYXNoICgpIHtcbiAgICByZXR1cm4gQ29DQWN0b3IubW9uZXRhcnlWYWx1ZSh0aGlzLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQsIHRoaXMuc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcywgdGhpcy5jcmVkaXRSYXRpbmcsICdjYXNoVHlwZScsICdjYXNoVmFsdWUnKVxuICB9XG5cbiAgZ2V0IGFzc2V0cyAoKSB7XG4gICAgcmV0dXJuIENvQ0FjdG9yLm1vbmV0YXJ5VmFsdWUodGhpcy5zeXN0ZW0ubW9uZXRhcnkuZm9ybWF0LCB0aGlzLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMsIHRoaXMuY3JlZGl0UmF0aW5nLCAnYXNzZXRzVHlwZScsICdhc3NldHNWYWx1ZScpXG4gIH1cblxuICBnZXQgc2tpbGxzICgpIHtcbiAgICBjb25zdCBza2lsbExpc3QgPSBbXVxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKHZhbHVlLnR5cGUgPT09ICdza2lsbCcpIHNraWxsTGlzdC5wdXNoKHZhbHVlKVxuICAgIH1cblxuICAgIHNraWxsTGlzdC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIHJldHVybiBza2lsbExpc3RcbiAgfVxuXG4gIGdldCBvd25lcnMgKCkge1xuICAgIHJldHVybiBnYW1lLnVzZXJzLmZpbHRlcihcbiAgICAgIHUgPT4gdGhpcy50ZXN0VXNlclBlcm1pc3Npb24odSwgJ09XTkVSJykgJiYgIXUuaXNHTVxuICAgIClcbiAgfVxuXG4gIGdldCBwbGF5ZXIgKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVycy5maWx0ZXIodSA9PiB1LmNoYXJhY3Rlcj8uaWQgPT09IHRoaXMuaWQpXG4gIH1cblxuICBnZXQgY2hhcmFjdGVyVXNlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGdhbWUudXNlcnMuY29udGVudHMuZmlsdGVyKHUgPT4gdS5jaGFyYWN0ZXI/LmlkID09PSB0aGlzLmlkKVswXSB8fCBudWxsXG4gICAgKVxuICB9XG5cbiAgYXN5bmMgc2V0SHAgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXG4gICAgaWYgKHZhbHVlID4gdGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXhcbiAgICB9XG4gICAgY29uc3QgaGVhbHRoQmVmb3JlID0gdGhpcy5ocFxuICAgIGxldCBkYW1hZ2VUYWtlblxuICAgIC8vIGlzIGhlYWxpbmdcbiAgICBpZiAoaXNOYU4oaGVhbHRoQmVmb3JlKSB8fCB2YWx1ZSA+PSBoZWFsdGhCZWZvcmUpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3NldEhwKHZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBkYW1hZ2VUYWtlbiA9IGhlYWx0aEJlZm9yZSAtIHZhbHVlXG4gICAgICBhd2FpdCB0aGlzLmRlYWxEYW1hZ2UoZGFtYWdlVGFrZW4sIHsgaWdub3JlQXJtb3I6IHRydWUgfSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBhc3luYyBkZWFsRGFtYWdlIChhbW91bnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFRPRE86IENoYW5nZSBvcHRpb25zIHRvIGxpc3Qgb2YgdmFsdWVzXG4gICAgY29uc3QgYXJtb3JEYXRhID0gb3B0aW9ucy5hcm1vclxuICAgICAgPyBvcHRpb25zLmFybW9yXG4gICAgICA6IHRoaXMuc3lzdGVtLmF0dHJpYnMuYXJtb3IgLy8gaWYgdGhlcmUgYXJtb3IgdmFsdWUgcGFzc2VkIHdlIHVzZSBpdFxuICAgIGNvbnN0IGdyb3NzRGFtYWdlID0gcGFyc2VJbnQoYW1vdW50KVxuICAgIGxldCBhcm1vclZhbHVlID0gMFxuICAgIGlmICghb3B0aW9ucy5pZ25vcmVBcm1vcikge1xuICAgICAgaWYgKGFybW9yRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBub3BcbiAgICAgIH0gZWxzZSBpZiAoQ29DN1V0aWxpdGllcy5pc0Zvcm11bGEoYXJtb3JEYXRhKSkge1xuICAgICAgICBhcm1vclZhbHVlID0gKGF3YWl0IG5ldyBSb2xsKGFybW9yRGF0YSkucm9sbCh7IGFzeW5jOiB0cnVlIH0pKS50b3RhbFxuICAgICAgfSBlbHNlIGlmICghaXNOYU4oTnVtYmVyKGFybW9yRGF0YSkpKSB7XG4gICAgICAgIGFybW9yVmFsdWUgPSBOdW1iZXIoYXJtb3JEYXRhKVxuICAgICAgfSBlbHNlIGlmICghaXNOYU4oTnVtYmVyKGFybW9yRGF0YT8udmFsdWUpKSkge1xuICAgICAgICBhcm1vclZhbHVlID0gTnVtYmVyKGFybW9yRGF0YS52YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yVW5hYmxlVG9QYXJzZUFybW9yRm9ybXVsYScsIHtcbiAgICAgICAgICAgIHZhbHVlOiBhcm1vckRhdGFcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5ldERhbWFnZSA9IGdyb3NzRGFtYWdlIC0gYXJtb3JWYWx1ZVxuICAgIGlmIChuZXREYW1hZ2UgPD0gMCkgcmV0dXJuIDBcbiAgICBhd2FpdCB0aGlzLl9zZXRIcCh0aGlzLmhwIC0gbmV0RGFtYWdlKVxuICAgIGlmIChuZXREYW1hZ2UgPj0gdGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmRlYWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUlnbm9yZU1ham9yV291bmRzJykpIHtcbiAgICAgICAgaWYgKHRoaXMuaHAgPT09IDApIHtcbiAgICAgICAgICBpZiAobmV0RGFtYWdlID49IE1hdGguY2VpbCh0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLm1heCAvIDIpKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5keWluZylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ldERhbWFnZSA+PSBNYXRoLmNlaWwodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXggLyAyKSkge1xuICAgICAgICAgIGNvbnN0IGNvbkNoZWNrID0gbmV3IENvQzdDb25DaGVjayhcbiAgICAgICAgICAgIHRoaXMuaXNUb2tlbiA/IHRoaXMudG9rZW5LZXkgOiB0aGlzLmlkXG4gICAgICAgICAgKVxuICAgICAgICAgIGNvbkNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBoYXNNYWpvcldvdW5kID0gZmFsc2VcbiAgICAgICAgaWYgKG5ldERhbWFnZSA+PSBNYXRoLmNlaWwodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXggLyAyKSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzKVxuICAgICAgICAgIGhhc01ham9yV291bmQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFzTWFqb3JXb3VuZCA9IHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhwID09PSAwKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gICAgICAgICAgaWYgKGhhc01ham9yV291bmQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmR5aW5nKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV0RGFtYWdlXG4gIH1cblxuICBnZXQgbWFqb3JXb3VuZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzKVxuICB9XG5cbiAgZ2V0IGR5aW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMuZHlpbmcpXG4gIH1cblxuICBnZXQgdW5jb25zY2lvdXMgKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy51bmNvbnNjaW91cylcbiAgfVxuXG4gIGdldCBkZWFkICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMuZGVhZClcbiAgfVxuXG4gIGdldCBwcm9uZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLnByb25lKVxuICB9XG5cbiAgLy8gc3RhdGljIHVwZGF0ZUFjdG9yKCBhY3RvciwgZGF0YVVwZGF0ZSl7XG4gIC8vICAgaWYoIGdhbWUudXNlci5pc0dNKXtcbiAgLy8gICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggYHVwZGF0aW5nIGFjdG9yICR7YWN0b3IubmFtZX1gKTtcbiAgLy8gICAgIGNvbnN0IHByb25lID0gZGF0YVVwZGF0ZT8uZmxhZ3M/LkNvQzdbQ09DNy5zdGF0dXMucHJvbmVdO1xuICAvLyAgICAgY29uc3QgdW5jb25zY2lvdXMgPSBkYXRhVXBkYXRlPy5mbGFncz8uQ29DN1tDT0M3LnN0YXR1cy51bmNvbnNjaW91c107XG4gIC8vICAgICBjb25zdCBjcml0aWNhbFdvdW5kcyA9IGRhdGFVcGRhdGU/LmZsYWdzPy5Db0M3W0NPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzXTtcbiAgLy8gICAgIGNvbnN0IGR5aW5nID0gZGF0YVVwZGF0ZT8uZmxhZ3M/LkNvQzdbQ09DNy5zdGF0dXMuZHlpbmddO1xuICAvLyAgICAgaWYoIHByb25lKSB1aS5ub3RpZmljYXRpb25zLmluZm8oIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5mb0FjdG9yUHJvbmUnLCB7YWN0b3I6IGFjdG9yLm5hbWV9KSk7XG4gIC8vICAgICBpZiggdW5jb25zY2lvdXMpIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5JbmZvQWN0b3JVbmNvbnNjaW91cycsIHthY3RvcjogYWN0b3IubmFtZX0pKTtcbiAgLy8gICAgIGlmKCBjcml0aWNhbFdvdW5kcykgdWkubm90aWZpY2F0aW9ucy5pbmZvKCBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluZm9BY3Rvck1ham9yV291bmQnLCB7YWN0b3I6IGFjdG9yLm5hbWV9KSk7XG4gIC8vICAgICBpZiggZHlpbmcpIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5JbmZvQWN0b3JEeWluZycsIHthY3RvcjogYWN0b3IubmFtZX0pKTtcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuO1xuICAvLyB9XG5cbiAgLy8gXCJDb0M3LkluZm9BY3RvclByb25lXCI6IFwie2FjdG9yfSBmYWxsIHByb25lXCIsXG4gIC8vIFwiQ29DNy5JbmZvQWN0b3JVbmNvbnNjaW91c1wiOiBcInthY3Rvcn0gZmFsbCB1bmNvbnNjaW91c1wiLFxuICAvLyBcIkNvQzcuSW5mb0FjdG9yTWFqb3JXb3VuZFwiOiBcInthY3Rvcn0gZ2V0IGEgbWFqb3Igd291bmRcIixcbiAgLy8gXCJDb0M3LkluZm9BY3RvckR5aW5nXCI6IFwie2Fjb3J9IGlzIGR5aW5nXCIsXG4gIC8vIFwiQ29DNy5JbmZvQWN0b3JJbmp1cmllZFwiOiBcInthY3Rvcn0gaXMgaW5qdXJpZWRcIixcblxuICAvLyBzdGF0aWMgdXBkYXRlVG9rZW4oIHNjZW5lLCB0b2tlbiwgZGF0YVVwZGF0ZSl7XG4gIC8vICAgY29uc3QgaW5qdXJpZWQgPSBkYXRhVXBkYXRlPy5hY3RvckRhdGE/LmZsYWdzPy5Db0M3Py5pbmp1cmllZDtcbiAgLy8gICBpZiggaW5qdXJpZWQpIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5JbmZvQWN0b3JJbmp1cmllZCcsIHthY3RvcjogdG9rZW4ubmFtZX0pKTtcbiAgLy8gICByZXR1cm47XG4gIC8vIH1cblxuICAvLyBhc3luYyB1cGRhdGUgKGRhdGEgPSB7fSwgY29udGV4dCA9IHt9KSB7XG4gIC8vICAgY29uc29sZS5sb2coJz4+Pj4nLCBkYXRhLCBjb250ZXh0KVxuICAvLyAgIHN1cGVyLnVwZGF0ZShkYXRhLCBjb250ZXh0KVxuICAvLyB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBDaGF0TWVzc2FnZSwgQ09ORklHLCBDT05TVCwgZHVwbGljYXRlLCBnYW1lLCBtZXJnZU9iamVjdCwgdWkgKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q29udGVudExpbmtEaWFsb2cgfSBmcm9tICcuL2NvYzctY29udGVudC1saW5rLWRpYWxvZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBTYW5DaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL3Nhbi1jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIGlzQ3RybEtleSB9IGZyb20gJy4uL2NoYXQvaGVscGVyLmpzJ1xuXG4vKipcbiAqIEFsbG93IGZvciBwYXJzaW5nIG9mIENvQzcgZWxlbWVudHMgaW4gY2hhdCBtZXNzYWdlIGFuZCBzaGVldHMuXG4gKiBGb3JtYXQgaXMgOlxuICogQGNvYzcuVFlQRV9PRl9SRVFVRVNUW09QVElPTlNde0RJU1BMQVlFRF9OQU1FfVxuICogVFlQRV9PRl9SRVFVRVNUIDpcbiAqIC0gc2FubG9zczogdHJpZ2dlciBhIHNhbiBjaGVjaywgdXBvbiBmYWlsdXJlIHdpbGwgcHJvcG9zZSB0byBkZWR1Y3QgdGhlIGNvcnJlc3BvbmRpbmcgU0FOLlxuICogLSBjaGVjazogdHJpZ2dlciBhIGNoZWNrIGRlcGVuZGluZyBvbiB0aGUgb3B0aW9ucy5cbiAqIC0gaXRlbTogVHJpZ2dlciBhIHdlYXBvbiBjaGVja1xuICogLSBlZmZlY3Q6IEFkZCBhbiBlZmZlY3RcbiAqXG4gKiBPUFRJT05TOiBbXSA9IG9wdGlvbmFsXG4gKiBzYW5sb3NzOlxuICogICBzYW5NYXg6IG1heCBTQU4gbG9zc1xuICogICBzYW5NaW46IG1pbiBTQU4gbG9zc1xuICogICBzYW5SZWFzb246IFJlYXNvblxuICogY2hlY2s6XG4gKiAgIHR5cGU6IHR5cGUgb2YgY2hlY2sgKGNoYXJhY3RlcmlzdGljLCBza2lsbCwgYXR0cmliKS5cbiAqICAgbmFtZTogbmFtZSBvZiB0aGUgc2tpbGwvY2hhcmFjdGVyaXN0aWMuXG4gKiAgIFtkaWZmaWN1bHR5XTogPyAoYmxpbmQpLCAwIChyZWd1bGFyKSwgKyAoaGFyZCksICsrIChleHRyZW1lKSwgKysrIChjcml0aWNhbCkuXG4gKiAgIFttb2RpZmllcl06IC14ICh4IHBlbmFsdHkgZGljZSksICt4ICh4IGJvbnVzIGRpY2UpLCAwIChubyBtb2RpZmllcikuXG4gKiAgIFtpY29uXTogaWNvbiB0dSB1c2UgKGZvbnQgYXdzb21lKS5cbiAqICAgW2JsaW5kXTogd2lsbCB0cmlnZ2VyIGEgYmxpbmQgcm9sbC5cbiAqXG4gKiBbRElTUExBWUVEX05BTUU6IG5hbWUgdG8gZGlzcGxheS5dXG4gKlxuICogVG8gYWRkL2VkaXQgYSBuZXcgbGluayB1cGRhdGUgdGhlc2Ugc2VjdGlvbnNcbiAqICAgZnJvbURyb3BEYXRhID0+IEFkZCBhbGwgZGVmYXVsdHMgaGVyZVxuICogICBfY3JlYXRlTGluayA9PiBDcmVhdGUgSFRNTCBmcm9tIGRvY3VtZW50IGRhdGFcbiAqICAgX2NyZWF0ZURvY3VtZW50TGluayA9PiBDcmVhdGUgQGxpbmsgZnJvbSBkb2N1bWVudCBkYXRhXG4gKiAgIF9vbkxpbmtBY3RvckNsaWNrID0+IFByb2Nlc3MgbGlua1xuICovXG5leHBvcnQgY2xhc3MgQ29DN0xpbmsge1xuICBzdGF0aWMgZ2V0IENIRUNLX1RZUEUgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBDSEVDSzogJ2NoZWNrJyxcbiAgICAgIFNBTkxPU1M6ICdzYW5sb3NzJyxcbiAgICAgIElURU06ICdpdGVtJyxcbiAgICAgIEVGRkVDVDogJ2VmZmVjdCdcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IExJTktfVFlQRSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIENIQVJBQ1RFUklTVElDOiAnY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgQVRUUklCVVRFOiAnYXR0cmlidXRlJyxcbiAgICAgIFNLSUxMOiAnc2tpbGwnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGluaXQgKCkge1xuICAgIENPTkZJRy5Db0M3TGluayA9IHtcbiAgICAgIGRvY3VtZW50Q2xhc3M6IENvQzdMaW5rXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGJpbmRFdmVudHNIYW5kbGVyIChodG1sKSB7XG4gICAgaHRtbFxuICAgICAgLmZpbmQoJ2EuY29jNy1saW5rOm5vdCguaGFzY29jN2xpbmtlZCknKVxuICAgICAgLm9uKCdjbGljaycsIGV2ZW50ID0+IENvQzdMaW5rLl9vbkxpbmtDbGljayhldmVudCkpXG4gICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IENvQzdMaW5rLl9vbkRyYWdDb0M3TGluayhldmVudCkpXG4gICAgICAuYWRkQ2xhc3MoJ2hhc2NvYzdsaW5rZWQnKVxuICB9XG5cbiAgc3RhdGljIF9saW5rRnJvbUV2ZW50IChldmVudCkge1xuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgaSA9IGEucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1pY29uXScpXG4gICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZShhLmRhdGFzZXQpXG5cbiAgICBjb25zdCBvbGRUeXBlID0gZGF0YS50eXBlXG5cbiAgICBkYXRhLnR5cGUgPSAnQ29DN0xpbmsnXG4gICAgZGF0YS5pY29uID0gbnVsbFxuXG4gICAgaWYgKG9sZFR5cGUpIHtcbiAgICAgIGRhdGEubGlua1R5cGUgPSBvbGRUeXBlXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5vYmplY3QgJiZcbiAgICAgICh0eXBlb2YgZGF0YS5vYmplY3QgPT09ICdzdHJpbmcnIHx8IGRhdGEub2JqZWN0IGluc3RhbmNlb2YgU3RyaW5nKVxuICAgICkge1xuICAgICAgZGF0YS5vYmplY3QgPSBKU09OLnBhcnNlKGRhdGEub2JqZWN0KVxuICAgICAgLy8gZGF0YS5saW5rVHlwZSA9IENvQzdMaW5rLkxJTktfVFlQRS5FRkZFQ1RcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBpLmRhdGFzZXQgJiZcbiAgICAgIGkuZGF0YXNldC5saW5rSWNvbiAmJlxuICAgICAgaS5kYXRhc2V0LmxpbmtJY29uICE9PSAnZmFzIGZhLWRpY2UnXG4gICAgKSB7XG4gICAgICBkYXRhLmljb24gPSBpLmRhdGFzZXQubGlua0ljb25cbiAgICB9XG4gICAgZGF0YS5kaXNwbGF5TmFtZSA9IGEuZGF0YXNldC5kaXNwbGF5TmFtZSA/IGEuaW5uZXJUZXh0IDogbnVsbFxuICAgIGlmIChkYXRhLmRpZmZpY3VsdHkpIHtcbiAgICAgIGRhdGEuZGlmZmljdWx0eSA9IENvQzdVdGlsaXRpZXMuY29udmVydERpZmZpY3VsdHkoZGF0YS5kaWZmaWN1bHR5KVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgc3RhdGljIF9vbkRyYWdDb0M3TGluayAoZXZlbnQpIHtcbiAgICBjb25zdCBkYXRhID0gQ29DN0xpbmsuX2xpbmtGcm9tRXZlbnQoZXZlbnQpXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBvYnRhaW5pbmcgdGhlIHJlbGV2YW50IERvY3VtZW50IGZyb20gZHJvcHBlZCBkYXRhIHByb3ZpZGVkIHZpYSBhIERhdGFUcmFuc2ZlciBldmVudC5cbiAgICogVGhlIGRyb3BwZWQgZGF0YSBjb3VsZCBoYXZlOlxuICAgKiAxLiBBIGRhdGEgb2JqZWN0IGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICogQG1lbWJlcm9mIENsaWVudERvY3VtZW50TWl4aW5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgICAgICAgICAgIFRoZSBkYXRhIG9iamVjdCBleHRyYWN0ZWQgZnJvbSBhIERhdGFUcmFuc2ZlciBldmVudFxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgICAgICAgQWRkaXRpb25hbCBvcHRpb25zIHdoaWNoIGFmZmVjdCBkcm9wIGRhdGEgYmVoYXZpb3JcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSAgIFRoZSByZXNvbHZlZCBEb2N1bWVudFxuICAgKiBAdGhyb3dzIElmIGEgRG9jdW1lbnQgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBwcm92aWRlZCBkYXRhLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21Ecm9wRGF0YSAoZGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY2xzID0gbmV3IENvQzdMaW5rKClcbiAgICBjbHMub2JqZWN0ID0gbWVyZ2VPYmplY3Qoe1xuICAgICAgdHlwZTogJ0NvQzdMaW5rJyxcbiAgICAgIGNoZWNrOiBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLLFxuICAgICAgbGlua1R5cGU6IENvQzdMaW5rLkxJTktfVFlQRS5TS0lMTCxcbiAgICAgIGRpZmZpY3VsdHk6IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhcixcbiAgICAgIG1vZGlmaWVyOiAwLFxuICAgICAgb2JqZWN0OiB7XG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRWZmZWN0TmV3JyksXG4gICAgICAgIGljb246ICdpY29ucy9zdmcvYXVyYS5zdmcnLFxuICAgICAgICBjaGFuZ2VzOiBbXVxuICAgICAgfVxuICAgIH0sIGRhdGEpXG4gICAgZm9yIChjb25zdCBrZXkgb2YgWyduYW1lJywgJ2Rpc3BsYXlOYW1lJywgJ2ljb24nLCAnaWQnLCAncGFjaycsICdzYW5NaW4nLCAnc2FuTWF4JywgJ3NhblJlYXNvbiddKSB7XG4gICAgICBjbHMub2JqZWN0W2tleV0gPSBjbHMub2JqZWN0W2tleV0gPz8gJydcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbHMub2JqZWN0Lm9iamVjdC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY2xzLm9iamVjdC5vYmplY3QuZXh0ZXJuYWwgIT09ICd1bmRlZmluZWQnICYmIFsnaHR0cCcsICdodHRwcyddLmluY2x1ZGVzKGNscy5vYmplY3Qub2JqZWN0LmV4dGVybmFsKSkge1xuICAgICAgY2xzLm9iamVjdC5vYmplY3QuaWNvbiA9IGNscy5vYmplY3Qub2JqZWN0LmV4dGVybmFsICsgJzovLycgKyBjbHMub2JqZWN0Lm9iamVjdC5pY29uXG4gICAgfVxuICAgIGNscy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHJldHVybiBjbHNcbiAgfVxuXG4gIHN0YXRpYyBfY3JlYXRlTGluayAobWF0Y2gpIHtcbiAgICBjb25zdCBuYW1lID0gbWF0Y2hbNF0gPz8gdW5kZWZpbmVkXG4gICAgY29uc3Qgb3B0aW9ucyA9IG1hdGNoWzNdID8/IHVuZGVmaW5lZFxuICAgIGNvbnN0IHR5cGUgPSBtYXRjaFsyXSA/PyB1bmRlZmluZWRcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBjbHM6IFsnY29jNy1saW5rJ10sXG4gICAgICBkYXRhc2V0OiB7IGNoZWNrOiB0eXBlIH0sXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgYmxpbmQ6IGZhbHNlLFxuICAgICAgbmFtZVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgZGF0YS5lZmZlY3QgPSBKU09OLnBhcnNlKG9wdGlvbnMpXG4gICAgICBkYXRhLmRhdGFzZXQub2JqZWN0ID0gb3B0aW9uc1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLmVmZmVjdC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGF0YS5lZmZlY3QuZXh0ZXJuYWwgIT09ICd1bmRlZmluZWQnICYmIFsnaHR0cCcsICdodHRwcyddLmluY2x1ZGVzKGRhdGEuZWZmZWN0LmV4dGVybmFsKSkge1xuICAgICAgICBkYXRhLmVmZmVjdC5pY29uID0gZGF0YS5lZmZlY3QuZXh0ZXJuYWwgKyAnOi8vJyArIGRhdGEuZWZmZWN0Lmljb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IG9wdGlvbnMubWF0Y2hBbGwoL1teLF0rL2dpKVxuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBBcnJheS5mcm9tKG1hdGNoZXMpKSB7XG4gICAgICAgIGxldCBba2V5LCB2YWx1ZV0gPSBtYXRjaFswXS5zcGxpdCgnOicpXG4gICAgICAgIGlmIChrZXkgPT09ICdpY29uJykge1xuICAgICAgICAgIGRhdGEuaWNvbiA9IHZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ2JsaW5kJyAmJiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFsdWUgPSB0cnVlXG4gICAgICAgICAgZGF0YS5ibGluZCA9IHRydWUgJiYgW0NvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0tdLmluY2x1ZGVzKHR5cGUudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmRhdGFzZXRba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRhdGEuZGF0YXNldC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGF0YS5kYXRhc2V0LmV4dGVybmFsICE9PSAndW5kZWZpbmVkJyAmJiBbJ2h0dHAnLCAnaHR0cHMnXS5pbmNsdWRlcyhkYXRhLmRhdGFzZXQuZXh0ZXJuYWwpKSB7XG4gICAgICAgIGRhdGEuZGF0YXNldC5pY29uID0gZGF0YS5kYXRhc2V0LmV4dGVybmFsICsgJzovLycgKyBkYXRhLmRhdGFzZXQuaWNvblxuICAgICAgICBkYXRhLmljb24gPSBkYXRhLmRhdGFzZXQuaWNvblxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aXRsZVxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eVN0cmluZyhkYXRhLmRhdGFzZXQuZGlmZmljdWx0eSlcblxuICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0s6IHtcbiAgICAgICAgbGV0IGh1bWFuTmFtZSA9IGRhdGEuZGF0YXNldC5uYW1lXG4gICAgICAgIGlmIChbJ2F0dHJpYnV0ZXMnLCAnYXR0cmlidXRlJywgJ2F0dHJpYicsICdhdHRyaWJzJ10uaW5jbHVkZXMoZGF0YS5kYXRhc2V0LnR5cGU/LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZGF0YXNldC5uYW1lID09PSAnbGNrJykge1xuICAgICAgICAgICAgaHVtYW5OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5kYXRhc2V0Lm5hbWUgPT09ICdzYW4nKSB7XG4gICAgICAgICAgICBodW1hbk5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFsnY2hhcmFjJywgJ2NoYXInLCAnY2hhcmFjdGVyaXN0aWMnLCAnY2hhcmFjdGVyaXN0aWNzJ10uaW5jbHVkZXMoZGF0YS5kYXRhc2V0LnR5cGU/LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaHVtYW5OYW1lID0gQ29DN1V0aWxpdGllcy5nZXRDaGFyYWN0ZXJpc3RpY05hbWVzKGRhdGEuZGF0YXNldC5uYW1lKT8ubGFiZWxcbiAgICAgICAgfVxuICAgICAgICB0aXRsZSA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgYENvQzcuTGlua0NoZWNrJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IGh1bWFuTmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TUzpcbiAgICAgICAgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtTYW5Mb3NzJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIHNhbk1pbjogZGF0YS5kYXRhc2V0LnNhbk1pbixcbiAgICAgICAgICAgIHNhbk1heDogZGF0YS5kYXRhc2V0LnNhbk1heFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuSVRFTTpcbiAgICAgICAgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtJdGVtJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IGRhdGEuZGF0YXNldC5uYW1lXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5FRkZFQ1Q6XG4gICAgICAgIHRpdGxlID0gZGF0YS5lZmZlY3QubGFiZWxcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIGRhdGEubmFtZSA9IHRpdGxlXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuZGF0YXNldC5kaXNwbGF5TmFtZSA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgYS50aXRsZSA9IGdhbWUudXNlci5pc0dNID8gZGF0YS5uYW1lIDogdGl0bGVcbiAgICBhLmNsYXNzTGlzdC5hZGQoLi4uZGF0YS5jbHMpXG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5kYXRhc2V0KSkge1xuICAgICAgYS5kYXRhc2V0W2tdID0gdlxuICAgIH1cbiAgICBhLmRyYWdnYWJsZSA9IHRydWVcbiAgICBkYXRhLmljb24gPSBkYXRhLmljb24gPz8gZGF0YS5lZmZlY3Q/Lmljb24gPz8gJ2ZhcyBmYS1kaWNlJ1xuICAgIC8vIGNoZWNrIGlmIGl0J3MgYW4gaW1hZ2Ugb3IgYW4gaWNvblxuICAgIGlmIChkYXRhLmljb24uaW5jbHVkZXMoJ1xcXFwnKSB8fCBkYXRhLmljb24uaW5jbHVkZXMoJy4nKSkge1xuICAgICAgZGF0YS5pbWcgPSBkYXRhLmljb25cbiAgICB9XG4gICAgaWYgKGRhdGEuYmxpbmQpIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9ICc8aSBjbGFzcz1cImZhcyBmYS1leWUtc2xhc2hcIj48L2k+J1xuICAgIH1cbiAgICBpZiAoZGF0YS5pbWcpIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9IGA8aW1nIGRhdGEtbGluay1pY29uPVwiJHtkYXRhLmljb259XCIgc3JjPVwiJHtkYXRhLmltZ31cIj5gXG4gICAgfSBlbHNlIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9IGA8aSBkYXRhLWxpbmstaWNvbj1cIiR7ZGF0YS5pY29ufVwiIGNsYXNzPVwibGluay1pY29uICR7ZGF0YS5pY29ufVwiPjwvaT5gXG4gICAgfVxuICAgIGEuaW5uZXJIVE1MICs9IGA8c3Bhbj4ke2RhdGEubmFtZX08L3NwYW4+YFxuXG4gICAgcmV0dXJuIGFcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb250ZW50IGxpbmsgZm9yIHRoaXMgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgICAgICAgICAgICAgICAgICAgICBUaGUgcGFyc2VkIG9iamVjdCBvZiBkYXRhIHByb3ZpZGVkIGJ5IHRoZSBkcm9wIHRyYW5zZmVyIGV2ZW50LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdICAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbCBvcHRpb25zIHRvIGNvbmZpZ3VyZSBsaW5rIGdlbmVyYXRpb24uXG4gICAqIEBwYXJhbSB7Q2xpZW50RG9jdW1lbnR9IFtvcHRpb25zLnJlbGF0aXZlVG9dICBBIGRvY3VtZW50IHRvIGdlbmVyYXRlIGEgbGluayByZWxhdGl2ZSB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhYmVsXSAgICAgICAgICAgICAgIEEgY3VzdG9tIGxhYmVsIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBkb2N1bWVudCdzIG5hbWUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2NyZWF0ZURvY3VtZW50TGluayAoZXZlbnREYXRhLCB7IHJlbGF0aXZlVG8sIGxhYmVsIH0gPSB7fSkge1xuICAgIGlmICghZXZlbnREYXRhLmNoZWNrKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgc3dpdGNoIChldmVudERhdGEuY2hlY2sudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLOiB7XG4gICAgICAgIC8vIEBjb2M3LmNoZWNrW3R5cGU6Y2hhcmFjLG5hbWU6U1RSLGRpZmZpY3VsdHk6Kyxtb2RpZmllcjotMV17SGFyZCBTVFIgY2hlY2soLTEpfVxuICAgICAgICAvLyBAY29jNy5jaGVja1tibGluZCx0eXBlOmNoYXJhY3RlcmlzdGljLG5hbWU6c3RyLGRpZmZpY3VsdHk6MSxtb2RpZmllcjowLGljb246ZmEgZmEtbGlua117U3RyZW5ndGh9XG4gICAgICAgIC8vIEBjb2M3LmNoZWNrW2JsaW5kLHR5cGU6YXR0cmlidXRlLG5hbWU6bGNrLGRpZmZpY3VsdHk6MSxtb2RpZmllcjowLGljb246ZmEgZmEtbGlua117THVja31cbiAgICAgICAgLy8gQGNvYzcuY2hlY2tbYmxpbmQsdHlwZTpza2lsbCxuYW1lOkxhdyxkaWZmaWN1bHR5OjEsbW9kaWZpZXI6MCxpY29uOmZhIGZhLWxpbmtde0xhd31cbiAgICAgICAgaWYgKCFldmVudERhdGEubGlua1R5cGUgfHwgIWV2ZW50RGF0YS5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBgJHtldmVudERhdGEuYmxpbmQgPyAnYmxpbmQsJyA6ICcnfXR5cGU6JHtldmVudERhdGEubGlua1R5cGV9LG5hbWU6JHtldmVudERhdGEubmFtZX1gXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnREYXRhLmRpZmZpY3VsdHkgIT09ICd1bmRlZmluZWQnICYmIGV2ZW50RGF0YS5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsZGlmZmljdWx0eToke2V2ZW50RGF0YS5kaWZmaWN1bHR5fWBcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50RGF0YS5tb2RpZmllciAhPT0gJ3VuZGVmaW5lZCcgJiYgZXZlbnREYXRhLm1vZGlmaWVyICE9PSAwKSB7XG4gICAgICAgICAgb3B0aW9ucyArPSBgLG1vZGlmaWVyOiR7ZXZlbnREYXRhLm1vZGlmaWVyfWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLmljb24pIHtcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGV2ZW50RGF0YS5pY29uLm1hdGNoKC9eKGh0dHBzPyk6XFwvXFwvKC4rKSQvKVxuICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgb3B0aW9ucyArPSBgLGV4dGVybmFsOiR7cGFydHNbMV19LGljb246JHtwYXJ0c1syXX1gXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgKz0gYCxpY29uOiR7ZXZlbnREYXRhLmljb259YFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLnBhY2spIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAscGFjazoke2V2ZW50RGF0YS5wYWNrfWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLmlkKSB7XG4gICAgICAgICAgb3B0aW9ucyArPSBgLGlkOiR7ZXZlbnREYXRhLmlkfWBcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGluayA9IGBAY29jNy5jaGVja1ske29wdGlvbnN9XWBcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBldmVudERhdGEuZGlzcGxheU5hbWUgPz8gKGxhYmVsID8/ICcnKVxuICAgICAgICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICBsaW5rICs9IGB7JHtkaXNwbGF5TmFtZX19YFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5rXG4gICAgICB9XG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5TQU5MT1NTOiB7XG4gICAgICAgIC8vIEBjb2M3LnNhbmxvc3Nbc2FuTWF4OjFENixzYW5NaW46MSxkaWZmaWN1bHR5OisrLG1vZGlmaWVyOi0xXXtIYXJkIFNhbiBMb3NzICgtMSkgMS8xRDZ9XG4gICAgICAgIGlmICghZXZlbnREYXRhLnNhbk1heCB8fCAhZXZlbnREYXRhLnNhbk1pbikge1xuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0gYCR7ZXZlbnREYXRhLmJsaW5kID8gJ2JsaW5kLCcgOiAnJ31zYW5NYXg6JHtldmVudERhdGEuc2FuTWF4fSxzYW5NaW46JHtldmVudERhdGEuc2FuTWlufWBcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5zYW5SZWFzb24pIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsc2FuUmVhc29uOiR7ZXZlbnREYXRhLnNhblJlYXNvbn1gXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50RGF0YS5kaWZmaWN1bHR5ICYmIGV2ZW50RGF0YS5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsZGlmZmljdWx0eToke2V2ZW50RGF0YS5kaWZmaWN1bHR5fWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLm1vZGlmaWVyICYmIGV2ZW50RGF0YS5tb2RpZmllciAhPT0gMCkge1xuICAgICAgICAgIG9wdGlvbnMgKz0gYCxtb2RpZmllcjoke2V2ZW50RGF0YS5tb2RpZmllcn1gXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50RGF0YS5pY29uKSB7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBldmVudERhdGEuaWNvbi5tYXRjaCgvXihodHRwcz8pOlxcL1xcLyguKykkLylcbiAgICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgKz0gYCxleHRlcm5hbDoke3BhcnRzWzFdfSxpY29uOiR7cGFydHNbMl19YFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zICs9IGAsaWNvbjoke2V2ZW50RGF0YS5pY29ufWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxpbmsgPSBgQGNvYzcuc2FubG9zc1ske29wdGlvbnN9XWBcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBldmVudERhdGEuZGlzcGxheU5hbWUgPz8gKGxhYmVsID8/ICcnKVxuICAgICAgICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICBsaW5rICs9IGB7JHtkaXNwbGF5TmFtZX19YFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5rXG4gICAgICB9XG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5JVEVNOiB7XG4gICAgICAgIC8vIEBjb2M3Lml0ZW1bdHlwZTpvcHRpb25hbCxuYW1lOlNob3RndW4sZGlmZmljdWx0eTorLG1vZGlmaWVyOi0xXXtIYXJkIFNoaXRndW4gY2hlY2soLTEpfVxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBgJHtldmVudERhdGEuYmxpbmQgPyAnYmxpbmQsJyA6ICcnfW5hbWU6JHtldmVudERhdGEubmFtZX1gXG4gICAgICAgIGlmIChldmVudERhdGEuaWNvbikge1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gZXZlbnREYXRhLmljb24ubWF0Y2goL14oaHR0cHM/KTpcXC9cXC8oLispJC8pXG4gICAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICBvcHRpb25zICs9IGAsZXh0ZXJuYWw6JHtwYXJ0c1sxXX0saWNvbjoke3BhcnRzWzJdfWBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyArPSBgLGljb246JHtldmVudERhdGEuaWNvbn1gXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudERhdGEucGFjaykge1xuICAgICAgICAgIG9wdGlvbnMgKz0gYCxwYWNrOiR7ZXZlbnREYXRhLnBhY2t9YFxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudERhdGEuaWQpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsaWQ6JHtldmVudERhdGEuaWR9YFxuICAgICAgICB9XG4gICAgICAgIGxldCBsaW5rID0gYEBjb2M3Lml0ZW1bJHtvcHRpb25zfV1gXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZXZlbnREYXRhLmRpc3BsYXlOYW1lID8/IChsYWJlbCA/PyAnJylcbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgbGluayArPSBgeyR7ZGlzcGxheU5hbWV9fWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlua1xuICAgICAgfVxuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNUOiB7XG4gICAgICAgIC8vIEBjb2M3LmVmZmVjdFt7XCJsYWJlbFwiOlwiS2Fwb3dcIixcImljb25cIjpcImljb25zL3N2Zy9hdXJhLnN2Z1wiLFwiY2hhbmdlc1wiOlt7XCJrZXlcIjpcInN5c3RlbS51bmtub3duLnRlc3RcIixcIm1vZGVcIjoyLFwidmFsdWVcIjpcIjVcIn1dLFwidGludFwiOlwiI2U5MTYxNlwiLFwiZHVyYXRpb25cIjp7XCJzZWNvbmRzXCI6bnVsbCxcInJvdW5kc1wiOjYsXCJ0dXJuc1wiOm51bGx9fV17S2Fwb3dpbmd9XG4gICAgICAgIC8vIGNvbnN0IGVmZmVjdERhdGEgPSBmb3VuZHJ5LnV0aWxzLmRlZXBDbG9uZShldmVudERhdGEpXG4gICAgICAgIC8vIGlmICghdGhpcy5lZmZlY3RJc1RlbXApIGRlbGV0ZSBlZmZlY3REYXRhLmR1cmF0aW9uXG4gICAgICAgIC8vIGlmIChlZmZlY3REYXRhLmNoYW5nZXM/Lmxlbmd0aCA9PT0gMCkgZGVsZXRlIGVmZmVjdERhdGEuY2hhbmdlc1xuICAgICAgICAvLyBpZiAoIWVmZmVjdERhdGEuZGlzYWJsZWQpIGRlbGV0ZSBlZmZlY3REYXRhLmRpc2FibGVkXG4gICAgICAgIC8vIGlmICghZWZmZWN0RGF0YS50aW50KSBkZWxldGUgZWZmZWN0RGF0YS50aW50XG4gICAgICAgIGNvbnN0IHBhcnRzID0gZXZlbnREYXRhLm9iamVjdC5pY29uLm1hdGNoKC9eKGh0dHBzPyk6XFwvXFwvKC4rKSQvKVxuICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICBldmVudERhdGEub2JqZWN0LmV4dGVybmFsID0gcGFydHNbMV1cbiAgICAgICAgICBldmVudERhdGEub2JqZWN0Lmljb24gPSBwYXJ0c1syXVxuICAgICAgICB9XG4gICAgICAgIGxldCBsaW5rID0gYEBjb2M3LmVmZmVjdFske0pTT04uc3RyaW5naWZ5KGV2ZW50RGF0YS5vYmplY3QpfV1gXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZXZlbnREYXRhLmRpc3BsYXlOYW1lID8/IChsYWJlbCA/PyAnJylcbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgbGluayArPSBgeyR7ZGlzcGxheU5hbWV9fWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlua1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJz8nXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uTGlua0FjdG9yQ2xpY2sgKGFjdG9yLCBvcHRpb25zLCB7IHNoaWZ0S2V5ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgc3dpdGNoIChvcHRpb25zLmNoZWNrKSB7XG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0s6XG4gICAgICAgIGlmIChbJ2NoYXJhYycsICdjaGFyJywgJ2NoYXJhY3RlcmlzdGljJywgJ2NoYXJhY3RlcmlzdGljcyddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3IuY2hhcmFjdGVyaXN0aWNDaGVjayhcbiAgICAgICAgICAgIG9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgIHNoaWZ0S2V5LFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBpZiAoWydza2lsbCddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3Iuc2tpbGxDaGVjayhvcHRpb25zLCBzaGlmdEtleSwgb3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICBpZiAoWydhdHRyaWJ1dGVzJywgJ2F0dHJpYnV0ZScsICdhdHRyaWInLCAnYXR0cmlicyddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3IuYXR0cmlidXRlQ2hlY2sob3B0aW9ucy5uYW1lLCBzaGlmdEtleSwgb3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TUzpcbiAgICAgICAgU2FuQ2hlY2tDYXJkLmNyZWF0ZShhY3Rvci5hY3RvcktleSwgb3B0aW9ucywge1xuICAgICAgICAgIGZhc3RGb3J3YXJkOiBzaGlmdEtleVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cblxuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLklURU06XG4gICAgICAgIHJldHVybiBhY3Rvci53ZWFwb25DaGVjayhvcHRpb25zLCBzaGlmdEtleSlcblxuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVDpcbiAgICAgICAgYXdhaXQgYWN0b3IuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0FjdGl2ZUVmZmVjdCcsIFt7XG4gICAgICAgICAgbGFiZWw6IG9wdGlvbnMub2JqZWN0LmxhYmVsLFxuICAgICAgICAgIGljb246IG9wdGlvbnMub2JqZWN0Lmljb24sXG4gICAgICAgICAgY2hhbmdlczogb3B0aW9ucy5vYmplY3QuY2hhbmdlc1xuICAgICAgICB9XSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdG9DaGF0TWVzc2FnZSAob3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbiA9IHtcbiAgICAgIHNwZWFrZXI6IHtcbiAgICAgICAgYWxpYXM6IGdhbWUudXNlci5uYW1lXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlXG4gICAgY29uc3QgbGluayA9IChuZXcgQ29DN0xpbmsoKSkuX2NyZWF0ZURvY3VtZW50TGluayhvcHRpb25zKVxuICAgIGlmIChvcHRpb25zLmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgbWVzc2FnZSA9IGA8ZGl2IGNsYXNzPVwiZWZmZWN0LW1lc3NhZ2VcIj4ke2xpbmt9PC9kaXY+YFxuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NZXNzYWdlQ2hlY2tSZXF1ZXN0ZWRXYWl0Jywge1xuICAgICAgICBjaGVjazogbGlua1xuICAgICAgfSlcbiAgICB9XG4gICAgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKG51bGwsIG1lc3NhZ2UsIG9wdGlvbilcbiAgfVxuXG4gIHN0YXRpYyB0b1doaXNwZXJNZXNzYWdlIChvcHRpb25zLCBhY3RvcnMpIHtcbiAgICBmb3IgKGNvbnN0IGFjdG9yIG9mIGFjdG9ycykge1xuICAgICAgY29uc3Qgb3B0aW9uID0ge1xuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgYWxpYXM6IGdhbWUudXNlci5uYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHdoaXNwZXI6IGFjdG9yLm93bmVycy5tYXAoYSA9PiBhLmlkKVxuICAgICAgfVxuICAgICAgbGV0IG1lc3NhZ2VcbiAgICAgIGNvbnN0IGxpbmsgPSAobmV3IENvQzdMaW5rKCkpLl9jcmVhdGVEb2N1bWVudExpbmsob3B0aW9ucylcbiAgICAgIGlmIChvcHRpb25zLmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgICBtZXNzYWdlID0gYDxkaXYgY2xhc3M9XCJlZmZlY3QtbWVzc2FnZVwiPiR7bGlua308L2Rpdj5gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NZXNzYWdlVGFyZ2V0Q2hlY2tSZXF1ZXN0ZWQnLCB7XG4gICAgICAgICAgbmFtZTogYWN0b3IubmFtZSxcbiAgICAgICAgICBjaGVjazogbGlua1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKG51bGwsIG1lc3NhZ2UsIG9wdGlvbilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBhIGNoZWNrIHdoZW4gYSBsaW5rIGlzIGNsaWNrZWQuXG4gICAqIERlcGVuZGluZyB0aGUgb3JpZ2luXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICpcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfb25MaW5rQ2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IENvQzdMaW5rLl9saW5rRnJvbUV2ZW50KGV2ZW50KVxuXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBpZiAoaXNDdHJsS2V5KGV2ZW50KSkge1xuICAgICAgICBDb0M3Q29udGVudExpbmtEaWFsb2cuY3JlYXRlKG9wdGlvbnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKGNhbnZhcy50b2tlbnMuY29udHJvbGxlZC5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQpIHtcbiAgICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayh0b2tlbi5hY3Rvciwgb3B0aW9ucywgeyBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXkgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICAgIGNvbnN0IGFjdG9yID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlckFjdG9yKHNwZWFrZXIpXG4gICAgICBpZiAoYWN0b3IpIHtcbiAgICAgICAgQ29DN0xpbmsuX29uTGlua0FjdG9yQ2xpY2soYWN0b3IsIG9wdGlvbnMsIHsgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5IH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgQ29DN0xpbmsudG9DaGF0TWVzc2FnZShvcHRpb25zKVxuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICAgIGxldCBhY3RvciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXJBY3RvcihzcGVha2VyKVxuICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICBjb25zdCBhY3RvcnMgPSBnYW1lLmFjdG9ycy5maWx0ZXIoYSA9PiAoYS5vd25lcnNoaXBbZ2FtZS51c2VyLmlkXSA/PyBhLm93bmVyc2hpcC5kZWZhdWx0KSA+PSBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9CU0VSVkVSKVxuICAgICAgICBpZiAoYWN0b3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGFjdG9yID0gYWN0b3JzWzBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayhhY3Rvciwgb3B0aW9ucywgeyBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXkgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2Fybk5vQ29udHJvbGxlZEFjdG9yJykpXG4gIH1cblxuICBzZXRWYWx1ZSAoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMub2JqZWN0W2tleV0gPSB2YWx1ZVxuICB9XG5cbiAgZ2V0IGxpbmsgKCkge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVEb2N1bWVudExpbmsodGhpcy5vYmplY3QpXG4gIH1cblxuICBnZXQgaWQgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5pZFxuICB9XG5cbiAgZ2V0IHBhY2sgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5wYWNrXG4gIH1cblxuICBnZXQgY2hlY2tUeXBlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QuY2hlY2tcbiAgfVxuXG4gIGdldCBkaWZmaWN1bHR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QuZGlmZmljdWx0eVxuICB9XG5cbiAgZ2V0IGljb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5pY29uXG4gIH1cblxuICBnZXQgZGlzcGxheU5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5kaXNwbGF5TmFtZVxuICB9XG5cbiAgZ2V0IG1vZGlmaWVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QubW9kaWZpZXJcbiAgfVxuXG4gIGdldCBsaW5rVHlwZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmxpbmtUeXBlXG4gIH1cblxuICBnZXQgc2FuTWluICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuTWluXG4gIH1cblxuICBnZXQgc2FuTWF4ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuTWF4XG4gIH1cblxuICBnZXQgc2FuUmVhc29uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuUmVhc29uXG4gIH1cblxuICBnZXQgZWZmZWN0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Qub2JqZWN0XG4gIH1cblxuICBnZXQgY2hlY2tOYW1lICgpIHtcbiAgICBpZiAodGhpcy5pc0NoYXJhY3RlcmlzdGljQ2hlY2spIHtcbiAgICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpXG4gICAgICByZXR1cm4gY2hhcmFjdGVyaXN0aWNzLmZpbmQoYyA9PiBjLmtleSA9PT0gdGhpcy5vYmplY3QubmFtZSB8fCBjLnNob3J0TmFtZSA9PT0gdGhpcy5vYmplY3QubmFtZSB8fCBjLmxhYmVsID09PSB0aGlzLm9iamVjdC5uYW1lKT8ua2V5ID8/ICcnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lXG4gIH1cblxuICBnZXQgaXNDaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLXG4gIH1cblxuICBnZXQgaXNDaGFyYWN0ZXJpc3RpY0NoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuQ0hBUkFDVEVSSVNUSUNcbiAgfVxuXG4gIGdldCBpc0F0dHJpYnV0ZUNoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuQVRUUklCVVRFXG4gIH1cblxuICBnZXQgaXNTa2lsbENoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuU0tJTExcbiAgfVxuXG4gIGdldCBpc0l0ZW1DaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLklURU1cbiAgfVxuXG4gIGdldCBpc1Nhbkxvc3NDaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLlNBTkxPU1NcbiAgfVxuXG4gIGdldCBpc0VmZmVjdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVFxuICB9XG5cbiAgZ2V0IGlzQmxpbmQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzQ2hlY2sgJiYgdGhpcy5vYmplY3QuYmxpbmRcbiAgfVxufVxuIiwiLyogZ2xvYmFsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi9jb2M3LWxpbmsuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3UGFyc2VyIHtcbiAgc3RhdGljIGVucmljaEhUTUwgKGNvbnRlbnQpIHtcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBodG1sLmlubmVySFRNTCA9IFN0cmluZyhjb250ZW50KVxuXG4gICAgbGV0IHRleHQgPSBbXVxuXG4gICAgdGV4dCA9IFRleHRFZGl0b3IuX2dldFRleHROb2RlcyhodG1sKVxuICAgIGNvbnN0IHJneCA9IG5ldyBSZWdFeHAoJ0AoY29jNylcXFxcLicgKyAnKGNoZWNrfGVmZmVjdHxpdGVtfHNhbmxvc3MpJyArICdcXFxcWyhbXlxcXFxbXFxcXF1dKig/OlxcXFxbW15cXFxcW1xcXFxdXSooPzpcXFxcW1teXFxcXFtcXFxcXV0qXFxcXF0pKlteXFxcXFtcXFxcXV0qXFxcXF0pKlteXFxcXFtcXFxcXV0qKVxcXFxdJyArICcoPzp7KFtefV0rKX0pPycsICdnaScpXG4gICAgVGV4dEVkaXRvci5fcmVwbGFjZVRleHRDb250ZW50KHRleHQsIHJneCwgQ29DN0xpbmsuX2NyZWF0ZUxpbmspXG4gICAgcmV0dXJuIGh0bWwuaW5uZXJIVE1MXG4gIH1cblxuICBzdGF0aWMgUGFyc2VTaGVldENvbnRlbnQgKGFwcCwgaHRtbCkge1xuICAgIC8vIENoZWNrIGluIGFsbCBlZGl0b3JzIGNvbnRlbnQgZm9yIGEgbGluay5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaHRtbC5maW5kKCdkaXYuZWRpdG9yLWNvbnRlbnQgPiAqLCBwLCBsaScpKSB7XG4gICAgICBpZiAoZWxlbWVudC5vdXRlckhUTUwudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcygnQGNvYzcnKSkge1xuICAgICAgICBlbGVtZW50Lm91dGVySFRNTCA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChlbGVtZW50Lm91dGVySFRNTClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIHRoZSBjbGljayB0byBleGVjdXRlIHRoZSBjaGVjay5cbiAgICBDb0M3TGluay5iaW5kRXZlbnRzSGFuZGxlcihodG1sKVxuICB9XG5cbiAgLyoqXG4gICAgICogQSBob29rIGV2ZW50IHRoYXQgZmlyZXMgZm9yIGVhY2ggQ2hhdE1lc3NhZ2Ugd2hpY2ggaXMgcmVuZGVyZWQgZm9yIGFkZGl0aW9uIHRvIHRoZSBDaGF0TG9nLlxuICAgICAqIFRoaXMgaG9vayBhbGxvd3MgZm9yIGZpbmFsIGN1c3RvbWl6YXRpb24gb2YgdGhlIG1lc3NhZ2UgSFRNTCBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIGxvZy5cbiAgICAgKiBAZnVuY3Rpb24gcmVuZGVyQ2hhdE1lc3NhZ2VcbiAgICAgKiBAbWVtYmVyb2YgaG9va0V2ZW50c1xuICAgICAqIEBwYXJhbSB7Q2hhdE1lc3NhZ2V9IGFwcCAgIFRoZSBDaGF0TWVzc2FnZSBkb2N1bWVudCBiZWluZyByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSBodG1sICAgICAgICAgICBUaGUgcGVuZGluZyBIVE1MIGFzIGEgalF1ZXJ5IG9iamVjdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhICAgICAgICAgICBUaGUgaW5wdXQgZGF0YSBwcm92aWRlZCBmb3IgdGVtcGxhdGUgcmVuZGVyaW5nXG4gICAgICovXG4gIHN0YXRpYyBQYXJzZU1lc3NhZ2UgKGFwcCwgaHRtbCwgZGF0YSkge1xuICAgIC8vIEBjb2M3LnNhbmxvc3Nbc2FuTWF4OjFENixzYW5NaW46MSxzYW5SZWFzb246R2hvdWxzLGRpZmZpY3VsdHk6KyssbW9kaWZpZXI6LTFde0hhcmQgU2FuIExvc3MgKC0xKSAxLzFENn1cbiAgICAvLyBAY29jNy5jaGVja1t0eXBlOmNoYXJhYyxuYW1lOlNUUixkaWZmaWN1bHR5OissbW9kaWZpZXI6LTFde0hhcmQgU1RSIGNoZWNrKC0xKX1cbiAgICAvLyBAY29jNy5jaGVja1t0eXBlOmF0dHJpYixuYW1lOmxjayxkaWZmaWN1bHR5OissbW9kaWZpZXI6LTFde0hhcmQgbHVjayBjaGVjaygtMSl9XG4gICAgLy8gQGNvYzcuY2hlY2tbdHlwZTpza2lsbCxuYW1lOmFudGhyb3BvbG9neSxkaWZmaWN1bHR5OissbW9kaWZpZXI6LTFde0hhcmQgQW50aHJvcG9sb2d5IGNoZWNrKC0xKX1cbiAgICAvLyBAY29jNy5jaGVja1t0eXBlOnNraWxsLGljb246ZmFzIGZhLWFycm93LWFsdC1jaXJjbGUtcmlnaHQsbmFtZTphbnRocm9wb2xvZ3ksZGlmZmljdWx0eTorLG1vZGlmaWVyOi0xXXtIYXJkIEFudGhyb3BvbG9neSBjaGVjaygtMSl9XG4gICAgLy8gQGNvYzcuaXRlbVtuYW1lOlNob3RndW4saWNvbjpmYXMgZmEtYnVsbHNleWUsZGlmZmljdWx0eTorLG1vZGlmaWVyOi0xXXtVc2Ugc2hvdGd1bn1cbiAgICAvLyBbVEJJXUBjb2M3LmRhbWFnZVtmb3JtdWxhOjFENl17RGFtYWdlIDFENn1cbiAgICAvLyBbVEJJXUBjb2M3LnJvbGxbdGhyZXNob2xkOjUwXXtTaW1wbGUgcm9sbH1cblxuICAgIGlmICghYXBwLmlzQ29udGVudFZpc2libGUpIHJldHVyblxuXG4gICAgaWYgKGRhdGEubWVzc2FnZS5jb250ZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ0Bjb2M3JykpIHtcbiAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoZGF0YS5tZXNzYWdlLmNvbnRlbnQpXG4gICAgICBodG1sLmZpbmQoJy5tZXNzYWdlLWNvbnRlbnQnKS5odG1sKHBhcnNlZENvbnRlbnQpXG4gICAgICBkYXRhLm1lc3NhZ2UuY29udGVudCA9IHBhcnNlZENvbnRlbnRcbiAgICB9XG4gICAgcmV0dXJuIHRydWUgLy8gYWxsb3cgbWVzc2FnZSB0byBiZSBwdWJsaXNoZWQgIVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ09ORklHLCBkdXBsaWNhdGUsIGdhbWUsIGdldFByb3BlcnR5LCBJdGVtLCBSb2xsLCBUZXh0RWRpdG9yLCBUb2tlbiwgdWksIGZyb21VdWlkICovXG5pbXBvcnQgeyBDb0M3UGFyc2VyIH0gZnJvbSAnLi4vYXBwcy9jb2M3LXBhcnNlci5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgQ29DSURFZGl0b3IgfSBmcm9tICcuLi9hcHBzL2NvYy1pZC1lZGl0b3IuanMnXG5cbi8qKlxuICogT3ZlcnJpZGUgYW5kIGV4dGVuZCB0aGUgYmFzaWMgOmNsYXNzOmBJdGVtYCBpbXBsZW1lbnRhdGlvblxuICovXG5leHBvcnQgY2xhc3MgQ29DN0l0ZW0gZXh0ZW5kcyBJdGVtIHtcbiAgLyoqIENyZWF0ZSBkZXJpdmVkIGRvY3VtZW50IGNsYXNzZXMgZm9yIHNwZWNpZmljIEl0ZW0gdHlwZXMgKi9cbiAgY29uc3RydWN0b3IgKGRhdGEsIGNvbnRleHQpIHtcbiAgICAvKiogQHNlZSBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzZXMgaW4gbW9kdWxlL3NjcmlwdHMvY29uZmlndXJlLWRvY3VtZW50cyAqL1xuICAgIGlmIChkYXRhLnR5cGUgaW4gQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzc2VzICYmICFjb250ZXh0Py5leHRlbmRlZCkge1xuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIG5ldyBjbGFzcyB3aWxsIGNhbGwgaXQncyBzdXBlcigpLFxuICAgICAgICogdGhlIGV4dGVuZGVkIGZsYWcgd2lsbCBiZSB0cnVlLCB0aHVzIGJ5cGFzc2luZyB0aGlzIHdob2xlIHByb2Nlc3NcbiAgICAgICAqIGFuZCByZXN1bWUgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICovXG4gICAgICByZXR1cm4gbmV3IENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3Nlc1tkYXRhLnR5cGVdKGRhdGEsIHtcbiAgICAgICAgLi4ueyBleHRlbmRlZDogdHJ1ZSB9LFxuICAgICAgICAuLi5jb250ZXh0XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICBkYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3NraWxscy5zdmcnXG4gICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3N0YXR1cycpIHtcbiAgICAgICAgZGF0YS5pbWcgPSAnaWNvbnMvc3ZnL2F1cmEuc3ZnJ1xuICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICAgIGRhdGEuaW1nID0gJ2ljb25zL3N2Zy9zd29yZC5zdmcnXG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBEZWZhdWx0IGJlaGF2aW9yLCBqdXN0IGNhbGwgc3VwZXIoKSBhbmQgZG8gYWxsIHRoZSBkZWZhdWx0IEl0ZW0gaW5pdHMgKi9cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICB9XG5cbiAgYXN5bmMgX2NyZWF0ZURvY3VtZW50TGluayAoZXZlbnREYXRhLCB7IHJlbGF0aXZlVG8sIGxhYmVsIH0gPSB7fSkge1xuICAgIGlmICh0eXBlb2YgZXZlbnREYXRhLnR5cGUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBldmVudERhdGEudXVpZCA9PT0gJ3N0cmluZycgJiYgZXZlbnREYXRhLnR5cGUgPT09ICdJdGVtJyAmJiBldmVudERhdGEudXVpZC5tYXRjaCgvXkFjdG9yXFwuLykgJiYgcmVsYXRpdmVUbyBpbnN0YW5jZW9mIENPTkZJRy5Kb3VybmFsRW50cnlQYWdlLmRvY3VtZW50Q2xhc3MpIHtcbiAgICAgIC8vIElmIGRyb3BwaW5nIGEgc2tpbGwvd2VhcG9uIGZyb20gYW4gQWN0b3Igb250byBhIEpvdXJuYWwgRW50cnkgUGFnZSBjb252ZXJ0IHRvIGEgY2hlY2sgbGlua1xuICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IGZyb21VdWlkKGV2ZW50RGF0YS51dWlkKVxuICAgICAgaWYgKFsnc2tpbGwnLCAnd2VhcG9uJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICByZXR1cm4gJ0Bjb2M3LmNoZWNrW3R5cGU6JyArIGl0ZW0udHlwZSArICcsbmFtZTonICsgaXRlbS5uYW1lICsgJ10nXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5fY3JlYXRlRG9jdW1lbnRMaW5rKGV2ZW50RGF0YSwgeyByZWxhdGl2ZVRvLCBsYWJlbCB9KVxuICB9XG5cbiAgc3RhdGljIGdldCBpY29uTGFuZ3VhZ2UgKCkge1xuICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9za2lsbHMvbGFuZ3VhZ2Uuc3ZnJ1xuICB9XG5cbiAgc3RhdGljIGdldCBmbGFncyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hbGZ1bmN0aW9uOiAnbWFsZmMnXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBvbiBvZiB0aGUgaXRlbSBwcm9wZXJ0eSBpbiBkYXRhLmRhdGEucHJvcGVydGllc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlJZCA6IG5hbWUgZm9yIHRoZSBwcm9wZXJ0eSB0byB0b2dnbGVcbiAgICovXG4gIGFzeW5jIHRvZ2dsZVByb3BlcnR5IChwcm9wZXJ0eUlkLCBvdmVycmlkZSA9IGZhbHNlKSB7XG4gICAgbGV0IGNoZWNrZWRQcm9wcyA9IHt9XG4gICAgbGV0IGZpZ2h0aW5nXG4gICAgbGV0IGZpcmVhcm1zXG4gICAgaWYgKHR5cGVvZiBDT0M3LmVyYXNbcHJvcGVydHlJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gQ29DSURFZGl0b3IuZXJhVG9nZ2xlKHRoaXMsIHByb3BlcnR5SWQpXG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd3ZWFwb24nICYmICFvdmVycmlkZSkge1xuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdhaGRiJykge1xuICAgICAgICBpZiAoIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuYWhkYikge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5haGRiJzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5hZGRiJzogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmFoZGInOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcGVydHlJZCA9PT0gJ2FkZGInKSB7XG4gICAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5hZGRiKSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmFkZGInOiB0cnVlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmFoZGInOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuYWRkYic6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnc2hvdGd1bicpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLnNob3RndW4pIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMucm5nZCc6IHRydWUsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMubWVsZWUnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zaG90Z3VuJzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1bic6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5leHRyZW1lLnZhbHVlJzogbnVsbCxcbiAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2UuZXh0cmVtZS5kYW1hZ2UnOiBudWxsLFxuICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5sb25nLnZhbHVlJzogbnVsbCxcbiAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2UubG9uZy5kYW1hZ2UnOiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnbWVsZWUnIHx8IHByb3BlcnR5SWQgPT09ICdybmdkJykge1xuICAgICAgICBsZXQgbWVsZWVXZWFwb25cbiAgICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdtZWxlZScgJiYgIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMubWVsZWUpIHtcbiAgICAgICAgICBtZWxlZVdlYXBvbiA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlJZCA9PT0gJ21lbGVlJyAmJiB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLm1lbGVlKSB7XG4gICAgICAgICAgbWVsZWVXZWFwb24gPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAncm5nZCcgJiYgIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgICAgIG1lbGVlV2VhcG9uID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlJZCA9PT0gJ3JuZ2QnICYmIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgICAgIG1lbGVlV2VhcG9uID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChtZWxlZVdlYXBvbikge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5tZWxlZSc6IHRydWUsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMucm5nZCc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNob3RndW4nOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5icnN0JzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuYXV0byc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmRicmwnOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMubWVsZWUnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5ybmdkJzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnc2tpbGwnICYmICFvdmVycmlkZSkge1xuICAgICAgbGV0IG1vZGlmID0gZmFsc2VcbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnY29tYmF0Jykge1xuICAgICAgICBpZiAoIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0KSB7XG4gICAgICAgICAgLy8gQ2xvc2UgY29tYmF0IGJ5IGRlZmF1bHRcbiAgICAgICAgICBpZiAoIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSkge1xuICAgICAgICAgICAgZmlnaHRpbmcgPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIGZpcmVhcm1zID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5jb21iYXQnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnNwZWNpYWxpemF0aW9uJzogJycsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN5c3RlbS5za2lsbE5hbWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbW9kaWYgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnZmlnaHRpbmcnKSB7XG4gICAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZykge1xuICAgICAgICAgIGZpcmVhcm1zID0gZmFsc2VcbiAgICAgICAgICBmaWdodGluZyA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJlYXJtcyA9IHRydWVcbiAgICAgICAgICBmaWdodGluZyA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgbW9kaWYgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnZmlyZWFybScpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0pIHtcbiAgICAgICAgICBmaXJlYXJtcyA9IHRydWVcbiAgICAgICAgICBmaWdodGluZyA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlyZWFybXMgPSBmYWxzZVxuICAgICAgICAgIGZpZ2h0aW5nID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIG1vZGlmID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAobW9kaWYpIHtcbiAgICAgICAgLy8gc2V0IHNwZWNpYWxpc2F0aW9uIGlmIGZpZ2h0aW5nIG9yIGZpcmVhcm1cbiAgICAgICAgaWYgKGZpZ2h0aW5nKSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nJzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0JzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsJzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5za2lsbE5hbWUsXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5maWdodGluZ1NwZWNpYWxpemF0aW9uTmFtZSlcbiAgICAgICAgICApXG4gICAgICAgICAgY2hlY2tlZFByb3BzLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgY2hlY2tlZFByb3BzLnNraWxsTmFtZSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnNwZWNpYWxpemF0aW9uJ10gPSBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJlYXJtcykge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0nOiB0cnVlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCc6IHRydWUsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCc6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBDb0M3SXRlbS5nZXROYW1lUGFydHNTcGVjKFxuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uc2tpbGxOYW1lLFxuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKENPQzcuZmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSlcbiAgICAgICAgICApXG4gICAgICAgICAgY2hlY2tlZFByb3BzLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgY2hlY2tlZFByb3BzLnNraWxsTmFtZSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnNwZWNpYWxpemF0aW9uJ10gPSBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnR5SWQgPT09ICdzcGVjaWFsJykge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXNbcHJvcGVydHlJZF0pIHtcbiAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsJzogZmFsc2UsXG4gICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nJzogZmFsc2UsXG4gICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0nOiBmYWxzZSxcbiAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0JzogZmFsc2UsXG4gICAgICAgICAgJ3N5c3RlbS5zcGVjaWFsaXphdGlvbic6ICcnLFxuICAgICAgICAgIG5hbWU6IHRoaXMuc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiB0cnVlLFxuICAgICAgICAgIG5hbWU6IHRoaXMuc3lzdGVtLnNwZWNpYWxpemF0aW9uICsgJyAoJyArIHRoaXMuc3lzdGVtLnNraWxsTmFtZSArICcpJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKGNoZWNrZWRQcm9wcykubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IHRoaXMudXBkYXRlKGNoZWNrZWRQcm9wcylcbiAgICAgIHJldHVybiBpdGVtXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByb3BOYW1lID0gYHN5c3RlbS5wcm9wZXJ0aWVzLiR7cHJvcGVydHlJZH1gXG4gICAgICBjb25zdCBwcm9wVmFsdWUgPSAhdGhpcy5zeXN0ZW0ucHJvcGVydGllc1twcm9wZXJ0eUlkXVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyBbcHJvcE5hbWVdOiBwcm9wVmFsdWUgfSkudGhlbihpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFzUHJvcGVydHkgKHByb3BlcnR5SWQpIHtcbiAgICByZXR1cm4gdGhpcy5pc0luY2x1ZGVkSW5TZXQoJ3Byb3BlcnRpZXMnLCBwcm9wZXJ0eUlkKVxuICB9XG5cbiAgZ2V0IHNob3J0TmFtZSAoKSB7XG4gICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtLnNraWxsTmFtZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5uYW1lXG4gIH1cblxuICBhc3luYyB1cGRhdGVSb2xsIChyb2xsKSB7XG4gICAgaWYgKCd1cGRhdGVSb2xsJyBpbiB0aGlzLnNoZWV0KSByZXR1cm4gYXdhaXQgdGhpcy5zaGVldC51cGRhdGVSb2xsKHJvbGwpXG4gICAgZWxzZSBpZiAoJ3VwZGF0ZVJvbGwnIGluIHRoaXMpIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZVJvbGwocm9sbClcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzdGF0aWMgZ2V0TmFtZVBhcnRzU3BlYyAoc2tpbGxOYW1lLCBzcGVjaWFsaXphdGlvbikge1xuICAgIGlmICghc3BlY2lhbGl6YXRpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHNraWxsTmFtZSxcbiAgICAgICAgc3BlY2lhbGl6YXRpb246ICcnLFxuICAgICAgICBza2lsbE5hbWVcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3BlY05hbWVSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAnXignICsgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChzcGVjaWFsaXphdGlvbikgKyAnKVxcXFxzKlxcXFwoKC4rKVxcXFwpJCcsXG4gICAgICAnaSdcbiAgICApXG4gICAgY29uc3QgbWF0Y2ggPSBza2lsbE5hbWUubWF0Y2goc3BlY05hbWVSZWdleClcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHNwZWNpYWxpemF0aW9uID0gbWF0Y2hbMV1cbiAgICAgIHNraWxsTmFtZSA9IG1hdGNoWzJdXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzcGVjaWFsaXphdGlvbiArICcgKCcgKyBza2lsbE5hbWUgKyAnKScsXG4gICAgICBzcGVjaWFsaXphdGlvbixcbiAgICAgIHNraWxsTmFtZVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXROYW1lV2l0aG91dFNwZWMgKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvQzdJdGVtKSB7XG4gICAgICBpZiAoaXRlbS5zeXN0ZW0/LnByb3BlcnRpZXM/LnNwZWNpYWwgJiYgdHlwZW9mIGl0ZW0uc3lzdGVtLnNraWxsTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uc3lzdGVtLnNraWxsTmFtZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXRlbS5wcm9wZXJ0aWVzPy5zcGVjaWFsICYmIHR5cGVvZiBpdGVtLnNraWxsTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uc2tpbGxOYW1lXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtLm5hbWVcbiAgfVxuXG4gIHN0YXRpYyBpc0FueVNwZWMgKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS50eXBlICE9PSAnc2tpbGwnIHx8ICFpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5zcGVjaWFsKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnJlcXVpcmVzbmFtZSB8fCBpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5waWNrbmFtZW9ubHkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQW55U3BlY05hbWUnKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgJ2FueSdcbiAgICBdLmluY2x1ZGVzKENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3Nlcy5za2lsbC5ndWVzc05hbWVQYXJ0cyhpdGVtLm5hbWUpLnNraWxsTmFtZS50b0xvd2VyQ2FzZSgpKVxuICB9XG5cbiAgYXN5bmMgY2hlY2tTa2lsbFByb3BlcnRpZXMgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICdza2lsbCcpIHJldHVyblxuICAgIGNvbnN0IGNoZWNrZWRQcm9wcyA9IHt9XG4gICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0KSB7XG4gICAgICAvLyBpZiBza2lsbCBpcyBub3QgYSBzcGVjaWFsaXNhdGlvbiBtYWtlIGl0IGEgc3BlY2lhbGlzYXRpb25cbiAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCA9IHRydWVcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsJ10gPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNraWxsIGlzIGNvbWJhdCBza2lsbCBhbmQgbm8gc3BlY2lhbGlzYXRpb24gc2V0IHRoZW4gbWFrZSBpdCBhIGZpZ2h0aW5nKCBjbG9zZWNvbWJhdCkgc2tpbGxcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcgJiZcbiAgICAgICAgIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcgPSB0cnVlXG4gICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcnXSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gaWYgc2tpbGwgaXMgY2xvc2UgY29tYmF0IHdpdGhvdXQgc3BlY2lhbGlzYXRpb24gbmFtZSBtYWtlIHNldCBpdCBhY2NvcmRpbmcgdG8gdGhlIGZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcgJiZcbiAgICAgICAgKCF0aGlzLnN5c3RlbS5zcGVjaWFsaXphdGlvbiB8fCB0aGlzLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9PT0gJycpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5maWdodGluZ1NwZWNpYWxpemF0aW9uTmFtZVxuICAgICAgICApXG4gICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnNwZWNpYWxpemF0aW9uJ10gPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5maWdodGluZ1NwZWNpYWxpemF0aW9uTmFtZVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHNraWxsIGlzIHJhbmdlIGNvbWJhdCB3aXRob3V0IGEgc3BlY2lhbGlzYXRpb24gbmFtZSBtYWtlIHNldCBpdCBhY2NvcmRpbmcgdG8gdGhlIGZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtICYmXG4gICAgICAgICghdGhpcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gfHwgdGhpcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPT09ICcnKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgIENPQzcuZmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZVxuICAgICAgICApXG4gICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnNwZWNpYWxpemF0aW9uJ10gPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5maXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyA9IGZhbHNlXG4gICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcnXSA9IGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSA9IGZhbHNlXG4gICAgICAgIGNoZWNrZWRQcm9wc1snc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSddID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoY2hlY2tlZFByb3BzKS5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZShjaGVja2VkUHJvcHMpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNoZWNrZWRQcm9wc1xuICB9XG5cbiAgaXNJbmNsdWRlZEluU2V0IChzZXQsIHByb3BlcnR5SWQpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtW3NldF0pIHRoaXMuc3lzdGVtW3NldF0gPSBbXVxuICAgIGNvbnN0IHByb3BlcnR5SW5kZXggPSB0aGlzLnN5c3RlbVtzZXRdLmluZGV4T2YocHJvcGVydHlJZClcbiAgICBpZiAocHJvcGVydHlJbmRleCA+IC0xKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYXN5bmMgZmxhZ0ZvckRldmVsb3BlbWVudCAoKSB7XG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3hwRW5hYmxlZCcpIHx8IGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBpZiAoIXRoaXMuc3lzdGVtLmZsYWdzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncyc6IHt9IH0pXG4gICAgICB9XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MuZGV2ZWxvcGVtZW50JzogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVuZmxhZ0ZvckRldmVsb3BlbWVudCAoKSB7XG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3hwRW5hYmxlZCcpIHx8IGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBpZiAoIXRoaXMuc3lzdGVtLmZsYWdzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncyc6IHt9IH0pXG4gICAgICB9XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MuZGV2ZWxvcGVtZW50JzogZmFsc2UgfSlcbiAgICB9XG4gIH1cblxuICBnZXQgZGV2ZWxvcGVtZW50RmxhZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUZsYWcoJ2RldmVsb3BlbWVudCcpXG4gIH1cblxuICBhc3luYyB0b2dnbGVJdGVtRmxhZyAoZmxhZ05hbWUsIGVyYXNlQWRqdXN0bWVudCA9IHRydWUpIHtcbiAgICBjb25zdCBmbGFnVmFsdWUgPSAhdGhpcy5nZXRJdGVtRmxhZyhmbGFnTmFtZSlcbiAgICBjb25zdCBuYW1lID0gYHN5c3RlbS5mbGFncy4ke2ZsYWdOYW1lfWBcbiAgICBpZiAoXG4gICAgICAoZmxhZ05hbWUgPT09ICdvY2N1cGF0aW9uJyB8fCBmbGFnTmFtZSA9PT0gJ2FyY2hldHlwZScpICYmXG4gICAgICAhZmxhZ1ZhbHVlICYmXG4gICAgICBlcmFzZUFkanVzdG1lbnRcbiAgICApIHtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgW2BzeXN0ZW0uYWRqdXN0bWVudHMuJHtmbGFnTmFtZX1gXTogbnVsbCxcbiAgICAgICAgW25hbWVdOiBmbGFnVmFsdWVcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChmbGFnTmFtZSA9PT0gJ2RldmVsb3BlbWVudCcpIHtcbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd4cEVuYWJsZWQnKSB8fCBnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtuYW1lXTogZmxhZ1ZhbHVlIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNraWxsWHBHYWluRGlzYWJsZWQnKSlcbiAgICAgIH1cbiAgICB9IGVsc2UgYXdhaXQgdGhpcy51cGRhdGUoeyBbbmFtZV06IGZsYWdWYWx1ZSB9KVxuICB9XG5cbiAgYXN5bmMgc2V0SXRlbUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyBbYHN5c3RlbS5mbGFncy4ke2ZsYWdOYW1lfWBdOiB0cnVlIH0pXG4gIH1cblxuICBhc3luYyB1bnNldEl0ZW1GbGFnIChmbGFnTmFtZSwgZXJhc2VBZGp1c3RtZW50ID0gdHJ1ZSkge1xuICAgIGNvbnN0IG5hbWUgPSBgc3lzdGVtLmZsYWdzLiR7ZmxhZ05hbWV9YFxuICAgIGlmIChcbiAgICAgIChmbGFnTmFtZSA9PT0gJ29jY3VwYXRpb24nIHx8IGZsYWdOYW1lID09PSAnYXJjaGV0eXBlJykgJiZcbiAgICAgIGVyYXNlQWRqdXN0bWVudFxuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICBbYHN5c3RlbS5hZGp1c3RtZW50cy4ke2ZsYWdOYW1lfWBdOiBudWxsLFxuICAgICAgICBbbmFtZV06IGZhbHNlXG4gICAgICB9KVxuICAgIH0gZWxzZSBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtuYW1lXTogZmFsc2UgfSlcbiAgfVxuXG4gIGdldEl0ZW1GbGFnIChmbGFnTmFtZSkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0uZmxhZ3MpIHtcbiAgICAgIHRoaXMuc3lzdGVtLmZsYWdzID0ge31cbiAgICAgIHRoaXMuc3lzdGVtLmZsYWdzLmxvY2tlZCA9IHRydWVcbiAgICAgIHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncyc6IHt9IH0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmZsYWdzW2ZsYWdOYW1lXSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmZsYWdzW2ZsYWdOYW1lXVxuICB9XG5cbiAgZ2V0IHVzZXNBbHRlcm5hdGl2ZVNraWxsICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50eXBlID09PSAnd2VhcG9uJyAmJlxuICAgICAgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXM/LmF1dG8gPT09IHRydWUgfHxcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcz8uYnJzdCA9PT0gdHJ1ZSB8fFxuICAgICAgICB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzPy50aHJvd24gPT09IHRydWUpXG4gICAgKVxuICB9XG5cbiAgZ2V0IG1heFVzZXNQZXJSb3VuZCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgY29uc3QgbXVsdGlTaG90ID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm1heClcbiAgICBpZiAoaXNOYU4obXVsdGlTaG90KSkgcmV0dXJuIDBcbiAgICByZXR1cm4gbXVsdGlTaG90XG4gIH1cblxuICBnZXQgdXNlc1BlclJvdW5kICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBjb25zdCBzaW5nbGVTaG90ID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm5vcm1hbClcbiAgICBpZiAoaXNOYU4oc2luZ2xlU2hvdCkpIHJldHVybiAwXG4gICAgcmV0dXJuIHNpbmdsZVNob3RcbiAgfVxuXG4gIGdldCB1c2VzUGVyUm91bmRTdHJpbmcgKCkge1xuICAgIGxldCB1c2VzUGVyUm91bmRcbiAgICBpZiAodGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm5vcm1hbCkge1xuICAgICAgdXNlc1BlclJvdW5kID0gdGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm5vcm1hbFxuICAgIH0gZWxzZSB7XG4gICAgICB1c2VzUGVyUm91bmQgPSAnMSdcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLnVzZXNQZXJSb3VuZC5tYXgpIHtcbiAgICAgIHVzZXNQZXJSb3VuZCArPSBgKCR7dGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm1heH0pYFxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5hdXRvKSB7XG4gICAgICB1c2VzUGVyUm91bmQgKz0gYCAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XZWFwb25BdXRvJyl9YFxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5icnN0KSB7XG4gICAgICB1c2VzUGVyUm91bmQgKz0gYCAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XZWFwb25CcnN0Jyl9YFxuICAgICAgaWYgKHRoaXMuc3lzdGVtLnVzZXNQZXJSb3VuZC5idXJzdCkge1xuICAgICAgICB1c2VzUGVyUm91bmQgKz0gYCgke3RoaXMuc3lzdGVtLnVzZXNQZXJSb3VuZC5idXJzdH0pYFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1c2VzUGVyUm91bmRcbiAgfVxuXG4gIGdldCBtdWx0aXBsZVNob3RzICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5tYXhVc2VzUGVyUm91bmQgPD0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBnZXQgc2luZ2xlU2hvdCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnVzZXNQZXJSb3VuZCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBnZXQgYmFzZVJhbmdlICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0ucmFuZ2Uubm9ybWFsLnZhbHVlKVxuICB9XG5cbiAgZ2V0IGxvbmdSYW5nZSAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLnJhbmdlLmxvbmcudmFsdWUpXG4gIH1cblxuICBnZXQgZXh0cmVtZVJhbmdlICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0ucmFuZ2UuZXh0cmVtZS52YWx1ZSlcbiAgfVxuXG4gIGdldCBza2lsbFByb3BlcnRpZXMgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICdza2lsbCcpIHJldHVybiBbXVxuXG4gICAgY29uc3Qgc2tpbGxQcm9wZXJ0aWVzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LnNraWxsUHJvcGVydGllcykpIHtcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWUpIHtcbiAgICAgICAgc2tpbGxQcm9wZXJ0aWVzLnB1c2goZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNraWxsUHJvcGVydGllc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNhbGN1bGF0ZUJhc2UgKGFjdG9yLCBkYXRhKSB7XG4gICAgaWYgKGRhdGEudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuIG51bGxcbiAgICBpZiAoU3RyaW5nKGRhdGEuc3lzdGVtLmJhc2UpLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHt9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmZvcm11bGEuYWN0b3JzaGVldCkpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdAJykgJiYgdmFsdWUuc3RhcnRzV2l0aCgndGhpcy5hY3Rvci4nKSkge1xuICAgICAgICAgIHBhcnNlZFtrZXkuc3Vic3RyaW5nKDEpXSA9IGdldFByb3BlcnR5KGFjdG9yLCB2YWx1ZS5zdWJzdHJpbmcoMTEpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdmFsdWVcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcihcbiAgICAgICAgICBuZXcgUm9sbChkYXRhLnN5c3RlbS5iYXNlLCBwYXJzZWQpLmV2YWx1YXRlKHtcbiAgICAgICAgICAgIG1heGltaXplOiB0cnVlXG4gICAgICAgICAgfSkudG90YWxcbiAgICAgICAgKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHZhbHVlID0gMFxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuICAgIHJldHVybiAhaXNOYU4ocGFyc2VJbnQoZGF0YS5zeXN0ZW0uYmFzZSkpID8gcGFyc2VJbnQoZGF0YS5zeXN0ZW0uYmFzZSkgOiBudWxsXG4gIH1cblxuICBnZXQgX2Jhc2UgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICdza2lsbCcpIHJldHVybiBbbnVsbCwgZmFsc2VdXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN5c3RlbS5iYXNlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFt0aGlzLnN5c3RlbS5iYXNlLCBmYWxzZV1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zeXN0ZW0uYmFzZS5pbmNsdWRlcygnQCcpKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSB7fVxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5mb3JtdWxhLmFjdG9yc2hlZXQpKSB7XG4gICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnQCcpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3RoaXMuJykpIHtcbiAgICAgICAgICBwYXJzZWRba2V5LnN1YnN0cmluZygxKV0gPSBnZXRQcm9wZXJ0eSh0aGlzLCB2YWx1ZS5zdWJzdHJpbmcoNSkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKFxuICAgICAgICAgIG5ldyBSb2xsKHRoaXMuc3lzdGVtLmJhc2UsIHBhcnNlZCkuZXZhbHVhdGUoe1xuICAgICAgICAgICAgbWF4aW1pemU6IHRydWVcbiAgICAgICAgICB9KS50b3RhbFxuICAgICAgICApXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdmFsdWUgPSAwXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbdmFsdWUsIHRydWVdXG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAhaXNOYU4ocGFyc2VJbnQodGhpcy5zeXN0ZW0uYmFzZSkpXG4gICAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYmFzZSlcbiAgICAgICAgOiBudWxsLFxuICAgICAgZmFsc2VcbiAgICBdXG4gIH1cblxuICBhc3luYyBhc3luY0Jhc2UgKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLl9iYXNlXG4gICAgaWYgKGVbMV0pIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgYFtDT0M3XSAoJHt0aGlzLnBhcmVudD8ubmFtZX0pIEV2YWx1YXRpbmcgc2tpbGwgJHt0aGlzLm5hbWV9OiR7dGhpcy5zeXN0ZW0uYmFzZX0gdG8gJHtlWzBdfWBcbiAgICAgIClcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iYXNlJzogZVswXSB9KVxuICAgIH1cbiAgICByZXR1cm4gZVswXVxuICB9XG5cbiAgZ2V0IGJhc2UgKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLl9iYXNlXG4gICAgaWYgKGVbMV0pIHtcbiAgICAgIHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iYXNlJzogZVswXSB9KVxuICAgIH1cbiAgICByZXR1cm4gZVswXVxuICB9XG5cbiAgZ2V0QnVsbGV0TGVmdCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hbW1vKSB7XG4gICAgICB0aGlzLnNldEJ1bGxldHMoMClcbiAgICAgIHJldHVybiAwXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5hbW1vXG4gIH1cblxuICBhc3luYyByZWxvYWQgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IG1heEJ1bGxldCA9IHRoaXMuc3lzdGVtLmJ1bGxldHNcbiAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYnVsbGV0cylcbiAgICAgIDogMVxuICAgIGF3YWl0IHRoaXMuc2V0QnVsbGV0cyhtYXhCdWxsZXQpXG4gIH1cblxuICBhc3luYyBzZXRCdWxsZXRzIChidWxsZXRzKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmFtbW8nOiBidWxsZXRzIHx8IDAgfSlcbiAgfVxuXG4gIGFzeW5jIGFkZEJ1bGxldCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgY29uc3QgYnVsbGV0cyA9IGF3YWl0IHRoaXMuZ2V0QnVsbGV0TGVmdCgpXG4gICAgY29uc3QgbWF4QnVsbGV0cyA9IHRoaXMuc3lzdGVtLmJ1bGxldHNcbiAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYnVsbGV0cylcbiAgICAgIDogMVxuICAgIGlmIChidWxsZXRzICsgMSA+PSBtYXhCdWxsZXRzKSBhd2FpdCB0aGlzLnNldEJ1bGxldHMobWF4QnVsbGV0cylcbiAgICBlbHNlIGF3YWl0IHRoaXMuc2V0QnVsbGV0cyhidWxsZXRzICsgMSlcbiAgfVxuXG4gIGFzeW5jIHNob290QnVsbGV0cyAoeCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGJ1bGxldHMgPSBhd2FpdCB0aGlzLmdldEJ1bGxldExlZnQoKVxuICAgIGlmICh4ID4gYnVsbGV0cykgYXdhaXQgdGhpcy5zZXRCdWxsZXRzKDApXG4gICAgZWxzZSBhd2FpdCB0aGlzLnNldEJ1bGxldHMoYnVsbGV0cyAtIHgpXG4gIH1cblxuICBzdGF0aWMgbWVyZ2VPcHRpb25hbFNraWxscyAoc2tpbGxMaXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgam9pbnRBcnJheSA9IHNraWxsTGlzdC5jb25jYXQob3B0aW9ucylcbiAgICByZXR1cm4gam9pbnRBcnJheVxuICAgICAgLnJlZHVjZSgobmV3QXJyYXksIGl0ZW0pID0+IHtcbiAgICAgICAgLy8gSWYgc2tpbGwgaXMgbm90IGEgZ2VuZXJpYyBzcGVjIGFuZCBpcyBhbHJlYWR5IGluY2x1ZGVkIHdlIGRvbid0IGFkZCBpdGVtXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhQ29DN0l0ZW0uaXNBbnlTcGVjKGl0ZW0pICYmXG4gICAgICAgICAgbmV3QXJyYXkuZmluZChza2lsbCA9PiBza2lsbC5uYW1lID09PSBpdGVtLm5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBuZXdBcnJheVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgaXRlbSBpcyBhZGRlZFxuICAgICAgICByZXR1cm4gWy4uLm5ld0FycmF5LCBpdGVtXVxuICAgICAgfSwgW10pXG4gICAgICAuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gIH1cblxuICAvKiogVE9ETyA6IHJpZW4gYSBmYWlyZSBpY2kgISFcbiAgICogR2V0IHRoZSBBY3RvciB3aGljaCBpcyB0aGUgYXV0aG9yIG9mIGEgY2hhdCBjYXJkXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhcmQgICAgVGhlIGNoYXQgY2FyZCBiZWluZyB1c2VkXG4gICAqIEByZXR1cm4ge0FjdG9yfG51bGx9ICAgICAgICAgVGhlIEFjdG9yIGVudGl0eSBvciBudWxsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2dldENoYXRDYXJkQWN0b3IgKGNhcmQpIHtcbiAgICAvLyBDYXNlIDEgLSBhIHN5bnRoZXRpYyBhY3RvciBmcm9tIGEgVG9rZW5cbiAgICBjb25zdCB0b2tlbktleSA9IGNhcmQuZGF0YXNldC50b2tlbklkXG4gICAgaWYgKHRva2VuS2V5KSB7XG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSB0b2tlbktleS5zcGxpdCgnLicpXG4gICAgICBpZiAoc2NlbmVJZCA9PT0gJ1RPS0VOJykge1xuICAgICAgICByZXR1cm4gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZClcbiAgICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuIG51bGxcbiAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gc2NlbmUuZ2V0RW1iZWRkZWREb2N1bWVudCgnVG9rZW4nLCB0b2tlbklkKVxuICAgICAgICBpZiAoIXRva2VuRGF0YSkgcmV0dXJuIG51bGxcbiAgICAgICAgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW4odG9rZW5EYXRhKVxuICAgICAgICByZXR1cm4gdG9rZW4uYWN0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYXNlIDIgLSB1c2UgQWN0b3IgSUQgZGlyZWN0b3J5XG4gICAgY29uc3QgYWN0b3JJZCA9IGNhcmQuZGF0YXNldC5hY3RvcklkXG4gICAgcmV0dXJuIGdhbWUuYWN0b3JzLmdldChhY3RvcklkKSB8fCBudWxsXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAvKiAgQ2hhdCBNZXNzYWdlIEhlbHBlcnMgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlIGFuIG9iamVjdCBvZiBjaGF0IGRhdGEgdXNlZCB0byBkaXNwbGF5IGEgY2FyZCBmb3IgdGhlIEl0ZW0gaW4gdGhlIGNoYXQgbG9nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBodG1sT3B0aW9ucyAgICBPcHRpb25zIHVzZWQgYnkgdGhlIFRleHRFZGl0b3IuZW5yaWNoSFRNTCBmdW5jdGlvblxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgQW4gb2JqZWN0IG9mIGNoYXQgZGF0YSB0byByZW5kZXJcbiAgICovXG4gIGdldENoYXREYXRhIChodG1sT3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gRm91bmRyeVZUVCB2MTBcbiAgICBodG1sT3B0aW9ucy5hc3luYyA9IGZhbHNlXG4gICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbSlcbiAgICAvLyBGaXggOiBkYXRhIGNhbiBoYXZlIGRlc2NyaXB0aW9uIGRpcmVjdGx5IGluIGZpZWxkLCBub3QgdW5kZXIgdmFsdWUuXG4gICAgaWYgKHR5cGVvZiBkYXRhLmRlc2NyaXB0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgdmFsdWU6IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIHNwZWNpYWw6ICcnXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSAnJ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEuZGVzY3JpcHRpb24uc3BlY2lhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuZGVzY3JpcHRpb24uc3BlY2lhbCA9ICcnXG4gICAgfVxuICAgIGNvbnN0IGxhYmVscyA9IFtdXG5cbiAgICAvLyBSaWNoIHRleHQgZGVzY3JpcHRpb25cbiAgICBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIGh0bWxPcHRpb25zXG4gICAgKVxuICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSlcbiAgICBkYXRhLmRlc2NyaXB0aW9uLnNwZWNpYWwgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBkYXRhLmRlc2NyaXB0aW9uLnNwZWNpYWwsXG4gICAgICBodG1sT3B0aW9uc1xuICAgIClcbiAgICBkYXRhLmRlc2NyaXB0aW9uLnNwZWNpYWwgPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoZGF0YS5kZXNjcmlwdGlvbi5zcGVjaWFsKVxuXG4gICAgLy8gSXRlbSB0eXBlIHNwZWNpZmljIHByb3BlcnRpZXNcbiAgICBjb25zdCBwcm9wcyA9IFtdXG4gICAgY29uc3QgZm4gPSB0aGlzW2BfJHt0aGlzLnR5cGV9Q2hhdERhdGFgXVxuICAgIGlmIChmbikgZm4uYmluZCh0aGlzKShkYXRhLCBsYWJlbHMsIHByb3BzLCBodG1sT3B0aW9ucylcblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuc2tpbGxQcm9wZXJ0aWVzKSkge1xuICAgICAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllc1trZXldID09PSB0cnVlKSBwcm9wcy5wdXNoKHZhbHVlKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbHRlciBwcm9wZXJ0aWVzIGFuZCByZXR1cm5cbiAgICBkYXRhLnByb3BlcnRpZXMgPSBwcm9wcy5maWx0ZXIocCA9PiAhIXApXG4gICAgZGF0YS5sYWJlbHMgPSBsYWJlbHNcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgX3dlYXBvbkNoYXREYXRhIChkYXRhLCBsYWJlbHMsIHByb3BzKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy53ZWFwb25Qcm9wZXJ0aWVzKSkge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXNba2V5XSA9PT0gdHJ1ZSkgcHJvcHMucHVzaCh2YWx1ZSlcbiAgICB9XG5cbiAgICBsZXQgc2tpbGxMYWJlbCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ta2lsbCcpXG4gICAgbGV0IHNraWxsTmFtZSA9ICcnXG4gICAgbGV0IGZvdW5kID0gZmFsc2VcbiAgICBpZiAodGhpcy5zeXN0ZW0uc2tpbGwubWFpbi5pZCkge1xuICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yPy5pdGVtcy5nZXQodGhpcy5zeXN0ZW0uc2tpbGwubWFpbi5pZClcbiAgICAgIGlmIChza2lsbCkge1xuICAgICAgICBza2lsbE5hbWUgKz0gQ29DN0l0ZW0uZ2V0TmFtZVdpdGhvdXRTcGVjKHNraWxsKVxuICAgICAgICBmb3VuZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy51c2VzQWx0ZXJuYXRpdmVTa2lsbCAmJiB0aGlzLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkKSB7XG4gICAgICBza2lsbExhYmVsID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNraWxscycpXG4gICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3I/Lml0ZW1zLmdldCh0aGlzLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkKVxuICAgICAgaWYgKHNraWxsKSB7XG4gICAgICAgIHNraWxsTmFtZSArPSBgLyR7Q29DN0l0ZW0uZ2V0TmFtZVdpdGhvdXRTcGVjKHNraWxsKX1gXG4gICAgICAgIGZvdW5kID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIHNraWxsTmFtZSA9IHRoaXMuc3lzdGVtLnNraWxsLm1haW4ubmFtZVxuICAgICAgaWYgKHRoaXMudXNlc0FsdGVybmF0aXZlU2tpbGwgJiYgdGhpcy5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lKSB7XG4gICAgICAgIHNraWxsTmFtZSArPSBgLyR7dGhpcy5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lfWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2tpbGxOYW1lKSB7XG4gICAgICBsYWJlbHMucHVzaCh7XG4gICAgICAgIG5hbWU6IHNraWxsTGFiZWwsXG4gICAgICAgIHZhbHVlOiBza2lsbE5hbWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbGFiZWxzLnB1c2goe1xuICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvblVzZXNQZXJSb3VuZCcpLFxuICAgICAgdmFsdWU6IHRoaXMudXNlc1BlclJvdW5kU3RyaW5nXG4gICAgfSlcblxuICAgIGxhYmVscy5wdXNoKHtcbiAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XZWFwb25NYWxmdW5jdGlvbicpLFxuICAgICAgdmFsdWU6IHRoaXMuc3lzdGVtLm1hbGZ1bmN0aW9uID8gdGhpcy5zeXN0ZW0ubWFsZnVuY3Rpb24gOiAnLSdcbiAgICB9KVxuXG4gICAgaWYgKHRoaXMuc3lzdGVtLmJ1bGxldHMpIHtcbiAgICAgIGxhYmVscy5wdXNoKHtcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbkJ1bGxldHNJbk1hZycpLFxuICAgICAgICB2YWx1ZTogdGhpcy5zeXN0ZW0uYnVsbGV0c1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjYW5CZVB1c2hlZCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ3NraWxsJyAmJiB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2gpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgaW1wYWxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5pbXBsXG4gIH1cblxuICBnZXQgaXNEb2RnZSAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvQ0lERmxhZy5rZXlzLmkuc2tpbGwuZG9kZ2UnKS50b0xvd2VyQ2FzZSgpXG4gICAgKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQWN0b3IsIEF1ZGlvSGVscGVyLCBDaGF0TWVzc2FnZSwgQ09ORklHLCBDT05TVCwgZHVwbGljYXRlLCBmb3VuZHJ5LCBmcm9tVXVpZCwgZ2FtZSwgZ2V0Q29tcHV0ZWRTdHlsZSwgSXRlbSwgbWVyZ2VPYmplY3QsIHJlbmRlclRlbXBsYXRlLCBUb2tlbiwgdWkgKi9cbmltcG9ydCB7IENvQzdEaWNlIH0gZnJvbSAnLi9kaWNlLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuL2l0ZW1zL2l0ZW0uanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyLCBDb0M3Um9sbCB9IGZyb20gJy4vY2hhdC9oZWxwZXIuanMnXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4vdXRpbGl0aWVzLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NoZWNrIHtcbiAgY29uc3RydWN0b3IgKFxuICAgIGFjdG9yID0gbnVsbCxcbiAgICBza2lsbCA9IG51bGwsXG4gICAgaXRlbSA9IG51bGwsXG4gICAgZGljZU1vZCA9IDAsXG4gICAgZGlmZmljdWx0eSA9IG51bGwsXG4gICAgZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gMCxcbiAgICBmbGF0RGljZU1vZGlmaWVyID0gMFxuICApIHtcbiAgICB0aGlzLmFjdG9yID0gYWN0b3JcbiAgICB0aGlzLnNraWxsID0gc2tpbGxcbiAgICB0aGlzLml0ZW0gPSBpdGVtXG4gICAgdGhpcy5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgIHRoaXMuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgIHRoaXMucmF3VmFsdWUgPSAwIC8vIHZhbHVlIG5lZWRlZCBiZWZvcmUgZGlmZmljdWx0eVxuICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gbnVsbFxuICAgIHRoaXMucmVmZXJlbmNlTWVzc2FnZUlkID0gbnVsbFxuICAgIHRoaXMucHVzaGluZyA9IGZhbHNlXG4gICAgdGhpcy5mbGF0RGljZU1vZGlmaWVyID0gZmxhdERpY2VNb2RpZmllclxuICAgIHRoaXMuZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gZmxhdFRocmVzaG9sZE1vZGlmaWVyXG5cbiAgICBpZiAoZGlmZmljdWx0eSA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgaXNVbmtub3duID1cbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGVmYXVsdENoZWNrRGlmZmljdWx0eScpID09PSAndW5rbm93bidcbiAgICAgIHRoaXMuZGlmZmljdWx0eSA9IGlzVW5rbm93blxuICAgICAgICA/IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwudW5rbm93blxuICAgICAgICA6IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgY2FyZFR5cGUgKCkge1xuICAgIHJldHVybiAncm9sbENhcmQnXG4gIH1cblxuICBzdGF0aWMgZ2V0IGRpZmZpY3VsdHlMZXZlbCAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVua25vd246IC0xLFxuICAgICAgcmVndWxhcjogMSxcbiAgICAgIGhhcmQ6IDIsXG4gICAgICBleHRyZW1lOiAzLFxuICAgICAgY3JpdGljYWw6IDQsXG4gICAgICBpbXBvc3NpYmxlOiA5XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdWNjZXNzTGV2ZWwgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmdW1ibGU6IC05OSxcbiAgICAgIGZhaWx1cmU6IDAsXG4gICAgICByZWd1bGFyOiAxLFxuICAgICAgaGFyZDogMixcbiAgICAgIGV4dHJlbWU6IDMsXG4gICAgICBjcml0aWNhbDogNFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgdHlwZSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYXJhY3RlcmlzdGljOiAnY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgYXR0cmlidXRlOiAnYXR0cmlidXRlJyxcbiAgICAgIHNraWxsOiAnaXRlbScsXG4gICAgICBpdGVtOiAnaXRlbScsXG4gICAgICB2YWx1ZTogJ3ZhbHVlJ1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkaWZmaWN1bHR5U3RyaW5nIChkaWZmaWN1bHR5TGV2ZWwpIHtcbiAgICBzd2l0Y2ggKFxuICAgICAgIWlzTmFOKE51bWJlcihkaWZmaWN1bHR5TGV2ZWwpKVxuICAgICAgICA/IE51bWJlcihkaWZmaWN1bHR5TGV2ZWwpXG4gICAgICAgIDogZGlmZmljdWx0eUxldmVsXG4gICAgKSB7XG4gICAgICBjYXNlICc/JzpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Vbmtub3duRGlmZmljdWx0eScpXG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkRGlmZmljdWx0eScpXG4gICAgICBjYXNlICcrKyc6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknKVxuICAgICAgY2FzZSAnKysrJzpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Dcml0aWNhbERpZmZpY3VsdHknKVxuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC51bmtub3duOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlVua25vd25EaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmREaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVEaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5jcml0aWNhbDpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Dcml0aWNhbERpZmZpY3VsdHknKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXQgcmF3VmFsdWUgKCkge1xuICAgIC8vIGlmICghdGhpcy5hY3RvciB8fCAhdGhpcy5hY3Rvci5pZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghdGhpcy5fcmF3VmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgIHRoaXMucmF3VmFsdWUgPVxuICAgICAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1t0aGlzLmNoYXJhY3RlcmlzdGljXS52YWx1ZVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2tpbGwpIHRoaXMucmF3VmFsdWUgPSB0aGlzLnNraWxsLnZhbHVlXG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGUpIHtcbiAgICAgICAgdGhpcy5yYXdWYWx1ZSA9IHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnNbdGhpcy5hdHRyaWJ1dGVdLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl9yYXdWYWx1ZSkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmZsYXRUaHJlc2hvbGRNb2RpZmllciAmJlxuICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhbGxvd0ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jhd1ZhbHVlICsgdGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPCAxKSByZXR1cm4gMVxuICAgICAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWUgKyB0aGlzLmZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3Jhd1ZhbHVlXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCByYXdWYWx1ZSAoeCkge1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0geFxuICB9XG5cbiAgc2V0IHV1aWQgKHgpIHtcbiAgICB0aGlzLl91dWlkID0geFxuICB9XG5cbiAgZ2V0IHV1aWQgKCkge1xuICAgIGlmICghdGhpcy5fdXVpZCkgdGhpcy5fdXVpZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpXG4gICAgcmV0dXJuIHRoaXMuX3V1aWRcbiAgfVxuXG4gIGdldCBoYXNDYXJkICgpIHtcbiAgICBjb25zdCBjaGF0Q2FyZCA9IHVpLmNoYXQuY29sbGVjdGlvbi5maWx0ZXIobWVzc2FnZSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnV1aWQgPT09IG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICd1dWlkJykgJiZcbiAgICAgICAgQ29DN0NoZWNrLmNhcmRUeXBlID09PSBtZXNzYWdlLmdldEZsYWcoJ0NvQzcnLCAndHlwZScpXG4gICAgICApXG4gICAgfSlcbiAgICBpZiAoY2hhdENhcmQubGVuZ3RoID4gMCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCByYXdWYWx1ZVN0cmluZyAoKSB7XG4gICAgaWYgKCF0aGlzLl9yYXdWYWx1ZSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChcbiAgICAgIHRoaXMuZmxhdFRocmVzaG9sZE1vZGlmaWVyICYmXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhbGxvd0ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZS50b1N0cmluZygpICsgdGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIudG9TdHJpbmcoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUudG9TdHJpbmcoKSArICcrJyArIHRoaXMuZmxhdFRocmVzaG9sZE1vZGlmaWVyLnRvU3RyaW5nKClcbiAgICAgIClcbiAgICB9IGVsc2UgcmV0dXJuIHRoaXMuX3Jhd1ZhbHVlLnRvU3RyaW5nKClcbiAgfVxuXG4gIGdldCBjcml0aWNhbFRocmVzaG9sZCAoKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIGdldCByZWd1bGFyVGhyZXNob2xkICgpIHtcbiAgICBpZiAodGhpcy5yYXdWYWx1ZSkge1xuICAgICAgaWYgKHRoaXMucmF3VmFsdWUgPj0gMTAwKSByZXR1cm4gOTlcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnJhd1ZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGhhcmRUaHJlc2hvbGQgKCkge1xuICAgIGlmICh0aGlzLnJhd1ZhbHVlKSByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnJhd1ZhbHVlIC8gMilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGV4dHJlbWVUaHJlc2hvbGQgKCkge1xuICAgIGlmICh0aGlzLnJhd1ZhbHVlKSByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnJhd1ZhbHVlIC8gNSlcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGZ1bWJsZVRocmVzaG9sZCAoKSB7XG4gICAgaWYgKHRoaXMucmF3VmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlmZmljdWx0eSA+PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5leHRyZW1lVGhyZXNob2xkIDwgNTAgPyA5NiA6IDEwMFxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlmZmljdWx0eSA+PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oYXJkVGhyZXNob2xkIDwgNTAgPyA5NiA6IDEwMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yYXdWYWx1ZSA8IDUwID8gOTYgOiAxMDBcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBzdWNjZXNUaHJlc2hvbGQgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5kaWZmaWN1bHR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc3dpdGNoICh0aGlzLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWU6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5oYXJkVGhyZXNob2xkXG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyOlxuICAgICAgICAgIHJldHVybiB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsOlxuICAgICAgICAgIHJldHVybiB0aGlzLmNyaXRpY2FsVGhyZXNob2xkXG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC51bmtub3duOlxuICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLnJhd1ZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgZGlmZmljdWx0eVN0cmluZyAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmRpZmZpY3VsdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuZGlmZmljdWx0eSkge1xuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZTpcbiAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FeHRyZW1lRGlmZmljdWx0eScpXG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkOlxuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkhhcmREaWZmaWN1bHR5JylcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXI6XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUmVndWxhckRpZmZpY3VsdHknKVxuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWw6XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ3JpdGljYWxEaWZmaWN1bHR5JylcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnVua25vd246XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVW5rbm93bkRpZmZpY3VsdHknKVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGdldCBtb2RpZmllZFJlc3VsdCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0eXBlb2YgdGhpcy5fbW9kaWZpZWRSZXN1bHQgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpcy5fbW9kaWZpZWRSZXN1bHRcbiAgICBpZiAodGhpcy5mbGF0RGljZU1vZGlmaWVyKSB7XG4gICAgICBjb25zdCBtb2RpZmllZCA9IHRoaXMuZGljZXMudG90YWwgKyB0aGlzLmZsYXREaWNlTW9kaWZpZXJcbiAgICAgIGlmIChtb2RpZmllZCA8IDEpIHJldHVybiAxXG4gICAgICBpZiAobW9kaWZpZWQgPiAxMDApIHJldHVybiAxMDBcbiAgICAgIHJldHVybiBtb2RpZmllZFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kaWNlcy50b3RhbFxuICB9XG5cbiAgc2V0IG1vZGlmaWVkUmVzdWx0ICh4KSB7XG4gICAgdGhpcy5fbW9kaWZpZWRSZXN1bHQgPSB4XG4gIH1cblxuICBnZXQgZmxhdERpY2VNb2RpZmllclN0cmluZyAoKSB7XG4gICAgaWYgKCF0aGlzLmZsYXREaWNlTW9kaWZpZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHRoaXMuZmxhdERpY2VNb2RpZmllciA+IDApIHJldHVybiBgKyR7dGhpcy5mbGF0RGljZU1vZGlmaWVyfWBcbiAgICByZXR1cm4gdGhpcy5mbGF0RGljZU1vZGlmaWVyLnRvU3RyaW5nKClcbiAgfVxuXG4gIGdldCBpc0Z1bWJsZSAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0aGlzLmlzU2ltcGxlUm9sbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLm1vZGlmaWVkUmVzdWx0ID49IHRoaXMuZnVtYmxlVGhyZXNob2xkXG4gIH1cblxuICBnZXQgaXNDcml0aWNhbCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLm1vZGlmaWVkUmVzdWx0ID09PSAxXG4gIH1cblxuICBnZXQgaXNFeHRyZW1lU3VjY2VzcyAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLnN1Y2Nlc3NMZXZlbCA+PSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWVcbiAgfVxuXG4gIGdldCBwYXNzZWQgKCkge1xuICAgIGlmICh0aGlzLnN0YW5kYnkpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodGhpcy5pc1NpbXBsZVJvbGwpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodGhpcy5sdWNrU3BlbnQpIHJldHVybiB0aGlzLmRpZmZpY3VsdHkgPD0gdGhpcy5zdWNjZXNzTGV2ZWxcbiAgICByZXR1cm4gdGhpcy5zdWNjZXNUaHJlc2hvbGQgPj0gdGhpcy5tb2RpZmllZFJlc3VsdCB8fCB0aGlzLmlzQ3JpdGljYWxcbiAgfVxuXG4gIGdldCBmYWlsZWQgKCkge1xuICAgIGlmICh0aGlzLnN0YW5kYnkpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodGhpcy5pc1NpbXBsZVJvbGwpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gIXRoaXMucGFzc2VkXG4gIH1cblxuICBnZXQgaXNTaW1wbGVSb2xsICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucmF3VmFsdWUgPT09ICd1bmRlZmluZWQnXG4gIH1cblxuICBnZXQgaGFzQm9udXMgKCkge1xuICAgIGlmICh0aGlzLmRpY2VNb2RpZmllciAmJiB0aGlzLmRpY2VNb2RpZmllciA+IDApIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgaGFzUGVuYWx0eSAoKSB7XG4gICAgaWYgKHRoaXMuZGljZU1vZGlmaWVyICYmIHRoaXMuZGljZU1vZGlmaWVyIDwgMCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBoYXNNb2RpZmllciAoKSB7XG4gICAgaWYgKHRoaXMuZGljZU1vZGlmaWVyICYmIHRoaXMuZGljZU1vZGlmaWVyICE9PSAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGRpY2VNb2RpZmllciAoKSB7XG4gICAgaWYgKHRoaXMuX2RpY2VNb2RpZmllcikgcmV0dXJuIHRoaXMuX2RpY2VNb2RpZmllclxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBzZXQgZGljZU1vZGlmaWVyICh4KSB7XG4gICAgdGhpcy5fZGljZU1vZGlmaWVyID0gcGFyc2VJbnQoeClcbiAgfVxuXG4gIGdldCBuYW1lICgpIHtcbiAgICBpZiAodGhpcy5hY3Rvcikge1xuICAgICAgaWYgKHRoaXMuc2tpbGwpIHJldHVybiB0aGlzLnNraWxsLnNob3J0TmFtZVxuICAgICAgaWYgKHRoaXMuaXRlbSkgcmV0dXJuIHRoaXMuaXRlbS5uYW1lXG4gICAgICBpZiAodGhpcy5jaGFyYWN0ZXJpc3RpYykge1xuICAgICAgICByZXR1cm4gQ29DN1V0aWxpdGllcy5nZXRDaGFyYWN0ZXJpc3RpY05hbWVzKHRoaXMuY2hhcmFjdGVyaXN0aWMpPy5sYWJlbFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYXR0cmlidXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZSA9PT0gJ2xjaycpIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTHVjaycpXG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZSA9PT0gJ3NhbicpIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5JylcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBzaG9ydE5hbWUgKCkge1xuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBpZiAodGhpcy5za2lsbCkgcmV0dXJuIHRoaXMuc2tpbGwuc2hvcnROYW1lXG4gICAgICBpZiAodGhpcy5pdGVtKSByZXR1cm4gdGhpcy5pdGVtLm5hbWVcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgIHJldHVybiBDb0M3VXRpbGl0aWVzLmdldENoYXJhY3RlcmlzdGljTmFtZXModGhpcy5jaGFyYWN0ZXJpc3RpYyk/LnNob3J0XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlID09PSAnbGNrJykgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJylcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlID09PSAnc2FuJykgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TQU4nKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGZ1bGxOYW1lICgpIHtcbiAgICBjb25zdCBkaWZmaWN1bHR5ID1cbiAgICAgIHRoaXMuX2RpZmZpY3VsdHkgPT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogQ29DN0NoZWNrLmRpZmZpY3VsdHlTdHJpbmcodGhpcy5fZGlmZmljdWx0eSlcbiAgICBjb25zdCBtb2RpZmllciA9XG4gICAgICB0aGlzLl9kaWNlTW9kaWZpZXIgPiAwXG4gICAgICAgID8gYCske3RoaXMuX2RpY2VNb2RpZmllcn1gXG4gICAgICAgIDogdGhpcy5fZGljZU1vZGlmaWVyLnRvU3RyaW5nKClcbiAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgIGBDb0M3LkxpbmtDaGVjayR7IWRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30ke1xuICAgICAgICAhdGhpcy5fZGljZU1vZGlmaWVyID8gJycgOiAnTW9kaWYnXG4gICAgICB9YCxcbiAgICAgIHsgZGlmZmljdWx0eSwgbW9kaWZpZXIsIG5hbWU6IHRoaXMubmFtZSB9XG4gICAgKVxuICB9XG5cbiAgZ2V0IHJvbGxlZCAoKSB7XG4gICAgaWYgKHRoaXMuZGljZSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBjaGVjayBmcm9tIGFuIEhUTUxFbGVtZW50IG9yIGEgY2hhdCBjYXJkLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYXJkICBUaGUgSFRNTEVsZW1lbnQgdGhhdCBpcyBhIHJvbGwtcmVzdWx0IG9yIGEgY2hhdCBjYXJkIGNvbnRhaW5pbmcgYSBzaW5nbGUgcm9sbC1yZXN1bHQuXG4gICAqIEByZXR1cm4ge0NvQzdDaGVja30gICAgICBBIENvQzdDaGVjay5cbiAgICovXG4gIHN0YXRpYyBnZXRGcm9tQ2FyZCAoY2FyZCkge1xuICAgIGNvbnN0IHJvbGxSZXN1bHQgPSBjYXJkLmNsYXNzTGlzdC5jb250YWlucygncm9sbC1yZXN1bHQnKVxuICAgICAgPyBjYXJkXG4gICAgICA6IGNhcmQucXVlcnlTZWxlY3RvcignLnJvbGwtcmVzdWx0JylcbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIENvQzdSb2xsLmdldEZyb21FbGVtZW50KHJvbGxSZXN1bHQsIGNoZWNrKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJylcbiAgICBjaGVjay5tZXNzYWdlSWQgPSBtZXNzYWdlID8gbWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZCA6IG51bGxcbiAgICByZXR1cm4gY2hlY2tcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBwdXNoIChjYXJkLCBwdWJsaXNoID0gdHJ1ZSkge1xuICAgIGNvbnN0IG9sZENoZWNrID0gQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpIC8vIFRPRE86IFJlZmFjdG9yaW5nXG4gICAgY29uc3QgYWN0b3JJZCA9IGNhcmQuZGF0YXNldC50b2tlbklkXG4gICAgICA/IGNhcmQuZGF0YXNldC50b2tlbklkXG4gICAgICA6IGNhcmQuZGF0YXNldC5hY3RvcklkXG4gICAgY29uc3Qgc2tpbGxJZCA9IGNhcmQuZGF0YXNldC5za2lsbElkXG4gICAgY29uc3QgY2hhcmFjID0gY2FyZC5kYXRhc2V0LmNoYXJhY3RlcmlzdGljXG4gICAgY29uc3QgaXRlbUlkID0gY2FyZC5kYXRhc2V0Lml0ZW1JZFxuICAgIGNvbnN0IGRpY2VNb2QgPSBjYXJkLmRhdGFzZXQuZGljZU1vZFxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBjYXJkLmRhdGFzZXQuZGlmZmljdWx0eVxuXG4gICAgbGV0IHB1c2hlZFJvbGxcbiAgICBpZiAoc2tpbGxJZCkge1xuICAgICAgcHVzaGVkUm9sbCA9IG5ldyBDb0M3Q2hlY2soYWN0b3JJZCwgc2tpbGxJZCwgaXRlbUlkLCBkaWNlTW9kLCBkaWZmaWN1bHR5KVxuICAgIH0gZWxzZSBpZiAoY2hhcmFjKSB7XG4gICAgICBwdXNoZWRSb2xsID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBwdXNoZWRSb2xsLmRpY2VNb2RpZmllciA9IGRpY2VNb2RcbiAgICAgIHB1c2hlZFJvbGwuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICAgIHB1c2hlZFJvbGwuYWN0b3IgPSBhY3RvcklkXG4gICAgICBwdXNoZWRSb2xsLmNoYXJhY3RlcmlzdGljID0gY2hhcmFjXG4gICAgfSBlbHNlIHJldHVyblxuICAgIGlmIChvbGRDaGVjay51dWlkKSB7XG4gICAgICBwdXNoZWRSb2xsLmNvbnRleHQgPSBvbGRDaGVjay5jb250ZXh0XG4gICAgICBwdXNoZWRSb2xsLnV1aWQgPSBvbGRDaGVjay51dWlkXG4gICAgfVxuICAgIGlmIChvbGRDaGVjay5wYXJlbnQpIHB1c2hlZFJvbGwucGFyZW50ID0gb2xkQ2hlY2sucGFyZW50XG4gICAgcHVzaGVkUm9sbC5wdXNoaW5nID0gdHJ1ZVxuICAgIGF3YWl0IHB1c2hlZFJvbGwucm9sbCgpXG4gICAgaWYgKHB1Ymxpc2gpIHB1c2hlZFJvbGwudG9NZXNzYWdlKHRydWUsIGNhcmQpXG4gIH1cblxuICBnZXQgdG9rZW4gKCkge1xuICAgIGlmICghdGhpcy5hY3RvcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgfVxuXG4gIHNldCBhY3RvciAoeCkge1xuICAgIHRoaXMuYWN0b3JLZXkgPSB4XG4gICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgdGhpcy5fYWN0b3IgPSB4XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoeCBpbnN0YW5jZW9mIEFjdG9yKSB7XG4gICAgICAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIHRoaXMuX2FjdG9yID0geFxuICAgICAgdGhpcy5fYWN0b3IuYWxpYXMgPSB0aGlzLmFjdG9yLm5hbWVcbiAgICAgIGlmICh4LnRva2VuICYmIHgudG9rZW4uc2NlbmUgJiYgeC50b2tlbi5zY2VuZS5pZCkge1xuICAgICAgICB0aGlzLmFjdG9yS2V5ID0gYCR7eC50b2tlbi5zY2VuZS5pZH0uJHt4LnRva2VuLmlkfWBcbiAgICAgIH0gZWxzZSB0aGlzLmFjdG9yS2V5ID0geC5pZCAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh4LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IHguc3BsaXQoJy4nKSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmIChzY2VuZUlkID09PSAnVE9LRU4nKSB7XG4gICAgICAgIHRoaXMuX2FjdG9yID0gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgICB0aGlzLl9hY3Rvci5hbGlhcyA9IHRoaXMuX2FjdG9yLm5hbWUgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm5cbiAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gc2NlbmUuZ2V0RW1iZWRkZWREb2N1bWVudCgnVG9rZW4nLCB0b2tlbklkKVxuICAgICAgICBpZiAoIXRva2VuRGF0YSkgcmV0dXJuXG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSlcbiAgICAgICAgdGhpcy5fYWN0b3IgPSB0b2tlbi5hY3RvclxuICAgICAgICB0aGlzLl9hY3Rvci5hbGlhcyA9IHRva2VuLm5hbWVcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuX2FjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHgpXG4gICAgdGhpcy5hY3Rvci5hbGlhcyA9IHRoaXMuYWN0b3IubmFtZVxuICB9XG5cbiAgZ2V0IHN1Y2Nlc3NMZXZlbEljb25zICgpIHtcbiAgICBpZiAodGhpcy51bmtub3duRGlmZmljdWx0eSkgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5pc1NpbXBsZVJvbGwpIHJldHVybiBudWxsXG4gICAgaWYgKHRoaXMuc3VjY2Vzc0xldmVsID49IHRoaXMuZGlmZmljdWx0eSkge1xuICAgICAgY29uc3QgaWNvbnMgPSBbXVxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgaW5kZXggPCB0aGlzLnN1Y2Nlc3NMZXZlbCAtIHRoaXMuZGlmZmljdWx0eSArIDE7XG4gICAgICAgIGluZGV4KytcbiAgICAgICkge1xuICAgICAgICBpY29ucy5wdXNoKHRoaXMuaXNDcml0aWNhbCA/ICdtZWRhbCcgOiAnc3RhcicpXG4gICAgICB9XG4gICAgICBjb25zdCBzdWNjZXNzSGludCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU3VjY2VzTGV2ZWxIaW50Jywge1xuICAgICAgICB2YWx1ZTogdGhpcy5zdWNjZXNzTGV2ZWwgLSB0aGlzLmRpZmZpY3VsdHkgKyAxXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY3NzQ2xhc3M6IHRoaXMuaXNDcml0aWNhbCA/ICdjcml0aWNhbCcgOiAnc3VjY2VzcycsXG4gICAgICAgIGhpbnQ6IHN1Y2Nlc3NIaW50LFxuICAgICAgICBpY29uc1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpY29ucyA9IFtdXG4gICAgICBjb25zdCBzdWNjZXNzTGV2ZWwgPSB0aGlzLmlzRnVtYmxlID8gLTEgOiB0aGlzLnN1Y2Nlc3NMZXZlbFxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGlmZmljdWx0eSAtIHN1Y2Nlc3NMZXZlbDsgaW5kZXgrKykge1xuICAgICAgICBpY29ucy5wdXNoKHRoaXMuaXNGdW1ibGUgPyAnc2t1bGwnIDogJ3NwaWRlcicpXG4gICAgICB9XG4gICAgICBjb25zdCBmYWlsdXJlSGludCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRmFpbHVyZUxldmVsSGludCcsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuZGlmZmljdWx0eSAtIHN1Y2Nlc3NMZXZlbFxuICAgICAgfSlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBjc3NDbGFzczogdGhpcy5pc0Z1bWJsZSA/ICdmdW1ibGUnIDogJ2ZhaWx1cmUnLFxuICAgICAgICBoaW50OiBmYWlsdXJlSGludCxcbiAgICAgICAgaWNvbnNcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgaXNCbGluZCAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5faXNCbGluZCkge1xuICAgICAgdGhpcy5faXNCbGluZCA9IHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc0JsaW5kXG4gIH1cblxuICBzZXQgaXNCbGluZCAoeCkge1xuICAgIHRoaXMuX2lzQmxpbmQgPSB4XG4gIH1cblxuICBnZXQgdW5rbm93bkRpZmZpY3VsdHkgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZ21EaWZmaWN1bHR5Q3JpdGljYWwgfHxcbiAgICAgIHRoaXMuZ21EaWZmaWN1bHR5RXh0cmVtZSB8fFxuICAgICAgdGhpcy5nbURpZmZpY3VsdHlIYXJkIHx8XG4gICAgICB0aGlzLmdtRGlmZmljdWx0eVJlZ3VsYXJcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC51bmtub3duID09PSB0aGlzLmRpZmZpY3VsdHlcbiAgfVxuXG4gIGdldCByb2xsTW9kZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9yb2xsTW9kZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgcmV0dXJuIHRoaXMuX3JvbGxNb2RlXG4gIH1cblxuICBzZXQgcm9sbE1vZGUgKHgpIHtcbiAgICBpZiAoeCA9PT0gZmFsc2UpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHRoaXMuX3JvbGxNb2RlID0geFxuICB9XG5cbiAgc2V0IHNraWxsICh4KSB7XG4gICAgdGhpcy5fc2tpbGwgPSB0aGlzLl9nZXRJdGVtRnJvbUlkKHgpXG4gICAgdGhpcy5za2lsbElkID0geFxuICB9XG5cbiAgc2V0IGl0ZW0gKHgpIHtcbiAgICB0aGlzLl9pdGVtID0gdGhpcy5fZ2V0SXRlbUZyb21JZCh4KVxuICAgIGlmICh0aGlzLl9pdGVtPy50eXBlID09PSAnd2VhcG9uJykge1xuICAgICAgdGhpcy5pdGVtSWQgPSB4XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2l0ZW0gPSB1bmRlZmluZWRcbiAgICAgIHRoaXMuaXRlbUlkID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgX2dldEl0ZW1Gcm9tSWQgKHgpIHtcbiAgICBpZiAoeCA9PSBudWxsKSByZXR1cm4gbnVsbFxuICAgIGlmICh4IGluc3RhbmNlb2YgSXRlbSkgcmV0dXJuIHhcbiAgICBpZiAodGhpcy5fYWN0b3IpIHJldHVybiB0aGlzLl9hY3Rvci5pdGVtcy5nZXQoeClcbiAgICByZXR1cm4gZ2FtZS5pdGVtcy5nZXQoeClcbiAgfVxuXG4gIGdldCBhY3RvciAoKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RvciB8fCAhdGhpcy5fYWN0b3I/LmlkKSB7XG4gICAgICBpZiAodGhpcy5hY3RvcktleSkgdGhpcy5fYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmICh0aGlzLmFjdG9ySWQpIHRoaXMuX2FjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcklkKSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmICghdGhpcy5fYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc0R1bW15OiB0cnVlLFxuICAgICAgICAgIG5hbWU6IHRoaXMuYWN0b3JOYW1lID8gdGhpcy5hY3Rvck5hbWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBpbWc6ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3F1ZXN0aW9uLWNpcmNsZS1yZWd1bGFyLnN2ZycsXG4gICAgICAgICAgcG9ydHJhaXQ6ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3F1ZXN0aW9uLWNpcmNsZS1yZWd1bGFyLnN2ZydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0b3IuY29uc3RydWN0b3IubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIGNvbnN0IGFjdG9yID0gbmV3IENvQ0FjdG9yKHRoaXMuX2FjdG9yKVxuICAgICAgdGhpcy5fYWN0b3IgPSBhY3RvclxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWN0b3JcbiAgfVxuXG4gIGdldCBza2lsbCAoKSB7XG4gICAgaWYgKCF0aGlzLl9za2lsbCAmJiB0aGlzLnNraWxsSWQpIHtcbiAgICAgIHRoaXMuX3NraWxsID0gdGhpcy5hY3Rvcj8uaXRlbXMuZ2V0KHRoaXMuc2tpbGxJZClcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9za2lsbCAmJiB0aGlzLml0ZW0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW0uc3lzdGVtLnNraWxsKSB7XG4gICAgICAgIGlmICh0aGlzLml0ZW0uc3lzdGVtLnNraWxsLm1haW4uaWQgJiYgIXRoaXMud2VhcG9uQWx0U2tpbGwpIHtcbiAgICAgICAgICB0aGlzLl9za2lsbCA9IHRoaXMuX2FjdG9yLml0ZW1zLmdldCh0aGlzLml0ZW0uc3lzdGVtLnNraWxsLm1haW4uaWQpXG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdGhpcy5pdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkICYmXG4gICAgICAgICAgdGhpcy53ZWFwb25BbHRTa2lsbFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9za2lsbCA9IHRoaXMuX2FjdG9yLml0ZW1zLmdldChcbiAgICAgICAgICAgIHRoaXMuaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2tpbGxcbiAgfVxuXG4gIGdldCBpdGVtICgpIHtcbiAgICBpZiAoIXRoaXMuX2l0ZW0gJiYgdGhpcy5pdGVtSWQgJiYgdGhpcy5hY3Rvcikge1xuICAgICAgdGhpcy5faXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMuaXRlbUlkKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXRlbVxuICB9XG5cbiAgZ2V0IGRpc3BsYXlSZXN1bHRUeXBlICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheVJlc3VsdFR5cGUnKVxuICB9XG5cbiAgZ2V0IGRpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbCAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbCcpXG4gIH1cblxuICBnZXQgZGlzcGxheUJvdGhTdWNjZXNzTGV2ZWwgKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BsYXlSZXN1bHRUeXBlICYmIHRoaXMuZGlzcGxheUNoZWNrU3VjY2Vzc0xldmVsXG4gIH1cblxuICBnZXQgZG9udERpc3BsYXlTdWNjZXNzTGV2ZWwgKCkge1xuICAgIHJldHVybiAhdGhpcy5kaXNwbGF5UmVzdWx0VHlwZSAmJiAhdGhpcy5kaXNwbGF5Q2hlY2tTdWNjZXNzTGV2ZWxcbiAgfVxuXG4gIGdldCBpbWFnZSAoKSB7XG4gICAgaWYgKHRoaXMuc2tpbGwpIHJldHVybiB0aGlzLnNraWxsLmltZ1xuICAgIGlmICh0aGlzLml0ZW0pIHJldHVybiB0aGlzLml0ZW0uaW1nXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IGxpbmsgKCkge1xuICAgIHJldHVybiB0aGlzLmdldExpbmtFbGVtZW50KCkub3V0ZXJIVE1MXG4gIH1cblxuICBnZXQgZGlzcGxheUFjdG9yT25DYXJkICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJylcbiAgfVxuXG4gIGdldExpbmtFbGVtZW50IChjbGFzc2VzID0gbnVsbCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBjbHM6IFsnY29jNy1saW5rJywgJ2NvYzctcm9sbCddLmNvbmNhdChjbGFzc2VzKSxcbiAgICAgIGRhdGFzZXQ6IHsgY2hlY2s6ICdjaGVjaycgfSxcbiAgICAgIGljb246IHRoaXMuaW1hZ2VcbiAgICAgICAgPyBgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgke3RoaXMuaW1hZ2V9KVwiPjwvZGl2PmBcbiAgICAgICAgOiAnPGkgY2xhc3M9XCJmYXMgZmEtZGljZVwiPjwvaT4nLFxuICAgICAgYmxpbmQ6IHRoaXMuaXNCbGluZFxuICAgIH1cblxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eVN0cmluZyh0aGlzLl9kaWZmaWN1bHR5KVxuICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgIGBDb0M3LkxpbmtDaGVjayR7IXRoaXMuX2RpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30ke1xuICAgICAgICAhdGhpcy5fZGljZU1vZGlmaWVyID8gJycgOiAnTW9kaWYnXG4gICAgICB9YCxcbiAgICAgIHtcbiAgICAgICAgZGlmZmljdWx0eSxcbiAgICAgICAgbW9kaWZpZXI6IHRoaXMuX2RpY2VNb2RpZmllcixcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgICB9XG4gICAgKVxuXG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgIGEudGl0bGUgPSB0aXRsZVxuICAgIGEuY2xhc3NMaXN0LmFkZCguLi5kYXRhLmNscylcbiAgICBhLmlubmVySFRNTCA9IGAke2RhdGEuYmxpbmQgPyAnPGkgY2xhc3M9XCJmYXMgZmEtZXllLXNsYXNoXCI+PC9pPicgOiAnJ30ke1xuICAgICAgZGF0YS5pY29uXG4gICAgfSR7dGhpcy5uYW1lfWBcblxuICAgIHJldHVybiBhXG4gIH1cblxuICBhc3luYyByb2xsIChkaWNlTW9kID0gbnVsbCwgZGlmZmljdWx0eSA9IG51bGwsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChkaWNlTW9kKSB0aGlzLmRpY2VNb2RpZmllciA9IGRpY2VNb2RcbiAgICBpZiAoZGlmZmljdWx0eSkgdGhpcy5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgIGlmICghdGhpcy5zdGFuZGJ5KSBhd2FpdCB0aGlzLl9wZXJmb3JtKG9wdGlvbnMpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgY2hlY2sgd2l0aCB0aGUgcHJvdmlkZWQgZGF0YVxuICAgKiBQcm9jZXNzIHJvbGwgZGF0YSB0byBhIGZvcm1hdCB0aGF0IGNhbiBiZSBmZWQgdG8gY3JlYXRlKClcbiAgICogQHBhcmFtIHsqfSByb2xsRGF0YSBBIHJvbGwgZGF0YSBzdHJ1Y3R1cmUgYXMgcmV0dXJuZWQgYnkgYWN0b3IuZmluZFxuICAgKiBAcmV0dXJucyBBIGNoZWNrIHdpdGggdGhlIHJvbGwgZGF0YSBwcm92aWRlZFxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUZyb21BY3RvclJvbGxEYXRhIChyb2xsRGF0YSkge1xuICAgIGNvbnN0IHJvbGwgPSB7fVxuICAgIC8vIGNoZWNrIE1vZGlmaWVyXG4gICAgaWYgKHJvbGxEYXRhLmRpZmZpY3VsdHkpIHJvbGwuZGlmZmljdWx0eSA9IHJvbGxEYXRhLmRpZmZpY3VsdHlcbiAgICBpZiAocm9sbERhdGEuZGljZU1vZGlmaWVyKSByb2xsLmRpY2VNb2RpZmllciA9IHJvbGxEYXRhLmRpY2VNb2RpZmllclxuICAgIGlmIChyb2xsRGF0YS5kZW55UHVzaCA9PT0gdHJ1ZSkgcm9sbC5kZW55UHVzaCA9IHRydWVcbiAgICBpZiAocm9sbERhdGEuZmxhdERpY2VNb2RpZmllcikge1xuICAgICAgcm9sbC5mbGF0RGljZU1vZGlmaWVyID0gcm9sbERhdGEuZmxhdERpY2VNb2RpZmllclxuICAgIH1cbiAgICBpZiAocm9sbERhdGEuZmxhdFRocmVzaG9sZE1vZGlmaWVyKSB7XG4gICAgICByb2xsLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IHJvbGxEYXRhLmZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgIH1cbiAgICAvLyBBY3RvclxuICAgIGlmIChyb2xsRGF0YS5hY3Rvcj8uYWN0b3JLZXkpIHJvbGwuYWN0b3JLZXkgPSByb2xsRGF0YS5hY3Rvci5hY3RvcktleVxuICAgIGVsc2UgaWYgKHJvbGxEYXRhLmFjdG9yPy5uYW1lKSByb2xsLmFjdG9yTmFtZSA9IHJvbGxEYXRhLmFjdG9yLm5hbWVcbiAgICAvLyBDaGVjayB0eXBlXG4gICAgc3dpdGNoIChyb2xsRGF0YS50eXBlKSB7XG4gICAgICBjYXNlIENvQzdDaGVjay50eXBlLmNoYXJhY3RlcmlzdGljOlxuICAgICAgICByb2xsLmNoYXJhY3RlcmlzdGljID0gcm9sbERhdGEudmFsdWU/LmtleVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2sudHlwZS5hdHRyaWJ1dGU6XG4gICAgICAgIHJvbGwuYXR0cmlidXRlID0gcm9sbERhdGEudmFsdWU/LmtleVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2sudHlwZS5pdGVtOlxuICAgICAgICByb2xsLmFjdG9yS2V5ID0gcm9sbERhdGEudmFsdWUuYWN0b3IuYWN0b3JLZXlcbiAgICAgICAgaWYgKHJvbGxEYXRhLnZhbHVlPy50eXBlID09PSAnc2tpbGwnKSByb2xsLnNraWxsID0gcm9sbERhdGEudmFsdWUuaWRcbiAgICAgICAgZWxzZSByb2xsLml0ZW0gPSByb2xsRGF0YS52YWx1ZS5pZFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2sudHlwZS5za2lsbDpcbiAgICAgICAgcm9sbC5hY3RvcktleSA9IHJvbGxEYXRhLnZhbHVlLmFjdG9yLmFjdG9yS2V5XG4gICAgICAgIHJvbGwuc2tpbGwgPSByb2xsRGF0YS52YWx1ZS5pZFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2sudHlwZS52YWx1ZTpcbiAgICAgICAgcm9sbC5kaXNwbGF5TmFtZSA9IHJvbGxEYXRhLnZhbHVlLm5hbWVcbiAgICAgICAgcm9sbC5yYXdWYWx1ZSA9IHJvbGxEYXRhLnZhbHVlLnRocmVzaG9sZFxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIENvQzdDaGVjay5jcmVhdGUocm9sbClcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUgKHtcbiAgICBkaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyLFxuICAgIGRpY2VNb2RpZmllciA9IG51bGwsXG4gICAgYWN0b3JLZXkgPSBudWxsLFxuICAgIGNoYXJhY3RlcmlzdGljID0gbnVsbCxcbiAgICBhdHRyaWJ1dGUgPSBudWxsLFxuICAgIHJhd1ZhbHVlID0gMCxcbiAgICBpdGVtID0gbnVsbCxcbiAgICBza2lsbCA9IG51bGwsXG4gICAgZmxhdERpY2VNb2RpZmllciA9IDAsXG4gICAgZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gMCxcbiAgICBkaXNwbGF5TmFtZSA9IG51bGwsXG4gICAgYWN0b3JOYW1lID0gbnVsbCxcbiAgICBkZW55UHVzaCA9IHVuZGVmaW5lZFxuICB9ID0ge30pIHtcbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgaWYgKGRlbnlQdXNoID09PSB0cnVlKSBjaGVjay5kZW55UHVzaCA9IHRydWVcbiAgICBpZiAoZGljZU1vZGlmaWVyKSBjaGVjay5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kaWZpZXJcbiAgICBpZiAoZmxhdERpY2VNb2RpZmllcikgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IGZsYXREaWNlTW9kaWZpZXJcbiAgICBpZiAoZmxhdFRocmVzaG9sZE1vZGlmaWVyKSB7XG4gICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBmbGF0VGhyZXNob2xkTW9kaWZpZXJcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlOYW1lKSBjaGVjay5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lXG4gICAgaWYgKGFjdG9yS2V5KSBjaGVjay5hY3RvciA9IGFjdG9yS2V5XG4gICAgaWYgKGFjdG9yTmFtZSkgY2hlY2suYWN0b3JOYW1lID0gYWN0b3JOYW1lXG4gICAgaWYgKCFpc05hTihOdW1iZXIocmF3VmFsdWUpKSkgY2hlY2sucmF3VmFsdWUgPSBOdW1iZXIocmF3VmFsdWUpXG4gICAgaWYgKGNoZWNrLmFjdG9yICYmICFjaGVjay5hY3Rvci5pc0R1bW15KSB7XG4gICAgICAvLyBUT0RPIDogQWRkIGNoZWNrIGZvciB2YWxpZGl0eSBvZiBjaGFyYWN0ZXJpc3RpYywgYXR0cmlidXRlLCBza2lsbElkXG4gICAgICBpZiAoc2tpbGwpIGNoZWNrLnNraWxsID0gc2tpbGxcbiAgICAgIC8vIFRPRE8gOiB0cnkgcmV0cmlldmUgc2tpbGwgYnkgbmFtZVxuICAgICAgZWxzZSBpZiAoY2hhcmFjdGVyaXN0aWMpIGNoZWNrLmNoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWNcbiAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZSkgY2hlY2suYXR0cmlidXRlID0gYXR0cmlidXRlXG4gICAgICBlbHNlIGlmIChpdGVtKSBjaGVjay5pdGVtID0gaXRlbVxuICAgIH1cbiAgICByZXR1cm4gY2hlY2tcbiAgfVxuXG4gIGFzeW5jIHJvbGxDaGFyYWN0ZXJpc3RpYyAoY2hhciwgZGljZU1vZCA9IG51bGwsIGRpZmZpY3VsdHkgPSBudWxsKSB7XG4gICAgaWYgKGRpY2VNb2QpIHRoaXMuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgIGlmIChkaWZmaWN1bHR5KSB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IGNoYXJcbiAgICBpZiAoIXRoaXMuc3RhbmRieSkgYXdhaXQgdGhpcy5fcGVyZm9ybSgpXG4gIH1cblxuICBhc3luYyByb2xsQXR0cmlidXRlIChhdHRyaWIsIGRpY2VNb2QgPSBudWxsLCBkaWZmaWN1bHR5ID0gbnVsbCkge1xuICAgIGlmIChkaWNlTW9kKSB0aGlzLmRpY2VNb2RpZmllciA9IGRpY2VNb2RcbiAgICBpZiAoZGlmZmljdWx0eSkgdGhpcy5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmliXG4gICAgaWYgKCF0aGlzLnN0YW5kYnkpIGF3YWl0IHRoaXMuX3BlcmZvcm0oKVxuICB9XG5cbiAgYXN5bmMgcm9sbFZhbHVlICh2YWwsIGRpY2VNb2QgPSBudWxsLCBkaWZmaWN1bHR5ID0gbnVsbCkge1xuICAgIGlmIChkaWNlTW9kKSB0aGlzLmRpY2VNb2RpZmllciA9IGRpY2VNb2RcbiAgICBpZiAoZGlmZmljdWx0eSkgdGhpcy5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgIHRoaXMucmF3VmFsdWUgPSB2YWxcbiAgICBpZiAoIXRoaXMuc3RhbmRieSkgYXdhaXQgdGhpcy5fcGVyZm9ybSgpXG4gIH1cblxuICBnZXQgcm9sbGVkU3VjY2Vzc0xldmVsICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdWNjZXNzTGV2ZWxcbiAgfVxuXG4gIGFzeW5jIF9wZXJmb3JtIChvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmRpY2UgPVxuICAgICAgb3B0aW9ucy5yb2xsIHx8XG4gICAgICAoYXdhaXQgQ29DN0RpY2Uucm9sbCh0aGlzLmRpY2VNb2RpZmllciwgdGhpcy5yb2xsTW9kZSwgdGhpcy5pc0JsaW5kKSlcbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50ICYmICFnYW1lLm1vZHVsZXMuZ2V0KCdkaWNlLXNvLW5pY2UnKT8uYWN0aXZlKSB7XG4gICAgICBBdWRpb0hlbHBlci5wbGF5KHsgc3JjOiBDT05GSUcuc291bmRzLmRpY2UgfSwgdHJ1ZSlcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5mb3JjZURTTikge1xuICAgICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2QodGhpcy5kaWNlLnJvbGwpXG4gICAgfVxuXG4gICAgdGhpcy5kaWNlcyA9IHtcbiAgICAgIHRlbnM6IFtdLFxuICAgICAgdW5pdDoge1xuICAgICAgICB2YWx1ZTogdGhpcy5kaWNlLnVuaXQudG90YWxcbiAgICAgIH0sXG4gICAgICB0b3RhbDogdGhpcy5kaWNlLnRvdGFsLFxuICAgICAgdGVuUmVzdWx0OiB0aGlzLmRpY2UudG90YWwgLSB0aGlzLmRpY2UudW5pdC50b3RhbCxcbiAgICAgIGhhc0JvbnVzOiAhIXRoaXMuZGljZU1vZGlmaWVyLFxuICAgICAgYm9udXM6IE1hdGguYWJzKHRoaXMuZGljZU1vZGlmaWVyKSxcbiAgICAgIGJvbnVzVHlwZTpcbiAgICAgICAgdGhpcy5kaWNlTW9kaWZpZXIgPCAwXG4gICAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRpY2VNb2RpZmllclBlbmFsdHknKVxuICAgICAgICAgIDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EaWNlTW9kaWZpZXJCb251cycpLFxuICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5XG4gICAgfVxuXG4gICAgY29uc3QgbWF4ID0gdGhpcy5kaWNlLnVuaXQudG90YWwgPT09IDAgPyAxMDAgOiA5MFxuICAgIGNvbnN0IG1pbiA9IHRoaXMuZGljZS51bml0LnRvdGFsID09PSAwID8gMTAgOiAwXG4gICAgbGV0IHNlbGVjdGVkID0gdGhpcy5kaWNlLnRvdGFsIC0gdGhpcy5kaWNlLnVuaXQudG90YWxcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kaWNlLnRlbnMucmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGllID0ge31cbiAgICAgIGRpZS52YWx1ZSA9IHRoaXMuZGljZS50ZW5zLnJlc3VsdHNbaV1cbiAgICAgIGlmIChkaWUudmFsdWUgPT09IHNlbGVjdGVkKSB7XG4gICAgICAgIHNlbGVjdGVkID0gMTAxXG4gICAgICAgIGRpZS5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgaWYgKHRoaXMuZGljZXMuaGFzQm9udXMpIHtcbiAgICAgICAgICBkaWUuaXNNYXggPSB0cnVlXG4gICAgICAgICAgZGllLmlzTWluID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWUuaXNNaW4gPSB0cnVlXG4gICAgICAgICAgZGllLmlzTWF4ID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gbWF4KSBkaWUuaXNNYXggPSB0cnVlXG4gICAgICAgIGVsc2UgZGllLmlzTWF4ID0gZmFsc2VcbiAgICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gbWluKSBkaWUuaXNNaW4gPSB0cnVlXG4gICAgICAgIGVsc2UgZGllLmlzTWluID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIC8vIGlmKCBkaWUudmFsdWUgPT0gMTAwKSBkaWUudmFsdWUgPSBcIjAwXCI7XG4gICAgICB0aGlzLmRpY2VzLnRlbnMucHVzaChkaWUpXG4gICAgfVxuICAgIHRoaXMuY29tcHV0ZUNoZWNrKClcbiAgfVxuXG4gIGFzeW5jIGNvbXB1dGVDaGVjayAoKSB7XG4gICAgdGhpcy5pc1Vua25vd24gPSB0aGlzLnVua25vd25EaWZmaWN1bHR5XG5cbiAgICBpZiAodGhpcy5nbURpZmZpY3VsdHlSZWd1bGFyKSB7XG4gICAgICB0aGlzLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB9XG4gICAgaWYgKHRoaXMuZ21EaWZmaWN1bHR5SGFyZCkgdGhpcy5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkXG4gICAgaWYgKHRoaXMuZ21EaWZmaWN1bHR5RXh0cmVtZSkge1xuICAgICAgdGhpcy5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lXG4gICAgfVxuICAgIGlmICh0aGlzLmdtRGlmZmljdWx0eUNyaXRpY2FsKSB7XG4gICAgICB0aGlzLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsXG4gICAgfVxuXG4gICAgdGhpcy50ZW5Pbmx5T25lRGllID0gdGhpcy5kaWNlcy50ZW5zLmxlbmd0aCA9PT0gMVxuXG4gICAgdGhpcy5pc1ZhbHVlID0gZmFsc2VcbiAgICB0aGlzLmlzQ2hhcmFjdGlyaXN0aWMgPSBmYWxzZVxuICAgIHRoaXMuaXNTa2lsbCA9IGZhbHNlXG4gICAgdGhpcy5pc0l0ZW0gPSBmYWxzZVxuICAgIHRoaXMuaXNBdHRyaWJ1dGUgPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzU2ltcGxlUm9sbCkge1xuICAgICAgdGhpcy5kZW55UHVzaCA9IHRydWVcbiAgICAgIHRoaXMuZGVueUx1Y2sgPSB0cnVlXG4gICAgfSBlbHNlIGlmICh0aGlzLmFjdG9yID09IG51bGwpIHtcbiAgICAgIHRoaXMuaXNWYWx1ZSA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgdGhpcy5pc0NoYXJhY3RpcmlzdGljID0gdHJ1ZVxuICAgICAgICB0aGlzLnJhd1ZhbHVlID1cbiAgICAgICAgICB0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3NbdGhpcy5jaGFyYWN0ZXJpc3RpY10udmFsdWVcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2tpbGwpIHtcbiAgICAgICAgdGhpcy5pc1NraWxsID0gdHJ1ZVxuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gdGhpcy5za2lsbC52YWx1ZVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGUpIHtcbiAgICAgICAgdGhpcy5pc0F0dHJpYnV0ZSA9IHRydWVcbiAgICAgICAgdGhpcy5yYXdWYWx1ZSA9IHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnNbdGhpcy5hdHRyaWJ1dGVdLnZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmx1Y2tTcGVudCAmJiAhdGhpcy5pc1NpbXBsZVJvbGwpIHtcbiAgICAgIGlmICh0aGlzLm1vZGlmaWVkUmVzdWx0IDw9IHRoaXMucmF3VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXJcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1vZGlmaWVkUmVzdWx0IDw9IHRoaXMuaGFyZFRocmVzaG9sZCkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubW9kaWZpZWRSZXN1bHQgPD0gdGhpcy5leHRyZW1lVGhyZXNob2xkKSB7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2RpZmllZFJlc3VsdCA+IHRoaXMucmF3VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmVcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1vZGlmaWVkUmVzdWx0ID09PSAxKSB7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZnVtYmxlVGhyZXNob2xkIDw9IHRoaXMubW9kaWZpZWRSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZ1bWJsZVxuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyOlxuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlZ3VsYXJTdWNjZXNzJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkOlxuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lOlxuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbDpcbiAgICAgICAgdGhpcy5yZXN1bHRUeXBlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Dcml0aWNhbFN1Y2Nlc3MnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZ1bWJsZTpcbiAgICAgICAgdGhpcy5yZXN1bHRUeXBlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5GdW1ibGUnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmU6XG4gICAgICAgIHRoaXMucmVzdWx0VHlwZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRmFpbHVyZScpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgaWYgKHRoaXMudW5rbm93bkRpZmZpY3VsdHkpIHtcbiAgICAgIHRoaXMuc3VjY2Vzc1JlcXVpcmVkID0gJydcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2ltcGxlUm9sbCkge1xuICAgICAgdGhpcy5zdWNjZXNzUmVxdWlyZWQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlN1Y2Nlc3NSZXF1aXJlZCcsIHtcbiAgICAgICAgc3VjY2Vzc1JlcXVpcmVkOiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW9kaWZpZWRSZXN1bHQgPT09IDEpIHtcbiAgICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbFxuICAgIH1cbiAgICBpZiAoIXRoaXMubHVja1NwZW50ICYmICF0aGlzLmlzVW5rbm93biAmJiAhdGhpcy5pc1NpbXBsZVJvbGwpIHtcbiAgICAgIHRoaXMuaXNGYWlsdXJlID0gdGhpcy5mYWlsZWRcbiAgICAgIHRoaXMuaXNTdWNjZXNzID0gdGhpcy5wYXNzZWRcbiAgICB9XG5cbiAgICB0aGlzLmhhc01hbGZ1bmN0aW9uID0gZmFsc2VcbiAgICBpZiAodGhpcy5pc0Z1bWJsZSkgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZ1bWJsZVxuXG4gICAgaWYgKHRoaXMuaXRlbSkge1xuICAgICAgdGhpcy5pc0l0ZW0gPSB0cnVlXG4gICAgICBpZiAodGhpcy5pdGVtLnN5c3RlbS5tYWxmdW5jdGlvbikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgTnVtYmVyKHRoaXMubW9kaWZpZWRSZXN1bHQpID49IE51bWJlcih0aGlzLml0ZW0uc3lzdGVtLm1hbGZ1bmN0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmhhc01hbGZ1bmN0aW9uID0gdHJ1ZVxuICAgICAgICAgIHRoaXMubWFsZnVuY3Rpb25UeHQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1hbGZ1bmN0aW9uJywge1xuICAgICAgICAgICAgaXRlbU5hbWU6IHRoaXMuaXRlbS5uYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlSXRlbUZsYWcoQ29DN0l0ZW0uZmxhZ3MubWFsZnVuY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuY2FuQmVQdXNoZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNhbkJlUHVzaGVkID0gdGhpcy5za2lsbCA/IHRoaXMuc2tpbGwuY2FuQmVQdXNoZWQoKSA6IGZhbHNlXG4gICAgICBpZiAodGhpcy5jaGFyYWN0ZXJpc3RpYyAhPSBudWxsKSB0aGlzLmNhbkJlUHVzaGVkID0gdHJ1ZVxuICAgICAgaWYgKHRoaXMuaXNGdW1ibGUpIHRoaXMuY2FuQmVQdXNoZWQgPSBmYWxzZVxuICAgICAgaWYgKHRoaXMuZGVueVB1c2gpIHRoaXMuY2FuQmVQdXNoZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5kZW55THVjayAmJiB0aGlzLmFjdG9yKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmx1Y2tTcGVudCAmJlxuICAgICAgICAhdGhpcy5wYXNzZWQgJiZcbiAgICAgICAgIXRoaXMuaXNGdW1ibGUgJiZcbiAgICAgICAgdGhpcy5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsICYmXG4gICAgICAgICF0aGlzLnVua25vd25EaWZmaWN1bHR5XG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuc2tpbGwgfHwgdGhpcy5jaGFyYWN0ZXJpc3RpYykge1xuICAgICAgICAgIGNvbnN0IGx1Y2tOZWVkZWQgPSB0aGlzLm1vZGlmaWVkUmVzdWx0IC0gdGhpcy5zdWNjZXNUaHJlc2hvbGRcbiAgICAgICAgICBpZiAodGhpcy5hY3Rvci5sdWNrID4gbHVja05lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5oYXNFbm91Z2hMdWNrID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5sdWNrTmVlZGVkID0gbHVja05lZWRlZFxuICAgICAgICAgICAgdGhpcy5sdWNrTmVlZGVkVHh0ID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5TcGVuZEx1Y2snLCB7XG4gICAgICAgICAgICAgIGx1Y2tOZWVkZWRWYWx1ZTogbHVja05lZWRlZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmx1Y2tTcGVudCkge1xuICAgICAgICB0aGlzLmluY3JlYXNlU3VjY2VzcyA9IFtdXG5cbiAgICAgICAgLy8gQ2FuJ3Qgc3BlbmQgbHVjayBvbiBwdXNoZWQgcm9sbHMuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy5wdXNoaW5nICYmXG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGUgIT09ICdsY2snICYmXG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGUgIT09ICdzYW4nXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudW5rbm93bkRpZmZpY3VsdHkgJiZcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZWRSZXN1bHQgPiB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRMZXZlbCA9IHt9XG4gICAgICAgICAgICBuZXh0TGV2ZWwuZGlmZmljdWx0eU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgbmV4dExldmVsLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgLy8gUkVGQUNUT1JJTkcgKDEpXG4gICAgICAgICAgICBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPSB0aGlzLm1vZGlmaWVkUmVzdWx0IC0gdGhpcy5yZWd1bGFyVGhyZXNob2xkIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgICAgICAgICAgbmV4dExldmVsLmhhc0Vub3VnaEx1Y2sgPSBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPD0gdGhpcy5hY3Rvci5sdWNrXG4gICAgICAgICAgICBpZiAobmV4dExldmVsLmx1Y2tUb1NwZW5kIDw9IHRoaXMuYWN0b3IubHVjaykge1xuICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlU3VjY2Vzcy5wdXNoKG5leHRMZXZlbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPD0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyICYmXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVkUmVzdWx0ID4gdGhpcy5oYXJkVGhyZXNob2xkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TGV2ZWwgPSB7fVxuICAgICAgICAgICAgbmV4dExldmVsLmRpZmZpY3VsdHlOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmREaWZmaWN1bHR5JylcbiAgICAgICAgICAgIG5leHRMZXZlbC5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgICAgICAgICAgbmV4dExldmVsLmx1Y2tUb1NwZW5kID0gdGhpcy5tb2RpZmllZFJlc3VsdCAtIHRoaXMuaGFyZFRocmVzaG9sZCAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICAgICAgICAgIG5leHRMZXZlbC5oYXNFbm91Z2hMdWNrID0gbmV4dExldmVsLmx1Y2tUb1NwZW5kIDw9IHRoaXMuYWN0b3IubHVja1xuICAgICAgICAgICAgaWYgKG5leHRMZXZlbC5sdWNrVG9TcGVuZCA8PSB0aGlzLmFjdG9yLmx1Y2spIHtcbiAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVN1Y2Nlc3MucHVzaChuZXh0TGV2ZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5kaWZmaWN1bHR5IDw9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZCAmJlxuICAgICAgICAgICAgdGhpcy5tb2RpZmllZFJlc3VsdCA+IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbmV4dExldmVsID0ge31cbiAgICAgICAgICAgIG5leHRMZXZlbC5kaWZmaWN1bHR5TmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBuZXh0TGV2ZWwuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZVxuICAgICAgICAgICAgbmV4dExldmVsLmx1Y2tUb1NwZW5kID0gdGhpcy5tb2RpZmllZFJlc3VsdCAtIHRoaXMuZXh0cmVtZVRocmVzaG9sZCAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICAgICAgICAgIG5leHRMZXZlbC5oYXNFbm91Z2hMdWNrID0gbmV4dExldmVsLmx1Y2tUb1NwZW5kIDw9IHRoaXMuYWN0b3IubHVjayAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICAgICAgICAgIGlmIChuZXh0TGV2ZWwubHVja1RvU3BlbmQgPD0gdGhpcy5hY3Rvci5sdWNrKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTdWNjZXNzLnB1c2gobmV4dExldmVsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbkluY3JlYXNlU3VjY2VzcyA9IHRoaXMuaW5jcmVhc2VTdWNjZXNzLmxlbmd0aCA+IDBcbiAgICAgIGlmICh0aGlzLmlzRnVtYmxlKSB0aGlzLmNhbkluY3JlYXNlU3VjY2VzcyA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5jYW5Bd2FyZEV4cGVyaWVuY2UgPVxuICAgICAgdGhpcy5za2lsbCAmJiAhdGhpcy5za2lsbC5zeXN0ZW0ucHJvcGVydGllcy5ub3hwZ2FpblxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5wYXNzZWQgJiZcbiAgICAgIHRoaXMuZGljZU1vZGlmaWVyIDw9IDAgJiZcbiAgICAgIHRoaXMuc2tpbGwgJiZcbiAgICAgICF0aGlzLnNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLm5veHBnYWluICYmXG4gICAgICAhdGhpcy5sdWNrU3BlbnQgJiZcbiAgICAgICF0aGlzLmZvcmNlZCAmJlxuICAgICAgIXRoaXMuaXNCbGluZCAmJlxuICAgICAgIXRoaXMuaXNVbmtub3duXG4gICAgKSB7XG4gICAgICB0aGlzLmZsYWdGb3JEZXZlbG9wZW1lbnQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gYXdhaXQgZnJvbVV1aWQodGhpcy5wYXJlbnQpXG4gICAgICBpZiAocGFyZW50ICYmICd1cGRhdGVSb2xsJyBpbiBwYXJlbnQpIHtcbiAgICAgICAgYXdhaXQgcGFyZW50LnVwZGF0ZVJvbGwodGhpcy5KU09OUm9sbFN0cmluZylcbiAgICAgICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCBgUm9sbCAke3RoaXMudXVpZH0gZGVwZW5kcyBvZiAke3RoaXMucGFyZW50fWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvd0RpY2VSb2xsICgpIHtcbiAgICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZSkge1xuICAgICAgY29uc3QgZGljZVJlc3VsdHMgPSBbXVxuICAgICAgZm9yIChjb25zdCBkaWVSZXN1bHQgb2YgdGhpcy5kaWNlcy50ZW5zKSB7XG4gICAgICAgIGRpY2VSZXN1bHRzLnB1c2goZGllUmVzdWx0LnZhbHVlID09PSAxMDAgPyAwIDogZGllUmVzdWx0LnZhbHVlIC8gMTApXG4gICAgICB9XG4gICAgICBkaWNlUmVzdWx0cy5wdXNoKHRoaXMuZGljZXMudW5pdC52YWx1ZSlcblxuICAgICAgY29uc3QgZGljZURhdGEgPSB7XG4gICAgICAgIGZvcm11bGE6IGAke3RoaXMuZGljZXMudGVucy5sZW5ndGh9ZDEwMCsxZDEwYCxcbiAgICAgICAgcmVzdWx0czogZGljZVJlc3VsdHMsXG4gICAgICAgIHdoaXNwZXI6IG51bGwsXG4gICAgICAgIGJsaW5kOiBmYWxzZVxuICAgICAgfVxuICAgICAgZ2FtZS5kaWNlM2Quc2hvdyhkaWNlRGF0YSlcbiAgICB9XG4gIH1cblxuICBnZXQgY3NzQ2xhc3MgKCkge1xuICAgIGxldCBjc3NDbGFzcyA9ICcnXG4gICAgaWYgKHRoaXMuaXNTdWNjZXNzKSBjc3NDbGFzcyA9ICdzdWNjZXNzJ1xuICAgIGlmICh0aGlzLmlzRmFpbHVyZSkgY3NzQ2xhc3MgPSAnZmFpbHVyZSdcbiAgICBpZiAodGhpcy5pc0NyaXRpY2FsICYmICF0aGlzLmlzRmFpbHVyZSkgY3NzQ2xhc3MgPSAnc3VjY2VzcyBjcml0aWNhbCdcbiAgICBpZiAodGhpcy5pc0Z1bWJsZSAmJiAhdGhpcy5pc1N1Y2Nlc3MpIGNzc0NsYXNzID0gJ2ZhaWx1cmUgZnVtYmxlJ1xuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBjc3NDbGFzcyArPSAnIHJlZ3VsYXItc3VjY2VzcydcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZCA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGNzc0NsYXNzICs9ICcgaGFyZC1zdWNjZXNzJ1xuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY3NzQ2xhc3MgKz0gJyBleHRyZW1lLXN1Y2Nlc3MnXG4gICAgfVxuXG4gICAgcmV0dXJuIGNzc0NsYXNzXG4gIH1cblxuICBnZXQgY3NzQ2xhc3NMaXN0ICgpIHtcbiAgICBjb25zdCBjc3NDbGFzcyA9IFtdXG4gICAgaWYgKHRoaXMuaXNTdWNjZXNzKSBjc3NDbGFzcy5wdXNoKCdzdWNjZXNzJylcbiAgICBpZiAodGhpcy5pc0ZhaWx1cmUpIGNzc0NsYXNzLnB1c2goJ2ZhaWx1cmUnKVxuICAgIGlmICh0aGlzLmlzQ3JpdGljYWwgJiYgIXRoaXMuaXNGYWlsdXJlKSBjc3NDbGFzcy5wdXNoKCdzdWNjZXNzJywgJ2NyaXRpY2FsJylcbiAgICBpZiAodGhpcy5pc0Z1bWJsZSAmJiAhdGhpcy5pc1N1Y2Nlc3MpIGNzc0NsYXNzLnB1c2goJ2ZhaWx1cmUnLCAnZnVtYmxlJylcbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY3NzQ2xhc3MucHVzaCgncmVndWxhci1zdWNjZXNzJylcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZCA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGNzc0NsYXNzLnB1c2goJ2hhcmQtc3VjY2VzcycpXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBjc3NDbGFzcy5wdXNoKCdleHRyZW1lLXN1Y2Nlc3MnKVxuICAgIH1cblxuICAgIHJldHVybiBjc3NDbGFzc1xuICB9XG5cbiAgZ2V0IHBsYXllckNzc0NsYXNzICgpIHtcbiAgICBpZiAodGhpcy5pc1N1Y2Nlc3MgfHwgdGhpcy5mb3JjZWRTdWNjZXNzKSByZXR1cm4gJ3N1Y2Nlc3MnXG4gICAgaWYgKHRoaXMuaXNGYWlsdXJlIHx8IHRoaXMuZm9yY2VkRmFpbHVyZSkgcmV0dXJuICdmYWlsdXJlJ1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyB1cGdyYWRlQ2hlY2sgKHVwZ3JhZGVpbmRleCwgdXBkYXRlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGluY3JlYXNlZFN1Y2Nlc3MgPSB0aGlzLmluY3JlYXNlU3VjY2Vzc1t1cGdyYWRlaW5kZXhdXG4gICAgY29uc3QgbHVja0Ftb3VudCA9XG4gICAgICBwYXJzZUludChpbmNyZWFzZWRTdWNjZXNzLmx1Y2tBbW91bnQpIHx8XG4gICAgICBwYXJzZUludChpbmNyZWFzZWRTdWNjZXNzLmx1Y2tUb1NwZW5kKSAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICBpZiAoIXRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yTm90RW5vdWdoTHVjaycsIHtcbiAgICAgICAgICBhY3RvcjogdGhpcy5hY3Rvci5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy50b3RhbEx1Y2tTcGVudCA9ICFwYXJzZUludCh0aGlzLnRvdGFsTHVja1NwZW50KVxuICAgICAgPyAwXG4gICAgICA6IHBhcnNlSW50KHRoaXMudG90YWxMdWNrU3BlbnQpXG4gICAgdGhpcy50b3RhbEx1Y2tTcGVudCArPSBwYXJzZUludChsdWNrQW1vdW50KVxuICAgIGNvbnN0IG5ld1N1Y2Nlc3NMZXZlbCA9XG4gICAgICBwYXJzZUludChpbmNyZWFzZWRTdWNjZXNzLm5ld1N1Y2Nlc3NMZXZlbCkgfHxcbiAgICAgIHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MuZGlmZmljdWx0eSkgLy8gUkVGQUNUT1JJTkcgKDEpXG4gICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBuZXdTdWNjZXNzTGV2ZWxcbiAgICBpZiAodGhpcy5kaWZmaWN1bHR5IDw9IG5ld1N1Y2Nlc3NMZXZlbCkge1xuICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlXG4gICAgICB0aGlzLmlzRmFpbHVyZSA9IGZhbHNlXG4gICAgfVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB1cGdyYWRlaW5kZXggKyAxOyBpbmRleCsrKSB7XG4gICAgICB0aGlzLmluY3JlYXNlU3VjY2Vzcy5zaGlmdCgpXG4gICAgfVxuICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLmluY3JlYXNlU3VjY2Vzcykge1xuICAgICAgcy5sdWNrVG9TcGVuZCA9IHMubHVja1RvU3BlbmQgLSBsdWNrQW1vdW50XG4gICAgfVxuICAgIHRoaXMubHVja1NwZW50ID0gdHJ1ZVxuICAgIHRoaXMuY29tcHV0ZUNoZWNrKClcbiAgICBpZiAodXBkYXRlKSByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICByZW1vdmVVcGdyYWRlcyAoKSB7XG4gICAgdGhpcy5jYW5JbmNyZWFzZVN1Y2Nlc3MgPSBmYWxzZVxuICAgIHRoaXMuaW5jcmVhc2VTdWNjZXNzID0gW11cbiAgICB0aGlzLmx1Y2tOZWVkZWQgPSAwXG4gICAgdGhpcy5sdWNrTmVlZGVkVHh0ID0gbnVsbFxuICAgIHRoaXMuY2FuQmVQdXNoZWQgPSBmYWxzZVxuICB9XG5cbiAgZm9yY2VQYXNzIChsdWNrQW1vdW50ID0gbnVsbCwgdXBkYXRlID0gdHJ1ZSkge1xuICAgIGlmIChsdWNrQW1vdW50KSB7XG4gICAgICB0aGlzLmFjdG9yLnNwZW5kTHVjayhsdWNrQW1vdW50KVxuICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSB0aGlzLmRpZmZpY3VsdHlcbiAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLmluY3JlYXNlU3VjY2Vzcykge1xuICAgICAgICBzLmx1Y2tUb1NwZW5kID0gcy5sdWNrVG9TcGVuZCAtIGx1Y2tBbW91bnRcbiAgICAgIH1cbiAgICAgIHRoaXMubHVja1NwZW50ID0gdHJ1ZVxuICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlXG4gICAgICB0aGlzLmlzRmFpbHVyZSA9IGZhbHNlXG4gICAgICB0aGlzLnRvdGFsTHVja1NwZW50ID0gIXBhcnNlSW50KHRoaXMudG90YWxMdWNrU3BlbnQpXG4gICAgICAgID8gMFxuICAgICAgICA6IHBhcnNlSW50KHRoaXMudG90YWxMdWNrU3BlbnQpXG4gICAgICB0aGlzLnRvdGFsTHVja1NwZW50ICs9IHBhcnNlSW50KGx1Y2tBbW91bnQpXG4gICAgICB0aGlzLmNvbXB1dGVDaGVjaygpXG4gICAgICBpZiAodXBkYXRlKSB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JjZWQgPSB0cnVlXG4gICAgICB0aGlzLmZvcmNlZFN1Y2Nlc3MgPSB0cnVlXG4gICAgICBpZiAodGhpcy5pc1Vua25vd24pIHtcbiAgICAgICAgdGhpcy5mb3JjZVN1Y2Nlc3NMZXZlbChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIsIHVwZGF0ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZm9yY2VTdWNjZXNzTGV2ZWwodGhpcy5kaWZmaWN1bHR5LCB1cGRhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yY2VGYWlsICh1cGRhdGUgPSB0cnVlKSB7XG4gICAgdGhpcy5mb3JjZWQgPSB0cnVlXG4gICAgdGhpcy5mb3JjZWRGYWlsdXJlID0gdHJ1ZVxuICAgIGlmICh0aGlzLmlzVW5rbm93bikge1xuICAgICAgdGhpcy5mb3JjZVN1Y2Nlc3NMZXZlbChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmUsIHVwZGF0ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JjZVN1Y2Nlc3NMZXZlbCh0aGlzLmRpZmZpY3VsdHkgLSAxLCB1cGRhdGUpXG4gICAgfVxuICB9XG5cbiAgX2ZvcmNlQ2hlY2sgKGhpZ2gsIGxvdywgdXBkYXRlID0gdHJ1ZSkge1xuICAgIGxldCB0b3RhbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChoaWdoIC0gbG93KSkgKyBsb3cgKyAxXG4gICAgY29uc3QgdW5pdFRvdGFsID0gdG90YWwgJSAxMFxuICAgIGxldCB0ZW5Ub3RhbCA9IE1hdGguZmxvb3IodG90YWwgLyAxMClcbiAgICBjb25zdCB0ZW5zID0gW11cblxuICAgIGxldCBoYXNFbm91Z2ggPSBNYXRoLmFicyh0aGlzLmRpY2VNb2RpZmllcikgPT09IHRlbnMubGVuZ3RoXG4gICAgd2hpbGUgKCFoYXNFbm91Z2gpIHtcbiAgICAgIGxldCB0ZW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMClcbiAgICAgIGxldCByb2xsID0gdGVuICogMTAgKyB1bml0VG90YWxcbiAgICAgIGlmIChyb2xsID09PSAwKSB7XG4gICAgICAgIHJvbGwgPSAxMDBcbiAgICAgICAgdGVuID0gMTAwXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oYXNQZW5hbHR5ICYmIHJvbGwgPD0gaGlnaCkge1xuICAgICAgICB0ZW5zLnB1c2godGVuKVxuICAgICAgICBpZiAocm9sbCA+IHRvdGFsKSB0b3RhbCA9IHJvbGxcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc0JvbnVzICYmIHJvbGwgPiBsb3cpIHtcbiAgICAgICAgdGVucy5wdXNoKHRlbilcbiAgICAgICAgaWYgKHJvbGwgPCB0b3RhbCkgdG90YWwgPSByb2xsXG4gICAgICB9XG4gICAgICBoYXNFbm91Z2ggPSB0ZW5zLmxlbmd0aCA9PT0gTWF0aC5hYnModGhpcy5kaWNlTW9kaWZpZXIpXG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHJlc3VsdCBhdCByYW5kb20gcG9zaXRpb24uXG4gICAgaWYgKHRlblRvdGFsID09PSAxMCAmJiB1bml0VG90YWwgPT09IDApIHtcbiAgICAgIHRlblRvdGFsID0gMTAwXG4gICAgfVxuICAgIHRlbnMuc3BsaWNlKFxuICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGVucy5sZW5ndGggKyAxKSxcbiAgICAgIDAsXG4gICAgICB0ZW5Ub3RhbCA9PT0gMTAgPyAwIDogdGVuVG90YWxcbiAgICApXG5cbiAgICB0aGlzLmRpY2VzLnRlbnMgPSBbXVxuICAgIHRoaXMuZGljZXMudW5pdC52YWx1ZSA9IHVuaXRUb3RhbFxuICAgIHRoaXMubW9kaWZpZWRSZXN1bHQgPSB0b3RhbFxuICAgIHRoaXMuZGljZXMudG90YWwgPSB0b3RhbFxuICAgIHRoaXMuZGljZXMudGVuUmVzdWx0ID0gdG90YWwgLSB1bml0VG90YWxcblxuICAgIGNvbnN0IG1heCA9IHVuaXRUb3RhbCA9PT0gMCA/IDEwMCA6IDkwXG4gICAgY29uc3QgbWluID0gdW5pdFRvdGFsID09PSAwID8gMTAgOiAwXG4gICAgbGV0IHNlbGVjdGVkID0gdG90YWwgLSB1bml0VG90YWxcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGllID0ge31cbiAgICAgIGRpZS52YWx1ZSA9IHRlbnNbaV1cbiAgICAgIGlmIChkaWUudmFsdWUgPT09IHNlbGVjdGVkKSB7XG4gICAgICAgIHNlbGVjdGVkID0gMTAxXG4gICAgICAgIGRpZS5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgaWYgKHRoaXMuaGFzQm9udXMpIHtcbiAgICAgICAgICBkaWUuaXNNYXggPSB0cnVlXG4gICAgICAgICAgZGllLmlzTWluID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWUuaXNNaW4gPSB0cnVlXG4gICAgICAgICAgZGllLmlzTWF4ID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gbWF4KSBkaWUuaXNNYXggPSB0cnVlXG4gICAgICAgIGVsc2UgZGllLmlzTWF4ID0gZmFsc2VcbiAgICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gbWluKSBkaWUuaXNNaW4gPSB0cnVlXG4gICAgICAgIGVsc2UgZGllLmlzTWluID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIC8vIGlmKCBkaWUudmFsdWUgPT0gMTAwKSBkaWUudmFsdWUgPSBcIjAwXCI7XG4gICAgICB0aGlzLmRpY2VzLnRlbnMucHVzaChkaWUpXG4gICAgfVxuXG4gICAgdGhpcy5jb21wdXRlQ2hlY2soKVxuICAgIGlmICh1cGRhdGUpIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgZm9yY2VTdWNjZXNzTGV2ZWwgKHN1Y2Nlc3NMZXZlbCwgdXBkYXRlID0gdHJ1ZSkge1xuICAgIGxldCBoaWdoLCBsb3dcbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mdW1ibGUgPT09IHN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IDEwMFxuICAgICAgbG93ID0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmUgPT09IHN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaWYgKHRoaXMucmVndWxhclRocmVzaG9sZCA9PT0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxKSB7XG4gICAgICAgIGhpZ2ggPSAxMDBcbiAgICAgIH0gZWxzZSBoaWdoID0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxXG4gICAgICBsb3cgPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhciA9PT0gc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5yZWd1bGFyVGhyZXNob2xkXG4gICAgICBsb3cgPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZCA9PT0gc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5oYXJkVGhyZXNob2xkXG4gICAgICBsb3cgPSB0aGlzLmV4dHJlbWVUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSA9PT0gc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgICBsb3cgPSAxXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsID09PSBzdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSAxXG4gICAgICBsb3cgPSAwXG4gICAgfVxuICAgIGlmIChoaWdoID09PSBsb3cpIGxvdy0tXG4gICAgaWYgKGhpZ2ggPT09IDApIGhpZ2ggPSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDFcbiAgICB0aGlzLl9mb3JjZUNoZWNrKGhpZ2gsIGxvdywgdXBkYXRlKVxuICB9XG5cbiAgaW5jcmVhc2VTdWNjZXNzTGV2ZWwgKHVwZGF0ZSA9IHRydWUpIHtcbiAgICBsZXQgaGlnaCwgbG93XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZnVtYmxlID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuZnVtYmxlVGhyZXNob2xkIC0gMVxuICAgICAgaWYgKHRoaXMucmVndWxhclRocmVzaG9sZCA9PT0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxKSB7XG4gICAgICAgIGxvdyA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG93ID0gdGhpcy5yZWd1bGFyVGhyZXNob2xkXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZhaWx1cmUgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5yZWd1bGFyVGhyZXNob2xkXG4gICAgICBsb3cgPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhciA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgICAgbG93ID0gdGhpcy5jcml0aWNhbFRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuY3JpdGljYWxUaHJlc2hvbGRcbiAgICAgIGxvdyA9IDBcbiAgICB9XG4gICAgaWYgKGhpZ2ggPT09IGxvdykgbG93LS1cbiAgICB0aGlzLl9mb3JjZUNoZWNrKGhpZ2gsIGxvdywgdXBkYXRlKVxuICB9XG5cbiAgZGVjcmVhc2VTdWNjZXNzTGV2ZWwgKHVwZGF0ZSA9IHRydWUpIHtcbiAgICBsZXQgaGlnaCwgbG93XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZSA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSAxMDBcbiAgICAgIGxvdyA9IHRoaXMuZnVtYmxlVGhyZXNob2xkIC0gMVxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuZnVtYmxlVGhyZXNob2xkIC0gMVxuICAgICAgbG93ID0gdGhpcy5yZWd1bGFyVGhyZXNob2xkXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5yZWd1bGFyVGhyZXNob2xkXG4gICAgICBsb3cgPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbCA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLmV4dHJlbWVUaHJlc2hvbGRcbiAgICAgIGxvdyA9IDFcbiAgICB9XG4gICAgaWYgKGhpZ2ggPT09IDApIGhpZ2ggPSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDFcbiAgICB0aGlzLl9mb3JjZUNoZWNrKGhpZ2gsIGxvdywgdXBkYXRlKVxuICB9XG5cbiAgYXN5bmMgZmxhZ0ZvckRldmVsb3BlbWVudCAoKSB7XG4gICAgdGhpcy5mbGFnZ2VkRm9yRGV2ZWxvcG1lbnQgPSB0cnVlXG4gICAgaWYgKHRoaXMuc2tpbGwpIGF3YWl0IHRoaXMuc2tpbGwuZmxhZ0ZvckRldmVsb3BlbWVudCgpXG4gIH1cblxuICBzZXQgZGlmZmljdWx0eSAoeCkge1xuICAgIHRoaXMuX2RpZmZpY3VsdHkgPSBwYXJzZUludCh4KVxuICB9XG5cbiAgZ2V0IGRpZmZpY3VsdHkgKCkge1xuICAgIHJldHVybiB0aGlzLl9kaWZmaWN1bHR5XG4gIH1cblxuICBzZXQgZmxhdm9yICh4KSB7XG4gICAgdGhpcy5fZmxhdm9yID0geFxuICB9XG5cbiAgc2V0IGNvbnRleHQgKHgpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0geFxuICB9XG5cbiAgZ2V0IGNvbnRleHQgKCkge1xuICAgIGlmICghdGhpcy5fY29udGV4dCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLl9jb250ZXh0XG4gIH1cblxuICBzZXQgcGFyZW50ICh4KSB7XG4gICAgaWYgKCF0aGlzLnV1aWQpIHRoaXMudXVpZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpXG4gICAgdGhpcy5wYXJlbnRVdWlkID0geFxuICB9XG5cbiAgZ2V0IHBhcmVudCAoKSB7XG4gICAgaWYgKCF0aGlzLnBhcmVudFV1aWQpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRVdWlkXG4gIH1cblxuICBnZXQgZmxhdm9yICgpIHtcbiAgICBpZiAodGhpcy5fZmxhdm9yKSByZXR1cm4gdGhpcy5fZmxhdm9yXG4gICAgbGV0IGZsYXZvciA9ICcnXG4gICAgaWYgKHRoaXMuYWN0b3I/LnN5c3RlbSkge1xuICAgICAgaWYgKHRoaXMuc2tpbGwpIHtcbiAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICBuYW1lOiB0aGlzLnNraWxsLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXRlbSkge1xuICAgICAgICBmbGF2b3IgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lkl0ZW1DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICBpdGVtOiB0aGlzLml0ZW0ubmFtZSxcbiAgICAgICAgICBza2lsbDogdGhpcy5za2lsbC5uYW1lLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnJhd1ZhbHVlU3RyaW5nLFxuICAgICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuZGlmZmljdWx0eVN0cmluZ1xuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgIGZsYXZvciA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ2hlY2tSZXN1bHQnLCB7XG4gICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1t0aGlzLmNoYXJhY3RlcmlzdGljXS5sYWJlbFxuICAgICAgICAgICksXG4gICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXR0cmlidXRlKSB7XG4gICAgICAgIGZsYXZvciA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ2hlY2tSZXN1bHQnLCB7XG4gICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgIGBDb0M3LiR7dGhpcy5hY3Rvci5zeXN0ZW0uYXR0cmlic1t0aGlzLmF0dHJpYnV0ZV0ubGFiZWx9YFxuICAgICAgICAgICksXG4gICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmRpc3BsYXlOYW1lLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnJhd1ZhbHVlU3RyaW5nLFxuICAgICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuZGlmZmljdWx0eVN0cmluZ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZmxhdm9yKSB7XG4gICAgICBpZiAodGhpcy5yYXdWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgIGZsYXZvciA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ2hlY2tSZXN1bHQnLCB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZsYXZvciA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ2hlY2tSYXdWYWx1ZScsIHtcbiAgICAgICAgICAgIHJhd3ZhbHVlOiB0aGlzLnJhd1ZhbHVlLFxuICAgICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnB1c2hpbmcpIHtcbiAgICAgIGZsYXZvciA9IGAke2dhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUHVzaGluZycpfSAke2ZsYXZvcn1gXG4gICAgfVxuXG4gICAgcmV0dXJuIGZsYXZvclxuICB9XG5cbiAgZ2V0IHRvb2x0aXBIZWFkZXIgKCkge1xuICAgIGlmICh0aGlzLmF0dHJpYnV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICBgQ29DNy5MaW5rQ2hlY2ske1xuICAgICAgICAgICAgdGhpcy5kaWZmaWN1bHR5ID09PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgPyAnJyA6ICdEaWZmJ1xuICAgICAgICAgIH0keyF0aGlzLmRpY2VNb2RpZmllciA/ICcnIDogJ01vZGlmJ31gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuZGlmZmljdWx0eVN0cmluZyxcbiAgICAgICAgICAgIG1vZGlmaWVyOiB0aGlzLmRpY2VNb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgIGBDb0M3LiR7dGhpcy5hY3Rvci5zeXN0ZW0uYXR0cmlic1t0aGlzLmF0dHJpYnV0ZV0ubGFiZWx9YFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSArIGAgKCR7dGhpcy5hY3Rvci5zeXN0ZW0uYXR0cmlic1t0aGlzLmF0dHJpYnV0ZV0udmFsdWV9JSlgXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtDaGVjayR7XG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciA/ICcnIDogJ0RpZmYnXG4gICAgICAgICAgfSR7IXRoaXMuZGljZU1vZGlmaWVyID8gJycgOiAnTW9kaWYnfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nLFxuICAgICAgICAgICAgbW9kaWZpZXI6IHRoaXMuZGljZU1vZGlmaWVyLFxuICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICB0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3NbdGhpcy5jaGFyYWN0ZXJpc3RpY10ubGFiZWxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICkgK1xuICAgICAgICBgICgke3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1t0aGlzLmNoYXJhY3RlcmlzdGljXS52YWx1ZX0lKWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHRoaXMuc2tpbGwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgYENvQzcuTGlua0NoZWNrJHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmljdWx0eSA9PT0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID8gJycgOiAnRGlmZidcbiAgICAgICAgICB9JHshdGhpcy5kaWNlTW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmcsXG4gICAgICAgICAgICBtb2RpZmllcjogdGhpcy5kaWNlTW9kaWZpZXIsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnNraWxsLm5hbWVcbiAgICAgICAgICB9XG4gICAgICAgICkgKyBgICgke3RoaXMuc2tpbGwudmFsdWV9JSlgXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0aGlzLmRpc3BsYXlOYW1lKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtDaGVjayR7XG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciA/ICcnIDogJ0RpZmYnXG4gICAgICAgICAgfSR7IXRoaXMuZGljZU1vZGlmaWVyID8gJycgOiAnTW9kaWYnfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nLFxuICAgICAgICAgICAgbW9kaWZpZXI6IHRoaXMuZGljZU1vZGlmaWVyLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5kaXNwbGF5TmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgKSArIGAgKCR7dGhpcy5yYXdWYWx1ZVN0cmluZ30lKWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIGdldEh0bWxSb2xsRWxlbWVudCAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L3JvbGxzL2luLWNhcmQtcm9sbC5odG1sJ1xuICAgIGlmICh0aGlzLm9wdGlvbnMpIHRoaXMub3B0aW9ucyA9IG1lcmdlT2JqZWN0KHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICBlbHNlIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG4gICAgaWYgKGh0bWwpIHJldHVybiAkLnBhcnNlSFRNTChodG1sKVswXVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyBnZXRIdG1sUm9sbCAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L3JvbGxzL2luLWNhcmQtcm9sbC5odG1sJ1xuICAgIGlmICh0aGlzLm9wdGlvbnMpIHRoaXMub3B0aW9ucyA9IG1lcmdlT2JqZWN0KHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICBlbHNlIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG4gICAgcmV0dXJuIGh0bWwgfHwgdW5kZWZpbmVkXG4gIH1cblxuICBhc3luYyB0b01lc3NhZ2UgKHB1c2hpbmcgPSBmYWxzZSkge1xuICAgIC8vIElmIGNhcmQgaXMgcHJvdmlkZWQgYXR0dGFjaGVkIHRoZSByb2xsIHRvIHRoZSBjYXJkLiBJZiBVUklEIHByb3ZpZGVkIGF0dGFjaCBhdCB0aGlzIHBvc2l0aW9uLj9cbiAgICB0aGlzLnB1c2hpbmcgPSBwdXNoaW5nXG4gICAgY29uc3QgdGVtcGxhdGUgPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L3JvbGwtcmVzdWx0Lmh0bWwnXG5cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBzcGVha2VyRGF0YSA9IHt9XG4gICAgbGV0IHNwZWFrZXJcbiAgICBpZiAodGhpcy5hY3Rvcikge1xuICAgICAgaWYgKHRoaXMuYWN0b3IuaXNUb2tlbikge1xuICAgICAgICBzcGVha2VyRGF0YS50b2tlbiA9IHRoaXMudG9rZW4uZG9jdW1lbnRcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3Rvci5pc0R1bW15KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdG9yLm5hbWUpIHNwZWFrZXIgPSB7IGFsaWFzOiB0aGlzLmFjdG9yLm5hbWUgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BlYWtlckRhdGEuYWN0b3IgPSB0aGlzLmFjdG9yXG4gICAgICB9XG4gICAgICBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcihzcGVha2VyRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yPy51c2VyID8gdGhpcy5hY3Rvci51c2VyIDogZ2FtZS51c2VyXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgZmxhdm9yOiB0aGlzLmZsYXZvcixcbiAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICBmbGFnczoge1xuICAgICAgICBDb0M3OiB7XG4gICAgICAgICAgdHlwZTogQ29DN0NoZWNrLmNhcmRUeXBlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy51dWlkKSBjaGF0RGF0YS5mbGFncy5Db0M3LnV1aWQgPSB0aGlzLnV1aWRcbiAgICBpZiAodGhpcy5jb250ZXh0KSBjaGF0RGF0YS5mbGFncy5Db0M3LmNvbnRleHQgPSB0aGlzLmNvbnRleHRcblxuICAgIGlmICh0aGlzLnJvbGxNb2RlID09PSAnc2VsZnJvbGwnKSB7XG4gICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgY2hhdERhdGEudXNlciA9IGdhbWUudXNlci5pZFxuICAgICAgICBjaGF0RGF0YS5mbGF2b3IgPSBgWyR7dGhpcy5hY3Rvci5uYW1lfV0gJHtjaGF0RGF0YS5mbGF2b3J9YFxuICAgICAgICBjaGF0RGF0YS5mbGFncyA9IHtcbiAgICAgICAgICBDb0M3OiB7XG4gICAgICAgICAgICBHTVNlbGZSb2xsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2hhdERhdGEuc3BlYWtlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjaGF0RGF0YS5mbGFncy5Db0M3Lm9yaWdpbmFsU3BlYWtlciA9IGR1cGxpY2F0ZShjaGF0RGF0YS5zcGVha2VyKVxuICAgICAgICB9XG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICAgIHN3aXRjaCAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2VsZlJvbGxXaGlzcGVyVGFyZ2V0JykpIHtcbiAgICAgICAgICAgIGNhc2UgJ293bmVycyc6XG4gICAgICAgICAgICAgIGRlbGV0ZSBjaGF0RGF0YS5zcGVha2VyXG4gICAgICAgICAgICAgIGNoYXREYXRhLndoaXNwZXIgPSB0aGlzLmFjdG9yLm93bmVyc1xuICAgICAgICAgICAgICBjaGF0RGF0YS50eXBlID0gQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLldISVNQRVJcbiAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSAnZXZlcnlvbmUnOlxuICAgICAgICAgICAgICBkZWxldGUgY2hhdERhdGEuc3BlYWtlclxuICAgICAgICAgICAgICBjaGF0RGF0YS53aGlzcGVyID0gZ2FtZS51c2Vycy5wbGF5ZXJzXG4gICAgICAgICAgICAgIGNoYXREYXRhLnR5cGUgPSBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuV0hJU1BFUlxuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBDaGF0TWVzc2FnZS5hcHBseVJvbGxNb2RlKGNoYXREYXRhLCB0aGlzLnJvbGxNb2RlKVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIENoYXRNZXNzYWdlLmFwcGx5Um9sbE1vZGUoY2hhdERhdGEsIHRoaXMucm9sbE1vZGUpXG4gICAgfVxuXG4gICAgaWYgKFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKHRoaXMucm9sbE1vZGUpKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICB9XG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YS5ibGluZCA9IHRydWVcblxuICAgIC8vIENoYXRNZXNzYWdlLmFwcGx5Um9sbE1vZGUoIGNoYXREYXRhLCB0aGlzLnJvbGxNb2RlKTtcbiAgICBpZiAodGhpcy5kaWNlPy5yb2xsICYmICF0aGlzLmRpY2U/LmhpZGVEaWNlKSB7XG4gICAgICBjaGF0RGF0YS5yb2xsID0gdGhpcy5kaWNlLnJvbGxcbiAgICAgIGNoYXREYXRhLnR5cGUgPSBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuUk9MTFxuICAgICAgY2hhdERhdGEucm9sbE1vZGUgPSB0aGlzLmlzQmxpbmQgPyAnYmxpbmRyb2xsJyA6IHRoaXMucm9sbE1vZGVcbiAgICB9XG5cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpLnRoZW4obXNnID0+IHtcbiAgICAgIHJldHVybiBtc2dcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbWFrZVB1YmxpYyAgV2lsbCBjaGFuZ2UgdGhlIHJvbGwgbW9kZSB0byBwdWJsaWNcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICh7IG1ha2VQdWJsaWMgPSBmYWxzZSwgZm9yY2VSb2xsID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKG1ha2VQdWJsaWMpIHRoaXMucm9sbE1vZGUgPSBmYWxzZSAvLyByZXNldCByb2xsIG1vZGVcblxuICAgIGNvbnN0IGNoYXREYXRhID0geyBmbGF2b3I6IHRoaXMuZmxhdm9yIH1cblxuICAgIGlmIChtYWtlUHVibGljKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gW11cbiAgICAgIGNoYXREYXRhLmJsaW5kID0gZmFsc2VcbiAgICAgIENoYXRNZXNzYWdlLmFwcGx5Um9sbE1vZGUoY2hhdERhdGEpXG4gICAgfSAvLyBlbHNlIHtcbiAgICAvLyBjaGF0RGF0YS53aGlzcGVyID0gW11cbiAgICAvLyBjaGF0RGF0YS5ibGluZCA9IGZhbHNlXG4gICAgLy8gQ2hhdE1lc3NhZ2UuYXBwbHlSb2xsTW9kZShjaGF0RGF0YSwgZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKSlcbiAgICAvLyB9XG5cbiAgICBpZiAoY2hhdERhdGEuYmxpbmQpIHtcbiAgICAgIHRoaXMuaXNCbGluZCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvcm9sbC1yZXN1bHQuaHRtbCdcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMpXG4gICAgbGV0IG5ld0NvbnRlbnQgPSBodG1sXG5cbiAgICBpZiAoIXRoaXMubWVzc2FnZUlkKSByZXR1cm4gJC5wYXJzZUhUTUwoaHRtbClbMF0gLy8gSWYgbm8gbWVzc2FnZUlkIHJldHVybiB0aGUgSFRNTEVsZW1lbnQgY29udGFpbmluZyB0aGUgcm9sbC5cbiAgICAvLyBJZiBubyBtZXNzYWdlSWRcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcbiAgICBjb25zdCBodG1sTWVzc2FnZSA9ICQucGFyc2VIVE1MKG1lc3NhZ2UuY29udGVudClbMF1cbiAgICBpZiAoIWh0bWxNZXNzYWdlLmNsYXNzTGlzdC5jb250YWlucygncm9sbC1yZXN1bHQnKSkge1xuICAgICAgY29uc3QgaHRtbENoZWNrID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cbiAgICAgIGNvbnN0IHJvbGxSZXN1bHRFbGVtZW50ID0gaHRtbE1lc3NhZ2UucXVlcnlTZWxlY3RvcignLnJvbGwtcmVzdWx0JylcbiAgICAgIGlmIChyb2xsUmVzdWx0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICByb2xsUmVzdWx0RWxlbWVudC5yZXBsYWNlV2l0aChodG1sQ2hlY2spXG4gICAgICB9XG4gICAgICBuZXdDb250ZW50ID0gaHRtbE1lc3NhZ2Uub3V0ZXJIVE1MXG4gICAgfVxuXG4gICAgY2hhdERhdGEuY29udGVudCA9IG5ld0NvbnRlbnRcblxuICAgIGlmIChDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuUk9MTCA9PT0gbWVzc2FnZS50eXBlKSB7XG4gICAgICBpZiAobWVzc2FnZS53aGlzcGVyPy5sZW5ndGgpIHtcbiAgICAgICAgY2hhdERhdGEudHlwZSA9IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5XSElTUEVSXG4gICAgICB9IGVsc2UgY2hhdERhdGEudHlwZSA9IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5PVEhFUlxuICAgIH1cblxuICAgIGlmIChmb3JjZVJvbGwgJiYgdGhpcy5kaWNlPy5yb2xsICYmIChnYW1lLnVzZXIuaXNHTSB8fCAhdGhpcy5pc0JsaW5kKSkge1xuICAgICAgYXdhaXQgQ29DN0RpY2Uuc2hvd1JvbGxEaWNlM2QodGhpcy5kaWNlLnJvbGwpXG4gICAgfVxuXG4gICAgY29uc3QgbXNnID0gYXdhaXQgbWVzc2FnZS51cGRhdGUoY2hhdERhdGEpXG4gICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgcmV0dXJuIG1zZ1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZUNhcmRTd2l0Y2ggKGV2ZW50KSB7XG4gICAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmNoYXQtY2FyZCcpXG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICBjaGVjay5nbURpZmZpY3VsdHlSZWd1bGFyID0gZmFsc2VcbiAgICBjaGVjay5nbURpZmZpY3VsdHlIYXJkID0gZmFsc2VcbiAgICBjaGVjay5nbURpZmZpY3VsdHlFeHRyZW1lID0gZmFsc2VcbiAgICBjaGVjay5nbURpZmZpY3VsdHlDcml0aWNhbCA9IGZhbHNlXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnID09PSAnZ21EaWZmaWN1bHR5UmVndWxhcicpIHtcbiAgICAgIGNoZWNrLmdtRGlmZmljdWx0eVJlZ3VsYXIgPSB0cnVlXG4gICAgfVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmxhZyA9PT0gJ2dtRGlmZmljdWx0eUhhcmQnKSB7XG4gICAgICBjaGVjay5nbURpZmZpY3VsdHlIYXJkID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWcgPT09ICdnbURpZmZpY3VsdHlFeHRyZW1lJykge1xuICAgICAgY2hlY2suZ21EaWZmaWN1bHR5RXh0cmVtZSA9IHRydWVcbiAgICB9XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnID09PSAnZ21EaWZmaWN1bHR5Q3JpdGljYWwnKSB7XG4gICAgICBjaGVjay5nbURpZmZpY3VsdHlDcml0aWNhbCA9IHRydWVcbiAgICB9XG4gICAgY2hlY2suY29tcHV0ZUNoZWNrKClcbiAgICBjaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBnZXQgdG9vbHRpcCAoKSB7XG4gICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9yb2xscy9yb2xsLXRvb2x0aXAuaHRtbCcsXG4gICAgICB0aGlzXG4gICAgKVxuICB9XG5cbiAgZ2V0IGlubGluZUNoZWNrICgpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgYS5jbGFzc0xpc3QuYWRkKCdjb2M3LWlubGluZS1jaGVjaycpXG4gICAgYS5jbGFzc0xpc3QuYWRkKCdjb2M3LWNoZWNrLXJlc3VsdCcpXG4gICAgYS5jbGFzc0xpc3QuYWRkKCdjb2M3LWlubGluZScpXG4gICAgYS5jbGFzc0xpc3QuYWRkKC4uLnRoaXMuY3NzQ2xhc3NMaXN0KVxuICAgIGEudGl0bGUgPSB0aGlzLnRvb2x0aXBIZWFkZXJcbiAgICBhLmRhdGFzZXQucm9sbCA9IGVzY2FwZSh0aGlzLkpTT05Sb2xsU3RyaW5nKSAvLyBUT0RPIUlNUE9SVEFOVCEhIVxuICAgIGEuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZ2FtZS1pY29uIGdhbWUtaWNvbi1kMTBcIj48L2k+ICR7XG4gICAgICB0aGlzLm1vZGlmaWVkUmVzdWx0IHx8ICc/PydcbiAgICB9YFxuICAgIHJldHVybiBhXG4gIH1cblxuICBnZXQgcm9sbFRvb2xUaXAgKCkge1xuICAgIGlmICh0aGlzLnN0YW5kYnkpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBwYXJ0cyA9IFtdXG4gICAgY29uc3QgdGVucyA9IHRoaXMuZGljZXMudGVucy5tYXAociA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHIudmFsdWUsXG4gICAgICAgIHNlbGVjdGVkOiByLnNlbGVjdGVkLFxuICAgICAgICBjbGFzc2VzOiBbXG4gICAgICAgICAgJ2RpZScsXG4gICAgICAgICAgJ2QxMCcsXG4gICAgICAgICAgIXIuc2VsZWN0ZWQgPyAnZGlzY2FyZGVkJyA6IG51bGwsXG4gICAgICAgICAgci5pc01pbiA/ICdtaW4nIDogbnVsbCxcbiAgICAgICAgICByLmlzTWF4ID8gJ21heCcgOiBudWxsXG4gICAgICAgIF1cbiAgICAgICAgICAuZmlsdGVyKGMgPT4gYylcbiAgICAgICAgICAuam9pbignICcpXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB1bml0ID0gW1xuICAgICAge1xuICAgICAgICByZXN1bHQ6IHRoaXMuZGljZXMudW5pdC52YWx1ZSxcbiAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgIGNsYXNzZXM6ICdkaWUgZDEwJ1xuICAgICAgfVxuICAgIF1cblxuICAgIHBhcnRzLnB1c2goe1xuICAgICAgZm9ybXVsYTogdGhpcy50b29sdGlwSGVhZGVyLFxuICAgICAgdG90YWw6IHRoaXMubW9kaWZpZWRSZXN1bHQsXG4gICAgICBpY29uczogdGhpcy5zdWNjZXNzTGV2ZWxJY29ucyxcbiAgICAgIGNsYXNzOiB0aGlzLmNzc0NsYXNzLFxuICAgICAgc3VjY2Vzc1JlcXVpcmVkOiB0aGlzLnN1Y2Nlc3NSZXF1aXJlZCxcbiAgICAgIHJlc3VsdFR5cGU6IHRoaXMucmVzdWx0VHlwZSxcbiAgICAgIGZhY2U6IDEwLFxuICAgICAgcm9sbHM6IFsuLi50ZW5zLCAuLi51bml0XVxuICAgIH0pXG4gICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9yb2xscy9yb2xsLXRvb2x0aXAuaHRtbCcsXG4gICAgICB7IHBhcnRzIH1cbiAgICApXG4gIH1cblxuICBnZXQgSlNPTlJvbGxEYXRhICgpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLkpTT05Sb2xsU3RyaW5nKVxuICB9XG5cbiAgZ2V0IEpTT05Sb2xsU3RyaW5nICgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcywgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgY29uc3QgZXhjbHVkZSA9IFsnX2FjdG9yJywgJ19za2lsbCcsICdfaXRlbSddXG4gICAgICBpZiAoZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGZyb21EYXRhIChkYXRhKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IENvQzdDaGVjaygpLCBkYXRhKVxuICB9XG5cbiAgc3RhdGljIGZyb21Sb2xsU3RyaW5nIChkYXRhU3RyaW5nKSB7XG4gICAgbGV0IGRhdGFcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UodW5lc2NhcGUoZGF0YVN0cmluZykpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVyci5tZXNzYWdlKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIENvQzdDaGVjay5mcm9tRGF0YShkYXRhKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFsdGVyIChjaGVjaywgY29tbWFuZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICBjYXNlICd1c2VMdWNrJzoge1xuICAgICAgICBpZiAob3B0aW9ucy50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXNzLWNoZWNrJykpIHtcbiAgICAgICAgICBjb25zdCBsdWNrQW1vdW50ID0gcGFyc2VJbnQob3B0aW9ucy50YXJnZXQuZGF0YXNldC5sdWNrQW1vdW50KVxuICAgICAgICAgIGNoZWNrLmZvcmNlUGFzcyhsdWNrQW1vdW50LCBvcHRpb25zLnVwZGF0ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB1cGdyYWRlSW5kZXggPSBwYXJzZUludChvcHRpb25zLnRhcmdldC5kYXRhc2V0LmluZGV4KVxuICAgICAgICAgIGF3YWl0IGNoZWNrLnVwZ3JhZGVDaGVjayh1cGdyYWRlSW5kZXgsIG9wdGlvbnMudXBkYXRlKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZvcmNlLXBhc3MnOiB7XG4gICAgICAgIGNoZWNrLmZvcmNlUGFzcyhudWxsLCBvcHRpb25zLnVwZGF0ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZm9yY2UtZmFpbCc6IHtcbiAgICAgICAgY2hlY2suZm9yY2VGYWlsKG9wdGlvbnMudXBkYXRlKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdpbmNyZWFzZS1zdWNjZXNzLWxldmVsJzoge1xuICAgICAgICBjaGVjay5pbmNyZWFzZVN1Y2Nlc3NMZXZlbChvcHRpb25zLnVwZGF0ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZGVjcmVhc2Utc3VjY2Vzcy1sZXZlbCc6IHtcbiAgICAgICAgY2hlY2suZGVjcmVhc2VTdWNjZXNzTGV2ZWwob3B0aW9ucy51cGRhdGUpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JldmVhbC1jaGVjayc6IHtcbiAgICAgICAgY2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgICAgIGNoZWNrLnJvbGxNb2RlID0gZmFsc2VcbiAgICAgICAgY2hlY2suY29tcHV0ZUNoZWNrKClcbiAgICAgICAgaWYgKG9wdGlvbnMudXBkYXRlKSBjaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZsYWctZm9yLWRldmVsb3BtZW50Jzoge1xuICAgICAgICBhd2FpdCBjaGVjay5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgICAgICAgY2hlY2suY29tcHV0ZUNoZWNrKClcbiAgICAgICAgaWYgKG9wdGlvbnMudXBkYXRlKSBjaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3B1c2gnOiB7XG4gICAgICAgIGF3YWl0IGNoZWNrLl9wZXJmb3JtKClcbiAgICAgICAgY2hlY2sucHVzaGluZyA9IHRydWVcbiAgICAgICAgaWYgKG9wdGlvbnMudXBkYXRlKSBjaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vbkNsaWNrSW5saW5lUm9sbCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcblxuICAgIGlmIChhLmNsYXNzTGlzdC5jb250YWlucygnY29jNy1jaGVjay1yZXN1bHQnKSkge1xuICAgICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpKSB7XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suX2NvbGxhcHNlSW5saW5lUmVzdWx0KGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLl9leHBhbmRJbmxpbmVSZXN1bHQoYSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2NvbGxhcHNlSW5saW5lUmVzdWx0IChhKSB7XG4gICAgaWYgKCFhLmNsYXNzTGlzdC5jb250YWlucygnY29jNy1pbmxpbmUtY2hlY2snKSkgcmV0dXJuXG4gICAgaWYgKCFhLmNsYXNzTGlzdC5jb250YWlucygnZXhwYW5kZWQnKSkgcmV0dXJuXG4gICAgY29uc3QgdG9vbHRpcCA9IGEucXVlcnlTZWxlY3RvcignLmNvYzctY2hlY2stdG9vbHRpcCcpXG4gICAgaWYgKHRvb2x0aXApIHRvb2x0aXAucmVtb3ZlKClcbiAgICByZXR1cm4gYS5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX2V4cGFuZElubGluZVJlc3VsdCAoYSkge1xuICAgIGlmICghYS5jbGFzc0xpc3QuY29udGFpbnMoJ2NvYzctaW5saW5lLWNoZWNrJykpIHJldHVyblxuICAgIGlmIChhLmNsYXNzTGlzdC5jb250YWlucygnZXhwYW5kZWQnKSkgcmV0dXJuXG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgdG9vbHRpcFxuICAgIGNvbnN0IGNoZWNrID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIG5ldyBDb0M3Q2hlY2soKSxcbiAgICAgIEpTT04ucGFyc2UodW5lc2NhcGUoYS5kYXRhc2V0LnJvbGwpKVxuICAgICkgLy8gVE9ETyA6IGZpbmQgc3RyaW5naWZ5IHVuZXNjYXBlICEhIDIwMjEwMjA1XG4gICAgaWYgKGNoZWNrLnN0YW5kYnkpIHJldHVyblxuXG4gICAgY29uc3QgdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0aXAuaW5uZXJIVE1MID0gYXdhaXQgY2hlY2sucm9sbFRvb2xUaXBcblxuICAgIC8vIEFkZCB0aGUgdG9vbHRpcFxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aXAuY2hpbGRyZW5bMF1cbiAgICBhLmFwcGVuZENoaWxkKHRvb2x0aXApXG4gICAgYS5jbGFzc0xpc3QuYWRkKCdleHBhbmRlZCcpXG5cbiAgICAvLyBTZXQgdGhlIHBvc2l0aW9uXG4gICAgY29uc3QgcGEgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgY29uc3QgcHQgPSB0b29sdGlwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5taW4oXG4gICAgICBwYS54LFxuICAgICAgd2luZG93LmlubmVyV2lkdGggLSAocHQud2lkdGggKyAzKVxuICAgICl9cHhgXG4gICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHtNYXRoLm1pbihcbiAgICAgIHBhLnkgKyBwYS5oZWlnaHQgKyAzLFxuICAgICAgd2luZG93LmlubmVySGVpZ2h0IC0gKHB0LmhlaWdodCArIDMpXG4gICAgKX1weGBcbiAgICBjb25zdCB6aSA9IGdldENvbXB1dGVkU3R5bGUoYSkuekluZGV4XG4gICAgdG9vbHRpcC5zdHlsZS56SW5kZXggPSBOdW1iZXIuaXNOdW1lcmljKHppKSA/IHppICsgMSA6IDEwMFxuICB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBDaGF0TWVzc2FnZSwgQ09ORklHLCBDT05TVCwgRGlhbG9nLCBkdXBsaWNhdGUsIEZvbGRlciwgZnJvbVV1aWQsIGZyb21VdWlkU3luYywgZ2FtZSwgZ2V0RG9jdW1lbnRDbGFzcywgSG9va3MsIE1hY3JvLCBSb2xsLCBUb2tlbiwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4vaXRlbXMvaXRlbS5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuL2FwcHMvcm9sbC1kaWFsb2cuanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyIH0gZnJvbSAnLi9jaGF0L2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdVdGlsaXRpZXMge1xuICAvLyBzdGF0aWMgdGVzdChldmVudCl7XG4gIC8vICAgaWYoIGV2ZW50LnNoaWZ0S2V5KSB1aS5ub3RpZmljYXRpb25zLmluZm8oJ0hlbGxvIGZyb20gU0hJRlQgdXRpbGl0aWVzJyk7XG4gIC8vICAgZWxzZSB1aS5ub3RpZmljYXRpb25zLmluZm8oJ0hlbGxvIGZyb20gdXRpbGl0aWVzJyk7XG4gIC8vICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKTtcbiAgLy8gICBsZXQgYWN0b3I7XG4gIC8vICAgaWYgKHNwZWFrZXIudG9rZW4pIGFjdG9yID0gZ2FtZS5hY3RvcnMudG9rZW5zW3NwZWFrZXIudG9rZW5dO1xuICAvLyAgIGlmICghYWN0b3IpIGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpO1xuXG4gIC8vICBhY3Rvci5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHMpO1xuICAvLyB9XG5cbiAgc3RhdGljIGlzRm9ybXVsYSAoeCkge1xuICAgIGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZVxuICAgIGlmICghaXNOYU4oTnVtYmVyKHgpKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIFJvbGwudmFsaWRhdGUoeClcbiAgfVxuXG4gIHN0YXRpYyBQYXJzZUNoYXRFbnRyeSAoaHRtbCwgY29udGVudCkge1xuICAgIGNvbnN0IHJlZ1ggPSAvKFxcUyspL2dcbiAgICBjb25zdCB0ZXJtcyA9IGNvbnRlbnQubWF0Y2gocmVnWClcbiAgICBpZiAoXG4gICAgICB0ZXJtc1swXT8udG9Mb3dlckNhc2UoKS5tYXRjaCgvXlxcL3Iob2xsKT8kLykgJiZcbiAgICAgIHRlcm1zWzFdPy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJzFkJScpXG4gICAgKSB7XG4gICAgICAvLyBEZWxheSBjYWxsaW5nIGZ1bmN0aW9uIHRvIHByZXZlbnQgY2hhdG1lc3NhZ2Uga2V5IGRvd24gdHJpZ2dlcmluZyBkZWZhdWx0XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQ29DN1V0aWxpdGllcy5fRXhlY0NvbW1hbmQoY29udGVudClcbiAgICAgIH0sIDIwMClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfRXhlY0NvbW1hbmQgKGNvbnRlbnQpIHtcbiAgICBjb25zdCBvcHRpb25zID0gY29udGVudFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5zcGxpdCgnICcpXG4gICAgICA/LmpvaW4oJycpXG4gICAgICA/LnJlcGxhY2UoL1xcL3Iob2xsKT8xZCUvLCAnJylcbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIGlmIChvcHRpb25zLmxlbmd0aCkge1xuICAgICAgbGV0IGVzY2FwZWQgPSBvcHRpb25zXG4gICAgICBsZXQgdGhyZXNob2xkXG4gICAgICBsZXQgZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgbGV0IGRpY2VNb2RpZmllciA9IDBcbiAgICAgIGxldCBhc2sgPSBmYWxzZVxuICAgICAgbGV0IGZsYXREaWNlTW9kaWZpZXJcbiAgICAgIGxldCBmbGF0VGhyZXNob2xkTW9kaWZpZXJcbiAgICAgIGNvbnN0IHRocmVzaG9sZFN0ciA9IGVzY2FwZWQubWF0Y2goL1teKF0rKD89XFwpKS8pXG4gICAgICBpZiAodGhyZXNob2xkU3RyICYmIHRocmVzaG9sZFN0ci5sZW5ndGgpIHtcbiAgICAgICAgdGhyZXNob2xkID0gTnVtYmVyKHRocmVzaG9sZFN0clswXSlcbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0aHJlc2hvbGRTdHIpIHtcbiAgICAgICAgICBlc2NhcGVkID0gZXNjYXBlZC5yZXBsYWNlKGAoJHttYXRjaH0pYCwgJycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlTdHIgPSBlc2NhcGVkLm1hdGNoKC9bXltdKyg/PVxcXSkvKVxuICAgICAgaWYgKGRpZmZpY3VsdHlTdHIgJiYgZGlmZmljdWx0eVN0ci5sZW5ndGgpIHtcbiAgICAgICAgZGlmZmljdWx0eSA9IENvQzdVdGlsaXRpZXMuY29udmVydERpZmZpY3VsdHkoZGlmZmljdWx0eVN0clswXSlcbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBkaWZmaWN1bHR5U3RyKSB7XG4gICAgICAgICAgZXNjYXBlZCA9IGVzY2FwZWQucmVwbGFjZShgWyR7bWF0Y2h9XWAsICcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZXNjYXBlZC5pbmNsdWRlcygnPycpKSB7XG4gICAgICAgIGFzayA9IHRydWVcbiAgICAgICAgZXNjYXBlZCA9IGVzY2FwZWQucmVwbGFjZSgnPycsICcnKVxuICAgICAgfVxuICAgICAgaWYgKCFpc05hTihOdW1iZXIoZXNjYXBlZCkpKSBkaWNlTW9kaWZpZXIgPSBOdW1iZXIoZXNjYXBlZClcblxuICAgICAgaWYgKGFzaykge1xuICAgICAgICBjb25zdCBkaWFsb2dPcHRpb25zID0ge1xuICAgICAgICAgIHRocmVzaG9sZCxcbiAgICAgICAgICBtb2RpZmllcjogZGljZU1vZGlmaWVyLFxuICAgICAgICAgIGRpZmZpY3VsdHksXG4gICAgICAgICAgYXNrVmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKGRpYWxvZ09wdGlvbnMpXG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgIGRpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICAgIGRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICAgICAgdGhyZXNob2xkID0gTnVtYmVyKHVzYWdlLmdldCgndGhyZXNob2xkJykpIHx8IHRocmVzaG9sZFxuICAgICAgICAgIGZsYXREaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0RGljZU1vZGlmaWVyJykpXG4gICAgICAgICAgZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnZmxhdFRocmVzaG9sZE1vZGlmaWVyJykpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gZGljZU1vZGlmaWVyIHx8IDBcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5IHx8IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgY2hlY2sucmF3VmFsdWUgPSB0aHJlc2hvbGRcbiAgICAgIGNoZWNrLmZsYXREaWNlTW9kaWZpZXIgPSBmbGF0RGljZU1vZGlmaWVyXG4gICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBmbGF0VGhyZXNob2xkTW9kaWZpZXJcbiAgICAgIGlmICh0aHJlc2hvbGQpIGNoZWNrLnJhd1ZhbHVlID0gIWlzTmFOKHRocmVzaG9sZCkgPyB0aHJlc2hvbGQgOiB1bmRlZmluZWRcbiAgICB9XG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgIGlmIChzcGVha2VyLnRva2VuICYmIHNwZWFrZXIuc2NlbmUpIHtcbiAgICAgIGNvbnN0IGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoXG4gICAgICAgIGAke3NwZWFrZXIuc2NlbmV9LiR7c3BlYWtlci50b2tlbn1gXG4gICAgICApIC8vIFJFRkFDVE9SSU5HICgyKSArKysgd2h5IHNwZWFrZXIuc2NlbmUuXG4gICAgICBpZiAoYWN0b3IpIGNoZWNrLmFjdG9yID0gYWN0b3JcbiAgICB9IGVsc2UgaWYgKHNwZWFrZXIuYWN0b3IpIHtcbiAgICAgIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpXG4gICAgICBpZiAoYWN0b3IpIGNoZWNrLmFjdG9yID0gYWN0b3JcbiAgICB9XG4gICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgY2hlY2sudG9NZXNzYWdlKClcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0ZXN0ICgpIHtcbiAgICB1aS5ub3RpZmljYXRpb25zLmluZm9zKCdEbyBzb21lIHN0dWZmJylcbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckZyb21TdHJpbmcgKGFjdG9yU3RyaW5nKSB7XG4gICAgbGV0IGFjdG9yXG5cbiAgICAvLyBUb2tlbiBpcyBiZXR0ZXIgdGhhbiBhY3Rvci5cbiAgICAvLyBDYXNlIDEgOiB0cnlpbmcgd2l0aCBJRC5cbiAgICAvLyBDYXNlIDEuMSA6IHRva2VuIGZvdW5kLlxuICAgIGlmIChnYW1lLmFjdG9ycy50b2tlbnNbYWN0b3JTdHJpbmddKSByZXR1cm4gZ2FtZS5hY3RvcnMudG9rZW5zW2FjdG9yU3RyaW5nXVxuICAgIC8vIENhc2UgMS4yIDogYWN0b3IgZm91bmQuXG4gICAgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoYWN0b3JTdHJpbmcpXG4gICAgaWYgKGFjdG9yKSByZXR1cm4gYWN0b3JcblxuICAgIC8vIENhc2UgMiA6IHRyeWluZyB3aXRoIG5hbWVcbiAgICAvLyBDYXNlIDIuMSA6IHRva2VuIGZvdW5kLlxuICAgIGFjdG9yID0gT2JqZWN0LnZhbHVlcyhnYW1lLmFjdG9ycy50b2tlbnMpLmZpbmQodCA9PiB7XG4gICAgICBpZiAodC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IGFjdG9yU3RyaW5nLnRvTG93ZXJDYXNlKCkpIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9KVxuICAgIGlmICghYWN0b3IpIHtcbiAgICAgIC8vIENhc2UgMi4yIDogYWN0b3IgZm91bmQuXG4gICAgICBhY3RvciA9IGdhbWUuYWN0b3JzLmZpbmQoYSA9PiB7XG4gICAgICAgIGlmIChhLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gYWN0b3JTdHJpbmcudG9Mb3dlckNhc2UoKSkgcmV0dXJuIHRydWVcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAoYWN0b3IpIHJldHVybiBhY3RvclxuXG4gICAgLy8gLy8gQ2FzZSAzIHN0cmluZyBtYXliZSBhbiBhY3RvcktleVxuICAgIC8vIGlmIChjcmVhdHVyZS5pbmNsdWRlcygnLicpKSB7XG4gICAgLy8gICBjb25zdCBbLCBhY3RvcklkXSA9IGtleS5zcGxpdCgnLicpXG4gICAgLy8gICByZXR1cm4gQ29DN1V0aWxpdGllcy5nZXRBY3RvckZyb21TdHJpbmcoYWN0b3JJZClcbiAgICAvLyB9XG5cbiAgICAvLyBObyBqb3lcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgc3RhdGljIGdldENoYXJhY3RlcmlzdGljTmFtZXMgKGNoYXIpIHtcbiAgICBjb25zdCBjaGFyS2V5ID0gY2hhci50b0xvd2VyQ2FzZSgpXG5cbiAgICBzd2l0Y2ggKGNoYXJLZXkpIHtcbiAgICAgIGNhc2UgJ3N0cic6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLlNUUicpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5TdHJlbmd0aCcpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2Nvbic6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkNPTicpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5Db25zdGl0dXRpb24nKVxuICAgICAgICB9XG4gICAgICBjYXNlICdzaXonOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3J0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5TSVonKSxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuU2l6ZScpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2RleCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkRFWCcpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5EZXh0ZXJpdHknKVxuICAgICAgICB9XG4gICAgICBjYXNlICdhcHAnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3J0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5BUFAnKSxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuQXBwZWFyYW5jZScpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLklOVCcpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5JbnRlbGxpZ2VuY2UnKVxuICAgICAgICB9XG4gICAgICBjYXNlICdwb3cnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3J0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5QT1cnKSxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuUG93ZXInKVxuICAgICAgICB9XG4gICAgICBjYXNlICdlZHUnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3J0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5FRFUnKSxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuRWR1Y2F0aW9uJylcbiAgICAgICAgfVxuICAgICAgY2FzZSAnbHVjayc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJyksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJylcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgICBnYW1lLnN5c3RlbS50ZW1wbGF0ZS5BY3Rvci50ZW1wbGF0ZXMuY2hhcmFjdGVyaXN0aWNzLmNoYXJhY3RlcmlzdGljc1xuICAgICAgICApKSB7XG4gICAgICAgICAgaWYgKGNoYXJLZXkgPT09IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5zaG9ydCkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5zaG9ydCksXG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUubGFiZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNvbnZlcnREaWZmaWN1bHR5IChkaWZmaWN1bHR5KSB7XG4gICAgaWYgKFN0cmluZyhkaWZmaWN1bHR5KSA9PT0gJzAnKSByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgaWYgKHR5cGVvZiBkaWZmaWN1bHR5ICE9PSAnc3RyaW5nJykgcmV0dXJuIGRpZmZpY3VsdHlcbiAgICBpZiAoIWlzTmFOKE51bWJlcihkaWZmaWN1bHR5KSkpIHJldHVybiBOdW1iZXIoZGlmZmljdWx0eSlcblxuICAgIHN3aXRjaCAoZGlmZmljdWx0eSkge1xuICAgICAgY2FzZSAnPyc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnVua25vd25cbiAgICAgIGNhc2UgJysnOlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkXG4gICAgICBjYXNlICcrKyc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWVcbiAgICAgIGNhc2UgJysrKyc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHNraWxsQ2hlY2tNYWNybyAoc2tpbGwsIGV2ZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKVxuICAgIGxldCBhY3RvclxuICAgIGlmIChzcGVha2VyLnRva2VuKSBhY3RvciA9IGdhbWUuYWN0b3JzLnRva2Vuc1tzcGVha2VyLnRva2VuXVxuICAgIGlmICghYWN0b3IpIGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpIC8vIE5vIG5lZWQgdG8gZmlsbCBhY3RvciB0b2tlblxuXG4gICAgaWYgKCFhY3Rvcikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTm9BY3RvckF2YWlsYWJsZScpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYWN0b3Iuc2tpbGxDaGVjayhza2lsbCwgZXZlbnQuc2hpZnRLZXksIG9wdGlvbnMpXG4gIH1cblxuICBzdGF0aWMgd2VhcG9uQ2hlY2tNYWNybyAod2VhcG9uLCBldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpXG4gICAgbGV0IGFjdG9yXG4gICAgaWYgKHNwZWFrZXIudG9rZW4pIGFjdG9yID0gZ2FtZS5hY3RvcnMudG9rZW5zW3NwZWFrZXIudG9rZW5dXG4gICAgaWYgKCFhY3Rvcikge1xuICAgICAgaWYgKHNwZWFrZXIuc2NlbmUgJiYgc3BlYWtlci50b2tlbikge1xuICAgICAgICAvLyBDcmVhdGUgYSBzeW50aGV0aWMgYWN0b3IgbGlua2VkIHdpdGggdGhlIGFjdGl2ZSB0b2tlbi5cbiAgICAgICAgY29uc3QgYmFzZUFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpXG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNwZWFrZXIuc2NlbmUpXG4gICAgICAgIGNvbnN0IHRva2VuID0gc2NlbmUudG9rZW5zLmdldChzcGVha2VyLnRva2VuKVxuXG4gICAgICAgIGNvbnN0IEFjdG9yQ2xhc3MgPSBnZXREb2N1bWVudENsYXNzKCdBY3RvcicpXG4gICAgICAgIGNvbnN0IHRva2VuQWN0b3IgPSBuZXcgQWN0b3JDbGFzcyhiYXNlQWN0b3IudG9KU09OKCksIHtcbiAgICAgICAgICBwYXJlbnQ6IHRva2VuXG4gICAgICAgIH0pXG4gICAgICAgIGFjdG9yID0gdG9rZW5BY3RvclxuICAgICAgfSBlbHNlIGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpXG4gICAgfVxuXG4gICAgaWYgKCFhY3Rvcikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTm9BY3RvckF2YWlsYWJsZScpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYWN0b3Iud2VhcG9uQ2hlY2sod2VhcG9uLCBldmVudC5zaGlmdEtleSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjaGVja01hY3JvICh0aHJlc2hvbGQgPSB1bmRlZmluZWQsIGV2ZW50ID0gbnVsbCkge1xuICAgIGF3YWl0IENvQzdVdGlsaXRpZXMucm9sbERpY2UoZXZlbnQsIHsgdGhyZXNob2xkIH0pXG4gIH1cblxuICBzdGF0aWMgY3JlYXRlTWFjcm8gKGJhciwgZGF0YSwgc2xvdCkge1xuICAgIGlmIChkYXRhLnR5cGUgIT09ICdJdGVtJykgcmV0dXJuXG5cbiAgICBjb25zdCBpdGVtID0gZnJvbVV1aWRTeW5jKGRhdGEudXVpZCwgYmFyKVxuXG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2Fybk1hY3JvTm9JdGVtRm91bmQnKVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoIShpdGVtLnR5cGUgPT09ICd3ZWFwb24nKSAmJiAhKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykpIHtcbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTWFjcm9JbmNvcnJlY3RUeXBlJylcbiAgICAgIClcbiAgICB9XG5cbiAgICBsZXQgY29tbWFuZCA9ICcnXG5cbiAgICBpZiAoaXRlbS50eXBlID09PSAnd2VhcG9uJykge1xuICAgICAgY29tbWFuZCA9IGBnYW1lLkNvQzcubWFjcm9zLndlYXBvbkNoZWNrKHtuYW1lOicke2l0ZW0ubmFtZX0nLCB1dWlkOicke2RhdGEudXVpZH0nfSwgZXZlbnQpO2BcbiAgICB9XG5cbiAgICBpZiAoaXRlbS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICBpZiAoQ29DN0l0ZW0uaXNBbnlTcGVjKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5Ob0dsb2JhbFNwZWMnKVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb21tYW5kID0gYGdhbWUuQ29DNy5tYWNyb3Muc2tpbGxDaGVjayh7bmFtZTonJHtpdGVtLm5hbWV9JywgdXVpZDonJHtkYXRhLnV1aWR9J30sIGV2ZW50KTtgXG4gICAgfVxuXG4gICAgaWYgKGNvbW1hbmQgIT09ICcnKSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIG1hY3JvIGNvbW1hbmRcbiAgICAgIGNvbnN0IG1hY3JvID0gZ2FtZS5tYWNyb3MuY29udGVudHMuZmluZChcbiAgICAgICAgbSA9PiBtLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBtLmNvbW1hbmQgPT09IGNvbW1hbmRcbiAgICAgIClcbiAgICAgIGlmICghbWFjcm8pIHtcbiAgICAgICAgTWFjcm8uY3JlYXRlKGR1cGxpY2F0ZSh7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdzY3JpcHQnLFxuICAgICAgICAgIGltZzogaXRlbS5pbWcsXG4gICAgICAgICAgY29tbWFuZFxuICAgICAgICB9KSkudGhlbihtYWNybyA9PiB7XG4gICAgICAgICAgZ2FtZS51c2VyLmFzc2lnbkhvdGJhck1hY3JvKG1hY3JvLCBzbG90KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGdhbWUudXNlci5hc3NpZ25Ib3RiYXJNYWNybyhtYWNybywgc2xvdClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHRvZ2dsZURldlBoYXNlICh0b2dnbGUpIHtcbiAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnLCB0b2dnbGUpXG4gICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgdG9nZ2xlXG4gICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkRldlBoYXNlRW5hYmxlZCcpXG4gICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkRldlBoYXNlRGlzYWJsZWQnKVxuICAgIClcbiAgICBnYW1lLnNvY2tldC5lbWl0KCdzeXN0ZW0uQ29DNycsIHtcbiAgICAgIHR5cGU6ICd1cGRhdGVDaGFyJ1xuICAgIH0pXG4gICAgQ29DN1V0aWxpdGllcy51cGRhdGVDaGFyU2hlZXRzKClcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0b2dnbGVDaGFyQ3JlYXRpb24gKHRvZ2dsZSkge1xuICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ2NoYXJDcmVhdGlvbkVuYWJsZWQnLCB0b2dnbGUpXG4gICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgdG9nZ2xlXG4gICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJDcmVhdGlvbkVuYWJsZWQnKVxuICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DaGFyQ3JlYXRpb25EaXNhYmxlZCcpXG4gICAgKVxuICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3Jywge1xuICAgICAgdHlwZTogJ3VwZGF0ZUNoYXInXG4gICAgfSlcbiAgICBDb0M3VXRpbGl0aWVzLnVwZGF0ZUNoYXJTaGVldHMoKVxuICAgIEhvb2tzLmNhbGwoJ3RvZ2dsZUNoYXJDcmVhdGlvbicsIHRvZ2dsZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUYXJnZXQgKCkge1xuICAgIGNvbnN0IHVzZXJzID0gZ2FtZS51c2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLmFjdGl2ZSlcbiAgICBjb25zdCBhY3RvcnMgPSBnYW1lLmFjdG9yc1xuICAgIGxldCBjaGVja09wdGlvbnMgPSBgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJDT0NDaGVja0FsbFBDXCIgaWQ9XCJDT0NDaGVja0FsbFBDXCI+XFxuXG4gICAgPGxhYmVsIGZvcj1cIkNPQ0NoZWNrQWxsUENcIj4ke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5hbGxBY3RvcnMnKX08L2xhYmVsPmBcbiAgICBjb25zdCBwbGF5ZXJUb2tlbklkcyA9IHVzZXJzXG4gICAgICAubWFwKHUgPT4gdS5jaGFyYWN0ZXI/LmlkKVxuICAgICAgLmZpbHRlcihpZCA9PiBpZCAhPT0gdW5kZWZpbmVkKVxuICAgIGNvbnN0IHNlbGVjdGVkUGxheWVySWRzID0gY2FudmFzLnRva2Vucy5jb250cm9sbGVkLm1hcCh0b2tlbiA9PiB7XG4gICAgICByZXR1cm4gdG9rZW4uYWN0b3IuaWRcbiAgICB9KVxuXG4gICAgLy8gQnVpbGQgY2hlY2tib3ggbGlzdCBmb3IgYWxsIGFjdGl2ZSBwbGF5ZXJzXG4gICAgYWN0b3JzLmZvckVhY2goYWN0b3IgPT4ge1xuICAgICAgY29uc3QgY2hlY2tlZCA9XG4gICAgICAgIChzZWxlY3RlZFBsYXllcklkcy5pbmNsdWRlcyhhY3Rvci5pZCkgfHxcbiAgICAgICAgICBwbGF5ZXJUb2tlbklkcy5pbmNsdWRlcyhhY3Rvci5pZCkpICYmXG4gICAgICAgICdjaGVja2VkJ1xuICAgICAgY2hlY2tPcHRpb25zICs9IGBcbiAgICAgPGJyPlxuICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIiR7YWN0b3IuaWR9XCIgaWQ9XCIke2FjdG9yLmlkfVwiIHZhbHVlPVwiJHthY3Rvci5uYW1lfVwiICR7Y2hlY2tlZH0+XFxuXG4gICAgIDxsYWJlbCBmb3I9XCIke2FjdG9yLmlkfVwiPiR7YWN0b3IubmFtZX08L2xhYmVsPlxuICAgICAgIGBcbiAgICB9KVxuXG4gICAgbmV3IERpYWxvZyh7XG4gICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LmRyZWFtaW5nJyl9YCxcbiAgICAgIGNvbnRlbnQ6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgJ0NvQzcucmVzdFRhcmdldHMnXG4gICAgICApfTogJHtjaGVja09wdGlvbnN9IDxicj5gLFxuICAgICAgYnV0dG9uczoge1xuICAgICAgICB3aGlzcGVyOiB7XG4gICAgICAgICAgbGFiZWw6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5zdGFydFJlc3QnKX1gLFxuICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyBodG1sID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldHMgPSBbXVxuICAgICAgICAgICAgbGV0IGFsbCA9IGZhbHNlXG4gICAgICAgICAgICBjb25zdCB1c2VycyA9IGh0bWwuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHtcbiAgICAgICAgICAgICAgaWYgKHVzZXIubmFtZSA9PT0gJ0NPQ0NoZWNrQWxsUEMnICYmIHVzZXIuY2hlY2tlZCkgYWxsID0gdHJ1ZVxuICAgICAgICAgICAgICBpZiAodXNlci5jaGVja2VkIHx8IGFsbCkgdGFyZ2V0cy5wdXNoKHVzZXIuaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBDb0M3VXRpbGl0aWVzLnN0YXJ0UmVzdCh0YXJnZXRzKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHN0YXJ0UmVzdCAodGFyZ2V0cykge1xuICAgIGlmICghdGFyZ2V0cy5sZW5ndGgpIHJldHVyblxuICAgIGNvbnN0IGFjdG9ycyA9IGdhbWUuYWN0b3JzLmZpbHRlcihhY3RvciA9PiB0YXJnZXRzLmluY2x1ZGVzKGFjdG9yLmlkKSlcbiAgICBsZXQgY2hhdENvbnRlbnQgPSBgPGk+JHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuZHJlYW1pbmcnKX0uLi48L2k+PGJyPmBcbiAgICBmb3IgKGNvbnN0IGFjdG9yIG9mIGFjdG9ycykge1xuICAgICAgaWYgKFsnY2hhcmFjdGVyJywgJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKGFjdG9yLnR5cGUpKSB7XG4gICAgICAgIGxldCBxdWlja0hlYWxlciA9IGZhbHNlXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhY3Rvci5pdGVtcykge1xuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0YWxlbnQnKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5uYW1lID09PSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucXVpY2tIZWFsZXInKX1gKSB7XG4gICAgICAgICAgICAgIHF1aWNrSGVhbGVyID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0NyaXRpY2FsV291bmRzID1cbiAgICAgICAgICAhZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVNYWpvcldvdW5kcycpICYmXG4gICAgICAgICAgYWN0b3IuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzKVxuICAgICAgICBjb25zdCBkYWlseVNhbml0eUxvc3MgPSBhY3Rvci5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzXG4gICAgICAgIGNvbnN0IGhwVmFsdWUgPSBhY3Rvci5zeXN0ZW0uYXR0cmlicy5ocC52YWx1ZVxuICAgICAgICBjb25zdCBocE1heCA9IGFjdG9yLnN5c3RlbS5hdHRyaWJzLmhwLm1heFxuICAgICAgICBjb25zdCBtcFZhbHVlID0gYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWVcbiAgICAgICAgY29uc3QgbXBNYXggPSBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC5tYXhcbiAgICAgICAgY29uc3QgcG93ID0gYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWVcbiAgICAgICAgY2hhdENvbnRlbnQgPSBjaGF0Q29udGVudCArIGA8YnI+PGI+JHthY3Rvci5uYW1lfS4gPC9iPmBcbiAgICAgICAgaWYgKGhwVmFsdWUgPCBocE1heCkge1xuICAgICAgICAgIGlmIChpc0NyaXRpY2FsV291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjaGF0Q29udGVudCA9XG4gICAgICAgICAgICAgIGNoYXRDb250ZW50ICtcbiAgICAgICAgICAgICAgYDxiIHN0eWxlPVwiY29sb3I6ZGFya3JlZFwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdDb0M3Lmhhc0NyaXRpY2FsV291bmRzJ1xuICAgICAgICAgICAgICApfS4gPC9iPmBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGhlYWxBbW91bnQgPSAxXG4gICAgICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVGYXN0ZXJSZWNvdmVyeScpKSB7XG4gICAgICAgICAgICAgIGhlYWxBbW91bnQgPSAyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVpY2tIZWFsZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaGVhbEFtb3VudCsrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFsQW1vdW50ID0gTWF0aC5taW4oaGVhbEFtb3VudCwgaHBNYXggLSBocFZhbHVlKVxuICAgICAgICAgICAgaWYgKGhlYWxBbW91bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgY2hhdENvbnRlbnQgPVxuICAgICAgICAgICAgICAgIGNoYXRDb250ZW50ICtcbiAgICAgICAgICAgICAgICBgPGIgc3R5bGU9XCJjb2xvcjpkYXJrb2xpdmVncmVlblwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgJ0NvQzcuaGVhbHRoUmVjb3ZlcmVkJ1xuICAgICAgICAgICAgICAgICl9LiA8L2I+YFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hhdENvbnRlbnQgPVxuICAgICAgICAgICAgICAgIGNoYXRDb250ZW50ICtcbiAgICAgICAgICAgICAgICBgPGIgc3R5bGU9XCJjb2xvcjpkYXJrb2xpdmVncmVlblwiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAgICdDb0M3LnB1bHBIZWFsdGhSZWNvdmVyZWQnLFxuICAgICAgICAgICAgICAgICAgeyBudW1iZXI6IGhlYWxBbW91bnQgfVxuICAgICAgICAgICAgICAgICl9LiA8L2I+YFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0b3IudXBkYXRlKHtcbiAgICAgICAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzpcbiAgICAgICAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5ocC52YWx1ZSArIGhlYWxBbW91bnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYWlseVNhbml0eUxvc3MgPiAwKSB7XG4gICAgICAgICAgY2hhdENvbnRlbnQgPVxuICAgICAgICAgICAgY2hhdENvbnRlbnQgK1xuICAgICAgICAgICAgYDxiIHN0eWxlPVwiY29sb3I6ZGFya29saXZlZ3JlZW5cIj4ke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuZGFpbHlTYW5Mb3NzUmVzdGFydGVkJ1xuICAgICAgICAgICAgKX0uPC9iPmBcbiAgICAgICAgICBhY3Rvci51cGRhdGUoe1xuICAgICAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MnOiAwLFxuICAgICAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxpbWl0JzogTWF0aC5mbG9vcihhY3Rvci5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgLyA1KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG91cnMgPSA3XG4gICAgICAgIGlmIChob3VycyA+IDAgJiYgbXBWYWx1ZSA8IG1wTWF4KSB7XG4gICAgICAgICAgbGV0IG1hZ2ljQW1vdW50ID0gaG91cnMgKiBNYXRoLmNlaWwocG93IC8gMTAwKVxuICAgICAgICAgIG1hZ2ljQW1vdW50ID0gTWF0aC5taW4obWFnaWNBbW91bnQsIG1wTWF4IC0gbXBWYWx1ZSlcbiAgICAgICAgICBjaGF0Q29udGVudCA9XG4gICAgICAgICAgICBjaGF0Q29udGVudCArXG4gICAgICAgICAgICBgPGIgc3R5bGU9XCJjb2xvcjpkYXJrb2xpdmVncmVlblwiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgJ0NvQzcubWFnaWNQb2ludHNSZWNvdmVyZWQnXG4gICAgICAgICAgICApfTogJHttYWdpY0Ftb3VudH0uPC9iPmBcbiAgICAgICAgICBhY3Rvci51cGRhdGUoe1xuICAgICAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLm1wLnZhbHVlJzpcbiAgICAgICAgICAgICAgYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUgKyBtYWdpY0Ftb3VudFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICB1c2VyOiBnYW1lLnVzZXIuaWQsXG4gICAgICBzcGVha2VyOiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKCksXG4gICAgICBjb250ZW50OiBjaGF0Q29udGVudCxcbiAgICAgIHR5cGU6IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5PVEhFUlxuICAgIH1cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdG9nZ2xlWFBHYWluICh0b2dnbGUpIHtcbiAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICd4cEVuYWJsZWQnLCB0b2dnbGUpXG4gICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgdG9nZ2xlXG4gICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlhQR2FpbkVuYWJsZWQnKVxuICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5YUEdhaW5EaXNhYmxlZCcpXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHJvbGxEaWNlIChldmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucy5hc2tWYWx1ZSA9ICFvcHRpb25zLnRocmVzaG9sZFxuICAgIGxldCBkaWNlTW9kaWZpZXIsIGRpZmZpY3VsdHksIGZsYXREaWNlTW9kaWZpZXIsIGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgIGxldCB0aHJlc2hvbGQgPSBvcHRpb25zLnRocmVzaG9sZFxuXG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5tb2RpZmllcikgZGljZU1vZGlmaWVyID0gTnVtYmVyKG9wdGlvbnMubW9kaWZpZXIpXG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICBkaWZmaWN1bHR5ID0gQ29DN1V0aWxpdGllcy5jb252ZXJ0RGlmZmljdWx0eShvcHRpb25zLmRpZmZpY3VsdHkpXG4gICAgfVxuXG4gICAgaWYgKCFldmVudD8uc2hpZnRLZXkgJiYgIW9wdGlvbnMuZmFzdEZvcndhcmQpIHtcbiAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUob3B0aW9ucylcbiAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICBkaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdib251c0RpY2UnKSlcbiAgICAgICAgZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgICAgdGhyZXNob2xkID0gTnVtYmVyKHVzYWdlLmdldCgndGhyZXNob2xkJykpXG4gICAgICAgIGZsYXREaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0RGljZU1vZGlmaWVyJykpXG4gICAgICAgIGZsYXRUaHJlc2hvbGRNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFjdG9ycyA9IFtdXG5cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00gJiYgY2FudmFzLnRva2Vucy5jb250cm9sbGVkLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQpIHtcbiAgICAgICAgYWN0b3JzLnB1c2godG9rZW4uYWN0b3IudG9rZW5LZXkpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChnYW1lLnVzZXIuY2hhcmFjdGVyKSB7XG4gICAgICBhY3RvcnMucHVzaChnYW1lLnVzZXIuY2hhcmFjdGVyLnRva2VuS2V5KVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgdGsgb2YgYWN0b3JzKSB7XG4gICAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gZGljZU1vZGlmaWVyIHx8IDBcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5IHx8IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgY2hlY2sucmF3VmFsdWUgPSB0aHJlc2hvbGRcbiAgICAgIGNoZWNrLmZsYXREaWNlTW9kaWZpZXIgPSBmbGF0RGljZU1vZGlmaWVyXG4gICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBmbGF0VGhyZXNob2xkTW9kaWZpZXJcbiAgICAgIGNoZWNrLmFjdG9yID0gdGtcbiAgICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgICAgY2hlY2sudG9NZXNzYWdlKClcbiAgICB9XG5cbiAgICBpZiAoIWFjdG9ycy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kaWZpZXIgfHwgMFxuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IGRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICBjaGVjay5yYXdWYWx1ZSA9IHRocmVzaG9sZFxuICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IGZsYXREaWNlTW9kaWZpZXJcbiAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICBjaGVjay50b01lc3NhZ2UoKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVDaGFyU2hlZXRzICgpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGZvciAoY29uc3QgYSBvZiBnYW1lLmFjdG9ycy5jb250ZW50cykge1xuICAgICAgICBpZiAoYT8udHlwZSA9PT0gJ2NoYXJhY3RlcicgJiYgYT8uc2hlZXQgJiYgYT8uc2hlZXQ/LnJlbmRlcmVkKSB7XG4gICAgICAgICAgYS51cGRhdGUoeyAnc3lzdGVtLmZsYWdzLmxvY2tlZCc6IHRydWUgfSlcbiAgICAgICAgICBhLnJlbmRlcihmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGEgb2YgZ2FtZS5hY3RvcnMuY29udGVudHMpIHtcbiAgICAgICAgaWYgKGEuaXNPd25lcikge1xuICAgICAgICAgIGEudXBkYXRlKHsgJ3N5c3RlbS5mbGFncy5sb2NrZWQnOiB0cnVlIH0pXG4gICAgICAgICAgYS5yZW5kZXIoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGZyb20gX29uRHJvcCB0byBnZXQgdGhlIGRyb3BwZWQgZW50aXR5VHlwZSBvciBlbnRpdHlUeXBlIGZyb20gYSBmb2xkZXJcbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHJldHVybnMgW2l0ZW1zXSBhcnJheSBvZiBpdGVtc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldERhdGFGcm9tRHJvcEV2ZW50IChldmVudCwgZW50aXR5VHlwZSA9ICdJdGVtJykge1xuICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50KSByZXR1cm4gW11cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YUxpc3QgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpXG4gICAgICBpZiAoZGF0YUxpc3QudHlwZSA9PT0gJ0ZvbGRlcicgJiYgZGF0YUxpc3QuZG9jdW1lbnROYW1lID09PSBlbnRpdHlUeXBlKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IGF3YWl0IGZyb21VdWlkKGRhdGFMaXN0LnV1aWQpXG4gICAgICAgIGlmICghZm9sZGVyKSByZXR1cm4gW11cbiAgICAgICAgcmV0dXJuIGZvbGRlci5jb250ZW50c1xuICAgICAgfSBlbHNlIGlmIChkYXRhTGlzdC50eXBlID09PSBlbnRpdHlUeXBlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBmcm9tVXVpZChkYXRhTGlzdC51dWlkKVxuICAgICAgICBpZiAoIWl0ZW0pIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gW2l0ZW1dXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjb3B5VG9DbGlwYm9hcmQgKHRleHQpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgd2luZG93LmlzU2VjdXJlQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKVxuICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHRcbiAgICAgICAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnXG4gICAgICAgIHRleHRBcmVhLnN0eWxlLmxlZnQgPSAnLTk5OXB4J1xuICAgICAgICB0ZXh0QXJlYS5zdHlsZS50b3AgPSAnLTk5OXB4J1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKVxuICAgICAgICB0ZXh0QXJlYS5mb2N1cygpXG4gICAgICAgIHRleHRBcmVhLnNlbGVjdCgpXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKVxuICAgICAgICAgICAgPyByZXNvbHZlKClcbiAgICAgICAgICAgIDogcmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlVuYWJsZVRvQ29weVRvQ2xpcGJvYXJkJykpXG4gICAgICAgICAgICApXG4gICAgICAgICAgdGV4dEFyZWEucmVtb3ZlKClcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyKSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlVuYWJsZVRvQ29weVRvQ2xpcGJvYXJkJykpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHF1b3RlUmVnRXhwIChzdHJpbmcpIHtcbiAgICAvLyBodHRwczovL2JpdGJ1Y2tldC5vcmcvY2dnYWVydG5lci9qcy1oYWNrcy9yYXcvbWFzdGVyL3F1b3RlLmpzXG4gICAgY29uc3QgbGVuID0gc3RyaW5nLmxlbmd0aFxuICAgIGxldCBxU3RyaW5nID0gJydcblxuICAgIGZvciAobGV0IGN1cnJlbnQsIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGN1cnJlbnQgPSBzdHJpbmcuY2hhckF0KGkpXG5cbiAgICAgIGlmIChjdXJyZW50ID49ICcgJyAmJiBjdXJyZW50IDw9ICd+Jykge1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gJ1xcXFwnIHx8IGN1cnJlbnQgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgcVN0cmluZyArPSAnXFxcXCdcbiAgICAgICAgfVxuXG4gICAgICAgIHFTdHJpbmcgKz0gY3VycmVudC5yZXBsYWNlKC9bLVtcXF0ve30oKSorPy5cXFxcXiR8XS9nLCAnXFxcXCQmJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudCkge1xuICAgICAgICAgIGNhc2UgJ1xcYic6XG4gICAgICAgICAgICBxU3RyaW5nICs9ICdcXFxcYidcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdcXGYnOlxuICAgICAgICAgICAgcVN0cmluZyArPSAnXFxcXGYnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gJ1xcXFxuJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICBxU3RyaW5nICs9ICdcXFxccidcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgcVN0cmluZyArPSAnXFxcXHQnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnXFx2JzpcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gJ1xcXFx2J1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBxU3RyaW5nICs9ICdcXFxcdSdcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gNDsgLS1qID49IGN1cnJlbnQubGVuZ3RoOyBxU3RyaW5nICs9ICcwJyk7XG4gICAgICAgICAgICBxU3RyaW5nICs9IGN1cnJlbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBxU3RyaW5nXG4gIH1cblxuICBzdGF0aWMgc2V0QnlQYXRoIChvYmosIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJylcbiAgICBsZXQgbyA9IG9ialxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoIW9bcGFydHNbaV1dKSBvW3BhcnRzW2ldXSA9IHt9XG4gICAgICAgIG8gPSBvW3BhcnRzW2ldXVxuICAgICAgfVxuICAgIH1cblxuICAgIG9bcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dID0gdmFsdWVcbiAgfVxuXG4gIHN0YXRpYyBnZXRCeVBhdGggKG9iaiwgcGF0aCkge1xuICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpXG4gICAgbGV0IG8gPSBvYmpcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKCFvW3BhcnRzW2ldXSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBvID0gb1twYXJ0c1tpXV1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb1twYXJ0c1twYXJ0cy5sZW5ndGggLSAxXV1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhIERvY3VtZW50IGJ5IGl0cyBVbml2ZXJzYWxseSBVbmlxdWUgSWRlbnRpZmllciAodXVpZCkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1dWlkICAgVGhlIHV1aWQgb2YgdGhlIERvY3VtZW50IHRvIHJldHJpZXZlXG4gICAqIEByZXR1cm4ge1Byb21pc2U8RG9jdW1lbnR8bnVsbD59XG4gICAqL1xuICBzdGF0aWMgU2Zyb21VdWlkICh1dWlkKSB7XG4gICAgbGV0IHBhcnRzID0gdXVpZC5zcGxpdCgnLicpXG4gICAgbGV0IGRvY1xuXG4gICAgLy8gQ29tcGVuZGl1bSBEb2N1bWVudHNcbiAgICBpZiAocGFydHNbMF0gPT09ICdDb21wZW5kaXVtJykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICAgIC8vIHJldHVybiBmcm9tVXVpZCh1dWlkKSAvLyBSZXR1cm4gUHJvbWlzZVxuICAgICAgLy8gcGFydHMuc2hpZnQoKTtcbiAgICAgIC8vIGNvbnN0IFtzY29wZSwgcGFja05hbWUsIGlkXSA9IHBhcnRzLnNsaWNlKDAsIDMpO1xuICAgICAgLy8gcGFydHMgPSBwYXJ0cy5zbGljZSgzKTtcbiAgICAgIC8vIGNvbnN0IHBhY2sgPSBnYW1lLnBhY2tzLmdldChgJHtzY29wZX0uJHtwYWNrTmFtZX1gKTtcbiAgICAgIC8vIHJldHVybiBhd2FpdCBwYWNrPy5nZXREb2N1bWVudChpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdvcmxkIERvY3VtZW50c1xuICAgICAgY29uc3QgW2RvY05hbWUsIGRvY0lkXSA9IHBhcnRzLnNsaWNlKDAsIDIpXG4gICAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDIpXG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gQ09ORklHW2RvY05hbWVdLmNvbGxlY3Rpb24uaW5zdGFuY2VcbiAgICAgIGRvYyA9IGNvbGxlY3Rpb24uZ2V0KGRvY0lkKVxuICAgIH1cblxuICAgIC8vIEVtYmVkZGVkIERvY3VtZW50c1xuICAgIHdoaWxlIChkb2MgJiYgcGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgW2VtYmVkZGVkTmFtZSwgZW1iZWRkZWRJZF0gPSBwYXJ0cy5zbGljZSgwLCAyKVxuICAgICAgZG9jID0gZG9jLmdldEVtYmVkZGVkRG9jdW1lbnQoZW1iZWRkZWROYW1lLCBlbWJlZGRlZElkKVxuICAgICAgcGFydHMgPSBwYXJ0cy5zbGljZSgyKVxuICAgIH1cbiAgICByZXR1cm4gZG9jIHx8IG51bGxcbiAgfVxuXG4gIHN0YXRpYyBpc0RvY3VtZW50VXVpZFBhY2sgKHV1aWQpIHtcbiAgICBpZiAodXVpZC5pbmNsdWRlcygnQ29tcGVuZGl1bScpKSByZXR1cm4gdHJ1ZVxuICAgIGVsc2UgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzdGF0aWMgaXNEb2N1bWVudFV1aWQgKHV1aWQpIHtcbiAgICBjb25zdCBpZGVudGlmaWVycyA9IFsnQWN0b3InLCAnU2NlbmUnLCAnVG9rZW4nLCAnSXRlbScsICdDb21wZW5kaXVtJ11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodXVpZC5pbmNsdWRlcyhpZGVudGlmaWVyc1tpXSkpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgc3RhdGljIGdldEFjdG9yRG9jdW1lbnRGcm9tRHJvcERhdGEgKGRyb3BEYXRhKSB7XG4gICAgbGV0IGRvY1V1aWQsIGFjdG9yXG4gICAgaWYgKGRyb3BEYXRhLnRva2VuVXVpZCkge1xuICAgICAgZG9jVXVpZCA9IGRyb3BEYXRhLnRva2VuVXVpZFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRyb3BEYXRhLnV1aWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkb2NVdWlkID0gZHJvcERhdGEudXVpZFxuICAgIH0gZWxzZSB7XG4gICAgICBkb2NVdWlkID1cbiAgICAgICAgZHJvcERhdGEuc2NlbmVJZCAmJiBkcm9wRGF0YS50b2tlbklkXG4gICAgICAgICAgPyBgU2NlbmUuJHtkcm9wRGF0YS5zY2VuZUlkfS5Ub2tlbi4ke2Ryb3BEYXRhLnRva2VuSWR9YFxuICAgICAgICAgIDogZHJvcERhdGEuYWN0b3JJZCB8fCBkcm9wRGF0YS5hY3RvcktleSB8fCBkcm9wRGF0YS5pZFxuICAgIH1cbiAgICBpZiAoZHJvcERhdGEudHlwZSA9PT0gJ1Rva2VuJykge1xuICAgICAgZG9jVXVpZCA9IGRyb3BEYXRhLnV1aWRcbiAgICB9IGVsc2UgaWYgKGRvY1V1aWQpIHtcbiAgICAgIGFjdG9yID0gQ29DN1V0aWxpdGllcy5nZXRBY3RvckZyb21LZXkoZG9jVXVpZClcbiAgICAgIGlmICghYWN0b3IgJiYgZHJvcERhdGEudHlwZSA9PT0gJ0l0ZW0nKSBkb2NVdWlkID0gbnVsbFxuICAgIH1cblxuICAgIGlmIChhY3RvciAmJiBkb2NVdWlkICE9PSBhY3Rvci51dWlkKSB7XG4gICAgICBkb2NVdWlkID0gYWN0b3IudXVpZFxuICAgIH1cbiAgICByZXR1cm4gZG9jVXVpZFxuICB9XG5cbiAgc3RhdGljIGdldERvY3VtZW50RnJvbUtleSAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHJldHVybiBudWxsXG4gICAgLy8gQ2FzZSAwIC0gYSBkb2N1bWVudCBVdWlkXG4gICAgaWYgKENvQzdVdGlsaXRpZXMuaXNEb2N1bWVudFV1aWQoa2V5KSkge1xuICAgICAgaWYgKENvQzdVdGlsaXRpZXMuaXNEb2N1bWVudFV1aWRQYWNrKGtleSkpIHJldHVybiBmcm9tVXVpZChrZXkpIC8vIFRPRE8gQ2hlY2sgd2UgY2FuIGRvIHRoYXRcbiAgICAgIHJldHVybiBDb0M3VXRpbGl0aWVzLlNmcm9tVXVpZChrZXkpXG4gICAgfVxuXG4gICAgLy8gQ2FzZSAxIC0gYSBzeW50aGV0aWMgYWN0b3IgZnJvbSBhIFRva2VuXG4gICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IGtleS5zcGxpdCgnLicpXG4gICAgICBpZiAoc2NlbmVJZCA9PT0gJ1RPS0VOJykge1xuICAgICAgICByZXR1cm4gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgfVxuICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZClcbiAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICBpZiAoIXRva2VuRGF0YSkgcmV0dXJuIG51bGxcbiAgICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSlcbiAgICAgIGlmICghdG9rZW4uc2NlbmUpIHRva2VuLnNjZW5lID0gZHVwbGljYXRlKHNjZW5lKVxuICAgICAgcmV0dXJuIHRva2VuXG4gICAgfVxuICAgIC8vIENhc2UgMiAtIHVzZSBBY3RvciBJRCBkaXJlY3RvcnlcbiAgICByZXR1cm4gZ2FtZS5hY3RvcnMuZ2V0KGtleSkgfHwgbnVsbFxuICB9XG5cbiAgc3RhdGljIGdldEFjdG9yRnJvbUtleSAoa2V5KSB7XG4gICAgY29uc3QgZG9jID0gQ29DN1V0aWxpdGllcy5nZXREb2N1bWVudEZyb21LZXkoa2V5KVxuICAgIGlmICghZG9jKSByZXR1cm4gbnVsbFxuICAgIGlmIChkb2MuYWN0b3IpIHJldHVybiBkb2MuYWN0b3JcbiAgICBpZiAoZG9jLmNvbnN0cnVjdG9yPy5uYW1lID09PSAnQ29DQWN0b3InKSByZXR1cm4gZG9jXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZm9sZGVyIG9uIHRoZSBhY3RvcnMgdGFiIGNhbGxlZCBcIkltcG9ydGVkIENoYXJhY3RlcnNcIiBpZiB0aGUgZm9sZGVyIGRvZXNuJ3QgZXhpc3QuXG4gICAqIEByZXR1cm5zIHtGb2xkZXJ9IHRoZSBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVJbXBvcnRDaGFyYWN0ZXJzRm9sZGVySWZOb3RFeGlzdHMgKCkge1xuICAgIGxldCBmb2xkZXJOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlcicpXG4gICAgaWYgKGZvbGRlck5hbWUgPT09ICdDb0M3LkltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlcicpIHtcbiAgICAgIGZvbGRlck5hbWUgPSAnSW1wb3J0ZWQgY2hhcmFjdGVycydcbiAgICB9XG4gICAgbGV0IGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9IGdhbWUuZm9sZGVycy5maW5kKFxuICAgICAgZW50cnkgPT4gZW50cnkubmFtZSA9PT0gZm9sZGVyTmFtZSAmJiBlbnRyeS50eXBlID09PSAnQWN0b3InXG4gICAgKVxuICAgIGlmIChcbiAgICAgIGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9PT0gbnVsbCB8fFxuICAgICAgdHlwZW9mIGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9PT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgZm9sZGVyXG4gICAgICBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXIgPSBhd2FpdCBGb2xkZXIuY3JlYXRlKHtcbiAgICAgICAgbmFtZTogZm9sZGVyTmFtZSxcbiAgICAgICAgdHlwZTogJ0FjdG9yJyxcbiAgICAgICAgcGFyZW50OiBudWxsXG4gICAgICB9KVxuICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JlYXRlZEltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlcicpXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBndWVzc0l0ZW0sIHRyeSBhbmQgZmluZCB0aGUgaXRlbSBpbiB0aGUgbG9jYXRpb25zIGRlZmluZWQgaW4gJHtzb3VyY2V9IGkgPSBJdGVtIERpcmVjdG9yeSwgdyA9IFdvcmxkIENvbXBlbmRpdW1zLCBtID0gTW9kdWxlIENvbXBlbmRpdW1zLCBzID0gU3lzdGVtIENvbXBlbmRpdW1zXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEl0ZW0gdHlwZSB0byBmaW5kXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgaXRlbSB0byBmaW5kXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb21iYXQgbnVsbCAoZGVmYXVsdCkuIElmIGJvb2xlYW4gY29tYmF0IHByb3BlcnR5IG9mIHNraWxsIG11c3QgbWF0Y2hcbiAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSAnJyAoZGVmYXVsdCkuIENoZWNrIG9yZGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmYWxsYmFja0FueSBmYWxzZSAoZGVmYXVsdCkuIFNob3VsZCBhbnkgc3BlY2lhbGl6YXRpb24gdGhhdCBpc24ndCBmb3VuZCB0cnkgdXNpbmcgKEFueSkgaXRlbXNcbiAgICogQHJldHVybnMge09iamVjdH0gZm9ybWF0dGVkIEFjdG9yIGRhdGEgSXRlbSBvciBudWxsXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ3Vlc3NJdGVtIChcbiAgICB0eXBlLFxuICAgIG5hbWUsXG4gICAgeyBjb21iYXQgPSBudWxsLCBzb3VyY2UgPSAnJywgZmFsbGJhY2tBbnkgPSBmYWxzZSB9ID0ge31cbiAgKSB7XG4gICAgbGV0IGV4aXN0aW5nID0gbnVsbFxuICAgIG5hbWUgPSBuYW1lLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICBmb3IgKGxldCBvID0gMCwgb00gPSBzb3VyY2UubGVuZ3RoOyBvIDwgb007IG8rKykge1xuICAgICAgc3dpdGNoIChzb3VyY2Uuc3Vic3RyaW5nKG8sIG8gKyAxKSkge1xuICAgICAgICBjYXNlICdpJzpcbiAgICAgICAgICBleGlzdGluZyA9IGdhbWUuaXRlbXMuZmluZChcbiAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS50eXBlID09PSB0eXBlICYmXG4gICAgICAgICAgICAgIGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lICYmXG4gICAgICAgICAgICAgIChjb21iYXQgPT09IG51bGwgfHwgaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQgPT09IGNvbWJhdClcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAndyc6XG4gICAgICAgIGNhc2UgJ20nOlxuICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhY2sgb2YgZ2FtZS5wYWNrcykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwYWNrLm1ldGFkYXRhLnR5cGUgPT09ICdJdGVtJyAmJlxuICAgICAgICAgICAgICAoKHNvdXJjZVtvXSA9PT0gJ3cnICYmIHBhY2subWV0YWRhdGEucGFja2FnZSA9PT0gJ3dvcmxkJykgfHxcbiAgICAgICAgICAgICAgICAoc291cmNlW29dID09PSAnUycgJiYgcGFjay5tZXRhZGF0YS5wYWNrYWdlID09PSAnQ29DNycpIHx8XG4gICAgICAgICAgICAgICAgKHNvdXJjZVtvXSA9PT0gJ3MnICYmXG4gICAgICAgICAgICAgICAgICAhWyd3b3JsZCcsICdDb0M3J10uaW5jbHVkZXMocGFjay5tZXRhZGF0YS5wYWNrYWdlKSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgcGFjay5nZXREb2N1bWVudHMoKVxuICAgICAgICAgICAgICBleGlzdGluZyA9IGRvY3VtZW50cy5maW5kKFxuICAgICAgICAgICAgICAgIGl0ZW0gPT5cbiAgICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgJiZcbiAgICAgICAgICAgICAgICAgIChjb21iYXQgPT09IG51bGwgfHwgaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQgPT09IGNvbWJhdClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmFsbGJhY2tBbnkgJiYgdHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgY29uc3QgbWF0Y2ggPSBuYW1lLm1hdGNoKC9eKC4rIFxcKCkoPyFhbnkpLisoXFwpKSQvKVxuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIG1hdGNoWzFdICsgJ2FueScgKyBtYXRjaFsyXSxcbiAgICAgICAgICB7IGNvbWJhdCwgc291cmNlIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB0b0tlYmFiQ2FzZSAocykge1xuICAgIGlmICghcykge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gcy5tYXRjaCgvW0EtWl17Mix9KD89W0EtWl1bYS16XStbMC05XSp8XFxiKXxbQS1aXT9bYS16XStbMC05XSp8W0EtWl18WzAtOV0rL2cpXG5cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2guam9pbignLScpLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIHN0YXRpYyBzb3J0QnlOYW1lS2V5IChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmFtZVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAubG9jYWxlQ29tcGFyZShcbiAgICAgICAgYi5uYW1lXG4gICAgICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpXG4gICAgICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgIClcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENPTkZJRywgZmxhdHRlbk9iamVjdCwgRm9ybUFwcGxpY2F0aW9uLCBnYW1lLCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0NJREVkaXRvciBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbiB7XG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdjb2MtaWQtZWRpdG9yJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9jb2MtaWQtZWRpdG9yLmhicycsXG4gICAgICB3aWR0aDogOTAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICB0aXRsZTogJ0NvQzcuQ29DSURGbGFnLnRpdGxlJyxcbiAgICAgIGNsb3NlT25TdWJtaXQ6IGZhbHNlLFxuICAgICAgc3VibWl0T25DbG9zZTogdHJ1ZSxcbiAgICAgIHN1Ym1pdE9uQ2hhbmdlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLnN1cHBvcnRlZExhbmd1YWdlcyA9IENPTkZJRy5zdXBwb3J0ZWRMYW5ndWFnZXNcblxuICAgIHRoaXMub3B0aW9ucy5lZGl0YWJsZSA9IHRoaXMub2JqZWN0LnNoZWV0LmlzRWRpdGFibGVcblxuICAgIHNoZWV0RGF0YS5ndWVzc0NvZGUgPSBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZ3Vlc3NJZCh0aGlzLm9iamVjdClcbiAgICBzaGVldERhdGEuaWRQcmVmaXggPSBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZ2V0UHJlZml4KHRoaXMub2JqZWN0KVxuXG4gICAgc2hlZXREYXRhLmNvY2lkRmxhZyA9IHRoaXMub2JqZWN0LmZsYWdzPy5Db0M3Py5jb2NpZEZsYWdcblxuICAgIHNoZWV0RGF0YS5pZCA9IHNoZWV0RGF0YS5jb2NpZEZsYWc/LmlkIHx8ICcnXG4gICAgc2hlZXREYXRhLmxhbmcgPSBzaGVldERhdGEuY29jaWRGbGFnPy5sYW5nIHx8IGdhbWUuaTE4bi5sYW5nXG4gICAgc2hlZXREYXRhLnByaW9yaXR5ID0gc2hlZXREYXRhLmNvY2lkRmxhZz8ucHJpb3JpdHkgfHwgMFxuXG4gICAgc2hlZXREYXRhLmVyYXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZXJhcykpIHtcbiAgICAgIHNoZWV0RGF0YS5lcmFzLnB1c2goe1xuICAgICAgICBpZDoga2V5LFxuICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUpLFxuICAgICAgICBpc0VuYWJsZWQ6IChzaGVldERhdGEuY29jaWRGbGFnPy5lcmFzID8/IHt9KVtrZXldID09PSB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgICBzaGVldERhdGEuZXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIGNvbnN0IENvQ0lES2V5cyA9IGZsYXR0ZW5PYmplY3QoZ2FtZS5pMThuLnRyYW5zbGF0aW9ucy5Db0M3LkNvQ0lERmxhZy5rZXlzID8/IHt9KVxuICAgIGNvbnN0IHByZWZpeCA9IG5ldyBSZWdFeHAoJ14nICsgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChzaGVldERhdGEuaWRQcmVmaXgpKVxuICAgIHNoZWV0RGF0YS5leGlzdGluZ0tleXMgPSBPYmplY3Qua2V5cyhDb0NJREtleXMpLnJlZHVjZSgob2JqLCBrKSA9PiB7XG4gICAgICBpZiAoay5tYXRjaChwcmVmaXgpKSB7XG4gICAgICAgIG9iai5wdXNoKHsgaywgbmFtZTogQ29DSURLZXlzW2tdIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfSwgW10pLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgc2hlZXREYXRhLmlzU3lzdGVtSUQgPSAodHlwZW9mIENvQ0lES2V5c1tzaGVldERhdGEuaWRdICE9PSAndW5kZWZpbmVkJylcbiAgICBjb25zdCBtYXRjaCA9IHNoZWV0RGF0YS5pZC5tYXRjaCgvXihbXlxcXFwuXSspXFwuKFteXFxcXC5dKilcXC4oLispLylcbiAgICBzaGVldERhdGEuX2V4aXN0aW5nID0gKG1hdGNoICYmIHR5cGVvZiBtYXRjaFszXSAhPT0gJ3VuZGVmaW5lZCcgPyBtYXRjaFszXSA6ICcnKVxuXG4gICAgaWYgKHNoZWV0RGF0YS5pZCAmJiBzaGVldERhdGEubGFuZykge1xuICAgICAgLy8gRmluZCBvdXQgaWYgdGhlcmUgZXhpc3RzIGEgZHVwbGljYXRlIENvQ0lEXG4gICAgICBjb25zdCB3b3JsZERvY3VtZW50cyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSURBbGwoe1xuICAgICAgICBjb2NpZDogc2hlZXREYXRhLmlkLFxuICAgICAgICBsYW5nOiBzaGVldERhdGEubGFuZyxcbiAgICAgICAgc2NvcGU6ICd3b3JsZCdcbiAgICAgIH0pXG4gICAgICBjb25zdCB1c2VkRXJhcyA9IHt9XG4gICAgICBjb25zdCB1bmlxdWVXb3JsZFByaW9yaXR5ID0ge31cbiAgICAgIHNoZWV0RGF0YS53b3JsZERvY3VtZW50SW5mbyA9IHdvcmxkRG9jdW1lbnRzLm1hcCgoZCkgPT4ge1xuICAgICAgICBpZiAoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKSB7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1bmlxdWVXb3JsZFByaW9yaXR5LCBkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5ICsgJy8nICsgZVswXSkpIHtcbiAgICAgICAgICAgICAgdW5pcXVlV29ybGRQcmlvcml0eVtkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5ICsgJy8nICsgZVswXV0gPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlxdWVXb3JsZFByaW9yaXR5W2QuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLycgKyBlWzBdXSsrXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuaXF1ZVdvcmxkUHJpb3JpdHlbZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSArICcvKiddID0gMVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVyYXMgPSAoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzID8gT2JqZWN0LmVudHJpZXMoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiBlWzBdKS5zb3J0KCkgOiBbXSlcbiAgICAgICAgZm9yIChjb25zdCBlcmEgb2YgZXJhcykge1xuICAgICAgICAgIHVzZWRFcmFzW2VyYV0gPSBDT0M3LmVyYXNbZXJhXSA/PyAnPydcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVyYXM6IGVyYXMucmVkdWNlKGZ1bmN0aW9uIChhbGwsIGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGFsbFtjdXJyZW50XSA9IHRydWVcbiAgICAgICAgICAgIHJldHVybiBhbGxcbiAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgcHJpb3JpdHk6IGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHksXG4gICAgICAgICAgbGFuZzogZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5sYW5nID8/ICdlbicsXG4gICAgICAgICAgbGluazogVGV4dEVkaXRvci5lbnJpY2hIVE1MKGQubGluaywgeyBhc3luYzogZmFsc2UgfSksXG4gICAgICAgICAgZm9sZGVyOiBkPy5mb2xkZXI/Lm5hbWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChPYmplY3QuZW50cmllcyh1bmlxdWVXb3JsZFByaW9yaXR5KS5maWx0ZXIoYyA9PiBjWzFdID4gMSkubGVuZ3RoID4gMCkge1xuICAgICAgICBzaGVldERhdGEud2FybkR1cGxpY2F0ZVdvcmxkUHJpb3JpdHkgPSB0cnVlXG4gICAgICB9XG4gICAgICBzaGVldERhdGEud29ybGREdXBsaWNhdGVzID0gd29ybGREb2N1bWVudHMubGVuZ3RoID8/IDBcblxuICAgICAgY29uc3QgY29tcGVuZGl1bURvY3VtZW50cyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSURBbGwoe1xuICAgICAgICBjb2NpZDogc2hlZXREYXRhLmlkLFxuICAgICAgICBsYW5nOiBzaGVldERhdGEubGFuZyxcbiAgICAgICAgc2NvcGU6ICdjb21wZW5kaXVtcydcbiAgICAgIH0pXG4gICAgICBjb25zdCB1bmlxdWVDb21wZW5kaXVtUHJpb3JpdHkgPSB7fVxuICAgICAgc2hlZXREYXRhLmNvbXBlbmRpdW1Eb2N1bWVudEluZm8gPSBjb21wZW5kaXVtRG9jdW1lbnRzLm1hcCgoZCkgPT4ge1xuICAgICAgICBpZiAoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKSB7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1bmlxdWVDb21wZW5kaXVtUHJpb3JpdHksIGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLycgKyBlWzBdKSkge1xuICAgICAgICAgICAgICB1bmlxdWVDb21wZW5kaXVtUHJpb3JpdHlbZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSArICcvJyArIGVbMF1dID0gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5pcXVlQ29tcGVuZGl1bVByaW9yaXR5W2QuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLycgKyBlWzBdXSsrXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eVtkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5ICsgJy8qJ10gPSAxXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJhcyA9IChkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMgPyBPYmplY3QuZW50cmllcyhkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpLmZpbHRlcihlID0+IGVbMV0pLm1hcChlID0+IGVbMF0pLnNvcnQoKSA6IFtdKVxuICAgICAgICBmb3IgKGNvbnN0IGVyYSBvZiBlcmFzKSB7XG4gICAgICAgICAgdXNlZEVyYXNbZXJhXSA9IENPQzcuZXJhc1tlcmFdID8/ICc/J1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZXJhczogZXJhcy5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgY3VycmVudCkge1xuICAgICAgICAgICAgYWxsW2N1cnJlbnRdID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIGFsbFxuICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICBwcmlvcml0eTogZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSxcbiAgICAgICAgICBsYW5nOiBkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmxhbmcgPz8gJ2VuJyxcbiAgICAgICAgICBsaW5rOiBUZXh0RWRpdG9yLmVucmljaEhUTUwoZC5saW5rLCB7IGFzeW5jOiBmYWxzZSB9KSxcbiAgICAgICAgICBmb2xkZXI6IGQ/LmZvbGRlcj8ubmFtZSA/PyAnJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKHVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eSkuZmlsdGVyKGMgPT4gY1sxXSA+IDEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2hlZXREYXRhLndhcm5EdXBsaWNhdGVDb21wZW5kaXVtUHJpb3JpdHkgPSB0cnVlXG4gICAgICB9XG4gICAgICBzaGVldERhdGEuY29tcGVuZGl1bUR1cGxpY2F0ZXMgPSBjb21wZW5kaXVtRG9jdW1lbnRzLmxlbmd0aCA/PyAwXG4gICAgICBzaGVldERhdGEudXNlZEVyYXMgPSBbXVxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModXNlZEVyYXMpKSB7XG4gICAgICAgIHNoZWV0RGF0YS51c2VkRXJhcy5wdXNoKHtcbiAgICAgICAgICBpZDoga2V5LFxuICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHNoZWV0RGF0YS51c2VkRXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICB9IGVsc2Uge1xuICAgICAgc2hlZXREYXRhLmNvbXBlbmRpdW1Eb2N1bWVudEluZm8gPSBbXVxuICAgICAgc2hlZXREYXRhLndvcmxkRG9jdW1lbnRJbmZvID0gW11cbiAgICAgIHNoZWV0RGF0YS53b3JsZER1cGxpY2F0ZXMgPSAwXG4gICAgICBzaGVldERhdGEuY29tcGVuZGl1bUR1cGxpY2F0ZXMgPSAwXG4gICAgICBzaGVldERhdGEud2FybkR1cGxpY2F0ZVdvcmxkUHJpb3JpdHkgPSBmYWxzZVxuICAgICAgc2hlZXREYXRhLndhcm5EdXBsaWNhdGVDb21wZW5kaXVtUHJpb3JpdHkgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBodG1sLmZpbmQoJ2EuY29weS10by1jbGlwYm9hcmQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgQ29DN1V0aWxpdGllcy5jb3B5VG9DbGlwYm9hcmQoJCh0aGlzKS5zaWJsaW5ncygnaW5wdXQnKS52YWwoKSlcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLm9iamVjdC5zaGVldC5pc0VkaXRhYmxlKSByZXR1cm5cblxuICAgIGh0bWwuZmluZCgnLnRvZ2dsZS1zd2l0Y2gnKS5jbGljayh0aGlzLl9vbkNsaWNrVG9nZ2xlLmJpbmQodGhpcykpXG5cbiAgICBodG1sLmZpbmQoJ2lucHV0W25hbWU9X2V4aXN0aW5nJykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb25zdCBvYmogPSAkKHRoaXMpXG4gICAgICBjb25zdCBwcmVmaXggPSBvYmouZGF0YSgncHJlZml4JylcbiAgICAgIGxldCB2YWx1ZSA9IG9iai52YWwoKVxuICAgICAgaWYgKHZhbHVlICE9PSAnJykge1xuICAgICAgICB2YWx1ZSA9IHByZWZpeCArIENvQzdVdGlsaXRpZXMudG9LZWJhYkNhc2UodmFsdWUpXG4gICAgICB9XG4gICAgICBodG1sLmZpbmQoJ2lucHV0W25hbWU9aWRdJykudmFsKHZhbHVlKS50cmlnZ2VyKCdjaGFuZ2UnKVxuICAgIH0pXG5cbiAgICBodG1sLmZpbmQoJ3NlbGVjdFtuYW1lPWtub3duXScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgY29uc3Qgb2JqID0gJCh0aGlzKVxuICAgICAgaHRtbC5maW5kKCdpbnB1dFtuYW1lPWlkXScpLnZhbChvYmoudmFsKCkpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnYVtkYXRhLWd1ZXNzXScpLmNsaWNrKGFzeW5jIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGNvbnN0IG9iaiA9ICQodGhpcylcbiAgICAgIGNvbnN0IGd1ZXNzID0gb2JqLmRhdGEoJ2d1ZXNzJylcbiAgICAgIGh0bWwuZmluZCgnaW5wdXRbbmFtZT1pZF0nKS52YWwoZ3Vlc3MpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlcmFUb2dnbGUgKGRvY3VtZW50LCBwcm9wZXJ0eUlkKSB7XG4gICAgaWYgKGRvY3VtZW50LnR5cGUgPT09ICdzZXR1cCcpIHtcbiAgICAgIC8vIFNldHVwcyBjYW4gb25seSBoYXZlIG9uZSBlcmEgdG8gbWFrZSBzdXJlIHRoZSBjb3JyZWN0IHNraWxscyBhcmUgcG9wdWxhdGVkIHZpYSBDb0MgSURcbiAgICAgIGNvbnN0IHVwZGF0ZSA9IHtcbiAgICAgICAgW3Byb3BlcnR5SWRdOiB0cnVlXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleV0gb2YgT2JqZWN0LmVudHJpZXMoZG9jdW1lbnQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcykpIHtcbiAgICAgICAgICBpZiAoa2V5ICE9PSBwcm9wZXJ0eUlkKSB7XG4gICAgICAgICAgICB1cGRhdGVbJy09JyArIGtleV0gPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhd2FpdCBkb2N1bWVudC51cGRhdGUoe1xuICAgICAgICAnZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyc6IHVwZGF0ZVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzPy5bcHJvcGVydHlJZF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGF3YWl0IGRvY3VtZW50LnVwZGF0ZSh7XG4gICAgICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMnOiB7XG4gICAgICAgICAgICBbcHJvcGVydHlJZF06IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBkb2N1bWVudC51cGRhdGUoe1xuICAgICAgICAgIFtgZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcy4ke3Byb3BlcnR5SWR9YF06IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgZG9jdW1lbnQudXBkYXRlKHtcbiAgICAgICAgW2BmbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzLi09JHtwcm9wZXJ0eUlkfWBdOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkNsaWNrVG9nZ2xlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBwcm9wZXJ0eUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnByb3BlcnR5XG4gICAgYXdhaXQgQ29DSURFZGl0b3IuZXJhVG9nZ2xlKHRoaXMub2JqZWN0LCBwcm9wZXJ0eUlkKVxuICAgIHRoaXMucmVuZGVyKClcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IGlkID0gZm9ybURhdGEuaWQgfHwgJydcbiAgICBhd2FpdCB0aGlzLm9iamVjdC51cGRhdGUoe1xuICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmlkJzogaWQsXG4gICAgICAnZmxhZ3MuQ29DNy5jb2NpZEZsYWcubGFuZyc6IGZvcm1EYXRhLmxhbmcgfHwgZ2FtZS5pMThuLmxhbmcsXG4gICAgICAnZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHknOiBmb3JtRGF0YS5wcmlvcml0eSB8fCAwLFxuICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMnOiAodGhpcy5vYmplY3QuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhcyA/PyB7fSlcbiAgICB9KVxuICAgIGNvbnN0IGh0bWwgPSAkKHRoaXMub2JqZWN0LnNoZWV0LmVsZW1lbnQpLmZpbmQoJ2hlYWRlci53aW5kb3ctaGVhZGVyIGEuaGVhZGVyLWJ1dHRvbi5lZGl0LWNvYy1pZC13YXJuaW5nLGhlYWRlci53aW5kb3ctaGVhZGVyIGEuaGVhZGVyLWJ1dHRvbi5lZGl0LWNvYy1pZC1leGlzaXRpbmcnKVxuICAgIGlmIChodG1sLmxlbmd0aCkge1xuICAgICAgaHRtbC5jc3Moe1xuICAgICAgICBjb2xvcjogKGlkID8gJ3ZhcigtLWNvbG9yLXRleHQtbGlnaHQtaGlnaGxpZ2h0KScgOiAncmVkJylcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKClcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmltcG9ydCB7IENvQ0lERWRpdG9yIH0gZnJvbSAnLi4vYXBwcy9jb2MtaWQtZWRpdG9yLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiAoaGVhZGVyQnV0dG9ucywgc2hlZXQpIHtcbiAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgY29uc3Qgc2hlZXRDb0NJRCA9IHNoZWV0Lm9iamVjdC5mbGFncz8uQ29DNz8uY29jaWRGbGFnXG4gICAgY29uc3Qgbm9JZCA9ICh0eXBlb2Ygc2hlZXRDb0NJRCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHNoZWV0Q29DSUQuaWQgPT09ICd1bmRlZmluZWQnIHx8IHNoZWV0Q29DSUQuaWQgPT09ICcnKVxuICAgIGNvbnN0IENvQ0lERWRpdG9yQnV0dG9uID0ge1xuICAgICAgY2xhc3M6IChub0lkID8gJ2VkaXQtY29jLWlkLXdhcm5pbmcnIDogJ2VkaXQtY29jLWlkLWV4aXNpdGluZycpLFxuICAgICAgbGFiZWw6ICdDb0M3LkNvQ0lERmxhZy5pZCcsXG4gICAgICBpY29uOiAnZmFzIGZhLWZpbmdlcnByaW50JyxcbiAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgbmV3IENvQ0lERWRpdG9yKHNoZWV0Lm9iamVjdCwge30pLnJlbmRlcih0cnVlLCB7IGZvY3VzOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG51bWJlck9mQnV0dG9ucyA9IGhlYWRlckJ1dHRvbnMubGVuZ3RoXG4gICAgaGVhZGVyQnV0dG9ucy5zcGxpY2UobnVtYmVyT2ZCdXR0b25zIC0gMSwgMCwgQ29DSURFZGl0b3JCdXR0b24pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBBY3RpdmVFZmZlY3QsIGdhbWUgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvQzdBY3RpdmVFZmZlY3QgZXh0ZW5kcyBBY3RpdmVFZmZlY3Qge1xuICBhcHBseSAoYWN0b3IsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2Uua2V5ID09PSAnc3lzdGVtLmF0dHJpYnMuYXJtb3IudmFsdWUnKSB7XG4gICAgICAvLyBBcm1vciBjYW4gYmUgZnJlZSB0ZXh0IGlmIGJvdGggYXJlIG51bWJlcnMgYWxsb3cgY2FsY3VsYXRpb25cbiAgICAgIGlmICghaXNOYU4oY2hhbmdlLnZhbHVlKSAmJiAhaXNOYU4oYWN0b3Iuc3lzdGVtLmF0dHJpYnMuYXJtb3IudmFsdWUpKSB7XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLnZhbHVlID0gTnVtYmVyKGFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLnZhbHVlKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hhbmdlLmtleSA9PT0gJ3N5c3RlbS5hdHRyaWJzLmRiLnZhbHVlJykge1xuICAgICAgLy8gSWYgZGIgaXMgY3VycmVudGx5IGEgbnVtYmVyIGFsbG93IHN0cmluZ3MgdG8gYmUgYXBwbGllZFxuICAgICAgaWYgKGlzTmFOKGNoYW5nZS52YWx1ZSkgJiYgIWlzTmFOKGFjdG9yLnN5c3RlbS5hdHRyaWJzLmRiLnZhbHVlKSkge1xuICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSA9IFN0cmluZyhhY3Rvci5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhbmdlcyA9IHN1cGVyLmFwcGx5KGFjdG9yLCBjaGFuZ2UpXG4gICAgcmV0dXJuIGNoYW5nZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5hZ2UgQWN0aXZlIEVmZmVjdCBpbnN0YW5jZXMgdGhyb3VnaCB0aGUgQWN0b3IgU2hlZXQgdmlhIGVmZmVjdCBjb250cm9sIGJ1dHRvbnMuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgICAgICBUaGUgbGVmdC1jbGljayBldmVudCBvbiB0aGUgZWZmZWN0IGNvbnRyb2xcbiAgICogQHBhcmFtIHtBY3RvcnxJdGVtfSBvd25lciAgICAgIFRoZSBvd25pbmcgZG9jdW1lbnQgd2hpY2ggbWFuYWdlcyB0aGlzIGVmZmVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXxudWxsfSAgICAgICAgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYW5nZXMgYXJlIGNvbXBsZXRlLlxuICAgKi9cbiAgc3RhdGljIG9uTWFuYWdlQWN0aXZlRWZmZWN0IChldmVudCwgb3duZXIpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBsaSA9IGEuY2xvc2VzdCgnbGknKVxuICAgIGNvbnN0IGVmZmVjdCA9IGxpLmRhdGFzZXQuZWZmZWN0SWRcbiAgICAgID8gb3duZXIuZWZmZWN0cy5nZXQobGkuZGF0YXNldC5lZmZlY3RJZClcbiAgICAgIDogbnVsbFxuICAgIHN3aXRjaCAoYS5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnY3JlYXRlJzpcbiAgICAgICAgcmV0dXJuIG93bmVyLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdBY3RpdmVFZmZlY3QnLCBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FZmZlY3ROZXcnKSxcbiAgICAgICAgICAgIGljb246ICdpY29ucy9zdmcvYXVyYS5zdmcnLFxuICAgICAgICAgICAgb3JpZ2luOiBvd25lci51dWlkLFxuICAgICAgICAgICAgJ2R1cmF0aW9uLnJvdW5kcyc6XG4gICAgICAgICAgICAgIGxpLmRhdGFzZXQuZWZmZWN0VHlwZSA9PT0gJ3RlbXBvcmFyeScgPyAxIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGxpLmRhdGFzZXQuZWZmZWN0VHlwZSA9PT0gJ2luYWN0aXZlJ1xuICAgICAgICAgIH1cbiAgICAgICAgXSlcbiAgICAgIGNhc2UgJ2VkaXQnOlxuICAgICAgICByZXR1cm4gZWZmZWN0LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgcmV0dXJuIGVmZmVjdC5kZWxldGUoKVxuICAgICAgY2FzZSAndG9nZ2xlJzpcbiAgICAgICAgcmV0dXJuIGVmZmVjdC51cGRhdGUoeyBkaXNhYmxlZDogIWVmZmVjdC5kaXNhYmxlZCB9KVxuICAgIH1cbiAgfVxuXG4gIF9wcmVwYXJlRHVyYXRpb24gKCkge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gc3VwZXIuX3ByZXBhcmVEdXJhdGlvbigpXG4gICAgaWYgKGR1cmF0aW9uLnR5cGUgPT09ICdzZWNvbmRzJykge1xuICAgICAgaWYgKGR1cmF0aW9uLnNlY29uZHMgPiAzNjAwKSB7XG4gICAgICAgIGR1cmF0aW9uLmxhYmVsID0gbmV3IERhdGUoZHVyYXRpb24uc2Vjb25kcyAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE5KVxuICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbi5zZWNvbmRzID4gMTAwKSB7XG4gICAgICAgIGR1cmF0aW9uLmxhYmVsID0gbmV3IERhdGUoZHVyYXRpb24uc2Vjb25kcyAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMTQsIDE5KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZHVyYXRpb25cbiAgfVxuXG4gIGdldCBpc1N0YXR1cyAoKSB7XG4gICAgY29uc3Qgc3RhdHVzSWQgPSB0aGlzLmdldEZsYWcoJ2NvcmUnLCAnc3RhdHVzSWQnKVxuICAgIHJldHVybiBbXG4gICAgICAndGVtcG9JbnNhbmUnLFxuICAgICAgJ2luZGVmSW5zYW5lJyxcbiAgICAgICdjcml0aWNhbFdvdW5kcycsXG4gICAgICAnZHlpbmcnLFxuICAgICAgJ2RlYWQnLFxuICAgICAgJ3VuY29uc2Npb3VzJyxcbiAgICAgICdwcm9uZSdcbiAgICBdLmluY2x1ZGVzKHN0YXR1c0lkKVxuICB9XG5cbiAgc3RhdGljIHByZXBhcmVBY3RpdmVFZmZlY3RDYXRlZ29yaWVzIChlZmZlY3RzLCB7IHN0YXR1cyA9IHRydWUgfSA9IHt9KSB7XG4gICAgLy8gRGVmaW5lIGVmZmVjdCBoZWFkZXIgY2F0ZWdvcmllc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgICB0ZW1wb3Jhcnk6IHtcbiAgICAgICAgdHlwZTogJ3RlbXBvcmFyeScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1RlbXBvcmFyeScpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfSxcbiAgICAgIHBhc3NpdmU6IHtcbiAgICAgICAgdHlwZTogJ3Bhc3NpdmUnLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdQYXNzaXZlJyksXG4gICAgICAgIGVmZmVjdHM6IFtdXG4gICAgICB9LFxuICAgICAgaW5hY3RpdmU6IHtcbiAgICAgICAgdHlwZTogJ2luYWN0aXZlJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnSW5hY3RpdmUnKSxcbiAgICAgICAgZWZmZWN0czogW11cbiAgICAgIH0sXG4gICAgICBzdXBwcmVzc2VkOiB7XG4gICAgICAgIHR5cGU6ICdzdXBwcmVzc2VkJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU3VwcHJlc3NlZCcpLFxuICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgaW5mbzogW2dhbWUuaTE4bi5sb2NhbGl6ZSgnVW5hdmFpbGFibGUnKV1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICBjYXRlZ29yaWVzLnN0YXR1cyA9IHtcbiAgICAgICAgdHlwZTogJ3N0YXR1cycsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1N0YXR1cycpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBJdGVyYXRlIG92ZXIgYWN0aXZlIGVmZmVjdHMsIGNsYXNzaWZ5aW5nIHRoZW0gaW50byBjYXRlZ29yaWVzXG4gICAgZm9yIChjb25zdCBlIG9mIGVmZmVjdHMpIHtcbiAgICAgIGUuX2dldFNvdXJjZU5hbWUoKSAvLyBUcmlnZ2VyIGEgbG9va3VwIGZvciB0aGUgc291cmNlIG5hbWVcbiAgICAgIGlmIChlLmlzU3VwcHJlc3NlZCkgY2F0ZWdvcmllcy5zdXBwcmVzc2VkLmVmZmVjdHMucHVzaChlKVxuICAgICAgZWxzZSBpZiAoZS5pc1N0YXR1cykgY2F0ZWdvcmllcy5zdGF0dXMuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGlmIChlLmRpc2FibGVkKSBjYXRlZ29yaWVzLmluYWN0aXZlLmVmZmVjdHMucHVzaChlKVxuICAgICAgZWxzZSBpZiAoZS5pc1RlbXBvcmFyeSkgY2F0ZWdvcmllcy50ZW1wb3JhcnkuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGNhdGVnb3JpZXMucGFzc2l2ZS5lZmZlY3RzLnB1c2goZSlcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzLnN1cHByZXNzZWQuaGlkZGVuID0gIWNhdGVnb3JpZXMuc3VwcHJlc3NlZC5lZmZlY3RzLmxlbmd0aFxuICAgIHJldHVybiBjYXRlZ29yaWVzXG4gIH1cblxuICBzdGF0aWMgcHJlcGFyZU5QQ0FjdGl2ZUVmZmVjdENhdGVnb3JpZXMgKGVmZmVjdHMpIHtcbiAgICBsZXQgY291bnQgPSAwXG4gICAgLy8gRGVmaW5lIGVmZmVjdCBoZWFkZXIgY2F0ZWdvcmllc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgdHlwZTogJ2FjdGl2ZScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0FjdGl2ZScpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgIHR5cGU6ICdpbmFjdGl2ZScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0luYWN0aXZlJyksXG4gICAgICAgIGVmZmVjdHM6IFtdXG4gICAgICB9XG4gICAgfVxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhY3RpdmUgZWZmZWN0cywgY2xhc3NpZnlpbmcgdGhlbSBpbnRvIGNhdGVnb3JpZXNcbiAgICBmb3IgKGNvbnN0IGUgb2YgZWZmZWN0cykge1xuICAgICAgY291bnQgKz0gMVxuICAgICAgZS5fZ2V0U291cmNlTmFtZSgpIC8vIFRyaWdnZXIgYSBsb29rdXAgZm9yIHRoZSBzb3VyY2UgbmFtZVxuICAgICAgaWYgKGUuaXNTdXBwcmVzc2VkIHx8IGUuZGlzYWJsZWQpIGNhdGVnb3JpZXMuaW5hY3RpdmUuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGNhdGVnb3JpZXMuYWN0aXZlLmVmZmVjdHMucHVzaChlKVxuICAgIH1cblxuICAgIGlmIChjb3VudCA+IDApIGNhdGVnb3JpZXMuZXhwZW5kZWQgPSB0cnVlXG4gICAgcmV0dXJuIGNhdGVnb3JpZXNcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsZ2FtZSAqL1xuZXhwb3J0IGNsYXNzIENvQzdDb250ZXh0TWVudSB7XG4gIGJpbmQgKG1lbnUsIGh0bWwsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHRoaXMuX2h0bWwgPSBodG1sXG4gICAgdGhpcy5fbWVudSA9IG1lbnVcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVudVRyaWdnZXIgPSBodG1sLmZpbmQoYFtkYXRhLWNvbnRleHQtbWVudT0ke21lbnUuaWR9XWApIC8vIEZpbmQgYWxsIG1lbnUgdHJpZ2dlcnMuXG4gICAgICBpZiAobWVudVRyaWdnZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLy8gSWYgdGhlcmUgaXMgbm8gdHJpZ2dlciwgZG8gbm90IGNvbnRpbnVlLlxuICAgICAgbWVudVRyaWdnZXIuY29udGV4dG1lbnUodGhpcy5fb25Db250ZXh0TWVudS5iaW5kKHRoaXMpKSAvLyBBdHRhY2ggdGhlIGhhbmRsZXIuXG4gICAgICBjb25zdCBtZW51RWxlbWVudCA9IENvQzdDb250ZXh0TWVudS5DcmVhdGVNZW51KG1lbnUpIC8vIEJ1aWxkIHRoZSBtZW51XG4gICAgICBtZW51RWxlbWVudC5vbignY2xpY2snLFxuICAgICAgICAnLm1lbnUtYWN0aW9uJyxcbiAgICAgICAgdGhpcy5fb25NZW51QWN0aW9uLmJpbmQodGhpcykpXG4gICAgICAvLyBjb25zdCBkb2N1bWVudE1lbnUgPSB0aGlzLm1lbnVDb250YWluZXIuZmluZChgLmNvbnRleHQtbWVudS13cmFwcGVyLiR7bWVudS5pZH1gKVxuICAgICAgaWYgKHRoaXMubWVudS5sZW5ndGggIT09IDApIHRoaXMubWVudS5yZXBsYWNlV2l0aChtZW51RWxlbWVudClcbiAgICAgIGVsc2UgdGhpcy5tZW51Q29udGFpbmVyLmFwcGVuZChtZW51RWxlbWVudClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICBnZXQgbWVudUNvbnRhaW5lciAoKSB7XG4gICAgbGV0IG1lbnVDb250YWluZXIgPSB0aGlzLl9odG1sLmZpbmQoJy5tZW51LWNvbnRhaW5lcicpXG4gICAgaWYgKG1lbnVDb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9odG1sLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm1lbnUtY29udGFpbmVyXCI+PC9kaXY+JylcbiAgICAgIG1lbnVDb250YWluZXIgPSB0aGlzLl9odG1sLmZpbmQoJy5tZW51LWNvbnRhaW5lcicpXG4gICAgfVxuICAgIHJldHVybiBtZW51Q29udGFpbmVyXG4gIH1cblxuICBnZXQgbWVudSAoKSB7XG4gICAgLy8gY29uc3QgbWVudUNvbnRhaW5lciA9IHRoaXMubWVudUNvbnRhaW5lclxuICAgIC8vIGlmICghbWVudUNvbnRhaW5lciB8fCBtZW51Q29udGFpbmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gdGhpcy5tZW51Q29udGFpbmVyLmZpbmQoYC5jb250ZXh0LW1lbnUtd3JhcHBlci4ke3RoaXMuX21lbnUuaWR9YClcbiAgfVxuXG4gIF9vbk1lbnVBY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIC8vIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdicmFuY2gnKSkgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrKGV2ZW50LCB0aGlzLnRhcmdldClcbiAgfVxuXG4gIHN0YXRpYyBjbG9zZUFsbCAoKSB7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lcnMgPSAkKCdib2R5JykuZmluZCgnLm1lbnUtY29udGFpbmVyJylcbiAgICBjb25zdCBtZW51cyA9IG1lbnVDb250YWluZXJzLmZpbmQoJy5jb250ZXh0LW1lbnUtd3JhcHBlcicpXG4gICAgbWVudXMuZWFjaChmdW5jdGlvbiAoaSwgbSkgeyBtLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJyB9KVxuICAgIC8vIGJvZHkuZmluZCgnLm1lbnUtd3JhcHBlcicpLmhpZGUoKVxuICB9XG5cbiAgX29uQ29udGV4dE1lbnUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQodHJ1ZSlcbiAgICBDb0M3Q29udGV4dE1lbnUuY2xvc2VBbGwoKSAvLyBPbmx5IDEgbWVudSBjYW4gYmUgb3Blbi5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudD8uY3VycmVudFRhcmdldFxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgaWYgKCF0YXJnZXQpIHJldHVyblxuICAgIGNvbnN0IG1lbnVOYW1lID0gdGFyZ2V0LmRhdGFzZXQ/LmNvbnRleHRNZW51XG4gICAgaWYgKG1lbnVOYW1lID09PSB0aGlzLl9tZW51LmlkKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5tZW51XG4gICAgICBpZiAod3JhcHBlci5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHN1Yk1lbnUgPSB3cmFwcGVyLmZpbmQoJy5zdWItbWVudScpXG4gICAgICAgIGxldCBsZWZ0ID0gZXZlbnQuY2xpZW50WFxuICAgICAgICBsZXQgdG9wID0gZXZlbnQuY2xpZW50WVxuICAgICAgICBjb25zdCBtZW51SGVpZ2h0ID0gd3JhcHBlci5vdXRlckhlaWdodCgpXG4gICAgICAgIGNvbnN0IG1lbnVXaWR0aCA9IHdyYXBwZXIub3V0ZXJXaWR0aCgpXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCBtZW51SGVpZ2h0ICsgdG9wKSB7XG4gICAgICAgICAgdG9wID0gdG9wIC0gbWVudUhlaWdodFxuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IG1lbnVXaWR0aCArIGxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLSBtZW51V2lkdGhcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViTWVudS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgbWVudVdpZHRoICsgbGVmdCArIHN1Yk1lbnUub3V0ZXJXaWR0aCgpKSB7XG4gICAgICAgICAgICBzdWJNZW51LmNzcyh7XG4gICAgICAgICAgICAgIHJpZ2h0OiBgJHttZW51V2lkdGggLSA1fXB4YCxcbiAgICAgICAgICAgICAgbGVmdDogJydcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Yk1lbnUuY3NzKHtcbiAgICAgICAgICAgICAgbGVmdDogYCR7bWVudVdpZHRoIC0gNX1weGAsXG4gICAgICAgICAgICAgIHJpZ2h0OiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5jc3Moe1xuICAgICAgICAgIGxlZnQ6IGAke2xlZnR9cHhgLFxuICAgICAgICAgIHRvcDogYCR7dG9wfXB4YCxcbiAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY2FuU2VlICh2aXNpYmlsaXR5KSB7XG4gICAgc3dpdGNoICh2aXNpYmlsaXR5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2dtJzpcbiAgICAgICAgcmV0dXJuIGdhbWUudXNlci5pc0dNXG4gICAgICBjYXNlICd0cnVzdGVkJzpcbiAgICAgICAgcmV0dXJuIGdhbWUudXNlci5pc1RydXN0ZWRcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIENyZWF0ZU1lbnUgKG1lbnUpIHtcbiAgICBjb25zdCBjbGFzc2VzID0gdHlwZW9mIG1lbnUuY2xhc3NlcyA9PT0gJ3N0cmluZycgPyBbbWVudS5jbGFzc2VzXSA6IG1lbnUuY2xhc3Nlc1xuICAgIGNsYXNzZXMucHVzaCgnY29udGV4dC1tZW51LXdyYXBwZXInKVxuICAgIGNvbnN0IHdyYXBwZXIgPSAkKCc8ZGl2PjwvZGl2PicpXG4gICAgd3JhcHBlci5hZGRDbGFzcyhtZW51LmlkKVxuICAgIGNsYXNzZXMuZm9yRWFjaChjID0+IHdyYXBwZXIuYWRkQ2xhc3MoYykpXG4gICAgaWYgKG1lbnUuc2VjdGlvbikge1xuICAgICAgbWVudS5zZWN0aW9uLmZvckVhY2gocyA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBDb0M3Q29udGV4dE1lbnUuQ3JlYXRlU2VjdGlvbihzLCB7IG11bHRpOiB0cnVlIH0pXG4gICAgICAgIGlmIChzZWN0aW9uKSB3cmFwcGVyLmFwcGVuZChzZWN0aW9uKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IENvQzdDb250ZXh0TWVudS5DcmVhdGVTZWN0aW9uKG1lbnUpXG4gICAgICBpZiAoc2VjdGlvbikgd3JhcHBlci5hcHBlbmQoc2VjdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIHdyYXBwZXJcbiAgfVxuXG4gIHN0YXRpYyBDcmVhdGVTZWN0aW9uIChzLCB7IG11bHRpID0gZmFsc2UsIHN1Yk1lbnUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoIXMuaXRlbXMpIHJldHVybiBudWxsXG4gICAgaWYgKHMudmlzaWJpbGl0eSAmJiAhQ29DN0NvbnRleHRNZW51LmNhblNlZShzLnZpc2liaWxpdHkpKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGNsYXNzZXMgPSBzLmNsYXNzZXMgPyB0eXBlb2Ygcy5jbGFzc2VzID09PSAnc3RyaW5nJyA/IFtzLmNsYXNzZXNdIDogcy5jbGFzc2VzIDogW11cbiAgICBpZiAobXVsdGkpIGNsYXNzZXMucHVzaCgnbWVudS1zZWN0aW9uJylcbiAgICBpZiAoc3ViTWVudSkgY2xhc3Nlcy5wdXNoKCdzdWItbWVudScpXG4gICAgY29uc3Qgc2VjdGlvbiA9ICQoJzx1bD48L3VsPicpXG4gICAgY2xhc3Nlcy5mb3JFYWNoKGMgPT4gc2VjdGlvbi5hZGRDbGFzcyhjKSlcbiAgICBzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICBjb25zdCBsaSA9ICQoJzxsaT48L2xpPicpXG4gICAgICBsaS5hZGRDbGFzcygnbWVudS1pdGVtJylcbiAgICAgIGlmIChpLmFjdGlvbikge1xuICAgICAgICBsaS5hZGRDbGFzcygnbWVudS1hY3Rpb24nKVxuICAgICAgICBsaS5hdHRyKCdkYXRhLWFjdGlvbicsIGkuYWN0aW9uKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpLmxhYmVsID09PSAnc3RyaW5nJykgbGkuYXBwZW5kKGA8c3Bhbj4ke2kubGFiZWx9PC9zcGFuPmApXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGkubGFiZWwuaWNvbikgbGkuYXBwZW5kKGA8aSBjbGFzcz1cIiR7aS5sYWJlbC5pY29ufVwiPjwvaT5gKVxuICAgICAgICBpZiAoaS5sYWJlbC50ZXh0KSBsaS5hcHBlbmQoYDxzcGFuPiR7aS5sYWJlbC50ZXh0fTwvc3Bhbj5gKVxuICAgICAgfVxuICAgICAgaWYgKGkuc3ViTWVudSkge1xuICAgICAgICBsaS5hZGRDbGFzcygnc3ViLW1lbnUtYnV0dG9uJylcbiAgICAgICAgbGkuYXBwZW5kKCc8aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4nKVxuICAgICAgICBjb25zdCBzdWIgPSBDb0M3Q29udGV4dE1lbnUuQ3JlYXRlU2VjdGlvbihpLnN1Yk1lbnUsIHsgc3ViTWVudTogdHJ1ZSB9KVxuICAgICAgICBpZiAoc3ViKSBsaS5hcHBlbmQoc3ViKVxuICAgICAgfVxuICAgICAgc2VjdGlvbi5hcHBlbmQobGkpXG4gICAgfSlcbiAgICByZXR1cm4gc2VjdGlvblxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQWN0b3JTaGVldCwgQ2hhdE1lc3NhZ2UsIENPTlNULCBEaWFsb2csIEZvcm1EYXRhLCBmb3VuZHJ5LCBnYW1lLCBnZXRQcm9wZXJ0eSwgSG9va3MsIG1lcmdlT2JqZWN0LCBSb2xsLCBUZXh0RWRpdG9yLCB1aSAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuLi8uLi9hcHBzL3JvbGwtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWNoYXQtbWVzc2FnZS5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRlbnRMaW5rRGlhbG9nIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWNvbnRlbnQtbGluay1kaWFsb2cuanMnXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi8uLi9pdGVtcy9pdGVtLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlSW5pdGlhdG9yIH0gZnJvbSAnLi4vLi4vY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN1JhbmdlSW5pdGlhdG9yIH0gZnJvbSAnLi4vLi4vY2hhdC9yYW5nZWNvbWJhdC5qcydcbmltcG9ydCB7IENvQzdDb25DaGVjayB9IGZyb20gJy4uLy4uL2NoYXQvY29uY2hlY2suanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyLCBpc0N0cmxLZXkgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWxpbmsuanMnXG5pbXBvcnQgeyBEYW1hZ2VDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9kYW1hZ2UuanMnXG5pbXBvcnQgQ29DN0FjdGl2ZUVmZmVjdCBmcm9tICcuLi8uLi9hY3RpdmUtZWZmZWN0LmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRleHRNZW51IH0gZnJvbSAnLi4vLi4vY29udGV4dC1tZW51LmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEFjdG9yU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdBY3RvclNoZWV0IGV4dGVuZHMgQWN0b3JTaGVldCB7XG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuc2hvd0hpZGRlbkRldk1lbnUgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdoaWRkZW5kZXZtZW51JylcblxuICAgIHNoZWV0RGF0YS5jYW5EcmFnVG9rZW4gPSAhIXRoaXMudG9rZW4gJiYgZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEubGlua2VkQWN0b3IgPSB0aGlzLmFjdG9yLnByb3RvdHlwZVRva2VuPy5hY3RvckxpbmsgPT09IHRydWVcbiAgICBzaGVldERhdGEuaXNUb2tlbiA9IHRoaXMuYWN0b3IuaXNUb2tlblxuICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZSA9IHt9XG4gICAgc2hlZXREYXRhLnNraWxscyA9IHt9XG4gICAgc2hlZXREYXRhLmNvbWJhdFNraWxscyA9IHt9XG4gICAgc2hlZXREYXRhLndlYXBvbnMgPSB7fVxuICAgIHNoZWV0RGF0YS5yYW5nZVdwbiA9IFtdXG4gICAgc2hlZXREYXRhLm1lbGVlV3BuID0gW11cbiAgICBzaGVldERhdGEuYWN0b3JGbGFncyA9IHt9XG5cbiAgICBzaGVldERhdGEuZWZmZWN0cyA9XG4gICAgICB0aGlzLmFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInXG4gICAgICAgID8gQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLmFjdG9yLmVmZmVjdHMpXG4gICAgICAgIDogQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlTlBDQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLmFjdG9yLmVmZmVjdHMpXG5cbiAgICBzaGVldERhdGEucGVybWlzc2lvbkxpbWl0ZWQgPSAhZ2FtZS51c2VyLmlzR00gJiYgKHRoaXMuYWN0b3Iub3duZXJzaGlwW2dhbWUudXNlci5pZF0gPz8gdGhpcy5hY3Rvci5vd25lcnNoaXAuZGVmYXVsdCkgPT09IENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTElNSVRFRFxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEuYWxsb3dVbmxvY2sgPVxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncGxheWVyVW5sb2NrU2hlZXRNb2RlJykgPT09ICdhbHdheXMnIHx8XG4gICAgICBnYW1lLnVzZXIuaXNHTSB8fFxuICAgICAgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3BsYXllclVubG9ja1NoZWV0TW9kZScpID09PSAnY3JlYXRpb24nICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2NoYXJDcmVhdGlvbkVuYWJsZWQnKSlcbiAgICBpZiAoXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwbGF5ZXJVbmxvY2tTaGVldE1vZGUnKSA9PT0gJ2NyZWF0aW9uJyAmJlxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcpXG4gICAgKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3Rvci50eXBlICE9PSAndmVoaWNsZScpIHtcbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzID0ge1xuICAgICAgICAgIHN0cjoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5TVFInLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuU3RyZW5ndGgnLFxuICAgICAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnQ0hBUkFDLkNPTicsXG4gICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5Db25zdGl0dXRpb24nLFxuICAgICAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6OiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnQ0hBUkFDLlNJWicsXG4gICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5TaXplJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRleDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5ERVgnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuRGV4dGVyaXR5JyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5BUFAnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuQXBwZWFyYW5jZScsXG4gICAgICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdDSEFSQUMuSU5UJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkludGVsbGlnZW5jZScsXG4gICAgICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb3c6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdDSEFSQUMuUE9XJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLlBvd2VyJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVkdToge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5FRFUnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuRWR1Y2F0aW9uJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicykge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicyA9IHtcbiAgICAgICAgICBocDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0hQJyxcbiAgICAgICAgICAgIGxhYmVsOiAnSGl0IHBvaW50cycsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtcDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0hQJyxcbiAgICAgICAgICAgIGxhYmVsOiAnTWFnaWMgcG9pbnRzJyxcbiAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxjazogeyB2YWx1ZTogbnVsbCwgc2hvcnQ6ICdMQ0snLCBsYWJlbDogJ0x1Y2snIH0sXG4gICAgICAgICAgc2FuOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heDogOTksXG4gICAgICAgICAgICBzaG9ydDogJ1NBTicsXG4gICAgICAgICAgICBsYWJlbDogJ1Nhbml0eScsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb3Y6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdNT1YnLFxuICAgICAgICAgICAgbGFiZWw6ICdNb3ZlbWVudCByYXRlJyxcbiAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRiOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnREInLFxuICAgICAgICAgICAgbGFiZWw6ICdEYW1hZ2UgYm9udXMnLFxuICAgICAgICAgICAgYXV0bzogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYnVpbGQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdCTEQnLFxuICAgICAgICAgICAgbGFiZWw6ICdCdWlsZCcsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcm1vcjogeyB2YWx1ZTogbnVsbCwgYXV0bzogZmFsc2UgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeSkge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5ID0ge1xuICAgICAgICAgIHBlcnNvbmFsRGVzY3JpcHRpb246IHsgdHlwZTogJ3N0cmluZycsIHZhbHVlOiAnJyB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3MpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zID0ge1xuICAgICAgICAgIG9jY3VwYXRpb246ICcnLFxuICAgICAgICAgIGFnZTogJycsXG4gICAgICAgICAgc2V4OiAnJyxcbiAgICAgICAgICByZXNpZGVuY2U6ICcnLFxuICAgICAgICAgIGJpcnRocGxhY2U6ICcnLFxuICAgICAgICAgIGFyY2hldHlwZTogJycsXG4gICAgICAgICAgb3JnYW5pemF0aW9uOiAnJyxcbiAgICAgICAgICBwbGF5ZXJuYW1lOiAnJ1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzKSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncyA9IHsgbG9ja2VkOiB0cnVlLCBtYW51YWxDcmVkaXQ6IGZhbHNlIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uY3JlZGl0KSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5jcmVkaXQgPSB7XG4gICAgICAgICAgbW9uZXRhcnlTeW1ib2w6IG51bGwsXG4gICAgICAgICAgbXVsdGlwbGllcjogbnVsbCxcbiAgICAgICAgICBzcGVudDogbnVsbCxcbiAgICAgICAgICBhc3NldHNEZXRhaWxzOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGV2ZWxvcG1lbnQpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRldmVsb3BtZW50ID0ge1xuICAgICAgICAgIHBlcnNvbmFsOiBudWxsLFxuICAgICAgICAgIG9jY3VwYXRpb246IG51bGwsXG4gICAgICAgICAgYXJjaGV0eXBlOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5KSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5ID0gW11cblxuICAgICAgc2hlZXREYXRhLnB1bHBSdWxlQXJjaGV0eXBlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKVxuICAgICAgc2hlZXREYXRhLnB1bHBSdWxlT3JnYW5pemF0aW9uID0gZ2FtZS5zZXR0aW5ncy5nZXQoXG4gICAgICAgICdDb0M3JyxcbiAgICAgICAgJ3B1bHBSdWxlT3JnYW5pemF0aW9uJ1xuICAgICAgKVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5pc0RlYWQgPSB0aGlzLmFjdG9yLmRlYWRcbiAgICBzaGVldERhdGEuaXNEeWluZyA9IHRoaXMuYWN0b3IuZHlpbmdcblxuICAgIGlmIChzaGVldERhdGEuaXRlbXMpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzaGVldERhdGEuaXRlbXMpIHtcbiAgICAgICAgLy8gc2kgYydlc3QgdW5lIGZvcm11bGUgZXQgcXUnb24gcGV1dCBsJ2V2YWx1ZXJcbiAgICAgICAgLy8gY2UgYmxvYyBkZXZyYWl0IGV0cmUgZMOpcGxhY8OpIGRhbnMgbGUgYmxvYyBfdXBkYXRlRm9ybURhdGFcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdDb0M3LkZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWUnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5hY3Rvci50eXBlICE9PSAnY2hhcmFjdGVyJykge1xuICAgICAgICAgICAgaWYgKGlzTmFOKE51bWJlcihpdGVtLnN5c3RlbS52YWx1ZSkpKSB7XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGxcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0ge31cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgICAgICAgQ09DNy5mb3JtdWxhLmFjdG9yc2hlZXRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnQCcpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3RoaXMuJykpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlZFtrZXkuc3Vic3RyaW5nKDEpXSA9IGdldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoNSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBSb2xsKGl0ZW0uc3lzdGVtLnZhbHVlLCBwYXJzZWQpLmV2YWx1YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKS50b3RhbFxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yVW5hYmxlVG9QYXJzZVNraWxsRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uc3lzdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0udmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Ub1VwZGF0ZSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICAgICAgICAgIGBbQ09DN10gKEFjdG9yOiR7dGhpcy5uYW1lfSkgRXZhbHVhdGluZyBza2lsbCAke2l0ZW0ubmFtZX06JHtpdGVtLnN5c3RlbS52YWx1ZX0gdG8gJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZW1Ub1VwZGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS52YWx1ZSc6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgY29uc3QgeyBiYXNlLCByYXdWYWx1ZSwgdmFsdWUgfSA9IHNraWxsLnN5c3RlbVxuXG4gICAgICAgICAgICAvLyBBc3N1bWUgZmFsbGJhY2sgdmFsdWVzLCB1c2VmdWwgZm9yIGluaXRpYWwgc2V0dXAgb2Ygc2tpbGxzXG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5yYXdWYWx1ZSA9IHJhd1ZhbHVlIHx8IHZhbHVlIHx8IGJhc2VcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnZhbHVlID0gdmFsdWUgfHwgYmFzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYmFzZSA9IGF3YWl0IHNraWxsLmFzeW5jQmFzZSgpXG5cbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS52YWx1ZSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBwYXJ0IG9mIG1pZ3JhdGlvbiBvciBkb25lIGF0IGluaXQgIVxuICAgICAgICAgICAgICAvLyBXYXMgZG9uZSB3aGVuIHNraWxsIHZhbHVlIHdhcyBjaGFuZ2VkIHRvIGJhc2UgKyBhZGp1c3RlbWVudFxuICAgICAgICAgICAgICBjb25zdCBleHAgPSBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZVxuICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSlcbiAgICAgICAgICAgICAgICA6IDBcbiAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRFeHAgPSBleHAgKyBwYXJzZUludChpdGVtLnN5c3RlbS52YWx1ZSkgLSBza2lsbC52YWx1ZVxuICAgICAgICAgICAgICBpZiAodXBkYXRlZEV4cCA8PSAwKSB1cGRhdGVkRXhwID0gbnVsbFxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgICAgICAgYFtDT0M3XSBVcGRhdGluZyBza2lsbCAke3NraWxsLm5hbWV9IGV4cGVyaWVuY2UuIEV4cGVyaWVuY2UgbWlzc2luZzogJHt1cGRhdGVkRXhwfWBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIF9pZDogaXRlbS5faWQsXG4gICAgICAgICAgICAgICAgICAnc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UnOiB1cGRhdGVkRXhwLFxuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS52YWx1ZSc6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIGlmICghaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMpIGl0ZW0uc3lzdGVtLmFkanVzdG1lbnRzID0ge31cbiAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSA9IHVwZGF0ZWRFeHBcbiAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0ucmF3VmFsdWUgPSBza2lsbC5yYXdWYWx1ZVxuICAgICAgICAgICAgICBpdGVtLnN5c3RlbS52YWx1ZSA9IHNraWxsLnZhbHVlIC8vIEFDVElWRV9FRkZFQ1QgbmVjZXNzYXJ5IHRvIGFwcGx5IGVmZmVjdHNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnZhbHVlID0gc2tpbGwudmFsdWUgLy8gQUNUSVZFX0VGRkVDVCBuZWNlc3NhcnkgdG8gYXBwbHkgZWZmZWN0c1xuICAgICAgICAgICAgICBpdGVtLnN5c3RlbS5yYXdWYWx1ZSA9IHNraWxsLnJhd1ZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxpc3QgPSBzaGVldERhdGEuaXRlbXNCeVR5cGVbaXRlbS50eXBlXVxuICAgICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgICBsaXN0ID0gW11cbiAgICAgICAgICBzaGVldERhdGEuaXRlbXNCeVR5cGVbaXRlbS50eXBlXSA9IGxpc3RcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goaXRlbSlcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBpdGVtVHlwZSBpbiBzaGVldERhdGEuaXRlbXNCeVR5cGUpIHtcbiAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlW2l0ZW1UeXBlXS5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgIH1cblxuICAgICAgLy8gcmVkb25kYW50IGF2ZWMgbWF0cmljZSBpdGVtYnl0eXBlXG4gICAgICBzaGVldERhdGEuc2tpbGxzID0gc2hlZXREYXRhLml0ZW1zXG4gICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdza2lsbCcpXG4gICAgICAgIC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgICAgc2hlZXREYXRhLm1lbGVlU2tpbGxzID0gc2hlZXREYXRhLnNraWxscy5maWx0ZXIoXG4gICAgICAgIHNraWxsID0+XG4gICAgICAgICAgc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0ID09PSB0cnVlICYmXG4gICAgICAgICAgc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcgPT09IHRydWVcbiAgICAgIClcbiAgICAgIHNoZWV0RGF0YS5yYW5nZVNraWxscyA9IHNoZWV0RGF0YS5za2lsbHMuZmlsdGVyKFxuICAgICAgICBza2lsbCA9PlxuICAgICAgICAgIHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gPT09IHRydWVcbiAgICAgIClcblxuICAgICAgY29uc3QgY2J0U2tpbGxzID0gc2hlZXREYXRhLnNraWxscy5maWx0ZXIoXG4gICAgICAgIHNraWxsID0+IHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gdHJ1ZVxuICAgICAgKVxuICAgICAgaWYgKGNidFNraWxscykge1xuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGNidFNraWxscykge1xuICAgICAgICAgIHNoZWV0RGF0YS5jb21iYXRTa2lsbHNbc2tpbGwuX2lkXSA9IHNraWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2VhcG9ucyA9IHNoZWV0RGF0YS5pdGVtc0J5VHlwZS53ZWFwb25cblxuICAgICAgaWYgKHdlYXBvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCB3ZWFwb24gb2Ygd2VhcG9ucykge1xuICAgICAgICAgIHdlYXBvbi51c2VzQWx0ZXJuYXRlU2tpbGwgPVxuICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzLmF1dG8gPT09IHRydWUgfHxcbiAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5icnN0ID09PSB0cnVlXG4gICAgICAgICAgaWYgKCF3ZWFwb24uc3lzdGVtLmFtbW8pIHdlYXBvbi5zeXN0ZW0uYW1tbyA9IDBcblxuICAgICAgICAgIHdlYXBvbi5za2lsbFNldCA9IHRydWVcbiAgICAgICAgICAvLyB3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4ubmFtZSA9ICcnO1xuICAgICAgICAgIC8vIHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi52YWx1ZSA9IDA7XG4gICAgICAgICAgLy8gd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUgPSAnJztcbiAgICAgICAgICAvLyB3ZWFwb24uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYudmFsdWUgPSAwO1xuICAgICAgICAgIGlmICh3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4uaWQgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBUT0RPIDogc2kgbCdJRCBuJ2VzdHMgcGFzIGTDqWZpbmllIG1haXMgcXUndW4gbm9tIGEgw6l0w6kgZG9ubsOpLCB1dGlsaXNlciBjZSBub20gZXQgdGFudGVyIGRlIHJldHJvdXZlciBsZSBza2lsbFxuICAgICAgICAgICAgd2VhcG9uLnNraWxsU2V0ID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyA6IGF2YW50IGQnYXNzaWdlciBsZSBza2lsbCB2w6lyaWZpZXIgcXUnaWwgZXhpc3RlIHRvdWpvdXJzLlxuICAgICAgICAgICAgLy8gc2kgaWwgbidleGlzdGUgcGx1cyBpbCBmYXV0IGxlIHJldHJvdXZlciBvdSBwYXNzZXIgc2tpbGxzZXQgYSBmYWxzZS5cbiAgICAgICAgICAgIGlmIChzaGVldERhdGEuY29tYmF0U2tpbGxzW3dlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5pZF0pIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yLml0ZW1zLmdldCh3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4uaWQpXG4gICAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lID0gc2tpbGwuc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICAgICAgICB3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4udmFsdWUgPSBza2lsbC52YWx1ZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2VhcG9uLnNraWxsU2V0ID0gZmFsc2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgaWYgKHNoZWV0RGF0YS5jb21iYXRTa2lsbHNbd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICAgICAgICB3ZWFwb24uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUgPSBza2lsbC5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LnZhbHVlID0gc2tpbGwudmFsdWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uX3Byb3BlcnRpZXMgPSBbXVxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcud2VhcG9uUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0ge31cbiAgICAgICAgICAgIHByb3BlcnR5LmlkID0ga2V5XG4gICAgICAgICAgICBwcm9wZXJ0eS5uYW1lID0gdmFsdWVcbiAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gd2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWVcbiAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uX3Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzaGVldERhdGEud2VhcG9uc1t3ZWFwb24uX2lkXSA9IHdlYXBvblxuICAgICAgICAgIGlmICh3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkgc2hlZXREYXRhLnJhbmdlV3BuLnB1c2god2VhcG9uKVxuICAgICAgICAgIGVsc2Ugc2hlZXREYXRhLm1lbGVlV3BuLnB1c2god2VhcG9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlblxuICAgICAgc2hlZXREYXRhLnRva2VuSWQgPSB0b2tlblxuICAgICAgICA/IGAke3Rva2VuLnBhcmVudD8uaWQgPyB0b2tlbi5wYXJlbnQuaWQgOiAnVE9LRU4nfS4ke3Rva2VuLmlkfWBcbiAgICAgICAgOiBudWxsIC8vIFJFRkFDVE9SSU5HICgyKVxuXG4gICAgICBzaGVldERhdGEuaGFzRW1wdHlWYWx1ZVdpdGhGb3JtdWxhID0gZmFsc2VcbiAgICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hhcmFjdGVyaXN0aWMgb2YgT2JqZWN0LnZhbHVlcyhzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSkge1xuICAgICAgICAgIGlmICghY2hhcmFjdGVyaXN0aWMudmFsdWUpIGNoYXJhY3RlcmlzdGljLmVkaXRhYmxlID0gdHJ1ZVxuICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmhhcmQgPSBNYXRoLmZsb29yKGNoYXJhY3RlcmlzdGljLnZhbHVlIC8gMilcbiAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5leHRyZW1lID0gTWF0aC5mbG9vcihjaGFyYWN0ZXJpc3RpYy52YWx1ZSAvIDUpXG5cbiAgICAgICAgICAvLyBJZiBubyB2YWx1ZSAmJiBubyBmb3JtdWxhIGRvbid0IGRpc3BsYXkgY2hhcmFjLlxuICAgICAgICAgIGlmICghY2hhcmFjdGVyaXN0aWMudmFsdWUgJiYgIWNoYXJhY3RlcmlzdGljLmZvcm11bGEpIHtcbiAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmRpc3BsYXkgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5kaXNwbGF5ID0gdHJ1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIGFueSBjaGFyYWN0ZXJpc3RpYyBoYXMgbm8gdmFsdWUgYnV0IGhhcyBhIGZvcm11bGEuXG4gICAgICAgICAgaWYgKCFjaGFyYWN0ZXJpc3RpYy52YWx1ZSAmJiBjaGFyYWN0ZXJpc3RpYy5mb3JtdWxhKSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5oYXNFbXB0eVZhbHVlV2l0aEZvcm11bGEgPSB0cnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2hlZXREYXRhLmhhc0VtcHR5VmFsdWVXaXRoRm9ybXVsYSA9XG4gICAgICAgICAgICBzaGVldERhdGEuaGFzRW1wdHlWYWx1ZVdpdGhGb3JtdWxhIHx8XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5oYXNFbXB0eVZhbHVlV2l0aEZvcm11bGFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvciBjb21wYXQgd2l0aCBwcmV2aW91cyBjaGFyYWN0ZXJzIHRlc3QgaWYgYXV0byBpcyBkZWZpbmllZCwgaWYgbm90IHdlIGRlZmluZSBpdFxuICAgIGlmICghWyd2ZWhpY2xlJywgJ2NvbnRhaW5lciddLmluY2x1ZGVzKHRoaXMuYWN0b3IudHlwZSkpIHtcbiAgICAgIGNvbnN0IGF1dG8gPSB0aGlzLmFjdG9yLmNoZWNrVW5kZWZpbmVkQXV0bygpXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0gPSBtZXJnZU9iamVjdChzaGVldERhdGEuZGF0YS5zeXN0ZW0sIGF1dG8pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLmhwLmF1dG8gPSBmYWxzZVxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmF0dHJpYnMubXAuYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4uYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5tb3YuYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5kYi5hdXRvID0gZmFsc2VcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmF1dG8gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA8IDApIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlID0gbnVsbFxuICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgPCAwKSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgPSBudWxsXG5cbiAgICBpZiAoIVsndmVoaWNsZSddLmluY2x1ZGVzKHRoaXMuYWN0b3IudHlwZSkpIHtcbiAgICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5IGluc3RhbmNlb2YgQXJyYXkgJiYgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeS5sZW5ndGgpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeVswXS5pc0ZpcnN0ID0gdHJ1ZVxuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5W3NoZWV0RGF0YS5kYXRhLnN5c3RlbS5iaW9ncmFwaHkubGVuZ3RoIC0gMV0uaXNMYXN0ID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUl0ZW1zID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVNwZWxscyA9IGZhbHNlXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVN0YXR1c2VzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVdlYXBvbnMgPSBmYWxzZVxuXG4gICAgc2hlZXREYXRhLmhhc0NvbmRpdGlvbnMgPVxuICAgICAgdGhpcy5hY3Rvci5lZmZlY3RzLnNpemUgPiAwIHx8XG4gICAgICAodHlwZW9mIHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMpLmZpbHRlcihcbiAgICAgICAgICBjb25kaXRpb24gPT4gdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlXG4gICAgICAgICkubGVuZ3RoID4gMClcblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8vIHN0YXRpYyBwYXJzZUZvcm11bGEgKGZvcm11bGEpIHtcbiAgLy8gICBsZXQgcGFyc2VkRm9ybXVsYSA9IGZvcm11bGFcbiAgLy8gICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmZvcm11bGEuYWN0b3JzaGVldCkpIHtcbiAgLy8gICAgIHBhcnNlZEZvcm11bGEgPSBwYXJzZWRGb3JtdWxhLnJlcGxhY2Uoa2V5LCB2YWx1ZSlcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIHBhcnNlZEZvcm11bGFcbiAgLy8gfVxuXG4gIGdldCB0b2tlbktleSAoKSB7XG4gICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignREVQUkVDQVRFRCBTSE9VTEQgTk9UIEhBUFBFTiEnKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFzZS5qcyBnZXQgdG9rZW5LZXkoKTogREVQUkVDQVRFRCBTSE9VTEQgTk9UIEhBUFBFTiEnKVxuICAgIC8vIGlmKCB0aGlzLnRva2VuKSByZXR1cm4gYCR7dGhpcy50b2tlbi5zY2VuZT8uX2lkP3RoaXMudG9rZW4uc2NlbmUuX2lkOidUT0tFTid9LiR7dGhpcy50b2tlbi5kYXRhLl9pZH1gOyAgLy9SRUZBQ1RPUklORyAoMilcbiAgICAvLyByZXR1cm4gdGhpcy5hY3Rvci5pZDtcbiAgfVxuXG4gIG9uQ2xvc2VTaGVldCAoKSB7XG4gICAgLy8gdGhpcy5hY3Rvci5sb2NrZWQgPSB0cnVlO1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvKipcbiAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAqIEBwYXJhbSBodG1sIHtIVE1MfSAgIFRoZSBwcmVwYXJlZCBIVE1MIG9iamVjdCByZWFkeSB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBET01cbiAgICovXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VDb250ZXh0TWVudXMnKSkge1xuICAgICAgaWYgKCF0aGlzLm1lbnVzKSB0aGlzLm1lbnVzID0gW11cblxuICAgICAgY29uc3Qgcm9sbE1lbnUgPSB7XG4gICAgICAgIGlkOiAnc2tpbGwtcm9sbCcsXG4gICAgICAgIGNsYXNzZXM6ICdyb2xsLW1lbnUnLFxuICAgICAgICBzZWN0aW9uOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NlczogJ21haW4nLFxuICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdyb2xsJywgbGFiZWw6ICdSb2xsJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ29wcG9zZWQtcm9sbCcsIGxhYmVsOiAnT3Bwb3NlZCByb2xsJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ2NvbWJpbmVkLXJvbGwnLCBsYWJlbDogJ0NvbWJpbmVkIHJvbGwnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzZXM6ICdrZWVwZXInLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2dtJyxcbiAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogeyBpY29uOiAnZmFzIGZhLWxpbmsnLCB0ZXh0OiAnTGluaycgfSxcbiAgICAgICAgICAgICAgICBzdWJNZW51OiB7XG4gICAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ2xpbmstdG9vbCcsIGxhYmVsOiAnT3BlbiBpbiBsaW5rIHRvb2wnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnc2VuZC1jaGF0JywgbGFiZWw6ICdTZW5kIHRvIGNoYXQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnY29weS10by1jbGlwYm9hcmQnLCBsYWJlbDogJ0NvcHkgdG8gY2xpcC1ib2FyZCcgfVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdyZXF1ZXN0LXJvbGwnLCBsYWJlbDogJ1JlcXVlc3Qgcm9sbCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzYW5NZW51ID0ge1xuICAgICAgICBpZDogJ3Nhbi1yb2xsJyxcbiAgICAgICAgY2xhc3NlczogJ3JvbGwtbWVudScsXG4gICAgICAgIHNlY3Rpb246IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc2VzOiAnbWFpbicsXG4gICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICB7IGFjdGlvbjogJ2VuY291bnRlcicsIGxhYmVsOiAnRW5jb3VudGVyJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ3JvbGwnLCBsYWJlbDogJ1JvbGwnIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uOiAnb3Bwb3NlZC1yb2xsJywgbGFiZWw6ICdPcHBvc2VkIHJvbGwnIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uOiAnY29tYmluZWQtcm9sbCcsIGxhYmVsOiAnQ29tYmluZWQgcm9sbCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NlczogJ2tlZXBlcicsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAndHJ1c3RlZCcsXG4gICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICB7IGFjdGlvbjogJ3JlcXVlc3Qtcm9sbCcsIGxhYmVsOiAnUmVxdWVzdCByb2xsJyB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHsgaWNvbjogJ2ZhcyBmYS1saW5rJywgdGV4dDogJ0xpbmsnIH0sXG4gICAgICAgICAgICAgICAgc3ViTWVudToge1xuICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBhY3Rpb246ICdsaW5rLXRvb2wnLCBsYWJlbDogJ09wZW4gaW4gbGluayB0b29sJyB9LFxuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ3NlbmQtY2hhdCcsIGxhYmVsOiAnU2VuZCB0byBjaGF0JyB9LFxuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ2NvcHktdG8tY2xpcGJvYXJkJywgbGFiZWw6ICdDb3B5IHRvIGNsaXAtYm9hcmQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnbGluay1lbmNvdW50ZXInLCBsYWJlbDogJ0VuY291bnRlcicgfVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCByb2xsQ29udGV4dE1lbnUgPSBuZXcgQ29DN0NvbnRleHRNZW51KClcbiAgICAgIHJvbGxDb250ZXh0TWVudS5iaW5kKHJvbGxNZW51LCBodG1sLCB0aGlzLl9vbkNvbnRleHRNZW51Q2xpY2suYmluZCh0aGlzKSlcbiAgICAgIHRoaXMubWVudXMucHVzaChyb2xsQ29udGV4dE1lbnUpXG5cbiAgICAgIGNvbnN0IHNhbkNvbnRleHRNZW51ID0gbmV3IENvQzdDb250ZXh0TWVudSgpXG4gICAgICBzYW5Db250ZXh0TWVudS5iaW5kKHNhbk1lbnUsIGh0bWwsIHRoaXMuX29uQ29udGV4dE1lbnVDbGljay5iaW5kKHRoaXMpKVxuICAgICAgdGhpcy5tZW51cy5wdXNoKHNhbkNvbnRleHRNZW51KVxuICAgIH0gZWxzZSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhcmFjdGVyaXN0aWMtbGFiZWwnKVxuICAgICAgICAuY29udGV4dG1lbnUodGhpcy5fb25PcHBvc2VkUm9sbC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKVxuICAgICAgICAuY29udGV4dG1lbnUodGhpcy5fb25PcHBvc2VkUm9sbC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLmF0dHJpYnV0ZS1sYWJlbC5yb2xsYWJsZScpXG4gICAgICAgIC5jb250ZXh0bWVudSh0aGlzLl9vbk9wcG9zZWRSb2xsLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgLy8gY29udGV4dCBtZW51IGJpbmRcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmNoYXJhY3RlcmlzdGljLWxhYmVsJylcbiAgICAgIC5jbGljayh0aGlzLl9vblJvbGxDaGFyYWN0ZXJpdGljVGVzdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKS5jbGljayh0aGlzLl9vblJvbGxTa2lsbFRlc3QuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5za2lsbC1pbWFnZScpLmNsaWNrKHRoaXMuX29uUm9sbFNraWxsVGVzdC5iaW5kKHRoaXMpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuYXR0cmlidXRlLWxhYmVsLnJvbGxhYmxlJylcbiAgICAgIC5jbGljayh0aGlzLl9vblJvbGxBdHRyaWJUZXN0LmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnRva2VuLWRyYWctaGFuZGxlJylcbiAgICAgIC5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnVG9rZW5TdGFydC5iaW5kKHRoaXMpKVxuXG4gICAgLy8gT3duZXIgT25seSBMaXN0ZW5lcnNcbiAgICBpZiAodGhpcy5hY3Rvci5pc093bmVyICYmICEodGhpcy5hY3Rvci5jb21wZW5kaXVtPy5sb2NrZWQgPz8gZmFsc2UpKSB7XG4gICAgICBodG1sLmZpbmQoJy5sb2NrJykuY2xpY2sodGhpcy5fb25Mb2NrQ2xpY2tlZC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuZmxhZycpLmNsaWNrKHRoaXMuX29uRmxhZ0NsaWNrZWQuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnLmZvcm11bGEnKS5jbGljayh0aGlzLl9vbkZvcm11bGFDbGlja2VkLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgLy8gT3duZXIgT25seSwgbm90IGF2YWlsYWJsZSBmcm9tIGNvbXBlbmRpdW1cbiAgICBpZiAodGhpcy5hY3Rvci5pc093bmVyICYmIHR5cGVvZiB0aGlzLmFjdG9yLmNvbXBlbmRpdW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhcmFjdGVyaXN0aWMtbGFiZWwnKVxuICAgICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0NoYXJhY3RlcmlzdGljKGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5hdHRyaWJ1dGUtbGFiZWwnKVxuICAgICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0F0dHJpYnV0ZShldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuc2FuLWNoZWNrJylcbiAgICAgICAgLm9uKCdkcmFnc3RhcnQnLCBldmVudCA9PiB0aGlzLl9vbkRyYWdTYW5DaGVjayhldmVudCkpXG5cbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy53ZWFwb24tbmFtZS5yb2xsYWJsZScpXG4gICAgICAgIC5jb250ZXh0bWVudSh0aGlzLl9vbk9wcG9zZWRSb2xsLmJpbmQodGhpcykpXG5cbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5yb2xsLWNoYXJhY3Rlcml0aWNzJylcbiAgICAgICAgLmNsaWNrKHRoaXMuX29uUm9sbENoYXJhY3Rlcml0aWNzVmFsdWUuYmluZCh0aGlzKSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5hdmVyYWdlLWNoYXJhY3Rlcml0aWNzJylcbiAgICAgICAgLmNsaWNrKHRoaXMuX29uQXZlcmFnZUNoYXJhY3Rlcml0aWNzVmFsdWUuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnLnRvZ2dsZS1zd2l0Y2gnKS5jbGljayh0aGlzLl9vblRvZ2dsZS5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuYXV0by10b2dnbGUnKS5jbGljayh0aGlzLl9vbkF1dG9Ub2dnbGUuYmluZCh0aGlzKSlcblxuICAgICAgLy8gU3RhdHVzIG1vbml0b3JcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSB8fCBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzdGF0dXNQbGF5ZXJFZGl0YWJsZScpKSB7XG4gICAgICAgIGh0bWwuZmluZCgnLnJlc2V0LWNvdW50ZXInKS5jbGljayh0aGlzLl9vblJlc2V0Q291bnRlci5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5jb25kaXRpb24tbW9uaXRvcicpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uQ29uZGl0aW9uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLmlzLWR5aW5nJykuY2xpY2sodGhpcy5oZWFsLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLmlzLWRlYWQnKS5jbGljayh0aGlzLnJldml2ZS5iaW5kKHRoaXMpKVxuICAgICAgfVxuXG4gICAgICBodG1sLmZpbmQoJy5keWluZy1jaGVjaycpLmNsaWNrKHRoaXMuY2hlY2tGb3JEZWF0aC5iaW5kKHRoaXMpKVxuXG4gICAgICBodG1sLmZpbmQoJy5pdGVtIC5pdGVtLWltYWdlJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtUm9sbChldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcud2VhcG9uLW5hbWUucm9sbGFibGUnKVxuICAgICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25XZWFwb25Sb2xsKGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5pdGVtLW5hbWUuZWZmZWN0LW5hbWUnKVxuICAgICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25FZmZlY3QoZXZlbnQpKVxuICAgICAgLy8gaHRtbFxuICAgICAgLy8gICAuZmluZCgnLml0ZW0tbmFtZS5lZmZlY3QtbmFtZScpXG4gICAgICAvLyAgIC5rZXlkb3duKChldmVudCkgPT4ge1xuICAgICAgLy8gICAgIGlmIChpc0N0cmxLZXkoZXZlbnQpKSB7XG4gICAgICAvLyAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXInKVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfSlcbiAgICAgIC8vIGh0bWxcbiAgICAgIC8vICAgLmZpbmQoJy5pdGVtLW5hbWUuZWZmZWN0LW5hbWUnKVxuICAgICAgLy8gICAua2V5ZG93bigoZXZlbnQpID0+IHtcbiAgICAgIC8vICAgICBpZiAoaXNDdHJsS2V5KGV2ZW50KSkge1xuICAgICAgLy8gICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyJylcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIH0pXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcud2VhcG9uLXNraWxsLnJvbGxhYmxlJylcbiAgICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHRoaXMuX29uV2VhcG9uU2tpbGxSb2xsKGV2ZW50KSlcbiAgICAgIGh0bWwuZmluZCgnLnJlbG9hZC13ZWFwb24nKS5jbGljayhldmVudCA9PiB0aGlzLl9vblJlbG9hZFdlYXBvbihldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcucmVsb2FkLXdlYXBvbicpXG4gICAgICAgIC5vbignY29udGV4dG1lbnUnLCBldmVudCA9PiB0aGlzLl9vblJlbG9hZFdlYXBvbihldmVudCkpXG4gICAgICBodG1sLmZpbmQoJy5hZGQtYW1tbycpLmNsaWNrKHRoaXMuX29uQWRkQW1vLmJpbmQodGhpcykpXG4gICAgICBodG1sLmZpbmQoJy5yZWFkLW9ubHknKS5kYmxjbGljayh0aGlzLl90b2dnbGVSZWFkT25seS5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5vbignY2xpY2snLCAnLndlYXBvbi1kYW1hZ2UnLCB0aGlzLl9vbldlYXBvbkRhbWFnZS5iaW5kKHRoaXMpKVxuXG4gICAgICBodG1sLmZpbmQoJy5pbnZlbnRvcnktaGVhZGVyJykuY2xpY2sodGhpcy5fb25JbnZlbnRvcnlIZWFkZXIuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnLml0ZW1zLWhlYWRlcicpLmNsaWNrKHRoaXMuX29uSXRlbUhlYWRlci5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuc2VjdGlvbi1oZWFkZXInKS5jbGljayh0aGlzLl9vblNlY3Rpb25IZWFkZXIuYmluZCh0aGlzKSlcblxuICAgICAgY29uc3Qgd2hlZWxJbnB1dHMgPSBodG1sLmZpbmQoJy5hdHRyaWJ1dGUtdmFsdWUnKVxuICAgICAgZm9yIChjb25zdCB3aGVlbElucHV0IG9mIHdoZWVsSW5wdXRzKSB7XG4gICAgICAgIHdoZWVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBldmVudCA9PiB0aGlzLl9vbldoZWVsKGV2ZW50KSwge1xuICAgICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFdmVyeXRoaW5nIGJlbG93IGhlcmUgaXMgb25seSBuZWVkZWQgaWYgdGhlIHNoZWV0IGlzIGVkaXRhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbC5maW5kKCcuc2hvdy1kZXRhaWwnKS5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1TdW1tYXJ5KGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJy5pdGVtLXBvcHVwJykuY2xpY2sodGhpcy5fb25JdGVtUG9wdXAuYmluZCh0aGlzKSlcblxuICAgIC8vIFVwZGF0ZSBJbnZlbnRvcnkgSXRlbVxuICAgIGh0bWwuZmluZCgnLnNob3ctZGV0YWlsJykuZGJsY2xpY2soZXZlbnQgPT4gdGhpcy5fb25SZW5kZXJJdGVtU2hlZXQoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnLml0ZW0tZWRpdCcpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uUmVuZGVySXRlbVNoZWV0KGV2ZW50KSlcblxuICAgIC8vIERlbGV0ZSBJbnZlbnRvcnkgSXRlbVxuICAgIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2soYXN5bmMgZXYgPT4ge1xuICAgICAgY29uc3QgbGkgPSAkKGV2LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGxpLmRhdGEoJ2l0ZW1JZCcpLCB7XG4gICAgICAgIHN0cmljdDogdHJ1ZVxuICAgICAgfSlcbiAgICAgIGF3YWl0IGl0ZW1Ub0RlbGV0ZS5kZWxldGUoKVxuICAgICAgbGkuc2xpZGVVcCgyMDAsICgpID0+IHRoaXMucmVuZGVyKGZhbHNlKSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuYWRkLWl0ZW0nKS5jbGljayhldiA9PiB7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgc3dpdGNoIChldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZSkge1xuICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5Qm9vayhldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5SXRlbShldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgICAgdGhpcy5hY3Rvci5jcmVhdGVFbXB0eVNraWxsKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3NwZWxsJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5U3BlbGwoZXYpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge31cbiAgICAgICAgICAgIGlmIChldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubWVsZWUpIHtcbiAgICAgICAgICAgICAgcHJvcGVydGllcy5tZWxlZSA9IHRydWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXYuY3VycmVudFRhcmdldC5kYXRhc2V0LnJuZ2QpIHtcbiAgICAgICAgICAgICAgcHJvcGVydGllcy5ybmdkID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3Rvci5jcmVhdGVFbXB0eVdlYXBvbihldiwgcHJvcGVydGllcylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gaHRtbC5maW5kKCcuY2xlYW4tc2tpbGwtbGlzdCcpLmNsaWNrKCgpID0+IHtcbiAgICAvLyAgIHRoaXMuYWN0b3IuY2xlYW5Ta2lsbHMoKVxuICAgIC8vIH0pXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtLXRyYWRlJykuY2xpY2sodGhpcy5fb25UcmFkZUl0ZW0uYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLmFkZC1uZXctc2VjdGlvbicpLmNsaWNrKCgpID0+IHtcbiAgICAgIHRoaXMuYWN0b3IuY3JlYXRlQmlvU2VjdGlvbigpXG4gICAgICB0aGlzLnJlbmRlcigpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmRlbGV0ZS1zZWN0aW9uJykuY2xpY2soZXYgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChcbiAgICAgICAgZXYuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYmlvLXNlY3Rpb24nKS5kYXRhc2V0LmluZGV4XG4gICAgICApXG4gICAgICB0aGlzLmFjdG9yLmRlbGV0ZUJpb1NlY3Rpb24oaW5kZXgpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLm1vdmUtc2VjdGlvbi11cCcpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgKVxuICAgICAgdGhpcy5hY3Rvci5tb3ZlQmlvU2VjdGlvblVwKGluZGV4KVxuICAgIH0pXG5cbiAgICBodG1sLmZpbmQoJy5tb3ZlLXNlY3Rpb24tZG93bicpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgKVxuICAgICAgdGhpcy5hY3Rvci5tb3ZlQmlvU2VjdGlvbkRvd24oaW5kZXgpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmRldmVsb3BtZW50LWZsYWcnKS5kYmxjbGljayhldiA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZFxuICAgICAgKVxuICAgICAgaXRlbS50b2dnbGVJdGVtRmxhZygnZGV2ZWxvcGVtZW50JylcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcub2NjdXBhdGlvbi1za2lsbC1mbGFnLmNsaWNrYWJsZScpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgICAgZXYuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICApXG4gICAgICBpdGVtLnRvZ2dsZUl0ZW1GbGFnKCdvY2N1cGF0aW9uJylcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuYXJjaGV0eXBlLXNraWxsLWZsYWcuY2xpY2thYmxlJykuY2xpY2soZXYgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICBldi5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgIClcbiAgICAgIGl0ZW0udG9nZ2xlSXRlbUZsYWcoJ2FyY2hldHlwZScpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLnNraWxsLWRldmVsb3BlbWVudCcpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuYWN0b3IuZGV2ZWxvcGVtZW50UGhhc2UoZXZlbnQuc2hpZnRLZXkpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmx1Y2stZGV2ZWxvcG1lbnQnKS5jbGljayhldmVudCA9PiB7XG4gICAgICBpZiAoIWV2ZW50LmRldGFpbCB8fCBldmVudC5kZXRhaWwgPT09IDEpIHtcbiAgICAgICAgdGhpcy5hY3Rvci5kZXZlbG9wTHVjayhldmVudC5zaGlmdEtleSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuY2xlYXJfY29uZGl0aW9ucycpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgZGlzYWJsZSA9IHt9XG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIGluIHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlICE9PVxuICAgICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlID09PSB0cnVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkaXNhYmxlW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbn0udmFsdWVgXSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkaXNhYmxlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5hY3Rvci51cGRhdGUoZGlzYWJsZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWZmZWN0cyA9IHRoaXMuYWN0b3IuZWZmZWN0cy5tYXAoZWZmZWN0ID0+IGVmZmVjdC5pZClcbiAgICAgIGlmIChlZmZlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5hY3Rvci5kZWxldGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgZWZmZWN0cylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoaHRtbClcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdXNlZCBmb3IgZGV2IHB1cnBvc2VzIG9ubHkgIVxuICAgICAqL1xuICAgIGh0bWwuZmluZCgnLnRlc3QtdHJpZ2dlcicpLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnaGlkZGVuZGV2bWVudScpKSByZXR1cm4gbnVsbFxuICAgICAgLy8gYXdhaXQgSXRlbS5jcmVhdGUoe1xuICAgICAgLy8gICBuYW1lOiAnX19Db0M3SW50ZXJuYWxJdGVtX18nLFxuICAgICAgLy8gICB0eXBlOiAnaXRlbSdcbiAgICAgIC8vIH0pXG4gICAgICAvLyBjb25zdCBlZmZlY3RzID0gYXdhaXQgaXRlbS5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgW1xuICAgICAgLy8gICB7XG4gICAgICAvLyAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FZmZlY3ROZXcnKSxcbiAgICAgIC8vICAgICBpY29uOiAnaWNvbnMvc3ZnL2F1cmEuc3ZnJyxcbiAgICAgIC8vICAgICBvcmlnaW46IG51bGwsXG4gICAgICAvLyAgICAgJ2R1cmF0aW9uLnJvdW5kcyc6IHVuZGVmaW5lZCxcbiAgICAgIC8vICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgLy8gICB9XG4gICAgICAvLyBdKVxuICAgICAgLy8gY29uc3QgZWZmZWN0ID0gZWZmZWN0c1swXVxuICAgICAgLy8gYXdhaXQgZWZmZWN0LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCAnZWZmZWN0IGNyZWF0ZWQgIScpXG4gICAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oJ2VmZmVjdCBjcmVhdGVkICEnKVxuICAgIH0pXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKVxuICAgICAgLm1vdXNlZW50ZXIodGhpcy50b29sVGlwU2tpbGxFbnRlci5iaW5kKHRoaXMpKVxuICAgICAgLm1vdXNlbGVhdmUoZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcExlYXZlLmJpbmQodGhpcykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5jaGFyYWN0ZXJpc3RpYy1sYWJlbCcpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBDaGFyYWN0ZXJpc3RpY0VudGVyLmJpbmQodGhpcykpXG4gICAgICAubW91c2VsZWF2ZShnYW1lLkNvQzdUb29sdGlwcy50b29sVGlwTGVhdmUuYmluZCh0aGlzKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmF0dHJpYnV0ZS1sYWJlbC5yb2xsYWJsZScpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBBdHRyaWJ1dGVFbnRlci5iaW5kKHRoaXMpKVxuICAgICAgLm1vdXNlbGVhdmUoZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcExlYXZlLmJpbmQodGhpcykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5hdXRvLXRvZ2dsZScpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBBdXRvRW50ZXIuYmluZCh0aGlzKSlcbiAgICAgIC5tb3VzZWxlYXZlKGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBMZWF2ZS5iaW5kKHRoaXMpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1jb250cm9sLmRldmVsb3BtZW50LWZsYWcnKVxuICAgICAgLm1vdXNlZW50ZXIodGhpcy50b29sVGlwRmxhZ0ZvckRldmVsb3BtZW50LmJpbmQodGhpcykpXG4gICAgICAubW91c2VsZWF2ZShnYW1lLkNvQzdUb29sdGlwcy50b29sVGlwTGVhdmUuYmluZCh0aGlzKSlcblxuICAgIC8vIEFjdGl2ZSBFZmZlY3RzXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5lZmZlY3QtY29udHJvbCcpXG4gICAgICAuY2xpY2soZXYgPT4gQ29DN0FjdGl2ZUVmZmVjdC5vbk1hbmFnZUFjdGl2ZUVmZmVjdChldiwgdGhpcy5hY3RvcikpXG4gIH1cblxuICB0b29sVGlwU2tpbGxFbnRlciAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGNvbnN0IHNoZWV0ID0gdGhpc1xuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpc0NvbWJhdCA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbGFzc0xpc3Q/LmNvbnRhaW5zKFxuICAgICAgICAgICAgJ2NvbWJhdCdcbiAgICAgICAgICApXG4gICAgICAgICAgY29uc3QgaXRlbSA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbG9zZXN0KCcuaXRlbScpXG4gICAgICAgICAgaWYgKHR5cGVvZiBpdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IGl0ZW0uZGF0YXNldC5za2lsbElkXG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHNoZWV0LmFjdG9yLml0ZW1zLmdldChza2lsbElkKVxuICAgICAgICAgICAgbGV0IHRvb2xUaXAgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICBpc0NvbWJhdCA/ICdDb0M3LlRvb2xUaXBDb21iYXQnIDogJ0NvQzcuVG9vbFRpcFNraWxsJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNraWxsOiBza2lsbC5uYW1lLFxuICAgICAgICAgICAgICAgIHJlZ3VsYXI6IHNraWxsLnZhbHVlLFxuICAgICAgICAgICAgICAgIGhhcmQ6IE1hdGguZmxvb3Ioc2tpbGwudmFsdWUgLyAyKSxcbiAgICAgICAgICAgICAgICBleHRyZW1lOiBNYXRoLmZsb29yKHNraWxsLnZhbHVlIC8gNSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgICAgIHRvb2xUaXAgPVxuICAgICAgICAgICAgICAgIHRvb2xUaXAgK1xuICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclNraWxsJywge1xuICAgICAgICAgICAgICAgICAgb3RoZXI6XG4gICAgICAgICAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3N0YW5ieUdNUm9sbHMnKSAmJlxuICAgICAgICAgICAgICAgICAgICBzaGVldC5hY3Rvci5oYXNQbGF5ZXJPd25lclxuICAgICAgICAgICAgICAgICAgICAgID8gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU3RhbmRieVNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2hlZXQuYWN0b3IubmFtZVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5kaXNwbGF5VG9vbFRpcCh0b29sVGlwKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcENoYXJhY3RlcmlzdGljRW50ZXIgKGV2ZW50KSB7XG4gICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0b29sVGlwRGVsYXknKSlcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjb25zdCBzaGVldCA9IHRoaXNcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgY2hhciA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbG9zZXN0KCcuY2hhci1ib3gnKVxuICAgICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3VuZGVmaW5lZCcgJiYgISFjaGFyKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFySWQgPSBjaGFyLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljID0gc2hlZXQuYWN0b3IuY2hhcmFjdGVyaXN0aWNzW2NoYXJJZF1cbiAgICAgICAgICAgIGxldCB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGwnLCB7XG4gICAgICAgICAgICAgIHNraWxsOiBjaGFyYWN0ZXJpc3RpYy5sYWJlbCxcbiAgICAgICAgICAgICAgcmVndWxhcjogY2hhcmFjdGVyaXN0aWMudmFsdWUgPz8gMCxcbiAgICAgICAgICAgICAgaGFyZDogY2hhcmFjdGVyaXN0aWMuaGFyZCA/PyAwLFxuICAgICAgICAgICAgICBleHRyZW1lOiBjaGFyYWN0ZXJpc3RpYy5leHRyZW1lID8/IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgICAgdG9vbFRpcCA9XG4gICAgICAgICAgICAgICAgdG9vbFRpcCArXG4gICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICBvdGhlcjpcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycpICYmXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0LmFjdG9yLmhhc1BsYXllck93bmVyXG4gICAgICAgICAgICAgICAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlRvb2xUaXBLZWVwZXJTdGFuZGJ5U2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldC5hY3Rvci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBkZWxheSlcbiAgICB9XG4gIH1cblxuICB0b29sVGlwQXR0cmlidXRlRW50ZXIgKGV2ZW50KSB7XG4gICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0b29sVGlwRGVsYXknKSlcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjb25zdCBzaGVldCA9IHRoaXNcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgYXR0cmliID0gZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyLmNsb3Nlc3QoJy5hdHRyaWJ1dGUnKVxuICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmliICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlSWQgPSBhdHRyaWIuZGF0YXNldC5hdHRyaWJcbiAgICAgICAgICAgIGxldCB0b29sVGlwID0gJydcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBzaGVldC5hY3Rvci5zeXN0ZW0uYXR0cmlic1thdHRyaWJ1dGVJZF1cbiAgICAgICAgICAgIHN3aXRjaCAoYXR0cmlidXRlSWQpIHtcbiAgICAgICAgICAgICAgY2FzZSAnbGNrJzpcbiAgICAgICAgICAgICAgICB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICBza2lsbDogYXR0cmlidXRlcy5sYWJlbCxcbiAgICAgICAgICAgICAgICAgIHJlZ3VsYXI6IGF0dHJpYnV0ZXMudmFsdWUgPz8gMCxcbiAgICAgICAgICAgICAgICAgIGhhcmQ6IE1hdGguZmxvb3IoKGF0dHJpYnV0ZXMudmFsdWUgPz8gMCkgLyAyKSxcbiAgICAgICAgICAgICAgICAgIGV4dHJlbWU6IE1hdGguZmxvb3IoKGF0dHJpYnV0ZXMudmFsdWUgPz8gMCkgLyA1KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgICAgICAgICB0b29sVGlwID1cbiAgICAgICAgICAgICAgICAgICAgdG9vbFRpcCArXG4gICAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgIG90aGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVldC5hY3Rvci5oYXNQbGF5ZXJPd25lclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclN0YW5kYnlTa2lsbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldC5hY3Rvci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlICdkYic6XG4gICAgICAgICAgICAgICAgdG9vbFRpcCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub29sVGlwREInKVxuICAgICAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgY2FzZSAnc2FuJzpcbiAgICAgICAgICAgICAgICB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2FuaXR5Jywge1xuICAgICAgICAgICAgICAgICAgc2tpbGw6ICdTYW5pdHknLFxuICAgICAgICAgICAgICAgICAgcmVndWxhcjogYXR0cmlidXRlcy52YWx1ZSA/PyAwLFxuICAgICAgICAgICAgICAgICAgaGFyZDogTWF0aC5mbG9vcigoYXR0cmlidXRlcy52YWx1ZSA/PyAwKSAvIDIpLFxuICAgICAgICAgICAgICAgICAgZXh0cmVtZTogTWF0aC5mbG9vcigoYXR0cmlidXRlcy52YWx1ZSA/PyAwKSAvIDUpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xUaXAgPVxuICAgICAgICAgICAgICAgICAgICB0b29sVGlwICtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgb3RoZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG9vbFRpcEtlZXBlclNhbml0eScpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzdGFuYnlHTVJvbGxzJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWV0LmFjdG9yLmhhc1BsYXllck93bmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU3RhbmRieVNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNoZWV0LmFjdG9yLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcEF1dG9FbnRlciAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgdG9vbFRpcCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub29sVGlwQXV0b1RvZ2dsZScpXG4gICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcEZsYWdGb3JEZXZlbG9wbWVudCAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGNvbnN0IHNoZWV0ID0gdGhpc1xuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyLmNsb3Nlc3QoJy5pdGVtJylcbiAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbElkID0gaXRlbS5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICAgIGNvbnN0IHNraWxsID0gc2hlZXQuYWN0b3IuaXRlbXMuZ2V0KHNraWxsSWQpXG4gICAgICAgICAgICBjb25zdCB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGxGbGFnVG9nZ2xlJywge1xuICAgICAgICAgICAgICBzdGF0dXM6IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBza2lsbC5zeXN0ZW0uZmxhZ3MuZGV2ZWxvcGVtZW50XG4gICAgICAgICAgICAgICAgICA/ICdDb0M3LlRvb2xUaXBTa2lsbEZsYWdnZWQnXG4gICAgICAgICAgICAgICAgICA6ICdDb0M3LlRvb2xUaXBTa2lsbFVuZmxhZ2dlZCdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBkZWxheSlcbiAgICB9XG4gIH1cblxuICBfb25Db250ZXh0TWVudUNsaWNrIChldmVudCwgdGFyZ2V0KSB7XG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IHRhcmdldC5kYXRhc2V0Py50YXJnZXRUeXBlXG4gICAgY29uc3Qgcm9sbE9wdGlvbnMgPSB7XG4gICAgICBwcmV2ZW50U3RhbmRieTogdHJ1ZSxcbiAgICAgIGZhc3RGb3J3YXJkOiBmYWxzZSxcbiAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgfVxuICAgIHN3aXRjaCAodGFyZ2V0VHlwZSkge1xuICAgICAgY2FzZSAoJ3NraWxsJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTFxuICAgICAgICByb2xsT3B0aW9ucy5za2lsbElkID0gdGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJyk/LmRhdGFzZXQuc2tpbGxJZFxuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnY2hhcmFjdGVyaXN0aWMnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDXG4gICAgICAgIHJvbGxPcHRpb25zLmNoYXJhY3RlcmlzdGljID0gdGFyZ2V0LmNsb3Nlc3QoJy5jaGFyLWJveCcpLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAoJ2F0dHJpYnV0ZScpOlxuICAgICAgICByb2xsT3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFXG4gICAgICAgIHJvbGxPcHRpb25zLmF0dHJpYnV0ZSA9IHRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWJcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uKSB7XG4gICAgICBjYXNlICgncm9sbCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnb3Bwb3NlZC1yb2xsJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VEXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnY29tYmluZWQtcm9sbCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfQ09NQklORURcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdyZXF1ZXN0LXJvbGwnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTFxuICAgICAgICByb2xsT3B0aW9ucy5wcmV2ZW50U3RhbmRieSA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnbGluay10b29sJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT05FXG4gICAgICAgIHJvbGxPcHRpb25zLm9wZW5MaW5rVG9vbCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdzZW5kLWNoYXQnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuc2VuZFRvQ2hhdCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdjb3B5LXRvLWNsaXBib2FyZCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9ORVxuICAgICAgICByb2xsT3B0aW9ucy5zZW5kVG9DbGlwYm9hcmQgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnbGluay1lbmNvdW50ZXInKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuY3JlYXRlRW5jb3VudGVyID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAoJ2VuY291bnRlcicpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfU0FOX0NIRUNLXG4gICAgICAgIHJvbGxPcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEVcbiAgICAgICAgcm9sbE9wdGlvbnMuZmFzdEZvcndhcmQgPSB0cnVlXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIocm9sbE9wdGlvbnMpXG4gIH1cblxuICBfb25SZW5kZXJJdGVtU2hlZXQgKGV2ZW50KSB7XG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQobGkuZGF0YSgnaXRlbUlkJykpXG4gICAgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vblRyYWRlSXRlbSAoZXZlbnQpIHtcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtSWQnKSlcbiAgICBsZXQgY29udGVudCA9ICc8cD4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VTZWxlY3RVc2VyVG9HaXZlVG8nKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICBhY3RvckZyb206IHRoaXMuYWN0b3IuaWQsXG4gICAgICBzY2VuZTogbnVsbCxcbiAgICAgIGFjdG9yVG86IHRoaXMuYWN0b3IuaWQsXG4gICAgICBpdGVtOiBpdGVtLmlkXG4gICAgfVxuICAgIGlmICh0aGlzLnRva2VuPy5hY3Rvcikge1xuICAgICAgbWVzc2FnZS5hY3RvckZyb20gPSB0aGlzLnRva2VuLmlkXG4gICAgICBtZXNzYWdlLnNjZW5lID0gdGhpcy50b2tlbi5wYXJlbnQuaWRcbiAgICB9XG4gICAgY29uc3QgYWN0b3JzID0gZ2FtZS5hY3RvcnMuZmlsdGVyKGUgPT4ge1xuICAgICAgaWYgKCFbJ2NoYXJhY3RlcicsICducGMnLCAnY3JlYXR1cmUnLCAnY29udGFpbmVyJ10uaW5jbHVkZXMoZS50eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjdG9yLmlkID09PSBlLmlkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgbGV0IHZpc2libGUgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZS5vd25lcnNoaXApKSB7XG4gICAgICAgIGlmIChrID09PSAnZGVmYXVsdCcgfHwgayA9PT0gZ2FtZS51c2VyLmlkKSB7XG4gICAgICAgICAgdmlzaWJsZSA9IHZpc2libGUgfHwgdiAhPT0gQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5OT05FXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2aXNpYmxlXG4gICAgfSlcbiAgICBjb250ZW50ID0gY29udGVudCArICc8Zm9ybSBpZD1cInNlbGVjdGZvcm1cIj48c2VsZWN0IG5hbWU9XCJ1c2VyXCI+J1xuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgYWN0b3JzKSB7XG4gICAgICBjb250ZW50ID1cbiAgICAgICAgY29udGVudCArICc8b3B0aW9uIHZhbHVlPVwiJyArIGFjdG9yLmlkICsgJ1wiPicgKyBhY3Rvci5uYW1lICsgJzwvb3B0aW9uPidcbiAgICB9XG4gICAgY29udGVudCA9IGNvbnRlbnQgKyAnPC9zZWxlY3Q+PC9mb3JtPjwvcD4nXG4gICAgbWVzc2FnZS5hY3RvclRvID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBkbGcgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NZXNzYWdlVGl0bGVTZWxlY3RVc2VyVG9HaXZlVG8nKSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVmFsaWRhdGUnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoXG4gICAgICAgICAgICAgICAgaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2VsZWN0Zm9ybScpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiAnY29uZmlybScsXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7fVxuICAgICAgfSlcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICAgIGF3YWl0IGdhbWUuQ29DN3NvY2tldC5leGVjdXRlQXNHTSgnZ210cmFkZWl0ZW10bycsIG1lc3NhZ2UpXG4gIH1cblxuICBfb25EcmFnU3RhcnQgKGV2ZW50KSB7XG4gICAgc3VwZXIuX29uRHJhZ1N0YXJ0KGV2ZW50KVxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICBjb25zdCBkcmFnRGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSlcbiAgICAgIGRyYWdEYXRhLnRva2VuVXVpZCA9IHRoaXMudG9rZW4udXVpZFxuICAgICAgZHJhZ0RhdGEudG9rZW5JZCA9IHRoaXMudG9rZW4uaWRcbiAgICAgIGRyYWdEYXRhLnNjZW5lSWQgPSB0aGlzLnRva2VuLnBhcmVudC5pZFxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkcmFnRGF0YSkpXG4gICAgfVxuICB9XG5cbiAgX29uRHJhZ0NoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IGJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBDb0M3VHlwZTogJ2xpbmsnLFxuICAgICAgbGlua1R5cGU6ICdjaGFyYWN0ZXJpc3RpYycsXG4gICAgICBjaGVjazogJ2NoZWNrJyxcbiAgICAgIHR5cGU6ICdDb0M3TGluaycsXG4gICAgICBoYXNQbGF5ZXJPd25lcjogdGhpcy5hY3Rvci5oYXNQbGF5ZXJPd25lcixcbiAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdG9yLmFjdG9yS2V5LFxuICAgICAgbmFtZTogYm94LmRhdGFzZXQuY2hhcmFjdGVyaXN0aWMsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgZG9jdW1lbnQ6IHtcbiAgICAgICAgdHlwZTogdGhpcy5kb2N1bWVudC50eXBlLFxuICAgICAgICB1dWlkOiB0aGlzLmRvY3VtZW50LnV1aWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gIH1cblxuICBfb25EcmFnQXR0cmlidXRlIChldmVudCkge1xuICAgIGNvbnN0IGJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBDb0M3VHlwZTogJ2xpbmsnLFxuICAgICAgbGlua1R5cGU6ICdhdHRyaWJ1dGUnLFxuICAgICAgY2hlY2s6ICdjaGVjaycsXG4gICAgICB0eXBlOiAnQ29DN0xpbmsnLFxuICAgICAgaGFzUGxheWVyT3duZXI6IHRoaXMuYWN0b3IuaGFzUGxheWVyT3duZXIsXG4gICAgICBhY3RvcktleTogdGhpcy5hY3Rvci5hY3RvcktleSxcbiAgICAgIG5hbWU6IGJveC5kYXRhc2V0LmF0dHJpYixcbiAgICAgIGljb246IG51bGwsXG4gICAgICBkb2N1bWVudDoge1xuICAgICAgICB0eXBlOiB0aGlzLmRvY3VtZW50LnR5cGUsXG4gICAgICAgIHV1aWQ6IHRoaXMuZG9jdW1lbnQudXVpZFxuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgfVxuXG4gIF9vbkRyYWdTYW5DaGVjayAoZXZlbnQpIHtcbiAgICBjb25zdCBzYW5NaW4gPSBldmVudC5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5zYW4tdmFsdWUucGFzcycpXG4gICAgY29uc3Qgc2FuTWF4ID0gZXZlbnQuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCcuc2FuLXZhbHVlLmZhaWxlZCcpXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIENvQzdUeXBlOiAnbGluaycsXG4gICAgICBsaW5rVHlwZTogJ2NvYzctbGluaycsXG4gICAgICBjaGVjazogJ3Nhbmxvc3MnLFxuICAgICAgaGFzUGxheWVyT3duZXI6IHRoaXMuYWN0b3IuaGFzUGxheWVyT3duZXIsXG4gICAgICBhY3RvcktleTogdGhpcy5hY3Rvci5hY3RvcktleSxcbiAgICAgIHNhbk1pbjogc2FuTWluLmlubmVyVGV4dCxcbiAgICAgIHNhbk1heDogc2FuTWF4LmlubmVyVGV4dCxcbiAgICAgIGljb246IG51bGwsXG4gICAgICBkb2N1bWVudDoge1xuICAgICAgICB0eXBlOiB0aGlzLmRvY3VtZW50LnR5cGUsXG4gICAgICAgIHV1aWQ6IHRoaXMuZG9jdW1lbnQudXVpZFxuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50KSB7XG4gICAgY29uc3QgZGF0YVN0cmluZyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICBpZiAoZGF0YVN0cmluZyA9PT0gJycpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKVxuICAgIGlmIChkYXRhLnR5cGUgPT09ICdDb0M3TGluaycpIHtcbiAgICAgIGlmIChkYXRhLmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayh0aGlzLmFjdG9yLCBkYXRhKVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBzdXBlci5fb25Ecm9wKGV2ZW50KVxuICB9XG5cbiAgYXN5bmMgX29uQ29uZGl0aW9uVG9nZ2xlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNvbmRpdGlvbikge1xuICAgICAgYXdhaXQgdGhpcy5hY3Rvci50b2dnbGVDb25kaXRpb24oZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNvbmRpdGlvbilcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXZpdmUgKCkge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgdGhpcy5hY3Rvci51bnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5kZWFkKVxuICB9XG5cbiAgYXN5bmMgaGVhbCAoKSB7XG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB0aGlzLmFjdG9yLnVuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmR5aW5nKVxuICB9XG5cbiAgYXN5bmMgY2hlY2tGb3JEZWF0aCAoZXZlbnQpIHtcbiAgICBjb25zdCBjb25DaGVjayA9IG5ldyBDb0M3Q29uQ2hlY2soXG4gICAgICB0aGlzLmFjdG9yLmlzVG9rZW4gPyB0aGlzLmFjdG9yLnRva2VuS2V5IDogdGhpcy5hY3Rvci5pZFxuICAgIClcbiAgICBjb25DaGVjay5zdGF5QWxpdmUgPSB0cnVlXG4gICAgY29uQ2hlY2sudG9NZXNzYWdlKGV2ZW50LnNoaWZ0S2V5KVxuICB9XG5cbiAgYXN5bmMgX29uRHJhZ1Rva2VuU3RhcnQgKGV2ZW50KSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHR5cGU6ICdUb2tlbicsXG4gICAgICB1dWlkOiB0aGlzLnRva2VuLnV1aWRcbiAgICB9XG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgYXN5bmMgX29uUmVzZXRDb3VudGVyIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnJlc2V0RGFpbHlTYW5pdHkoKVxuICB9XG5cbiAgYXN5bmMgX29uQXV0b1RvZ2dsZSAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykpIHtcbiAgICAgIGNvbnN0IGF0dHJpYiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmF0dHJpYnV0ZScpLmRhdGFzZXQuYXR0cmliXG4gICAgICB0aGlzLmFjdG9yLnRvZ2dsZUF0dHJpYkF1dG8oYXR0cmliKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vblRvZ2dsZSAoZXZlbnQpIHtcbiAgICBjb25zdCB3ZWFwb24gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZFxuICAgIClcbiAgICBpZiAod2VhcG9uKSB7XG4gICAgICB3ZWFwb24udG9nZ2xlUHJvcGVydHkoXG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wcm9wZXJ0eSxcbiAgICAgICAgaXNDdHJsS2V5KGV2ZW50KVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8vIHJvbGwgdGhlIGFjdG9yIGNoYXJhY3RlcmlzdGljIGZyb20gZm9ybXVsYSB3aGVuIHBvc3NpYmxlLlxuICBhc3luYyBfb25Sb2xsQ2hhcmFjdGVyaXRpY3NWYWx1ZSAoKSB7XG4gICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQ2hhcmFjdGVyaXN0aWNzVmFsdWUoKVxuICB9XG5cbiAgYXN5bmMgX29uQXZlcmFnZUNoYXJhY3Rlcml0aWNzVmFsdWUgKCkge1xuICAgIHRoaXMuYWN0b3IuYXZlcmFnZUNoYXJhY3RlcmlzdGljc1ZhbHVlKClcbiAgfVxuXG4gIGFzeW5jIF9vbkxvY2tDbGlja2VkIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBpc0xvY2tlZCA9IHRoaXMuYWN0b3IubG9ja2VkXG4gICAgdGhpcy5hY3Rvci5sb2NrZWQgPSAhaXNMb2NrZWRcbiAgICBIb29rcy5jYWxsKCdhY3RvckxvY2tDbGlja2VkQ29DNycsIFshaXNMb2NrZWRdKVxuICB9XG5cbiAgYXN5bmMgX29uRmxhZ0NsaWNrZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGZsYWdOYW1lID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWdcbiAgICB0aGlzLmFjdG9yLnRvZ2dsZUFjdG9yRmxhZyhmbGFnTmFtZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkZvcm11bGFDbGlja2VkIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmFjdG9yLnRvZ2dsZUFjdG9yRmxhZygnZGlzcGxheUZvcm11bGEnKVxuICB9XG5cbiAgYXN5bmMgX29uV2hlZWwgKGV2ZW50KSB7XG4gICAgbGV0IHZhbHVlID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSkgfHwgbnVsbFxuICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlIC0gMVxuICAgIH1cblxuICAgIGlmIChldmVudC5kZWx0YVkgPCAwKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlICsgMVxuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5uYW1lKSB7XG4gICAgICBjYXNlICdzeXN0ZW0uYXR0cmlicy5ocC52YWx1ZSc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0SHAodmFsdWUpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0TXAodmFsdWUpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUnOlxuICAgICAgICB0aGlzLmFjdG9yLnNldFNhbih2YWx1ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N5c3RlbS5hdHRyaWJzLmxjay52YWx1ZSc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0THVjayh2YWx1ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N5c3RlbS5hdHRyaWJzLmJ1aWxkLmN1cnJlbnQnOlxuICAgICAgICB0aGlzLmFjdG9yLnNldEhwKHZhbHVlKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVSZWFkT25seSAoZXZlbnQpIHtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LnJlYWRPbmx5ID0gIWV2ZW50LmN1cnJlbnRUYXJnZXQucmVhZE9ubHlcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ3JlYWQtb25seScpXG4gIH1cblxuICBfb25JdGVtU3VtbWFyeSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQobGkuZGF0YSgnaXRlbS1pZCcpKVxuICAgIGNvbnN0IGNoYXREYXRhID0gaXRlbS5nZXRDaGF0RGF0YSh7IHNlY3JldHM6IHRoaXMuYWN0b3IuaXNPd25lciB9KVxuXG4gICAgLy8gVG9nZ2xlIHN1bW1hcnlcbiAgICBpZiAobGkuaGFzQ2xhc3MoJ2V4cGFuZGVkJykpIHtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBsaS5jaGlsZHJlbignLml0ZW0tc3VtbWFyeScpXG4gICAgICBzdW1tYXJ5LnNsaWRlVXAoMjAwLCAoKSA9PiB7XG4gICAgICAgIHN1bW1hcnkucmVtb3ZlKClcbiAgICAgICAgbGkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpdiA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXN1bW1hcnlcIj48L2Rpdj4nKVxuXG4gICAgICBjb25zdCBsYWJlbHMgPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbS1sYWJlbHNcIj48L2Rpdj4nKVxuICAgICAgZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLmxhYmVscykge1xuICAgICAgICBsYWJlbHMuYXBwZW5kKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaXRlbS1sYWJlbFwiPjxzcGFuIGNsYXNzPVwibGFiZWwtbmFtZVwiPiR7cC5uYW1lfSA6PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWwtdmFsdWVcIj4ke3AudmFsdWV9PC9zcGFuPjwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgZGl2LmFwcGVuZChsYWJlbHMpXG5cbiAgICAgIGRpdi5hcHBlbmQoXG4gICAgICAgICQoYDxkaXYgY2xhc3M9XCJpdGVtLWRlc2NyaXB0aW9uXCI+JHtjaGF0RGF0YS5kZXNjcmlwdGlvbi52YWx1ZX08L2Rpdj5gKVxuICAgICAgKVxuXG4gICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uc3BjbCkge1xuICAgICAgICBjb25zdCBzcGVjaWFsRGl2ID0gJChcbiAgICAgICAgICBgPGRpdiBjbGFzcz1cIml0ZW0tc3BlY2lhbFwiPiR7Y2hhdERhdGEuZGVzY3JpcHRpb24uc3BlY2lhbH08L2Rpdj5gXG4gICAgICAgIClcbiAgICAgICAgZGl2LmFwcGVuZChzcGVjaWFsRGl2KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9wcyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXByb3BlcnRpZXNcIj48L2Rpdj4nKVxuICAgICAgZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLnByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcHMuYXBwZW5kKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwidGFnIGl0ZW0tcHJvcGVydHlcIj4ke2dhbWUuaTE4bi5sb2NhbGl6ZShwKX08L2Rpdj5gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGRpdi5hcHBlbmQocHJvcHMpXG5cbiAgICAgIGxpLmFwcGVuZChkaXYuaGlkZSgpKVxuICAgICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoZGl2KVxuICAgICAgZGl2LnNsaWRlRG93bigyMDAsICgpID0+IGxpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpKVxuICAgIH1cbiAgICAvLyAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpO1xuICB9XG5cbiAgYXN5bmMgX29uU2VjdGlvbkhlYWRlciAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gbGV0IHNlY3Rpb24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJ3NlY3Rpb24nKSxcbiAgICAvLyAgcGFubmVsQ2xhc3MgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3Bhbm5lbCcpLFxuICAgIC8vICBwYW5uZWwgPSBzZWN0aW9uLmZpbmQoIGAuJHtwYW5uZWxDbGFzc31gKTtcbiAgICAvLyBwYW5uZWwudG9nZ2xlKCk7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnc2VjdGlvbicpXG4gICAgY29uc3QgcGFubmVsQ2xhc3MgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucGFubmVsXG4gICAgaWYgKHR5cGVvZiBwYW5uZWxDbGFzcyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIGNvbnN0IHBhbm5lbCA9ICQoc2VjdGlvbikuZmluZChgLnBhbm5lbC4ke3Bhbm5lbENsYXNzfWApXG5cbiAgICAvLyBwYW5uZWwudG9nZ2xlKCk7XG4gICAgaWYgKHBhbm5lbC5oYXNDbGFzcygnZXhwYW5kZWQnKSkge1xuICAgICAgLy8gQ291bGQgcmVtb3ZlIGV4cGFuZGVkIGNsYXNzIGFuZCB1c2UgKHBhbm5lbC5pcygnOnZpc2libGUnKSlcbiAgICAgIHBhbm5lbC5zbGlkZVVwKDIwMCwgKCkgPT4gcGFubmVsLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpKVxuICAgIH0gZWxzZSB7XG4gICAgICBwYW5uZWwuc2xpZGVEb3duKDIwMCwgKCkgPT4gcGFubmVsLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpKVxuICAgIH1cblxuICAgIGNvbnN0IGNhbWVsRmxhZyA9IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoYGRhdGEucGFubmVsLiR7cGFubmVsQ2xhc3N9LmV4cGFuZGVkYClcblxuICAgIHRoaXMuYWN0b3IudXBkYXRlKFxuICAgICAgeyBbY2FtZWxGbGFnXTogIXBhbm5lbC5oYXNDbGFzcygnZXhwYW5kZWQnKSB9LFxuICAgICAgeyByZW5kZXI6IGZhbHNlIH0pXG4gIH1cblxuICBfb25JbnZlbnRvcnlIZWFkZXIgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGxpID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5zaWJsaW5ncygnbGknKVxuICAgIGlmIChsaS5pcygnOnZpc2libGUnKSkgbGkuc2xpZGVVcCgyMDApXG4gICAgZWxzZSBsaS5zbGlkZURvd24oMjAwKVxuICB9XG5cbiAgX29uSXRlbUhlYWRlciAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3Qgb2wgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLm5leHQoJ29sJylcbiAgICBpZiAob2wuaXMoJzp2aXNpYmxlJykpIG9sLnNsaWRlVXAoMjAwKVxuICAgIGVsc2Ugb2wuc2xpZGVEb3duKDIwMClcbiAgfVxuXG4gIGFzeW5jIF9vbkl0ZW1Qb3B1cCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQobGkuZGF0YSgnaXRlbS1pZCcpKVxuXG4gICAgQ29DN0FjdG9yU2hlZXQucG9wdXBTa2lsbChpdGVtKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHBvcHVwU2tpbGwgKHNraWxsKSB7XG4gICAgc2tpbGwuc3lzdGVtLmRlc2NyaXB0aW9uLmVucmljaGVkVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBza2lsbC5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7IGFzeW5jOiBmYWxzZSB9XG4gICAgKVxuICAgIC8vIGdhbWUuQ29DNy5lbnJpY2hlciggc2tpbGwuZGF0YS5kYXRhLmRlc2NyaXB0aW9uLmVucmljaGVkVmFsdWUpO1xuICAgIGNvbnN0IGRsZyA9IG5ldyBEaWFsb2coXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2tpbGxEZXRhaWxzV2luZG93JyksXG4gICAgICAgIGNvbnRlbnQ6IHNraWxsLFxuICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgY2xvc2U6ICgpID0+IHt9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnc2tpbGwnXSxcbiAgICAgICAgd2lkdGg6IDUyMCxcbiAgICAgICAgaGVpZ2h0OiA0ODAsXG4gICAgICAgIHNjcm9sbFk6IFsnLml0ZW0tZGVzY3JpcHRpb24nXSxcbiAgICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2tpbGwtZGV0YWlscy5odG1sJ1xuICAgICAgfVxuICAgIClcbiAgICBkbGcucmVuZGVyKHRydWUpXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHJvbGxpbmcgb2YgYW4gaXRlbSBmcm9tIHRoZSBBY3RvciBzaGVldCwgb2J0YWluaW5nIHRoZSBJdGVtIGluc3RhbmNlIGFuZCBkaXNwYXRjaGluZyB0byBpdCdzIHJvbGwgbWV0aG9kXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3luYyBfb25JdGVtUm9sbCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gY29uc3QgaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xuICAgIC8vIGNvbnN0IGFjdG9ySWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKS5kYXRhc2V0LmFjdG9ySWQ7XG4gICAgLy8gY29uc3QgdG9rZW5LZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKS5kYXRhc2V0LnRva2VuSWQ7XG4gICAgLy8gbGV0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpO1xuXG4gICAgLy8gY2hlY2suYWN0b3IgPSAhdG9rZW5LZXkgPyBhY3RvcklkIDogdG9rZW5LZXk7XG4gICAgLy8gY2hlY2suaXRlbSA9IGl0ZW1JZDtcbiAgICAvLyBjaGVjay5yb2xsKCk7XG4gICAgLy8gY2hlY2sudG9NZXNzYWdlKCk7XG4gIH1cblxuICBhc3luYyBfb25FZmZlY3QgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGVmZmVjdElkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdsaScpLmRhdGFzZXQuZWZmZWN0SWRcbiAgICBjb25zdCBlZmZlY3QgPSB0aGlzLmFjdG9yLmVmZmVjdHMuZ2V0KGVmZmVjdElkKVxuICAgIGlmIChpc0N0cmxLZXkoZXZlbnQpICYmIGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBDb0M3Q29udGVudExpbmtEaWFsb2cuY3JlYXRlKHsgdHlwZTogJ0NvQzdMaW5rJywgY2hlY2s6IENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNULCBvYmplY3Q6IGVmZmVjdCB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbldlYXBvblJvbGwgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGl0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnbGknKS5kYXRhc2V0Lml0ZW1JZFxuICAgIGNvbnN0IGZhc3RGb3J3YXJkID0gZXZlbnQuc2hpZnRLZXlcbiAgICBjb25zdCB3ZWFwb24gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChpdGVtSWQpXG4gICAgLy8gY29uc3QgYWN0b3JLZXkgPSAhdGhpcy50b2tlbj8gdGhpcy5hY3Rvci5hY3RvcktleSA6IGAke3RoaXMudG9rZW4uc2NlbmU/Ll9pZD90aGlzLnRva2VuLnNjZW5lLl9pZDonVE9LRU4nfS4ke3RoaXMudG9rZW4uZGF0YS5faWR9YDsgLy9SRUZBQ1RPUklORyAoMilcbiAgICAvKiogKiBNT0RJRiAwLjgueCAqKiovXG4gICAgbGV0IGFjdG9yS2V5XG4gICAgaWYgKCF0aGlzLnRva2VuKSBhY3RvcktleSA9IHRoaXMuYWN0b3IuaWRcbiAgICAvLyBTaGVldCB3YXMgb3BlbmVkIGZyb20gYWN0b3IgZGlyZWN0b3J5XG4gICAgZWxzZSB7XG4gICAgICAvLyBPcGVuZWQgZnJvbSB0b2tlblxuICAgICAgaWYgKHRoaXMuYWN0b3IuaXNUb2tlbiAmJiBnYW1lLmFjdG9ycy50b2tlbnNbdGhpcy50b2tlbi5pZF0pIHtcbiAgICAgICAgYWN0b3JLZXkgPSBgVE9LRU4uJHt0aGlzLnRva2VuLmlkfWBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdG9yS2V5ID0gYCR7dGhpcy50b2tlbi5wYXJlbnQuaWR9LiR7dGhpcy50b2tlbi5pZH1gXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQ3RybEtleShldmVudCkgJiYgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGNvbnN0IGxpbmtEYXRhID0ge1xuICAgICAgICBjaGVjazogQ29DN0xpbmsuQ0hFQ0tfVFlQRS5JVEVNLFxuICAgICAgICBuYW1lOiB3ZWFwb24ubmFtZVxuICAgICAgfVxuICAgICAgQ29DN0NvbnRlbnRMaW5rRGlhbG9nLmNyZWF0ZShsaW5rRGF0YSwgeyBhY3RvcnM6IFt0aGlzLmFjdG9yXSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJvY2VlZFdpdGhvdXRUYXJnZXRcbiAgICAgIGlmIChnYW1lLnVzZXIudGFyZ2V0cy5zaXplIDw9IDApIHtcbiAgICAgICAgcHJvY2VlZFdpdGhvdXRUYXJnZXQgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgdGl0bGU6ICcgJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTm9UYXJnZXRTZWxlY3RlZCcsIHtcbiAgICAgICAgICAgICAgd2VhcG9uOiB3ZWFwb24ubmFtZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2FuY2VsJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcHJvY2VlZDoge1xuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHJvY2VlZCcpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjYW5jZWwnLFxuICAgICAgICAgICAgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZyddXG4gICAgICAgICAgfVxuICAgICAgICAgIG5ldyBEaWFsb2coZGF0YSkucmVuZGVyKHRydWUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZiAoZ2FtZS51c2VyLnRhcmdldHMuc2l6ZSA+IDAgfHwgcHJvY2VlZFdpdGhvdXRUYXJnZXQpIHtcbiAgICAgICAgaWYgKCF3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgICAgIGlmIChnYW1lLnVzZXIudGFyZ2V0cy5zaXplID4gMSkge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuVG9vTWFueVRhcmdldCcpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ29DN01lbGVlSW5pdGlhdG9yKGFjdG9yS2V5LCBpdGVtSWQsIGZhc3RGb3J3YXJkKVxuICAgICAgICAgIGNhcmQuY3JlYXRlQ2hhdENhcmQoKVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ29DN1JhbmdlSW5pdGlhdG9yKGFjdG9yS2V5LCBpdGVtSWQsIGZhc3RGb3J3YXJkKVxuICAgICAgICAgIGNhcmQuY3JlYXRlQ2hhdENhcmQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uUmVsb2FkV2VhcG9uIChldmVudCkge1xuICAgIGNvbnN0IGl0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgICAgPyBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgIDogbnVsbFxuICAgIGlmICghaXRlbUlkKSByZXR1cm5cbiAgICBjb25zdCB3ZWFwb24gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChpdGVtSWQpXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSBhd2FpdCB3ZWFwb24ucmVsb2FkKClcbiAgICAgIGVsc2UgYXdhaXQgd2VhcG9uLmFkZEJ1bGxldCgpXG4gICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSkgYXdhaXQgd2VhcG9uLnNldEJ1bGxldHMoMClcbiAgICAgIGVsc2UgYXdhaXQgd2VhcG9uLnNob290QnVsbGV0cygxKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkFkZEFtbyAoZXZlbnQpIHtcbiAgICBjb25zdCBpdGVtSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICAgID8gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICA6IG51bGxcbiAgICBpZiAoIWl0ZW1JZCkgcmV0dXJuXG4gICAgY29uc3Qgd2VhcG9uID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoaXRlbUlkKVxuICAgIGF3YWl0IHdlYXBvbi5hZGRCdWxsZXQoKVxuICB9XG5cbiAgYXN5bmMgX29uV2VhcG9uU2tpbGxSb2xsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBza2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICBjb25zdCBhY3RvcklkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdmb3JtJykuZGF0YXNldC5hY3RvcklkXG4gICAgY29uc3QgdG9rZW5LZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKS5kYXRhc2V0LnRva2VuSWRcbiAgICBjb25zdCBpdGVtSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2xpJylcbiAgICAgID8gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdsaScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICA6IG51bGxcblxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG5cbiAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKClcbiAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSB1c2FnZS5nZXQoJ2JvbnVzRGljZScpXG4gICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSB1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKVxuICAgICAgICBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnZmxhdERpY2VNb2RpZmllcicpKVxuICAgICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0VGhyZXNob2xkTW9kaWZpZXInKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVjay5hY3RvciA9ICF0b2tlbktleSA/IGFjdG9ySWQgOiB0b2tlbktleVxuICAgIGNoZWNrLnNraWxsID0gc2tpbGxJZFxuICAgIGNoZWNrLml0ZW0gPSBpdGVtSWRcbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICBjaGVjay50b01lc3NhZ2UoKVxuXG4gICAgLy8gSEFDSzoganVzdCB0byBwb3AgdGhlIGFkdmFuY2VkIHJvbGwgd2luZG93XG4gICAgLy8gY2hlY2suaXRlbS5yb2xsKCk7XG4gIH1cblxuICBhc3luYyBfb25XZWFwb25EYW1hZ2UgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGl0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLndlYXBvbicpLmRhdGFzZXQuaXRlbUlkXG4gICAgY29uc3QgcmFuZ2UgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy53ZWFwb24tZGFtYWdlJykuZGF0YXNldC5yYW5nZVxuICAgIGNvbnN0IGRhbWFnZUNoYXRDYXJkID0gbmV3IERhbWFnZUNhcmQoe1xuICAgICAgZmFzdEZvcndhcmQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgcmFuZ2VcbiAgICB9KVxuICAgIGRhbWFnZUNoYXRDYXJkLmFjdG9yS2V5ID0gdGhpcy5hY3Rvci50b2tlbktleVxuICAgIGRhbWFnZUNoYXRDYXJkLml0ZW1JZCA9IGl0ZW1JZFxuICAgIGRhbWFnZUNoYXRDYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAvLyBjb25zb2xlLmxvZyggJ1dlYXBvbiBkYW1hZ2UgQ2xpY2tlZCcpO1xuICB9XG5cbiAgYXN5bmMgX29uT3Bwb3NlZFJvbGwgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmF0dHJpYiA9PT0gJ2RiJykgcmV0dXJuXG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcm9sbFR5cGU6IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEwsXG4gICAgICBjYXJkVHlwZTogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VELFxuICAgICAgZXZlbnQsXG4gICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgIH1cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoYXJhY3RlcmlzdGljLWxhYmVsJykpIHtcbiAgICAgIGRhdGEucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDXG4gICAgfSBlbHNlIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYXR0cmlidXRlLWxhYmVsJykpIHtcbiAgICAgIGRhdGEucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURVxuICAgIH1cblxuICAgIGlmIChldmVudC5hbHRLZXkpIHtcbiAgICAgIGRhdGEuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX0NPTUJJTkVEXG4gICAgfVxuXG4gICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoZGF0YSlcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcm9sbGluZyBhIFNraWxsIGNoZWNrXG4gICAqIEAgIHBhcmFtIHtFdmVudH0gZXZlbnQgICBUaGUgb3JpZ2luYXRpbmcgY2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9vblJvbGxDaGFyYWN0ZXJpdGljVGVzdCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGFnZ2VkNGRldicpKSByZXR1cm5cbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlQ29udGV4dE1lbnVzJykpIHtcbiAgICAgIENvQzdDaGF0TWVzc2FnZS50cmlnZ2VyKHtcbiAgICAgICAgcm9sbFR5cGU6IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMsXG4gICAgICAgIGNhcmRUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTCxcbiAgICAgICAgcHJldmVudFN0YW5kYnk6IHRydWUsXG4gICAgICAgIGZhc3RGb3J3YXJkOiB0cnVlLFxuICAgICAgICBjaGFyYWN0ZXJpc3RpYzogZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhci1ib3gnKS5kYXRhc2V0LmNoYXJhY3RlcmlzdGljLFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoe1xuICAgICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQyxcbiAgICAgICAgY2FyZFR5cGU6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBldmVudCxcbiAgICAgICAgYWN0b3I6IHRoaXMuYWN0b3JcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uUm9sbEF0dHJpYlRlc3QgKGV2ZW50KSB7XG4gICAgLy8gRkxBVE1PRElGSUVSXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGF0dHJpYiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmF0dHJpYlxuICAgIGlmIChhdHRyaWIgPT09ICdkYicpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIS9eLXswLDF9XFxkKyQvLnRlc3QoXG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucm9sbEZvcm11bGFcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUm9sbChcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5yb2xsRm9ybXVsYVxuICAgICAgICApXG4gICAgICAgIGF3YWl0IHIucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgIGlmICghaXNOYU4oci50b3RhbCkgJiYgIShyLnRvdGFsID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgci50b01lc3NhZ2Uoe1xuICAgICAgICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpLFxuICAgICAgICAgICAgZmxhdm9yOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQm9udXNEYW1hZ2VSb2xsJylcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlQ29udGV4dE1lbnVzJykpIHtcbiAgICAgIENvQzdDaGF0TWVzc2FnZS50cmlnZ2VyKHtcbiAgICAgICAgcm9sbFR5cGU6IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMsXG4gICAgICAgIGNhcmRUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTCxcbiAgICAgICAgcHJldmVudFN0YW5kYnk6IHRydWUsXG4gICAgICAgIGZhc3RGb3J3YXJkOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGU6IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmF0dHJpYnV0ZScpLmRhdGFzZXQuYXR0cmliLFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoe1xuICAgICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEUsXG4gICAgICAgIGNhcmRUeXBlOlxuICAgICAgICBldmVudC5hbHRLZXkgJiYgYXR0cmliID09PSAnc2FuJ1xuICAgICAgICAgID8gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0tcbiAgICAgICAgICA6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBldmVudCxcbiAgICAgICAgYWN0b3I6IHRoaXMuYWN0b3JcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByb2xsaW5nIGEgU2tpbGwgY2hlY2tcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgICBUaGUgb3JpZ2luYXRpbmcgY2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vblJvbGxTa2lsbFRlc3QgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZmxhZ2dlZDRkZXYnKSkgcmV0dXJuXG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3VzZUNvbnRleHRNZW51cycpKSB7XG4gICAgICBDb0M3Q2hhdE1lc3NhZ2UudHJpZ2dlcih7XG4gICAgICAgIHJvbGxUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMLFxuICAgICAgICBjYXJkVHlwZTogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUwsXG4gICAgICAgIHByZXZlbnRTdGFuZGJ5OiB0cnVlLFxuICAgICAgICBmYXN0Rm9yd2FyZDogdHJ1ZSxcbiAgICAgICAgc2tpbGxJZDogZXZlbnQ/LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKT8uZGF0YXNldC5za2lsbElkLFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoe1xuICAgICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCxcbiAgICAgICAgY2FyZFR5cGU6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBldmVudCxcbiAgICAgICAgYWN0b3I6IHRoaXMuYWN0b3JcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICAvLyBfZ2V0U3VibWl0RGF0YSh1cGRhdGVEYXRhPXt9KSB7XG5cbiAgLy8gIC8vIENyZWF0ZSB0aGUgZXhwYW5kZWQgdXBkYXRlIGRhdGEgb2JqZWN0XG4gIC8vICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YUV4dGVuZGVkKHRoaXMuZm9ybSwge2VkaXRvcnM6IHRoaXMuZWRpdG9yc30pO1xuICAvLyAgbGV0IGRhdGEgPSBmZC50b09iamVjdCgpO1xuICAvLyAgaWYgKCB1cGRhdGVEYXRhICkgZGF0YSA9IG1lcmdlT2JqZWN0KGRhdGEsIHVwZGF0ZURhdGEpO1xuICAvLyAgZWxzZSBkYXRhID0gZXhwYW5kT2JqZWN0KGRhdGEpO1xuXG4gIC8vICAvLyBIYW5kbGUgRGFtYWdlIGFycmF5XG4gIC8vICBjb25zdCBkYW1hZ2UgPSBkYXRhLmRhdGE/LmRhbWFnZTtcbiAgLy8gIGlmICggZGFtYWdlICkgZGFtYWdlLnBhcnRzID0gT2JqZWN0LnZhbHVlcyhkYW1hZ2U/LnBhcnRzIHx8IHt9KS5tYXAoZCA9PiBbZFswXSB8fCAnJywgZFsxXSB8fCAnJ10pO1xuXG4gIC8vICAvLyBSZXR1cm4gdGhlIGZsYXR0ZW5lZCBzdWJtaXNzaW9uIGRhdGFcbiAgLy8gIHJldHVybiBmbGF0dGVuT2JqZWN0KGRhdGEpO1xuICAvLyB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvKipcbiAgICogSW1wbGVtZW50IHRoZSBfdXBkYXRlT2JqZWN0IG1ldGhvZCBhcyByZXF1aXJlZCBieSB0aGUgcGFyZW50IGNsYXNzIHNwZWNcbiAgICogVGhpcyBkZWZpbmVzIGhvdyB0byB1cGRhdGUgdGhlIHN1YmplY3Qgb2YgdGhlIGZvcm0gd2hlbiB0aGUgZm9ybSBpcyBzdWJtaXR0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgYXN5bmMgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCdfdXBkYXRlT2JqZWN0Jyk7XG4gICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoICAgX2dldFN1Ym1pdERhdGEodXBkYXRlRGF0YT17fSkgQ2YuIHNoZWV0LmpzKDI0MylcbiAgICBjb25zdCBvdmVycmlkZXMgPSBmb3VuZHJ5LnV0aWxzLmZsYXR0ZW5PYmplY3QodGhpcy5hY3Rvci5vdmVycmlkZXMpXG4gICAgY29uc3QgbmFtZSA9IGV2ZW50Py5jdXJyZW50VGFyZ2V0Py5uYW1lXG4gICAgaWYgKG5hbWUgJiYgb3ZlcnJpZGVzICYmIG92ZXJyaWRlc1tuYW1lXSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVmZmVjdEFwcGxpZWRDYW50T3ZlcnJpZGUnLCB7IG5hbWUgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2tpbGwtYWRqdXN0bWVudCcpKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgPyBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICA6IG51bGxcblxuICAgICAgICAgICAgaWYgKCFldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAgICAgICBbZXZlbnQuY3VycmVudFRhcmdldC5uYW1lXTogbnVsbFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBpdGVtLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICBbZXZlbnQuY3VycmVudFRhcmdldC5uYW1lXTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvQ0lERmxhZy5rZXlzLmkuc2tpbGwuY3JlZGl0LXJhdGluZycpID09PSBpdGVtLm5hbWUgJiYgdHlwZW9mIHRoaXMuYWN0b3Iub2NjdXBhdGlvbj8uc3lzdGVtPy5jcmVkaXRSYXRpbmc/Lm1heCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgY29uc3QgY3JlZGl0VmFsdWUgPVxuICAgICAgICAgICAgICAgIChpdGVtLnZhbHVlIHx8IDApIC1cbiAgICAgICAgICAgICAgICAoaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2UgfHwgMClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNyZWRpdFZhbHVlID5cbiAgICAgICAgICAgICAgICAgIE51bWJlcih0aGlzLmFjdG9yLm9jY3VwYXRpb24uc3lzdGVtLmNyZWRpdFJhdGluZy5tYXgpIHx8XG4gICAgICAgICAgICAgICAgY3JlZGl0VmFsdWUgPFxuICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMuYWN0b3Iub2NjdXBhdGlvbi5zeXN0ZW0uY3JlZGl0UmF0aW5nLm1pbilcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DcmVkaXRPdXRPZlJhbmdlJywge1xuICAgICAgICAgICAgICAgICAgICBtaW46IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLm9jY3VwYXRpb24uc3lzdGVtLmNyZWRpdFJhdGluZy5taW5cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5vY2N1cGF0aW9uLnN5c3RlbS5jcmVkaXRSYXRpbmcubWF4XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhdHRyaWJ1dGUtdmFsdWUnKSkge1xuICAgICAgICAgIC8vIFRPRE8gOiBjaGVjayB3aHkgU0FOIG9ubHkgP1xuICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWUgPT09ICdzeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUnKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldFNhbihcbiAgICAgICAgICAgICAgcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSA9PT0gJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRIcChcbiAgICAgICAgICAgICAgcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RleHQtYXJlYScpKSB7XG4gICAgICAgICAgdGhpcy5hY3Rvci51cGRhdGVUZXh0QXJlYShldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiaW8tc2VjdGlvbi12YWx1ZScpKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgICAgIClcbiAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUJpb1ZhbHVlKGluZGV4LCBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiaW8tc2VjdGlvbi10aXRsZScpKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgICAgIClcbiAgICAgICAgICB0aGlzLmFjdG9yLnVwZGF0ZUJpb1RpdGxlKGluZGV4LCBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCducGMtc2tpbGwtc2NvcmUnKSkge1xuICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5za2lsbElkXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmIChza2lsbCkge1xuICAgICAgICAgICAgYXdhaXQgc2tpbGwudXBkYXRlVmFsdWUoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NraWxsLW5hbWUnKSB8fFxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpdGVtLW5hbWUnKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5za2lsbElkXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge31cbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBDb0M3SXRlbS5nZXROYW1lUGFydHNTcGVjKFxuICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgICAgIGRhdGFbJ3N5c3RlbS5za2lsbE5hbWUnXSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgICAgICAgICBkYXRhWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhWydzeXN0ZW0uc2tpbGxOYW1lJ10gPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgIGRhdGEubmFtZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKGRhdGEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGFyYWN0ZXJpc3RpYy1mb3JtdWxhJykpIHtcbiAgICAgICAgICAvLyB0ZXN0ZXIgc2kgYydlc3QgdmlkZVxuICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gT24gdGVzdGUgc2kgYydlc3QgdW5lIGZvcm11bGUgdmFsaWRlICFcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgUm9sbChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgYXdhaXQgci5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICAgIGlmIChpc05hTihyLnRvdGFsKSB8fCB0eXBlb2Ygci50b3RhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9ySW52YWxpZEZvcm11bGEnLCB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9ybURhdGFbZXZlbnQuY3VycmVudFRhcmdldC5uYW1lXSA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICAgJ0NvQzcuRXJyb3JJbnZhbGlkJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhdHRyaWJ1dGUtdmFsdWUnKSkge1xuICAgICAgICAgIC8vIHRlc3RlciBzaSBsZSBkYiByZXRvdXJuw6kgZXN0IHZhbGlkZS5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWIgPT09ICdkYidcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIE9uIHRlc3RlIHNpIGMnZXN0IHVuZSBmb3JtdWxlIHZhbGlkZSAhXG4gICAgICAgICAgICBjb25zdCByID0gbmV3IFJvbGwoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIGF3YWl0IHIucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICBpZiAoaXNOYU4oci50b3RhbCkgfHwgci50b3RhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGZvcm1EYXRhW2V2ZW50LmN1cnJlbnRUYXJnZXQubmFtZV0gPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICdDb0M3LkVycm9ySW52YWxpZCdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxlIHNraWxsIGFzc29jacOpIGEgbCdhcm1lIGEgY2hhbmfDqVxuICAgICAgICAvLyBUT0RPIDogRmFjdG9yaXNhdGlvbiBkdSBzd2l0Y2hcbiAgICAgICAgLy8gVE9ETyA6IHJlbXBsYWNlciBsZXMgc3RyaW5ncyBwYXIgZGUgY29uc3RhbnRlcyAoaXRlbS5za2lsbC5tYWluIC4uLilcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd3ZWFwb24tc2tpbGwnKSkge1xuICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICAgICAgKVxuICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0Lm9wdGlvbnNbZXZlbnQuY3VycmVudFRhcmdldC5zZWxlY3RlZEluZGV4XS52YWx1ZVxuICAgICAgICAgIClcbiAgICAgICAgICBpZiAod2VhcG9uICYmIHNraWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbCkge1xuICAgICAgICAgICAgICBjYXNlICdtYWluJzpcbiAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICdzeXN0ZW0uc2tpbGwubWFpbi5pZCc6IHNraWxsLmlkLFxuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5za2lsbC5tYWluLm5hbWUnOiBza2lsbC5uYW1lXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlICdhbHRlcm5hdGl2JzpcbiAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICdzeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCc6IHNraWxsLmlkLFxuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUnOiBza2lsbC5uYW1lXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExlIG5vbSBkZSBsJ2FybWUgYSBjaGFuZ8OpXG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnd2VhcG9uLW5hbWUnKSkge1xuICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmICh3ZWFwb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoeyBuYW1lOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGVzIGRlZ2F0cyBkZSBsJ2FybWUgb24gY2hhbmfDqXMuXG4gICAgICAgIC8vIFRPRE8gOiBGYWN0b3Jpc2F0aW9uIGR1IHN3aXRjaFxuICAgICAgICAvLyBUT0RPIDogcmVtcGxhY2VyIGxlcyBzdHJpbmdzIHBhciBkZSBjb25zdGFudGVzIChpdGVtLnJhbmdlLm5vcm1hbCAuLi4pXG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGFtYWdlLWZvcm11bGEnKSkge1xuICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmICh3ZWFwb24pIHtcbiAgICAgICAgICAgIC8vIHRlc3RlIGxhIHZhbGlkaXTDqSBkZSBsYSBmb3JtdWxlLlxuICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgUm9sbChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICBhd2FpdCByLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICAgICBpZiAoaXNOYU4oci50b3RhbCkgfHwgdHlwZW9mIHIudG90YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JVbmFibGVUb1BhcnNlRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAnc3lzdGVtLnJhbmdlLm5vcm1hbC5kYW1hZ2UnOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICBjYXNlICdsb25nJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2VhcG9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5sb25nLmRhbWFnZSc6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2V4dHJlbWUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAnc3lzdGVtLnJhbmdlLmV4dHJlbWUuZGFtYWdlJzogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgd2VhcG9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2Uubm9ybWFsLmRhbWFnZSc6IG51bGxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xvbmcnOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgd2VhcG9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2UubG9uZy5kYW1hZ2UnOiBudWxsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdleHRyZW1lJzpcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAnc3lzdGVtLnJhbmdlLmV4dHJlbWUuZGFtYWdlJzogbnVsbFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LnVwZGF0ZShmb3JtRGF0YSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBDb0M3QWN0b3JTaGVldCB9IGZyb20gJy4vYmFzZS5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuLi8uLi9hcHBzL3JvbGwtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuLi8uLi9hcHBzL2NvYzctbGluay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIGlzQ3RybEtleSB9IGZyb20gJy4uLy4uL2NoYXQvaGVscGVyLmpzJ1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q29udGV4dE1lbnUgfSBmcm9tICcuLi8uLi9jb250ZXh0LW1lbnUuanMnXG5pbXBvcnQgeyBDb0M3Q2hhdE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9hcHBzL2NvYzctY2hhdC1tZXNzYWdlLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgQWN0b3JTaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN05QQ1NoZWV0IGV4dGVuZHMgQ29DN0FjdG9yU2hlZXQge1xuICAvKipcbiAgICogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEFjdG9yIHNoZWV0XG4gICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAqL1xuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcblxuICAgIC8vIFRPRE8gOiBkbyB3ZSBuZWVkIHRoYXQgP1xuICAgIHNoZWV0RGF0YS5hbGxvd0Zvcm11bGEgPSB0cnVlXG4gICAgc2hlZXREYXRhLmRpc3BsYXlGb3JtdWxhID0gKHRoaXMuYWN0b3IuZ2V0QWN0b3JGbGFnKCdkaXNwbGF5Rm9ybXVsYScpIHx8IGZhbHNlKVxuXG4gICAgc2hlZXREYXRhLmhhc1NhbiA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSAhPT0gbnVsbFxuICAgIHNoZWV0RGF0YS5oYXNNcCA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlICE9PSBudWxsXG4gICAgc2hlZXREYXRhLmhhc0x1Y2sgPSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5sY2sudmFsdWUgIT09IG51bGxcblxuICAgIHNoZWV0RGF0YS5pc0NyZWF0dXJlID0gZmFsc2VcblxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2l0ZW0nKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICdib29rJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3NwZWxsJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICd0YWxlbnQnKSB8fFxuICAgICAgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycpKVxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3RhdHVzZXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3N0YXR1cycpIHx8XG4gICAgICAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzLmxvY2tlZFxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5V2VhcG9ucyA9IGZhbHNlXG4gICAgc2hlZXREYXRhLmhhc0ludmVudG9yeSA9XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUl0ZW1zIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVNwZWxscyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVN0YXR1c2VzIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVdlYXBvbnNcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZEJpb2dyYXBoeVBlcnNvbmFsRGVzY3JpcHRpb24gPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5LnBlcnNvbmFsRGVzY3JpcHRpb24/LnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlQ29udGV4dE1lbnVzJykpIHtcbiAgICAgIGlmICghdGhpcy5tZW51cykgdGhpcy5tZW51cyA9IFtdXG5cbiAgICAgIGNvbnN0IHNhbmxvc3NNZW51ID0ge1xuICAgICAgICBpZDogJ3Nhbi1sb3NzLXJvbGwnLFxuICAgICAgICBjbGFzc2VzOiAncm9sbC1tZW51JyxcbiAgICAgICAgc2VjdGlvbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzZXM6ICdtYWluJyxcbiAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgIHsgYWN0aW9uOiAnbGluay10b29sJywgbGFiZWw6ICdPcGVuIGluIGxpbmsgdG9vbCcgfSxcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdzZW5kLWNoYXQnLCBsYWJlbDogJ1NlbmQgdG8gY2hhdCcgfSxcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdjb3B5LXRvLWNsaXBib2FyZCcsIGxhYmVsOiAnQ29weSB0byBjbGlwLWJvYXJkJyB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuXG4gICAgICAgIF1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2FubG9zc0NvbnRleHRNZW51ID0gbmV3IENvQzdDb250ZXh0TWVudSgpXG4gICAgICBzYW5sb3NzQ29udGV4dE1lbnUuYmluZChzYW5sb3NzTWVudSwgaHRtbCwgdGhpcy5fb25TYW5Mb3NzQ29udGV4dE1lbnVDbGljay5iaW5kKHRoaXMpKVxuICAgICAgdGhpcy5tZW51cy5wdXNoKHNhbmxvc3NDb250ZXh0TWVudSlcbiAgICB9XG5cbiAgICBodG1sLmZpbmQoJy5yb2xsLXNhbicpLmNsaWNrKHRoaXMuX29uU2FuQ2hlY2suYmluZCh0aGlzKSlcbiAgICAvLyBpZiAodGhpcy5hY3Rvci5pc093bmVyKSB7XG4gICAgLy8gICBodG1sXG4gICAgLy8gICAgIC5maW5kKCdbbmFtZT1cImRhdGEuYXR0cmlicy5ocC52YWx1ZVwiXScpXG4gICAgLy8gICAgIC5jaGFuZ2UoZXZlbnQgPT4gdGhpcy5hY3Rvci5zZXRIZWFsdGhTdGF0dXNNYW51YWxseShldmVudCkpXG4gICAgLy8gfVxuICB9XG5cbiAgYXN5bmMgX29uU2FuTG9zc0NvbnRleHRNZW51Q2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3Qgcm9sbE9wdGlvbnMgPSB7XG4gICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9FTkNPVU5URVIsXG4gICAgICBwcmV2ZW50U3RhbmRieTogdHJ1ZSxcbiAgICAgIGZhc3RGb3J3YXJkOiBmYWxzZSxcbiAgICAgIGV2ZW50LFxuICAgICAgY2FyZFR5cGU6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfU0FOX0NIRUNLLFxuICAgICAgYWN0b3I6IHRoaXMuYWN0b3JcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb24pIHtcbiAgICAgIGNhc2UgKCdsaW5rLXRvb2wnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuY3JlYXRlRW5jb3VudGVyID0gdHJ1ZVxuICAgICAgICByb2xsT3B0aW9ucy5vcGVuTGlua1Rvb2wgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnc2VuZC1jaGF0Jyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT05FXG4gICAgICAgIHJvbGxPcHRpb25zLmNyZWF0ZUVuY291bnRlciA9IHRydWVcbiAgICAgICAgcm9sbE9wdGlvbnMuc2VuZFRvQ2hhdCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdjb3B5LXRvLWNsaXBib2FyZCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9ORVxuICAgICAgICByb2xsT3B0aW9ucy5jcmVhdGVFbmNvdW50ZXIgPSB0cnVlXG4gICAgICAgIHJvbGxPcHRpb25zLnNlbmRUb0NsaXBib2FyZCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIENvQzdDaGF0TWVzc2FnZS50cmlnZ2VyKHJvbGxPcHRpb25zKVxuICB9XG5cbiAgYXN5bmMgX29uU2FuQ2hlY2sgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChcbiAgICAgICF0aGlzLmFjdG9yLnN5c3RlbS5zcGVjaWFsLnNhbkxvc3MuY2hlY2tQYXNzZWQgJiZcbiAgICAgICF0aGlzLmFjdG9yLnN5c3RlbS5zcGVjaWFsLnNhbkxvc3MuY2hlY2tGYWlsbGVkXG4gICAgKSB7XG4gICAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oJ05vIHNhbml0eSBsb3NzIHZhbHVlJyk7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKFxuICAgICAgaXNDdHJsS2V5KGV2ZW50KSAmJlxuICAgICAgZ2FtZS51c2VyLmlzR01cbiAgICApIHtcbiAgICAgIGxldCBkaWZmaWN1bHR5LCBtb2RpZmllclxuICAgICAgaWYgKCFldmVudC5zaGlmdEtleSkge1xuICAgICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKHtcbiAgICAgICAgICBkaXNhYmxlRmxhdERpY2VNb2RpZmllcjogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgICBtb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICAgIGRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpbmtEYXRhID0ge1xuICAgICAgICBjaGVjazogJ3Nhbmxvc3MnLFxuICAgICAgICBzYW5NaW46IHRoaXMuYWN0b3Iuc3lzdGVtLnNwZWNpYWwuc2FuTG9zcy5jaGVja1Bhc3NlZCxcbiAgICAgICAgc2FuTWF4OiB0aGlzLmFjdG9yLnN5c3RlbS5zcGVjaWFsLnNhbkxvc3MuY2hlY2tGYWlsbGVkLFxuICAgICAgICBzYW5SZWFzb246IHRoaXMuYWN0b3Iuc3lzdGVtLmluZm9zLnR5cGU/Lmxlbmd0aFxuICAgICAgICAgID8gdGhpcy5hY3Rvci5zeXN0ZW0uaW5mb3MudHlwZVxuICAgICAgICAgIDogdGhpcy5hY3Rvci5uYW1lLFxuICAgICAgICB0b2tlbktleTogdGhpcy5hY3Rvci5hY3RvcktleVxuICAgICAgfVxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykgPT09ICdibGluZHJvbGwnKSB7XG4gICAgICAgIGxpbmtEYXRhLmJsaW5kID0gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllciAhPT0gJ3VuZGVmaW5lZCcpIGxpbmtEYXRhLm1vZGlmaWVyID0gbW9kaWZpZXJcbiAgICAgIGlmICh0eXBlb2YgZGlmZmljdWx0eSAhPT0gJ3VuZGVmaW5lZCcpIGxpbmtEYXRhLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgICBjb25zdCBsaW5rID0gKG5ldyBDb0M3TGluaygpKS5fY3JlYXRlRG9jdW1lbnRMaW5rKGxpbmtEYXRhKVxuICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NZXNzYWdlQ2hlY2tSZXF1ZXN0ZWRXYWl0Jywge1xuICAgICAgICAgICAgY2hlY2s6IGxpbmtcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNhbkRhdGEgPSB7XG4gICAgICAgIHNhbk1heDogdGhpcy5hY3Rvci5zYW5Mb3NzQ2hlY2tGYWlsbGVkLFxuICAgICAgICBzYW5NaW46IHRoaXMuYWN0b3Iuc2FuTG9zc0NoZWNrUGFzc2VkLFxuICAgICAgICBzYW5SZWFzb246IHRoaXMuYWN0b3Iuc3lzdGVtLmluZm9zLnR5cGU/Lmxlbmd0aFxuICAgICAgICAgID8gdGhpcy5hY3Rvci5zeXN0ZW0uaW5mb3MudHlwZVxuICAgICAgICAgIDogdGhpcy5hY3Rvci5uYW1lLFxuICAgICAgICB0b2tlbktleTogdGhpcy5hY3Rvci5hY3RvcktleVxuICAgICAgfVxuICAgICAgU2FuQ2hlY2tDYXJkLmNoZWNrVGFyZ2V0cyhzYW5EYXRhLCBldmVudC5zaGlmdEtleSlcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlU2hlZXQgKCkge1xuICAgIHRoaXMuYWN0b3IudW5zZXRBY3RvckZsYWcoJ2Rpc3BsYXlGb3JtdWxhJylcbiAgICBzdXBlci5vbkNsb3NlU2hlZXQoKVxuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIEFjdG9yIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NoZWV0JywgJ2FjdG9yJywgJ25wYyddLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5pdGVtJywgZHJvcFNlbGVjdG9yOiBudWxsIH1dLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9ucGMtc2hlZXQuaHRtbCcsXG4gICAgICB3aWR0aDogNTgwLFxuICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgIG1pbmltaXphYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnQgdGhlIF91cGRhdGVPYmplY3QgbWV0aG9kIGFzIHJlcXVpcmVkIGJ5IHRoZSBwYXJlbnQgY2xhc3Mgc3BlY1xuICAgKiBUaGlzIGRlZmluZXMgaG93IHRvIHVwZGF0ZSB0aGUgc3ViamVjdCBvZiB0aGUgZm9ybSB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2hhcmFjdGVyaXN0aWMtc2NvcmUnKSkge1xuICAgICAgICAgIHRoaXMuYWN0b3Iuc2V0Q2hhcmFjdGVyaXN0aWMoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWUsXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBmb3JjZUF1dG8gKGFwcCwgaHRtbCkge1xuICAgIGh0bWwuaGVpZ2h0KCdhdXRvJylcbiAgfVxuXG4gIHNldFBvc2l0aW9uIChhKSB7XG4gICAgc3VwZXIuc2V0UG9zaXRpb24oYSlcbiAgICBDb0M3TlBDU2hlZXQuZm9yY2VBdXRvKGEsIHRoaXMuX2VsZW1lbnQpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBtZXJnZU9iamVjdCAqL1xuaW1wb3J0IHsgQ29DN05QQ1NoZWV0IH0gZnJvbSAnLi9ucGMtc2hlZXQuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3Q3JlYXR1cmVTaGVldCBleHRlbmRzIENvQzdOUENTaGVldCB7XG4gIC8qKlxuICAgKiBQcmVwYXJlIGRhdGEgZm9yIHJlbmRlcmluZyB0aGUgQWN0b3Igc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5pc0NyZWF0dXJlID0gdHJ1ZVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgQWN0b3IgU2hlZXRcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NoZWV0JywgJ2FjdG9yJywgJ25wYycsICdjcmVhdHVyZSddXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgbWVyZ2VPYmplY3QgKi9cbmV4cG9ydCBjbGFzcyBDb0M3Q3JlYXRlTXl0aG9zRW5jb3VudGVyIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnXSxcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5TG9zc1R5cGVEaWFsb2dUaXRsZScpLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2FuaXR5LWxvc3MtdHlwZS5oYnMnLFxuICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuICAgIGRhdGEuaXNJbW11bml0eSA9IGRhdGEub2JqZWN0LnR5cGUgPT09ICdpbW11bml0eSdcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBodG1sLmZpbmQoJy5maWVsZF90eXBlJykuY2hhbmdlKHRoaXMuX29uU2VsZWN0Q2hhbmdlLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZGlhbG9nLWJ1dHRvbicpLmNsaWNrKHRoaXMuX29uQnV0dG9uQ2xpY2suYmluZCh0aGlzKSlcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICB9XG5cbiAgX29uQnV0dG9uQ2xpY2sgKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5idXR0b24gPT09ICdhZGQnKSB7XG4gICAgICBjb25zdCBodG1sID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcud2luZG93LWNvbnRlbnQnKVxuICAgICAgY29uc3QgdHlwZSA9IGh0bWwuZmluZCgnLmZpZWxkX3R5cGUnKS52YWwoKVxuICAgICAgY29uc3QgbmFtZSA9IGh0bWwuZmluZCgnLmZpZWxkX25hbWUnKS52YWwoKVxuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChodG1sLmZpbmQoJy5maWVsZF92YWx1ZScpLnZhbCgpKVxuICAgICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9XG4gICAgICAgIHRoaXMub2JqZWN0LmFjdG9yLnN5c3RlbS5zYW5pdHlMb3NzRXZlbnRzID8/IFtdXG4gICAgICBzYW5pdHlMb3NzRXZlbnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBuYW1lLFxuICAgICAgICB0b3RhbExvc3M6IHZhbHVlLFxuICAgICAgICBpbW11bml0eTogdHlwZSA9PT0gJ2ltbXVuaXR5J1xuICAgICAgfSlcbiAgICAgIHNhbml0eUxvc3NFdmVudHMuc29ydChmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQudHlwZS5sb2NhbGVDb21wYXJlKHJpZ2h0LnR5cGUpXG4gICAgICB9KVxuICAgICAgdGhpcy5vYmplY3QuYWN0b3IudXBkYXRlKHsgJ2RhdGEuc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHMgfSlcbiAgICB9XG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBfb25TZWxlY3RDaGFuZ2UgKGV2ZW50KSB7XG4gICAgY29uc3QgaHRtbCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLndpbmRvdy1jb250ZW50JylcbiAgICB0aGlzLm9iamVjdC5uYW1lID0gaHRtbC5maW5kKCcuZmllbGRfbmFtZScpLnZhbCgpXG4gICAgdGhpcy5vYmplY3QudHlwZSA9IGh0bWwuZmluZCgnLmZpZWxkX3R5cGUnKS52YWwoKVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHt9XG59XG4iLCIvKiBnbG9iYWwgJCwgZHVwbGljYXRlLCBleHBhbmRPYmplY3QsIEZvbnRGYWNlLCBmb3VuZHJ5LCBnYW1lLCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0FjdG9yU2hlZXQgfSBmcm9tICcuL2Jhc2UuanMnXG5pbXBvcnQgeyBDb0M3Q3JlYXRlTXl0aG9zRW5jb3VudGVyIH0gZnJvbSAnLi4vLi4vYXBwcy9jcmVhdGUtbXl0aG9zLWVuY291bnRlcnMuanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyIH0gZnJvbSAnLi4vLi4vY2hhdC9oZWxwZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q2hhcmFjdGVyU2hlZXQgZXh0ZW5kcyBDb0M3QWN0b3JTaGVldCB7XG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQ29DN0NoYXJhY3RlclNoZWV0Jykge1xuICAgICAgaWYgKCF0aGlzLnN1bW1hcml6ZWQpIHRoaXMuc3VtbWFyaXplZCA9IGZhbHNlXG4gICAgICBsZXQgYnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICAgIGJ1dHRvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5zdW1tYXJpemVkXG4gICAgICAgICAgICA/IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NYXhpbWl6ZScpXG4gICAgICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TdW1tYXJpemUnKSxcbiAgICAgICAgICBjbGFzczogJ3Rlc3QtZXh0cmEtaWNvbicsXG4gICAgICAgICAgaWNvbjogdGhpcy5zdW1tYXJpemVkXG4gICAgICAgICAgICA/ICdmYXMgZmEtd2luZG93LW1heGltaXplJ1xuICAgICAgICAgICAgOiAnZmFzIGZhLXdpbmRvdy1taW5pbWl6ZScsXG4gICAgICAgICAgb25jbGljazogZXZlbnQgPT4gdGhpcy50b2dnbGVTaGVldE1vZGUoZXZlbnQpXG4gICAgICAgIH0vKiAsXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogJycsXG4gICAgICAgICAgY2xhc3M6ICdkcmFnLXRlc3QtdGhpbmd5JyxcbiAgICAgICAgICBpY29uOiAnZ2FtZS1pY29uIGdhbWUtaWNvbi1kMTAnLFxuICAgICAgICAgIG9uZHJhZ3N0YXJ0OiAoKSA9PiB1aS5ub3RpZmljYXRpb25zLmluZm8oJ2RyYWcgc3RhcnRlZCcpXG4gICAgICAgIH0gKi9cbiAgICAgIF0uY29uY2F0KGJ1dHRvbnMpXG4gICAgICByZXR1cm4gYnV0dG9uc1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICB9XG5cbiAgYXN5bmMgdG9nZ2xlU2hlZXRNb2RlIChldmVudCkge1xuICAgIHRoaXMuc3VtbWFyaXplZCA9ICF0aGlzLnN1bW1hcml6ZWRcbiAgICBsZXQgb3B0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKENvQzdDaGFyYWN0ZXJTaGVldC5kZWZhdWx0T3B0aW9ucylcbiAgICBpZiAodGhpcy5zdW1tYXJpemVkKSB7XG4gICAgICBvcHRpb25zID0gZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChvcHRpb25zLCB7XG4gICAgICAgIGNsYXNzZXM6IFsnY29jNycsICdhY3RvcicsICdjaGFyYWN0ZXInLCAnc3VtbWFyaXplZCddLFxuICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDcwMFxuICAgICAgfSlcbiAgICB9XG4gICAgb3B0aW9ucy50b2tlbiA9IHRoaXMub3B0aW9ucy50b2tlblxuICAgIGF3YWl0IHRoaXMuY2xvc2UoKVxuICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUsIG9wdGlvbnMpXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcbiAgICBpZiAoXG4gICAgICB0aGlzLmlzRWRpdGFibGUgJiZcbiAgICAgIHR5cGVvZiB0aGlzLmFjdG9yLmdldEZsYWcoJ0NvQzcnLCAnc2tpbGxMaXN0TW9kZScpID09PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRGbGFnKCdDb0M3JywgJ3NraWxsTGlzdE1vZGUnLCBmYWxzZSlcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0VkaXRhYmxlICYmXG4gICAgICB0eXBlb2YgdGhpcy5hY3Rvci5nZXRGbGFnKCdDb0M3JywgJ3NraWxsU2hvd1VuY29tbW9uJykgPT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEZsYWcoJ0NvQzcnLCAnc2tpbGxTaG93VW5jb21tb24nLCB0cnVlKVxuICAgIH1cbiAgICBzaGVldERhdGEuc2tpbGxMaXN0TW9kZVZhbHVlID1cbiAgICAgIHRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbExpc3RNb2RlJykgPz8gZmFsc2VcbiAgICBzaGVldERhdGEuc2tpbGxTaG93VW5jb21tb24gPVxuICAgICAgdGhpcy5hY3Rvci5nZXRGbGFnKCdDb0M3JywgJ3NraWxsU2hvd1VuY29tbW9uJykgPz8gdHJ1ZVxuICAgIHNoZWV0RGF0YS5zaG93SWNvbnNPbmx5ID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2hvd0ljb25zT25seScpXG5cbiAgICBpZiAodGhpcy5hY3Rvci5vY2N1cGF0aW9uKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3Mub2NjdXBhdGlvbiA9IHRoaXMuYWN0b3Iub2NjdXBhdGlvbi5uYW1lXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3Mub2NjdXBhdGlvblNldCA9IHRydWVcbiAgICB9IGVsc2Ugc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLm9jY3VwYXRpb25TZXQgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWN0b3IuYXJjaGV0eXBlKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3MuYXJjaGV0eXBlID0gdGhpcy5hY3Rvci5hcmNoZXR5cGUubmFtZVxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLmFyY2hldHlwZVNldCA9IHRydWVcbiAgICB9IGVsc2Ugc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLmFyY2hldHlwZVNldCA9IGZhbHNlXG5cbiAgICBzaGVldERhdGEudG90YWxFeHBlcmllbmNlID0gdGhpcy5hY3Rvci5leHBlcmllbmNlUG9pbnRzXG4gICAgc2hlZXREYXRhLnRvdGFsT2NjdXBhdGlvbiA9IHRoaXMuYWN0b3Iub2NjdXBhdGlvblBvaW50c1NwZW50XG4gICAgc2hlZXREYXRhLmludmFsaWRPY2N1cGF0aW9uUG9pbnRzID1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLm9jY3VwYXRpb25Qb2ludHNTcGVudCkgIT09XG4gICAgICBOdW1iZXIodGhpcy5hY3Rvci5zeXN0ZW0uZGV2ZWxvcG1lbnQ/Lm9jY3VwYXRpb24pXG4gICAgc2hlZXREYXRhLnRvdGFsQXJjaGV0eXBlID0gdGhpcy5hY3Rvci5hcmNoZXR5cGVQb2ludHNTcGVudFxuICAgIHNoZWV0RGF0YS5pbnZhbGlkQXJjaGV0eXBlUG9pbnRzID1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLmFyY2hldHlwZVBvaW50c1NwZW50KSAhPT1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLnN5c3RlbS5kZXZlbG9wbWVudD8uYXJjaGV0eXBlKVxuICAgIHNoZWV0RGF0YS50b3RhbFBlcnNvbmFsID0gdGhpcy5hY3Rvci5wZXJzb25hbFBvaW50c1NwZW50XG4gICAgc2hlZXREYXRhLmludmFsaWRQZXJzb25hbFBvaW50cyA9XG4gICAgICBOdW1iZXIodGhpcy5hY3Rvci5wZXJzb25hbFBvaW50c1NwZW50KSAhPT1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLnN5c3RlbS5kZXZlbG9wbWVudD8ucGVyc29uYWwpXG4gICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ01heCA9IE51bWJlcihcbiAgICAgIHRoaXMuYWN0b3Iub2NjdXBhdGlvbj8uc3lzdGVtLmNyZWRpdFJhdGluZy5tYXhcbiAgICApXG4gICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ01pbiA9IE51bWJlcihcbiAgICAgIHRoaXMuYWN0b3Iub2NjdXBhdGlvbj8uc3lzdGVtLmNyZWRpdFJhdGluZy5taW5cbiAgICApXG4gICAgc2hlZXREYXRhLmludmFsaWRDcmVkaXRSYXRpbmcgPVxuICAgICAgdGhpcy5hY3Rvci5jcmVkaXRSYXRpbmdTa2lsbD8uc3lzdGVtLmFkanVzdG1lbnRzPy5vY2N1cGF0aW9uID5cbiAgICAgIHNoZWV0RGF0YS5jcmVkaXRSYXRpbmdNYXggfHxcbiAgICAgIHRoaXMuYWN0b3IuY3JlZGl0UmF0aW5nU2tpbGw/LnN5c3RlbS5hZGp1c3RtZW50cz8ub2NjdXBhdGlvbiA8XG4gICAgICBzaGVldERhdGEuY3JlZGl0UmF0aW5nTWluXG4gICAgc2hlZXREYXRhLnB1bHBUYWxlbnRDb3VudCA9IHNoZWV0RGF0YS5pdGVtc0J5VHlwZS50YWxlbnQ/Lmxlbmd0aFxuICAgICAgPyBzaGVldERhdGEuaXRlbXNCeVR5cGUudGFsZW50Py5sZW5ndGhcbiAgICAgIDogMFxuICAgIHNoZWV0RGF0YS5taW5QdWxwVGFsZW50cyA9IHRoaXMuYWN0b3IuYXJjaGV0eXBlPy5zeXN0ZW0udGFsZW50c1xuICAgICAgPyB0aGlzLmFjdG9yLmFyY2hldHlwZT8uc3lzdGVtLnRhbGVudHNcbiAgICAgIDogMFxuICAgIHNoZWV0RGF0YS5pbnZhbGlkUHVscFRhbGVudHMgPSBzaGVldERhdGEucHVscFRhbGVudENvdW50IDwgc2hlZXREYXRhLm1pblB1bHBUYWxlbnRzXG5cbiAgICBzaGVldERhdGEuaGFzRGV2ZWxvcG1lbnRQaGFzZSA9IHRoaXMuYWN0b3IuaGFzRGV2ZWxvcG1lbnRQaGFzZVxuXG4gICAgc2hlZXREYXRhLmFsbG93RGV2ZWxvcG1lbnQgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnKVxuICAgIHNoZWV0RGF0YS5hbGxvd0NoYXJDcmVhdGlvbiA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2NoYXJDcmVhdGlvbkVuYWJsZWQnKVxuICAgIHNoZWV0RGF0YS5kZXZlbG9wbWVudFJvbGxGb3JMdWNrID0gZ2FtZS5zZXR0aW5ncy5nZXQoXG4gICAgICAnQ29DNycsXG4gICAgICAnZGV2ZWxvcG1lbnRSb2xsRm9yTHVjaydcbiAgICApXG4gICAgc2hlZXREYXRhLnNob3dEZXZQYW5uZWwgPSBzaGVldERhdGEuYWxsb3dEZXZlbG9wbWVudCB8fCBzaGVldERhdGEuYWxsb3dDaGFyQ3JlYXRpb25cblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlGb3JtYXRzID0gW11cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBDT0M3Lm1vbmV0YXJ5Rm9ybWF0cykge1xuICAgICAgc2hlZXREYXRhLl9tb25ldGFyeUZvcm1hdHMucHVzaCh7IGtleSwgdmFsOiBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5tb25ldGFyeUZvcm1hdHNba2V5XSkgfSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEuc2hvd0N1cnJlbmN5U3ltYm9sID0gWydkZWNpbWFsTGVmdCcsICdkZWNpbWFsUmlnaHQnLCAnaW50ZWdlckxlZnQnLCAnaW50ZWdlclJpZ2h0J10uaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdClcblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlUeXBlcyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgaW4gQ09DNy5tb25ldGFyeVR5cGVzKSB7XG4gICAgICBpZiAoQ09DNy5tb25ldGFyeVR5cGVzW2tleV0uZmlsdGVyLmxlbmd0aCA9PT0gMCB8fCBDT0M3Lm1vbmV0YXJ5VHlwZXNba2V5XS5maWx0ZXIuaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCkpIHtcbiAgICAgICAgc2hlZXREYXRhLl9tb25ldGFyeVR5cGVzLnB1c2goeyBrZXksIHZhbDogZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubW9uZXRhcnlUeXBlc1trZXldLm5hbWUpIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLm1hbnVhbENyZWRpdCA9IHRoaXMuYWN0b3IuZ2V0QWN0b3JGbGFnKCdtYW51YWxDcmVkaXQnKVxuICAgIGlmICghc2hlZXREYXRhLm1hbnVhbENyZWRpdCkge1xuICAgICAgc2hlZXREYXRhLm1vbmV0YXJ5ID0ge1xuICAgICAgICBzcGVuZGluZ0xldmVsOiBDb0NBY3Rvci5tb25ldGFyeUZvcm1hdChzaGVldERhdGEuZGF0YS5zeXN0ZW0ubW9uZXRhcnkuZm9ybWF0LCBzaGVldERhdGEuZGF0YS5zeXN0ZW0ubW9uZXRhcnkuc3ltYm9sLCB0aGlzLmFjdG9yLnNwZW5kaW5nTGV2ZWwpLFxuICAgICAgICBhc3NldHM6IENvQ0FjdG9yLm1vbmV0YXJ5Rm9ybWF0KHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQsIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5zeW1ib2wsIHRoaXMuYWN0b3IuYXNzZXRzKSxcbiAgICAgICAgY2FzaDogQ29DQWN0b3IubW9uZXRhcnlGb3JtYXQoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCwgc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LnN5bWJvbCwgdGhpcy5hY3Rvci5jYXNoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5vbmVCbG9ja0JhY2tTdG9yeSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ29uZUJsb2NrQmFja3N0b3J5JylcblxuICAgIHNoZWV0RGF0YS5zdW1tYXJpemVkID0gdGhpcy5zdW1tYXJpemVkICYmICFzaGVldERhdGEucGVybWlzc2lvbkxpbWl0ZWRcbiAgICBzaGVldERhdGEuc2tpbGxMaXN0ID0gW11cbiAgICBsZXQgcHJldmlvdXNTcGVjID0gJydcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHNoZWV0RGF0YS5za2lsbHMpIHtcbiAgICAgIGlmIChzaGVldERhdGEuc2tpbGxTaG93VW5jb21tb24gfHwgIXNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLnJhcml0eSkge1xuICAgICAgICBpZiAoc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c1NwZWMgIT09IHNraWxsLnN5c3RlbS5zcGVjaWFsaXphdGlvbikge1xuICAgICAgICAgICAgcHJldmlvdXNTcGVjID0gc2tpbGwuc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICBzaGVldERhdGEuc2tpbGxMaXN0LnB1c2goe1xuICAgICAgICAgICAgICBpc1NwZWNpYWxpemF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICBuYW1lOiBza2lsbC5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5za2lsbExpc3QucHVzaChza2lsbClcbiAgICAgIH1cbiAgICB9XG4gICAgc2hlZXREYXRhLnNraWxsc0J5VmFsdWUgPSBbLi4uc2hlZXREYXRhLnNraWxsc10uc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGIuc3lzdGVtLnZhbHVlIC0gYS5zeXN0ZW0udmFsdWVcbiAgICB9KVxuICAgIHNoZWV0RGF0YS50b3BTa2lsbHMgPSBbLi4uc2hlZXREYXRhLnNraWxsc0J5VmFsdWVdLnNsaWNlKDAsIDE0KVxuICAgIHNoZWV0RGF0YS5za2lsbHNCeVZhbHVlID0gc2hlZXREYXRhLnNraWxsc0J5VmFsdWUuZmlsdGVyKFxuICAgICAgc2tpbGwgPT4gc2hlZXREYXRhLnNraWxsU2hvd1VuY29tbW9uIHx8ICFza2lsbC5zeXN0ZW0ucHJvcGVydGllcy5yYXJpdHlcbiAgICApXG4gICAgc2hlZXREYXRhLnRvcFdlYXBvbnMgPSBbLi4uc2hlZXREYXRhLm1lbGVlV3BuLCAuLi5zaGVldERhdGEucmFuZ2VXcG5dXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5zeXN0ZW0uc2tpbGwubWFpbj8udmFsdWUgLSBiLnN5c3RlbS5za2lsbC5tYWluPy52YWx1ZVxuICAgICAgfSlcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5zbGljZSgwLCAzKVxuICAgIHNoZWV0RGF0YS5kaXNwbGF5UGxheWVyTmFtZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KFxuICAgICAgJ0NvQzcnLFxuICAgICAgJ2Rpc3BsYXlQbGF5ZXJOYW1lT25TaGVldCdcbiAgICApXG4gICAgaWYgKHNoZWV0RGF0YS5kaXNwbGF5UGxheWVyTmFtZSAmJiAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLnBsYXllcm5hbWUpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLmNoYXJhY3RlclVzZXJcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5pbmZvcy5wbGF5ZXJuYW1lID0gdXNlci5uYW1lXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLnNraWxsTGlzdEVtcHR5ID0gc2hlZXREYXRhLnNraWxscy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2l0ZW0nKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICdib29rJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3NwZWxsJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICd0YWxlbnQnKSB8fFxuICAgICAgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycpKVxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3RhdHVzZXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3N0YXR1cycpIHx8XG4gICAgICAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzLmxvY2tlZFxuXG4gICAgc2hlZXREYXRhLmhhc0ludmVudG9yeSA9XG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlJdGVtcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlCb29rcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5VGFsZW50cyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTdGF0dXNlcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlXZWFwb25zXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWRCYWNrc3RvcnkgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmFja3N0b3J5LFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBfc2F2ZVNjcm9sbFBvc2l0aW9ucyAoaHRtbCkge1xuICAgIHN1cGVyLl9zYXZlU2Nyb2xsUG9zaXRpb25zKGh0bWwpXG4gICAgY29uc3Qgc2VsZWN0b3JzID0gWycucmlnaHQtcGFuZWwgLnRhYi5kZXZlbG9wbWVudCBvbCddXG4gICAgdGhpcy5fc2Nyb2xsUG9zaXRpb25zWCA9IHNlbGVjdG9ycy5yZWR1Y2UoKHBvcywgc2VsKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGh0bWwuZmluZChzZWwpXG4gICAgICBwb3Nbc2VsXSA9IEFycmF5LmZyb20oZWwpLm1hcChlbCA9PiBlbC5zY3JvbGxMZWZ0KVxuICAgICAgcmV0dXJuIHBvc1xuICAgIH0sIHt9KVxuICB9XG5cbiAgX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbnMgKGh0bWwpIHtcbiAgICBzdXBlci5fcmVzdG9yZVNjcm9sbFBvc2l0aW9ucyhodG1sKVxuICAgIGNvbnN0IHNlbGVjdG9ycyA9IFsnLnJpZ2h0LXBhbmVsIC50YWIuZGV2ZWxvcG1lbnQgb2wnXVxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuX3Njcm9sbFBvc2l0aW9uc1ggfHwge31cbiAgICBmb3IgKGNvbnN0IHNlbCBvZiBzZWxlY3RvcnMpIHtcbiAgICAgIGNvbnN0IGVsID0gaHRtbC5maW5kKHNlbClcbiAgICAgIGVsLmVhY2goKGksIGVsKSA9PiB7IGVsLnNjcm9sbExlZnQgPSBwb3NpdGlvbnNbc2VsXT8uW2ldIHx8IDAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIDVlIEFjdG9yIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldFYyJywgJ2FjdG9yJywgJ2NoYXJhY3RlciddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9jaGFyYWN0ZXIvaW5kZXguaHRtbCcsXG4gICAgICB3aWR0aDogNjg3LFxuICAgICAgaGVpZ2h0OiA2MjMsXG4gICAgICByZXNpemFibGU6IHRydWUsXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLml0ZW0nLCBkcm9wU2VsZWN0b3I6IG51bGwgfV0sXG4gICAgICBzY3JvbGxZOiBbJy5yaWdodC1wYW5lbCAudGFiJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXYnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnc2tpbGxzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmICh0aGlzLmFjdG9yLmlzT3duZXIpIHtcbiAgICAgIC8vIE1PRElGOiAwLjgueCBvd25lciBkZXByZWNhdGVkICA9PiBpc093bmVyXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuc2tpbGwtbmFtZS5yb2xsYWJsZS5mbGFnZ2VkNGRldicpXG4gICAgICAgIC5jbGljayhhc3luYyBldmVudCA9PiB0aGlzLl9vblNraWxsRGV2KGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5yZXNldC1vY2N1cGF0aW9uJylcbiAgICAgICAgLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuYWN0b3IucmVzZXRPY2N1cGF0aW9uKCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcucmVzZXQtYXJjaGV0eXBlJylcbiAgICAgICAgLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuYWN0b3IucmVzZXRBcmNoZXR5cGUoKSlcbiAgICAgIGh0bWwuZmluZCgnLm9wZW4taXRlbScpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbURldGFpbHMoZXZlbnQpKVxuICAgICAgLy8gaHRtbFxuICAgICAgLy8gICAuZmluZCgnW25hbWU9XCJkYXRhLmF0dHJpYnMuaHAudmFsdWVcIl0nKVxuICAgICAgLy8gICAuY2hhbmdlKGFzeW5jIGV2ZW50ID0+e1xuICAgICAgLy8gICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIC8vICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgLy8gICAgIGxldCB2YWx1ZSA9IE51bWJlciggZXZlbnQuY3VycmVudFRhcmdldD8udmFsdWUpXG4gICAgICAvLyAgICAgaWYoICFpc05hTih2YWx1ZSkpIGF3YWl0IHRoaXMuYWN0b3Iuc2V0SHAoZXZlbnQpXG4gICAgICAvLyAgICAgZWxzZSB1aS5ub3RpZmljYXRpb25zLndhcm4oJ0Vycm9yIHBhcnNpbmcgSFAgdmFsdWUnKVxuICAgICAgLy8gICB9KVxuICAgICAgaHRtbC5maW5kKCcudG9nZ2xlLWxpc3QtbW9kZScpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGVTa2lsbExpc3RNb2RlKGV2ZW50KVxuICAgICAgfSlcbiAgICAgIGh0bWwuZmluZCgnLnRvZ2dsZS11bmNvbW1vbi1tb2RlJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZVNraWxsVW5jb21tb25Nb2RlKGV2ZW50KVxuICAgICAgfSlcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5zYW5pdHktbG9zcy10eXBlLWFkZCcpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uQWRkU2FuaXR5TG9zc1JlYXNvbi5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5zYW5pdHktbG9zcy10eXBlLWRlbGV0ZScpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uRGVsZXRlU2FuaXR5TG9zc1JlYXNvbi5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5teXRob3NFbmNvdW50ZXJzVG90YWxMb3NzJylcbiAgICAgICAgICAuYmx1cih0aGlzLl9vbkVkaXRTYW5pdHlMb3NzUmVhc29uLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWxcbiAgICAgICAgICAuZmluZCgnLnRvZ2dsZS1rZWVwZXItZmxhZ3MnKVxuICAgICAgICAgIC5jbGljayh0aGlzLl9vblRvZ2dsZUtlZXBlckZsYWdzLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLmFkZC1tb25ldGFyeScpLmNsaWNrKHRoaXMuX29uQWRkTW9uZXRhcnkuYmluZCh0aGlzKSlcbiAgICAgICAgaHRtbC5maW5kKCcucmVtb3ZlLW1vbmV0YXJ5JykuY2xpY2sodGhpcy5fb25SZW1vdmVNb25ldGFyeS5iaW5kKHRoaXMpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbkFkZE1vbmV0YXJ5ICgpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmFjdG9yLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMgPyBkdXBsaWNhdGUodGhpcy5hY3Rvci5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzKSA6IFtdXG4gICAgdmFsdWVzLnB1c2goe1xuICAgICAgbmFtZTogJycsXG4gICAgICBtaW46IG51bGwsXG4gICAgICBtYXg6IG51bGwsXG4gICAgICBjYXNoVHlwZTogMCxcbiAgICAgIGNhc2hWYWx1ZTogJycsXG4gICAgICBhc3NldHNUeXBlOiAwLFxuICAgICAgYXNzZXRzVmFsdWU6ICcnLFxuICAgICAgc3BlbmRpbmdUeXBlOiAwLFxuICAgICAgc3BlbmRpbmdWYWx1ZTogJydcbiAgICB9KVxuICAgIHRoaXMuYWN0b3IudXBkYXRlKHsgJ3N5c3RlbS5tb25ldGFyeS52YWx1ZXMnOiB2YWx1ZXMgfSlcbiAgfVxuXG4gIF9vblJlbW92ZU1vbmV0YXJ5IChldmVudCkge1xuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgZGl2ID0gYS5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgdmFsdWVzID0gZHVwbGljYXRlKHRoaXMuYWN0b3Iuc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcylcbiAgICB2YWx1ZXMuc3BsaWNlKE51bWJlcihkaXYuZGF0YXNldC5pbmRleCksIDEpXG4gICAgdGhpcy5hY3Rvci51cGRhdGUoeyAnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyc6IHZhbHVlcyB9KVxuICB9XG5cbiAgX29uVG9nZ2xlS2VlcGVyRmxhZ3MgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWcpIHtcbiAgICAgIGNhc2UgJ215dGhvc0luc2FuaXR5RXhwZXJpZW5jZWQnOlxuICAgICAgICB0aGlzLmFjdG9yLnNldEZsYWcoXG4gICAgICAgICAgJ0NvQzcnLFxuICAgICAgICAgICdteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkJyxcbiAgICAgICAgICAhdGhpcy5hY3Rvci5teXRob3NJbnNhbml0eUV4cGVyaWVuY2VkXG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ215dGhvc0hhcmRlbmVkJzpcbiAgICAgICAgdGhpcy5hY3Rvci5zZXRGbGFnKCdDb0M3JywgJ215dGhvc0hhcmRlbmVkJywgIXRoaXMuYWN0b3IubXl0aG9zSGFyZGVuZWQpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQWRkU2FuaXR5TG9zc1JlYXNvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgbmV3IENvQzdDcmVhdGVNeXRob3NFbmNvdW50ZXIoXG4gICAgICB7XG4gICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLFxuICAgICAgICB0eXBlOiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZVxuICAgICAgfSxcbiAgICAgIHt9XG4gICAgKS5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkVkaXRTYW5pdHlMb3NzUmVhc29uIChldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IG9mZnNldCA9IGlucHV0LmNsb3Nlc3QoJy5mbGV4cm93JykuZGF0YSgnb2Zmc2V0JylcbiAgICBpZiAodHlwZW9mIHRoaXMuYWN0b3Iuc3lzdGVtLnNhbml0eUxvc3NFdmVudHM/LltvZmZzZXRdPy50b3RhbExvc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBzYW5pdHlMb3NzRXZlbnRzID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5hY3Rvci5zeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cylcbiAgICAgIHNhbml0eUxvc3NFdmVudHNbb2Zmc2V0XS50b3RhbExvc3MgPSBwYXJzZUludChpbnB1dC52YWwoKSwgMTApXG4gICAgICB0aGlzLmFjdG9yLnVwZGF0ZSh7ICdzeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHMgfSlcbiAgICB9XG4gIH1cblxuICBfb25EZWxldGVTYW5pdHlMb3NzUmVhc29uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBvZmZzZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgICAuY2xvc2VzdCgnLmZsZXhyb3cnKVxuICAgICAgLmRhdGEoJ29mZnNldCcpXG4gICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9IHRoaXMuYWN0b3Iuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMgPz8gW11cbiAgICBzYW5pdHlMb3NzRXZlbnRzLnNwbGljZShvZmZzZXQsIDEpXG4gICAgc2FuaXR5TG9zc0V2ZW50cy5zb3J0KGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgcmV0dXJuIGxlZnQudHlwZS5sb2NhbGVDb21wYXJlKHJpZ2h0LnR5cGUpXG4gICAgfSlcbiAgICB0aGlzLmFjdG9yLnVwZGF0ZSh7ICdzeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHMgfSlcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZVNraWxsTGlzdE1vZGUgKGV2ZW50KSB7XG4gICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRGbGFnKFxuICAgICAgJ0NvQzcnLFxuICAgICAgJ3NraWxsTGlzdE1vZGUnLFxuICAgICAgIXRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbExpc3RNb2RlJylcbiAgICApXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyB0b2dnbGVTa2lsbFVuY29tbW9uTW9kZSAoZXZlbnQpIHtcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEZsYWcoXG4gICAgICAnQ29DNycsXG4gICAgICAnc2tpbGxTaG93VW5jb21tb24nLFxuICAgICAgIXRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbFNob3dVbmNvbW1vbicpXG4gICAgKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgX29uU2tpbGxEZXYgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICBhd2FpdCB0aGlzLmFjdG9yLmRldmVsb3BTa2lsbChza2lsbElkLCBldmVudC5zaGlmdEtleSlcbiAgfVxuXG4gIF9vbkl0ZW1EZXRhaWxzIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCB0eXBlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnR5cGVcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvclt0eXBlXVxuICAgIGlmIChpdGVtKSBpdGVtLnNoZWV0LnJlbmRlcih0cnVlKVxuICB9XG5cbiAgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgY29uc3Qgc3lzdGVtID0gZXhwYW5kT2JqZWN0KGZvcm1EYXRhKT8uc3lzdGVtXG4gICAgaWYgKHN5c3RlbS5tb25ldGFyeT8udmFsdWVzKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyddID0gT2JqZWN0LnZhbHVlcyhzeXN0ZW0ubW9uZXRhcnkudmFsdWVzIHx8IFtdKVxuICAgIH1cbiAgICBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJTaGVldCAoc2hlZXQsIGh0bWwpIHtcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3ZlcnJpZGVTaGVldEFydHdvcmsnKSkge1xuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtTaGVldEJhY2tncm91bmQnKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZCcpLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1iZycsXG4gICAgICAgICAgICBcInVybCggJy4vYXNzZXRzL2ltYWdlcy92b2lkLndlYnAnKVwiXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1iZycsXG4gICAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRXb3JrU2hlZXRCYWNrZ3JvdW5kJylcbiAgICAgICAgICApXG4gICAgICAgICAgLy8gY29uc3QgYm9yZGVySW1hZ2UgPSBzaGVldC5lbGVtZW50LmZpbmQoJ2Zvcm0nKS5jc3MoJ2JvcmRlci1pbWFnZScpO1xuICAgICAgICAgIC8vIHNoZWV0LmVsZW1lbnQuZmluZCgnZm9ybScpLmNzcygnYm9yZGVyLWltYWdlJywgJycpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtTaGVldEJhY2tncm91bmRUeXBlJykgIT09ICdzbGljZSdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGxldCBzdHlsZVNoZWV0LCBjc3NSdWxlSW5kZXhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLmhyZWY/LmVuZHNXaXRoKCdjb2M3Zy5jc3MnKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1tpXVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZVNoZWV0LnJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc3R5bGVTaGVldC5ydWxlc1tpXS5zZWxlY3RvclRleHQgPT09ICcuc2hlZXRWMi5jaGFyYWN0ZXIgZm9ybSdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGNzc1J1bGVJbmRleCA9IGlcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3NzUnVsZUluZGV4KSB7XG4gICAgICAgICAgICAgIGNvbnN0IENTU1N0eWxlID0gc3R5bGVTaGVldC5ydWxlc1tjc3NSdWxlSW5kZXhdLnN0eWxlXG4gICAgICAgICAgICAgIENTU1N0eWxlLnJlbW92ZVByb3BlcnR5KCdib3JkZXItaW1hZ2UnKVxuICAgICAgICAgICAgICBDU1NTdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZCcsXG4gICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRXb3JrU2hlZXRCYWNrZ3JvdW5kVHlwZScpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgICAgICAgICAgICBDU1NTdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJ2F1dG8nKVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdjb250YWluJzpcbiAgICAgICAgICAgICAgICAgIENTU1N0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXNpemUnLCAnY29udGFpbicpXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvdmVyJzpcbiAgICAgICAgICAgICAgICAgIENTU1N0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInKVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgQ1NTU3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtc2l6ZScsICdhdXRvJylcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzXG4gICAgICAgICAgICAuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKSA9PT0gJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tb3RoZXItc2hlZXQtYmcnLFxuICAgICAgICAgICAgXCJ1cmwoICcuL2Fzc2V0cy9pbWFnZXMvdm9pZC53ZWJwJylcIlxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAgICctLW90aGVyLXNoZWV0LWJnJyxcbiAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1pbWFnZScsXG4gICAgICAgICAgICBcInVybCggJy4vYXNzZXRzL2ltYWdlcy92b2lkLndlYnAnKVwiXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1pbWFnZScsXG4gICAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrRnJvbnRDb2xvcicpKSB7XG4gICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICctLW1haW4tc2hlZXQtZnJvbnQtY29sb3InLFxuICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtGcm9udENvbG9yJylcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtCYWNrZ3JvdW5kQ29sb3InKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAnLS1tYWluLXNoZWV0LWJhY2stY29sb3InLFxuICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtCYWNrZ3JvdW5kQ29sb3InKVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0d29ya0ludGVyYWN0aXZlQ29sb3InKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAnLS1tYWluLXNoZWV0LWludGVyYWN0aXZlLWNvbG9yJyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrSW50ZXJhY3RpdmVDb2xvcicpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0d29ya0ZpeGVkU2tpbGxMZW5ndGgnKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcygnLS1za2lsbC1sZW5ndGgnLCAnYXV0bycpXG4gICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKCctLXNraWxsLXNwZWNpYWxpemF0aW9uLWxlbmd0aCcsICdhdXRvJylcbiAgICAgIH1cblxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtNYWluRm9udCcpKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVNoZWV0Rm9udCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgICAnY3VzdG9tU2hlZXRGb250JyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnQnKVxuICAgICAgICApXG4gICAgICAgIGN1c3RvbVNoZWV0Rm9udFxuICAgICAgICAgIC5sb2FkKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAobG9hZGVkRmFjZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZhY2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVycm9yKVxuICAgICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRCb2xkJykpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tU2hlZXRDdXJzaXZlRm9udCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgICAnY3VzdG9tU2hlZXRGb250JyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRCb2xkJyksXG4gICAgICAgICAgeyB3ZWlnaHQ6ICdib2xkJyB9XG4gICAgICAgIClcbiAgICAgICAgY3VzdG9tU2hlZXRDdXJzaXZlRm9udFxuICAgICAgICAgIC5sb2FkKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAobG9hZGVkRmFjZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZhY2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVycm9yKVxuICAgICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRTaXplJykpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGAke2dhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtNYWluRm9udFNpemUnKX1weGBcbiAgICAgICAgaWYgKHNpemUgIT09ICQoJzpyb290JykuY3NzKCdmb250LXNpemUnKSkge1xuICAgICAgICAgICQoJzpyb290JykuY3NzKCdmb250LXNpemUnLCBzaXplKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzaGVldC5hY3Rvcj8uc3lzdGVtLnBhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNoZWV0LmFjdG9yLnN5c3RlbS5wYW5uZWwpKSB7XG4gICAgICAgIGNvbnN0IHBhbm5lbENsYXNzID0gY2hhdEhlbHBlci5jYW1lbENhc2VUb0h5cGhlbihrZXkpXG4gICAgICAgIGNvbnN0IHBhbm5lbCA9IGh0bWwuZmluZChgLnBhbm5lbC4ke3Bhbm5lbENsYXNzfWApXG4gICAgICAgIGlmICh2YWx1ZS5leHBhbmRlZCkgcGFubmVsLmFkZENsYXNzKCdleHBhbmRlZCcpXG4gICAgICAgIGVsc2UgcGFubmVsLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZ2FtZSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi9jaGVjay5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDb21iYXQge1xuICBzdGF0aWMgcmVuZGVyQ29tYmF0VHJhY2tlciAoYXBwLCBodG1sLCBkYXRhKSB7XG4gICAgY29uc3QgY3VycmVudENvbWJhdCA9IGRhdGEuY29tYmF0c1tkYXRhLmN1cnJlbnRJbmRleCAtIDFdXG4gICAgaWYgKCFjdXJyZW50Q29tYmF0KSByZXR1cm5cblxuICAgIC8vIFRPRE8gOiBTaSBsZSBjb21iYXQgZXN0IGRlamEgZGVidXTDqSBhdmFudCBjaGFyZ2VtZW50IGxhIGZvbmN0aW9uIGQnaW5pdGlhdGl2ZSBwb2ludGUgdmVycyBsJ2FuY2llbm5lLlxuICAgIC8vIGxhIGZvbmN0aW9uIGF0dHJpYnXDqWUgZXN0IGRhdGEuY29tYmF0LnJvbGxJbml0aWF0aXZlXG4gICAgaHRtbC5maW5kKCcuY29tYmF0YW50JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgIC8vIGlmKCBnYW1lLmNvbWJhdC5zdGFydGVkKXtcblxuICAgICAgY29uc3QgY29tYklkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbWJhdGFudC1pZCcpXG4gICAgICBjb25zdCBjb21iYXRhbnRDb250cm9sc0RpdiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jb21iYXRhbnQtY29udHJvbHMnKVxuICAgICAgLy8gY29uc3QgY29tYmF0YW50ID0gZ2FtZS5jb21iYXQuZ2V0Q29tYmF0YW50KGNvbWJJZCk7XG4gICAgICBjb25zdCBjb21iYXRhbnQgPSBjdXJyZW50Q29tYmF0LmNvbWJhdGFudHMuZ2V0KGNvbWJJZClcblxuICAgICAgaWYgKGNvbWJhdGFudC5nZXRGbGFnKCdDb0M3JywgJ2hhc0d1bicpKSB7XG4gICAgICAgICQoY29tYmF0YW50Q29udHJvbHNEaXYpLnByZXBlbmQoXG4gICAgICAgICAgYDxhIGNsYXNzPVwiY29tYmF0YW50LWNvbnRyb2wgYWN0aXZlIGFkZC1pbml0XCIgdGl0bGU9XCIke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICdDb0M3LlB1dEd1bkF3YXknXG4gICAgICAgICAgKX1cIiBkYXRhLWNvbnRyb2w9XCJkcmF3R3VuXCI+PGkgY2xhc3M9XCJnYW1lLWljb24gZ2FtZS1pY29uLXJldm9sdmVyXCI+PC9pPjwvYT5gXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoY29tYmF0YW50Q29udHJvbHNEaXYpLnByZXBlbmQoXG4gICAgICAgICAgYDxhIGNsYXNzPVwiY29tYmF0YW50LWNvbnRyb2wgYWRkLWluaXRcIiB0aXRsZT1cIiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgJ0NvQzcuRHJhd0d1bidcbiAgICAgICAgICApfVwiIGRhdGEtY29udHJvbD1cImRyYXdHdW5cIj48aSBjbGFzcz1cImdhbWUtaWNvbiBnYW1lLWljb24tcmV2b2x2ZXJcIj48L2k+PC9hPmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdpbml0aWF0aXZlUnVsZScpID09PSAnb3B0aW9uYWwnICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlJbml0QXNUZXh0JylcbiAgICAgICkge1xuICAgICAgICBpZiAoY29tYmF0YW50LmluaXRpYXRpdmUpIHtcbiAgICAgICAgICBjb25zdCB0b2tlbkluaXRpYXRpdmUgPSBlbC5xdWVyeVNlbGVjdG9yKCcudG9rZW4taW5pdGlhdGl2ZScpXG4gICAgICAgICAgY29uc3QgaW5pdGlhdGl2ZVRlc3QgPSB0b2tlbkluaXRpYXRpdmUucXVlcnlTZWxlY3RvcignLmluaXRpYXRpdmUnKVxuICAgICAgICAgIGNvbnN0IHJvbGwgPVxuICAgICAgICAgICAgMTAwICogY29tYmF0YW50LmluaXRpYXRpdmUgLSAxMDAgKiBNYXRoLmZsb29yKGNvbWJhdGFudC5pbml0aWF0aXZlKVxuICAgICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihjb21iYXRhbnQuaW5pdGlhdGl2ZSkpIHtcbiAgICAgICAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mdW1ibGU6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdmdW1ibGUnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgICAgICAgICAgaW5pdGlhdGl2ZVRlc3QudGl0bGUgPSByb2xsXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZTpcbiAgICAgICAgICAgICAgdG9rZW5Jbml0aWF0aXZlLmNsYXNzTGlzdC5hZGQoJ2ZhaWx1cmUnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmFpbHVyZScpXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdyZWd1bGFyLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlSZWd1bGFyJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdoYXJkLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlIYXJkJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWU6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdleHRyZW1lLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlFeHRyZW1lJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICAgICAgICB0b2tlbkluaXRpYXRpdmUuY2xhc3NMaXN0LmFkZCgnY3JpdGljYWwnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlDcml0aWNhbCdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC50aXRsZSA9IHJvbGxcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY29tYmF0YW50LmluaXRpYXRpdmUgPCAwKSB7XG4gICAgICAgIGNvbnN0IGg0ID0gZWwucXVlcnlTZWxlY3RvcignLnRva2VuLW5hbWUnKS5xdWVyeVNlbGVjdG9yKCdoNCcpXG4gICAgICAgIGNvbnN0IHNwYW4gPSBlbC5xdWVyeVNlbGVjdG9yKCdzcGFuLmluaXRpYXRpdmUnKVxuICAgICAgICBoNC5zdHlsZS5mb250V2VpZ2h0ID0gJzkwMCdcbiAgICAgICAgaDQuc3R5bGUudGV4dFNoYWRvdyA9ICcxcHggMXB4IDRweCBkYXJrcmVkJ1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnOTAwJ1xuICAgICAgICBzcGFuLnN0eWxlLnRleHRTaGFkb3cgPSAnMXB4IDFweCA0cHggZGFya3JlZCdcblxuICAgICAgICBlbC5zdHlsZS5jb2xvciA9ICdkYXJrcmVkJ1xuICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJ1xuICAgICAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJzkwMCdcbiAgICAgIH1cbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLmFkZC1pbml0JykuY2xpY2soZXZlbnQgPT4gQ29DN0NvbWJhdC5fb25Ub2dnbGVHdW4oZXZlbnQpKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vblRvZ2dsZUd1biAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCBidG4gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgbGkgPSBidG4uY2xvc2VzdCgnLmNvbWJhdGFudCcpXG4gICAgY29uc3QgYyA9IGF3YWl0IGdhbWUuY29tYmF0LmNvbWJhdGFudHMuZ2V0KGxpLmRhdGFzZXQuY29tYmF0YW50SWQpXG4gICAgaWYgKGMuYWN0b3IuaXNPd25lcikge1xuICAgICAgaWYgKGMuZ2V0RmxhZygnQ29DNycsICdoYXNHdW4nKSkge1xuICAgICAgICBhd2FpdCBjLnNldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJywgZmFsc2UpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjLnNldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJywgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZXdJbml0ID0gYXdhaXQgYy5hY3Rvci5yb2xsSW5pdGlhdGl2ZSghIWMuZ2V0RmxhZygnQ29DNycsICdoYXNHdW4nKSlcbiAgICBpZiAoYy5nZXRGbGFnKCdDb0M3JywgJ2hhc0d1bicpKSB7XG4gICAgICBpZiAoYy5pbml0aWF0aXZlIDwgbmV3SW5pdCkgZ2FtZS5jb21iYXQuc2V0SW5pdGlhdGl2ZShjLmlkLCBuZXdJbml0KVxuICAgIH0gZWxzZSBnYW1lLmNvbWJhdC5zZXRJbml0aWF0aXZlKGMuaWQsIG5ld0luaXQpXG4gIH1cbn1cblxuLyoqXG4gKiBSb2xsIGluaXRpYXRpdmUgZm9yIG9uZSBvciBtdWx0aXBsZSBDb21iYXRhbnRzIHdpdGhpbiB0aGUgQ29tYmF0IGVudGl0eVxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGlkcyAgICAgQSBDb21iYXRhbnQgaWQgb3IgQXJyYXkgb2YgaWRzIGZvciB3aGljaCB0byByb2xsXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnM9e31dICAgICBBZGRpdGlvbmFsIG9wdGlvbnMgd2hpY2ggbW9kaWZ5IGhvdyBpbml0aWF0aXZlIHJvbGxzIGFyZSBjcmVhdGVkIG9yIHByZXNlbnRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IFtvcHRpb25zLmZvcm11bGFdICAgICAgICAgQSBub24tZGVmYXVsdCBpbml0aWF0aXZlIGZvcm11bGEgdG8gcm9sbC4gT3RoZXJ3aXNlIHRoZSBzeXN0ZW0gZGVmYXVsdCBpcyB1c2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51cGRhdGVUdXJuPXRydWVdICAgICBVcGRhdGUgdGhlIENvbWJhdCB0dXJuIGFmdGVyIGFkZGluZyBuZXcgaW5pdGlhdGl2ZSBzY29yZXMgdG8ga2VlcCB0aGUgdHVybiBvbiB0aGUgc2FtZSBDb21iYXRhbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMubWVzc2FnZU9wdGlvbnM9e31dICAgIEFkZGl0aW9uYWwgb3B0aW9ucyB3aXRoIHdoaWNoIHRvIGN1c3RvbWl6ZSBjcmVhdGVkIENoYXQgTWVzc2FnZXNcbiAqIEByZXR1cm4ge1Byb21pc2U8Q29tYmF0Pn0gICAgICAgIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byB0aGUgdXBkYXRlZCBDb21iYXQgZW50aXR5IG9uY2UgdXBkYXRlcyBhcmUgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByb2xsSW5pdGlhdGl2ZSAoXG4gIGlkcyxcbiAgeyBmb3JtdWxhID0gbnVsbCwgdXBkYXRlVHVybiA9IHRydWUsIG1lc3NhZ2VPcHRpb25zID0ge30gfSA9IHt9XG4pIHtcbiAgLy8gSXRlcmF0ZSBvdmVyIENvbWJhdGFudHMsIHBlcmZvcm1pbmcgYW4gaW5pdGlhdGl2ZSByb2xsIGZvciBlYWNoXG4gIGNvbnN0IHVwZGF0ZXMgPSBbXVxuICBmb3IgKGNvbnN0IFssIGlkXSBvZiBpZHMuZW50cmllcygpKSB7XG4gICAgLy8gR2V0IENvbWJhdGFudCBkYXRhIChub24tc3RyaWN0bHkpXG4gICAgY29uc3QgY29tYmF0YW50ID0gdGhpcy5jb21iYXRhbnRzLmdldChpZClcblxuICAgIC8vIFByb2R1Y2UgYW4gaW5pdGlhdGl2ZSByb2xsIGZvciB0aGUgQ29tYmF0YW50XG4gICAgY29uc3Qgcm9sbCA9IGF3YWl0IGNvbWJhdGFudC5hY3Rvci5yb2xsSW5pdGlhdGl2ZShcbiAgICAgICEhY29tYmF0YW50LmdldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJylcbiAgICApXG4gICAgdXBkYXRlcy5wdXNoKHsgX2lkOiBpZCwgaW5pdGlhdGl2ZTogcm9sbCB9KVxuICB9XG4gIGlmICghdXBkYXRlcy5sZW5ndGgpIHJldHVybiB0aGlzXG5cbiAgLy8gVXBkYXRlIG11bHRpcGxlIGNvbWJhdGFudHNcbiAgYXdhaXQgdGhpcy51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnQ29tYmF0YW50JywgdXBkYXRlcylcblxuICByZXR1cm4gdGhpc1xufVxuIiwiLyogZ2xvYmFsICQsIENPTkZJRywgZHVwbGljYXRlLCBleHBhbmRPYmplY3QsIGZsYXR0ZW5PYmplY3QsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgSXRlbSwgbWVyZ2VPYmplY3QgKi9cbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0NJREJhdGNoIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NvYy1pZC1lZGl0b3InXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2NvYy1pZC1iYXRjaC5oYnMnLFxuICAgICAgd2lkdGg6IDcwMCxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgdGl0bGU6ICdDb0M3LkNvQ0lERmxhZy50aXRsZScsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgIHN1Ym1pdE9uQ2xvc2U6IGZhbHNlLFxuICAgICAgc3VibWl0T25DaGFuZ2U6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5mb3VuZEtleXMgPSBPYmplY3Qua2V5cyhzaGVldERhdGEub2JqZWN0LmZvdW5kS2V5cykucmVkdWNlKChvdXQsIGtleSkgPT4ge1xuICAgICAgb3V0LnB1c2goeyBuYW1lOiBrZXksIGtleTogc2hlZXREYXRhLm9iamVjdC5mb3VuZEtleXNba2V5XSB9KVxuICAgICAgcmV0dXJuIG91dFxuICAgIH0sIFtdKS5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICBzaGVldERhdGEubWlzc2luZ05hbWVzID0gT2JqZWN0LmtleXMoc2hlZXREYXRhLm9iamVjdC5taXNzaW5nTmFtZXMpLnJlZHVjZSgob3V0LCBrZXkpID0+IHtcbiAgICAgIG91dC5wdXNoKHsga2V5OiBzaGVldERhdGEub2JqZWN0LmZvdW5kS2V5c1trZXldID8/ICcnLCBuYW1lOiBrZXksIGN1c3RvbTogc2hlZXREYXRhLm9iamVjdC5taXNzaW5nTmFtZXNba2V5XSwgc3VmZml4OiBzaGVldERhdGEub2JqZWN0Lm1pc3NpbmdOYW1lc1trZXldLnJlcGxhY2UodGhpcy5vYmplY3Quc3VmZml4UmVnRXhwLCAnJykgfSlcbiAgICAgIHJldHVybiBvdXRcbiAgICB9LCBbXSkuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGh0bWwuZmluZCgnLmV4aXN0aW5nJykuY2hhbmdlKHRoaXMub25TZXROYW1lLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZmEtd2FuZC1tYWdpYycpLmNsaWNrKHRoaXMub25DbGlja0d1ZXNzLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdpbnB1dCcpLmtleXVwKHRoaXMub25LZXl1cC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgb25TZXROYW1lIChldmVudCkge1xuICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICB0aGlzLm9iamVjdC5taXNzaW5nTmFtZXNbb2JqLmNsb3Nlc3QoJ2xpJykuZGF0YSgnbmFtZScpXSA9IG9iai52YWwoKVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBvbkNsaWNrR3Vlc3MgKGV2ZW50KSB7XG4gICAgY29uc3Qgb2JqID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IG5hbWUgPSBvYmouY2xvc2VzdCgnbGknKS5kYXRhKCduYW1lJylcbiAgICB0aGlzLm9iamVjdC5taXNzaW5nTmFtZXNbbmFtZV0gPSB0aGlzLm9iamVjdC5pZFByZWZpeCArIENvQzdVdGlsaXRpZXMudG9LZWJhYkNhc2UobmFtZSlcbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgb25LZXl1cCAoZXZlbnQpIHtcbiAgICBjb25zdCBvYmogPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgbmFtZSA9IG9iai5jbG9zZXN0KCdsaScpLmRhdGEoJ25hbWUnKVxuICAgIHRoaXMub2JqZWN0Lm1pc3NpbmdOYW1lc1tuYW1lXSA9IHRoaXMub2JqZWN0LmlkUHJlZml4ICsgb2JqLnZhbCgpXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBpZiAoZXZlbnQuc3VibWl0dGVyKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3QudHlwZU5hbWUgPT09IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5Ta2lsbCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICBhd2FpdCBDb0NJREJhdGNoLnByb2Nlc3NTa2lsbEtleXModGhpcy5vYmplY3QudXBkYXRlTGlzdCwgdGhpcy5vYmplY3QubWlzc2luZ05hbWVzKVxuICAgICAgfVxuICAgICAgdGhpcy5vYmplY3QucmVzb2x2ZSh0cnVlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBwcm9jZXNzU2tpbGxLZXlzICh1cGRhdGVMaXN0LCBtaXNzaW5nTmFtZXMpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdXG4gICAgY29uc3QgYWN0b3JzID0ge31cbiAgICBjb25zdCBzY2VuZXMgPSB7fVxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZUxpc3QpIHtcbiAgICAgIHVwZGF0ZS5jb2NpZEZsYWcuaWQgPSBtaXNzaW5nTmFtZXNbdXBkYXRlLm5hbWVdXG4gICAgICBpZiAodHlwZW9mIHVwZGF0ZS5jb2NpZEZsYWcubGFuZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlLmNvY2lkRmxhZy5sYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdXBkYXRlLmNvY2lkRmxhZy5wcmlvcml0eSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlLmNvY2lkRmxhZy5wcmlvcml0eSA9IDBcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdXBkYXRlLmNvY2lkRmxhZy5lcmFzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1cGRhdGUuY29jaWRGbGFnLmVyYXMgPSB7fVxuICAgICAgfVxuICAgICAgY29uc3QgZmxhZ3MgPSBmbGF0dGVuT2JqZWN0KHsgZmxhZ3M6IHsgQ29DNzogeyBjb2NpZEZsYWc6IHVwZGF0ZS5jb2NpZEZsYWcgfSB9IH0pXG4gICAgICBpZiAodHlwZW9mIHVwZGF0ZS5zY2VuZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2VuZXNbdXBkYXRlLnNjZW5lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldCh1cGRhdGUuc2NlbmUpXG4gICAgICAgICAgc2NlbmVzW3VwZGF0ZS5zY2VuZV0gPSBzY2VuZS50b09iamVjdCgpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5PZmZzZXQgPSBzY2VuZXNbdXBkYXRlLnNjZW5lXS50b2tlbnMuZmluZEluZGV4KHQgPT4gdC5faWQgPT09IHVwZGF0ZS50b2tlbilcbiAgICAgICAgaWYgKHRva2VuT2Zmc2V0ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBpdGVtT2Zmc2V0ID0gc2NlbmVzW3VwZGF0ZS5zY2VuZV0udG9rZW5zW3Rva2VuT2Zmc2V0XS5hY3RvckRhdGEuaXRlbXMuZmluZEluZGV4KGkgPT4gaS5faWQgPT09IHVwZGF0ZS5pdGVtKVxuICAgICAgICAgIGlmIChpdGVtT2Zmc2V0ID4gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkRmxhZ3MgPSBleHBhbmRPYmplY3QoT2JqZWN0LmVudHJpZXMoZmxhZ3MpLnJlZHVjZSgob3V0LCBlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZW50cnlbMF0ubWF0Y2goL15mbGFnc1xcLkNvQzdcXC5jb2NpZEZsYWcvKSkge1xuICAgICAgICAgICAgICAgIG91dFtlbnRyeVswXV0gPSBlbnRyeVsxXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBvdXRcbiAgICAgICAgICAgIH0sIHt9KSlcbiAgICAgICAgICAgIHNjZW5lc1t1cGRhdGUuc2NlbmVdLnRva2Vuc1t0b2tlbk9mZnNldF0uYWN0b3JEYXRhLml0ZW1zW2l0ZW1PZmZzZXRdID0gbWVyZ2VPYmplY3Qoc2NlbmVzW3VwZGF0ZS5zY2VuZV0udG9rZW5zW3Rva2VuT2Zmc2V0XS5hY3RvckRhdGEuaXRlbXNbaXRlbU9mZnNldF0sIGV4cGFuZGVkRmxhZ3MpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB1cGRhdGUuYWN0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0b3JzW3VwZGF0ZS5hY3Rvcl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgYWN0b3JzW3VwZGF0ZS5hY3Rvcl0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgX2lkOiB1cGRhdGUuaXRlbVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGZsYWdzKSkge1xuICAgICAgICAgIGlmIChrZXkubWF0Y2goL15mbGFnc1xcLkNvQzdcXC5jb2NpZEZsYWcvKSkge1xuICAgICAgICAgICAgaXRlbVtrZXldID0gZmxhZ3Nba2V5XVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3RvcnNbdXBkYXRlLmFjdG9yXS5wdXNoKGl0ZW0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgIF9pZDogdXBkYXRlLml0ZW1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhmbGFncykpIHtcbiAgICAgICAgICBpZiAoa2V5Lm1hdGNoKC9eZmxhZ3NcXC5Db0M3XFwuY29jaWRGbGFnLykpIHtcbiAgICAgICAgICAgIGl0ZW1ba2V5XSA9IGZsYWdzW2tleV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICBhd2FpdCBJdGVtLnVwZGF0ZURvY3VtZW50cyhpdGVtcylcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGFjdG9ycykubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGFjdG9ySWQgb2YgT2JqZWN0LmtleXMoYWN0b3JzKSkge1xuICAgICAgICBhd2FpdCBJdGVtLnVwZGF0ZURvY3VtZW50cyhhY3RvcnNbYWN0b3JJZF0sIHsgcGFyZW50OiBnYW1lLmFjdG9ycy5nZXQoYWN0b3JJZCkgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHNjZW5lcykubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IHNjZW5lSWQgb2YgT2JqZWN0LmtleXMoc2NlbmVzKSkge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBzY2VuZS51cGRhdGUoc2NlbmVzW3NjZW5lSWRdKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHBvcHVsYXRlU2tpbGxLZXlzICh1cGRhdGVMaXN0LCBtaXNzaW5nTmFtZXMsIGZvdW5kS2V5cykge1xuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgZ2FtZS5hY3RvcnMuY29udGVudHMpIHtcbiAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGFjdG9yLnRvT2JqZWN0KClcbiAgICAgIGlmIChhY3RvckRhdGEuaXRlbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFjdG9yRGF0YS5pdGVtcykge1xuICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gaXRlbSBpbnN0YW5jZW9mIENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3MgPyBpdGVtLnRvT2JqZWN0KCkgOiBpdGVtXG4gICAgICAgICAgaWYgKGl0ZW1EYXRhLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgICAgICAgIGlmICghaXRlbURhdGEuZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZD8ubWF0Y2goL15pLnNraWxsLykpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nTmFtZXNbaXRlbURhdGEubmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID0gJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB1cGRhdGVMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdG9yOiBhY3Rvci5faWQsXG4gICAgICAgICAgICAgICAgaXRlbTogaXRlbURhdGEuX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgY29jaWRGbGFnOiBpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWcgPz8ge31cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvdW5kS2V5c1tpdGVtRGF0YS5uYW1lXSA9IGl0ZW1EYXRhLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBnYW1lLml0ZW1zLmNvbnRlbnRzKSB7XG4gICAgICBjb25zdCBpdGVtRGF0YSA9IGl0ZW0gaW5zdGFuY2VvZiBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzID8gaXRlbS50b09iamVjdCgpIDogaXRlbVxuICAgICAgaWYgKGl0ZW1EYXRhLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgICAgaWYgKCFpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWc/LmlkPy5tYXRjaCgvXmkuc2tpbGwvKSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID0gJydcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlTGlzdC5wdXNoKHtcbiAgICAgICAgICAgIGl0ZW06IGl0ZW1EYXRhLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgICBjb2NpZEZsYWc6IGl0ZW1EYXRhLmZsYWdzLkNvQzc/LmNvY2lkRmxhZyA/PyB7fVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm91bmRLZXlzW2l0ZW1EYXRhLm5hbWVdID0gaXRlbURhdGEuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzKSB7XG4gICAgICBjb25zdCBzY2VuZURhdGEgPSBzY2VuZS50b09iamVjdCgpXG4gICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNjZW5lRGF0YS50b2tlbnMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRva2VuLmFjdG9ySWQgJiYgIXRva2VuLmFjdG9yTGluaykge1xuICAgICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGR1cGxpY2F0ZSh0b2tlbi5hY3RvckRhdGEpXG4gICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFjdG9yRGF0YS5pdGVtcyA/PyBbXSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBpdGVtIGluc3RhbmNlb2YgQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzcyA/IGl0ZW0udG9PYmplY3QoKSA6IGl0ZW1cbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgICAgIGlmICghaXRlbURhdGEuZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZD8ubWF0Y2goL15pLnNraWxsLykpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pc3NpbmdOYW1lc1tpdGVtRGF0YS5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIG1pc3NpbmdOYW1lc1tpdGVtRGF0YS5uYW1lXSA9ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICBzY2VuZTogc2NlbmVEYXRhLl9pZCxcbiAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbi5faWQsXG4gICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtRGF0YS5faWQsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgY29jaWRGbGFnOiBpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWcgPz8ge31cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvdW5kS2V5c1tpdGVtRGF0YS5uYW1lXSA9IGl0ZW1EYXRhLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKG1pc3NpbmdOYW1lcykuZmlsdGVyKGtleSA9PiBtaXNzaW5nTmFtZXNba2V5XSA9PT0gJycpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiAvXmlcXC5za2lsbFxcLi8sIHR5cGU6ICdpJywgZXJhOiBmYWxzZSB9KVxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGZvdW5kS2V5c1tpdGVtLm5hbWVdID0gaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZFxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmxhdHRlbk9iamVjdChnYW1lLmkxOG4udHJhbnNsYXRpb25zLkNvQzcuQ29DSURGbGFnLmtleXMgPz8ge30pKSB7XG4gICAgICAgIGZvdW5kS2V5c1tnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5rZXlzLicgKyBrZXkpXSA9IGtleVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIG1pc3NpbmdOYW1lcykge1xuICAgICAgICBpZiAodHlwZW9mIGZvdW5kS2V5c1tuYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBtaXNzaW5nTmFtZXNbbmFtZV0gPSBmb3VuZEtleXNbbmFtZV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKHR5cGUpIHtcbiAgICBjb25zdCB1cGRhdGVMaXN0ID0gW11cbiAgICBjb25zdCBtaXNzaW5nTmFtZXMgPSB7fVxuICAgIGNvbnN0IGZvdW5kS2V5cyA9IHt9XG4gICAgbGV0IHR5cGVOYW1lID0gJydcbiAgICBsZXQgaWRQcmVmaXggPSAnJ1xuICAgIGxldCBzdWZmaXhSZWdFeHAgPSBudWxsXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgIHR5cGVOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlNraWxsJylcbiAgICAgICAgaWRQcmVmaXggPSAnaS5za2lsbC4nXG4gICAgICAgIHN1ZmZpeFJlZ0V4cCA9IC9eaVxcLnNraWxsXFwuL1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGF3YWl0IENvQ0lEQmF0Y2gucG9wdWxhdGVTa2lsbEtleXModXBkYXRlTGlzdCwgbWlzc2luZ05hbWVzLCBmb3VuZEtleXMpXG4gICAgaWYgKE9iamVjdC5rZXlzKG1pc3NpbmdOYW1lcykuZmlsdGVyKGtleSA9PiBtaXNzaW5nTmFtZXNba2V5XSA9PT0gJycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYXdhaXQgQ29DSURCYXRjaC5wcm9jZXNzU2tpbGxLZXlzKHVwZGF0ZUxpc3QsIG1pc3NpbmdOYW1lcylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBDb0NJREJhdGNoKHsgdHlwZU5hbWUsIGlkUHJlZml4LCBzdWZmaXhSZWdFeHAsIHVwZGF0ZUxpc3QsIG1pc3NpbmdOYW1lcywgZm91bmRLZXlzLCByZXNvbHZlIH0pXG4gICAgICBkbGcucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIENPTkZJRywgRGlhbG9nLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZm91bmRyeSwgZ2FtZSwgaXNOZXdlclZlcnNpb24sIG1lcmdlT2JqZWN0LCB1aSAqL1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuL2l0ZW1zL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0NJREJhdGNoIH0gZnJvbSAnLi9hcHBzL2NvYy1pZC1iYXRjaC5qcydcblxuZXhwb3J0IGNsYXNzIFVwZGF0ZXIge1xuICBzdGF0aWMgYXN5bmMgY2hlY2tGb3JVcGRhdGUgKCkge1xuICAgIGxldCBzeXN0ZW1VcGRhdGVWZXJzaW9uID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlVmVyc2lvbicpXG4gICAgaWYgKGdhbWUuYWN0b3JzLnNpemUgKyBnYW1lLnNjZW5lcy5zaXplICsgZ2FtZS5pdGVtcy5zaXplICsgZ2FtZS5qb3VybmFsLnNpemUgKyBnYW1lLnRhYmxlcy5zaXplID09PSAwKSB7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gYWN0b3JzLCBpdGVtcywgam91cm5hbHMsIHJvbGwgdGFibGVzLCBvciBzY2VuZXMgc2tpcCB3b3JsZCB1cGRhdGVcbiAgICAgIHN5c3RlbVVwZGF0ZVZlcnNpb24gPSBnYW1lLnN5c3RlbS52ZXJzaW9uXG4gICAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVWZXJzaW9uJywgc3lzdGVtVXBkYXRlVmVyc2lvbilcbiAgICB9XG4gICAgY29uc3QgcnVuTWlncmF0ZSA9IGlzTmV3ZXJWZXJzaW9uKGdhbWUuc3lzdGVtLnZlcnNpb24sIHN5c3RlbVVwZGF0ZVZlcnNpb24gPz8gJzAnKVxuICAgIHRoaXMudXBkYXRlZE1vZHVsZXMgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVkTW9kdWxlVmVyc2lvbicpIHx8IHt9XG4gICAgdGhpcy5jdXJyZW50TW9kdWxlcyA9IHt9XG4gICAgZm9yIChjb25zdCBwYWNrIG9mIGdhbWUucGFja3MpIHtcbiAgICAgIGlmICghWydDb0M3JywgJ3dvcmxkJ10uaW5jbHVkZXMocGFjay5tZXRhZGF0YS5wYWNrYWdlTmFtZSkgJiYgWydBY3RvcicsICdJdGVtJywgJ1NjZW5lJ10uaW5jbHVkZXMocGFjay5tZXRhZGF0YS50eXBlKSkge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnJlbnRNb2R1bGVzLCBwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lKSkge1xuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byBjaGVjayBlYWNoIG1vZHVsZSBvbmNlXG4gICAgICAgICAgY29uc3QgbW9kdWxlID0gZ2FtZS5tb2R1bGVzLmdldChwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lKVxuICAgICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIGlmIChydW5NaWdyYXRlIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy51cGRhdGVkTW9kdWxlcywgbW9kdWxlLmlkKSB8fCBTdHJpbmcodGhpcy51cGRhdGVkTW9kdWxlc1ttb2R1bGUuaWRdKSAhPT0gU3RyaW5nKG1vZHVsZS52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAvLyBBIG1pZ3JhdGlvbiBpcyByZXF1aXJlZCwgbW9kdWxlIGhhcyBub3QgYmVlbiB1cGRhdGVkIGJlZm9yZSwgb3IgdGhlIHZlcnNpb24gbnVtYmVyIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudE1vZHVsZXNbbW9kdWxlLmlkXSA9IG1vZHVsZS52ZXJzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChydW5NaWdyYXRlIHx8IE9iamVjdC5rZXlzKHRoaXMuY3VycmVudE1vZHVsZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBuZXcgRGlhbG9nKHtcbiAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVGl0bGUnKSxcbiAgICAgICAgICBjb250ZW50OiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jdXJyZW50TW9kdWxlcykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgID8gJ0NvQzcuTWlncmF0ZS5NZXNzYWdlJ1xuICAgICAgICAgICAgICA6ICdDb0M3Lk1pZ3JhdGUuV2l0aE1vZHVsZXNNZXNzYWdlJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmVyc2lvbjogZ2FtZS5zeXN0ZW0udmVyc2lvbixcbiAgICAgICAgICAgICAgbW9kdWxlczpcbiAgICAgICAgICAgICAgICAnPHVsPjxsaT4nICtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmN1cnJlbnRNb2R1bGVzKVxuICAgICAgICAgICAgICAgICAgLm1hcChtb2QgPT4gZ2FtZS5tb2R1bGVzLmdldChtb2QpLnRpdGxlKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oJzwvbGk+PGxpPicpICtcbiAgICAgICAgICAgICAgICAnPC9saT48L3VsPidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuQnV0dG9uVXBkYXRlJyksXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiBVcGRhdGVyLnVwZGF0ZSgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2tpcDoge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuQnV0dG9uU2tpcCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KS5yZW5kZXIodHJ1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWlncmF0ZS5UaXRsZScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5HTVJlcXVpcmVkJywge1xuICAgICAgICAgICAgdmVyc2lvbjogZ2FtZS5zeXN0ZW0udmVyc2lvblxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIE9LOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWlncmF0ZS5CdXR0b25Pa2F5JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLnJlbmRlcih0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGUgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlRG9jdW1lbnRzKClcblxuICAgIC8vIC8vIElmIHdlIHB1dCB1cCBhIHRlbXBvcmFyeSBzY2VuZSByZXR1cm4gdGhlIHVzZXIgYW5kIHJlbW92ZSBpdFxuICAgIC8vIGlmIChcbiAgICAvLyAgIHR5cGVvZiB0aGlzLnRlbXBvcmFyeVNjZW5lICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vICAgdHlwZW9mIHRoaXMub3JpZ2luYWxTY2VuZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAvLyApIHtcbiAgICAvLyAgIGF3YWl0IHRoaXMub3JpZ2luYWxTY2VuZS52aWV3KClcbiAgICAvLyAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcbiAgICAvLyAgIGF3YWl0IHRoaXMudGVtcG9yYXJ5U2NlbmUuZGVsZXRlKClcbiAgICAvLyB9XG5cbiAgICAvLyBNaWdyYXRlIFNldHRpbmdzIGlmIFB1bHAgUnVsZXMgaXMgZW5hYmxlZCB0dXJuIG9uIGFsbCBydWxlc1xuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZXMnKSkge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVEb3VibGVNYXhIZWFsdGgnLCB0cnVlKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVEZXZlbG9wbWVudFJvbGxMdWNrJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlT3JnYW5pemF0aW9uJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycsIHRydWUpXG4gICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdwdWxwUnVsZUZhc3RlclJlY292ZXJ5JywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlSWdub3JlTWFqb3JXb3VuZHMnLCB0cnVlKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMnLCB0cnVlKVxuICAgIH1cblxuICAgIGF3YWl0IENvQ0lEQmF0Y2guY3JlYXRlKCdza2lsbCcpXG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IG1lcmdlT2JqZWN0KHRoaXMudXBkYXRlZE1vZHVsZXMgfHwge30sIHRoaXMuY3VycmVudE1vZHVsZXMpXG4gICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlZE1vZHVsZVZlcnNpb24nLCBzZXR0aW5ncylcbiAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVWZXJzaW9uJywgZ2FtZS5zeXN0ZW0udmVyc2lvbilcblxuICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuQ29tcGxldGUnKSwge1xuICAgICAgcGVybWFuZW50OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVEb2N1bWVudHMgKCkge1xuICAgIC8vIE1pZ3JhdGUgV29ybGQgQWN0b3JzXG4gICAgZm9yIChjb25zdCBhY3RvciBvZiBnYW1lLmFjdG9ycy5jb250ZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHRoaXMubWlncmF0ZUFjdG9yRGF0YShhY3Rvci50b09iamVjdCgpKVxuICAgICAgICBpZiAoIWZvdW5kcnkudXRpbHMuaXNFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgQWN0b3IgZG9jdW1lbnQgJHthY3Rvci5uYW1lfWApXG4gICAgICAgICAgYXdhaXQgYWN0b3IudXBkYXRlKHVwZGF0ZURhdGEsIHsgZW5mb3JjZVR5cGVzOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGRldGFpbHMnLCBlcnIpXG4gICAgICAgIGVyci5tZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NaWdyYXRlLkVycm9yQWN0b3InLCB7XG4gICAgICAgICAgbmFtZTogYWN0b3IubmFtZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVyci5tZXNzYWdlLCB7IHBlcm1hbmVudDogdHJ1ZSB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1pZ3JhdGUgV29ybGQgSXRlbXNcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2FtZS5pdGVtcy5jb250ZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IFVwZGF0ZXIubWlncmF0ZUl0ZW1EYXRhKGl0ZW0udG9PYmplY3QoKSlcbiAgICAgICAgaWYgKCFmb3VuZHJ5LnV0aWxzLmlzRW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEl0ZW0gZG9jdW1lbnQgJHtpdGVtLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCBpdGVtLnVwZGF0ZSh1cGRhdGVEYXRhLCB7IGVuZm9yY2VUeXBlczogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvckl0ZW0nLCB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBXb3JsZCBUYWJsZXNcbiAgICBmb3IgKGNvbnN0IHRhYmxlIG9mIGdhbWUudGFibGVzLmNvbnRlbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlVGFibGVEYXRhKHRhYmxlLnRvT2JqZWN0KCkpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBUYWJsZSBkb2N1bWVudCAke3RhYmxlLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCB0YWJsZS51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZGV0YWlscycsIGVycilcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuRXJyb3JUYWJsZScsIHtcbiAgICAgICAgICBuYW1lOiB0YWJsZS5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBNYWNyb3NcbiAgICBmb3IgKGNvbnN0IG1hY3JvIG9mIGdhbWUubWFjcm9zLmNvbnRlbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlTWFjcm9EYXRhKG1hY3JvLnRvT2JqZWN0KCkpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBNYWNybyBkb2N1bWVudCAke21hY3JvLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCBtYWNyby51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZGV0YWlscycsIGVycilcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuRXJyb3JNYWNybycsIHtcbiAgICAgICAgICBuYW1lOiBtYWNyby5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBTY2VuZXMgW1Rva2VuXSBBY3RvcnNcbiAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlU2NlbmVEYXRhKHNjZW5lKVxuICAgICAgICBpZiAoIWZvdW5kcnkudXRpbHMuaXNFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgU2NlbmUgZG9jdW1lbnQgJHtzY2VuZS5uYW1lfWApXG4gICAgICAgICAgLy8gaWYgKFxuICAgICAgICAgIC8vICAgc2NlbmUuaWQgPT09IGdhbWUuc2NlbmVzLmN1cnJlbnQuaWQgJiZcbiAgICAgICAgICAvLyAgIHR5cGVvZiB0aGlzLnRlbXBvcmFyeVNjZW5lID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIC8vICAgdHlwZW9mIHRoaXMub3JpZ2luYWxTY2VuZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAvLyApIHtcbiAgICAgICAgICAvLyAgIHRoaXMudGVtcG9yYXJ5U2NlbmUgPSBhd2FpdCBTY2VuZS5jcmVhdGUoe1xuICAgICAgICAgIC8vICAgICBuYW1lOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuVXBkYXRlQ3VycmVudFNjZW5lJyksXG4gICAgICAgICAgLy8gICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnXG4gICAgICAgICAgLy8gICB9KVxuICAgICAgICAgIC8vICAgdGhpcy5vcmlnaW5hbFNjZW5lID0gc2NlbmVcbiAgICAgICAgICAvLyAgIGF3YWl0IERyYXdpbmdEb2N1bWVudC5jcmVhdGUoXG4gICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAvLyAgICAgICBhdXRob3I6IGdhbWUudXNlci5pZCxcbiAgICAgICAgICAvLyAgICAgICBzaGFwZToge1xuICAgICAgICAgIC8vICAgICAgICAgdHlwZTogJ3InLFxuICAgICAgICAgIC8vICAgICAgICAgd2lkdGg6IDE2MDAsXG4gICAgICAgICAgLy8gICAgICAgICBoZWlnaHQ6IDIwMFxuICAgICAgICAgIC8vICAgICAgIH0sXG4gICAgICAgICAgLy8gICAgICAgeDogMjIwMCxcbiAgICAgICAgICAvLyAgICAgICB5OiAyMjAwLFxuICAgICAgICAgIC8vICAgICAgIHo6IDAsXG4gICAgICAgICAgLy8gICAgICAgc3Ryb2tlV2lkdGg6IDAsXG4gICAgICAgICAgLy8gICAgICAgdGV4dDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NaWdyYXRlLlVwZGF0ZUN1cnJlbnRTY2VuZScpLFxuICAgICAgICAgIC8vICAgICAgIGZvbnRGYW1pbHk6ICdTaWduaWthJyxcbiAgICAgICAgICAvLyAgICAgICBmb250U2l6ZTogMTI4LFxuICAgICAgICAgIC8vICAgICAgIHRleHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAgIC8vICAgICAgIHRleHRBbHBoYTogMSxcbiAgICAgICAgICAvLyAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgIC8vICAgICAgIGxvY2tlZDogdHJ1ZVxuICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgLy8gICAgICAgcGFyZW50OiB0aGlzLnRlbXBvcmFyeVNjZW5lXG4gICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAvLyAgIClcbiAgICAgICAgICAvLyAgIGF3YWl0IHRoaXMudGVtcG9yYXJ5U2NlbmUudmlldygpXG4gICAgICAgICAgLy8gICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGF3YWl0IHNjZW5lLnVwZGF0ZSh1cGRhdGVEYXRhLCB7IGVuZm9yY2VUeXBlczogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgICAgICBzY2VuZS50b2tlbnMuZm9yRWFjaCh0ID0+ICh0Ll9hY3RvciA9IG51bGwpKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvclNjZW5lJywge1xuICAgICAgICAgIG5hbWU6IHNjZW5lLm5hbWUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihlcnIubWVzc2FnZSwgeyBwZXJtYW5lbnQ6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNaWdyYXRlIFdvcmxkIENvbXBlbmRpdW0gUGFja3NcbiAgICBmb3IgKGNvbnN0IHBhY2sgb2YgZ2FtZS5wYWNrcykge1xuICAgICAgaWYgKFxuICAgICAgICBwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lICE9PSAnQ29DNycgJiZcbiAgICAgICAgWydBY3RvcicsICdJdGVtJywgJ01hY3JvJywgJ1JvbGxUYWJsZScsICdTY2VuZSddLmluY2x1ZGVzKFxuICAgICAgICAgIHBhY2subWV0YWRhdGEudHlwZVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgVXBkYXRlci5taWdyYXRlQ29tcGVuZGl1bURhdGEocGFjaylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZUFjdG9yRGF0YSAoYWN0b3IpIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cblxuICAgIC8vIFVwZGF0ZSBXb3JsZCBBY3RvclxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvckNoYXJhY3RlclNhbml0eShhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JBcnR3b3JrKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvcktlZXBlck5vdGVzKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3Rvck5wY0NyZWF0dXJlKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvclN0YXR1c0VmZmVjdEFjdGl2ZShhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JTYW5Mb3NzUmVhc29ucyhhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JNb25ldGFyeShhY3RvciwgdXBkYXRlRGF0YSlcblxuICAgIC8vIE1pZ3JhdGUgV29ybGQgQWN0b3IgSXRlbXNcbiAgICBpZiAoYWN0b3IuaXRlbXMpIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gYWN0b3IuaXRlbXMucmVkdWNlKChhcnIsIGkpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPVxuICAgICAgICAgIGkgaW5zdGFuY2VvZiBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzID8gaS50b09iamVjdCgpIDogaVxuICAgICAgICBjb25zdCBpdGVtVXBkYXRlID0gVXBkYXRlci5taWdyYXRlSXRlbURhdGEoaXRlbURhdGEpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KGl0ZW1VcGRhdGUpKSB7XG4gICAgICAgICAgaXRlbVVwZGF0ZS5faWQgPSBpdGVtRGF0YS5faWRcbiAgICAgICAgICBhcnIucHVzaChleHBhbmRPYmplY3QoaXRlbVVwZGF0ZSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyclxuICAgICAgfSwgW10pXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVEYXRhLml0ZW1zID0gaXRlbXNcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIG1pZ3JhdGVDb21wZW5kaXVtRGF0YSAocGFjaykge1xuICAgIGNvbnN0IGRvY3VtZW50VHlwZSA9IHBhY2subWV0YWRhdGEudHlwZVxuICAgIGlmIChcbiAgICAgICFbJ0FjdG9yJywgJ0l0ZW0nLCAnTWFjcm8nLCAnUm9sbFRhYmxlJywgJ1NjZW5lJ10uaW5jbHVkZXMoZG9jdW1lbnRUeXBlKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVW5sb2NrIHRoZSBwYWNrIGZvciBlZGl0aW5nXG4gICAgY29uc3Qgd2FzTG9ja2VkID0gcGFjay5sb2NrZWRcbiAgICBhd2FpdCBwYWNrLmNvbmZpZ3VyZSh7IGxvY2tlZDogZmFsc2UgfSlcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYWNrLm1pZ3JhdGUoKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coJ3BhY2sgbWlncmF0ZSBmYWlsZWQnLCBwYWNrLCBlcnIpXG4gICAgfVxuICAgIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IHBhY2suZ2V0RG9jdW1lbnRzKClcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBjb21wZW5kaXVtIGVudHJpZXMgLSBhcHBseWluZyBmaW5lLXR1bmVkIG1pZ3JhdGlvbiBmdW5jdGlvbnNcbiAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgIGxldCB1cGRhdGVEYXRhID0ge31cbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAoZG9jdW1lbnRUeXBlKSB7XG4gICAgICAgICAgY2FzZSAnQWN0b3InOlxuICAgICAgICAgICAgdXBkYXRlRGF0YSA9IFVwZGF0ZXIubWlncmF0ZUFjdG9yRGF0YShkb2MudG9PYmplY3QoKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnSXRlbSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlSXRlbURhdGEoZG9jLnRvT2JqZWN0KCkpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ01hY3JvJzpcbiAgICAgICAgICAgIHVwZGF0ZURhdGEgPSBVcGRhdGVyLm1pZ3JhdGVNYWNyb0RhdGEoZG9jLnRvT2JqZWN0KCkpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ1JvbGxUYWJsZSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlVGFibGVEYXRhKGRvYy50b09iamVjdCgpKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdTY2VuZSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlU2NlbmVEYXRhKGRvYylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgLy8gU2F2ZSB0aGUgZW50cnksIGlmIGRhdGEgd2FzIGNoYW5nZWRcbiAgICAgICAgaWYgKCFmb3VuZHJ5LnV0aWxzLmlzRW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGBNaWdyYXRlZCAke2RvY3VtZW50VHlwZX0gZG9jdW1lbnQgJHtkb2MubmFtZX0gaW4gQ29tcGVuZGl1bSAke3BhY2suY29sbGVjdGlvbn1gXG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IGRvYy51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvckRvY3VtZW50UGFjaycsIHtcbiAgICAgICAgICBuYW1lOiBkb2MubmFtZSxcbiAgICAgICAgICBjb2xsZWN0aW9uOiBwYWNrLmNvbGxlY3Rpb24sXG4gICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihlcnIubWVzc2FnZSwgeyBwZXJtYW5lbnQ6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcHBseSB0aGUgb3JpZ2luYWwgbG9ja2VkIHN0YXR1cyBmb3IgdGhlIHBhY2tcbiAgICBhd2FpdCBwYWNrLmNvbmZpZ3VyZSh7IGxvY2tlZDogd2FzTG9ja2VkIH0pXG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZUl0ZW1EYXRhIChpdGVtKSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG5cbiAgICAvLyBVcGRhdGUgV29ybGQgSXRlbVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtRW1iZWRkZWR2MTAoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUV4cGVyaWVuY2UoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUFydHdvcmsoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUJvb2tBdXRvbWF0ZWQoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUtlZXBlck5vdGVzKGl0ZW0sIHVwZGF0ZURhdGEpXG4gICAgVXBkYXRlci5fbWlncmF0ZUl0ZW1TcGVsbEF1dG9tYXRlZChpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtS2VlcGVyTm90ZXNNZXJnZShpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtRXJhcyhpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtdjEwKGl0ZW0sIHVwZGF0ZURhdGEpXG4gICAgVXBkYXRlci5fbWlncmF0ZUl0ZW1Cb29rVW5pdHMoaXRlbSwgdXBkYXRlRGF0YSlcblxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZU1hY3JvRGF0YSAodGFibGUpIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cblxuICAgIC8vIFVwZGF0ZSBXb3JsZCBBY3RvclxuICAgIFVwZGF0ZXIuX21pZ3JhdGVNYWNyb0FydHdvcmsodGFibGUsIHVwZGF0ZURhdGEpXG5cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIG1pZ3JhdGVUYWJsZURhdGEgKHRhYmxlKSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG5cbiAgICAvLyBVcGRhdGUgV29ybGQgQWN0b3JcbiAgICBVcGRhdGVyLl9taWdyYXRlVGFibGVBcnR3b3JrKHRhYmxlLCB1cGRhdGVEYXRhKVxuXG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBtaWdyYXRlU2NlbmVEYXRhIChzY2VuZSkge1xuICAgIGNvbnN0IHJldHVybnMgPSB7XG4gICAgICB0b2tlbnM6IFtdXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NlbmUudG9rZW5zICE9PSAndW5kZWZpbmVkJyAmJiBzY2VuZS50b2tlbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5zLnRva2VucyA9IHNjZW5lLnRva2Vucy5tYXAodG9rZW4gPT4ge1xuICAgICAgICBjb25zdCB0ID0gdG9rZW4udG9PYmplY3QoKVxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cbiAgICAgICAgVXBkYXRlci5fbWlncmF0ZVRva2VuQXJ0d29yayh0LCB1cGRhdGVEYXRhKVxuICAgICAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlRGF0YSkubGVuZ3RoKSB7XG4gICAgICAgICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdCh0LCB1cGRhdGVEYXRhKVxuICAgICAgICB9XG4gICAgICAgIGlmICghdC5hY3RvcklkIHx8IHQuYWN0b3JMaW5rKSB7XG4gICAgICAgICAgdC5hY3RvckRhdGEgPSB7fVxuICAgICAgICB9IGVsc2UgaWYgKCFnYW1lLmFjdG9ycy5oYXModC5hY3RvcklkKSkge1xuICAgICAgICAgIHQuYWN0b3JJZCA9IG51bGxcbiAgICAgICAgICB0LmFjdG9yRGF0YSA9IHt9XG4gICAgICAgIH0gZWxzZSBpZiAoIXQuYWN0b3JMaW5rKSB7XG4gICAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodC5hY3RvckRhdGEpXG4gICAgICAgICAgYWN0b3JEYXRhLnR5cGUgPSB0b2tlbi5hY3Rvcj8udHlwZVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IFVwZGF0ZXIubWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGEpXG4gICAgICAgICAgO1snaXRlbXMnLCAnZWZmZWN0cyddLmZvckVhY2goZW1iZWRkZWROYW1lID0+IHtcbiAgICAgICAgICAgIGlmICghdXBkYXRlW2VtYmVkZGVkTmFtZV0/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZXMgPSBuZXcgTWFwKHVwZGF0ZVtlbWJlZGRlZE5hbWVdLm1hcCh1ID0+IFt1Ll9pZCwgdV0pKVxuICAgICAgICAgICAgdC5hY3RvckRhdGFbZW1iZWRkZWROYW1lXS5mb3JFYWNoKG9yaWdpbmFsID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlID0gdXBkYXRlcy5nZXQob3JpZ2luYWwuX2lkKVxuICAgICAgICAgICAgICBpZiAodXBkYXRlKSBtZXJnZU9iamVjdChvcmlnaW5hbCwgdXBkYXRlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVbZW1iZWRkZWROYW1lXVxuICAgICAgICAgIH0pXG4gICAgICAgICAgbWVyZ2VPYmplY3QodC5hY3RvckRhdGEsIHVwZGF0ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybnNcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1LZWVwZXJOb3RlcyAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIFtcbiAgICAgICAgJ2FyY2hldHlwZScsXG4gICAgICAgICdjaGFzZScsXG4gICAgICAgICdpdGVtJyxcbiAgICAgICAgJ29jY3VwYXRpb24nLFxuICAgICAgICAnc2V0dXAnLFxuICAgICAgICAnc2tpbGwnLFxuICAgICAgICAnc3BlbGwnLFxuICAgICAgICAnc3RhdHVzJyxcbiAgICAgICAgJ3RhbGVudCcsXG4gICAgICAgICd3ZWFwb24nXG4gICAgICBdLmluY2x1ZGVzKGl0ZW0udHlwZSlcbiAgICApIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbiddID0ge1xuICAgICAgICAgIHZhbHVlOiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBrZWVwZXI6ICcnXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbiA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24gPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24nXSA9IHtcbiAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAga2VlcGVyOiAnJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXInXSA9ICcnXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtRXhwZXJpZW5jZSAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChpdGVtLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hZGp1c3RtZW50cy5leHBlcmllbmNlJ10gPSAwXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtQXJ0d29yayAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGxldCBpbWFnZSA9IFN0cmluZyhpdGVtLmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICB1cGRhdGVEYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgIH1cbiAgICBpZiAoaXRlbS50eXBlID09PSAnc2V0dXAnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5pdGVtcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGltYWdlID0gU3RyaW5nKHYuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddID0gaXRlbS5zeXN0ZW0uaXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLmltZyA9XG4gICAgICAgICAgICAgICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnb2NjdXBhdGlvbicpIHtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLnNraWxscykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGltYWdlID0gU3RyaW5nKHYuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5pbWcgPVxuICAgICAgICAgICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgW28sIGddIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLmdyb3VwcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZy5za2lsbHMpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW1hZ2UgPSBTdHJpbmcodi5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLmdyb3VwcyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXSA9IGl0ZW0uc3lzdGVtLmdyb3Vwc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uaW1nID1cbiAgICAgICAgICAgICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2snKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5zcGVsbHMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5zcGVsbHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWxscyddID0gaXRlbS5zeXN0ZW0uc3BlbGxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3BlbGxzJ11ba10uaW1nID1cbiAgICAgICAgICAgICAgJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhcmNoZXR5cGUnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5za2lsbHMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID0gaXRlbS5zeXN0ZW0uc2tpbGxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ11ba10uaW1nID1cbiAgICAgICAgICAgICAgJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtU3BlbGxBdXRvbWF0ZWQgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnICYmIHR5cGVvZiBpdGVtLnN5c3RlbS5jb3N0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNhc3RpbmdUaW1lJ10gPSBpdGVtLnN5c3RlbS5jYXN0aW5nVGltZSB8fCAnJ1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLmhpdFBvaW50cyddID0gaXRlbS5zeXN0ZW0uY29zdC5ocCB8fCAwXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29zdHMubWFnaWNQb2ludHMnXSA9IGl0ZW0uc3lzdGVtLmNvc3QubXAgfHwgMFxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLnNhbml0eSddID0gaXRlbS5zeXN0ZW0uY29zdC5zYW4gfHwgMFxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLnBvd2VyJ10gPSBpdGVtLnN5c3RlbS5jb3N0LnBvdyB8fCAwXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29zdHMub3RoZXJzJ10gPSAnJ1xuXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1jb3N0J10gPSBudWxsXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24uLT11bmlkZW50aWZpZWQnXSA9IG51bGxcbiAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi4tPW5vdGVzJ10gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJvb2sgYXV0b21hdGlvbiB3YXMgaW5jcmVhc2VkIGluIDAuNi41XG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIERvY3VtZW50IGRhdGEgZXhwcmVzc2VkIGFzIGEgcGxhaW4gb2JqZWN0XG4gICAqIEBwYXJhbSB7anNvbn0gdXBkYXRlRGF0YSBEaWZmZXJlbnRpYWwgdXBkYXRlIGRhdGEgd2hpY2ggbW9kaWZpZXMgdGhlIGV4aXN0aW5nIHZhbHVlcyBvZiB0aGlzIGRvY3VtZW50IGRhdGFcbiAgICogQHJldHVybnMge2pzb259IERpZmZlcmVudGlhbCB1cGRhdGUgZGF0YSB3aGljaCBtb2RpZmllcyB0aGUgZXhpc3RpbmcgdmFsdWVzIG9mIHRoaXMgZG9jdW1lbnQgZGF0YVxuICAgKi9cbiAgc3RhdGljIF9taWdyYXRlSXRlbUJvb2tBdXRvbWF0ZWQgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vaycpIHtcbiAgICAgIC8qKiBJZiBib29rIHN0aWxsIGhhcyB0aGUgc3lzdGVtLmRlc2NyaXB0aW9uLnVuaWRlbnRpZmllZCBrZXkgdGhlbiBydW4gbWlncmF0ZSBvbiBpdCAqL1xuICAgICAgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi51bmlkZW50aWZpZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qKiBGaWVsZHMgY2hhbmdlZCBmcm9tIG51bGwgZGVmYXVsdCB0byBlbXB0eSBzdHJpbmcgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF1dGhvciddID0gaXRlbS5zeXN0ZW0uYXV0aG9yIHx8ICcnXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kYXRlJ10gPSBpdGVtLnN5c3RlbS5kYXRlIHx8ICcnXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5sYW5ndWFnZSddID0gaXRlbS5zeXN0ZW0ubGFuZ3VhZ2UgfHwgJydcbiAgICAgICAgLyoqIEZpZWxkcyBjaGFuZ2VkIGZyb20gbnVsbC9zdHJpbmcgZGVmYXVsdHMgdG8gaW50ZWdlciB0byAwICovXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zYW5pdHlMb3NzJ10gPSBpdGVtLnN5c3RlbS5zYW5Mb3NzIHx8IDBcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm15dGhvc1JhdGluZyddID0gTnVtYmVyKGl0ZW0uc3lzdGVtLm15dGhvc1JhdGluZykgfHwgMFxuICAgICAgICAvKiogUmVuYW1lZC9tb3ZlZCBmaWVsZHMgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbnRlbnQnXSA9IGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uLnVuaWRlbnRpZmllZFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi5ub3Rlc1xuICAgICAgICAvKiogTmV3IGZpZWxkcyBzZXQgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRpZmZpY3VsdHlMZXZlbCddID0gJ3JlZ3VsYXInXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5mdWxsU3R1ZGllcyddID0gMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaW5pdGlhbFJlYWRpbmcnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5rZWVwZXJOb3RlcyddID0gJydcbiAgICAgICAgLyoqIE1vdmUgYW5kIHJlbmFtZSBnYWluIGZpZWxkcyB0byBnYWlucywgZGVmYXVsdCBOYU4gdmFsdWVzIHRvIDAgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmdhaW5zLmN0aHVsaHVNeXRob3MuaW5pdGlhbCddID1cbiAgICAgICAgICBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5jdGh1bGh1TXl0aG9zLkNNSSkgfHwgMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ2FpbnMuY3RodWxodU15dGhvcy5maW5hbCddID1cbiAgICAgICAgICBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5jdGh1bGh1TXl0aG9zLkNNRikgfHwgMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ2FpbnMub2NjdWx0J10gPSBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5vY2N1bHQpIHx8IDBcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmdhaW5zLm90aGVycyddID0gW11cbiAgICAgICAgLyoqIE5ldyBzdHVkeSBmaWVsZCBkZWZhdWx0IG5lY2Vzc2FyeSB0byBpbnRlZ2VyIG9mIHdlZWtzU3R1ZHlUaW1lIG9yIDAgaWYgbm90IHNldCAqL1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3R1ZHknXSA9IHtcbiAgICAgICAgICBuZWNlc3Nhcnk6IE51bWJlcihpdGVtLnN5c3RlbS53ZWVrc1N0dWR5VGltZSkgfHwgMCxcbiAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICB1bml0czogJ0NvQzcud2Vla3MnXG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlbW92ZSBvbGQga2V5cyAqL1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1zYW5Mb3NzJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXdlZWtzU3R1ZHlUaW1lJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPWdhaW4nXSA9IG51bGxcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRlc2NyaXB0aW9uLi09dW5pZGVudGlmaWVkJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi4tPW5vdGVzJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5nYWlucy4tPW90aGVyJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXByb3BlcnRpZXMnXSA9IG51bGxcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLi09ZmxhZ3MnXSA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1Cb29rVW5pdHMgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vaycpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnN0dWR5LnVuaXRzID09PSAndW5kZWZpbmVkJ1xuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zdHVkeS51bml0cyddID0gJ0NvQzcud2Vla3MnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbUtlZXBlck5vdGVzTWVyZ2UgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnIHx8IGl0ZW0udHlwZSA9PT0gJ2Jvb2snKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLm5vdGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyICsgaXRlbS5zeXN0ZW0ubm90ZXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5ub3Rlc1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPW5vdGVzJ10gPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLmtlZXBlck5vdGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXInXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0ua2VlcGVyTm90ZXMgKyB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5rZWVwZXJOb3Rlc1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPWtlZXBlck5vdGVzJ10gPSBudWxsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbUVtYmVkZGVkdjEwIChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ29jY3VwYXRpb24nKSB7XG4gICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IFtvLCBnXSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5ncm91cHMpKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGcuc2tpbGxzKSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmdyb3Vwc1tvXS5za2lsbHNba10uc3lzdGVtID0gdi5kYXRhXG4gICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ10gPSBpdGVtLnN5c3RlbS5ncm91cHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFsnc2V0dXAnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5pdGVtcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5pdGVtc1trXS5zeXN0ZW0gPSB2LmRhdGFcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaXRlbXMnXSA9IGl0ZW0uc3lzdGVtLml0ZW1zXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChbJ2FyY2hldHlwZScsICdvY2N1cGF0aW9uJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2LnN5c3RlbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNraWxsc1trXS5zeXN0ZW0gPSB2LmRhdGFcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFsnYm9vayddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcbiAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2VcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLnNwZWxscykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5zcGVsbHNba10uc3lzdGVtID0gdi5kYXRhXG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWxscyddID0gaXRlbS5zeXN0ZW0uc3BlbGxzXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbXYxMCAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIGl0ZW0udHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgKHR5cGVvZiBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPT09ICd1bmRlZmluZWQnIHx8IGl0ZW0uc3lzdGVtLnNraWxsTmFtZSA9PT0gJycpXG4gICAgKSB7XG4gICAgICB1cGRhdGVEYXRhLm5hbWUgPSBpdGVtLm5hbWVcbiAgICAgIC8vIFVwZGF0ZSBQb2xpc2ggZG9kZ2UgdHJhbnNsYXRpb24gZnJvbSBVbmlraSB0byBVbmlrIHRvIG1hdGNoIHVwZGF0ZSB0byBsYW5nL3BsLmpzb25cbiAgICAgIGlmICh1cGRhdGVEYXRhLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgdXBkYXRlRGF0YS5uYW1lID0gJ1VuaWsnXG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgIHVwZGF0ZURhdGEubmFtZSxcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uLmdyb3VwXG4gICAgICAgICAgOiBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgKVxuICAgICAgdXBkYXRlRGF0YS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxsTmFtZSddID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZXR1cCcpIHtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLml0ZW1zKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddID0gaXRlbS5zeXN0ZW0uaXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLm5hbWUgPSB2Lm5hbWVcbiAgICAgICAgICAgIGlmICh1cGRhdGVEYXRhWydzeXN0ZW0uaXRlbXMnXVtrXS5uYW1lID09PSAnVW5pa2knKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ11ba10ubmFtZSxcbiAgICAgICAgICAgICAgdHlwZW9mIHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uLmdyb3VwXG4gICAgICAgICAgICAgICAgOiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ11ba10ubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdvY2N1cGF0aW9uJykge1xuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gdi5uYW1lXG4gICAgICAgICAgICBpZiAodXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUsXG4gICAgICAgICAgICAgIHR5cGVvZiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbj8uZ3JvdXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbi5ncm91cFxuICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPVxuICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBbbywgZ10gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uZ3JvdXBzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhnLnNraWxscykpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHYudHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ10gPSBpdGVtLnN5c3RlbS5ncm91cHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUgPSB2Lm5hbWVcbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10ubmFtZSA9PT0gJ1VuaWtpJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10ubmFtZSA9ICdVbmlrJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZW9mIHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgID8gdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb24uZ3JvdXBcbiAgICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uc3lzdGVtLnNraWxsTmFtZSA9XG4gICAgICAgICAgICAgICAgcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uc3lzdGVtLnNwZWNpYWxpemF0aW9uID1cbiAgICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnYXJjaGV0eXBlJykge1xuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gdi5uYW1lXG4gICAgICAgICAgICBpZiAodXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUsXG4gICAgICAgICAgICAgIHR5cGVvZiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbj8uZ3JvdXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbi5ncm91cFxuICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPVxuICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1FcmFzIChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5lcmFzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gMTkyMCA9PiBzdGFuZGFyZFxuICAgICAgLy8gbWRybiA9PiBtb2Rlcm4gLyBtb2Rlcm5QdWxwXG4gICAgICAvLyBwdWxwID0+IHB1bHBcbiAgICAgIC8vIGRkdHMgPT4gZG93bkRhcmtlclRyYWlscyAvIGRvd25EYXJrZXJUcmFpbHNQdWxwXG4gICAgICAvLyBkcmthID0+IGRhcmtBZ2VzIC8gZGFya0FnZXNQdWxwXG4gICAgICAvLyBnbGl0ID0+IGdhc0xpZ2h0XG4gICAgICAvLyBudmN0ID0+IGludmljdHVzXG4gICAgICBsZXQgZXJhcyA9IHt9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5lcmFzKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLnNlbGVjdGVkICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnMTkyMCc6XG4gICAgICAgICAgICAgIGVyYXMuc3RhbmRhcmQgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdtZHJuJzpcbiAgICAgICAgICAgICAgZXJhcy5tb2Rlcm4gPSB0cnVlXG4gICAgICAgICAgICAgIGVyYXMubW9kZXJuUHVscCA9IHRydWVcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3B1bHAnOlxuICAgICAgICAgICAgICBlcmFzLnB1bHAgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdkZHRzJzpcbiAgICAgICAgICAgICAgZXJhcy5kb3duRGFya2VyVHJhaWxzID0gdHJ1ZVxuICAgICAgICAgICAgICBlcmFzLmRvd25EYXJrZXJUcmFpbHNQdWxwID0gdHJ1ZVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZHJrYSc6XG4gICAgICAgICAgICAgIGVyYXMuZGFya0FnZXMgPSB0cnVlXG4gICAgICAgICAgICAgIGVyYXMuZGFya0FnZXNQdWxwID0gdHJ1ZVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZ2xpdCc6XG4gICAgICAgICAgICAgIGVyYXMuZ2FzTGlnaHQgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdudmN0JzpcbiAgICAgICAgICAgICAgZXJhcy5pbnZpY3R1cyA9IHRydWVcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzZXR1cCcpIHtcbiAgICAgICAgLy8gSWYgbW9yZSB0aGFuIG9uZSBlcmEgdGFrZSB0aGUgZmlyc3Qgb25lIG9ubHlcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMoZXJhcylbMF1cbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGVyYXMgPSB7IFtrZXldOiB0cnVlIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBlcmFzIGRlZmF1bHQgdG8gc3RhbmRhcmRcbiAgICAgICAgICBlcmFzID0geyBzdGFuZGFyZDogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IENvQzcgPSB7XG4gICAgICAgIGNvY2lkRmxhZzoge1xuICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICBsYW5nOiBnYW1lLmkxOG4ubGFuZyxcbiAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICBlcmFzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaXRlbS5mbGFncz8uQ29DNyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaXRlbS5mbGFncy5Db0M3ID0gQ29DN1xuICAgICAgICB1cGRhdGVEYXRhWydmbGFncy5Db0M3J10gPSBDb0M3XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGl0ZW0uZmxhZ3MuQ29DNy5jb2NpZEZsYWcgPSBDb0M3LmNvY2lkRmxhZ1xuICAgICAgICB1cGRhdGVEYXRhWydmbGFncy5Db0M3LmNvY2lkRmxhZyddID0gQ29DNy5jb2NpZEZsYWdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyA9IENvQzcuY29jaWRGbGFnLmVyYXNcbiAgICAgICAgdXBkYXRlRGF0YVsnZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyddID0gQ29DNy5jb2NpZEZsYWcuZXJhc1xuICAgICAgfVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLi09ZXJhcyddID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yQXJ0d29yayAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBsZXQgaW1hZ2UgPSBTdHJpbmcoYWN0b3IuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgIHVwZGF0ZURhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBhY3Rvci5wcm90b3R5cGVUb2tlbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBhY3Rvci5wcm90b3R5cGVUb2tlbi50ZXh0dXJlPy5zcmMgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBpbWFnZSA9IFN0cmluZyhhY3Rvci5wcm90b3R5cGVUb2tlbi50ZXh0dXJlLnNyYykubWF0Y2goXG4gICAgICAgIC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvXG4gICAgICApXG4gICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsncHJvdG90eXBlVG9rZW4udGV4dHVyZS5zcmMnXSA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGFjdG9yLmVmZmVjdHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhhY3Rvci5lZmZlY3RzKSkge1xuICAgICAgICBpbWFnZSA9IFN0cmluZyh2Lmljb24pLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGEuZWZmZWN0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuZWZmZWN0cyA9IGFjdG9yLmVmZmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlRGF0YS5lZmZlY3RzW2tdLmljb24gPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yS2VlcGVyTm90ZXMgKGFjdG9yLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKFsnY2hhcmFjdGVyJywgJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKGFjdG9yLnR5cGUpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uZGVzY3JpcHRpb24gPT09ICd1bmRlZmluZWQnXG4gICAgICApIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRlc2NyaXB0aW9uJ10gPSB7XG4gICAgICAgICAga2VlcGVyOiAnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlQWN0b3JNb25ldGFyeSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoYWN0b3IudHlwZSA9PT0gJ2NoYXJhY3RlcicgJiYgdHlwZW9mIGFjdG9yLnN5c3RlbS5jcmVkaXQ/Lm11bHRpcGxpZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3ltYm9sJ10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0Py5tb25ldGFyeVN5bWJvbCA/IGFjdG9yLnN5c3RlbS5jcmVkaXQubW9uZXRhcnlTeW1ib2wgOiAnJCdcbiAgICAgIGlmICh1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3ltYm9sJ10udG9TdHJpbmcoKS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5tb25ldGFyeS5zeW1ib2wnXSA9ICckJ1xuICAgICAgfVxuICAgICAgY29uc3QgbXVsdGlwbGllciA9IHBhcnNlSW50KGFjdG9yLnN5c3RlbS5jcmVkaXQubXVsdGlwbGllcikgPyBwYXJzZUludChhY3Rvci5zeXN0ZW0uY3JlZGl0Lm11bHRpcGxpZXIpIDogMVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnNwZW50J10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0LnNwZW50XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuYXNzZXRzRGV0YWlscyddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5hc3NldHNEZXRhaWxzXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3BlbmRpbmdMZXZlbCddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5zcGVuZGluZ0xldmVsXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuY2FzaCddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5jYXNoXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuYXNzZXRzJ10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0LmFzc2V0c1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyddID0gZHVwbGljYXRlKGFjdG9yLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMpXG4gICAgICBpZiAobXVsdGlwbGllciAhPT0gMSkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5tb25ldGFyeS52YWx1ZXMnXSkge1xuICAgICAgICAgIHZhbHVlLmNhc2hWYWx1ZSA9IG11bHRpcGxpZXIgKiB2YWx1ZS5jYXNoVmFsdWVcbiAgICAgICAgICB2YWx1ZS5hc3NldHNWYWx1ZSA9IG11bHRpcGxpZXIgKiB2YWx1ZS5hc3NldHNWYWx1ZVxuICAgICAgICAgIHZhbHVlLnNwZW5kaW5nVmFsdWUgPSBtdWx0aXBsaWVyICogdmFsdWUuc3BlbmRpbmdWYWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1jcmVkaXQnXSA9IG51bGxcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVBY3RvclNhbkxvc3NSZWFzb25zIChhY3RvciwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIGFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInICYmXG4gICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtPy5lbmNvdW50ZXJlZENyZWF0dXJlcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IHt9XG4gICAgICBmb3IgKGNvbnN0IHNhbml0eUxvc3NFdmVudCBvZiBhY3Rvci5zeXN0ZW0uZW5jb3VudGVyZWRDcmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKHNhbml0eUxvc3NFdmVudC50b3RhbExvc3MgPiAwKSB7XG4gICAgICAgICAgZ3JvdXBzW3Nhbml0eUxvc3NFdmVudC5uYW1lXSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgZ3JvdXBzW3Nhbml0eUxvc3NFdmVudC5uYW1lXSA/PyAwLFxuICAgICAgICAgICAgc2FuaXR5TG9zc0V2ZW50LnRvdGFsTG9zc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZ3JvdXBzKSB7XG4gICAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogbmFtZSxcbiAgICAgICAgICB0b3RhbExvc3M6IGdyb3Vwc1tuYW1lXSxcbiAgICAgICAgICBpbW11bml0eTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zYW5pdHlMb3NzRXZlbnRzJ10gPSBzYW5pdHlMb3NzRXZlbnRzXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1lbmNvdW50ZXJlZENyZWF0dXJlcyddID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yU3RhdHVzRWZmZWN0QWN0aXZlIChhY3RvciwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChbJ2NoYXJhY3RlcicsICducGMnLCAnY3JlYXR1cmUnXS5pbmNsdWRlcyhhY3Rvci50eXBlKSkge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAodHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXMgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5jb25kaXRpb25zID09PSAndW5kZWZpbmVkJylcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5jcml0aWNhbFdvdW5kcy52YWx1ZSddID0gZmFsc2VcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudW5jb25zY2lvdXMudmFsdWUnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLmR5aW5nLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5kZWFkLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5wcm9uZS52YWx1ZSddID0gZmFsc2VcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudGVtcG9JbnNhbmUudmFsdWUnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLmluZGVmSW5zYW5lLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmNyaXRpY2FsV291bmRzPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5jcml0aWNhbFdvdW5kcy52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5jcml0aWNhbFdvdW5kcy52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLnN0YXR1cz8udW5jb25zY2lvdXM/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LnVuY29uc2Npb3VzLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLnVuY29uc2Npb3VzLnZhbHVlJ10gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5keWluZz8udmFsdWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgYWN0b3Iuc3lzdGVtLnN0YXR1cz8uZHlpbmcudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMuZHlpbmcudmFsdWUnXSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmRlYWQ/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmRlYWQudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMuZGVhZC52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLnN0YXR1cz8ucHJvbmU/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LnByb25lLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLnByb25lLnZhbHVlJ10gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3RhdHVzPy50ZW1wb0luc2FuZT8udmFsdWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgYWN0b3Iuc3lzdGVtLnN0YXR1cz8udGVtcG9JbnNhbmUudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudGVtcG9JbnNhbmUudmFsdWUnXSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmluZGVmSW5zYW5lPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5pbmRlZkluc2FuZS52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5pbmRlZkluc2FuZS52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYWN0b3IuZWZmZWN0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBlZmZlY3RzID0gYWN0b3IuZWZmZWN0c1xuICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaW0gPSBlZmZlY3RzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVmZmVjdCA9IGVmZmVjdHNbaV1cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZWZmZWN0Lmljb24ubWF0Y2goXG4gICAgICAgICAgICAgIC9cXC8oaGFuZ2luZy1zcGlkZXJ8dGVudGFjbGVzLXNrdWxsfGFybS1zbGluZ3xoZWFydC1iZWF0c3x0b21ic3RvbmV8a25vY2tlZC1vdXQtc3RhcnN8ZmFsbGluZ3xza3VsbHx1bmNvbnNjaW91cylcXC4vXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbGV0IHN0YXR1c0lkID0gJydcbiAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hhbmdpbmctc3BpZGVyJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3RlbXBvSW5zYW5lJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZW50YWNsZXMtc2t1bGwnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnaW5kZWZJbnNhbmUnXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FybS1zbGluZyc6XG4gICAgICAgICAgICAgICAgICBzdGF0dXNJZCA9ICdjcml0aWNhbFdvdW5kcydcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnaGVhcnQtYmVhdHMnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnZHlpbmcnXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvbWJzdG9uZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2t1bGwnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnZGVhZCdcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAna25vY2tlZC1vdXQtc3RhcnMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VuY29uc2Npb3VzJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3VuY29uc2Npb3VzJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdmYWxsaW5nJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3Byb25lJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdHVzSWQgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVEYXRhW2BzeXN0ZW0uY29uZGl0aW9ucy4ke3N0YXR1c0lkfS52YWx1ZWBdKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhW2BzeXN0ZW0uY29uZGl0aW9ucy4ke3N0YXR1c0lkfS52YWx1ZWBdID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5mbGFncy5jb3JlPy5zdGF0dXNJZCAhPT0gc3RhdHVzSWQpIHtcbiAgICAgICAgICAgICAgICAgIGVmZmVjdHNbaV0gPSBtZXJnZU9iamVjdChlZmZlY3QsIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb3JlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNJZFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhLmVmZmVjdHMgPSBlZmZlY3RzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXN0YXR1cyddID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlQWN0b3JOcGNDcmVhdHVyZSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoWyducGMnXS5pbmNsdWRlcyhhY3Rvci50eXBlKSAmJiB0eXBlb2YgYWN0b3Iuc3lzdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3BlY2lhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWNpYWwnXSA9IHtcbiAgICAgICAgICBjaGVja1Bhc3NlZDogbnVsbCxcbiAgICAgICAgICBjaGVja0ZhaWxsZWQ6IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0YWNrc1BlclJvdW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0YWNrc1BlclJvdW5kJ10gPSAxXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVBY3RvckNoYXJhY3RlclNhbml0eSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoXG4gICAgICBhY3Rvci50eXBlID09PSAnY2hhcmFjdGVyJyAmJlxuICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbT8uYXR0cmlicz8uc2FuICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgY29uc3Qgb25lRmlmdGhTYW5pdHkgPSBNYXRoLmNlaWwoYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlIC8gNSlcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzJ10gPSAwXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5zYW4ub25lRmlmdGhTYW5pdHkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSddID0gJyAvICcgKyBvbmVGaWZ0aFNhbml0eVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MnXSA9IDBcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgYWN0b3Iuc3lzdGVtLmluZGVmaW5pdGVJbnNhbml0eUxldmVsID09PSBudWxsIHx8XG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwudmFsdWUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC52YWx1ZSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC52YWx1ZSddID0gMFxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLmluZGVmaW5pdGVJbnNhbml0eUxldmVsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBhY3Rvci5zeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwgPT09IG51bGwgfHxcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC5tYXggPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC5tYXggPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwubWF4J10gPSBvbmVGaWZ0aFNhbml0eVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA9PT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSddID0gb25lRmlmdGhTYW5pdHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5hdHRyaWJzLm1wLm1heCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC5tYXggPT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMubXAubWF4J10gPSBvbmVGaWZ0aFNhbml0eVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0ubm90ZXMgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5ub3RlcyA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ub3RlcyddID0gJydcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZU1hY3JvQXJ0d29yayAodGFibGUsIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCBpbWFnZSA9IFN0cmluZyh0YWJsZS5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlRGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZVRhYmxlQXJ0d29yayAodGFibGUsIHVwZGF0ZURhdGEpIHtcbiAgICBsZXQgaW1hZ2UgPSBTdHJpbmcodGFibGUuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgIHVwZGF0ZURhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgfVxuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHRhYmxlLnJlc3VsdHMpKSB7XG4gICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGVEYXRhLnJlc3VsdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YS5yZXN1bHRzID0gdGFibGUucmVzdWx0c1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGEucmVzdWx0c1trXS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZVRva2VuQXJ0d29yayAodG9rZW4sIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCBpbWFnZSA9IFN0cmluZyh0b2tlbi5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlRGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG4vKipcbiAqIG5hbWVDaGFyYWN0ZXJzIGxpc3Qgb2YgY2hhcmFjdGVycyB0aGF0IGNhbiBiZSBwYXJ0IG9mIGEgW10gZm9yIGNoYXJhY3Rlciwgc2tpbGwsIG9yIHdlYXBvbiBuYW1lcyB1c2VkIGluIGJyYWNrZXQgZXhwcmVzc2lvbi5cbiAqXG4gKiBcImtleXMuPGxhbmd1YWdlPi5kZXNjcmlwdGlvblwiIGxhbmcga2V5IHRvIHNob3cgaW4gdGhlIGxhbmd1YWdlIHNlbGVjdGlvbiBkaWFsb2cgYm94LlxuICogXCJrZXlzLjxsYW5ndWFnZT4uZGJOb25lXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIG5vIERhbWFnZSBCb251cyBlLmcuIERCOiBcImRiTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uYXJtb3JOb25lXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIG5vIEFybW91ciBCb251cyBlLmcuIEFybW9yOiBcImFybW9yTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uYXR0YWNrc1BlclJvdW5kTm9uZVwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpbmRpY2F0ZSBubyBhdHRhY2tzIGUuZy4gQXR0YWNrcyBQZXIgUm91bmQ6IFwiYXR0YWNrc1BlclJvdW5kTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2FuTG9zc05vbmVcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgbm8gc2FuaXR5IGxvc3MgZS5nLiBTQU4gbG9zczogXCJzYW5Mb3NzTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uZnVsbGRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIGRhbWFnZSBib251cyBpbiBhdHRyaWJ1dGVzIGFuZCB3ZWFwb24gZGFtYWdlIGUuZy4gREI6IFwiZnVsbGRiXCIgLyBXZWFwb24gNTAlICgyNS8xMCksIGRhbWFnZSAxRDYgKyBcImZ1bGxkYlwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uaGFsZmRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIGhhbGYgZGFtYWdlIGJvbnVzIGluIHdlYXBvbiBkYW1hZ2UgZS5nLiBXZWFwb24gNTAlICgyNS8xMCksIGRhbWFnZSAxRDYgKyBcImhhbGZkYlwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2VjdGlvbkNvbWJhdHNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgdGhlIHN0YXJ0IG9mIHRoZSBjb21iYXQgLyB3ZWFwb24gc2VjdGlvbiBvZiB0ZXh0LlxuICogXCJrZXlzLjxsYW5ndWFnZT4ubmV3Q29tYmF0SGVhZGVyXCIgSWYgdGhlcmUgaXMgbm8gY29tYmF0IC8gd2VhcG9uIHNlY3Rpb24sIGFkZCB0aGlzIHNlY3Rpb24gd2VyZSBpdCBwcm9iYWJseSBpcywgdGhpcyBuZWVkcyB0byBtYXRjaGVkIGJ5IFwia2V5cy48bGFuZ3VhZ2U+LnNlY3Rpb25Db21iYXRzXCIuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5zZWN0aW9uU2tpbGxzXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIHRoZSBzdGFydCBvZiB0aGUgc2tpbGxzIHNlY3Rpb24gb2YgdGV4dC5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LnNlY3Rpb25MYW5nYXVnZXNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgdGhlIHN0YXJ0IG9mIHRoZSBsYW5ndWFnZXMgc2VjdGlvbiBvZiB0ZXh0LlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2VjdGlvblNwZWxsc1wiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpbmRpY2F0ZSB0aGUgc3RhcnQgb2YgdGhlIHNwZWxscyBzZWN0aW9uIG9mIHRleHQuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5oYW5kZ3VuXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIGhhbmRndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LnJpZmxlXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIHJpZmxlIHR5cGUuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5zbWJcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIHdlYXBvbiBuYW1lIGlzIGEgc3VibWFjaGluZSBndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+Lm1hY2hpbmVHdW5cIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIHdlYXBvbiBuYW1lIGlzIGEgbWFjaGluZSBndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LmxhdW5jaGVkXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIGxhdW5jaGVkIHR5cGUuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5leGFtcGxlXCIgU3RyaW5nIHRoYXQgc2hvdWxkIHNob3cgYXMgYSBwbGFjZWhvbGRlciBleGFtcGxlLlxuICpcbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uYWdlXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBhZ2UsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YWdlPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ub2NjdXBhdGlvblwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgb2NjdXBhdGlvbiwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxvY2N1cGF0aW9uPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc3RyXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBzdHJlbmd0aCBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxzdHI+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5jb25cIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbnN0aXR1dGlvbiBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxjb24+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5zaXpcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIHNpemUgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8c2l6Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uaW50XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBpbnRlbGxpZ2VuY2UgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8aW50Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ucG93XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBwb3dlciBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxwb3c+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5kZXhcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGRleHRlcml0eSBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxkZXg+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5hcHBcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGFwcGVhcmFuY2UgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YXBwPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uZWR1XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBlZHVjYXRpb24gY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8ZWR1Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc2FuXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBzYW5pdHkgcG9pbnRzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxzYW4+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5ocFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgaGl0IHBvaW50cyBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8aHA+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5tcFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbWFnaWMgcG9pbnRzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxtcD4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LmRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBkYW1hZ2UgYm9udXMgYXR0cmlidXRlLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPGRiPiBpZiBtYXRjaGluZyBcImtleXMuPGxhbmd1YWdlPi5kYk5vbmVcIiB0aGVuIDAuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LmJ1aWxkXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBidWlsZCBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YnVpbGQ+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5hcm1vclwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgZGFtYWdlIGJvbnVzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxkYj4gaWYgbWF0Y2hpbmcgXCJrZXlzLjxsYW5ndWFnZT4uYXJtb3JOb25lXCIgdGhlbiAwLlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5tb3ZcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIG1vdmVtZW50IHJhdGUgYXR0cmlidXRlLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPG1vdj4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+Lmxja1wiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbHVjayBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8bGNrPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uYXR0YWNrc1BlclJvdW5kXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBhdHRhY2tzIHBlciByb3VuZCwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxhdHRhY2tzUGVyUm91bmQ+IGlmIG1hdGNoaW5nIFwia2V5cy48bGFuZ3VhZ2U+LmF0dGFja3NQZXJSb3VuZE5vbmVcIiB0aGVuIDAuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LnNhbkxvc3NcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIHNhbiBsb3NzIG1pbi9tYXgsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8c2FuTG9zcz4gaWYgbWF0Y2hpbmcgXCJrZXlzLjxsYW5ndWFnZT4uc2FuTG9zc05vbmVcIiB0aGVuIG5vbmUuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LndlYXBvblwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgY29tYmF0IHNlY3Rpb24sIG5hbWVkIGNhcHR1cmluZyBncm91cCB3ZWFwb24gPG5hbWU+LCBvcHRpb25hbCA8cGVyY2VudGFnZT4sIGFuZCA8ZGFtYWdlPi4gRGFtYWdlIGNhbiBjb250YWluIFwia2V5cy48bGFuZ3VhZ2U+LmZ1bGxkYlwiIGFuZCBcImtleXMuPGxhbmd1YWdlPi5oYWxmZGJcIi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ud2VhcG9uRG9kZ2VcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIGRvZGdlIHNraWxsLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPG5hbWU+IGFuZCA8cGVyY2VudGFnZT4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LnNraWxsXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBza2lsbCBzZWN0aW9uIHNraWxsIG5hbWUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8bmFtZT4gYW5kIDxwZXJjZW50YWdlPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uZ3Vlc3NTdGFydENvbWJhdFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB0aGVyZSBpcyBubyBjb21iYXQgc2VjdGlvbiBmaW5kIHRoZXNlIGFyZSBsaWtlbHkgdG8gYmUgdGhlIGZpcnN0IHdlYXBvbiBuYW1lLCBcImtleXMuPGxhbmd1YWdlPi5uZXdDb21iYXRIZWFkZXJcIiBpcyB0aGVuIGFkZGVkIGJlZm9yZSBpdCB0byBnZXQgdGhlIGdyb3Vwc1xuICpcbiAqIFRoZXNlIHNob3VsZCBub3QgYmUgZWRpdGVkIGFzIHRoZXkgc2hvdWxkIHdvcmsgYXMgaXNcbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ubmFtZVwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbmFtZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxuYW1lPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc2VjdGlvbnNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gc3BsaXQgdGV4dCBpbnRvIGNvbWJhdCwgc2tpbGwsIGxhbmd1YWdlLCBhbmQgc3BlbGxzIHNlY3Rpb25cbiAqXG4gKiBJZiB0aGVyZSBpcyBuZXcgZnVuY3Rpb25hbGl0eSBjaGVjayBmb3IgdGhpcyBzdHJpbmcgaW4gdGhlIHRyYW5zbGF0aW9ucyAvIGtleXMgZm9yIHlvdXIgbGFuZ3VhZ2UgXCJORVcgS0VZIEJFTE9XIC0gVFJBTlNMQVRJT04gUkVRVUlSRURcIlxuICovXG5jb25zdCBuYW1lQ2hhcmFjdGVycyA9XG4gICdcXFxcdTMwMDBcXFxcdTM0MDAtXFxcXHU0REJGXFxcXHU0RTAwLVxcXFx1OUZGRlxcXFx3XFxcXChcXFxcKVxcXFwtXFxcXC8mXCJcXCcnICtcbiAgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChcbiAgICAnYcyBZcyBacyBb8yBw6DDqMOsw7LDucOAw4jDjMOSw5nDocOpw63Ds8O6w73DgcOJw43Dk8Oaw53DosOqw67DtMO7w4LDisOOw5TDm8Ojw7HDtcODxIDDkcOVw6TDq8Ovw7bDvMO/w4TDi8OPw5bDnMW4w6DDqMOnw4fDn8OYw7jDhcOlw4bDpsWT4oCc4oCdwqvCu8SFxIfEmcWCxYTDs8WbxbrFvMSExIbEmMWBxYPDk8WaxbnFuydcbiAgKVxuXG5jb25zdCBrZXlzID0ge1xuICBlbjoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5FbmdsaXNoJyxcbiAgICBkYk5vbmU6ICdub25lJyxcbiAgICBhcm1vck5vbmU6ICdub25lJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnbm9uZScsXG4gICAgc2FuTG9zc05vbmU6ICdub25lJyxcbiAgICBmdWxsZGI6ICcoJyArICdEYW1hZ2UgQm9udXN8REInICsgJyknLFxuICAgIGhhbGZkYjogJygnICsgJ8K9fGhhbGYnICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOiAnXFxuKD86JyArICdjb21iYXR8ZmlnaHRpbmcgYXR0YWNrcycgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdDb21iYXQnICsgJ1xcbicsXG4gICAgc2VjdGlvblNraWxsczogJ1xcbig/OicgKyAnc2tpbGxzJyArICcoPzpcXFxccypcXFxcKFteXFxcXCldK1xcXFwpKT8pWzpcXG5dJyxcbiAgICBzZWN0aW9uTGFuZ2F1Z2VzOiAnXFxuKD86JyArICdsYW5ndWFnZXMnICsgJylbOlxcbl0nLFxuICAgIHNlY3Rpb25TcGVsbHM6ICdcXG4oPzonICsgJ3NwZWxscycgKyAnKVs6XFxuXScsXG4gICAgaGFuZGd1bjpcbiAgICAgICcoPzx0eXBlPicgK1xuICAgICAgJyBHdW58UmV2b2x2ZXJ8UGlzdG9sfEhhbmRndW58RGVycmluZ2VyfEJlcmV0dGF8THVnZXJ8RGVzZXJ0IEVhZ2xlfCBcXFxcLjM4JyArXG4gICAgICAnKScsXG4gICAgcmlmbGU6XG4gICAgICAnKD88dHlwZT4nICsgJ1JpZmxlfFNob3RndW58Q2FyYmluZXxHYXVnZSB8TGVlLUVuZmllbGR8RWxlcGhhbnQnICsgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdTdWJtYWNoaW5lIEd1bnxUaG9tcHNvbicgKyAnKScsXG4gICAgbWFjaGluZUd1bjogJyg/PHR5cGU+JyArICdCcm93bmluZ3xWaWNrZXJzJyArICcpJyxcbiAgICBsYXVuY2hlZDogJyg/PHR5cGU+JyArICdNb2xvdG92fEdyZW5hZGV8RHluYW1pdGUnICsgJyknLFxuICAgIGV4YW1wbGU6XG4gICAgICAnRXhhbXBsZSBDaGFyYWN0ZXIsIGFnZSAyN1xcblNUUiA3NSBDT04gNjAgU0laIDgwIERFWCA3MCBBUFAgNjAgSU5UIDgwXFxuUE9XIDUwIEVEVSA4NSBTQU4gNTUgSFAgMTQgREI6IDFENFxcbkJ1aWxkOiAxIE1vdmU6IDcgTVA6IDEwIEx1Y2s6IDQwIEFybW9yOiAxXFxuQXR0YWNrcyBwZXIgcm91bmQ6IDMgU0FOIGxvc3M6IDFkNC8xZDhcXG5Db21iYXRcXG5CaXRlIDUwJSAoMjUvMTApLCBkYW1hZ2UgMUQ2XFxuQnJhd2wgMzAlICgxNS82KSwgZGFtYWdlIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkYW1hZ2UgMUQ4KzFcXG5Eb2RnZSA1MCUgKDI1LzEwKVxcblNraWxsc1xcbkFuaW1hbCBIYW5kbGluZyA1NSUsIENoYXJtIDMwJSwgRmlyc3QgQWlkIDI1JSwgRGlzZ3Vpc2UgMjAlLFxcbkxpc3RlbiA1MCUsIE1lZGljaW5lIDQ1JSwgUGVyc3VhZGUgMjUlLCBQc3ljaG9sb2d5IDc1JSxcXG5TY2llbmNlIChBc3Ryb25vbXkpIDkwJSwgU2NpZW5jZSAoQm90YW55KSAzNSUsIFNjaWVuY2UgKFpvb2xvZ3kpIDEwJSxcXG5TcG90IEhpZGRlbiAzNSUsIFN0ZWFsdGggMTAlXFxuTGFuZ3VhZ2VzOiBFbmdsaXNoIDgwJSwgRWtsbyA1JS5cXG5TcGVsbHM6IFN1bW1vbiBOUEMsIERpc3BlbCBOUEMuJ1xuICB9LFxuICBkZToge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5HZXJtYW4nLFxuICAgIGRiTm9uZTogJ25vbmUnLFxuICAgIGFybW9yTm9uZTogJ25vbmUnLFxuICAgIGF0dGFja3NQZXJSb3VuZE5vbmU6ICdub25lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ25vbmUnLFxuICAgIGRpY2VTaG9ydDogJ3d8ZCcsXG4gICAgZnVsbGRiOiAnKCcgKyAnU2NoYWRlbnNib251c3xTYicgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIFNjaGFkZW5zYm9udXN8U2IvMicgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0thbXBmfEFuZ3JpZmY6fEFOR1JJRkZFJyArICcpWzpcXG5dJyxcbiAgICBuZXdDb21iYXRIZWFkZXI6ICdcXG4nICsgJ0thbXBmJyArICdcXG4nLFxuICAgIHNlY3Rpb25Ta2lsbHM6ICdcXG4oPzonICsgJ0ZlcnRpZ2tlaXRlbicgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnU3ByYWNoZW4nICsgJylbOlxcbl0nLFxuICAgIHNlY3Rpb25TcGVsbHM6ICdcXG4oPzonICsgJ1phdWJlcicgKyAnKVs6XFxuXScsXG4gICAgaGFuZGd1bjpcbiAgICAgICcoPzx0eXBlPicgK1xuICAgICAgJyBHdW58UmV2b2x2ZXJ8UGlzdG9sZXxIYW5kZ3VufERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnR2V3ZWhyfFNjaHJvdGZsaW50ZXxDYXJhYmluZXJ8S2FyYWJpbmVyfEdhdWdlIHxMZWUtRW5maWVsZHxFbGVmYW50ZW4nICtcbiAgICAgICcpJyxcbiAgICBzbWI6ICcoPzx0eXBlPicgKyAnU3VibWFjaGluZSBHdW58VGhvbXBzb24nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2VycycgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW9sb3RvdnxHcmFuYXRlfER5bmFtaXQnICsgJyknLFxuICAgIGV4YW1wbGU6XG4gICAgICAnVm9ybmFtZSBOYWNobmFtZVxcbkFsdGVyOiAyOVxcbkJlcnVmOiBFaW4gQmVydWZcXG5TVCA1MFxcbk1BIDYwXFxuS08gNjBcXG5HRSA2MFxcbkdSIDU1XFxuRVIgNjVcXG5JTiA4MFxcbkJJIDg1XFxuVHJlZmZlcnB1bmt0ZTogMTFcXG5HZWlzdGlnZSBTdGFiaWxpdMOkdDogNjBcXG5TY2hhZGVuc2JvbnVzOiAwXFxuU3RhdHVyOiAwXFxuTWFnaWVwdW5rdGU6IDEyXFxuQmV3ZWd1bmdzd2VpdGU6IDhcXG5cXG5LYW1wZlxcbkFuZ3JpZmZlOiAxXFxuSGFuZGdlbWVuZ2UgMzAlICgxNS82KSwgU2NoYWRlbiAxRDNcXG5NZXNzZXIgMzAlICgxNS82KSwgU2NoYWRlbiAxRDRcXG5BdXN3ZWljaGVuIDMwJSAoMTUvNilcXG5cXG5GZXJ0aWdrZWl0ZW46IEFudGhyb3BvbG9naWUgNzAlICgzNS8xNCksIEFyY2jDpG9sb2dpZSAzMCUgKDE1LzYpLCBCaWJsaW90aGVrc251dHp1bmcgNTAlICgyNS8xMCksIEVyc3RlIEhpbGZlIDUwJSAoMjUvMTApLCBGaW5hbnprcmFmdCA0MCUgKDIwLzgpLCBHZXNjaGljaHRlIDYwJSAoMzAvMTIpLCBLbGV0dGVybiA1MCUgKDI1LzEwKVxcblxcblNwcmFjaGVuOiBFbmdsaXNjaCA4NSUgKDQyLzE3KTsgRGV1dHNjaCA0NSUgKDIyLzkpLCBMYXRlaW4gNDUlICgyMi85KSdcbiAgfSxcbiAgcGw6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvQzcuUG9saXNoJyxcbiAgICBkYk5vbmU6ICdicmFrJyxcbiAgICBhcm1vck5vbmU6ICdicmFrJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnYnJhaycsXG4gICAgc2FuTG9zc05vbmU6ICdicmFrJyxcbiAgICBkaWNlU2hvcnQ6ICdrfGQnLFxuICAgIGZ1bGxkYjogJygnICsgJ01vZHlmaWthdG9yIE9icmHFvGXFhHxNTycgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIE1PfE1PLzInICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOiAnXFxuKD86JyArICdXYWxrYXxBdGFraScgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdXYWxrYScgKyAnXFxuJyxcbiAgICBzZWN0aW9uU2tpbGxzOiAnXFxuKD86JyArICdVbWllasSZdG5vxZtjaScgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnSsSZenlraScgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnWmFrbMSZY2lhJyArICcpWzpcXG5dJyxcbiAgICBoYW5kZ3VuOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnIFBpc3RvbGV0fFJld29sd2VyfERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnS2FyYWJpbnxTdHJ6ZWxiYXxXaWF0csOzd2thfEdhcmFuZHxHYXVnZSB8TGVlLUVuZmllbGR8U3RyemVsYmEgbmEgc8WCb25pZScgK1xuICAgICAgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdQaXN0b2xldCBtYXN6eW5vd3l8VGhvbXBzb24nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2VycycgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW/Fgm90b3dhfEdyYW5hdHxMYXNrYSBkeW5hbWl0dXxEeW5hbWl0JyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ1ByenlrxYJhZG93YSBwb3N0YcSHLCAyNyBsYXRcXG5CaWJsaW90ZWthcnpcXG5TIDc1IEtPTiA2MCBCQyA4MCBaUiA3MCBXWUcgNjAgSU5UIDgwXFxuTU9DIDUwIFdZSyA4NSBQIDU1IFBXIDE0IE1POiAxRDRcXG5LcnplcGE6IDEgUnVjaDogNyBQTTogMTAgU3pjesSZxZtjaWU6IDQwIFBhbmNlcno6IDFcXG5BdGFraSB3IHJ1bmR6aWU6IDMgVXRyYXRhIFBvY3p5dGFsbm/Fm2NpOiAxSzQvMUs4XFxuV2Fsa2FcXG5VZ3J5emllbmllIDUwJSAoMjUvMTApLCBvYnJhxbxlbmlhIDFLNlxcbldhbGthIDMwJSAoMTUvNiksIG9icmHFvGVuaWEgMUszXFxuRGVycmluZ2VyIDQwJSAoMjAvOCksIG9icmHFvGVuaWEgMUs4KzFcXG5VbmlrIDUwJSAoMjUvMTApXFxuVW1pZWrEmXRub8WbY2lcXG5UcmVzdXJhIFp3aWVyesSFdCA1NSUsIFVyb2sgT3NvYmlzdHkgMzAlLCBQaWVyd3N6YSBQb21vYyAyNSUsIFVrcnl3YW5pZSAyMCUsXFxuTmFzxYJ1Y2hpd2FuaWUgNTAlLCBNZWR5Y3luYSA0NSUsIFByemVrb255d2FuaWUgMjUlLCBQc3ljaG9sb2dpYSA3NSUsXFxuTmF1a2EgKEFzdHJvbm9taWEpIDkwJSwgTmF1a2EgKEJvdGFuaWthKSAzNSUsIE5hdWthIChab29sb2dpYSkgMTAlLFxcblNwb3N0cnplZ2F3Y3pvxZvEhyAzNSUsIFVrcnl3YW5pZSAxMCVcXG5KxJl6eWtpOiBBbmdpZWxza2kgODAlLCBFa2xvIDUlLlxcblpha2zEmWNpYTogUHJ6eXp3YW5pZSBOUEMsIE9kZXPFgmFuaWUgTlBDLidcbiAgfSxcbiAgZnI6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvQzcuRnJlbmNoJyxcbiAgICBkYk5vbmU6ICdBY3VuZScsXG4gICAgYXJtb3JOb25lOiAnKD86QWN1bmV8YXVjdW5lKScsXG4gICAgYXR0YWNrc1BlclJvdW5kTm9uZTogJ0FjdW5lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ0FjdW5lJyxcbiAgICBmdWxsZGI6ICcoJyArICdCRHxCb251cyBhdXggZG9tbWFnZXN8SW1wYWN0fEltcCcgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIEltcHxJbXAvMicgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0NvbWJhdHxBcm1lc3xBdHRhcXVlcycgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdDb21iYXQnICsgJ1xcbicsXG4gICAgc2VjdGlvblNraWxsczogJ1xcbig/OicgKyAnQ29tcMOpdGVuY2VzJyArICcoPzpcXFxccypcXFxcKFteXFxcXCldK1xcXFwpKT8pWzpcXG5dJyxcbiAgICBzZWN0aW9uTGFuZ2F1Z2VzOiAnXFxuKD86JyArICdMYW5ndWVzPycgKyAnKVxcXFxzKls6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnU29ydGlsw6hnZXNcXFxccyp8U29ydHMnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdSZXZvbHZlcnxQaXN0b2xldHxEZXJyaW5nZXJ8QmVyZXR0YXxMdWdlcnxEZXNlcnQgRWFnbGV8IFxcXFwuMzgnICtcbiAgICAgICcpJyxcbiAgICByaWZsZTogJyg/PHR5cGU+JyArICdDYXJhYmluZXxMZWUtRW5maWVsZHxGdXNpbCcgKyAnKScsXG4gICAgc21iOiAnKD88dHlwZT4nICsgJ1NNR3xUaG9tcHNvbicgKyAnKScsXG4gICAgbWFjaGluZUd1bjogJyg/PHR5cGU+JyArICdCcm93bmluZ3xWaWNrZXJzfE1pdHJhaWxsZXVzZScgKyAnKScsXG4gICAgbGF1bmNoZWQ6XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdCb29tZXJhbmcgZGUgZ3VlcnJlfEphdmVsaW5lfFBpZXJyZXxTaHVyaWtlbnxCw6J0b24gZGUgZHluYW1pdGV8Q29ja3RhaWwgTW9sb3RvdnxHcmVuYWRlIMOgIG1haW58TW9sb3RvdnxHcmVuYWRlfER5bmFtaXRlJyArXG4gICAgICAnKScsXG4gICAgZXhhbXBsZTpcbiAgICAgICdFeGFtcGxlIENoYXJhY3RlciwgMjcgYW5zXFxuRk9SIDc1IENPTiA2MCBUQUkgODAgREVYIDcwIEFQUCA2MCBJTlQgODBcXG5QT1UgNTAgw4lEVSA4NSBTQU4gNTUgUFYgMTQgQkQ6IDFENFxcbkNhcnJ1cmU6IDEgTXZ0OiA3IFBNOiAxMCBDaGFuY2U6IDQwIEFybXVyZTogMVxcbkF0dGFxdWVzIHBhciByb3VuZCAzIFBlcnRlIGRlIFNBTjogMWQ0LzFkOFxcbkF0dGFxdWVzXFxuQml0ZSA1MCUgKDI1LzEwKSwgZG9tbWFnZSAxRDZcXG5CcmF3bCAzMCUgKDE1LzYpLCBkb21tYWdlIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkb21tYWdlIDFEOCsxXFxuRXNxdWl2ZXIgNTAlICgyNS8xMClcXG5Db21ww6l0ZW5jZXNcXG5BbmltYWwgSGFuZGxpbmcgNTUlLCBDaGFybSAzMCUsIEZpcnN0IEFpZCAyNSUsIERpc2d1aXNlIDIwJSxcXG5MaXN0ZW4gNTAlLCBNZWRpY2luZSA0NSUsIFBlcnN1YWRlIDI1JSwgUHN5Y2hvbG9neSA3NSUsXFxuU2NpZW5jZSAoQXN0cm9ub215KSA5MCUsIFNjaWVuY2UgKEJvdGFueSkgMzUlLCBTY2llbmNlIChab29sb2d5KSAxMCUsXFxuU3BvdCBIaWRkZW4gMzUlLCBTdGVhbHRoIDEwJVxcbkxhbmd1ZTogRW5nbGlzaCA4MCUsIEVrbG8gNSUuXFxuU29ydGlsw6hnZXM6IFN1bW1vbiBOUEMsIERpc3BlbCBOUEMuJ1xuICB9LFxuICBlczoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5TcGFuaXNoJyxcbiAgICBkYk5vbmU6ICduaW5ndW5hJyxcbiAgICBhcm1vck5vbmU6ICduaW5ndW5hJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnbmluZ3VubycsXG4gICAgc2FuTG9zc05vbmU6ICdubycsXG4gICAgZnVsbGRiOiAnKCcgKyAnQkR8YmR8Ym9uaWZpY2FjacOzbiBkZSBkYcOxbycgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18bWVkaW8gZGHDsW98bWl0YWR8ZGHDsW8gYSBsYSBtaXRhZCcgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0NvbWJhdGV8QXJtYXMnICsgJylbOlxcbl0nLFxuICAgIG5ld0NvbWJhdEhlYWRlcjogJ1xcbicgKyAnQ29tYmF0ZScgKyAnXFxuJyxcbiAgICBzZWN0aW9uU2tpbGxzOiAnXFxuKD86JyArICdIYWJpbGlkYWRlcycgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnSWRpb21hc3xMZW5ndWFqZXN8TGVuZ3VhcycgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnQ29uanVyb3N8SGVjaGl6b3MnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdSZXZvbHZlcnxQaXN0b2xhfERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnUmlmbGV8Q2FyYWJpbmF8TGVlLUVuZmllbGR8Q2F6YSBFbGVmYW50ZXN8RnVzaWx8RXNjb3BldGF8R2FsZ2F8UmVjb3J0YWRhJyArXG4gICAgICAnKScsXG4gICAgc21iOiAnKD88dHlwZT4nICsgJ1N1YmZ1c2lsfFRob21wc29uJyArICcpJyxcbiAgICBtYWNoaW5lR3VuOiAnKD88dHlwZT4nICsgJ0Jyb3duaW5nfFZpY2tlcnN8QW1ldHJhbGxhZG9yYScgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW9sb3RvdnxHcmFuYWRhfERpbmFtaXRhJyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ0V4YW1wbGUgQ2hhcmFjdGVyLCAyNyBhw7Fvc1xcbkZVRSA3NSBDT04gNjAgVEFNIDgwIERFUyA3MCBBUEEgNjAgSU5UIDgwXFxuUE9EIDUwIEVEVSA4NSBDT1IgNTUgUFYgMTQgQkQ6IDFENFxcbkNvcnB1bGVuY2lhOiAxIE1vdmltaWVudG86IDcgUE06IDEwIFN1ZXJ0ZTogNDAgQXJtYWR1cmE6IDFcXG5Ow7ptZXJvIGRlIEF0YXF1ZXMgMyBQw6lyZGlkYSBkZSBjb3JkdXJhOiAxZDQvMWQ4XFxuQ29tYmF0ZVxcbkJpdGUgNTAlICgyNS8xMCksIGRhw7FvIDFENlxcbkJyYXdsIDMwJSAoMTUvNiksIGRhw7FvIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkYcOxbyAxRDgrMVxcbkVzcXVpdmFyIDUwJSAoMjUvMTApXFxuSGFiaWxpZGFkZXNcXG5BbmltYWwgSGFuZGxpbmcgNTUlLCBDaGFybSAzMCUsIEZpcnN0IEFpZCAyNSUsIERpc2d1aXNlIDIwJSxcXG5MaXN0ZW4gNTAlLCBNZWRpY2luZSA0NSUsIFBlcnN1YWRlIDI1JSwgUHN5Y2hvbG9neSA3NSUsXFxuU2NpZW5jZSAoQXN0cm9ub215KSA5MCUsIFNjaWVuY2UgKEJvdGFueSkgMzUlLCBTY2llbmNlIChab29sb2d5KSAxMCUsXFxuU3BvdCBIaWRkZW4gMzUlLCBTdGVhbHRoIDEwJVxcbklkaW9tYXM6IEVuZ2xpc2ggODAlLCBFa2xvIDUlLlxcbkNvbmp1cm9zOiBTdW1tb24gTlBDLCBEaXNwZWwgTlBDLidcbiAgfSxcbiAgJ3poLVRXJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5UcmFkaXRpb25hbENoaW5lc2UnLFxuICAgIGRiTm9uZTogJ25vbmUnLFxuICAgIGFybW9yTm9uZTogJ25vbmUnLFxuICAgIGF0dGFja3NQZXJSb3VuZE5vbmU6ICdub25lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ25vbmUnLFxuICAgIGZ1bGxkYjogJygnICsgJ0RhbWFnZSBCb251c3xEQnzlgrflrrPliqDlgLwnICsgJyknLFxuICAgIC8qIE5FVyBLRVkgQkVMT1cgLSBUUkFOU0xBVElPTiBSRVFVSVJFRCAqL1xuICAgIGhhbGZkYjogJygnICsgJ8K9fGhhbGYnICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOlxuICAgICAgJ1xcbig/OicgKyAnY29tYmF0fGZpZ2h0aW5nIGF0dGFja3N85oiw6ayl5oqA6IO9fOaIsOmspeWIl+ihqHzmrablmagnICsgJylbOlxcbl0nLFxuICAgIG5ld0NvbWJhdEhlYWRlcjogJ1xcbicgKyAnQ29tYmF0JyArICdcXG4nLFxuICAgIHNlY3Rpb25Ta2lsbHM6XG4gICAgICAnXFxuKD86JyArICcoPzpTa2lsbHN85oqA6IO95YiX6KGoKScgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnTGFuZ3VhZ2VzfOiqnuiogCcgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnc3BlbGxzfOWSkuaWh+WIl+ihqHzlkpLmlocnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICcg6YGC55m85qeNfFxcXFwuMjLnn63lj6Poh6rli5XmiYvmp418XFxcXC4yNeefreWPo+aJi+anjSjllq7nrqEpfFxcXFwuMzLmiJY3XFxcXC42NW1t5bem6Lyq5omL5qeNfFxcXFwuMzLmiJY3XFxcXC42NW1t6Ieq5YuV5omL5qeNfFxcXFwuMzU3IE1hZ251beW3pui8quaJi+anjXxcXFxcLjM45oiWOW1t5bem6Lyq5omL5qeNfFxcXFwuMzjoh6rli5XmiYvmp4186LKd6Zu35aGUTTl85qC85rSb5YWLMTd8OW1t6Ieq5YuV5omL5qeNfOmtr+agvFAwOHxcXFxcLjQx5bem6Lyq5omL5qeNfFxcXFwuNDTppqzmoLzljZflt6bovKrmiYvmp418XFxcXC40NeW3pui8quaJi+anjXxcXFxcLjQ16Ieq5YuV5omL5qeNfOaymea8oOS5i+m3uXxHdW58UmV2b2x2ZXJ8UGlzdG9sfEhhbmRndW58RGVycmluZ2VyfEJlcmV0dGF8THVnZXJ8RGVzZXJ0IEVhZ2xlfCBcXFxcLjM4JyArXG4gICAgICAnKScsXG4gICAgcmlmbGU6XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICfmraXmp4185Y2h6LOT5qeNfOWNiuiHquWLleatpeanjXznjbXosaHmp418UmlmbGV8U2hvdGd1bnxDYXJiaW5lfEdhdWdlIHxMZWUtRW5maWVsZHxFbGVwaGFudCcgK1xuICAgICAgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdTdWJtYWNoaW5lIEd1bnxUaG9tcHNvbnzooZ3pi5Lmp40nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2Vyc3zmqZ/mp40nICsgJyknLFxuICAgIGxhdW5jaGVkOiAnKD88dHlwZT4nICsgJ01vbG90b3Z8R3JlbmFkZXxEeW5hbWl0ZeeIhueCuOeJqXzmiYvmprTlvYh86YeN5q2m5ZmoJyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ+ekuuevhOinkuiJsiwg5bm06b2hIDI3XFxu5Yqb6YePIDc1IOmrlOizqiA2MCDpq5TlnosgODAg5pWP5o23IDcwIOWkluiyjiA2MCDmmbrlipsgODBcXG7mhI/lv5cgNTAg5pWZ6IKyIDg1IFNBTiA1NSBIUCAxNCBEQjogMUQ0XFxu6auU5qC8OiAxIE1vdmU6IDcgTVA6IDEwIOW5uOmBizogNDAg6K2355SyOiAxXFxu5pS75pOK5qyh5pW4OiAzIOeQhuaZuuWWquWksTogMWQ0LzFkOFxcbuaIsOmspeWIl+ihqFxcbuWSrCA1MCUgKDI1LzEwKSwg5YK35a6zIDFENlxcbuepuuaJiyAzMCUgKDE1LzYpLCDlgrflrrMgMUQzXFxu5omL5qeNIDQwJSAoMjAvOCksIOWCt+WusyAxRDgrMVxcbumWg+mBvyA1MCUgKDI1LzEwKVxcbuaKgOiDveWIl+ihqFxcbuWLleeJqemmtOmkiiA1NSUsIOWPluaChSAzMCUsIOaApeaVkSAyNSUsIOa9m+ihjCAyMCUsXFxu6IGG6IG9IDUwJSwg6Jel5a24IDQ1JSwg57K+56We5YiG5p6QIDI1JSwg5b+D55CG5a24IDc1JSxcXG7np5HlrbggKOWPuOazleenkeWtuCkgOTAlLCDnp5HlrbggKOWvhueivOWtuCkgMzUlLCBcXG7lgbXmn6UgMzUlLCDllqzoo50gMTAlXFxu6Kqe6KiAOiDnsrXoqp4gODAlLCDoroDllIcgNSUuXFxu5ZKS5paHOiDlj6zllpogTlBDLCDmjIfmj64gTlBDLidcbiAgfVxufVxuXG5jb25zdCB0cmFuc2xhdGlvbnMgPSB7XG4gIGVuOiB7XG4gICAgYWdlOiAnKD88IVthLXpdKScgKyAnYWdlJyArICcoXFxcXHMqOik/XFxcXHMrKD88YWdlPlxcXFxkKylbLFxcXFxzXSonLFxuICAgIG9jY3VwYXRpb246XG4gICAgICAnWyxcXFxcc10qJyArICdPY2N1cGF0aW9uJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1NUUicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHN0cj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGNvbjogJyg/PCFbYS16XSknICsgJ0NPTicgKyAnKFxcXFxzKjopP1xcXFxzKig/PGNvbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNpejogJyg/PCFbYS16XSknICsgJ1NJWicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOVCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGludD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHBvdzogJyg/PCFbYS16XSknICsgJ1BPVycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHBvdz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRleDogJyg/PCFbYS16XSknICsgJ0RFWCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGRleD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGFwcDogJyg/PCFbYS16XSknICsgJ0FQUCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGFwcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGVkdTogJyg/PCFbYS16XSknICsgJ0VEVScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGVkdT5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArICdTQU58U2FuaXR5JyArICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGhwOlxuICAgICAgJyg/PCFbYS16XSkoPzonICsgJ0hQfEhpdCBwb2ludHMnICsgJykoXFxcXHMqOik/XFxcXHMqKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnTVB8TWFnaWMgcG9pbnRzJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMuZW4uZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEXFxcXGQrKT98JyArXG4gICAgICBrZXlzLmVuLmRiTm9uZSArXG4gICAgICAnKVssXFxcXHNcXG5dKicsXG4gICAgYnVpbGQ6ICcoPzwhW2Etel0pJyArICdCdWlsZCcgKyAnKFxcXFxzKjopP1xcXFxzKyg/PGJ1aWxkPlsrLV0/XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgYXJtb3I6XG4gICAgICAnKD88IVthLXpdKScgK1xuICAgICAgJ0FybW9yJyArXG4gICAgICAnKFxcXFxzKjopP1xcXFxzKyg/PGFybW9yPicgK1xuICAgICAga2V5cy5lbi5hcm1vck5vbmUgK1xuICAgICAgJ3xcXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBtb3Y6ICcoPzwhW2Etel0pJyArICdNb3ZlJyArICcoXFxcXHMqOik/XFxcXHMqKD88bW92PlxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGxjazogJyg/PCFbYS16XSknICsgJ0x1Y2snICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0dGFja3MgcGVyIHJvdW5kfCMgQXR0YWNrcycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXR0YWNrc1BlclJvdW5kPicgK1xuICAgICAga2V5cy5lbi5hdHRhY2tzUGVyUm91bmROb25lICtcbiAgICAgICd8XFxcXGQrKD8hZCkpWyxcXFxcc1xcbl0qJyxcbiAgICBzYW5Mb3NzOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdTYW5pdHkgbG9zc3xTQU4gbG9zcycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMuZW4uc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZEQ/WytcXFxcZF0qXFxcXC9cXFxcZEQ/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ2RhbWFnZScgK1xuICAgICAgJyk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZW4uZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVuLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRG9kZ2UnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVxcXFwpP1xcXFxzKiUoPzpcXFxccypcXFxcKFxcXFxkK1xcXFwvXFxcXGQrXFxcXCkpPycsXG4gICAgLy8gU2tpbGwgc2hvdWxkIG5vdCBiZSBuYW1lZCBcIlRoZSBwbGF5ZXIgaGFzXCIgLyBcImJ1dCB0aGV5IHJlZ2VuZXJhdGVcIiByZXF1aXJlZCBmb3IgXCJBIENvbGQgRmlyZSBXaXRoaW5cIlxuICAgIHNraWxsOlxuICAgICAgJ14oPzxuYW1lPls6XFxcXCouXFxcXHMnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKyg/PCEnICtcbiAgICAgICdUaGUgcGxheWVyIGhhc3xidXQgdGhleSByZWdlbmVyYXRlJyArXG4gICAgICAnKSlcXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylbXmRdJT9cXFxcKT8oXFxcXHMqXFxcXChcXFxcZCsvXFxcXGQrXFxcXCkpP1tcXFxcLixdP1xcXFxzKicsXG4gICAgZ3Vlc3NTdGFydENvbWJhdDogJyhefCg/PCEsKVxcbikoJyArICdGaWdodGluZ3xGaXJlYXJtc3xCcmF3bHxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmVuLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVuLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZW4uc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5lbi5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBkZToge1xuICAgIGFnZTogJyg/PCFbYS16XSknICsgJ0FsdGVyJyArICcoXFxcXHMqOik/XFxcXHMrKD88YWdlPlxcXFxkKylbLFxcXFxzXSonLFxuICAgIG9jY3VwYXRpb246ICdbLFxcXFxzXSonICsgJ0JlcnVmJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1NUJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnS08nICsgJyhcXFxccyo6KT9cXFxccyooPzxjb24+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzaXo6ICcoPzwhW2Etel0pJyArICdHUicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnTUEnICsgJyhcXFxccyo6KT9cXFxccyooPzxwb3c+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkZXg6ICcoPzwhW2Etel0pJyArICdHRScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGRleD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGFwcDogJyg/PCFbYS16XSknICsgJ0VSJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnQkknICsgJyhcXFxccyo6KT9cXFxccyooPzxlZHU+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzYW46XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ2dTfFNUQXxHZWlzdGlnZSBTdGFiaWxpdMOkdCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88c2FuPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaHA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1RQfFRyZWZmZXJwdW5rdGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGhwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgbXA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ01QfE1hZ2llcHVua3RlJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMuZGUuZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEfFdcXFxcZCspP3wnICtcbiAgICAgIGtleXMuZGUuZGJOb25lICtcbiAgICAgICcpWyxcXFxcc1xcbl0qJyxcbiAgICBidWlsZDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnU3RhdHVyfFN0YXQuJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxidWlsZD5bKy1dP1xcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGFybW9yOlxuICAgICAgJyg/PCFbYS16XSknICtcbiAgICAgICdQYW56ZXJ1bmcnICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmRlLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnQld8QmV3ZWd1bmdzd2VpdGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PG1vdj5cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBsY2s6ICcoPzwhW2Etel0pJyArICdHbMO8Y2snICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0FuZ3JpZmZlIHBybyBSdW5kZXxBbmdyaWZmZXxQcm8gUnVuZGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGF0dGFja3NQZXJSb3VuZD4nICtcbiAgICAgIGtleXMuZGUuYXR0YWNrc1BlclJvdW5kTm9uZSArXG4gICAgICAnfFxcXFxkKyg/IWQpKVssXFxcXHNcXG5dKicsXG4gICAgc2FuTG9zczpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnU3RhYmlsaXTDpHRzdmVybHVzdCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMuZGUuc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZFtEV10/WytcXFxcZF0qXFxcXC9cXFxcZFtEV10/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ1NjaGFkZW4nICtcbiAgICAgICcpP1xcXFxzKyg/PGRhbWFnZT4oOj8oOj9cXFxcZCt3fGQpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZGUuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmRlLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZHx3KT9cXFxcZCspKikrKVxcXFwpPycsXG4gICAgd2VhcG9uRG9kZ2U6XG4gICAgICAnKD88bmFtZT4nICtcbiAgICAgICdBdXN3ZWljaGVuJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylcXFxcKT9cXFxccyolKD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpKT8nLFxuICAgIC8vIFNraWxsIHNob3VsZCBub3QgYmUgbmFtZWQgXCJUaGUgcGxheWVyIGhhc1wiIC8gXCJidXQgdGhleSByZWdlbmVyYXRlXCIgcmVxdWlyZWQgZm9yIFwiQSBDb2xkIEZpcmUgV2l0aGluXCJcbiAgICBza2lsbDpcbiAgICAgICdeKD88bmFtZT5bOlxcXFwqLlxcXFxzJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSsoPzwhJyArXG4gICAgICAnVGhlIHBsYXllciBoYXN8YnV0IHRoZXkgcmVnZW5lcmF0ZScgK1xuICAgICAgJykpXFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspW15kXSU/XFxcXCk/KFxcXFxzKlxcXFwoXFxcXGQrL1xcXFxkK1xcXFwpKT9bXFxcXC4sO10/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArXG4gICAgICAnQW5ncmlmZmV8SGFuZGdlbWVuZ2V8TmFoa2FtcGZ8RmF1c3RmZXVlcndhZmZlfEJlacOfZW4nICtcbiAgICAgICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmRlLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmRlLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZGUuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5kZS5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBwbDoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspJyArICdcXFxccysoPzonICsgJ2xhdGF8bGF0fHJvaycgKyAnKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjogJ1ssXFxcXHNdKicgKyAnWmF3w7NkJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1MnICsgJyhcXFxccyo6KT9cXFxccyooPzxzdHI+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBjb246ICcoPzwhW2Etel0pJyArICdLT04nICsgJyhcXFxccyo6KT9cXFxccyooPzxjb24+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzaXo6ICcoPzwhW2Etel0pJyArICdCQycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOVCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGludD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHBvdzogJyg/PCFbYS16XSknICsgJ01PQycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHBvdz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRleDogJyg/PCFbYS16XSknICsgJ1pSJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnV1lHJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnV1lLJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZWR1PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2FuOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQfFBvY3p5dGFsbm/Fm8SHJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxzYW4+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBocDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUFd8UHVua3R5IFd5dHJ6eW1hxYJvxZtjaScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUE18UHVua3R5IE1hZ2lpJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMucGwuZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEfEtcXFxcZCspP3wnICtcbiAgICAgIGtleXMucGwuZGJOb25lICtcbiAgICAgICcpWyxcXFxcc1xcbl0qJyxcbiAgICBidWlsZDogJyg/PCFbYS16XSknICsgJ0tyemVwYScgKyAnKFxcXFxzKjopP1xcXFxzKyg/PGJ1aWxkPlsrLV0/XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgYXJtb3I6XG4gICAgICAnKD88IVthLXpdKScgK1xuICAgICAgJ1BhbmNlcnonICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLnBsLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjogJyg/PCFbYS16XSknICsgJ1J1Y2gnICsgJyhcXFxccyo6KT9cXFxccyooPzxtb3Y+XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgbGNrOiAnKD88IVthLXpdKScgKyAnU3pjesSZxZtjaWUnICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0YWtpIHcgcnVuZHppZXwjIEF0YWtpJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxhdHRhY2tzUGVyUm91bmQ+JyArXG4gICAgICBrZXlzLnBsLmF0dGFja3NQZXJSb3VuZE5vbmUgK1xuICAgICAgJ3xcXFxcZCsoPyFkKSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbkxvc3M6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1V0cmF0YSBQb2N6eXRhbG5vxZtjaXx1dHJhdGEgUCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMucGwuc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZFtES10/WytcXFxcZF0qXFxcXC9cXFxcZFtES10/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ29icmHFvGVuaWEnICtcbiAgICAgICcpP1xcXFxzKyg/PGRhbWFnZT4oOj8oOj9cXFxcZCtrfGQpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMucGwuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLnBsLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnVW5paycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspXFxcXCk/XFxcXHMqJSg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKSk/JyxcbiAgICAvLyBTa2lsbCBzaG91bGQgbm90IGJlIG5hbWVkIFwiVGhlIHBsYXllciBoYXNcIiAvIFwiYnV0IHRoZXkgcmVnZW5lcmF0ZVwiIHJlcXVpcmVkIGZvciBcIkEgQ29sZCBGaXJlIFdpdGhpblwiXG4gICAgc2tpbGw6XG4gICAgICAnXig/PG5hbWU+WzpcXFxcKi5cXFxccycgK1xuICAgICAgbmFtZUNoYXJhY3RlcnMgK1xuICAgICAgJ10rKD88IScgK1xuICAgICAgJ1RoZSBwbGF5ZXIgaGFzfGJ1dCB0aGV5IHJlZ2VuZXJhdGUnICtcbiAgICAgICcpKVxcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVteZF0lP1xcXFwpPyhcXFxccypcXFxcKFxcXFxkKy9cXFxcZCtcXFxcKSk/W1xcXFwuLF0/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArICdXYWxrYXxCcm/FhCBQYWxuYXxCaWphdHlrYXxVZ3J5emllbmllJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLnBsLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLnBsLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMucGwuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5wbC5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBmcjoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspXFxcXHMqJyArICdhbnMnICsgJyg/IVthLXpdKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjpcbiAgICAgICdbLFxcXFxzXSonICsgJ09jY3VwYXRpb24nICsgJyhcXFxccyo6KT9cXFxccysoPzxvY2N1cGF0aW9uPi4rKVssXFxcXHNcXG5dKicsXG4gICAgc3RyOiAnKD88IVthLXpdKScgKyAnRk9SJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnQ09OJyArICcoXFxcXHMqOik/XFxcXHMqKD88Y29uPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2l6OiAnKD88IVthLXpdKScgKyAnVEFJJyArICcoXFxcXHMqOik/XFxcXHMqKD88c2l6PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaW50OiAnKD88IVthLXpdKScgKyAnSU5UJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnUE9VJyArICcoXFxcXHMqOik/XFxcXHMqKD88cG93PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZGV4OiAnKD88IVthLXpdKScgKyAnREVYJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnQVBQJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnw4lEVScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGVkdT5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbjpcbiAgICAgICcoPzwhKFthLXpdfGRlXFxcXHMpKSg/OicgK1xuICAgICAgJ1NBTnxTYW50w6kgTWVudGFsZScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88c2FuPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaHA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1BWfFBvaW50cyBkZSB2aWUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGhwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgbXA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1BNfFBvaW50cyBkZSBtYWdpZScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88bXA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkYjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICBrZXlzLmZyLmZ1bGxkYiArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxkYj5bKy1dP1xcXFxkKyg/OmRcXFxcZCt8RFxcXFxkKyk/fCcgK1xuICAgICAga2V5cy5mci5kYk5vbmUgK1xuICAgICAgJylbLFxcXFxzXFxuXSonLFxuICAgIGJ1aWxkOlxuICAgICAgJyg/PCFbYS16XSknICsgJ0NhcnJ1cmUnICsgJyhcXFxccyo6KT9cXFxccysoPzxidWlsZD5bKy1dP1xcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGFybW9yOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdBcm11cmV8UHJvdGVjdGlvbicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmZyLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnTXZ0fE1vdXZlbWVudHxEw6lwbGFjZW1lbnQnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PG1vdj5cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBsY2s6ICcoPzwhW2Etel0pJyArICdDaGFuY2UnICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0dGFxdWVzIHBhciByb3VuZCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXR0YWNrc1BlclJvdW5kPicgK1xuICAgICAga2V5cy5mci5hdHRhY2tzUGVyUm91bmROb25lICtcbiAgICAgICd8XFxcXGQrKD8hZCkpWyxcXFxcc1xcbl0qJyxcbiAgICBzYW5Mb3NzOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQZXJ0ZSBkZSBTYW50w6kgbWVudGFsZXxQZXJ0ZSBkZSBTQU4nICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PHNhbkxvc3M+JyArXG4gICAgICBrZXlzLmZyLnNhbkxvc3NOb25lICtcbiAgICAgICd8XFxcXGREP1srXFxcXGRdKlxcXFwvXFxcXGREP1srXFxcXGRdKilbLFxcXFxzXFxuXSonLFxuICAgIHdlYXBvbjpcbiAgICAgICcoXnxcXFxcbikoPzxuYW1lPlsuXFxcXHQgJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSspKFxcXFwqKiw/XFxcXHMrfFxcXFwqKSg/OlxcXFwofCg/PHBlcmNlbnRhZ2U+XFxcXGQrKSUsPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKVxcXFxzKiw/KT8pPyhcXFxccyooPzonICtcbiAgICAgICdkb21tYWdlfGTDqWfDonRzJyArXG4gICAgICAnKSk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZnIuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmZyLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRXNxdWl2ZXI/JyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylcXFxcKT9cXFxccyolKD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpKT8nLFxuICAgIHNraWxsOlxuICAgICAgJ14oPzxuYW1lPls6XFxcXCouXFxcXHMnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKyg/PCEnICtcbiAgICAgICdUaGUgcGxheWVyIGhhc3xidXQgdGhleSByZWdlbmVyYXRlJyArXG4gICAgICAnKSlcXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylbXmRdJT9cXFxcKT8oXFxcXHMqXFxcXChcXFxcZCsvXFxcXGQrXFxcXCkpP1tcXFxcLixdP1xcXFxzKicsXG4gICAgZ3Vlc3NTdGFydENvbWJhdDpcbiAgICAgICcoXnwoPzwhLClcXG4pKCcgKyAnQXUgY29udGFjdHzDgCBkaXN0YW5jZXxDb21iYXQgcmFwcHJvY2jDqXxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmZyLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmZyLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZnIuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5mci5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBlczoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspXFxcXHMqJyArICdhW8Oxw5Fdb3MnICsgJyg/IVthLXpdKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjpcbiAgICAgICdbLFxcXFxzXSonICsgJ09jdXBhY2nDs24nICsgJyhcXFxccyo6KT9cXFxccysoPzxvY2N1cGF0aW9uPi4rKVssXFxcXHNcXG5dKicsXG4gICAgc3RyOiAnKD88IVthLXpdKScgKyAnRlVFJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnQ09OJyArICcoXFxcXHMqOik/XFxcXHMqKD88Y29uPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2l6OiAnKD88IVthLXpdKScgKyAnVEFNJyArICcoXFxcXHMqOik/XFxcXHMqKD88c2l6PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaW50OiAnKD88IVthLXpdKScgKyAnSU5UJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnUE9EJyArICcoXFxcXHMqOik/XFxcXHMqKD88cG93PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZGV4OiAnKD88IVthLXpdKScgKyAnREVTJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnQVBBJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnRURVJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZWR1PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2FuOlxuICAgICAgJyg/PCFbYS16XSkoPzonICsgJ0NPUnxDb3JkdXJhJyArICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGhwOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQVnxQdW50b3MgZGUgdmlkYXxQXFxcXC4gP1ZcXFxcLicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUE18UHVudG9zIE3DoWdpY29zfFB1bnRvcyBkZSBNYWdpYScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88bXA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkYjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICBrZXlzLmVzLmZ1bGxkYiArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxkYj5bKy1dP1xcXFxkKyg/OmRcXFxcZCt8RFxcXFxkKyk/fCcgK1xuICAgICAga2V5cy5lcy5kYk5vbmUgK1xuICAgICAgJylbLFxcXFxzXFxuXSonLFxuICAgIGJ1aWxkOlxuICAgICAgJyg/PCFbYS16XSknICsgJ0NvcnB1bGVuY2lhJyArICcoXFxcXHMqOik/XFxcXHMrKD88YnVpbGQ+WystXT9cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBhcm1vcjpcbiAgICAgICcoPzwhW2Etel0pJyArXG4gICAgICAnQXJtYWR1cmEnICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmVzLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjogJyg/PCFbYS16XSknICsgJ01vdmltaWVudG8nICsgJyhcXFxccyo6KT9cXFxccyooPzxtb3Y+XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgbGNrOiAnKD88IVthLXpdKScgKyAnU3VlcnRlJyArICcoXFxcXHMqOik/XFxcXHMrKD88bGNrPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXR0YWNrc1BlclJvdW5kOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdOw7ptZXJvIGRlIEF0YXF1ZXMnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGF0dGFja3NQZXJSb3VuZD4nICtcbiAgICAgIGtleXMuZXMuYXR0YWNrc1BlclJvdW5kTm9uZSArXG4gICAgICAnfFxcXFxkKyg/IWQpKVssXFxcXHNcXG5dKicsXG4gICAgc2FuTG9zczpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUMOpcmRpZGEgZGUgY29yZHVyYXxQw6lyZGlkYSBkZSBDT1InICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PHNhbkxvc3M+JyArXG4gICAgICBrZXlzLmVzLnNhbkxvc3NOb25lICtcbiAgICAgICd8XFxcXGREP1srXFxcXGRdKlxcXFwvXFxcXGREP1srXFxcXGRdKilbLFxcXFxzXFxuXSonLFxuICAgIHdlYXBvbjpcbiAgICAgICcoXnxcXFxcbikoPzxuYW1lPlsuXFxcXHQgJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSspKFxcXFwqKiw/XFxcXHMrfFxcXFwqKSg/OlxcXFwofCg/PHBlcmNlbnRhZ2U+XFxcXGQrKSUsPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKVxcXFxzKiw/KT8pPyhcXFxccyonICtcbiAgICAgICdkYcOxbycgK1xuICAgICAgJyk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZXMuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVzLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRXNxdWl2YXInICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVxcXFwpP1xcXFxzKiUoPzpcXFxccypcXFxcKFxcXFxkK1xcXFwvXFxcXGQrXFxcXCkpPycsXG4gICAgc2tpbGw6XG4gICAgICAnXig/PG5hbWU+WzpcXFxcKi5cXFxccycgK1xuICAgICAgbmFtZUNoYXJhY3RlcnMgK1xuICAgICAgJ10rKD88IScgK1xuICAgICAgJ1RoZSBwbGF5ZXIgaGFzfGJ1dCB0aGV5IHJlZ2VuZXJhdGUnICtcbiAgICAgICcpKVxcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVteZF0lP1xcXFwpPyhcXFxccypcXFxcKFxcXFxkKy9cXFxcZCtcXFxcKSk/W1xcXFwuLF0/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArICdDb21iYXRpcnxBcm1hcyBkZSBmdWVnb3xQZWxlYXxNb3JkaXNjbycgKyAnKScsXG4gICAgbmFtZTogJ14oPzxuYW1lPltcXFxcLlxcXFxzJyArIG5hbWVDaGFyYWN0ZXJzICsgJ10rKVssXFxcXHNcXG5dKycsXG4gICAgc2VjdGlvbnM6XG4gICAgICAnKCcgK1xuICAgICAga2V5cy5lcy5zZWN0aW9uQ29tYmF0cyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5lcy5zZWN0aW9uU2tpbGxzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVzLnNlY3Rpb25MYW5nYXVnZXMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZXMuc2VjdGlvblNwZWxscyArXG4gICAgICAnKSdcbiAgfSxcbiAgJ3poLVRXJzoge1xuICAgIGFnZTogJyg/PCFbYS16XSknICsgJ2FnZXzlubTpvaEnICsgJyhcXFxccyo6KT9cXFxccyooPzxhZ2U+XFxcXGQrKVssXFxcXHNdKicsXG4gICAgLyogTkVXIEtFWSBCRUxPVyAtIFRSQU5TTEFUSU9OIFJFUVVJUkVEICovXG4gICAgb2NjdXBhdGlvbjpcbiAgICAgICdbLFxcXFxzXSonICsgJ09jY3VwYXRpb24nICsgJyhcXFxccyo6KT9cXFxccysoPzxvY2N1cGF0aW9uPi4rKVssXFxcXHNcXG5dKicsXG4gICAgc3RyOiAnKD88IVthLXpdKScgKyAnU1RSfOWKm+mHjycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHN0cj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGNvbjogJyg/PCFbYS16XSknICsgJ0NPTnzpq5Tos6onICsgJyhcXFxccyo6KT9cXFxccyooPzxjb24+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzaXo6ICcoPzwhW2Etel0pJyArICdTSVp86auU5Z6LJyArICcoXFxcXHMqOik/XFxcXHMqKD88c2l6PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaW50OiAnKD88IVthLXpdKScgKyAnSU5UfOaZuuWKmycgKyAnKFxcXFxzKjopP1xcXFxzKig/PGludD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHBvdzogJyg/PCFbYS16XSknICsgJ1BPV3zmhI/lv5cnICsgJyhcXFxccyo6KT9cXFxccyooPzxwb3c+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkZXg6ICcoPzwhW2Etel0pJyArICdERVh85pWP5o23JyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnQVBQfOWkluiyjicgKyAnKFxcXFxzKjopP1xcXFxzKig/PGFwcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGVkdTogJyg/PCFbYS16XSknICsgJ0VEVXzmlZnogrInICsgJyhcXFxccyo6KT9cXFxccyooPzxlZHU+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzYW46XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1NBTnxTYW5pdHl855CG5pm6JyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxzYW4+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBocDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnSFB8SGl0IHBvaW50c3znlJ/lkb0nICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGhwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgbXA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ01QfE1hZ2ljIHBvaW50cycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88bXA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkYjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICBrZXlzWyd6aC1UVyddLmZ1bGxkYiArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxkYj5bKy1dP1xcXFxkKyg/OmRcXFxcZCt8RFxcXFxkKyk/fCcgK1xuICAgICAga2V5c1snemgtVFcnXS5kYk5vbmUgK1xuICAgICAgJylbLFxcXFxzXFxuXSonLFxuICAgIGJ1aWxkOlxuICAgICAgJyg/PCFbYS16XSknICsgJ0J1aWxkfOmrlOagvCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGJ1aWxkPlsrLV0/XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgYXJtb3I6XG4gICAgICAnKD88IVthLXpdKScgK1xuICAgICAgJ0FybW9yfOitt+eUsicgK1xuICAgICAgJyhcXFxccyo6KT9cXFxccyooPzxhcm1vcj4nICtcbiAgICAgIGtleXNbJ3poLVRXJ10uYXJtb3JOb25lICtcbiAgICAgICd8XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgbW92OiAnKD88IVthLXpdKScgKyAnTW92ZScgKyAnKFxcXFxzKjopP1xcXFxzKig/PG1vdj5cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBsY2s6ICcoPzwhW2Etel0pJyArICdMdWNrfOW5uOmBiycgKyAnKFxcXFxzKjopP1xcXFxzKig/PGxjaz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGF0dGFja3NQZXJSb3VuZDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnQXR0YWNrcyBwZXIgcm91bmR8IyBBdHRhY2tzfOaUu+aTiuasoeaVuHwjIOaUu+aTiicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88YXR0YWNrc1BlclJvdW5kPicgK1xuICAgICAga2V5c1snemgtVFcnXS5hdHRhY2tzUGVyUm91bmROb25lICtcbiAgICAgICd8XFxcXGQrKD8hZCkpWyxcXFxcc1xcbl0qJyxcbiAgICBzYW5Mb3NzOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdTYW5pdHkgbG9zc3xTQU4gbG9zc3znkIbmmbrllqrlpLF8U0FO5YC85pCN5aSxfFNBTuWAvOWWquWksXzmiaNTQU4nICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbkxvc3M+JyArXG4gICAgICBrZXlzWyd6aC1UVyddLnNhbkxvc3NOb25lICtcbiAgICAgICd8XFxcXGREP1srXFxcXGRdKlxcXFwvXFxcXGREP1srXFxcXGRdKilbLFxcXFxzXFxuXSonLFxuICAgIHdlYXBvbjpcbiAgICAgICcoXnxcXFxcbikoPzxuYW1lPlsuXFxcXHQgJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSspKFxcXFwqKiw/XFxcXHMrfFxcXFwqKSg/OlxcXFwofCg/PHBlcmNlbnRhZ2U+XFxcXGQrKSUsPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKVxcXFxzKiw/KT8pPyhcXFxccyooPzonICtcbiAgICAgICdkYW1hZ2V85YK35a6zJyArXG4gICAgICAnKSk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXNbJ3poLVRXJ10uZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzWyd6aC1UVyddLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRG9kZ2V86ZaD6YG/fOmWg+i6sicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspXFxcXCk/XFxcXHMqJT8oPzpcXFxccypcXFxcKFxcXFxkK1xcXFwvXFxcXGQrXFxcXCkpPycsXG4gICAgc2tpbGw6XG4gICAgICAnXig/PG5hbWU+WzpcXFxcKi5cXFxccycgK1xuICAgICAgbmFtZUNoYXJhY3RlcnMgK1xuICAgICAgJ10rKD88IScgK1xuICAgICAgJ1RoZSBwbGF5ZXIgaGFzfGJ1dCB0aGV5IHJlZ2VuZXJhdGUnICtcbiAgICAgICcpKVxcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVteZF0lP1xcXFwpPyhcXFxccypcXFxcKFxcXFxkKy9cXFxcZCtcXFxcKSk/W1xcXFwuLF0/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OiAnKF58KD88ISwpXFxuKSgnICsgJ+i/keaIsOaKgOiDvXzlsITmk4rmioDog718QnJhd2x8Qml0ZScgKyAnKScsXG4gICAgbmFtZTogJ14oPzxuYW1lPltcXFxcLlxcXFxzJyArIG5hbWVDaGFyYWN0ZXJzICsgJ10rKVssXFxcXHNcXG5dKycsXG4gICAgc2VjdGlvbnM6XG4gICAgICAnKCcgK1xuICAgICAga2V5c1snemgtVFcnXS5zZWN0aW9uQ29tYmF0cyArXG4gICAgICAnfCcgK1xuICAgICAga2V5c1snemgtVFcnXS5zZWN0aW9uU2tpbGxzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzWyd6aC1UVyddLnNlY3Rpb25MYW5nYXVnZXMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXNbJ3poLVRXJ10uc2VjdGlvblNwZWxscyArXG4gICAgICAnKSdcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAge1xuICBzdGF0aWMgY2hlY2tMYW5ndWFnZSAobGFuZyA9IG51bGwpIHtcbiAgICBpZiAoIWxhbmcpIHtcbiAgICAgIGxhbmcgPSBnYW1lLmkxOG4ubGFuZ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRyYW5zbGF0aW9uc1tsYW5nXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhbmcgPSAnZW4nXG4gICAgfVxuICAgIHJldHVybiBsYW5nXG4gIH1cblxuICBzdGF0aWMgZ2V0RXhhbXBsZVRleHQgKGxhbmcpIHtcbiAgICBsZXQgZXhhbXBsZSA9IGtleXMuZW4uZXhhbXBsZVxuICAgIGlmICh0eXBlb2Yga2V5c1tsYW5nXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGV4YW1wbGUgPSBrZXlzW2xhbmddLmV4YW1wbGVcbiAgICB9XG4gICAgcmV0dXJuIGV4YW1wbGVcbiAgfVxuXG4gIHN0YXRpYyBnZXRUcmFuc2xhdGlvbnMgKCkge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9XG4gICAgZm9yIChjb25zdCBrZXkgaW4ga2V5cykge1xuICAgICAgb3V0cHV0W2tleV0gPSBrZXlzW2tleV0uZGVzY3JpcHRpb25cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgc3RhdGljIGdldEtleXMgKGxhbmcpIHtcbiAgICByZXR1cm4ga2V5c1tsYW5nXSB8fCBrZXlzLmVuXG4gIH1cblxuICBzdGF0aWMgZ2V0UmVndWxhckV4cHJlc3Npb25zIChsYW5nKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0aW9uc1tsYW5nXSB8fCB0cmFuc2xhdGlvbnMuZW5cbiAgfVxufVxuIiwiLyogZ2xvYmFsIEFjdG9yLCBDT05GSUcsIGR1cGxpY2F0ZSwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IENvQzdBY3RvckltcG9ydGVyUmVnRXhwIH0gZnJvbSAnLi9hY3Rvci1pbXBvcnRlci1yZWdleHAuanMnXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uL2FjdG9ycy9hY3Rvci5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbXMvaXRlbS5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbi8qKlxuICogQ29DN0FjdG9ySW1wb3J0ZXIgaGVscGVyIGNsYXNzIHRvIGltcG9ydCBhbiBBY3RvciBmcm9tIHRoZSByYXcgdGV4dCBkZXNjcmlwdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdBY3RvckltcG9ydGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucGFyc2VkID0ge31cbiAgICB0aGlzLml0ZW1Mb2NhdGlvbnMgPSAnJ1xuICB9XG5cbiAgc3RhdGljIGdldCBhc051bWJlciAoKSB7XG4gICAgcmV0dXJuICduJ1xuICB9XG5cbiAgc3RhdGljIGdldCBhc1N0cmluZyAoKSB7XG4gICAgcmV0dXJuICdzJ1xuICB9XG5cbiAgLyoqXG4gICAqIGdldFJlZ0V4LCBnZXQgUmVnRXhwIG9iamVjdCBpZiBub3QgY3VycmVudGx5IGEgUmVnRXhwIG9iamVjdFxuICAgKiBAcGFyYW0ge01peGVkfSByZWdleCBSZWdFeHAgb3Igc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RpZmllcnMgaWYgc3RyaW5nIHdhcyBzdXBwbGllZCBpbiByZWdleCBsaXN0IG9mIG1vZGlmaWVycyB0byBhZGQgdG8gdGhlIFJlZ0V4cFxuICAgKiBAcmV0dXJucyB7UmVnRXhwfVxuICAgKi9cbiAgZ2V0UmVnRXggKHJlZ2V4LCBtb2RpZmllcnMgPSAnaXUnKSB7XG4gICAgaWYgKHJlZ2V4LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnUmVnRXhwJykge1xuICAgICAgcmV0dXJuIHJlZ2V4XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBtb2RpZmllcnMpXG4gIH1cblxuICAvKipcbiAgICogY2xlYW5TdHJpbmcsIHJlbW92ZXMgbmV3IGxpbmUgYW5kIGNhcnJpZXIgcmV0dXJuIGNoYXJhY3RlciBhbmQgbGF0ZXJhbCBzcGFjZXMgZnJvbSBhIHN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcyB0aGUgc3RyaW5nIHRvIGNsZWFuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBjbGVhbmVkIHN0cmluZ1xuICAgKi9cbiAgY2xlYW5TdHJpbmcgKHMpIHtcbiAgICByZXR1cm4gc1xuICAgICAgLnJlcGxhY2UoLyhcXG58XFxyKS9nLCAnICcpXG4gICAgICAucmVwbGFjZSgvXlxccyovLCAnJylcbiAgICAgIC5yZXBsYWNlKC9cXHMqXFwuP1xccypcXC4/JC8sICcnKVxuICB9XG5cbiAgLyoqXG4gICAqIHRyYW5zbGF0ZVJvbGwsIHRyYW5zbGF0ZXMgbGFuZ3VhZ2Ugc3BlY2lmaWMgc2hvcnRmb3JtIG9mIGRpY2UgKEQpIGluIHJvbGxzXG4gICAqIEV4YW1wbGUgZm9yIEdlcm1hbiByb2xsczogMVc0ID0+IDFENC5cbiAgICogRGljZSBzaG9ydGZvcm0gaXMgY29uZmlndXJlZCB1c2luZyBrZXlzLmRpY2VTaG9ydFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcyB0aGUgcm9sbCB0byBiZSB0cmFuc2xhdGVkXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSB0cmFuc2xhdGVkIHJvbGxcbiAgICovXG4gIHRyYW5zbGF0ZVJvbGwgKHMpIHtcbiAgICBpZiAodHlwZW9mIHMgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gc1xuICAgIGlmICh0eXBlb2YgdGhpcy5rZXlzLmRpY2VTaG9ydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHJlZ0V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJyg/PG4xPlxcXFxkKyknICsgdGhpcy5rZXlzLmRpY2VTaG9ydCArICcoPzxuMj5cXFxcZCspJyxcbiAgICAgICAgJ2l1ZydcbiAgICAgIClcbiAgICAgIHJldHVybiBzLnJlcGxhY2UocmVnRXgsICckPG4xPkQkPG4yPicpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHRvSFRNTCwgY29udmVydHMgYSBzdHJpbmcgdG8gSFRNTCBzdHJpcGluZyBvdXQgZW1wdHkgbGluZXMgb3IgbGluZXMgdGhhdCBjb250YWluIGp1c3QgLCBvciAuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzIHRoZSBzdHJpbmcgdG8gY29udmVydFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0aGUgSFRNTCBvciBhbiBlbXB0eSBzdHJpbmdcbiAgICovXG4gIHRvSFRNTCAocykge1xuICAgIGlmIChzLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICBzID0gc1xuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgLm1hcCh0ZXh0ID0+IHRleHQudHJpbSgpLnJlcGxhY2UoL15bLC5cXHNdKyQvLCAnJykpXG4gICAgICAuZmlsdGVyKHRleHQgPT4gdGV4dClcbiAgICAgIC5qb2luKCc8L3A+PHA+JylcbiAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICByZXR1cm4gJzxwPicgKyBzICsgJzwvcD4nXG4gIH1cblxuICAvKipcbiAgICogY2hlY2sgZXhwZWN0cyBhIGtleSBmcm9tIHRoaXMucmVnRXggd2lsbCBhdHRlbXB0IHRvIG1hdGNoIHRoZSB0ZXh0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSByZWdFeEtleSBrZXkgaW4gdGhpcy5yZWdFeFxuICAgKiBAcGFyYW0ge0pTT059XG4gICAqIC0gcmVtb3ZlRnJvbVRleHQgcmVtb3ZlIGZyb20gdGhpcy50ZXh0XG4gICAqIC0gc2F2ZUtleXMgYWRkIGdyb3VwIGtleXMgdG8gdGhpcy5wYXJzZWRcbiAgICogLSB0eXBlIElmIGFkZGluZyB3aXRoIHNhdmVLZXlzIHNldCB0eXBlIChDb0M3QWN0b3JJbXBvcnRlci5hc1N0cmluZyAvIENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyKVxuICAgKiAtIHRleHQgSWYgc2V0IHVzZSB0aGlzIGluc3RlYWQgb2YgdGhpcy50ZXh0XG4gICAqIC0gcmVxdWlyZWRHcm91cCBJZiBub3QgZmFsc2UgcmVxdWlyZSBzcGVjaWZpZWQga2V5IGluIFJlZ0V4cCBncm91cHNcbiAgICogQHJldHVybnMge0ZhbHNlfS97SlNPTiBncm91cHMgJycgaXMgbWF0Y2hlZCBzdHJpbmd9XG4gICAqL1xuICBjaGVjayAoXG4gICAgcmVnRXhLZXksXG4gICAge1xuICAgICAgcmVtb3ZlRnJvbVRleHQgPSB0cnVlLFxuICAgICAgc2F2ZUtleXMgPSB0cnVlLFxuICAgICAgdHlwZSA9IENvQzdBY3RvckltcG9ydGVyLmFzU3RyaW5nLFxuICAgICAgdGV4dCA9IGZhbHNlLFxuICAgICAgcmVxdWlyZWRHcm91cCA9IGZhbHNlXG4gICAgfSA9IHt9XG4gICkge1xuICAgIGxldCBvdXRwdXQgPSBmYWxzZVxuICAgIGxldCByZWdFeHAgPSBmYWxzZVxuICAgIGlmICh0eXBlb2YgdGhpcy5yZWdFeFtyZWdFeEtleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZWdFeHAgPSB0aGlzLmdldFJlZ0V4KHRoaXMucmVnRXhbcmVnRXhLZXldKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMua2V5c1tyZWdFeEtleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZWdFeHAgPSB0aGlzLmdldFJlZ0V4KHRoaXMua2V5c1tyZWdFeEtleV0pXG4gICAgfVxuICAgIGlmIChyZWdFeHAgIT09IGZhbHNlKSB7XG4gICAgICBpZiAodGV4dCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGV4dCA9IHRoaXMudGV4dFxuICAgICAgfVxuICAgICAgY29uc3QgY2hlY2sgPSByZWdFeHAuZXhlYyh0ZXh0KVxuICAgICAgbGV0IHZhbHVlID0gbnVsbFxuICAgICAgaWYgKFxuICAgICAgICBjaGVjayAhPT0gbnVsbCAmJlxuICAgICAgICAocmVxdWlyZWRHcm91cCA9PT0gZmFsc2UgfHxcbiAgICAgICAgICB0eXBlb2YgKGNoZWNrLmdyb3VwcyB8fCB7fSlbcmVxdWlyZWRHcm91cF0gIT09ICd1bmRlZmluZWQnKVxuICAgICAgKSB7XG4gICAgICAgIG91dHB1dCA9IGNoZWNrLmdyb3VwcyB8fCB7fVxuICAgICAgICBpZiAocmVtb3ZlRnJvbVRleHQpIHtcbiAgICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQucmVwbGFjZShjaGVja1swXS50cmltKCksICdcXG4nKS50cmltKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2F2ZUtleXMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjaGVjay5ncm91cHMpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBDb0M3QWN0b3JJbXBvcnRlci5hc1N0cmluZzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZFtrZXldID0gU3RyaW5nKGNoZWNrLmdyb3Vwc1trZXldKS5yZXBsYWNlKCdcXG4nLCAnICcpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgY2FzZSBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlcjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE51bWJlcihjaGVjay5ncm91cHNba2V5XSlcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZWRba2V5XSA9IE51bWJlcihjaGVjay5ncm91cHNba2V5XSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0Wyctc291cmNlJ10gPSBjaGVja1swXVxuICAgICAgICBvdXRwdXRbJy1pbmRleCddID0gY2hlY2suaW5kZXhcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgLyoqXG4gICAqIHByb2Nlc3NDb21iYXQgZXh0cmFjdHMgY29tYmF0IC8gZG9kZ2UgaW5mb3JtYXRpb24gZnJvbSBhIHN1YnNlY3Rpb24gb2YgdGV4dFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgcmF3IHRleHQgb2YgdGhlIGNvbWJhdCBzZWN0aW9uXG4gICAqIEByZXR1cm5zIHZvaWRcbiAgICovXG4gIHByb2Nlc3NDb21iYXQgKHRleHQpIHtcbiAgICBpZiAodGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdjb21iYXQgdGV4dCcsIHRleHQpXG4gICAgfVxuICAgIGxldCB3ZWFwb25cbiAgICBsZXQgZG9kZ2VcbiAgICBsZXQgbmV3bGluZVxuICAgIGxldCBsYXN0UGVyY2VudCA9IGZhbHNlXG4gICAgbGV0IG1heExvb3BzID0gNDBcbiAgICBkbyB7XG4gICAgICBtYXhMb29wcy0tXG4gICAgICB0ZXh0ID0gdGV4dC50cmltKClcbiAgICAgIGlmIChcbiAgICAgICAgKGRvZGdlID0gdGhpcy5jaGVjaygnd2VhcG9uRG9kZ2UnLCB7IHNhdmVLZXlzOiBmYWxzZSwgdGV4dCB9KSlcbiAgICAgICkge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGRvZGdlWyctc291cmNlJ10sICdcXG4nKVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFyc2VkLnNraWxscyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLnBhcnNlZC5za2lsbHMgPSBbXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyc2VkLnNraWxscy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmNsZWFuU3RyaW5nKGRvZGdlLm5hbWUpLFxuICAgICAgICAgIHZhbHVlOiBOdW1iZXIoZG9kZ2UucGVyY2VudGFnZSksXG4gICAgICAgICAgcHVzaDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh3ZWFwb24gPSB0aGlzLmNoZWNrKCd3ZWFwb24nLCB7XG4gICAgICAgICAgc2F2ZUtleXM6IGZhbHNlLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgcmVxdWlyZWRHcm91cDogbGFzdFBlcmNlbnQgPT09IGZhbHNlID8gJ3BlcmNlbnRhZ2UnIDogZmFsc2VcbiAgICAgICAgfSkpXG4gICAgICApIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh3ZWFwb25bJy1zb3VyY2UnXSwgJ1xcbicpXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmNsZWFuU3RyaW5nKHdlYXBvbi5uYW1lIHx8ICcnKVxuICAgICAgICBsZXQgZGFtYWdlID0gdGhpcy50cmFuc2xhdGVSb2xsKHRoaXMuY2xlYW5TdHJpbmcod2VhcG9uLmRhbWFnZSB8fCAnJykpXG4gICAgICAgIGNvbnN0IGlzUmFuZ2VkID0gISEoXG4gICAgICAgICAgdGhpcy5jaGVjaygnaGFuZGd1bicsIHtcbiAgICAgICAgICAgIHRleHQ6IG5hbWUsXG4gICAgICAgICAgICByZW1vdmVGcm9tVGV4dDogZmFsc2UsXG4gICAgICAgICAgICBzYXZlS2V5czogZmFsc2VcbiAgICAgICAgICB9KSB8fFxuICAgICAgICAgIHRoaXMuY2hlY2soJ3JpZmxlJywge1xuICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNhdmVLZXlzOiBmYWxzZVxuICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgdGhpcy5jaGVjaygnc21iJywge1xuICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNhdmVLZXlzOiBmYWxzZVxuICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgdGhpcy5jaGVjaygnbWFjaGluZUd1bicsIHtcbiAgICAgICAgICAgIHRleHQ6IG5hbWUsXG4gICAgICAgICAgICByZW1vdmVGcm9tVGV4dDogZmFsc2UsXG4gICAgICAgICAgICBzYXZlS2V5czogZmFsc2VcbiAgICAgICAgICB9KSB8fFxuICAgICAgICAgIHRoaXMuY2hlY2soJ2xhdW5jaGVkJywge1xuICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNhdmVLZXlzOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHdlYXBvbi5wZXJjZW50YWdlICE9PSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHdlYXBvbi5wZXJjZW50YWdlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICBsYXN0UGVyY2VudCA9IE51bWJlcih3ZWFwb24ucGVyY2VudGFnZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0UGVyY2VudCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBsZXQgZm91bmRcbiAgICAgICAgbGV0IGFoZGIgPSBmYWxzZVxuICAgICAgICBsZXQgYWRkYiA9IGZhbHNlXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBmb3VuZCA9IHRoaXMuZ2V0UmVnRXgoXG4gICAgICAgICAgICAnXFxcXHMqWystXT9cXFxccyooJyArXG4gICAgICAgICAgICAgIHRoaXMua2V5cy5oYWxmZGIgK1xuICAgICAgICAgICAgICAnKVxcXFxzKignICtcbiAgICAgICAgICAgICAgdGhpcy5rZXlzLmZ1bGxkYiArXG4gICAgICAgICAgICAgICcpP1stK10/XFxcXHMqKCcgK1xuICAgICAgICAgICAgICB0aGlzLnBhcnNlZC5kYi5yZXBsYWNlKC9eWy0rXS8sICcnKSArXG4gICAgICAgICAgICAgICcpPydcbiAgICAgICAgICApLmV4ZWMoZGFtYWdlKVxuICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgYWhkYiA9IHRydWVcbiAgICAgICAgICAgIGRhbWFnZSA9IGRhbWFnZS5yZXBsYWNlKGZvdW5kWzBdLCAnJylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm91bmQgPSB0aGlzLmdldFJlZ0V4KFxuICAgICAgICAgICAgICAnXFxcXHMqWystXT9cXFxccyooJyArXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzLmZ1bGxkYiArXG4gICAgICAgICAgICAgICAgJylcXFxccypbLStdP1xcXFxzKignICtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZC5kYi5yZXBsYWNlKC9eWy0rXS8sICcnKSArXG4gICAgICAgICAgICAgICAgJyk/J1xuICAgICAgICAgICAgKS5leGVjKGRhbWFnZSlcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICBhZGRiID0gdHJ1ZVxuICAgICAgICAgICAgICBkYW1hZ2UgPSBkYW1hZ2UucmVwbGFjZShmb3VuZFswXSwgJycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChmb3VuZClcbiAgICAgICAgY29uc3QgZGFtYWdlcyA9IGRhbWFnZS5zcGxpdCgnLycpXG4gICAgICAgIGNvbnN0IGlzU2hvdGd1biA9IGRhbWFnZXMubGVuZ3RoID09PSAzXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgICAgICBzeXN0ZW06IHtcbiAgICAgICAgICAgIHNraWxsOiB7XG4gICAgICAgICAgICAgIGlkOiBsYXN0UGVyY2VudFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlzU2hvdGd1biA/IDEwIDogMCxcbiAgICAgICAgICAgICAgICBkYW1hZ2U6IGRhbWFnZXNbMF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbG9uZzoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpc1Nob3RndW4gPyAyMCA6IDAsXG4gICAgICAgICAgICAgICAgZGFtYWdlOiBpc1Nob3RndW4gPyBkYW1hZ2VzWzFdIDogJydcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXh0cmVtZToge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpc1Nob3RndW4gPyA1MCA6IDAsXG4gICAgICAgICAgICAgICAgZGFtYWdlOiBpc1Nob3RndW4gPyBkYW1hZ2VzWzJdIDogJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgc29tZSBvZiB0aGUgcHJvcGVydGllc1xuICAgICAgICBkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzLnNob3RndW4gPSBpc1Nob3RndW5cbiAgICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5ybmdkID0gaXNSYW5nZWQgfHwgaXNTaG90Z3VuXG4gICAgICAgIGRhdGEuc3lzdGVtLnByb3BlcnRpZXMubWVsZWUgPSAhZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5ybmdkXG4gICAgICAgIGRhdGEuc3lzdGVtLnByb3BlcnRpZXMuYWhkYiA9IGFoZGJcbiAgICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5hZGRiID0gYWRkYlxuICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFyc2VkLmF0dGFja3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5wYXJzZWQuYXR0YWNrcyA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJzZWQuYXR0YWNrcy5wdXNoKGRhdGEpXG4gICAgICB9IGVsc2UgaWYgKChuZXdsaW5lID0gdGV4dC5tYXRjaCgvXiguKylcXG4vKSkpIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShuZXdsaW5lWzBdLCAnXFxuJylcbiAgICAgIH0gZWxzZSBpZiAoKG5ld2xpbmUgPSB0ZXh0Lm1hdGNoKC9eW15cXG5dKyQvKSkpIHtcbiAgICAgICAgdGV4dCA9ICcnXG4gICAgICB9XG4gICAgfSB3aGlsZSAobWF4TG9vcHMgPiAwICYmICghIXdlYXBvbiB8fCAhIWRvZGdlIHx8ICEhdGV4dCkpXG4gICAgaWYgKG1heExvb3BzID09PSAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvclVuZXhwZWN0ZWRXZWFwb25UZXh0JylcbiAgICAgIClcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1VuZXhwZWN0ZWQgd2VhcG9uczonLCB0ZXh0KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBwcm9jZXNzU2tpbGxzIGV4dHJhY3RzIHNraWxscyAvIGxhbmd1YWdlIGluZm9ybWF0aW9uIGZyb20gYSBzdWJzZWN0aW9uIG9mIHRleHRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGhlIHJhdyB0ZXh0IG9mIHRoZSBza2lsbHMgLyBsYW5ndWFnZSBzZWN0aW9uXG4gICAqIEByZXR1cm5zIHZvaWRcbiAgICovXG4gIHByb2Nlc3NTa2lsbHMgKHRleHQsIGtleSA9ICdza2lsbHMnKSB7XG4gICAgaWYgKHRleHQudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGJyZWFrcyA9IHRleHQuc3BsaXQoL1xcLlxccj9cXG4vKVxuICAgIGlmIChicmVha3MubGVuZ3RoID4gMSkge1xuICAgICAgdGV4dCA9IGJyZWFrc1swXVxuICAgIH1cbiAgICBsZXQgc2tpbGxcbiAgICBsZXQgbWF4TG9vcHMgPSA0MFxuICAgIGRvIHtcbiAgICAgIG1heExvb3BzLS1cbiAgICAgIHRleHQgPSB0ZXh0LnRyaW0oKVxuICAgICAgc2tpbGwgPSB0aGlzLmNoZWNrKCdza2lsbCcsIHsgc2F2ZUtleXM6IGZhbHNlLCB0ZXh0IH0pXG4gICAgICBpZiAoc2tpbGwpIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShza2lsbFsnLXNvdXJjZSddLCAnXFxuJylcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcnNlZFtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMucGFyc2VkW2tleV0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyc2VkW2tleV0ucHVzaCh7XG4gICAgICAgICAgbmFtZTogdGhpcy5jbGVhblN0cmluZyhza2lsbC5uYW1lKSxcbiAgICAgICAgICB2YWx1ZTogTnVtYmVyKHNraWxsLnBlcmNlbnRhZ2UpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSB3aGlsZSAobWF4TG9vcHMgPiAwICYmIHNraWxsKVxuICAgIGlmIChtYXhMb29wcyA9PT0gMCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JVbmV4cGVjdGVkU2tpbGxzVGV4dCcpXG4gICAgICApXG4gICAgICBjb25zb2xlLmRlYnVnKCdVbmV4cGVjdGVkIHNraWxsczonLCB0ZXh0KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBwcm9jZXNzU3BlbGxzIGV4dHJhY3RzIHNwZWxsIGluZm9ybWF0aW9uIGZyb20gYSBzdWJzZWN0aW9uIG9mIHRleHRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGhlIHJhdyB0ZXh0IG9mIHRoZSBzcGVsbCBzZWN0aW9uXG4gICAqIEByZXR1cm5zIHZvaWRcbiAgICovXG4gIHByb2Nlc3NTcGVsbHMgKHRleHQpIHtcbiAgICBpZiAodGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgYnJlYWtzID0gdGV4dC5zcGxpdCgvXFwuXFxyP1xcbi8pXG4gICAgaWYgKGJyZWFrcy5sZW5ndGggPiAxKSB7XG4gICAgICB0ZXh0ID0gYnJlYWtzWzBdXG4gICAgfVxuICAgIGNvbnN0IHNwZWxsc0FyciA9IHRleHQucmVwbGFjZSgvKFtcXG5cXHJdKykvZywgJyAnKS5zcGxpdCgvKD88IVxcKFteKV0rKSwvKVxuICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKHRleHQudHJpbSgpLCAnXFxuJylcbiAgICBmb3IgKGNvbnN0IHNwZWxsIG9mIHNwZWxsc0Fycikge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcnNlZC5zcGVsbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucGFyc2VkLnNwZWxscyA9IFtdXG4gICAgICB9XG4gICAgICB0aGlzLnBhcnNlZC5zcGVsbHMucHVzaCh0aGlzLmNsZWFuU3RyaW5nKHNwZWxsKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogcGFyc2VDaGFyYWN0ZXIgZXh0cmFjdHMgaW5mb3JtYXRpb24gZnJvbSB0aGUgcmF3IHRleHQgZGVzY3JpcHRpb24gb2YgYW4gZW50aXR5IChOUEMgb3IgQ3JlYXR1cmUpXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSByYXcgdGV4dCBvZiB0aGUgZW50aXR5XG4gICAqIEByZXR1cm5zIGV4dHJhY3RlZERhdGEgb2JqZWN0IHdpdGggdGhlIGVudGl0eSBkYXRhXG4gICAqL1xuICBhc3luYyBwYXJzZUNoYXJhY3RlciAodGV4dCkge1xuICAgIC8vIFJlcGxhY2UgXCJFbiBEYXNoXCIgYW5kIFwiRW0gRGFzaFwiIGRhc2hlcyB3aXRoIC0gYW5kIFwiUmlnaHQgU2luZ2xlIFF1b3RhdGlvbiBNYXJrXCIgd2l0aCAnXG4gICAgdGhpcy50ZXh0ID0gU3RyaW5nKHRleHQpXG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZSgvXFx1MjAxM3xcXHUyMDE0fFxcdTIyMTIvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoL1xcdTIwMTkvZywgXCInXCIpXG4gICAgICAucmVwbGFjZSgvW1xcdWRiYzAtXFx1ZGJmZV1bXFx1ZGMwMC1cXHVkZmZmXS9nLCAnJylcbiAgICAvLyBFYXJsaWVzdCBjaGFyYWN0ZXIgdGhhdCBoYXMgYmVlbiB1c2VkLCB0byB3b3JrIG91dCB0aGUgaGVhZGVyXG4gICAgbGV0IG1pbiA9IHRoaXMudGV4dC5sZW5ndGhcbiAgICAvLyBTVFIsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgbGV0IGNoZWNrID0gdGhpcy5jaGVjaygnc3RyJywgeyB0eXBlOiBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlciB9KVtcbiAgICAgICctaW5kZXgnXG4gICAgXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBDT04sIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdjb24nLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBTSVosIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdzaXonLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBJTlQsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdpbnQnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBQT1csIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdwb3cnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBERVgsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdkZXgnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBBUFAsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdhcHAnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBFRFUsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdlZHUnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBTQU4sIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdzYW4nLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBIUCwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2hwJywgeyB0eXBlOiBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlciB9KVsnLWluZGV4J11cbiAgICBpZiAoIWlzTmFOKGNoZWNrKSkge1xuICAgICAgbWluID0gTWF0aC5taW4obWluLCBjaGVjaylcbiAgICB9XG4gICAgLy8gTVAsIGlmIGJlcmZvcmUgdGhhbiBwcmV2aW91cyBtaW4gdXBkYXRlIGl0XG4gICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdtcCcsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIFdvcmsgb3V0IHRoZSBoZWFkZXIgYmFzZWQgb24gcHJldmlvdXMgbWluaW11bSBtYXRjaGVkIGNoYXJhY3RlclxuICAgIGxldCBoZWFkZXJcbiAgICBpZiAobWluID4gMCkge1xuICAgICAgaGVhZGVyID0gdGhpcy50ZXh0LnN1YnN0cigwLCBtaW4pXG4gICAgICAvLyBHZXQgbmFtZSBmcm9tIGhlYWRlclxuICAgICAgY2hlY2sgPSB0aGlzLmNoZWNrKCduYW1lJywgeyB0ZXh0OiBoZWFkZXIgfSlcbiAgICAgIGlmIChjaGVjayA9PT0gZmFsc2UpIHtcbiAgICAgICAgLy8gSWYgbm90IGZvdW5kIHVzZSBkZWZhdWx0IE5QQyBuYW1lXG4gICAgICAgIHRoaXMucGFyc2VkLm5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSW1wb3J0ZWRVbm5hbWVkQ2hhcmFjdGVyJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbW92ZSBuYW1lIGZyb20gaGVhZGVyXG4gICAgICAgIGhlYWRlciA9IGhlYWRlci5yZXBsYWNlKGNoZWNrWyctc291cmNlJ10sICdcXG4nKVxuICAgICAgfVxuICAgICAgLy8gR2V0IGFnZSBmcm9tIGhlYWRlclxuICAgICAgY2hlY2sgPSB0aGlzLmNoZWNrKCdhZ2UnLCB7IHRleHQ6IGhlYWRlciB9KVxuICAgICAgaWYgKGNoZWNrICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBJZiBmb3VuZCByZW1vdmUgYWdlIGZyb20gaGVhZGVyXG4gICAgICAgIGhlYWRlciA9IGhlYWRlci5yZXBsYWNlKGNoZWNrWyctc291cmNlJ10sICdcXG4nKVxuICAgICAgfVxuICAgICAgLy8gR2V0IG9jY3VwYXRpb24gZnJvbSBoZWFkZXJcbiAgICAgIGlmICghdGhpcy5jaGVjaygnb2NjdXBhdGlvbicsIHsgdGV4dDogaGVhZGVyIH0pICYmIGhlYWRlci50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIC8vIElmIG9jY3VwYXRpb24gaXMgbm90IGZvdW5kIGJ1dCB0aGVyZSBpcyBhIGhlYWRlciBzZXQgdGhlIG9jY3VwYXRpb24gdG8gdGhlIHJlbWFpbmluZyBoZWFkZXJcbiAgICAgICAgbGV0IG9jY3VwYXRpb24gPSBoZWFkZXJcbiAgICAgICAgaWYgKGhlYWRlci5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgZnVsbCBzdG9wIGp1c3QgdXNlIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSBoZWFkZXIgYXMgdGhlIG9jY3VwYXRpb25cbiAgICAgICAgICBvY2N1cGF0aW9uID0gaGVhZGVyLnN1YnN0cigwLCBoZWFkZXIuaW5kZXhPZignLicpICsgMSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnNlZC5vY2N1cGF0aW9uID0gb2NjdXBhdGlvblxuICAgICAgICAgIC5yZXBsYWNlKC8oW1xcblxccl0rKS9nLCAnICcpXG4gICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIC5yZXBsYWNlKC8sJC8sICcnKVxuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQucmVwbGFjZShvY2N1cGF0aW9uLnRyaW0oKSwgJ1xcbicpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGhlYWRlciBzZXQgZGVmYXVsdCBOUEMgbmFtZVxuICAgICAgdGhpcy5wYXJzZWQubmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbXBvcnRlZFVubmFtZWRDaGFyYWN0ZXInKVxuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBvY2N1cGF0aW9uIGJ1dCBubyBhZ2UgY2hlY2sgaWYgdGhlIG9jY3VwYXRpb24gc3RhcnRzIG51bWJlciBzcGxpdCBhZ2UgYW5kIG9jY3VwYXRpb25cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdGhpcy5wYXJzZWQub2NjdXBhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiB0aGlzLnBhcnNlZC5hZ2UgPT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBjb25zdCBvY2N1cGF0aW9uQWdlID0gdGhpcy5wYXJzZWQub2NjdXBhdGlvbi5tYXRjaChcbiAgICAgICAgL14oPzxhZ2U+XFxkKyksKD88b2NjdXBhdGlvbj4uKykkL1xuICAgICAgKVxuICAgICAgaWYgKG9jY3VwYXRpb25BZ2UpIHtcbiAgICAgICAgdGhpcy5wYXJzZWQuYWdlID0gb2NjdXBhdGlvbkFnZS5ncm91cHMuYWdlXG4gICAgICAgIHRoaXMucGFyc2VkLm9jY3VwYXRpb24gPSBvY2N1cGF0aW9uQWdlLmdyb3Vwcy5vY2N1cGF0aW9uLnRyaW0oKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBHZXQgZGFtYWdlIGJvbnVzLCBpZiBub3QgZm91bmQgb3Igbm9uZSBzZXQgdG8gMFxuICAgIGlmIChcbiAgICAgICF0aGlzLmNoZWNrKCdkYicpIHx8XG4gICAgICB0aGlzLmNoZWNrKCdkYk5vbmUnLCB7XG4gICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgc2F2ZUtleXM6IGZhbHNlLFxuICAgICAgICB0ZXh0OiB0aGlzLnBhcnNlZC5kYlxuICAgICAgfSlcbiAgICApIHtcbiAgICAgIHRoaXMucGFyc2VkLmRiID0gJzAnXG4gICAgfVxuICAgIHRoaXMucGFyc2VkLmRiID0gdGhpcy50cmFuc2xhdGVSb2xsKHRoaXMucGFyc2VkLmRiKVxuICAgIC8vIEdldCBidWlsZFxuICAgIHRoaXMuY2hlY2soJ2J1aWxkJylcbiAgICAvLyBHZXQgYXJtb3IsIGlmIG5vdCBmb3VuZCBvciBub25lIHNldCB0byAwXG4gICAgaWYgKFxuICAgICAgIXRoaXMuY2hlY2soJ2FybW9yJykgfHxcbiAgICAgIHRoaXMuY2hlY2soJ2FybW9yTm9uZScsIHtcbiAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICBzYXZlS2V5czogZmFsc2UsXG4gICAgICAgIHRleHQ6IHRoaXMucGFyc2VkLmFybW9yXG4gICAgICB9KVxuICAgICkge1xuICAgICAgdGhpcy5wYXJzZWQuYXJtb3IgPSAnMCdcbiAgICB9XG4gICAgLy8gR2V0IG1vdmVtZW50XG4gICAgdGhpcy5jaGVjaygnbW92JywgeyB0eXBlOiBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlciB9KVxuICAgIC8vIEdldCBsdWNrXG4gICAgdGhpcy5jaGVjaygnbGNrJywgeyB0eXBlOiBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlciB9KVxuICAgIC8vIEdldCBzYW5pdHkgbG9zc1xuICAgIHRoaXMuY2hlY2soJ3Nhbkxvc3MnKVxuICAgIHRoaXMucGFyc2VkLnNhbkxvc3MgPSB0aGlzLnRyYW5zbGF0ZVJvbGwodGhpcy5wYXJzZWQuc2FuTG9zcylcbiAgICAvLyBHZXQgYXR0YWNrcyBwZXIgcm91bmQsIGlmIG5vdCBmb3VuZCBvciBub25lIHNldCB0byAwXG4gICAgaWYgKFxuICAgICAgdGhpcy5jaGVjaygnYXR0YWNrc1BlclJvdW5kJykgJiZcbiAgICAgIHRoaXMuY2hlY2soJ2F0dGFja3NQZXJSb3VuZE5vbmUnLCB7XG4gICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgc2F2ZUtleXM6IGZhbHNlLFxuICAgICAgICB0ZXh0OiB0aGlzLnBhcnNlZC5hdHRhY2tzUGVyUm91bmRcbiAgICAgIH0pXG4gICAgKSB7XG4gICAgICB0aGlzLnBhcnNlZC5hdHRhY2tzUGVyUm91bmQgPSAnMCdcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBjb21iYXQgc2VjdGlvblxuICAgIHRoaXMudGV4dCA9ICdcXG4nICsgdGhpcy50ZXh0XG4gICAgbGV0IHNlY3Rpb25zID0gdGhpcy5nZXRSZWdFeCgnKCcgKyB0aGlzLmtleXMuc2VjdGlvbkNvbWJhdHMgKyAnKScsICdpJylcbiAgICBpZiAodGhpcy50ZXh0Lm1hdGNoKHNlY3Rpb25zKSA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gY29tYmF0IHNlY3Rpb24gZ3Vlc3Mgd2hlcmUgaXQgc3RhcnRzXG4gICAgICBzZWN0aW9ucyA9IHRoaXMuY2hlY2soJ2d1ZXNzU3RhcnRDb21iYXQnLCB7XG4gICAgICAgIHNhdmVLZXlzOiBmYWxzZSxcbiAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlXG4gICAgICB9KVxuICAgICAgaWYgKHNlY3Rpb25zKSB7XG4gICAgICAgIC8vIEFkZCBhIGhlYWRlciB0byB0aGUgc3RhcnQgb2YgdGhlIGNvbWJhdCBzZWN0aW9uXG4gICAgICAgIHRoaXMudGV4dCA9IFtcbiAgICAgICAgICB0aGlzLnRleHQuc2xpY2UoMCwgc2VjdGlvbnNbJy1pbmRleCddKSxcbiAgICAgICAgICB0aGlzLmtleXMubmV3Q29tYmF0SGVhZGVyLFxuICAgICAgICAgIHRoaXMudGV4dC5zbGljZShzZWN0aW9uc1snLWluZGV4J10pXG4gICAgICAgIF0uam9pbignJylcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3BsaXQgdGhlIHNlY3Rpb25zIENvbWJhdCwgU2tpbGxzLCBMYW5ndWFnZXMsIGFuZCBTcGVsbHNcbiAgICBjb25zdCByZWdFeHBTZWN0aW9ucyA9IHRoaXMuZ2V0UmVnRXgodGhpcy5yZWdFeC5zZWN0aW9ucywgJ2knKVxuICAgIHNlY3Rpb25zID0gdGhpcy50ZXh0LnNwbGl0KHJlZ0V4cFNlY3Rpb25zKVxuICAgIGlmIChzZWN0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGltID0gc2VjdGlvbnMubGVuZ3RoOyBpIDwgaW07IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VjdGlvbnNbaV0ubWF0Y2goXG4gICAgICAgICAgICB0aGlzLmdldFJlZ0V4KCcoJyArIHRoaXMua2V5cy5zZWN0aW9uQ29tYmF0cyArICcpJywgJ2knKVxuICAgICAgICAgICkgIT09IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2Ygc2VjdGlvbnNbaSArIDFdICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBJZiBzZWN0aW9uIGlzIGNvbWJhdFxuICAgICAgICAgIHRoaXMudGV4dCA9ICgnXFxuJyArIHRoaXMudGV4dCArICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2Uoc2VjdGlvbnNbaV0sICdcXG4nKVxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIHRoaXMucHJvY2Vzc0NvbWJhdChzZWN0aW9uc1tpICsgMV0pXG4gICAgICAgICAgaSsrXG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgc2VjdGlvbnNbaV0ubWF0Y2goXG4gICAgICAgICAgICB0aGlzLmdldFJlZ0V4KCcoJyArIHRoaXMua2V5cy5zZWN0aW9uU2tpbGxzICsgJyknLCAnaScpXG4gICAgICAgICAgKSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiBzZWN0aW9uc1tpICsgMV0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIElmIHNlY3Rpb24gaXMgc2tpbGxzXG4gICAgICAgICAgdGhpcy50ZXh0ID0gKCdcXG4nICsgdGhpcy50ZXh0ICsgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZShzZWN0aW9uc1tpXSwgJ1xcbicpXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgdGhpcy5wcm9jZXNzU2tpbGxzKHNlY3Rpb25zW2kgKyAxXSlcbiAgICAgICAgICBpKytcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzZWN0aW9uc1tpXS5tYXRjaChcbiAgICAgICAgICAgIHRoaXMuZ2V0UmVnRXgoJygnICsgdGhpcy5rZXlzLnNlY3Rpb25MYW5nYXVnZXMgKyAnKScsICdpJylcbiAgICAgICAgICApICE9PSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHNlY3Rpb25zW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gSWYgc2VjdGlvbiBpcyBsYW5ndWFnZXNcbiAgICAgICAgICB0aGlzLnRleHQgPSAoJ1xcbicgKyB0aGlzLnRleHQgKyAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHNlY3Rpb25zW2ldLCAnXFxuJylcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICB0aGlzLnByb2Nlc3NTa2lsbHMoc2VjdGlvbnNbaSArIDFdLCAnbGFuZ3VhZ2VzJylcbiAgICAgICAgICBpKytcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzZWN0aW9uc1tpXS5tYXRjaChcbiAgICAgICAgICAgIHRoaXMuZ2V0UmVnRXgoJygnICsgdGhpcy5rZXlzLnNlY3Rpb25TcGVsbHMgKyAnKScsICdpJylcbiAgICAgICAgICApICE9PSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHNlY3Rpb25zW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gSWYgc2VjdGlvbiBpcyBzcGVsbHNcbiAgICAgICAgICB0aGlzLnRleHQgPSAoJ1xcbicgKyB0aGlzLnRleHQgKyAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHNlY3Rpb25zW2ldLCAnXFxuJylcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICB0aGlzLnByb2Nlc3NTcGVsbHMoc2VjdGlvbnNbaSArIDFdKVxuICAgICAgICAgIGkrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFueSByZW1haW5pbmcgdGV4dCBhZGQgdG8gR00gbm90ZXMgc28geW91IGNhbiBlYXNpbHkgc2VlIGlmIHRoZXJlIGFyZSBhbnkgb2J2aW91cyBpc3N1ZSBvciBqdXN0IGdlbmVyYWwgbm90ZXNcbiAgICB0aGlzLnBhcnNlZC5nbW5vdGVzID0gdGhpcy50b0hUTUwodGhpcy50ZXh0KVxuICAgIHJldHVybiB0aGlzLnBhcnNlZFxuICB9XG5cbiAgZGlzYWJsZUF0dHJpYkF1dG8gKGtleSwgYXR0cmliVmFsdWUsIGNoZWNrLCB1cGRhdGVEYXRhKSB7XG4gICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heCgwLCBOdW1iZXIoYXR0cmliVmFsdWUpKVxuICAgIGlmICh2YWx1ZSAhPT0gTnVtYmVyKGNoZWNrKSkge1xuICAgICAgdXBkYXRlRGF0YVtgc3lzdGVtLmF0dHJpYnMuJHtrZXl9LmF1dG9gXSA9IGZhbHNlXG4gICAgICB1cGRhdGVEYXRhW2BzeXN0ZW0uYXR0cmlicy4ke2tleX0udmFsdWVgXSA9IHZhbHVlXG4gICAgICBpZiAoa2V5ID09PSAnYnVpbGQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbYHN5c3RlbS5hdHRyaWJzLiR7a2V5fS5jdXJyZW50YF0gPSB2YWx1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlRGF0YVtgc3lzdGVtLmF0dHJpYnMuJHtrZXl9Lm1heGBdID0gdmFsdWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZW50aXR5IChgbnBjYCBvciBgY3JlYXR1cmVgKSBmcm9tIHRoZSBvYmplY3Qgd2l0aCB0aGUgYWxyZWFkeSBwYXJzZWQgZW50aXR5IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IGNoYXJhY3RlckRhdGEgb2JqZWN0IHdpdGggdGhlIGRhdGEgZXh0cmFjdGVkIGZyb20gdGhlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW50aXR5VHlwZVN0cmluZyBlbnRpdHkgdHlwZSBvYnRhaW5lZCBmcm9tIHRoZSB1c2VyIGlucHV0XG4gICAqIEByZXR1cm5zIHtBY3Rvcn0gdGhlIGNyZWF0ZWQgZm91bmRyeSBgQWN0b3JgXG4gICAqL1xuICBhc3luYyBjcmVhdGVFbnRpdHkgKGNoYXJhY3RlckRhdGEsIGVudGl0eVR5cGUpIHtcbiAgICBjb25zdCBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXIgPVxuICAgICAgYXdhaXQgQ29DN1V0aWxpdGllcy5jcmVhdGVJbXBvcnRDaGFyYWN0ZXJzRm9sZGVySWZOb3RFeGlzdHMoKVxuICAgIGlmIChlbnRpdHlUeXBlICE9PSAnbnBjJykge1xuICAgICAgZW50aXR5VHlwZSA9ICdjcmVhdHVyZSdcbiAgICB9XG4gICAgY29uc3QgYWN0b3JEYXRhID0ge1xuICAgICAgbmFtZTogY2hhcmFjdGVyRGF0YS5uYW1lLFxuICAgICAgdHlwZTogZW50aXR5VHlwZSxcbiAgICAgIGZvbGRlcjogaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyLmlkLFxuICAgICAgZGF0YTogY2hhcmFjdGVyRGF0YS5hY3RvclxuICAgIH1cbiAgICBjb25zdCBucGMgPSBhd2FpdCBBY3Rvci5jcmVhdGUoYWN0b3JEYXRhKVxuICAgIGF3YWl0IG5wYy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIGNoYXJhY3RlckRhdGEuaXRlbXMsIHtcbiAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgIH0pXG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG4gICAgbGV0IHZhbHVlID0gMFxuICAgIGlmICh0eXBlb2YgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLmhwPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUF0dHJpYkF1dG8oXG4gICAgICAgICdocCcsXG4gICAgICAgIGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5ocC52YWx1ZSxcbiAgICAgICAgbnBjLmhwTWF4LFxuICAgICAgICB1cGRhdGVEYXRhXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLm1wPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUF0dHJpYkF1dG8oXG4gICAgICAgICdtcCcsXG4gICAgICAgIGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5tcC52YWx1ZSxcbiAgICAgICAgbnBjLm1wTWF4LFxuICAgICAgICB1cGRhdGVEYXRhXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLm1vdj8udmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmRpc2FibGVBdHRyaWJBdXRvKFxuICAgICAgICAnbW92JyxcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLm1vdi52YWx1ZSxcbiAgICAgICAgbnBjLm1vdixcbiAgICAgICAgdXBkYXRlRGF0YVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5idWlsZD8udmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmRpc2FibGVBdHRyaWJBdXRvKFxuICAgICAgICAnYnVpbGQnLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMuYnVpbGQudmFsdWUsXG4gICAgICAgIG5wYy5idWlsZCxcbiAgICAgICAgdXBkYXRlRGF0YVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5kYj8udmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyhjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMuZGIudmFsdWUpLnJlcGxhY2UoL15cXCtcXHMqLywgJycpXG4gICAgICBpZiAodmFsdWUgIT09IFN0cmluZyhucGMuZGIpKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLmRiLmF1dG8nXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLmRiLnZhbHVlJ10gPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlRGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygndXBkYXRlRGF0YTonLCB1cGRhdGVEYXRhKVxuICAgICAgfVxuICAgICAgYXdhaXQgbnBjLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgIH1cbiAgICBjb25zdCB1cGRhdGVJdGVtRGF0YSA9IFtdXG4gICAgbGV0IGxhc3RXZWFwb25Ta2lsbCA9IG51bGxcbiAgICBmb3IgKGNvbnN0IHBhaXIgb2YgdGhpcy53ZWFwb25Ta2lsbHMpIHtcbiAgICAgIGlmIChwYWlyWzBdICE9PSBmYWxzZSkge1xuICAgICAgICBsYXN0V2VhcG9uU2tpbGwgPSBucGMuaXRlbXMuZmlsdGVyKFxuICAgICAgICAgIGkgPT4gaS5uYW1lID09PSBwYWlyWzBdLm5hbWUgJiZcbiAgICAgICAgICAgIGkudHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgICAgICAgTnVtYmVyKGkuc3lzdGVtLnZhbHVlKSA9PT0gTnVtYmVyKHBhaXJbMF0uc3lzdGVtLnZhbHVlKVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCB3ZWFwb24gPSBucGMuaXRlbXMuZmlsdGVyKFxuICAgICAgICBpID0+IGkubmFtZSA9PT0gcGFpclsxXS5uYW1lICYmXG4gICAgICAgICAgaS50eXBlID09PSAnd2VhcG9uJyAmJlxuICAgICAgICAgIGkuc3lzdGVtLnJhbmdlLm5vcm1hbC5kYW1hZ2UgPT09IHBhaXJbMV0uc3lzdGVtLnJhbmdlLm5vcm1hbC5kYW1hZ2VcbiAgICAgIClcbiAgICAgIGlmIChsYXN0V2VhcG9uU2tpbGxbMF0gJiYgd2VhcG9uWzBdKSB7XG4gICAgICAgIHVwZGF0ZUl0ZW1EYXRhLnB1c2goe1xuICAgICAgICAgIF9pZDogd2VhcG9uWzBdLmlkLFxuICAgICAgICAgICdzeXN0ZW0uc2tpbGwubWFpbi5pZCc6IGxhc3RXZWFwb25Ta2lsbFswXS5pZCxcbiAgICAgICAgICAnc3lzdGVtLnNraWxsLm1haW4ubmFtZSc6IGxhc3RXZWFwb25Ta2lsbFswXS5uYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh1cGRhdGVJdGVtRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCd1cGRhdGVJdGVtRGF0YTonLCB1cGRhdGVJdGVtRGF0YSlcbiAgICAgIH1cbiAgICAgIGF3YWl0IG5wYy51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIHVwZGF0ZUl0ZW1EYXRhKVxuICAgIH1cbiAgICByZXR1cm4gbnBjXG4gIH1cblxuICAvKipcbiAgICogYWN0b3JEYXRhLCBjb252ZXJ0IHBhcnNlQ2hhcmFjdGVyIGRhdGEgaW50byBBY3RvciBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYyBvYmplY3Qgd2l0aCB0aGUgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgY2hhcmFjdGVyIGFzIHJldHVybmVkIGZyb20gYHBhcnNlQ2hhcmFjdGVyYFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmb3JtYXR0ZWQgQWN0b3IgZGF0YVxuICAgKi9cbiAgYWN0b3JEYXRhIChwYykge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBjaGFyYWN0ZXJpc3RpY3M6IHt9LFxuICAgICAgYXR0cmliczoge30sXG4gICAgICBpbmZvczoge30sXG4gICAgICBzcGVjaWFsOiB7fSxcbiAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgIGtlZXBlcjogJydcbiAgICAgIH0sXG4gICAgICBmbGFnczoge1xuICAgICAgICBsb2NrZWQ6IGZhbHNlLFxuICAgICAgICBkaXNwbGF5Rm9ybXVsYTogZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgW1xuICAgICAgJ3N0cicsXG4gICAgICAnY29uJyxcbiAgICAgICdzaXonLFxuICAgICAgJ2RleCcsXG4gICAgICAnYXBwJyxcbiAgICAgICdpbnQnLFxuICAgICAgJ3BvdycsXG4gICAgICAnZWR1J1xuICAgIF0pIHtcbiAgICAgIGlmICh0eXBlb2YgcGNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGF0YS5jaGFyYWN0ZXJpc3RpY3Nba2V5XSA9IHtcbiAgICAgICAgICB2YWx1ZTogTnVtYmVyKHBjW2tleV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgWydzYW4nLCAnbW92JywgJ2J1aWxkJywgJ2FybW9yJywgJ2xjaycsICdocCcsICdtcCddKSB7XG4gICAgICBpZiAodHlwZW9mIHBjW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRhdGEuYXR0cmlic1trZXldID0ge1xuICAgICAgICAgIHZhbHVlOiBOdW1iZXIocGNba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHBjLmRiICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5hdHRyaWJzLmRiID0ge1xuICAgICAgICB2YWx1ZTogcGMuZGJcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgWydhZ2UnLCAnb2NjdXBhdGlvbiddKSB7XG4gICAgICBpZiAodHlwZW9mIHBjW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRhdGEuaW5mb3Nba2V5XSA9IHBjW2tleV1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYy5zYW5Mb3NzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgW3Bhc3NlZCwgZmFpbGVkXSA9IHBjLnNhbkxvc3Muc3BsaXQoJy8nKVxuICAgICAgZGF0YS5zcGVjaWFsLnNhbkxvc3MgPSB7XG4gICAgICAgIGNoZWNrUGFzc2VkOiBwYXNzZWQsXG4gICAgICAgIGNoZWNrRmFpbGxlZDogZmFpbGVkXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGMuYXR0YWNrc1BlclJvdW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5zcGVjaWFsLmF0dGFja3NQZXJSb3VuZCA9IE51bWJlcihwYy5hdHRhY2tzUGVyUm91bmQpXG4gICAgfVxuICAgIGRhdGEuZGVzY3JpcHRpb24ua2VlcGVyID0gcGMuZ21ub3Rlc1xuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdhY3RvckRhdGE6JywgZGF0YSlcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBpdGVtc0RhdGEsIGNvbnZlcnQgcGFyc2VDaGFyYWN0ZXIgZGF0YSBpbnRvIEFjdG9yIGl0ZW0gZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gcGMgb2JqZWN0IHdpdGggdGhlIGRhdGEgZXh0cmFjdGVkIGZyb20gdGhlIGNoYXJhY3RlciBhcyByZXR1cm5lZCBmcm9tIGBwYXJzZUNoYXJhY3RlcmBcbiAgICogQHJldHVybnMge09iamVjdH0gZm9ybWF0dGVkIEFjdG9yIGRhdGFcbiAgICovXG4gIGFzeW5jIGl0ZW1zRGF0YSAocGMpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdXG4gICAgdGhpcy53ZWFwb25Ta2lsbHMgPSBbXVxuICAgIC8vIFdlYXBvbiBza2lsbHNcbiAgICBpZiAodHlwZW9mIHBjLmF0dGFja3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IGF0dGFjayBvZiBwYy5hdHRhY2tzKSB7XG4gICAgICAgIGxldCBza2lsbCA9IGZhbHNlXG4gICAgICAgIGlmIChhdHRhY2suc3lzdGVtPy5za2lsbD8uaWQgIT09IHRydWUpIHtcbiAgICAgICAgICBza2lsbCA9IGF3YWl0IHRoaXMud2VhcG9uU2tpbGwoYXR0YWNrKVxuICAgICAgICAgIGl0ZW1zLnB1c2goc2tpbGwpXG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNrLnN5c3RlbS5za2lsbC5pZCA9IG51bGxcbiAgICAgICAgaXRlbXMucHVzaChhdHRhY2spXG4gICAgICAgIHRoaXMud2VhcG9uU2tpbGxzLnB1c2goW3NraWxsLCBhdHRhY2tdKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBTa2lsbHNcbiAgICBpZiAodHlwZW9mIHBjLnNraWxscyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgcGMuc2tpbGxzKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ3NraWxsJywgc2tpbGwubmFtZSwge1xuICAgICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICAgIH0pXG4gICAgICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgY2xvbmVkID0gZXhpc3RpbmcudG9PYmplY3QoKVxuICAgICAgICAgIGNsb25lZC5zeXN0ZW0uYmFzZSA9IHNraWxsLnZhbHVlXG4gICAgICAgICAgaWYgKHR5cGVvZiBza2lsbC5wdXNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2ggPSBza2lsbC5wdXNoXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW1zLnB1c2goZHVwbGljYXRlKGNsb25lZCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9XG4gICAgICAgICAgaWYgKHR5cGVvZiBza2lsbC5wdXNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoID0gc2tpbGwucHVzaFxuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtcy5wdXNoKENvQ0FjdG9yLmVtcHR5U2tpbGwoc2tpbGwubmFtZSwgc2tpbGwudmFsdWUsIG9wdGlvbnMpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIExhbmd1YWdlc1xuICAgIGlmICh0eXBlb2YgcGMubGFuZ3VhZ2VzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChjb25zdCBza2lsbCBvZiBwYy5sYW5ndWFnZXMpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCBza2lsbC5uYW1lLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBjbG9uZWQgPSBleGlzdGluZy50b09iamVjdCgpXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5iYXNlID0gc2tpbGwudmFsdWVcbiAgICAgICAgICBpdGVtcy5wdXNoKGR1cGxpY2F0ZShjbG9uZWQpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1zLnB1c2goXG4gICAgICAgICAgICBDb0NBY3Rvci5lbXB0eVNraWxsKHNraWxsLm5hbWUsIHNraWxsLnZhbHVlLCB7XG4gICAgICAgICAgICAgIGltZzogQ29DN0l0ZW0uaWNvbkxhbmd1YWdlLFxuICAgICAgICAgICAgICBzcGVjaWFsaXphdGlvbjogJ0xhbmd1YWdlJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3BlbGxzXG4gICAgaWYgKHR5cGVvZiBwYy5zcGVsbHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgcGMuc3BlbGxzKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ3NwZWxsJywgbmFtZSwge1xuICAgICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICAgIH0pXG4gICAgICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgY2xvbmVkID0gZXhpc3RpbmcudG9PYmplY3QoKVxuICAgICAgICAgIGl0ZW1zLnB1c2goZHVwbGljYXRlKGNsb25lZCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbXMucHVzaChDb0NBY3Rvci5lbXB0eVNwZWxsKG5hbWUpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtc1xuICB9XG5cbiAgLyoqIHdlYXBvblNraWxsIHRyaWVzIHRvIGd1ZXNzIHdoYXQga2luZCBvZiB3ZWFwb24gc2tpbGwgdG8gdXNlIGZvciB3ZWFwb24gZnJvbSBpdCdzIG5hbWVcbiAgICogQHBhcmFtIHdlYXBvbjogSlNPTiwgd2VhcG9uIGRhdGFcbiAgICovXG4gIGFzeW5jIHdlYXBvblNraWxsICh3ZWFwb24pIHtcbiAgICBsZXQgc2tpbGwgPSBudWxsXG4gICAgaWYgKHRoaXMuZ2V0UmVnRXgoJ2hhbmRndW4nKS5leGVjKHdlYXBvbi5uYW1lKSkge1xuICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnSGFuZGd1bicsIHtcbiAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICBzb3VyY2U6IHRoaXMuaXRlbUxvY2F0aW9uc1xuICAgICAgfSlcbiAgICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYCR7d2VhcG9uLm5hbWV9IHVzZXMgSGFuZGd1biBza2lsbDogJHtza2lsbH1gKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5nZXRSZWdFeCgncmlmbGUnKS5leGVjKHdlYXBvbi5uYW1lKSkge1xuICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnUmlmbGUvU2hvdGd1bicsIHtcbiAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICBzb3VyY2U6IHRoaXMuaXRlbUxvY2F0aW9uc1xuICAgICAgfSlcbiAgICAgIGlmICghc2tpbGwpIHtcbiAgICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnUmlmbGUnLCB7XG4gICAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICAgIH0pXG4gICAgICAgIGlmICghc2tpbGwpIHtcbiAgICAgICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdTaG90Z3VuJywge1xuICAgICAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGAke3dlYXBvbi5uYW1lfSB1c2VzIFJpZmxlIHNraWxsOiAke3NraWxsfWApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldFJlZ0V4KCdzbWInKS5leGVjKHdlYXBvbi5uYW1lKSkge1xuICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnU3VibWFjaGluZSBHdW4nLCB7XG4gICAgICAgIGNvbWJhdDogdHJ1ZSxcbiAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgIH0pXG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGAke3dlYXBvbi5uYW1lfSB1c2VzIFN1Ym1hY2hpbmUgR3VuIHNraWxsOiAke3NraWxsfWApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldFJlZ0V4KCdtYWNoaW5lR3VuJykuZXhlYyh3ZWFwb24ubmFtZSkpIHtcbiAgICAgIHNraWxsID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ3NraWxsJywgJ01hY2hpbmUgR3VuJywge1xuICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICB9KVxuICAgICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgJHt3ZWFwb24ubmFtZX0gdXNlcyBNYWNoaW5lIEd1biBza2lsbDogJHtza2lsbH1gKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5nZXRSZWdFeCgnbGF1bmNoZWQnKS5leGVjKHdlYXBvbi5uYW1lKSkge1xuICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnTGF1bmNoJywge1xuICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICB9KVxuICAgICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgJHt3ZWFwb24ubmFtZX0gdXNlcyBMYXVuY2ggc2tpbGw6ICR7c2tpbGx9YClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNraWxsICE9PSBudWxsICYmIHR5cGVvZiBza2lsbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNraWxsQ2xvbmUgPSBza2lsbC5jbG9uZSh7XG4gICAgICAgIHN5c3RlbToge1xuICAgICAgICAgIHZhbHVlOiB3ZWFwb24uc3lzdGVtPy5za2lsbD8uaWRcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBza2lsbENsb25lXG4gICAgfVxuICAgIGNvbnN0IGZpcmVhcm1zID0gd2VhcG9uLnN5c3RlbT8ucHJvcGVydGllcz8ucm5nZFxuICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgIHdlYXBvbi5uYW1lLFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICBmaXJlYXJtc1xuICAgICAgICAgID8gJ0NvQzcuRmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSdcbiAgICAgICAgICA6ICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgKVxuICAgIClcbiAgICBjb25zdCBuZXdTa2lsbCA9IHtcbiAgICAgIHR5cGU6ICdza2lsbCcsXG4gICAgICBuYW1lOiBwYXJ0cy5uYW1lLFxuICAgICAgc3lzdGVtOiB7XG4gICAgICAgIHNraWxsTmFtZTogcGFydHMuc2tpbGxOYW1lLFxuICAgICAgICBzcGVjaWFsaXphdGlvbjogcGFydHMuc3BlY2lhbGl6YXRpb24sXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBzcGVjaWFsOiB0cnVlLFxuICAgICAgICAgIGZpZ2h0aW5nOiAhZmlyZWFybXMsXG4gICAgICAgICAgZmlyZWFybTogZmlyZWFybXMsXG4gICAgICAgICAgY29tYmF0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGJhc2U6IHdlYXBvbi5zeXN0ZW0/LnNraWxsPy5pZCxcbiAgICAgICAgdmFsdWU6IHdlYXBvbi5zeXN0ZW0/LnNraWxsPy5pZFxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcbiAgICAgICAgYFdlYXBvbiBza2lsbCBub3QgZm91bmQgZm9yICR7d2VhcG9uLm5hbWV9LCBjcmVhdGluZyBhIG5ldyBvbmVgLFxuICAgICAgICBuZXdTa2lsbFxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gbmV3U2tpbGxcbiAgfVxuXG4gIC8qKlxuICAgKiBuZWVkc0NvbnZlcnNpb24gZG9lcyBhbiBldmFsdWF0aW9uIHRvIHNlZSBpZiB0aGUgZ2l2ZW4gbnBjIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byA3dGggRWRpdGlvblxuICAgKiBSZXR1cm5zIGBmYWxzZWAgd2hlbiBhbnkgb2YgdGhlIENoYXJhY3RlcmlzdGljcyB2YWx1ZSBpdCdzIGFib3ZlIDI5XG4gICAqL1xuICBuZWVkc0NvbnZlcnNpb24gKG5wYykge1xuICAgIGxldCBuZWVkc0NvbnZlcnNpb25SZXN1bHQgPSB0cnVlXG4gICAgZm9yIChjb25zdCBrZXkgb2YgW1xuICAgICAgJ3N0cicsXG4gICAgICAnY29uJyxcbiAgICAgICdzaXonLFxuICAgICAgJ2RleCcsXG4gICAgICAnYXBwJyxcbiAgICAgICdpbnQnLFxuICAgICAgJ3BvdycsXG4gICAgICAnZWR1J1xuICAgIF0pIHtcbiAgICAgIGlmICh0eXBlb2YgbnBjW2tleV0gIT09ICd1bmRlZmluZWQnICYmIG5wY1trZXldID4gMzApIHtcbiAgICAgICAgbmVlZHNDb252ZXJzaW9uUmVzdWx0ID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ25lZWRzQ29udmVyc2lvbjonLCBuZWVkc0NvbnZlcnNpb25SZXN1bHQpXG4gICAgfVxuICAgIHJldHVybiBuZWVkc0NvbnZlcnNpb25SZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGVBY3RvciBtYWluIG1ldGhvZCB0byBjcmVhdGUgYW4gYEFjdG9yYCBmcm9tIGEgZ2l2ZSB1c2VyIGlucHV0LCB0YWtlcyBvbiBhY2NvdW50IHRoZSBsYW5nLCBlbnRpdHkgdHlwZSxcbiAgICogdGhlIGNvbnZlcnQgdG8gNyBFZGl0aW9uIGZsYWcsIGFuZCB0aGUgcmF3IGVudGl0eSBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRzIGlucHV0cyBmcm9tIHRoZSBmb3JtIHRvIGNyZWF0ZSBhbiBBY3RvclxuICAgKiBAcmV0dXJucyB7QWN0b3J9IHRoZSBmb3VuZHJ5IGBBY3RvcmAgZnJvbSB0aGUgZ2l2ZW4gYGlucHV0YCBvcHRpb25zXG4gICAqL1xuICBhc3luYyBjcmVhdGVBY3RvciAoaW5wdXRzKSB7XG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ2NyZWF0ZUFjdG9yOicsIGlucHV0cylcbiAgICB9XG4gICAgY29uc3QgbGFuZyA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmNoZWNrTGFuZ3VhZ2UoaW5wdXRzLmxhbmcpXG4gICAgdGhpcy5rZXlzID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuZ2V0S2V5cyhsYW5nKVxuICAgIHRoaXMucmVnRXggPSBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cC5nZXRSZWd1bGFyRXhwcmVzc2lvbnMobGFuZylcbiAgICB0aGlzLml0ZW1Mb2NhdGlvbnMgPSBpbnB1dHMuc291cmNlXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1JlZ3VsYXIgRXhwcmVzc2lvbnM6JywgbGFuZywgdGhpcy5rZXlzLCB0aGlzLnJlZ0V4KVxuICAgIH1cbiAgICBsZXQgY2hhcmFjdGVyID0gYXdhaXQgdGhpcy5wYXJzZUNoYXJhY3RlcihpbnB1dHMudGV4dClcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygncGFyc2VDaGFyYWN0ZXI6JywgY2hhcmFjdGVyKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAoaW5wdXRzLmNvbnZlcnRGcm9tNkUgPT09ICdjb2MtZ3Vlc3MnICYmXG4gICAgICAgIHRoaXMubmVlZHNDb252ZXJzaW9uKGNoYXJhY3RlcikpIHx8XG4gICAgICBpbnB1dHMuY29udmVydEZyb202RSA9PT0gJ2NvYy1jb252ZXJ0J1xuICAgICkge1xuICAgICAgY2hhcmFjdGVyID0gYXdhaXQgdGhpcy5jb252ZXJ0N0UoY2hhcmFjdGVyKVxuICAgIH1cbiAgICBjb25zdCBjaGFyYWN0ZXJEYXRhID0ge1xuICAgICAgbmFtZTogY2hhcmFjdGVyLm5hbWUsXG4gICAgICBhY3RvcjogdGhpcy5hY3RvckRhdGEoY2hhcmFjdGVyKSxcbiAgICAgIGl0ZW1zOiBhd2FpdCB0aGlzLml0ZW1zRGF0YShjaGFyYWN0ZXIpXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dHMudGVzdE1vZGUgIT09ICd1bmRlZmluZWQnICYmIGlucHV0cy50ZXN0TW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGNoYXJhY3RlckRhdGFcbiAgICB9XG4gICAgY29uc3QgbnBjID0gYXdhaXQgdGhpcy5jcmVhdGVFbnRpdHkoY2hhcmFjdGVyRGF0YSwgaW5wdXRzLmVudGl0eSlcbiAgICByZXR1cm4gbnBjXG4gIH1cblxuICAvKipcbiAgICogY29udmVydDdFIENvbnZlcnRzIHRoZSBnaXZlbiBlbnRpdHkgZnJvbSA2IGVkaXRpb24gdG8gNyBlZGl0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0aGUgZW50aXR5IG9iamVjdCBhcyBvYnRhaW5lZCBmcm9tIGBwYXJzZUNoYXJhY3RlcmBcbiAgICogQHJldHVybiB0aGUgc2FtZSBvYmplY3QgYnV0IHdpdGggdXBkYXRlZCBjaGFyYWN0ZXJpc3RpY3MgZm9yIDcgZWRpdGlvblxuICAgKi9cbiAgYXN5bmMgY29udmVydDdFIChjcmVhdHVyZSkge1xuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdDb252ZXJ0aW5nIG5wYycsIGNyZWF0dXJlKVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbJ3N0cicsICdjb24nLCAnc2l6JywgJ2RleCcsICdhcHAnLCAnaW50JywgJ3BvdyddKSB7XG4gICAgICBpZiAodHlwZW9mIGNyZWF0dXJlW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNyZWF0dXJlW2tleV0gKj0gNVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNyZWF0dXJlLmVkdSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChjcmVhdHVyZS5lZHUgPD0gMTgpIHtcbiAgICAgICAgY3JlYXR1cmUuZWR1ICo9IDVcbiAgICAgIH0gZWxzZSBpZiAoY3JlYXR1cmUuZWR1IDw9IDI2KSB7XG4gICAgICAgIGNyZWF0dXJlLmVkdSA9IGNyZWF0dXJlLmVkdSArIDkwIC0gMThcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0dXJlLmVkdSA+PTI4XG4gICAgICAgIGNyZWF0dXJlLmVkdSA9IDk5XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY3JlYXR1cmUuZGIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoY3JlYXR1cmUuZGIgPT09ICctMWQ0Jykge1xuICAgICAgICBjcmVhdHVyZS5kYiA9IC0xXG4gICAgICB9IGVsc2UgaWYgKGNyZWF0dXJlLmRiID09PSAnLTFkNicpIHtcbiAgICAgICAgY3JlYXR1cmUuZGIgPSAtMlxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnY29udmVydDdFOiAnLCBjcmVhdHVyZSlcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0dXJlXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBGaWxlLCBGaWxlUGlja2VyLCBnYW1lLCB1aSAqL1xuZXhwb3J0IGNsYXNzIENvQzdEaXJlY3RvcnlQaWNrZXIgZXh0ZW5kcyBGaWxlUGlja2VyIHtcbiAgZ2V0IHRpdGxlICgpIHtcbiAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlBpY2tEaXJlY3RvcnknKVxuICB9XG5cbiAgX29uU3VibWl0IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBwYXRoID0gZXZlbnQudGFyZ2V0LnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IGFjdGl2ZVNvdXJjZSA9IHRoaXMuYWN0aXZlU291cmNlXG4gICAgY29uc3QgYnVja2V0ID0gZXZlbnQudGFyZ2V0LmJ1Y2tldCA/IGV2ZW50LnRhcmdldC5idWNrZXQudmFsdWUgOiBudWxsXG4gICAgdGhpcy5maWVsZC52YWx1ZSA9IENvQzdEaXJlY3RvcnlQaWNrZXIuZm9ybWF0KHtcbiAgICAgIGFjdGl2ZVNvdXJjZSxcbiAgICAgIGJ1Y2tldCxcbiAgICAgIHBhdGhcbiAgICB9KVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgc3RhdGljIERlZmF1bHREaXJlY3RvcnkgKHZhbCkge1xuICAgIHJldHVybiB2YWwgPT09IG51bGwgPyAnJyA6IFN0cmluZyh2YWwpXG4gIH1cblxuICBzdGF0aWMgZm9ybWF0ICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5idWNrZXQgIT09IG51bGxcbiAgICAgID8gYFske3ZhbHVlLmFjdGl2ZVNvdXJjZX06JHt2YWx1ZS5idWNrZXR9XSAke3ZhbHVlLnBhdGh9YFxuICAgICAgOiBgWyR7dmFsdWUuYWN0aXZlU291cmNlfV0gJHt2YWx1ZS5wYXRofWBcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZSAocmF3KSB7XG4gICAgY29uc3Qgc3RyID0gcmF3ID8/ICcnXG4gICAgY29uc3QgbWF0Y2hlcyA9IHN0ci5tYXRjaCgvXlxcWyhbXjpdKykoOiguKykpP1xcXVxccyooLispPyQvdSlcblxuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmVTb3VyY2U6IG1hdGNoZXNbMV0sXG4gICAgICAgIGJ1Y2tldDogbWF0Y2hlc1szXSA/PyAnJyxcbiAgICAgICAgY3VycmVudDogbWF0Y2hlc1s0XVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlU291cmNlOiAnZGF0YScsXG4gICAgICBidWNrZXQ6IG51bGwsXG4gICAgICBjdXJyZW50OiBzdHJcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcHJvY2Vzc0h0bWwgKGh0bWwpIHtcbiAgICAkKGh0bWwpXG4gICAgICAuZmluZCgnaW5wdXRbZGF0YS1kdHlwZT1cIkRlZmF1bHREaXJlY3RvcnlcIl0nKVxuICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gJChlbClcbiAgICAgICAgaW5wdXQucHJvcCgncmVhZG9ubHknLCB0cnVlKVxuICAgICAgICBpZiAoIWlucHV0Lm5leHQoKS5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBwaWNrZXIgPSBuZXcgQ29DN0RpcmVjdG9yeVBpY2tlcih7XG4gICAgICAgICAgICBmaWVsZDogaW5wdXRbMF0sXG4gICAgICAgICAgICAuLi5Db0M3RGlyZWN0b3J5UGlja2VyLnBhcnNlKGlucHV0LnZhbCgpKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29uc3QgcGlja2VyQnV0dG9uID0gJChcbiAgICAgICAgICAgICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImZpbGUtcGlja2VyXCIgdGl0bGU9XCInICtcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlBpY2tEaXJlY3RvcnknKSArXG4gICAgICAgICAgICAgICdcIj48aSBjbGFzcz1cImZhcyBmYS1maWxlLWltcG9ydCBmYS1md1wiPjwvaT48L2J1dHRvbj4nXG4gICAgICAgICAgKVxuICAgICAgICAgIENvQzdEaXJlY3RvcnlQaWNrZXIuY3JlYXRlRGVmYXVsdERpcmVjdG9yeSgpXG4gICAgICAgICAgcGlja2VyQnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHBpY2tlci5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIGlucHV0LnBhcmVudCgpLmFwcGVuZChwaWNrZXJCdXR0b24pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICAkKGh0bWwpLmZpbmQoJ29sLmZpbGVzLWxpc3QnKS5yZW1vdmUoKVxuICAgICQoaHRtbCkuZmluZCgnZm9vdGVyIGRpdicpLnJlbW92ZSgpXG4gICAgJChodG1sKS5maW5kKCdmb290ZXIgYnV0dG9uJykudGV4dChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUGlja0RpcmVjdG9yeScpKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZURlZmF1bHREaXJlY3RvcnkgKCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IENvQzdEaXJlY3RvcnlQaWNrZXIucGFyc2UoXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaG9sZVVwbG9hZERpcmVjdG9yeScpXG4gICAgKVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBDb0M3RGlyZWN0b3J5UGlja2VyLmNyZWF0ZURpcmVjdG9yeShcbiAgICAgICAgcGFyc2VkLmFjdGl2ZVNvdXJjZSxcbiAgICAgICAgcGFyc2VkLmN1cnJlbnQsXG4gICAgICAgIHsgYnVja2V0OiBwYXJzZWQuYnVja2V0IH1cbiAgICAgIClcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCFlLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnRUVYSVNUJykpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0b3JJbXBvcnRlclVwbG9hZEVycm9yJylcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBsb2FkVG9EZWZhdWx0RGlyZWN0b3J5IChmaWxlLCBmaWxlbmFtZSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IENvQzdEaXJlY3RvcnlQaWNrZXIucGFyc2UoXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaG9sZVVwbG9hZERpcmVjdG9yeScpXG4gICAgKVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRmlsZVBpY2tlci51cGxvYWQoXG4gICAgICBwYXJzZWQuYWN0aXZlU291cmNlLFxuICAgICAgcGFyc2VkLmN1cnJlbnQsXG4gICAgICBuZXcgRmlsZShbZmlsZV0sIGZpbGVuYW1lLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnXG4gICAgICB9KSxcbiAgICAgIHsgYnVja2V0OiBwYXJzZWQuYnVja2V0IH1cbiAgICApXG4gICAgaWYgKCFyZXNwb25zZS5wYXRoKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GaWxlVXBsb2FkRXJyb3InKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkLmN1cnJlbnQgKyAnLycgKyBmaWxlbmFtZVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQWN0b3IsIENPTkZJRywgZHVwbGljYXRlLCBnYW1lLCB1aSwgZmV0Y2ggKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0RpcmVjdG9yeVBpY2tlciB9IGZyb20gJy4uL3NjcmlwdHMvY29jNy1kaXJlY3RvcnktcGlja2VyLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBDb0M3QWN0b3JJbXBvcnRlciBoZWxwZXIgY2xhc3MgdG8gaW1wb3J0IGFuIEFjdG9yIGZyb20gdGhlIHJhdyB0ZXh0IGRlc2NyaXB0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyIHtcbiAgLyoqXG4gICAqIENvbXBvc2UgdGhlIEJhY2tzdG9yeSBmcm9tIHRoZSBkaWZmZXJlbnQgYmxvY2tzLlxuICAgKiBAcGFyYW0ge30gYmFja3N0b3J5SlNPTiBEaG9sZUhvdXNlIGJhY2tzdG9yeSBKU09OXG4gICAqIEByZXR1cm5zIEhUTUwgd2l0aCB0aGUgZm9ybWF0dGVkIGJhY2tzdG9yeVxuICAgKi9cbiAgc3RhdGljIGdldEJhY2tzdG9yeSAoYmFja3N0b3J5SlNPTikge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgICAgWydkZXNjcmlwdGlvbicsICdEZXNjcmlwdGlvbiddLFxuICAgICAgWyd0cmFpdHMnLCAnVHJhaXRzJ10sXG4gICAgICBbJ2lkZW9sb2d5JywgJ0lkZW9sb2d5J10sXG4gICAgICBbJ2luanVydWVzJywgJ0luanVyaWVzJywgJ2luanVyaWVzJ10sXG4gICAgICBbJ3Blb3BsZScsICdQZW9wbGUnXSxcbiAgICAgIFsncGhvYmlhcycsICdQaG9iaWFzJ10sXG4gICAgICBbJ2xvY2F0aW9ucycsICdMb2NhdGlvbnMnXSxcbiAgICAgIFsndG9tZXMnLCAnVG9tZXMnXSxcbiAgICAgIFsncG9zc2Vzc2lvbnMnLCAnUG9zc2Vzc2lvbnMnXSxcbiAgICAgIFsnZW5jb3VudGVycycsICdFbmNvdW50ZXJzJ11cbiAgICBdXG4gICAgY29uc3QgYmFja3N0b3J5ID0ge1xuICAgICAgYmxvY2s6IFtdLFxuICAgICAgc2VjdGlvbnM6IFtdXG4gICAgfVxuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgICAgaWYgKGJhY2tzdG9yeUpTT05bc2VjdGlvblswXV0gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWN0aW9uWzJdID09PSAndW5kZWZpbmVkJyB8fCBzZWN0aW9uWzJdID09PSAnJykge1xuICAgICAgICAgIHNlY3Rpb25bMl0gPSBzZWN0aW9uWzBdXG4gICAgICAgIH1cbiAgICAgICAgYmFja3N0b3J5LmJsb2NrLnB1c2goXG4gICAgICAgICAgYDxoMz4ke3NlY3Rpb25bMV19PC9oMz5cXG48ZGl2IGNsYXNzPVwiJHtzZWN0aW9uWzJdfVwiPlxcbiR7XG4gICAgICAgICAgICBiYWNrc3RvcnlKU09OW3NlY3Rpb25bMF1dXG4gICAgICAgICAgfVxcbjwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgICBiYWNrc3Rvcnkuc2VjdGlvbnMucHVzaCh7XG4gICAgICAgICAgdGl0bGU6IHNlY3Rpb25bMV0sXG4gICAgICAgICAgdmFsdWU6IGJhY2tzdG9yeUpTT05bc2VjdGlvblswXV1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgYmFja3N0b3J5LmJsb2NrID1cbiAgICAgICc8aDI+QmFja3N0b3J5PC9oMj5cXG4nICsgYmFja3N0b3J5LmJsb2NrLmpvaW4oJ1xcbicsIGJhY2tzdG9yeS5ibG9jaylcbiAgICByZXR1cm4gYmFja3N0b3J5XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtKU09OfSBkaG9sZUhvdXNlRGF0YSBEaG9sZUhvdXNlSlNPTlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNvbnZlcnREaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YSAoZGhvbGVIb3VzZURhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5sb2coJ1NvdXJjZTonLCBkaG9sZUhvdXNlRGF0YSlcbiAgICB9XG4gICAgZGhvbGVIb3VzZURhdGEgPSBkaG9sZUhvdXNlRGF0YS5JbnZlc3RpZ2F0b3JcbiAgICBjb25zdCBiYWNrc3RvcmllcyA9IENvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlci5nZXRCYWNrc3RvcnkoXG4gICAgICBkaG9sZUhvdXNlRGF0YS5CYWNrc3RvcnlcbiAgICApXG4gICAgY29uc3QgY0RhdGEgPSB7XG4gICAgICBuYW1lOiBkaG9sZUhvdXNlRGF0YS5QZXJzb25hbERldGFpbHMuTmFtZSxcbiAgICAgIGFjdG9yOiB7XG4gICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgIHN0cjogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlNUUiwgMTApIH0sXG4gICAgICAgICAgY29uOiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuQ09OLCAxMCkgfSxcbiAgICAgICAgICBzaXo6IHsgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5TSVosIDEwKSB9LFxuICAgICAgICAgIGRleDogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLkRFWCwgMTApIH0sXG4gICAgICAgICAgYXBwOiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuQVBQLCAxMCkgfSxcbiAgICAgICAgICBpbnQ6IHsgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5JTlQsIDEwKSB9LFxuICAgICAgICAgIHBvdzogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlBPVywgMTApIH0sXG4gICAgICAgICAgZWR1OiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuRURVLCAxMCkgfVxuICAgICAgICB9LFxuICAgICAgICBhdHRyaWJzOiB7XG4gICAgICAgICAgc2FuOiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlNhbml0eSwgMTApLFxuICAgICAgICAgICAgbWF4OiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuU2FuaXR5TWF4LCAxMCksXG4gICAgICAgICAgICBkYWlseUxpbWl0OiBNYXRoLmZsb29yKGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5TYW5pdHkgLyA1KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaHA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuSGl0UHRzLCAxMCksXG4gICAgICAgICAgICBtYXg6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5IaXRQdHNNYXgsIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbXA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuTWFnaWNQdHMsIDEwKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLk1hZ2ljUHRzTWF4LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxjazoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5MdWNrLCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vdjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5Nb3ZlLCAxMCksXG4gICAgICAgICAgICBtYXg6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5Nb3ZlLCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRiOiB7IHZhbHVlOiBkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuRGFtYWdlQm9udXMgfSxcbiAgICAgICAgICBidWlsZDogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLkJ1aWxkLCAxMCkgfVxuICAgICAgICB9LFxuICAgICAgICBpbmZvczoge1xuICAgICAgICAgIG9jY3VwYXRpb246IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5PY2N1cGF0aW9uLFxuICAgICAgICAgIGFnZTogZGhvbGVIb3VzZURhdGEuUGVyc29uYWxEZXRhaWxzLkFnZSxcbiAgICAgICAgICBzZXg6IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5HZW5kZXIsXG4gICAgICAgICAgcmVzaWRlbmNlOiBkaG9sZUhvdXNlRGF0YS5QZXJzb25hbERldGFpbHMuUmVzaWRlbmNlLFxuICAgICAgICAgIGJpcnRocGxhY2U6IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5CaXJ0aHBsYWNlXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tzdG9yeTogYmFja3N0b3JpZXMuYmxvY2ssXG4gICAgICAgIGJpb2dyYXBoeTogYmFja3N0b3JpZXMuc2VjdGlvbnMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAga2VlcGVyOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXJTb3VyY2UnKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2tpbGxzOiBhd2FpdCBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuZXh0cmFjdFNraWxscyhcbiAgICAgICAgZGhvbGVIb3VzZURhdGEuU2tpbGxzLlNraWxsID8/IFtdLFxuICAgICAgICBvcHRpb25zXG4gICAgICApLFxuICAgICAgcG9zc2VzaW9uczogYXdhaXQgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLmV4dHJhY3RQb3NzZXNzaW9ucyhcbiAgICAgICAgZGhvbGVIb3VzZURhdGEuUG9zc2Vzc2lvbnM/Lml0ZW0gPz8gW10sXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGNEYXRhXG4gIH1cblxuICBzdGF0aWMgbWFrZVNraWxsTmFtZSAobmFtZSwgc3BlY2lhbGl6YXRpb24pIHtcbiAgICBpZiAoc3BlY2lhbGl6YXRpb24gPT09ICdOb25lJykge1xuICAgICAgc3BlY2lhbGl6YXRpb24gPSAnQW55J1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0xhbmd1YWdlIChPdGhlciknIHx8IG5hbWUgPT09ICdMYW5ndWFnZSAoT3duKScpIHtcbiAgICAgIG5hbWUgPSAnTGFuZ3VhZ2UnXG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnT3BlcmF0ZSBIZWF2eSBNYWNoaW5lJykge1xuICAgICAgbmFtZSA9ICdPcGVyYXRlIEhlYXZ5IE1hY2hpbmVyeSdcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdUaHJvdycgJiYgc3BlY2lhbGl6YXRpb24gPT09ICcnKSB7XG4gICAgICBuYW1lID0gJ0ZpZ2h0aW5nJ1xuICAgICAgc3BlY2lhbGl6YXRpb24gPSAnVGhyb3cnXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBza2lsbE5hbWU6IHNwZWNpYWxpemF0aW9uID09PSAnJyA/IG5hbWUgOiBzcGVjaWFsaXphdGlvbixcbiAgICAgIHNwZWNpYWxpemF0aW9uOiBzcGVjaWFsaXphdGlvbiA9PT0gJycgPyAnJyA6IG5hbWUsXG4gICAgICBuYW1lOiBuYW1lICsgKHNwZWNpYWxpemF0aW9uID09PSAnJyA/ICcnIDogJyAoJyArIHNwZWNpYWxpemF0aW9uICsgJyknKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBleHRyYWN0U2tpbGxzIChkaG9sZUhvdXNlc2tpbGxzLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2tpbGxzID0gW11cbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGRob2xlSG91c2Vza2lsbHMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgc2tpbGwuc3Vic2tpbGwgPT09ICdOb25lJyAmJlxuICAgICAgICBza2lsbC52YWx1ZSA9PT0gJzEnICYmXG4gICAgICAgIHNraWxsLmhhbGYgPT09ICcwJyAmJlxuICAgICAgICBza2lsbC5maWZ0aCA9PT0gJzAnXG4gICAgICApIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLm1ha2VTa2lsbE5hbWUoXG4gICAgICAgIHNraWxsLm5hbWUsXG4gICAgICAgIHNraWxsLnN1YnNraWxsID8/ICcnXG4gICAgICApXG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsIHBhcnRzLm5hbWUsIHtcbiAgICAgICAgc291cmNlOiBvcHRpb25zLnNvdXJjZSxcbiAgICAgICAgZmFsbGJhY2tBbnk6IHRydWVcbiAgICAgIH0pXG4gICAgICBsZXQgY2xvbmVkID0gbnVsbFxuICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2xvbmVkID0gZHVwbGljYXRlKGV4aXN0aW5nLnRvT2JqZWN0KCkpXG4gICAgICAgIGNsb25lZC5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNraWxsTmFtZSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gcGFydHMuc3BlY2lhbGl6YXRpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb25lZCA9IENvQ0FjdG9yLmVtcHR5U2tpbGwoXG4gICAgICAgICAgcGFydHMuc2tpbGxOYW1lLFxuICAgICAgICAgIHBhcnNlSW50KHNraWxsLnZhbHVlID8/IDAsIDEwKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzcGVjaWFsaXphdGlvbjpcbiAgICAgICAgICAgICAgcGFydHMuc3BlY2lhbGl6YXRpb24gPT09ICcnID8gZmFsc2UgOiBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPSBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPz8ge31cbiAgICAgICAgaWYgKHBhcnRzLnNwZWNpYWxpemF0aW9uID09PSAnRmlnaHRpbmcnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nID0gdHJ1ZVxuICAgICAgICAgIGNsb25lZC5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQgPSB0cnVlXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2ggPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKHBhcnRzLnNwZWNpYWxpemF0aW9uID09PSAnRmlyZWFybXMnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gPSB0cnVlXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9IHRydWVcbiAgICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMucHVzaCA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAocGFydHMuc2tpbGxOYW1lID09PSAnRG9kZ2UnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2ggPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2xvbmVkLnN5c3RlbS5za2lsbE5hbWUgPT09ICdBbnknKSB7XG4gICAgICAgIGNsb25lZC5uYW1lID0gY2xvbmVkLm5hbWUucmVwbGFjZSgnIChBbnkpJywgJyAoTm9uZSknKVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNraWxsTmFtZSA9ICdOb25lJ1xuICAgICAgfVxuICAgICAgY2xvbmVkLnN5c3RlbS5iYXNlID0gcGFyc2VJbnQoc2tpbGwudmFsdWUgPz8gMCwgMTApXG4gICAgICBjbG9uZWQuc3lzdGVtLnZhbHVlID0gcGFyc2VJbnQoc2tpbGwudmFsdWUgPz8gMCwgMTApXG4gICAgICBjbG9uZWQuc3lzdGVtLmZsYWdzID0gY2xvbmVkLnN5c3RlbS5mbGFncyA/PyB7fVxuICAgICAgY2xvbmVkLnN5c3RlbS5mbGFncy5vY2N1cGF0aW9uID1cbiAgICAgICAgc2tpbGwub2NjdXBhdGlvbiA9PT0gdHJ1ZSB8fCBza2lsbC5vY2N1cGF0aW9uID09PSAndHJ1ZSdcbiAgICAgIHNraWxscy5wdXNoKGNsb25lZClcbiAgICB9XG4gICAgcmV0dXJuIHNraWxsc1xuICB9XG5cbiAgc3RhdGljIGZpbmRXZWFwb25Ta2lsbElkIChza2lsbE5hbWUsIGNoYXJhY3Rlcikge1xuICAgIGNvbnN0IHNraWxscyA9IGNoYXJhY3Rlci5nZXRFbWJlZGRlZENvbGxlY3Rpb24oJ0l0ZW0nKVxuICAgIGNvbnN0IGNoZWNrTmFtZSA9IHNraWxsTmFtZS5yZXBsYWNlKC9eXFwoKC4rKVxcKSQvLCAnJDEnKVxuICAgIGNvbnN0IGNoYXJhY3RlclNraWxsID0gc2tpbGxzLmZpbmQoaSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpLnN5c3RlbT8uc2tpbGxOYW1lID09PSBjaGVja05hbWUgfHxcbiAgICAgICAgaS5zeXN0ZW0/LnNraWxsTmFtZT8uaW5kZXhPZihjaGVja05hbWUpID4gLTFcbiAgICAgIClcbiAgICB9KVxuICAgIHJldHVybiBjaGFyYWN0ZXJTa2lsbFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGV4dHJhY3RQb3NzZXNzaW9ucyAoZGhvbGVob3VzZVBvc3Nlc3Npb25zLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXVxuICAgIGlmICghQXJyYXkuaXNBcnJheShkaG9sZWhvdXNlUG9zc2Vzc2lvbnMpICYmIGRob2xlaG91c2VQb3NzZXNzaW9ucyAhPSBudWxsKSB7XG4gICAgICBkaG9sZWhvdXNlUG9zc2Vzc2lvbnMgPSBbZGhvbGVob3VzZVBvc3Nlc3Npb25zXVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGhvbGVob3VzZVBvc3Nlc3Npb25zKSB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdpdGVtJywgaXRlbS5kZXNjcmlwdGlvbiwge1xuICAgICAgICBzb3VyY2U6IG9wdGlvbnMuc291cmNlXG4gICAgICB9KVxuICAgICAgbGV0IGNsb25lZCA9IG51bGxcbiAgICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNsb25lZCA9IGR1cGxpY2F0ZShleGlzdGluZy50b09iamVjdCgpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xvbmVkID0ge1xuICAgICAgICAgIG5hbWU6IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgdHlwZTogJ2l0ZW0nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGl0ZW1zLnB1c2goY2xvbmVkKVxuICAgIH1cbiAgICByZXR1cm4gaXRlbXNcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBleHRyYWN0V2VhcG9ucyAoZGhvbGVob3VzZVdlYXBvbnMsIGNoYXJhY3Rlciwgb3B0aW9ucykge1xuICAgIGNvbnN0IHdlYXBvbnMgPSBbXVxuICAgIGlmICghQXJyYXkuaXNBcnJheShkaG9sZWhvdXNlV2VhcG9ucykpIHtcbiAgICAgIGRob2xlaG91c2VXZWFwb25zID0gW2Rob2xlaG91c2VXZWFwb25zXVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHdlYXBvbiBvZiBkaG9sZWhvdXNlV2VhcG9ucykge1xuICAgICAgY29uc3Qgc2tpbGwgPSBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuZmluZFdlYXBvblNraWxsSWQoXG4gICAgICAgIHdlYXBvbi5za2lsbG5hbWUsXG4gICAgICAgIGNoYXJhY3RlclxuICAgICAgKVxuICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uLmRhbWFnZS5yZXBsYWNlKC9cXCtEQi9pLCAnJylcbiAgICAgIGNvbnN0IGFkZGIgPSBkYW1hZ2UgIT09IHdlYXBvbi5kYW1hZ2VcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ3dlYXBvbicsIHdlYXBvbi5uYW1lLCB7XG4gICAgICAgIHNvdXJjZTogb3B0aW9ucy5zb3VyY2VcbiAgICAgIH0pXG4gICAgICBsZXQgY2xvbmVkID0gbnVsbFxuICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2xvbmVkID0gZHVwbGljYXRlKGV4aXN0aW5nLnRvT2JqZWN0KCkpXG4gICAgICAgIGNsb25lZC5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lID0gc2tpbGw/Lm5hbWUgPz8gJydcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5za2lsbC5tYWluLmlkID0gc2tpbGw/LmlkID8/ICcnXG4gICAgICAgIGNsb25lZC5zeXN0ZW0ucmFuZ2UgPSBjbG9uZWQuc3lzdGVtLnJhbmdlID8/IHt9XG4gICAgICAgIGNsb25lZC5zeXN0ZW0ucmFuZ2Uubm9ybWFsID0gY2xvbmVkLnN5c3RlbS5yYW5nZS5ub3JtYWwgPz8ge31cbiAgICAgICAgY2xvbmVkLnN5c3RlbS5yYW5nZS5ub3JtYWwuZGFtYWdlID0gZGFtYWdlXG4gICAgICAgIGNsb25lZC5zeXN0ZW0uYW1tbyA9IHdlYXBvbi5hbW1vXG4gICAgICAgIGNsb25lZC5zeXN0ZW0ubWFsZnVuY3Rpb24gPSB3ZWFwb24ubWFsZlxuICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPSBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPz8ge31cbiAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLm1lbGVlID1cbiAgICAgICAgICBza2lsbD8uc3lzdGVtLnByb3BlcnRpZXM/LmZpZ2h0aW5nID8/IGZhbHNlXG4gICAgICAgIGNsb25lZC5zeXN0ZW0ucHJvcGVydGllcy5ybmdkID1cbiAgICAgICAgICBza2lsbD8uc3lzdGVtLnByb3BlcnRpZXM/LmZpcmVhcm0gPz8gZmFsc2VcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmFkZGIgPSBhZGRiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9uZWQgPSB7XG4gICAgICAgICAgbmFtZTogd2VhcG9uLm5hbWUsXG4gICAgICAgICAgdHlwZTogJ3dlYXBvbicsXG4gICAgICAgICAgc3lzdGVtOiB7XG4gICAgICAgICAgICBza2lsbDoge1xuICAgICAgICAgICAgICBtYWluOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogc2tpbGw/Lm5hbWUgPz8gJycsXG4gICAgICAgICAgICAgICAgaWQ6IHNraWxsPy5pZCA/PyAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICAgZGFtYWdlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbW1vOiB3ZWFwb24uYW1tbyxcbiAgICAgICAgICAgIG1hbGZ1bmN0aW9uOiB3ZWFwb24ubWFsZixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgbWVsZWU6IHNraWxsPy5zeXN0ZW0ucHJvcGVydGllcz8uZmlnaHRpbmcgPz8gZmFsc2UsXG4gICAgICAgICAgICAgIHJuZ2Q6IHNraWxsPy5zeXN0ZW0ucHJvcGVydGllcz8uZmlyZWFybSA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgYWRkYlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2VhcG9ucy5wdXNoKGNsb25lZClcbiAgICB9XG4gICAgcmV0dXJuIHdlYXBvbnNcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzYXZlUG9ydHJhaXQgKGJhc2U2NFBvcnRyYWl0LCBmaWxlTmFtZSkge1xuICAgIGNvbnN0IGJhc2U2NFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBiYXNlNjRQb3J0cmFpdFxuICAgIClcbiAgICBjb25zdCBpbWFnZUJsb2IgPSBhd2FpdCBiYXNlNjRSZXNwb25zZS5ibG9iKClcbiAgICBjb25zdCBmaWxlUGF0aCA9IENvQzdEaXJlY3RvcnlQaWNrZXIudXBsb2FkVG9EZWZhdWx0RGlyZWN0b3J5KFxuICAgICAgaW1hZ2VCbG9iLFxuICAgICAgZmlsZU5hbWVcbiAgICApXG4gICAgcmV0dXJuIGZpbGVQYXRoXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlTlBDRnJvbURob2xlSG91c2UgKGRob2xlSG91c2VDaGFyYWN0ZXJEYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKCFnYW1lLnVzZXI/LmNhbignRklMRVNfVVBMT0FEJykpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BY3RvckltcG9ydGVyVXBsb2FkRXJyb3InKVxuICAgICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IGNoYXJhY3RlckRhdGEgPVxuICAgICAgYXdhaXQgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLmNvbnZlcnREaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YShcbiAgICAgICAgZGhvbGVIb3VzZUNoYXJhY3RlckRhdGEsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5sb2coJ0NoYXJhY3RlciBEYXRhOicsIGNoYXJhY3RlckRhdGEpXG4gICAgfVxuICAgIGNvbnN0IGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9XG4gICAgICBhd2FpdCBDb0M3VXRpbGl0aWVzLmNyZWF0ZUltcG9ydENoYXJhY3RlcnNGb2xkZXJJZk5vdEV4aXN0cygpXG4gICAgaWYgKCFDb0M3RGlyZWN0b3J5UGlja2VyLmNyZWF0ZURlZmF1bHREaXJlY3RvcnkoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IGFjdG9yRGF0YSA9IHtcbiAgICAgIG5hbWU6IGNoYXJhY3RlckRhdGEubmFtZSxcbiAgICAgIHR5cGU6ICdjaGFyYWN0ZXInLFxuICAgICAgZm9sZGVyOiBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXIuaWQsXG4gICAgICBkYXRhOiBjaGFyYWN0ZXJEYXRhLmFjdG9yXG4gICAgfVxuICAgIGNvbnN0IG5wYyA9IGF3YWl0IEFjdG9yLmNyZWF0ZShhY3RvckRhdGEpXG4gICAgLy8gSWYgcG9zc2libGUgdXBsb2FkIHRoZSBpbWFnZSBwb3J0cmFpdFxuICAgIGlmIChcbiAgICAgIGRob2xlSG91c2VDaGFyYWN0ZXJEYXRhLkludmVzdGlnYXRvci5QZXJzb25hbERldGFpbHMuUG9ydHJhaXQ/Lmxlbmd0aCA+IDEwXG4gICAgKSB7XG4gICAgICBjb25zdCBmaWxlTmFtZSA9ICdhdmF0YXItJyArIG5wYy5pZCArICcucG5nJ1xuICAgICAgY29uc3QgcG9ydHJhaXQgPSBhd2FpdCBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuc2F2ZVBvcnRyYWl0KFxuICAgICAgICBkaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YS5JbnZlc3RpZ2F0b3IuUGVyc29uYWxEZXRhaWxzLlBvcnRyYWl0LFxuICAgICAgICBmaWxlTmFtZVxuICAgICAgKVxuICAgICAgaWYgKHBvcnRyYWl0ICE9PSBmYWxzZSkge1xuICAgICAgICBucGMudXBkYXRlKHtcbiAgICAgICAgICBpbWc6IHBvcnRyYWl0XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmxvZygnSXRlbXM6ICcsIGNoYXJhY3RlckRhdGEuaXRlbXMpXG4gICAgfVxuICAgIGF3YWl0IG5wYy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIGNoYXJhY3RlckRhdGEuc2tpbGxzLCB7XG4gICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICB9KVxuICAgIGF3YWl0IG5wYy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIGNoYXJhY3RlckRhdGEucG9zc2VzaW9ucywge1xuICAgICAgcmVuZGVyU2hlZXQ6IGZhbHNlXG4gICAgfSlcbiAgICBjb25zdCB3ZWFwb25zID0gYXdhaXQgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLmV4dHJhY3RXZWFwb25zKFxuICAgICAgZGhvbGVIb3VzZUNoYXJhY3RlckRhdGEuSW52ZXN0aWdhdG9yLldlYXBvbnM/LndlYXBvbiA/PyBbXSxcbiAgICAgIG5wYyxcbiAgICAgIG9wdGlvbnNcbiAgICApXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXZWFwb25zOiAnLCB3ZWFwb25zKVxuICAgIH1cbiAgICBhd2FpdCBucGMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCB3ZWFwb25zLCB7XG4gICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICB9KVxuXG4gICAgcmV0dXJuIG5wY1xuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ09ORklHLCBGb3JtQXBwbGljYXRpb24sIGdhbWUsIEhvb2tzLCBtZXJnZU9iamVjdCwgdWksIEZpbGVSZWFkZXIgKi9cblxuaW1wb3J0IHsgQ29DN0FjdG9ySW1wb3J0ZXIgfSBmcm9tICcuL2FjdG9yLWltcG9ydGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyIH0gZnJvbSAnLi9kaG9sZWhvdXNlX2ltcG9ydGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAgfSBmcm9tICcuL2FjdG9yLWltcG9ydGVyLXJlZ2V4cC5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZyBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbiB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2FjdG9yLWltcG9ydGVyJ10sXG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFjdG9ySW1wb3J0ZXInKSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2FjdG9yLWltcG9ydGVyLmh0bWwnLFxuICAgICAgY2xvc2VPblN1Ym1pdDogZmFsc2UsXG4gICAgICB3aWR0aDogNjAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICB9KVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBkYXRhLmltcG9ydFR5cGUgPSBkYXRhLm9iamVjdC5pbXBvcnRUeXBlXG4gICAgZGF0YS5jb252ZXJ0NkUgPSBkYXRhLm9iamVjdC5jb252ZXJ0NkVcbiAgICBkYXRhLnNvdXJjZSA9IGRhdGEub2JqZWN0LnNvdXJjZVxuICAgIGRhdGEuY2hhcmFjdGVyRGF0YSA9IGRhdGEub2JqZWN0LmNoYXJhY3RlckRhdGFcbiAgICBkYXRhLmNhblVwbG9hZCA9IGdhbWUudXNlcj8uY2FuKCdGSUxFU19VUExPQUQnKVxuICAgIGlmIChbJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKGRhdGEuaW1wb3J0VHlwZSkpIHtcbiAgICAgIGRhdGEubGFuZ3VhZ2VzID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuZ2V0VHJhbnNsYXRpb25zKClcbiAgICAgIGRhdGEubGFuZ3VhZ2UgPSBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cC5jaGVja0xhbmd1YWdlKFxuICAgICAgICBkYXRhLm9iamVjdC5sYW5ndWFnZVxuICAgICAgKVxuICAgICAgZGF0YS5wbGFjZWhvbGRlciA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmdldEV4YW1wbGVUZXh0KGRhdGEubGFuZ3VhZ2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWwuZmluZCgnI2Rob2xlaG91c2UtY2hhcmFjdGVyLXByZXZpZXcnKS5oaWRlKClcbiAgICBodG1sXG4gICAgICAuZmluZCgnI2NvYy1lbnRpdHktdHlwZSwjY29jLWVudGl0eS1sYW5nJylcbiAgICAgIC5jaGFuZ2UodGhpcy5fb25DaGFuZ2VTdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnI2Rob2xlaG91c2UtanNvbi1maWxlLXBpY2tlcicpXG4gICAgICAuY2hhbmdlKHRoaXMuX29uSlNPTkZpbGVTZWxlY3RlZC5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJyNjb2MtcGFzdGVkLWNoYXJhY3Rlci1kYXRhJylcbiAgICAgIC5vbigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJzVG9vRXh0ZW5kZWQgPSAkKHRoaXMpXG4gICAgICAgICAgLnZhbCgpXG4gICAgICAgICAgLm1hdGNoKC9bXFx1ZGJjMC1cXHVkYmZlXVtcXHVkYzAwLVxcdWRmZmZdLylcbiAgICAgICAgY29uc3QgcHJvbXB0ID0gJCgnI2NvYy1wcm9tcHQnKVxuICAgICAgICBpZiAocHJvbXB0LmRhdGEoJ2V4dGVuZGVkJykgJiYgY2hhcmFjdGVyc1Rvb0V4dGVuZGVkKSB7XG4gICAgICAgICAgcHJvbXB0XG4gICAgICAgICAgICAuaHRtbChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVGV4dEZpZWxkSW52YWxpZENoYXJhY3RlcnMnKSlcbiAgICAgICAgICAgIC5hZGRDbGFzcygnZXJyb3InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21wdC5odG1sKHByb21wdC5kYXRhKCd0ZXh0JykpLnJlbW92ZUNsYXNzKCdlcnJvcicpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudHJpZ2dlcigna2V5dXAnKVxuXG4gICAgaHRtbC5maW5kKCcuc3VibWl0LWJ1dHRvbicpLmNsaWNrKHRoaXMuX29uQ2xpY2tTdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ2Zvcm0nKS5zdWJtaXQoZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIGdldElucHV0cyBleHRyYWN0cyB0aGUgZGF0YSBmcm9tIHRoZSBpbnB1dCBmaWVsZHMgYW5kXG4gICAqIGFkZHMgYSBgLmAgYXQgdGhlIGVuZCBpZiBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlLlxuICAgKi9cbiAgc3RhdGljIGdldElucHV0cyAoZm9ybSkge1xuICAgIGNvbnN0IGlucHV0cyA9IHt9XG4gICAgaW5wdXRzLmVudGl0eSA9IGZvcm0uZmluZCgnI2NvYy1lbnRpdHktdHlwZScpLnZhbCgpLnRyaW0oKVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdlbnRpdHkgdHlwZTonLCBpbnB1dHMuZW50aXR5KVxuICAgIH1cbiAgICBpZiAoZm9ybS5maW5kKCcjY29jLWNvbnZlcnQtNkUnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbnB1dHMuY29udmVydEZyb202RSA9IGZvcm0uZmluZCgnI2NvYy1jb252ZXJ0LTZFJykudmFsKCkudHJpbSgpXG4gICAgfVxuICAgIGlmIChmb3JtLmZpbmQoJyNjb2MtZW50aXR5LWxhbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbnB1dHMubGFuZyA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmNoZWNrTGFuZ3VhZ2UoXG4gICAgICAgIGZvcm0uZmluZCgnI2NvYy1lbnRpdHktbGFuZycpLnZhbCgpLnRyaW0oKVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoZm9ybS5maW5kKCcjc291cmNlJykubGVuZ3RoID4gMCkge1xuICAgICAgaW5wdXRzLnNvdXJjZSA9IGZvcm0uZmluZCgnI3NvdXJjZScpLnZhbCgpLnRyaW0oKVxuICAgIH1cbiAgICBpZiAoZm9ybS5maW5kKCcjY29jLXBhc3RlZC1jaGFyYWN0ZXItZGF0YScpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlucHV0cy50ZXh0ID0gZm9ybS5maW5kKCcjY29jLXBhc3RlZC1jaGFyYWN0ZXItZGF0YScpLnZhbCgpLnRyaW0oKVxuICAgIH1cblxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdyZWNlaXZlZCB0ZXh0JywgJyMjJyArIGlucHV0cy50ZXh0ICsgJyMjJylcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0c1xuICB9XG5cbiAgX29uSlNPTkZpbGVTZWxlY3RlZCAoZXZlbnQpIHtcbiAgICBjb25zdCBqc29uRmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rob2xlaG91c2UtanNvbi1maWxlLXBpY2tlcicpXG4gICAgY29uc3QgcG9ydHJhaXRJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgJ2Rob2xlaG91c2UtY2hhcmFjdGVyLXBvcnRyYWl0J1xuICAgIClcbiAgICBjb25zdCBjaGFyYWN0ZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rob2xlaG91c2UtY2hhcmFjdGVyLW5hbWUnKVxuICAgIGNvbnN0IHByZXZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGhvbGVob3VzZS1jaGFyYWN0ZXItcHJldmlldycpXG4gICAgY29uc3QgZmlsZSA9IGpzb25GaWxlSW5wdXQuZmlsZXNbMF1cbiAgICBjb25zdCBkaWFsb2cgPSB0aGlzXG4gICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkaWFsb2cuY2hhcmFjdGVySlNPTiA9IEpTT04ucGFyc2UoZmlsZVJlYWRlci5yZXN1bHQpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICQoJyNjb2MtcHJvbXB0JylcbiAgICAgICAgICAuaHRtbChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVGV4dEZpZWxkSW52YWxpZEpTT04nKSlcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2Vycm9yJylcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBlcnNvbmFsRGV0YWlscyA9XG4gICAgICAgIGRpYWxvZy5jaGFyYWN0ZXJKU09OPy5JbnZlc3RpZ2F0b3I/LlBlcnNvbmFsRGV0YWlsc1xuICAgICAgaWYgKCFwZXJzb25hbERldGFpbHMpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRGhvbGVIb3VzZUludmFsaWRBY3RvcicpXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjaGFyYWN0ZXJOYW1lLnRleHRDb250ZW50ID0gcGVyc29uYWxEZXRhaWxzLk5hbWVcbiAgICAgIHBvcnRyYWl0SW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcGVyc29uYWxEZXRhaWxzLlBvcnRyYWl0XG4gICAgICBwcmV2aWV3LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAkKCcuZGlhbG9nLmFjdG9yLWltcG9ydGVyJykuaGVpZ2h0KCdhdXRvJylcbiAgICB9XG4gICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGUpXG4gIH1cblxuICBfb25DaGFuZ2VTdWJtaXQgKGV2ZW50KSB7XG4gICAgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gIH1cblxuICBhc3luYyBfb25DbGlja1N1Ym1pdCAoZXZlbnQpIHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5idXR0b25cbiAgICBpZiAoaWQgPT09ICdubycpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH0gZWxzZSBpZiAoaWQgPT09ICdnZXRFeGFtcGxlTm93Jykge1xuICAgICAgY29uc3QgY29udGVudCA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmdldEV4YW1wbGVUZXh0KFxuICAgICAgICB0aGlzLm9iamVjdC5sYW5ndWFnZVxuICAgICAgKVxuICAgICAgQ29DN1V0aWxpdGllcy5jb3B5VG9DbGlwYm9hcmQoY29udGVudCkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmluZm8oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvcGllZCcpKVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGlkID09PSAnaW1wb3J0Jykge1xuICAgICAgY29uc3QgYXBwID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCdkaXYuZGlhbG9nLmFjdG9yLWltcG9ydGVyJylcbiAgICAgIGFwcC5oaWRlKClcbiAgICAgIGNvbnN0IGZvcm0gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJ2Zvcm0nKVxuICAgICAgY29uc3QgaW5wdXRzID0gQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2cuZ2V0SW5wdXRzKGZvcm0pXG4gICAgICBpZiAoaW5wdXRzLmVudGl0eSA9PT0gJ2Rob2xlaG91c2UnICYmIHRoaXMuY2hhcmFjdGVySlNPTikge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPVxuICAgICAgICAgIGF3YWl0IENvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlci5jcmVhdGVOUENGcm9tRGhvbGVIb3VzZShcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVySlNPTixcbiAgICAgICAgICAgIHsgc291cmNlOiBpbnB1dHMuc291cmNlIH1cbiAgICAgICAgICApXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ2NoYXJhY3RlcjonLCBjaGFyYWN0ZXIpXG4gICAgICAgICAgfVxuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQWN0b3JJbXBvcnRlZCcsIHtcbiAgICAgICAgICAgICAgYWN0b3JUeXBlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuQ2hhcmFjdGVyJyksXG4gICAgICAgICAgICAgIGFjdG9yTmFtZTogY2hhcmFjdGVyLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IGNoYXJhY3Rlci5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcHAuc2hvdygpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRzLnRleHQgJiYgaW5wdXRzLnRleHQgIT09ICcnKSB7XG4gICAgICAgIENvQzdBY3RvckltcG9ydGVyRGlhbG9nLmltcG9ydEFjdG9yKGlucHV0cylcbiAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHAuc2hvdygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZVxuICAgKiBBIHN1YmNsYXNzIG9mIHRoZSBGb3JtQXBwbGljYXRpb24gbXVzdCBpbXBsZW1lbnQgdGhlIF91cGRhdGVPYmplY3QgbWV0aG9kLlxuICAgKi9cbiAgYXN5bmMgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgdGhpcy5vYmplY3QuaW1wb3J0VHlwZSA9IGZvcm1EYXRhWydjb2MtZW50aXR5LXR5cGUnXVxuICAgIHRoaXMub2JqZWN0LmNoYXJhY3RlckRhdGEgPSBmb3JtRGF0YVsnY29jLXBhc3RlZC1jaGFyYWN0ZXItZGF0YSddPy50cmltKClcbiAgICBpZiAodHlwZW9mIGZvcm1EYXRhWydjb2MtY29udmVydC02RSddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3QuY29udmVydDZFID0gZm9ybURhdGFbJ2NvYy1jb252ZXJ0LTZFJ11cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmb3JtRGF0YVsnY29jLWVudGl0eS1sYW5nJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5sYW5ndWFnZSA9IGZvcm1EYXRhWydjb2MtZW50aXR5LWxhbmcnXVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGZvcm1EYXRhLnNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNvdXJjZSA9IGZvcm1EYXRhLnNvdXJjZVxuICAgIH1cbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIGltcG9ydEFjdG9yIGltcG9ydHMgYW4gQWN0b3IgdXNpbmcgdGhlIGRpYWxvZyBkYXRhXG4gICAqIEBwYXJhbSB7aHRtbH0gaHRtbFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGltcG9ydEFjdG9yIChpbnB1dHMpIHtcbiAgICBpZiAoaW5wdXRzLnRleHRbaW5wdXRzLnRleHQubGVuZ3RoXSAhPT0gJy4nKSB7XG4gICAgICBpbnB1dHMudGV4dCArPSAnLicgLy8gQWRkIGEgZG90IGEgdGhlIGVuZCB0byBoZWxwIHRoZSByZWdleCBmaW5kIHRoZSBlbmRcbiAgICB9XG4gICAgY29uc3QgYWN0b3IgPSBuZXcgQ29DN0FjdG9ySW1wb3J0ZXIoKVxuICAgIGNvbnN0IGNyZWF0ZWRBY3RvciA9IGF3YWl0IGFjdG9yLmNyZWF0ZUFjdG9yKGlucHV0cylcbiAgICAvLyBBY3RvciBjcmVhdGVkLCBOb3RpZnkgdGhlIHVzZXIgYW5kIHNob3cgdGhlIHNoZWV0LlxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdjcmVhdGVkQWN0b3I6JywgY3JlYXRlZEFjdG9yKVxuICAgIH1cbiAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkFjdG9ySW1wb3J0ZWQnLCB7XG4gICAgICAgIGFjdG9yVHlwZTogY3JlYXRlZEFjdG9yLnR5cGU/LnRvVXBwZXJDYXNlKCksXG4gICAgICAgIGFjdG9yTmFtZTogY3JlYXRlZEFjdG9yLm5hbWVcbiAgICAgIH0pXG4gICAgKVxuICAgIGF3YWl0IGNyZWF0ZWRBY3Rvci5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICAvLyBjb25zdCB1cGRhdGVkID0gYXdhaXQgVXBkYXRlci51cGRhdGVBY3RvcihucGMpXG4gICAgLy8gY29uc29sZS5kZWJ1ZygndXBkYXRlZDonLCB1cGRhdGVkKVxuICB9XG5cbiAgLy8gLyoqXG4gIC8vICAqIGNyZWF0ZSBpdCdzIHRoZSBkZWZhdWx0IHdlYiB0byBjcmF0ZSB0aGUgQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2dcbiAgLy8gICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMuaW1wb3J0VHlwZSA9IG9wdGlvbnMuaW1wb3J0VHlwZSA/PyAnbnBjJ1xuICAgIG9wdGlvbnMubGFuZ3VhZ2UgPVxuICAgICAgb3B0aW9ucy5sYW5ndWFnZSA/PyBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cC5jaGVja0xhbmd1YWdlKG51bGwpXG4gICAgb3B0aW9ucy5jb252ZXJ0NkUgPSBvcHRpb25zLmxhbmd1YWdlID8/ICdjb2MtZ3Vlc3MnXG4gICAgb3B0aW9ucy5zb3VyY2UgPSBvcHRpb25zLnNvdXJjZSA/PyAnaXdtcydcbiAgICBvcHRpb25zLmNoYXJhY3RlckRhdGEgPSBvcHRpb25zLmNoYXJhY3RlckRhdGEgPz8gJydcblxuICAgIG5ldyBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZyhvcHRpb25zKS5yZW5kZXIodHJ1ZSlcbiAgfVxufVxuXG5Ib29rcy5vbmNlKCdyZWFkeScsICgpID0+IHtcbiAgaWYgKGdhbWUubW9kdWxlcy5nZXQoJ0NvQzctSW1wb3J0ZXItVGVzdHMnKT8uYWN0aXZlKSB7XG4gICAgd2luZG93LkNvQzdBY3RvckltcG9ydGVyID0gQ29DN0FjdG9ySW1wb3J0ZXJcbiAgfVxufSlcbiIsIi8qIGdsb2JhbCBEaWFsb2csIGR1cGxpY2F0ZSwgZ2FtZSAqL1xuZXhwb3J0IGNsYXNzIERyb3BDb0NJRCBleHRlbmRzIERpYWxvZyB7XG4gIHN0YXRpYyBwcm9jZXNzRm9ybSAocmVzcG9uc2UsIGVsZW1lbnQsIHJlc29sdmUpIHtcbiAgICBpZiAoZWxlbWVudC5maW5kKCdpbnB1dCcpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdkcm9wQ29DSUQnLCAocmVzcG9uc2UgPyAnWScgOiAnTicpKVxuICAgIH1cbiAgICByZXNvbHZlKHJlc3BvbnNlKVxuICB9XG5cbiAgc3RhdGljIHByb2Nlc3NJdGVtIChyZXNwb25zZSwgaXRlbSkge1xuICAgIGlmIChyZXNwb25zZSAmJiBpdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkKSB7XG4gICAgICByZXR1cm4gaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZFxuICAgIH1cbiAgICByZXR1cm4gZHVwbGljYXRlKGl0ZW0pXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlICgpIHtcbiAgICBjb25zdCBkcm9wQ29DSUQgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkcm9wQ29DSUQnKVxuICAgIHN3aXRjaCAoZHJvcENvQ0lEKSB7XG4gICAgICBjYXNlICcnOlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgY29uc3QgZGxnID0gbmV3IERyb3BDb0NJRCh7XG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5TZXR0aW5ncy5Ecm9wQ29DSUQuTmFtZScpLFxuICAgICAgICAgICAgY29udGVudDogJzxwPicgKyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5EaWFsb2cnKSArICc8L3A+PHA+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwicmVtZW1iZXJ0aGlzXCIgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjogc3ViO1wiPjxsYWJlbCBmb3I9XCJyZW1lbWJlcnRoaXNcIj4nICsgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5TZXR0aW5ncy5Ecm9wQ29DSUQuUmVtZW1iZXInKSArICc8L2xhYmVsPjwvcD4nLFxuICAgICAgICAgICAgY2xhc3NlczogWydjb2M3JywgJ2FwcCcsICdkaWFsb2cnXSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgeWVzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnWWVzJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChlbGVtZW50KSA9PiB7IERyb3BDb0NJRC5wcm9jZXNzRm9ybSh0cnVlLCBlbGVtZW50LCByZXNvbHZlKSB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG5vOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnTm8nKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGVsZW1lbnQpID0+IHsgRHJvcENvQ0lELnByb2Nlc3NGb3JtKGZhbHNlLCBlbGVtZW50LCByZXNvbHZlKSB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ1knOlxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgY2FzZSAnTic6XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIERyYWdEcm9wLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4uL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgRHJvcENvQ0lEIH0gZnJvbSAnLi4vLi4vYXBwcy9kcm9wLWNvYy1pZC5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN09jY3VwYXRpb25TaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIHByZXBhcmVkIHNoZWV0IEhUTUxcbiAgICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIC8vIEV2ZXJ5dGhpbmcgYmVsb3cgaGVyZSBpcyBvbmx5IG5lZWRlZCBpZiB0aGUgc2hlZXQgaXMgZWRpdGFibGVcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkgcmV0dXJuXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLml0ZW0gLml0ZW0tbmFtZSBoNCcpXG4gICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtU3VtbWFyeShldmVudCwgJ3NraWxscycpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1kZWxldGUnKVxuICAgICAgLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbURlbGV0ZShldmVudCwgJ3NraWxscycpKVxuXG4gICAgaHRtbC5maW5kKCcuZ3JvdXAtaXRlbS1kZWxldGUnKS5jbGljayh0aGlzLl9vbkdyb3VwSXRlbURlbGV0ZS5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmdyb3VwLWNvbnRyb2wnKS5jbGljayh0aGlzLl9vbkdyb3VwQ29udHJvbC5iaW5kKHRoaXMpKVxuXG4gICAgY29uc3QgZHJhZ0Ryb3AgPSBuZXcgRHJhZ0Ryb3Aoe1xuICAgICAgZHJvcFNlbGVjdG9yOiAnLmRyb3BwYWJsZScsXG4gICAgICBjYWxsYmFja3M6IHsgZHJvcDogdGhpcy5fb25Ecm9wLmJpbmQodGhpcykgfVxuICAgIH0pXG4gICAgZHJhZ0Ryb3AuYmluZChodG1sWzBdKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcCAoZXZlbnQsIHR5cGUgPSAnc2tpbGwnLCBjb2xsZWN0aW9uTmFtZSA9ICdza2lsbHMnKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBvcHRpb25hbFNraWxsID0gZXZlbnQ/LmN1cnJlbnRUYXJnZXQ/LmNsYXNzTGlzdD8uY29udGFpbnMoJ29wdGlvbmFsLXNraWxscycpXG4gICAgY29uc3Qgb2wgPSBldmVudD8uY3VycmVudFRhcmdldD8uY2xvc2VzdCgnb2wnKVxuICAgIGNvbnN0IGluZGV4ID0gb2w/LmRhdGFzZXQ/Lmdyb3VwXG5cbiAgICBjb25zdCBkYXRhTGlzdCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0RGF0YUZyb21Ecm9wRXZlbnQoZXZlbnQsICdJdGVtJylcblxuICAgIGxldCB1c2VDb0NJRCA9IDBcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0gPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0pIDogW11cbiAgICBjb25zdCBncm91cHMgPSB0aGlzLml0ZW0uc3lzdGVtLmdyb3VwcyA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmdyb3VwcykgOiBbXVxuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGFMaXN0KSB7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uc3lzdGVtKSBjb250aW51ZVxuICAgICAgaWYgKCFbdHlwZV0uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9uYWxTa2lsbCkge1xuICAgICAgICBpZiAoIUNvQzdJdGVtLmlzQW55U3BlYyhpdGVtKSkge1xuICAgICAgICAgIC8vIEdlbmVyaWMgc3BlY2lhbGl6YXRpb24gY2FuIGJlIGluY2x1ZGVkIG1hbnkgdGltZXNcbiAgICAgICAgICBpZiAoY29sbGVjdGlvbi5maW5kKGVsID0+IGVsLm5hbWUgPT09IGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlIC8vIElmIHNraWxsIGlzIGFscmVhZHkgaW4gbWFpbiBkb24ndCBhZGQgaXRcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdyb3Vwc1tpbmRleF0uc2tpbGxzLmZpbmQoZWwgPT4gZWwubmFtZSA9PT0gaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWUgLy8gSWYgc2tpbGwgaXMgYWxyZWFkeSBpbiBncm91cCBkb24ndCBhZGQgaXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlQ29DSUQgPT09IDApIHtcbiAgICAgICAgICB1c2VDb0NJRCA9IGF3YWl0IERyb3BDb0NJRC5jcmVhdGUoKVxuICAgICAgICB9XG4gICAgICAgIGdyb3Vwc1tpbmRleF0uc2tpbGxzID0gZ3JvdXBzW2luZGV4XS5za2lsbHMuY29uY2F0KFtEcm9wQ29DSUQucHJvY2Vzc0l0ZW0odXNlQ29DSUQsIGl0ZW0pXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghQ29DN0l0ZW0uaXNBbnlTcGVjKGl0ZW0pKSB7XG4gICAgICAgICAgLy8gR2VuZXJpYyBzcGVjaWFsaXphdGlvbiBjYW4gYmUgaW5jbHVkZWQgbWFueSB0aW1lc1xuICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmZpbmQoZWwgPT4gZWwubmFtZSA9PT0gaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNhbWUgc2tpbGwgaXMgaW4gb25lIG9mIHRoZSBncm91cCByZW1vdmUgaXQgZnJvbSB0aGUgZ3JvdXBzXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdyb3Vwc1tpXS5za2lsbHMuZmluZEluZGV4KFxuICAgICAgICAgICAgICBlbCA9PiBlbC5uYW1lID09PSBpdGVtLm5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgZ3JvdXBzW2ldLnNraWxscy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VDb0NJRCA9PT0gMCkge1xuICAgICAgICAgIHVzZUNvQ0lEID0gYXdhaXQgRHJvcENvQ0lELmNyZWF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdGlvbi5wdXNoKERyb3BDb0NJRC5wcm9jZXNzSXRlbSh1c2VDb0NJRCwgaXRlbSkpXG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLmdyb3Vwcyc6IGdyb3VwcyB9KVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyBbYHN5c3RlbS4ke2NvbGxlY3Rpb25OYW1lfWBdOiBjb2xsZWN0aW9uIH0pXG4gIH1cblxuICBhc3luYyBfb25Hcm91cENvbnRyb2wgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG5cbiAgICAvLyBBZGQgbmV3IGRhbWFnZSBjb21wb25lbnRcbiAgICBpZiAoYS5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC1ncm91cCcpKSB7XG4gICAgICBhd2FpdCB0aGlzLl9vblN1Ym1pdChldmVudCkgLy8gU3VibWl0IGFueSB1bnNhdmVkIGNoYW5nZXNcbiAgICAgIGNvbnN0IGdyb3VwcyA9IHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzXG4gICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5ncm91cHMnOiBncm91cHMuY29uY2F0KFt7IG9wdGlvbnM6IDAsIHNraWxsczogW10gfV0pXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChhLmNsYXNzTGlzdC5jb250YWlucygncmVtb3ZlLWdyb3VwJykpIHtcbiAgICAgIGF3YWl0IHRoaXMuX29uU3VibWl0KGV2ZW50KSAvLyBTdWJtaXQgYW55IHVuc2F2ZWQgY2hhbmdlc1xuICAgICAgY29uc3QgZ3JvdXBzID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzKVxuICAgICAgY29uc3Qgb2wgPSBhLmNsb3Nlc3QoJy5pdGVtLWxpc3QuZ3JvdXAnKVxuICAgICAgZ3JvdXBzLnNwbGljZShOdW1iZXIob2wuZGF0YXNldC5ncm91cCksIDEpXG4gICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ3N5c3RlbS5ncm91cHMnOiBncm91cHMgfSlcbiAgICB9XG4gIH1cblxuICBfb25JdGVtU3VtbWFyeSAoZXZlbnQsIGNvbGxlY3Rpb25OYW1lID0gJ2l0ZW1zJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBvYmogPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgbGkgPSBvYmoucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGdyb3VwID0gb2JqLmNsb3Nlc3QoJy5ncm91cCcpXG4gICAgbGV0IGl0ZW1cbiAgICBpZiAoZ3JvdXAubGVuZ3RoKSB7XG4gICAgICBpdGVtID0gdGhpcy5pdGVtLnN5c3RlbS5ncm91cHNbZ3JvdXAuZGF0YSgnZ3JvdXAnKV1bY29sbGVjdGlvbk5hbWVdLmZpbmQocyA9PiB7XG4gICAgICAgIHJldHVybiBzLl9pZCA9PT0gbGkuZGF0YSgnaXRlbS1pZCcpXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0uZmluZChzID0+IHtcbiAgICAgICAgcmV0dXJuIHMuX2lkID09PSBsaS5kYXRhKCdpdGVtLWlkJylcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNoYXREYXRhID0gaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb25cblxuICAgIC8vIFRvZ2dsZSBzdW1tYXJ5XG4gICAgaWYgKGxpLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gbGkuY2hpbGRyZW4oJy5pdGVtLXN1bW1hcnknKVxuICAgICAgc3VtbWFyeS5zbGlkZVVwKDIwMCwgKCkgPT4gc3VtbWFyeS5yZW1vdmUoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGl2ID0gJChgPGRpdiBjbGFzcz1cIml0ZW0tc3VtbWFyeVwiPiR7Y2hhdERhdGEudmFsdWV9PC9kaXY+YClcbiAgICAgIGNvbnN0IHByb3BzID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tcHJvcGVydGllc1wiPjwvZGl2PicpXG4gICAgICAvLyBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEucHJvcGVydGllcykgeyBwcm9wcy5hcHBlbmQoYDxzcGFuIGNsYXNzPVwidGFnXCI+JHtwfTwvc3Bhbj5gKSB9XG4gICAgICBkaXYuYXBwZW5kKHByb3BzKVxuICAgICAgbGkuYXBwZW5kKGRpdi5oaWRlKCkpXG4gICAgICBkaXYuc2xpZGVEb3duKDIwMClcbiAgICB9XG4gICAgbGkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJylcbiAgfVxuXG4gIGFzeW5jIF9vbkl0ZW1EZWxldGUgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgaXRlbUlkID0gaXRlbS5kYXRhKCdpdGVtLWlkJylcbiAgICBjb25zdCBDb0NJZCA9IGl0ZW0uZGF0YSgnY29jaWQnKVxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdLmZpbmRJbmRleChpID0+IChpdGVtSWQgJiYgaS5faWQgPT09IGl0ZW1JZCkgfHwgKENvQ0lkICYmIGkgPT09IENvQ0lkKSlcbiAgICBpZiAoaXRlbUluZGV4ID4gLTEpIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSkgOiBbXVxuICAgICAgY29sbGVjdGlvbi5zcGxpY2UoaXRlbUluZGV4LCAxKVxuICAgICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7IFtgc3lzdGVtLiR7Y29sbGVjdGlvbk5hbWV9YF06IGNvbGxlY3Rpb24gfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Hcm91cEl0ZW1EZWxldGUgKGV2ZW50KSB7XG4gICAgY29uc3QgaXRlbSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGdyb3VwID0gTnVtYmVyKGl0ZW0uY2xvc2VzdCgnLml0ZW0tbGlzdC5ncm91cCcpLmRhdGEoJ2dyb3VwJykpXG4gICAgY29uc3QgZ3JvdXBzID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzKVxuICAgIGlmICh0eXBlb2YgZ3JvdXBzW2dyb3VwXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGl0ZW1JZCA9IGl0ZW0uZGF0YSgnaXRlbS1pZCcpXG4gICAgICBjb25zdCBDb0NJZCA9IGl0ZW0uZGF0YSgnY29jaWQnKVxuICAgICAgY29uc3QgaXRlbUluZGV4ID0gZ3JvdXBzW2dyb3VwXS5za2lsbHMuZmluZEluZGV4KGkgPT4gKGl0ZW1JZCAmJiBpLl9pZCA9PT0gaXRlbUlkKSB8fCAoQ29DSWQgJiYgaSA9PT0gQ29DSWQpKVxuICAgICAgaWYgKGl0ZW1JbmRleCA+IC0xKSB7XG4gICAgICAgIGdyb3Vwc1tncm91cF0uc2tpbGxzLnNwbGljZShpdGVtSW5kZXgsIDEpXG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLmdyb3Vwcyc6IGdyb3VwcyB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NoZWV0JywgJ29jY3VwYXRpb24nXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9vY2N1cGF0aW9uLmh0bWwnLFxuICAgICAgd2lkdGg6IDUyNSxcbiAgICAgIGhlaWdodDogNDgwLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5pdGVtJyB9XSxcbiAgICAgIHNjcm9sbFk6IFsnLnRhYi5kZXNjcmlwdGlvbiddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcblxuICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMgfSlcblxuICAgIHNoZWV0RGF0YS5za2lsbExpc3RFbXB0eSA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMubGVuZ3RoID09PSAwXG5cbiAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uc2tpbGxzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwLCBsZW4gPSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxscyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogc2hlZXREYXRhLmRhdGEuc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzIH0pXG5cbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLmlzRW1wdHkgPSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMubGVuZ3RoID09PSAwXG5cbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxscy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEub2NjdXBhdGlvblBvaW50c1N0cmluZyA9IENvQzdPY2N1cGF0aW9uU2hlZXQub2NjdXBhdGlvblBvaW50c1N0cmluZyhzaGVldERhdGEuZGF0YS5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzKVxuXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzID0gW11cblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNoZWV0RGF0YS5kYXRhLnN5c3RlbS50eXBlKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHNoZWV0RGF0YS5pdGVtUHJvcGVydGllcy5wdXNoKENPQzcub2NjdXBhdGlvblByb3BlcnRpZXNba2V5XSA/IENPQzcub2NjdXBhdGlvblByb3BlcnRpZXNba2V5XSA6IG51bGwpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBzdGF0aWMgb2NjdXBhdGlvblBvaW50c1N0cmluZyAob2NjdXBhdGlvblNraWxsUG9pbnRzKSB7XG4gICAgY29uc3Qgb3B0aW9ubmFsID0gW11cbiAgICBjb25zdCBtYW5kYXRvcnkgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgY2FyYWNdIG9mIE9iamVjdC5lbnRyaWVzKG9jY3VwYXRpb25Ta2lsbFBvaW50cykpIHtcbiAgICAgIGlmIChjYXJhYy5tdWx0aXBsaWVyKSB7XG4gICAgICAgIGNvbnN0IGNhcmFjTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShgQ0hBUkFDLiR7a2V5LnRvVXBwZXJDYXNlKCl9YClcbiAgICAgICAgaWYgKGNhcmFjLnNlbGVjdGVkICYmIGNhcmFjLm9wdGlvbmFsKSB7XG4gICAgICAgICAgb3B0aW9ubmFsLnB1c2goYCR7Y2FyYWNOYW1lfXgke2NhcmFjLm11bHRpcGxpZXJ9YClcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FyYWMuc2VsZWN0ZWQgJiYgIWNhcmFjLm9wdGlvbmFsKSB7XG4gICAgICAgICAgbWFuZGF0b3J5LnB1c2goYCR7Y2FyYWNOYW1lfXgke2NhcmFjLm11bHRpcGxpZXJ9YClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgb2NjdXBhdGlvblBvaW50c1N0cmluZyA9ICcnXG4gICAgY29uc3Qgb3JTdHJpbmcgPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9yJyl9IGBcbiAgICBpZiAobWFuZGF0b3J5Lmxlbmd0aCkgb2NjdXBhdGlvblBvaW50c1N0cmluZyArPSBtYW5kYXRvcnkuam9pbignICsgJylcbiAgICBpZiAob3B0aW9ubmFsLmxlbmd0aCAmJiBtYW5kYXRvcnkubGVuZ3RoKSB7XG4gICAgICBvY2N1cGF0aW9uUG9pbnRzU3RyaW5nICs9IGAgKyAoJHtvcHRpb25uYWwuam9pbihvclN0cmluZyl9KWBcbiAgICB9XG4gICAgaWYgKG9wdGlvbm5hbC5sZW5ndGggJiYgIW1hbmRhdG9yeS5sZW5ndGgpIHtcbiAgICAgIG9jY3VwYXRpb25Qb2ludHNTdHJpbmcgKz0gb3B0aW9ubmFsLmpvaW4ob3JTdHJpbmcpXG4gICAgfVxuICAgIHJldHVybiBvY2N1cGF0aW9uUG9pbnRzU3RyaW5nXG4gIH1cblxuICBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBjb25zdCBzeXN0ZW0gPSBleHBhbmRPYmplY3QoZm9ybURhdGEpPy5zeXN0ZW1cbiAgICBpZiAoc3lzdGVtLmdyb3Vwcykge1xuICAgICAgZm9ybURhdGFbJ3N5c3RlbS5ncm91cHMnXSA9IE9iamVjdC52YWx1ZXMoXG4gICAgICAgIHN5c3RlbS5ncm91cHMgfHwgW11cbiAgICAgIClcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLml0ZW0uc3lzdGVtLmdyb3Vwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgZm9ybURhdGFbYHN5c3RlbS5ncm91cHMuJHtpbmRleH0uc2tpbGxzYF0gPSBkdXBsaWNhdGUoXG4gICAgICAgICAgdGhpcy5pdGVtLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxsc1xuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3VwZXIuX3VwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBBY3RvciwgQ2hhdE1lc3NhZ2UsIENPTlNULCBkdXBsaWNhdGUsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgSG9va3MsIG1lcmdlT2JqZWN0LCByYW5kb21JRCwgcmVuZGVyVGVtcGxhdGUsIFJvbGwsIHVpICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3T2NjdXBhdGlvblNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL29jY3VwYXRpb24uanMnXG5pbXBvcnQgeyBDb0M3UGFyc2VyIH0gZnJvbSAnLi9jb2M3LXBhcnNlci5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBTa2lsbFNwZWNpYWxpemF0aW9uU2VsZWN0RGlhbG9nIH0gZnJvbSAnLi4vYXBwcy9za2lsbC1zcGVjaWFsaXphdGlvbi1zZWxlY3QtZGlhbG9nLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0ludmVzdGlnYXRvcldpemFyZCBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbiB7XG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgaWQ6ICdpbnZlc3RpZ2F0b3Itd2l6YXJkLWFwcGxpY2F0aW9uJyxcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdkaWFsb2cnLCAnaW52ZXN0aWdhdG9yLXdpemFyZCddLFxuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbnZlc3RpZ2F0b3JXaXphcmQuVGl0bGUnKSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQuaGJzJyxcbiAgICAgIHdpZHRoOiA1MjAsXG4gICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgIGNsb3NlT25TdWJtaXQ6IGZhbHNlLFxuICAgICAgc2Nyb2xsWTogWycuc2Nyb2xsc2VjdGlvbiddLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5kcmFnZ2FibGUnLCBkcm9wU2VsZWN0b3I6IG51bGwgfV1cbiAgICB9KVxuICB9XG5cbiAgZ2V0IHBhZ2VMaXN0ICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgUEFHRV9OT05FOiAtMSxcbiAgICAgIFBBR0VfSU5UUk9EVUNUSU9OOiAwLFxuICAgICAgUEFHRV9DT05GSUdVUkFUSU9OOiAxLFxuICAgICAgUEFHRV9TRVRVUFM6IDIsXG4gICAgICBQQUdFX0FSQ0hFVFlQRVM6IDMsXG4gICAgICBQQUdFX0NIQVJBQ1RJU1RJQ1M6IDQsXG4gICAgICBQQUdFX0FUVFJJQlVURVM6IDUsXG4gICAgICBQQUdFX1ZJRVdfQVRUUklCVVRFUzogNixcbiAgICAgIFBBR0VfT0NDVVBBVElPTlM6IDcsXG4gICAgICBQQUdFX09DQ1VQQVRJT05fU0tJTExTOiA4LFxuICAgICAgUEFHRV9BUkNIRVRZUEVfU0tJTExTOiA5LFxuICAgICAgUEFHRV9QT0lOVFNfU0tJTExTOiAxMCxcbiAgICAgIFBBR0VfSU5WRVNUSUdBVE9SOiAxMSxcbiAgICAgIFBBR0VfQkFDS1NUT1JZOiAxMixcbiAgICAgIFBBR0VfQ1JFQVRFOiAxM1xuICAgIH1cbiAgfVxuXG4gIGdldCBjaGFyYWN0ZXJpc3RpY3NNZXRob2RzICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgTUVUSE9EX0RFRkFVTFQ6IDEsXG4gICAgICBNRVRIT0RfUk9MTDogMSxcbiAgICAgIE1FVEhPRF9QT0lOVFM6IDIsXG4gICAgICBNRVRIT0RfVkFMVUVTOiAzXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNvY2lkQ3JlZGl0UmF0aW5nICgpIHtcbiAgICByZXR1cm4gJ2kuc2tpbGwuY3JlZGl0LXJhdGluZydcbiAgfVxuXG4gIGdldCBjb2NpZExhbmd1YWdlT3duICgpIHtcbiAgICByZXR1cm4gJ2kuc2tpbGwubGFuZ3VhZ2Utb3duJ1xuICB9XG5cbiAgZ2V0IHBhZ2VPcmRlciAoKSB7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLnBhZ2VMaXN0XG4gICAgbGV0IHBhZ2VPcmRlciA9IFtcbiAgICAgIHBhZ2VzLlBBR0VfSU5UUk9EVUNUSU9OXG4gICAgXVxuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgcGFnZU9yZGVyLnB1c2gocGFnZXMuUEFHRV9DT05GSUdVUkFUSU9OKVxuICAgIH1cbiAgICBpZiAodGhpcy5vYmplY3QuZGVmYXVsdFNldHVwID09PSAnJykge1xuICAgICAgcGFnZU9yZGVyLnB1c2gocGFnZXMuUEFHRV9TRVRVUFMpXG4gICAgfVxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUFyY2hldHlwZScpKSB7XG4gICAgICBwYWdlT3JkZXIucHVzaChwYWdlcy5QQUdFX0FSQ0hFVFlQRVMpXG4gICAgfVxuICAgIHBhZ2VPcmRlci5wdXNoKHBhZ2VzLlBBR0VfQ0hBUkFDVElTVElDUylcbiAgICBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlSWdub3JlQWdlUGVuYWx0aWVzJykpIHtcbiAgICAgIHBhZ2VPcmRlci5wdXNoKHBhZ2VzLlBBR0VfQVRUUklCVVRFUylcbiAgICB9XG4gICAgcGFnZU9yZGVyID0gcGFnZU9yZGVyLmNvbmNhdChbXG4gICAgICBwYWdlcy5QQUdFX1ZJRVdfQVRUUklCVVRFUyxcbiAgICAgIHBhZ2VzLlBBR0VfT0NDVVBBVElPTlMsXG4gICAgICBwYWdlcy5QQUdFX09DQ1VQQVRJT05fU0tJTExTXG4gICAgXSlcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKSkge1xuICAgICAgcGFnZU9yZGVyLnB1c2gocGFnZXMuUEFHRV9BUkNIRVRZUEVfU0tJTExTKVxuICAgIH1cbiAgICBwYWdlT3JkZXIgPSBwYWdlT3JkZXIuY29uY2F0KFtcbiAgICAgIHBhZ2VzLlBBR0VfUE9JTlRTX1NLSUxMUyxcbiAgICAgIHBhZ2VzLlBBR0VfSU5WRVNUSUdBVE9SLFxuICAgICAgcGFnZXMuUEFHRV9CQUNLU1RPUlksXG4gICAgICBwYWdlcy5QQUdFX0NSRUFURVxuICAgIF0pXG4gICAgcmV0dXJuIHBhZ2VPcmRlclxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGxvYWRDYWNoZUl0ZW1CeUNvQ0lEICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiAvXmlcXC4vLCB0eXBlOiAnaScsIHNob3dMb2FkaW5nOiB0cnVlIH0pLnRoZW4oKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB7fVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICBsaXN0W2l0ZW0uZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWRdID0gaXRlbVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUobGlzdClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGZpbHRlckNhY2hlSXRlbUJ5Q29DSUQgKHJlZ2V4cCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhhd2FpdCB0aGlzLm9iamVjdC5jYWNoZUNvQ0lEKS5maWx0ZXIoZW50cnkgPT4gZW50cnlbMF0ubWF0Y2gocmVnZXhwKSkubWFwKGVudHJ5ID0+IGVudHJ5WzFdKVxuICB9XG5cbiAgYXN5bmMgZ2V0Q2FjaGVJdGVtQnlDb0NJRCAoaWQpIHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMub2JqZWN0LmNhY2hlQ29DSUQpW2lkXSA/PyBmYWxzZVxuICB9XG5cbiAgYXN5bmMgZXhwYW5kSXRlbUFycmF5IChpdGVtTGlzdCkge1xuICAgIGNvbnN0IGl0ZW1zID0gaXRlbUxpc3QuZmlsdGVyKGl0ID0+IHR5cGVvZiBpdCAhPT0gJ3N0cmluZycpXG4gICAgY29uc3QgY29jaWRzID0gaXRlbUxpc3QuZmlsdGVyKGl0ID0+IHR5cGVvZiBpdCA9PT0gJ3N0cmluZycpXG4gICAgaWYgKGNvY2lkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGF3YWl0IHRoaXMub2JqZWN0LmNhY2hlQ29DSURcbiAgICAgIGNvbnN0IG1pc3NpbmcgPSBbXVxuICAgICAgZm9yIChjb25zdCBjb2NpZCBvZiBjb2NpZHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbY29jaWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGl0ZW1zLnB1c2goc291cmNlW2NvY2lkXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaXNzaW5nLnB1c2goY29jaWQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlcmEgPSBnYW1lLmkxOG4uZm9ybWF0KENPQzcuZXJhc1t0aGlzLm9iamVjdC5kZWZhdWx0RXJhXSA/PyAnQ29DNy5Db0NJREZsYWcuZXJyb3IudW5rbm93bi1lcmEnLCB7IGVyYTogdGhpcy5vYmplY3QuZGVmYXVsdEVyYSB9KVxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Db0NJREZsYWcuZXJyb3IuZG9jdW1lbnRzLW5vdC1mb3VuZCcsIHsgY29jaWRzOiBtaXNzaW5nLmpvaW4oJywgJyksIGxhbmc6IGdhbWUuaTE4bi5sYW5nLCBlcmEgfSkpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtc1xuICB9XG5cbiAgZ2V0QWdlQWRqdXN0bWVudHMgKCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzKSB7XG4gICAgICB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldID0gMFxuICAgIH1cbiAgICAvLyBlZHU6IG9wdGlvbmFsIC0gbnVtYmVyIG9mIGVkdSBpbXByb3ZlbWVudCBjaGVja3NcbiAgICAvLyBkZWR1Y3Q6IG9wdGlvbmFsIC0gZGVkdWN0IFt0b3RhbF0gYmV0d2VlbiBbZnJvbV1cbiAgICAvLyByZWR1Y2U6IG9wdGlvbmFsIC0gZGVkdWN0IFt0b3RsYV0gZnJvbSBbZnJvbV1cbiAgICAvLyBsdWNrOiBvcHRpb25hbCAtIHJlcm9sbCBsdWNrIGFuZCB0YWtlIGhpZ2hlclxuICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMnKSkge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LmFnZSA+PSA0MCkge1xuICAgICAgICBjb25zdCBrZXkgPSBNYXRoLmZsb29yKHRoaXMub2JqZWN0LmFnZSAvIDEwKVxuICAgICAgICB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzID0ge1xuICAgICAgICAgIGVkdToge1xuICAgICAgICAgICAgdG90YWw6IChrZXkgLSAyID4gNCA/IDQgOiBrZXkgLSAyKSxcbiAgICAgICAgICAgIHJvbGxlZDogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlZHVjdDoge1xuICAgICAgICAgICAgdG90YWw6IChrZXkgPiAxID8gNSAqIE1hdGgucG93KDIsIGtleSAtIDQpIDogMCksXG4gICAgICAgICAgICBmcm9tOiBbJ3N0cicsICdjb24nLCAnZGV4J10sXG4gICAgICAgICAgICB2YWx1ZXM6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWR1Y2U6IHtcbiAgICAgICAgICAgIHRvdGFsOiAoa2V5IC0gMykgKiA1LFxuICAgICAgICAgICAgZnJvbTogJ2FwcCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vYmplY3QuYWdlID49IDIwKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMgPSB7XG4gICAgICAgICAgZWR1OiB7XG4gICAgICAgICAgICB0b3RhbDogMSxcbiAgICAgICAgICAgIHJvbGxlZDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vYmplY3QuYWdlID49IDE1KSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMgPSB7XG4gICAgICAgICAgZGVkdWN0OiB7XG4gICAgICAgICAgICB0b3RhbDogNSxcbiAgICAgICAgICAgIGZyb206IFsnc3RyJywgJ3NpeiddLFxuICAgICAgICAgICAgdmFsdWVzOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVkdWNlOiB7XG4gICAgICAgICAgICB0b3RhbDogNSxcbiAgICAgICAgICAgIGZyb206ICdlZHUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsdWNrOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5yZWR1Y2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW3RoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMucmVkdWNlLmZyb21dID0gLXRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMucmVkdWNlLnRvdGFsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuXG4gICAgc2hlZXREYXRhLnBhZ2VzID0gdGhpcy5wYWdlTGlzdFxuXG4gICAgc2hlZXREYXRhLmNhbk5leHQgPSBmYWxzZVxuICAgIHNoZWV0RGF0YS5jcmVhdGVCdXR0b24gPSBmYWxzZVxuXG4gICAgbGV0IHNldHVwXG4gICAgbGV0IGFyY2hldHlwZVxuICAgIGxldCBvY2N1cGF0aW9uXG5cbiAgICBsZXQgc2hvd01vbmV0YXJ5ID0gZmFsc2VcblxuICAgIHN3aXRjaCAoc2hlZXREYXRhLm9iamVjdC5zdGVwKSB7XG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0lOVFJPRFVDVElPTjpcbiAgICAgICAgc2hlZXREYXRhLmVyYSA9IGdhbWUuaTE4bi5mb3JtYXQoQ09DNy5lcmFzW3NoZWV0RGF0YS5vYmplY3QuZGVmYXVsdEVyYV0gPz8gJ0NvQzcuQ29DSURGbGFnLmVycm9yLnVua25vd24tZXJhJywgeyBlcmE6IHNoZWV0RGF0YS5vYmplY3QuZGVmYXVsdEVyYSB9KVxuICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9DT05GSUdVUkFUSU9OOlxuICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICBzaGVldERhdGEuc2V0dXBzID0gYXdhaXQgdGhpcy5maWx0ZXJDYWNoZUl0ZW1CeUNvQ0lEKC9eaVxcLnNldHVwXFwuLylcbiAgICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbnMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwub2NjdXBhdGlvblxcLi8pXG4gICAgICAgICAgc2hlZXREYXRhLmFyY2hldHlwZXMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwuYXJjaGV0eXBlXFwuLylcbiAgICAgICAgICBzZXR1cCA9IHNoZWV0RGF0YS5zZXR1cHMuZmluZChzID0+IHMuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWQgPT09IHNoZWV0RGF0YS5vYmplY3QuZGVmYXVsdFNldHVwKVxuICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzaGVldERhdGEub2JqZWN0LmRlZmF1bHRTZXR1cCA9ICcnXG4gICAgICAgICAgICBzaGVldERhdGEub2JqZWN0LnNldHVwID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hlZXREYXRhLmRlc2NyaXB0aW9uID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKHNldHVwLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hlZXREYXRhLm93bmVyc2hpcCA9IHtcbiAgICAgICAgICAgIFtDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk5PTkVdOiAnT1dORVJTSElQLk5PTkUnLFxuICAgICAgICAgICAgW0NPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTElNSVRFRF06ICdPV05FUlNISVAuTElNSVRFRCcsXG4gICAgICAgICAgICBbQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5PQlNFUlZFUl06ICdPV05FUlNISVAuT0JTRVJWRVInLFxuICAgICAgICAgICAgW0NPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuT1dORVJdOiAnT1dORVJTSElQLk9XTkVSJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaGVldERhdGEuX2VyYXMgPSBbXVxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZXJhcykpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5fZXJhcy5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMgPSB0aGlzLmNoYXJhY3RlcmlzdGljc01ldGhvZHNcbiAgICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kID0gc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX0RFRkFVTFRcbiAgICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5lbmZvcmNlUG9pbnRCdXkpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfUE9JTlRTXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5xdWlja0ZpcmVWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kID0gc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1ZBTFVFU1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaGVldERhdGEuX2VyYXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgc2hlZXREYXRhLmhhc0FyY2hldHlwZXMgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUFyY2hldHlwZScpXG4gICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9TRVRVUFM6XG4gICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LmRlZmF1bHRTZXR1cCA9PT0gJycpIHtcbiAgICAgICAgICBzaGVldERhdGEuc2V0dXBzID0gYXdhaXQgdGhpcy5maWx0ZXJDYWNoZUl0ZW1CeUNvQ0lEKC9eaVxcLnNldHVwXFwuLylcbiAgICAgICAgICBzaGVldERhdGEuc2V0dXBzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LnNldHVwICE9PSAnJykge1xuICAgICAgICAgICAgc2V0dXAgPSBzaGVldERhdGEuc2V0dXBzLmZpbmQocyA9PiBzLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkID09PSBzaGVldERhdGEub2JqZWN0LnNldHVwKVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR1cCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLmRlc2NyaXB0aW9uID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKHNldHVwLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSlcbiAgICAgICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfQVJDSEVUWVBFUzpcbiAgICAgICAgc2hlZXREYXRhLmFyY2hldHlwZXMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwuYXJjaGV0eXBlXFwuLylcbiAgICAgICAgaWYgKHNoZWV0RGF0YS5hcmNoZXR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0RGF0YS5hcmNoZXR5cGVzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LmFyY2hldHlwZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGFyY2hldHlwZSA9IHNoZWV0RGF0YS5hcmNoZXR5cGVzLmZpbmQocyA9PiBzLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkID09PSBzaGVldERhdGEub2JqZWN0LmFyY2hldHlwZSlcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJjaGV0eXBlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzaGVldERhdGEuZGVzY3JpcHRpb24gPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoYXJjaGV0eXBlLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSlcbiAgICAgICAgICAgICAgc2hlZXREYXRhLmJvbnVzUG9pbnRzID0gYXJjaGV0eXBlLnN5c3RlbS5ib251c1BvaW50c1xuICAgICAgICAgICAgICBjb25zdCBjb3JlQ2hhcmFjdGVyaXN0aWNzID0gW11cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBjb3JlQ2hhcmFjdGVyaXN0aWMgaW4gYXJjaGV0eXBlLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyY2hldHlwZS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc1tjb3JlQ2hhcmFjdGVyaXN0aWNdKSB7XG4gICAgICAgICAgICAgICAgICBjb3JlQ2hhcmFjdGVyaXN0aWNzLnB1c2goY29yZUNoYXJhY3RlcmlzdGljKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoY29yZUNoYXJhY3RlcmlzdGljcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5jb3JlQ2hhcmFjdGVyaXN0aWMgPSAnJ1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmVDaGFyYWN0ZXJpc3RpY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljID0gY29yZUNoYXJhY3RlcmlzdGljc1swXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5jb3JlQ2hhcmFjdGVyaXN0aWMgPSBjb3JlQ2hhcmFjdGVyaXN0aWNzLm1hcChjID0+IGMudG9Mb2NhbGVVcHBlckNhc2UoKSkuam9pbignICcgKyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuT3InKSArICcgJylcbiAgICAgICAgICAgICAgY29uc3Qgc2tpbGxzID0gW11cbiAgICAgICAgICAgICAgYXJjaGV0eXBlLnN5c3RlbS5za2lsbHMgPSBhd2FpdCB0aGlzLmV4cGFuZEl0ZW1BcnJheShhcmNoZXR5cGUuc3lzdGVtLnNraWxscylcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBza2lsbCBvZiBhcmNoZXR5cGUuc3lzdGVtLnNraWxscykge1xuICAgICAgICAgICAgICAgIHNraWxscy5wdXNoKHNraWxsLm5hbWUpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2hlZXREYXRhLnNraWxscyA9IHNraWxscy5qb2luKCcsICcpXG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5zdWdnZXN0ZWRPY2N1cGF0aW9ucyA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChhcmNoZXR5cGUuc3lzdGVtLnN1Z2dlc3RlZE9jY3VwYXRpb25zKVxuICAgICAgICAgICAgICBzaGVldERhdGEuc3VnZ2VzdGVkVHJhaXRzID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKGFyY2hldHlwZS5zeXN0ZW0uc3VnZ2VzdGVkVHJhaXRzKVxuICAgICAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9DSEFSQUNUSVNUSUNTOlxuICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcyA9IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kc1xuICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kID0gc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1JPTExcbiAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2V0dXAgIT09ICcnKSB7XG4gICAgICAgICAgc2V0dXAgPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Quc2V0dXApXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZXR1cCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvaW50cy5lbmFibGVkIHx8IHRoaXMub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSkge1xuICAgICAgICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kID0gc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1BPSU5UU1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5xdWlja0ZpcmVWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfVkFMVUVTXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGVldERhdGEuc2V0dXAgPSB7XG4gICAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgICBwb2ludHM6IHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnZhbHVlLFxuICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpY3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdzdHInLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5zdHIsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5TdHJlbmd0aCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2NvbicsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmNvbixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkNvbnN0aXR1dGlvbidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ3NpeicsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLnNpeixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLlNpemUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdkZXgnLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5kZXgsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5EZXh0ZXJpdHknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdhcHAnLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5hcHAsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5BcHBlYXJhbmNlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiAnaW50JyxcbiAgICAgICAgICAgICAgICAgIHJvbGw6IHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHMuaW50LFxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuSW50ZWxsaWdlbmNlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiAncG93JyxcbiAgICAgICAgICAgICAgICAgIHJvbGw6IHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHMucG93LFxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuUG93ZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdlZHUnLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5lZHUsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5FZHVjYXRpb24nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBsdWNrOiB7XG4gICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5sdWNrLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQ29DNy5MdWNrJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGVldERhdGEuY29yZUNoYXJhY3RlcmlzdGljcyA9IFtdXG4gICAgICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5hcmNoZXR5cGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgIGFyY2hldHlwZSA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVJdGVtQnlDb0NJRCh0aGlzLm9iamVjdC5hcmNoZXR5cGUpXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJjaGV0eXBlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29yZUNoYXJhY3RlcmlzdGljIGluIGFyY2hldHlwZS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljcykge1xuICAgICAgICAgICAgICAgICAgaWYgKGFyY2hldHlwZS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc1tjb3JlQ2hhcmFjdGVyaXN0aWNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5jb3JlQ2hhcmFjdGVyaXN0aWNzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgIGtleTogY29yZUNoYXJhY3RlcmlzdGljLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5mb3JtYXQoc2hlZXREYXRhLnNldHVwLmNoYXJhY3RlcmlzdGljcy5maW5kKGMgPT4gYy5rZXkgPT09IGNvcmVDaGFyYWN0ZXJpc3RpYyk/LmxhYmVsID8/ICdVbmtub3duJylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hlZXREYXRhLmNvcmVDaGFyYWN0ZXJpc3RpY3Muc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhcmNoZXR5cGUuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NGb3JtdWxhLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLnNldHVwLmNoYXJhY3RlcmlzdGljcy5maW5kKGMgPT4gYy5rZXkgPT09IHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYykucm9sbCA9IGFyY2hldHlwZS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc0Zvcm11bGEudmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlbXB0aWVzID0gZmFsc2VcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNoZWV0RGF0YS5vYmplY3Quc2V0dXBQb2ludHMpIHtcbiAgICAgICAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2V0dXBQb2ludHNba2V5XSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnbHVjaycpIHtcbiAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5zZXR1cC50b3RhbCArPSBwYXJzZUludChzaGVldERhdGEub2JqZWN0LnNldHVwUG9pbnRzW2tleV0sIDEwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbXB0aWVzID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5jb3JlQ2hhcmFjdGVyaXN0aWMgPSB0aGlzLm9iamVjdC5jb3JlQ2hhcmFjdGVyaXN0aWMudG9Mb2NhbGVVcHBlckNhc2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFlbXB0aWVzICYmIHRoaXMub2JqZWN0LmFnZSA+PSAxNSkge1xuICAgICAgICAgICAgICBpZiAoW3NoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzLk1FVEhPRF9ST0xMLCBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfVkFMVUVTXS5pbmNsdWRlcyhzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kKSkge1xuICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoZWV0RGF0YS5zZXR1cC50b3RhbC50b1N0cmluZygpID09PSBzaGVldERhdGEuc2V0dXAucG9pbnRzLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0FUVFJJQlVURVM6XG4gICAgICAgIHNoZWV0RGF0YS5wdWxwUnVsZUlnbm9yZUFnZVBlbmFsdGllcyA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlSWdub3JlQWdlUGVuYWx0aWVzJylcbiAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMgPSB7fVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycykge1xuICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHNba2V5XSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCksXG4gICAgICAgICAgICBtaW46IC1wYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyAxLFxuICAgICAgICAgICAgbGFiZWw6IENvQzdVdGlsaXRpZXMuZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyhrZXkpLmxhYmVsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5lZHUgIT09ICd1bmRlZmluZWQnICYmICF0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmVkdS5yb2xsZWQpIHtcbiAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmRlZHVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzaGVldERhdGEuZGVkdWN0VG90YWwgPSAwXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5kZWR1Y3QuZnJvbSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmRlZHVjdFRvdGFsID0gc2hlZXREYXRhLmRlZHVjdFRvdGFsIC0gcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApXG4gICAgICAgICAgfVxuICAgICAgICAgIHNoZWV0RGF0YS5kZWR1Y3RGcm9tID0gdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5kZWR1Y3QuZnJvbS5tYXAobiA9PiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy4nICsgbi50b1VwcGVyQ2FzZSgpKSkuam9pbignLCAnKS5yZXBsYWNlKC8oLCApKFteLF0rKSQvLCAnJDEnICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9yJykgKyAnICQyJykucmVwbGFjZSgvXihbXixdKyksKFteLF0rKSQvLCAnJDEkMicpXG4gICAgICAgICAgaWYgKHNoZWV0RGF0YS5kZWR1Y3RUb3RhbCAhPT0gdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5kZWR1Y3QudG90YWwpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLnJlZHVjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzaGVldERhdGEucmVkdWNlRnJvbSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLicgKyB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLnJlZHVjZS5mcm9tLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmx1Y2sgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2hlZXREYXRhLmx1Y2tWYWx1ZSA9IE1hdGgubWF4KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzLmx1Y2ssIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzLmx1Y2spXG4gICAgICAgICAgaWYgKHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzLmx1Y2sgPT09IDApIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9WSUVXX0FUVFJJQlVURVM6XG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMgPSB7fVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycykge1xuICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHNba2V5XSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCksXG4gICAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgICAgc3VmZml4OiAnJScsXG4gICAgICAgICAgICBsYWJlbDogQ29DN1V0aWxpdGllcy5nZXRDaGFyYWN0ZXJpc3RpY05hbWVzKGtleSkubGFiZWxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5kYiA9IHtcbiAgICAgICAgICB2YWx1ZTogQ29DQWN0b3IuZGJGcm9tQ2hhcmFjdGVyaXN0aWNzKHNoZWV0RGF0YS5wb2ludHMpLFxuICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgc3VmZml4OiAnJyxcbiAgICAgICAgICBsYWJlbDogJ0NvQzcuQm9udXNEYW1hZ2UnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHNoZWV0RGF0YS5wb2ludHMuZGIudmFsdWUpIHx8IE51bWJlcihzaGVldERhdGEucG9pbnRzLmRiLnZhbHVlKSA+PSAwKSB7XG4gICAgICAgICAgc2hlZXREYXRhLnBvaW50cy5kYi5wcmVmaXggPSAnKydcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEucG9pbnRzLmJ1aWxkID0ge1xuICAgICAgICAgIHZhbHVlOiBDb0NBY3Rvci5idWlsZEZyb21DaGFyYWN0ZXJpc3RpY3Moc2hlZXREYXRhLnBvaW50cyksXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBzdWZmaXg6ICcnLFxuICAgICAgICAgIGxhYmVsOiAnQ29DNy5CdWlsZCdcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyKHNoZWV0RGF0YS5wb2ludHMuYnVpbGQudmFsdWUpID49IDApIHtcbiAgICAgICAgICBzaGVldERhdGEucG9pbnRzLmJ1aWxkLnByZWZpeCA9ICcrJ1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMuaHAgPSB7XG4gICAgICAgICAgdmFsdWU6IENvQ0FjdG9yLmhwRnJvbUNoYXJhY3RlcmlzdGljcyhzaGVldERhdGEucG9pbnRzLCAnY2hhcmFjdGVyJyksXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBzdWZmaXg6ICcnLFxuICAgICAgICAgIGxhYmVsOiAnQ29DNy5IaXRQb2ludHMnXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5ocC5wcmVmaXggPSBzaGVldERhdGEucG9pbnRzLmhwLnZhbHVlICsgJy8nXG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMubXAgPSB7XG4gICAgICAgICAgdmFsdWU6IENvQ0FjdG9yLm1wRnJvbUNoYXJhY3RlcmlzdGljcyhzaGVldERhdGEucG9pbnRzKSxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIHN1ZmZpeDogJycsXG4gICAgICAgICAgbGFiZWw6ICdDb0M3Lk1hZ2ljUG9pbnRzJ1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMubXAucHJlZml4ID0gc2hlZXREYXRhLnBvaW50cy5tcC52YWx1ZSArICcvJ1xuICAgICAgICBzaGVldERhdGEucG9pbnRzLnNhbiA9IHtcbiAgICAgICAgICB2YWx1ZTogc2hlZXREYXRhLnBvaW50cy5wb3cudmFsdWUsXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBzdWZmaXg6ICcvOTknLFxuICAgICAgICAgIGxhYmVsOiAnQ29DNy5TYW5pdHknXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5tb3YgPSB7XG4gICAgICAgICAgdmFsdWU6IENvQ0FjdG9yLm1vdkZyb21DaGFyYWN0ZXJpc3RpY3Moc2hlZXREYXRhLnBvaW50cywgJ2NoYXJhY3RlcicsIHRoaXMub2JqZWN0LmFnZSksXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBzdWZmaXg6ICcnLFxuICAgICAgICAgIGxhYmVsOiAnQ29DNy5Nb3ZlbWVudCdcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9PQ0NVUEFUSU9OUzpcbiAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb25zID0gYXdhaXQgdGhpcy5maWx0ZXJDYWNoZUl0ZW1CeUNvQ0lEKC9eaVxcLm9jY3VwYXRpb25cXC4vKVxuICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbnMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0Lm9jY3VwYXRpb24gIT09ICcnKSB7XG4gICAgICAgICAgb2NjdXBhdGlvbiA9IHNoZWV0RGF0YS5vY2N1cGF0aW9ucy5maW5kKHMgPT4gcy5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZCA9PT0gc2hlZXREYXRhLm9iamVjdC5vY2N1cGF0aW9uKVxuICAgICAgICAgIGlmICh0eXBlb2Ygb2NjdXBhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5kZXNjcmlwdGlvbiA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChvY2N1cGF0aW9uLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSlcbiAgICAgICAgICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9uUG9pbnRzU3RyaW5nID0gQ29DN09jY3VwYXRpb25TaGVldC5vY2N1cGF0aW9uUG9pbnRzU3RyaW5nKG9jY3VwYXRpb24uc3lzdGVtLm9jY3VwYXRpb25Ta2lsbFBvaW50cylcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jcmVkaXRSYXRpbmcgPSBvY2N1cGF0aW9uLnN5c3RlbS5jcmVkaXRSYXRpbmdcbiAgICAgICAgICAgIHNoZWV0RGF0YS5wZXJzb25hbCA9IG9jY3VwYXRpb24uc3lzdGVtLnBlcnNvbmFsXG4gICAgICAgICAgICBzaGVldERhdGEucGVyc29uYWxUZXh0ID0gb2NjdXBhdGlvbi5zeXN0ZW0ucGVyc29uYWxUZXh0XG4gICAgICAgICAgICBzaGVldERhdGEuc2tpbGxzID0gYXdhaXQgdGhpcy5leHBhbmRJdGVtQXJyYXkob2NjdXBhdGlvbi5zeXN0ZW0uc2tpbGxzKVxuICAgICAgICAgICAgc2hlZXREYXRhLmdyb3VwcyA9IHt9XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgb2NjdXBhdGlvbi5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICBzaGVldERhdGEuZ3JvdXBzW2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvY2N1cGF0aW9uLnN5c3RlbS5ncm91cHNbaW5kZXhdLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc2tpbGxzOiBbXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5ncm91cHNbaW5kZXhdLnNraWxscyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hlZXREYXRhLnBvaW50cyA9IDBcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBjYXJhY10gb2YgT2JqZWN0LmVudHJpZXMob2NjdXBhdGlvbi5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzKSkge1xuICAgICAgICAgICAgICBpZiAoY2FyYWMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FyYWMub3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaChjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0sIDEwKSArIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW2tleV0sIDEwKSkpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHMgKz0gY2FyYWMubXVsdGlwbGllciAqIChwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHMgKz0gTWF0aC5tYXgoLi4ub3B0aW9ucylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0lOVkVTVElHQVRPUjpcbiAgICAgICAgc2hlZXREYXRhLmxhbmd1YWdlID0gKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW3RoaXMuY29jaWRMYW5ndWFnZU93bl0gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICBpZiAoc2hlZXREYXRhLmxhbmd1YWdlKSB7XG4gICAgICAgICAgc2hlZXREYXRhLmxhbmd1YWdlTmFtZSA9IHRoaXMub2JqZWN0LnNraWxsSXRlbXNbdGhpcy5jb2NpZExhbmd1YWdlT3duXS5pdGVtLm5hbWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVldERhdGEubGFuZ3VhZ2VOYW1lID0gJydcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9PQ0NVUEFUSU9OX1NLSUxMUzpcbiAgICAgICAgc2hlZXREYXRhLmRlZmF1bHQgPSAwXG4gICAgICAgIHNoZWV0RGF0YS5zZWxlY3RlZCA9IDBcbiAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zKSB7XG4gICAgICAgICAgbGV0IGdyb3VwID0gJ290aGVyJ1xuICAgICAgICAgIGNvbnN0IHJvd3MgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLmxlbmd0aFxuICAgICAgICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5mbGFncy5pc011bHRpcGxlXG4gICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5za2lsbEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgbmFtZTogc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lLFxuICAgICAgICAgICAgICBncm91cCxcbiAgICAgICAgICAgICAgdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNDcmVkaXRSYXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICBpc011bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICBpc1BpY2thYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJvd3M7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGxldCBpc1BpY2thYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5pc09jY3VwYXRpb25EZWZhdWx0KSB7XG4gICAgICAgICAgICAgIGdyb3VwID0gJ2RlZmF1bHQnXG4gICAgICAgICAgICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgaXNQaWNrYWJsZSA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzaGVldERhdGEuZGVmYXVsdCsrXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLmluT2NjdXBhdGlvbkdyb3VwICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBncm91cCA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLmluT2NjdXBhdGlvbkdyb3VwXG4gICAgICAgICAgICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgaXNQaWNrYWJsZSA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ3JvdXAgPSAnb3RoZXInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9nZ2xlID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0ub2NjdXBhdGlvblRvZ2dsZVxuICAgICAgICAgICAgaWYgKGlzUGlja2FibGUpIHtcbiAgICAgICAgICAgICAgdG9nZ2xlID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzcGVjaWFsaXphdGlvbiA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLml0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgICAgICBsZXQgcGlja2VkID0gZmFsc2VcbiAgICAgICAgICAgIGxldCBkZWxldGVhYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHBpY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgc2tpbGxOYW1lID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHBpY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgc3BlY2lhbGl6YXRpb24gPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZC5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgICAgc2tpbGxOYW1lID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQuc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvZ2dsZSB8fCAoaXNQaWNrYWJsZSAmJiBwaWNrZWQpKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5zZWxlY3RlZCsrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmFtZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLml0ZW0ubmFtZVxuICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5jb2NpZExhbmd1YWdlT3duKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBzcGVjaWFsaXphdGlvbiArICcgKCcgKyBza2lsbE5hbWUgKyAnKSdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzUGlja2FibGUgJiYgcGlja2VkKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBzcGVjaWFsaXphdGlvbiArICcgKCcgKyBza2lsbE5hbWUgKyAnKSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQaWNrYWJsZSAmJiBwaWNrZWQpIHtcbiAgICAgICAgICAgICAgZGVsZXRlYWJsZSA9ICFzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5hcmNoZXR5cGVUb2dnbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0RGF0YS5za2lsbEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBncm91cDogZ3JvdXAudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdG9nZ2xlLFxuICAgICAgICAgICAgICBpc0NyZWRpdFJhdGluZzogc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uaXNDcmVkaXRSYXRpbmcsXG4gICAgICAgICAgICAgIGlzTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBpc1BpY2thYmxlLFxuICAgICAgICAgICAgICBwaWNrZWQsXG4gICAgICAgICAgICAgIGRlbGV0ZWFibGUsXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uLFxuICAgICAgICAgICAgICBza2lsbE5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5tYXggPSAocGFyc2VJbnQoc2hlZXREYXRhLmRlZmF1bHQsIDEwKSB8fCAwKSArIChwYXJzZUludChzaGVldERhdGEub2JqZWN0LnBlcnNvbmFsLCAxMCkgfHwgMCkgKyBPYmplY3QudmFsdWVzKHNoZWV0RGF0YS5vYmplY3Qub2NjdXBhdGlvbkdyb3VwcykucmVkdWNlKChzLCB2KSA9PiBzICsgKHBhcnNlSW50KHYsIDEwKSB8fCAwKSwgMClcbiAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgIGlmIChzaGVldERhdGEuc2VsZWN0ZWQgPT09IHNoZWV0RGF0YS5tYXgpIHtcbiAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0FSQ0hFVFlQRV9TS0lMTFM6XG4gICAgICAgIHNoZWV0RGF0YS5tYXggPSAwXG4gICAgICAgIHNoZWV0RGF0YS5zZWxlY3RlZCA9IDBcbiAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zKSB7XG4gICAgICAgICAgbGV0IGdyb3VwID0gJ290aGVyJ1xuICAgICAgICAgIGNvbnN0IHJvd3MgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLmxlbmd0aFxuICAgICAgICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5mbGFncy5pc011bHRpcGxlXG4gICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5za2lsbEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgbmFtZTogc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lLFxuICAgICAgICAgICAgICBncm91cCxcbiAgICAgICAgICAgICAgdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNDcmVkaXRSYXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICBpc011bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICBpc1BpY2thYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJvd3M7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGxldCBpc1BpY2thYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5pc0FyY2hldHlwZURlZmF1bHQpIHtcbiAgICAgICAgICAgICAgZ3JvdXAgPSAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBpc1BpY2thYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5tYXgrK1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ3JvdXAgPSAnb3RoZXInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9nZ2xlID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uYXJjaGV0eXBlVG9nZ2xlXG4gICAgICAgICAgICBpZiAoaXNQaWNrYWJsZSkge1xuICAgICAgICAgICAgICB0b2dnbGUgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNwZWNpYWxpemF0aW9uID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLnN5c3RlbS5za2lsbE5hbWVcbiAgICAgICAgICAgIGxldCBwaWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgbGV0IGRlbGV0ZWFibGUgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgcGlja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcGlja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICBzcGVjaWFsaXphdGlvbiA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgICBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZC5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9nZ2xlIHx8IChpc1BpY2thYmxlICYmIHBpY2tlZCkpIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLnNlbGVjdGVkKytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuYW1lID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLmNvY2lkTGFuZ3VhZ2VPd24pIHtcbiAgICAgICAgICAgICAgbmFtZSA9IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIHNraWxsTmFtZSArICcpJ1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNQaWNrYWJsZSAmJiBwaWNrZWQpIHtcbiAgICAgICAgICAgICAgbmFtZSA9IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIHNraWxsTmFtZSArICcpJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BpY2thYmxlICYmIHBpY2tlZCkge1xuICAgICAgICAgICAgICBkZWxldGVhYmxlID0gIXNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLm9jY3VwYXRpb25Ub2dnbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0RGF0YS5za2lsbEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBncm91cDogZ3JvdXAudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdG9nZ2xlLFxuICAgICAgICAgICAgICBpc0NyZWRpdFJhdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGlzTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBpc1BpY2thYmxlLFxuICAgICAgICAgICAgICBwaWNrZWQsXG4gICAgICAgICAgICAgIGRlbGV0ZWFibGUsXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uLFxuICAgICAgICAgICAgICBza2lsbE5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5za2lsbEl0ZW1zLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICBpZiAoc2hlZXREYXRhLnNlbGVjdGVkID09PSBzaGVldERhdGEubWF4KSB7XG4gICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9QT0lOVFNfU0tJTExTOlxuICAgICAgICBzaGVldERhdGEuc2tpbGxzID0gW11cbiAgICAgICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ09rYXkgPSAhKHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5tYXggPiAwKVxuICAgICAgICBzaGVldERhdGEucGVyc29uYWwgPSB7XG4gICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgdG90YWw6IDIgKiAocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHMuaW50LCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycy5pbnQsIDEwKSksXG4gICAgICAgICAgcmVtYWluaW5nOiAwXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb24gPSB7XG4gICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgcmVtYWluaW5nOiAwXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLmFyY2hldHlwZSA9IHtcbiAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICByZW1haW5pbmc6IDBcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5zZXR1cCAhPT0gJycpIHtcbiAgICAgICAgICBzaG93TW9uZXRhcnkgPSAoYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHNoZWV0RGF0YS5vYmplY3Quc2V0dXApKS5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzLmxlbmd0aCA+IDBcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5vY2N1cGF0aW9uICE9PSAnJykge1xuICAgICAgICAgIG9jY3VwYXRpb24gPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Qub2NjdXBhdGlvbilcbiAgICAgICAgICBpZiAob2NjdXBhdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGNhcmFjXSBvZiBPYmplY3QuZW50cmllcyhvY2N1cGF0aW9uLnN5c3RlbS5vY2N1cGF0aW9uU2tpbGxQb2ludHMpKSB7XG4gICAgICAgICAgICAgIGlmIChjYXJhYy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjYXJhYy5vcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKGNhcmFjLm11bHRpcGxpZXIgKiAocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApKSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb24udG90YWwgKz0gY2FyYWMubXVsdGlwbGllciAqIChwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9uLnRvdGFsICs9IE1hdGgubWF4KC4uLm9wdGlvbnMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9iamVjdC5hcmNoZXR5cGUgIT09ICcnKSB7XG4gICAgICAgICAgY29uc3QgYXJjaGV0eXBlID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRCh0aGlzLm9iamVjdC5hcmNoZXR5cGUpXG4gICAgICAgICAgaWYgKGFyY2hldHlwZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5hcmNoZXR5cGUudG90YWwgPSBhcmNoZXR5cGVbMF0uc3lzdGVtLmJvbnVzUG9pbnRzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLm9iamVjdC5za2lsbEl0ZW1zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2tpbGxJdGVtcykge1xuICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV1cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgaW0gPSBza2lsbC5yb3dzLmxlbmd0aDsgaW5kZXggPCBpbTsgaW5kZXgrKykge1xuICAgICAgICAgICAgICBjb25zdCByb3cgPSBza2lsbC5yb3dzW2luZGV4XVxuICAgICAgICAgICAgICBpZiAoIXNraWxsLmZsYWdzLmlzTXVsdGlwbGUgfHwgcm93LnNlbGVjdGVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gZHVwbGljYXRlKHNraWxsLml0ZW0pXG4gICAgICAgICAgICAgICAgaWYgKHJvdy5zZWxlY3RlZCAhPT0gZmFsc2UgJiYgdHlwZW9mIHJvdy5zZWxlY3RlZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW0gPSBkdXBsaWNhdGUocm93LnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgYmFzZSA9IGl0ZW0uc3lzdGVtLmJhc2VcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc051bWVyaWMoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ0V4ID0gbmV3IFJlZ0V4cCgnQCcgKyBrZXksICdpJylcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGJhc2UucmVwbGFjZShyZWdFeCwgcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc051bWVyaWMoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgIGJhc2UgPSBNYXRoLmZsb29yKG5ldyBSb2xsKGJhc2UpLmV2YWx1YXRlKHsgYXN5bmM6IGZhbHNlIH0pLnRvdGFsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdG90YWxQb2ludHMgPSBwYXJzZUludChiYXNlLCAxMClcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5wZXJzb25hbFBvaW50cykgPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIocm93LnBlcnNvbmFsUG9pbnRzKVxuICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLnBlcnNvbmFsLmNvdW50ICs9IG51bVxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludHMgPSB0b3RhbFBvaW50cyArIG51bVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5vY2N1cGF0aW9uUG9pbnRzKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IE51bWJlcihyb3cub2NjdXBhdGlvblBvaW50cylcbiAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9uLmNvdW50ICs9IG51bVxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludHMgPSB0b3RhbFBvaW50cyArIG51bVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5hcmNoZXR5cGVQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKHJvdy5hcmNoZXR5cGVQb2ludHMpXG4gICAgICAgICAgICAgICAgICBzaGVldERhdGEuYXJjaGV0eXBlLmNvdW50ICs9IG51bVxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludHMgPSB0b3RhbFBvaW50cyArIG51bVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5leHBlcmllbmNlUG9pbnRzKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IE51bWJlcihyb3cuZXhwZXJpZW5jZVBvaW50cylcbiAgICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRzID0gdG90YWxQb2ludHMgKyBudW1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBpdGVtLm5hbWVcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLmNvY2lkTGFuZ3VhZ2VPd24pIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgPSBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvbiArICcgKCcgKyBpdGVtLnN5c3RlbS5za2lsbE5hbWUgKyAnKSdcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNraWxsLmZsYWdzLmlzQ3JlZGl0UmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZSArICcgWycgKyB0aGlzLm9iamVjdC5jcmVkaXRSYXRpbmcubWluICsgJyAtICcgKyB0aGlzLm9iamVjdC5jcmVkaXRSYXRpbmcubWF4ICsgJ10nXG4gICAgICAgICAgICAgICAgICBpZiAodG90YWxQb2ludHMgPj0gdGhpcy5vYmplY3QuY3JlZGl0UmF0aW5nLm1pbiAmJiB0b3RhbFBvaW50cyA8PSB0aGlzLm9iamVjdC5jcmVkaXRSYXRpbmcubWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5jcmVkaXRSYXRpbmdPa2F5ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJvdy5zZWxlY3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgPSBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvbiArICcgKCcgKyByb3cuc2VsZWN0ZWQgKyAnKSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hlZXREYXRhLnNraWxscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgIGlzT2NjdXBhdGlvbjogcm93Lm9jY3VwYXRpb25Ub2dnbGUsXG4gICAgICAgICAgICAgICAgICBpc0FyY2hldHlwZTogcm93LmFyY2hldHlwZVRvZ2dsZSxcbiAgICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgICBwZXJzb25hbFBvaW50czogcm93LnBlcnNvbmFsUG9pbnRzLFxuICAgICAgICAgICAgICAgICAgb2NjdXBhdGlvblBvaW50czogcm93Lm9jY3VwYXRpb25Qb2ludHMsXG4gICAgICAgICAgICAgICAgICBhcmNoZXR5cGVQb2ludHM6IHJvdy5hcmNoZXR5cGVQb2ludHMsXG4gICAgICAgICAgICAgICAgICBleHBlcmllbmNlUG9pbnRzOiByb3cuZXhwZXJpZW5jZVBvaW50cyxcbiAgICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRzLFxuICAgICAgICAgICAgICAgICAgc2hvd0NyZWRpdFJhdGluZzogc2hvd01vbmV0YXJ5ICYmIGtleSA9PT0gdGhpcy5jb2NpZENyZWRpdFJhdGluZ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2hlZXREYXRhLnNraWxscy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgICAgICBpZiAoc2hlZXREYXRhLmNyZWRpdFJhdGluZ09rYXkpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNoZWV0RGF0YS5wZXJzb25hbC5yZW1haW5pbmcgPSBzaGVldERhdGEucGVyc29uYWwudG90YWwgLSBzaGVldERhdGEucGVyc29uYWwuY291bnRcbiAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb24ucmVtYWluaW5nID0gc2hlZXREYXRhLm9jY3VwYXRpb24udG90YWwgLSBzaGVldERhdGEub2NjdXBhdGlvbi5jb3VudFxuICAgICAgICBzaGVldERhdGEuYXJjaGV0eXBlLnJlbWFpbmluZyA9IHNoZWV0RGF0YS5hcmNoZXR5cGUudG90YWwgLSBzaGVldERhdGEuYXJjaGV0eXBlLmNvdW50XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfQkFDS1NUT1JZOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgYWxsQmFja3N0b3JpZXMgPSBhd2FpdCB0aGlzLm9iamVjdC5jYWNoZUJhY2tzdG9yaWVzXG4gICAgICAgICAgc2hlZXREYXRhLmJhY2tzdG9yaWVzID0ge31cbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBzaGVldERhdGEuYmFja3N0b3JpZXNbaW5kZXhdID0ge1xuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgbmFtZTogdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLm5hbWUsXG4gICAgICAgICAgICAgIHJvbGxzOiAoZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZpbmRDb2NJZEluTGlzdCh0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0ua2V5LCBhbGxCYWNrc3RvcmllcykubGVuZ3RoID8gdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLmtleSA6ICcnKSxcbiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zW2luZGV4XS52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgc2hlZXREYXRhLmNyZWF0ZUJ1dHRvbiA9IGdhbWUudXNlci5yb2xlID49IENPTlNULlVTRVJfUEVSTUlTU0lPTlMuQUNUT1JfQ1JFQVRFLmRlZmF1bHRSb2xlXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfQ1JFQVRFOlxuICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgc2hlZXREYXRhLmNyZWF0ZUJ1dHRvbiA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaHRtbC5rZXlwcmVzcyhlID0+IC90ZXh0YXJlYS9pLnRlc3QoKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCkudGFnTmFtZSkgfHwgKGUua2V5Q29kZSB8fCBlLndoaWNoIHx8IGUuY2hhckNvZGUgfHwgMCkgIT09IDEzKVxuICAgIGh0bWwuZmluZCgnLnN1Ym1pdF9vbl9jaGFuZ2UnKS5jaGFuZ2UodGhpcy5fb25DaGFuZ2VTdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5yb2xsLWNoYXJhY3RlcmlzdGljJykuY2xpY2sodGhpcy5fb25Sb2xsQ2hhcmFjdGVyaXN0aWMuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5pbmNyZWFzZS0xMC1jaGFyYWN0ZXJpc3RpYycpLmNsaWNrKHRoaXMuX29uSW5jcmVhc2VDaGFyYWN0ZXJpc3RpYzEwLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuaW5jcmVhc2UtY2hhcmFjdGVyaXN0aWMnKS5jbGljayh0aGlzLl9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5kZWNyZWFzZS1jaGFyYWN0ZXJpc3RpYycpLmNsaWNrKHRoaXMuX29uRGVjcmVhc2VDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmRlY3JlYXNlLTEwLWNoYXJhY3RlcmlzdGljJykuY2xpY2sodGhpcy5fb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljMTAuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ2J1dHRvbi5yb2xsX2FsbCcpLmNsaWNrKHRoaXMuX29uUm9sbEFsbC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnYnV0dG9uLnJvbGxfZWR1JykuY2xpY2sodGhpcy5fb25Sb2xsRWR1LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdidXR0b24ucm9sbF9sdWNrJykuY2xpY2sodGhpcy5fb25Sb2xsTHVjay5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLml0ZW0gaW5wdXQuc3VibWl0X29uX2JsdXInKS5ibHVyKHRoaXMuX29uQ2hhbmdlU3VibWl0LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuaXRlbSBpbnB1dC5zYXZlLWNoYXJhY3RlcmlzdGljLW9uLWJsdXInKS5ibHVyKHRoaXMuX29uQ2hhbmdlU2F2ZUNoYXJhY3RlcmlzdGljLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuaXRlbS50b2dnbGVhYmxlJykuY2xpY2sodGhpcy5fb25Ub2dnbGVTa2lsbC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLml0ZW0uY2xpY2thYmxlJykuY2xpY2sodGhpcy5fb25DbGlja1BpY2tTa2lsbC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnNraWxscy1saXN0IGlucHV0JykuY2xpY2sodGhpcy5fb25DbGlja1NraWxsU3BlY2lhbC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnNraWxscy1saXN0IC5yZW1vdmUtc2tpbGwnKS5jbGljayh0aGlzLl9vbkNsaWNrUmVtb3ZlU2tpbGwuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5pdGVtIGlucHV0LnNraWxsLWFkanVzdG1lbnQnKS5ibHVyKHRoaXMuX29uQ2hhbmdlU2tpbGxQb2ludHMuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ3RleHRhcmVhLmJhY2tzdG9yeS10ZXh0Jykua2V5dXAodGhpcy5fb25DaGFuZ2VCYWNrc3RvcnlUZXh0LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdidXR0b24uYmFja3N0b3J5LXJvbGwnKS5jbGljayh0aGlzLl9vblJvbGxCYWNrc3RvcnkuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ2J1dHRvbi5iYWNrc3RvcnktcmVzZXQnKS5jbGljayh0aGlzLl9vblJlc2V0QmFja3N0b3J5LmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyByb2xsTWVzc2FnZSAocm9sbHMpIHtcbiAgICBpZiAocm9sbHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBodG1sID0gW11cbiAgICAgIGZvciAoY29uc3Qgcm9sbCBvZiByb2xscykge1xuICAgICAgICBodG1sLnB1c2goYXdhaXQgcmVuZGVyVGVtcGxhdGUoUm9sbC5DSEFUX1RFTVBMQVRFLCB7XG4gICAgICAgICAgZm9ybXVsYTogKENvQzdVdGlsaXRpZXMuZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyhyb2xsWzBdKT8ubGFiZWwgPz8gcm9sbFswXSkgKyAnOiAnICsgcm9sbFsxXSxcbiAgICAgICAgICB0b29sdGlwOiBhd2FpdCByb2xsWzJdLmdldFRvb2x0aXAoKSxcbiAgICAgICAgICB0b3RhbDogcm9sbFsyXS50b3RhbFxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICAgIENoYXRNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBodG1sLmpvaW4oJzxkaXY+Jm5ic3A7PC9kaXY+JyksXG4gICAgICAgIHdoaXNwZXI6IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW1Ub0xpc3QgKGl0ZW0sIHsgaXNPY2N1cGF0aW9uRGVmYXVsdCA9IGZhbHNlLCBpbk9jY3VwYXRpb25Hcm91cCA9IGZhbHNlLCBvY2N1cGF0aW9uVG9nZ2xlID0gZmFsc2UsIGlzQXJjaGV0eXBlRGVmYXVsdCA9IGZhbHNlLCBhcmNoZXR5cGVUb2dnbGUgPSBmYWxzZSwgaXNDcmVkaXRSYXRpbmcgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBjb25zdCBrZXkgPSAoaXRlbS5mbGFncy5Db0M3Py5jb2NpZEZsYWc/LmlkID8/IGl0ZW0ubmFtZSlcbiAgICBpZiAoaXRlbS50eXBlICE9PSAnc2tpbGwnKSB7XG4gICAgICB0aGlzLm9iamVjdC5pbnZlc3RpZ2F0b3JJdGVtcy5wdXNoKGl0ZW0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgaXNNdWx0aXBsZSA9ICEhKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCAmJiAoKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXMucmVxdWlyZXNuYW1lICYmICEoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5vbmx5b25lID8/IGZhbHNlKSkgfHwgaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5waWNrbmFtZW9ubHkgfHwgaXRlbS5uYW1lID09PSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkFueVNwZWNOYW1lJykpKVxuICAgIGNvbnN0IGZsYWdzID0ge1xuICAgICAgaXNPY2N1cGF0aW9uRGVmYXVsdCxcbiAgICAgIGluT2NjdXBhdGlvbkdyb3VwLFxuICAgICAgaXNBcmNoZXR5cGVEZWZhdWx0LFxuICAgICAgaXNDcmVkaXRSYXRpbmcsXG4gICAgICBvY2N1cGF0aW9uVG9nZ2xlLFxuICAgICAgYXJjaGV0eXBlVG9nZ2xlXG4gICAgfVxuICAgIGNvbnN0IHJvd3MgPSB7XG4gICAgICBvY2N1cGF0aW9uUG9pbnRzOiAnJyxcbiAgICAgIGFyY2hldHlwZVBvaW50czogJycsXG4gICAgICBleHBlcmllbmNlUG9pbnRzOiAnJyxcbiAgICAgIHBlcnNvbmFsUG9pbnRzOiAnJyxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XSA9IHtcbiAgICAgICAgaXRlbSxcbiAgICAgICAgZmxhZ3M6IG1lcmdlT2JqZWN0KGZsYWdzLCB7IGlzTXVsdGlwbGUgfSwgeyBpbnBsYWNlOiBmYWxzZSB9KSxcbiAgICAgICAgcm93czogW11cbiAgICAgIH1cbiAgICAgIGlmICghaXNNdWx0aXBsZSB8fCAhKGlzT2NjdXBhdGlvbkRlZmF1bHQgPT09IGZhbHNlICYmIGluT2NjdXBhdGlvbkdyb3VwID09PSBmYWxzZSAmJiBpc0FyY2hldHlwZURlZmF1bHQgPT09IGZhbHNlKSkge1xuICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93cy5wdXNoKG1lcmdlT2JqZWN0KGZsYWdzLCByb3dzLCB7IGlucGxhY2U6IGZhbHNlIH0pKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzTXVsdGlwbGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBmbGFnIGluIGZsYWdzKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbMF1bZmxhZ10gPSB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1swXVtmbGFnXSB8fCBmbGFnc1tmbGFnXVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93cy5wdXNoKG1lcmdlT2JqZWN0KGZsYWdzLCByb3dzLCB7IGlucGxhY2U6IGZhbHNlIH0pKVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBmbGFnIGluIGZsYWdzKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5mbGFnc1tmbGFnXSA9IHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5mbGFnc1tmbGFnXSB8fCBmbGFnc1tmbGFnXVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzTXVsdGlwbGUgJiYgZmxhZ3MuaXNDcmVkaXRSYXRpbmcpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzWzBdLm9jY3VwYXRpb25Qb2ludHMgPSB0aGlzLm9iamVjdC5jcmVkaXRSYXRpbmcubWluXG4gICAgfVxuICB9XG5cbiAgY2xlYXJTZXR1cFBvaW50cyAoKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2V0dXBQb2ludHMpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNldFNraWxsTGlzdHMgKCkge1xuICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXMgPSB7fVxuICAgIHRoaXMub2JqZWN0Lm9jY3VwYXRpb25Hcm91cHMgPSB7fVxuICAgIHRoaXMub2JqZWN0LmludmVzdGlnYXRvckl0ZW1zID0gW11cbiAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUgPSBkdXBsaWNhdGUodGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzKVxuICAgIGNvbnN0IHNldHVwID0gYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHRoaXMub2JqZWN0LnNldHVwKVxuICAgIGNvbnN0IG9jY3VwYXRpb24gPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Qub2NjdXBhdGlvbilcbiAgICBsZXQgYXJjaGV0eXBlID0gZmFsc2VcbiAgICBpZiAodGhpcy5vYmplY3QuYXJjaGV0eXBlICE9PSAnJykge1xuICAgICAgYXJjaGV0eXBlID0gYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHRoaXMub2JqZWN0LmFyY2hldHlwZSlcbiAgICB9XG4gICAgaWYgKHNldHVwICYmIG9jY3VwYXRpb24gJiYgKCFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUFyY2hldHlwZScpIHx8IGFyY2hldHlwZSkpIHtcbiAgICAgIHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zID0gW11cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzZXR1cC5zeXN0ZW0uYmlvU2VjdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHNldHVwLnN5c3RlbS5iaW9TZWN0aW9uc1tpbmRleF0sXG4gICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgIGtleTogJ3J0Li5iYWNrc3RvcnktJyArIENvQzdVdGlsaXRpZXMudG9LZWJhYkNhc2Uoc2V0dXAuc3lzdGVtLmJpb1NlY3Rpb25zW2luZGV4XSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHRoaXMub2JqZWN0LnBlcnNvbmFsID0gb2NjdXBhdGlvbi5zeXN0ZW0ucGVyc29uYWxcbiAgICAgIHRoaXMub2JqZWN0LnBlcnNvbmFsVGV4dCA9IG9jY3VwYXRpb24uc3lzdGVtLnBlcnNvbmFsVGV4dFxuICAgICAgdGhpcy5vYmplY3QuY3JlZGl0UmF0aW5nID0gb2NjdXBhdGlvbi5zeXN0ZW0uY3JlZGl0UmF0aW5nXG4gICAgICBsZXQgaXRlbXMgPSBbXVxuICAgICAgaXRlbXMgPSBhd2FpdCB0aGlzLmV4cGFuZEl0ZW1BcnJheShzZXR1cC5zeXN0ZW0uaXRlbXMpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChpdGVtc1tpbmRleF0pXG4gICAgICB9XG4gICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KG9jY3VwYXRpb24uc3lzdGVtLnNraWxscylcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgaW0gPSBpdGVtcy5sZW5ndGg7IGluZGV4IDwgaW07IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpc09jY3VwYXRpb25EZWZhdWx0OiB0cnVlLCBvY2N1cGF0aW9uVG9nZ2xlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBncm91cCA9IDAsIGdtID0gb2NjdXBhdGlvbi5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgZ3JvdXAgPCBnbTsgZ3JvdXArKykge1xuICAgICAgICB0aGlzLm9iamVjdC5vY2N1cGF0aW9uR3JvdXBzW2dyb3VwXSA9IG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tncm91cF0ub3B0aW9uc1xuICAgICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tncm91cF0uc2tpbGxzKVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpbk9jY3VwYXRpb25Hcm91cDogZ3JvdXAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFyY2hldHlwZSkge1xuICAgICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KGFyY2hldHlwZS5zeXN0ZW0uc2tpbGxzKVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpc0FyY2hldHlwZURlZmF1bHQ6IHRydWUsIGFyY2hldHlwZVRvZ2dsZTogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoTnVtYmVyKHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5tYXgpID4gMCkge1xuICAgICAgICBjb25zdCBuYW1lQ3JlZGl0UmF0aW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Db0NJREZsYWcua2V5cy4nICsgdGhpcy5jb2NpZENyZWRpdFJhdGluZylcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB7IGlzT2NjdXBhdGlvbkRlZmF1bHQ6IHRydWUsIG9jY3VwYXRpb25Ub2dnbGU6IHRydWUsIGlzQ3JlZGl0UmF0aW5nOiB0cnVlIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW3RoaXMuY29jaWRDcmVkaXRSYXRpbmddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdCh0aGlzLm9iamVjdC5za2lsbEl0ZW1zW3RoaXMuY29jaWRDcmVkaXRSYXRpbmddLml0ZW0sIGZsYWdzKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW25hbWVDcmVkaXRSYXRpbmddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdCh0aGlzLm9iamVjdC5za2lsbEl0ZW1zW25hbWVDcmVkaXRSYXRpbmddLml0ZW0sIGZsYWdzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHNraWxsID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRCh0aGlzLmNvY2lkQ3JlZGl0UmF0aW5nKVxuICAgICAgICAgIGlmIChza2lsbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChza2lsbFswXSwgZmxhZ3MpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX29uRHJhZ1N0YXJ0IChldmVudCkge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNLZXkpIHtcbiAgICAgIGNvbnN0IGRyYWdEYXRhID0geyB0eXBlOiAnaW52ZXN0aWdhdG9yQ2hhcmFjdGVyaXN0aWMnLCBrZXk6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jaGFyYWN0ZXJpc3RpY0tleSwgdmFsdWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC52YWx1ZSB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRyYWdEYXRhKSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Ecm9wIChldmVudCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhTGlzdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSlcbiAgICAgIGlmICh0eXBlb2YgZGF0YUxpc3QudHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YUxpc3QudHlwZSA9PT0gJ2ludmVzdGlnYXRvckNoYXJhY3RlcmlzdGljJykge1xuICAgICAgICBkYXRhTGlzdC5kZXN0aW5hdGlvbiA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdsaScpLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNLZXlcbiAgICAgICAgZGF0YUxpc3Qub2theSA9IGZhbHNlXG4gICAgICAgIGlmIChkYXRhTGlzdC5rZXkgPT09ICctJyAmJiB0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vYmplY3QucGxhY2VhYmxlLmluZGV4T2YocGFyc2VJbnQoZGF0YUxpc3QudmFsdWUsIDEwKSlcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlLnB1c2gocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dLCAxMCkpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9IHBhcnNlSW50KGRhdGFMaXN0LnZhbHVlLCAxMClcbiAgICAgICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUuc29ydCgpLnJldmVyc2UoKVxuICAgICAgICAgIGRhdGFMaXN0Lm9rYXkgPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0gIT09ICd1bmRlZmluZWQnICYmIGRhdGFMaXN0LmRlc3RpbmF0aW9uID09PSAnLScpIHtcbiAgICAgICAgICBpZiAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3Qua2V5XSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnBsYWNlYWJsZS5wdXNoKHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0sIDEwKSlcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0gPSAnJ1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlLnNvcnQoKS5yZXZlcnNlKClcbiAgICAgICAgICAgIGRhdGFMaXN0Lm9rYXkgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tkYXRhTGlzdC5rZXldICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3Qua2V5XSA9PT0gJycgPyAnJyA6IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0sIDEwKSlcbiAgICAgICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tkYXRhTGlzdC5rZXldID0gKHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9PT0gJycgPyAnJyA6IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSwgMTApKVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9IHRlbXBcbiAgICAgICAgICBkYXRhTGlzdC5va2F5ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGlzdC5va2F5KSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgIH1cbiAgICBjb25zdCBkYXRhTGlzdCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0RGF0YUZyb21Ecm9wRXZlbnQoZXZlbnQsICdJdGVtJylcbiAgICBpZiAoW3RoaXMucGFnZUxpc3QuUEFHRV9BUkNIRVRZUEVfU0tJTExTLCB0aGlzLnBhZ2VMaXN0LlBBR0VfT0NDVVBBVElPTl9TS0lMTFNdLmluY2x1ZGVzKHRoaXMub2JqZWN0LnN0ZXApKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChpdGVtKVxuICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfb25DbGlja1NraWxsU3BlY2lhbCAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgX29uQ2xpY2tSZW1vdmVTa2lsbCAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LnBhcmVudE5vZGU/LmRhdGFzZXQ/LmtleVxuICAgIGNvbnN0IGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldD8ucGFyZW50Tm9kZT8uZGF0YXNldD8uaW5kZXhcbiAgICBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XT8ucm93c1tpbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93cy5zcGxpY2UoaW5kZXgsIGluZGV4KVxuICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Ub2dnbGVTa2lsbCAoZXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5rZXlcbiAgICBjb25zdCBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmRhdGFzZXQ/LmluZGV4XG4gICAgY29uc3QgdG9nZ2xlS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldD8uZGF0YXNldD8udG9nZ2xlS2V5XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0/LnJvd3NbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV0gPSAhdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV1cbiAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQ2xpY2tQaWNrU2tpbGwgKGV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQuY3VycmVudFRhcmdldD8uZGF0YXNldD8ua2V5XG4gICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5pbmRleFxuICAgIGNvbnN0IHRvZ2dsZUtleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmRhdGFzZXQ/LnRvZ2dsZUtleVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV0gPSBmYWxzZVxuICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgfVxuICAgICAgbGV0IHNraWxsTGlzdCA9IFtdXG4gICAgICBjb25zdCBncm91cCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0dyb3VwRnJvbUtleShrZXkpXG4gICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgc2tpbGxMaXN0ID0gKGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSURSZWdleEJlc3QoeyBjb2NpZFJlZ0V4cDogbmV3IFJlZ0V4cCgnXicgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKGdyb3VwKSArICcuKyQnKSwgdHlwZTogJ2knIH0pKS5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuICEoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uc3BlY2lhbCAmJiAhIShpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5yZXF1aXJlc25hbWUgfHwgaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ucGlja25hbWVvbmx5KSlcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHNraWxsTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgc2tpbGxMaXN0LnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBza2lsbERhdGEgPSBhd2FpdCBTa2lsbFNwZWNpYWxpemF0aW9uU2VsZWN0RGlhbG9nLmNyZWF0ZSh7XG4gICAgICAgIHNraWxsczogc2tpbGxMaXN0LFxuICAgICAgICBhbGxvd0N1c3RvbTogKHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5yZXF1aXJlc25hbWUgPz8gZmFsc2UpLFxuICAgICAgICBmaXhlZEJhc2VWYWx1ZTogdHJ1ZSxcbiAgICAgICAgc3BlY2lhbGl6YXRpb25OYW1lOiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24sXG4gICAgICAgIGxhYmVsOiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lXG4gICAgICB9KVxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgaWYgKHNraWxsRGF0YS5zZWxlY3RlZCAhPT0gJycpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBza2lsbExpc3QuZmluZChpID0+IGkuaWQgPT09IHNraWxsRGF0YS5zZWxlY3RlZClcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF1bdG9nZ2xlS2V5XSA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChza2lsbERhdGEubmFtZSAhPT0gJycpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBza2lsbERhdGEubmFtZVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XVt0b2dnbGVLZXldID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICBpZiAoc2tpbGxEYXRhLnNlbGVjdGVkICE9PSAnJykge1xuICAgICAgICAgIHNlbGVjdGVkID0gc2tpbGxMaXN0LmZpbmQoaSA9PiBpLmlkID09PSBza2lsbERhdGEuc2VsZWN0ZWQpXG4gICAgICAgIH0gZWxzZSBpZiAoc2tpbGxEYXRhLm5hbWUgIT09ICcnKSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBza2lsbERhdGEubmFtZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLnB1c2goe1xuICAgICAgICAgIGlzT2NjdXBhdGlvbkRlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGluT2NjdXBhdGlvbkdyb3VwOiBmYWxzZSxcbiAgICAgICAgICBpc0FyY2hldHlwZURlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGlzQ3JlZGl0UmF0aW5nOiBmYWxzZSxcbiAgICAgICAgICBvY2N1cGF0aW9uVG9nZ2xlOiAodG9nZ2xlS2V5ID09PSAnb2NjdXBhdGlvblRvZ2dsZScpLFxuICAgICAgICAgIGFyY2hldHlwZVRvZ2dsZTogKHRvZ2dsZUtleSA9PT0gJ2FyY2hldHlwZVRvZ2dsZScpLFxuICAgICAgICAgIG9jY3VwYXRpb25Qb2ludHM6ICcnLFxuICAgICAgICAgIGFyY2hldHlwZVBvaW50czogJycsXG4gICAgICAgICAgZXhwZXJpZW5jZVBvaW50czogJycsXG4gICAgICAgICAgcGVyc29uYWxQb2ludHM6ICcnLFxuICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkNoYW5nZVNraWxsUG9pbnRzIChldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IGFkanVzdG1lbnQgPSBpbnB1dC5kYXRhKCdhZGp1c3RtZW50JylcbiAgICBjb25zdCBsaSA9IGlucHV0LmNsb3Nlc3QoJ2xpJylcbiAgICBjb25zdCBrZXkgPSBsaS5kYXRhKCdrZXknKVxuICAgIGNvbnN0IGluZGV4ID0gbGkuZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldPy5yb3dzW2luZGV4XVthZGp1c3RtZW50XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XVthZGp1c3RtZW50XSA9IGlucHV0LnZhbCgpXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25DaGFuZ2VCYWNrc3RvcnlUZXh0IChldmVudCkge1xuICAgIGNvbnN0IHRleHRhcmVhID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IGluZGV4ID0gdGV4dGFyZWEuZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLnZhbHVlID0gdGV4dGFyZWEudmFsKClcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Sb2xsQmFja3N0b3J5IChldmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBjb25zdCBpbmRleCA9IGJ1dHRvbi5kYXRhKCdpbmRleCcpXG4gICAgY29uc3Qga2V5ID0gYnV0dG9uLmRhdGEoJ2tleScpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCByb2xsdGFibGUgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEKGtleSlcbiAgICAgIGlmIChyb2xsdGFibGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlUmVzdWx0ID0gYXdhaXQgcm9sbHRhYmxlWzBdLnJvbGwoKVxuICAgICAgICBpZiAodGFibGVSZXN1bHQucmVzdWx0c1swXS50eXBlID09PSBDT05TVC5UQUJMRV9SRVNVTFRfVFlQRVMuVEVYVCkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zW2luZGV4XS52YWx1ZSA9ICh0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0udmFsdWUgKyAnXFxuJyArIHRhYmxlUmVzdWx0LnJlc3VsdHNbMF0udGV4dC50cmltKCkpLnRyaW0oKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25SZXNldEJhY2tzdG9yeSAoZXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgaW5kZXggPSBidXR0b24uZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLnZhbHVlID0gJydcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vblJvbGxMdWNrIChldmVudCkge1xuICAgIGNvbnN0IHNldHVwID0gYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHRoaXMub2JqZWN0LnNldHVwKVxuICAgIGlmIChzZXR1cCkge1xuICAgICAgY29uc3QgZGllID0gYXdhaXQgbmV3IFJvbGwoc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5sdWNrLnRvU3RyaW5nKCkpLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzLmx1Y2sgPSBbZGllLnRvdGFsXVxuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFJvbGwuQ0hBVF9URU1QTEFURSwge1xuICAgICAgICBmb3JtdWxhOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSW52ZXN0aWdhdG9yV2l6YXJkLlJvbGxUd2ljZUZvckx1Y2snKSArICc6ICcgKyBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmx1Y2sudG9TdHJpbmcoKSxcbiAgICAgICAgdG9vbHRpcDogYXdhaXQgZGllLmdldFRvb2x0aXAoKSxcbiAgICAgICAgdG90YWw6IGRpZS50b3RhbFxuICAgICAgfSlcbiAgICAgIENoYXRNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICB3aGlzcGVyOiBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgICAgfSlcbiAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uUm9sbEVkdSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmVkdSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICghdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5lZHUucm9sbGVkICYmIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnRvdGFsKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzLmVkdSwgMTApXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBbXVxuICAgICAgICBmb3IgKGxldCByb2xscyA9IHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnRvdGFsOyByb2xscyA+IDA7IHJvbGxzLS0pIHtcbiAgICAgICAgICBjb25zdCBkaWUgPSBhd2FpdCBuZXcgUm9sbCgnMWQxMDAnKS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgaWYgKGRpZS50b3RhbCA+IHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBhdWdtZW50RGllID0gYXdhaXQgbmV3IFJvbGwoJzFkMTAnKS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICBtZXNzYWdlLnB1c2goYDxzcGFuIGNsYXNzPVwidXBncmFkZS1zdWNjZXNzXCI+JHtnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAnQ29DNy5EZXZTdWNjZXNzJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW06IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkVkdWNhdGlvbicpLFxuICAgICAgICAgICAgICAgIGRpZTogZGllLnRvdGFsLFxuICAgICAgICAgICAgICAgIHNjb3JlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBhdWdtZW50OiBhdWdtZW50RGllLnRvdGFsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICl9PC9zcGFuPjxicj5gKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIHBhcnNlSW50KGF1Z21lbnREaWUudG90YWwsIDEwKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlLnB1c2goYDxzcGFuIGNsYXNzPVwidXBncmFkZS1mYWlsZWRcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICdDb0M3LkRldkZhaWx1cmUnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuRWR1Y2F0aW9uJyksXG4gICAgICAgICAgICAgICAgZGllOiBkaWUudG90YWwsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHZhbHVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICl9PC9zcGFuPjxicj5gKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxBbGw0RGV2JyksXG4gICAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICAgIHNwZWFrZXI6IHtcbiAgICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5qb2luKCcnKSxcbiAgICAgICAgICB3aGlzcGVyOiBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycy5lZHUgPSB2YWx1ZSAtIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzLmVkdSwgMTApXG4gICAgICAgIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnJvbGxlZCA9IHRydWVcbiAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Sb2xsQWxsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCByb2xscyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgb2YgWydzdHInLCAnY29uJywgJ3NpeicsICdkZXgnLCAnYXBwJywgJ2ludCcsICdwb3cnLCAnZWR1JywgJ2x1Y2snXSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yb2xsQ2hhcmFjdGVyaXN0aWMoa2V5KVxuICAgICAgaWYgKHJlc3VsdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgcm9sbHMucHVzaChyZXN1bHQpXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucm9sbE1lc3NhZ2Uocm9sbHMpXG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBpZiAodHlwZW9mIGxpLmRhdGFzZXQub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbGkuZGF0YXNldC5taW4gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1heCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5T2Zmc2V0KGxpLmRhdGFzZXQub2Zmc2V0LCAxMCwgbGkuZGF0YXNldC5taW4sIGxpLmRhdGFzZXQubWF4KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpLmRhdGFzZXQua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlDaGFyYWN0ZXJpc3RpYyhsaS5kYXRhc2V0LmtleSwgMTApXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25JbmNyZWFzZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGlmICh0eXBlb2YgbGkuZGF0YXNldC5vZmZzZXQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1pbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxpLmRhdGFzZXQubWF4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlPZmZzZXQobGkuZGF0YXNldC5vZmZzZXQsIDEsIGxpLmRhdGFzZXQubWluLCBsaS5kYXRhc2V0Lm1heClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaS5kYXRhc2V0LmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5Q2hhcmFjdGVyaXN0aWMobGkuZGF0YXNldC5rZXksIDEpXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGlmICh0eXBlb2YgbGkuZGF0YXNldC5vZmZzZXQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1pbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxpLmRhdGFzZXQubWF4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlPZmZzZXQobGkuZGF0YXNldC5vZmZzZXQsIC0xLCBsaS5kYXRhc2V0Lm1pbiwgbGkuZGF0YXNldC5tYXgpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbGkuZGF0YXNldC5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1vZGlmeUNoYXJhY3RlcmlzdGljKGxpLmRhdGFzZXQua2V5LCAtMSlcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIF9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBpZiAodHlwZW9mIGxpLmRhdGFzZXQub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbGkuZGF0YXNldC5taW4gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1heCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5T2Zmc2V0KGxpLmRhdGFzZXQub2Zmc2V0LCAtMTAsIGxpLmRhdGFzZXQubWluLCBsaS5kYXRhc2V0Lm1heClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaS5kYXRhc2V0LmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5Q2hhcmFjdGVyaXN0aWMobGkuZGF0YXNldC5rZXksIC0xMClcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIG1vZGlmeU9mZnNldCAoa2V5LCB2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldID0gTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApICsgdmFsdWUsIHBhcnNlSW50KG1heCwgMTApKSwgcGFyc2VJbnQobWluLCAxMCkpXG4gIH1cblxuICBtb2RpZnlDaGFyYWN0ZXJpc3RpYyAoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKSArIHZhbHVlXG4gICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vblJvbGxDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBjaGFyYWNLZXkgPSBsaS5kYXRhc2V0LmtleVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucm9sbENoYXJhY3RlcmlzdGljKGNoYXJhY0tleSlcbiAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5yb2xsTWVzc2FnZShbcmVzdWx0XSlcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIHJvbGxDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSAkKGAjaW52ZXN0aWdhdG9yLXdpemFyZC1hcHBsaWNhdGlvbiBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGkuZmluZCgnaW5wdXQnKVxuICAgIGNvbnN0IGZvcm11bGEgPSBsaS5kYXRhKCdyb2xsJylcbiAgICBpZiAoaW5wdXQgJiYgZm9ybXVsYSkge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkIHx8IHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gPT09ICcnKSB7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgUm9sbChmb3JtdWxhLnRvU3RyaW5nKCkpXG4gICAgICAgIGF3YWl0IHJvbGwuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICBpbnB1dC52YWwocm9sbC50b3RhbClcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSA9IE51bWJlcihyb2xsLnRvdGFsKVxuICAgICAgICByZXR1cm4gW2tleSwgZm9ybXVsYS50b1N0cmluZygpLCByb2xsXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGVcbiAgICogQSBzdWJjbGFzcyBvZiB0aGUgRm9ybUFwcGxpY2F0aW9uIG11c3QgaW1wbGVtZW50IHRoZSBfb25DaGFuZ2VTdWJtaXQgbWV0aG9kLlxuICAgKi9cbiAgX29uQ2hhbmdlU3VibWl0IChldmVudCkge1xuICAgIHRoaXMuX29uU3VibWl0KGV2ZW50KVxuICB9XG5cbiAgX29uQ2hhbmdlU2F2ZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBjb25zdCBuYW1lID0gb2JqLnByb3AoJ25hbWUnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbbmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tuYW1lXSA9IG9iai52YWwoKVxuICAgICAgbGV0IGVtcHRpZXMgPSBmYWxzZVxuICAgICAgbGV0IHRvdGFsID0gMFxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2V0dXBQb2ludHMpIHtcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gIT09ICcnKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ2x1Y2snKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW1wdGllcyA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgb2JqVG90YWwgPSBvYmouY2xvc2VzdCgnb2wuaXRlbS1saXN0JykuZmluZCgnc3Bhbi50b3RhbCcpXG4gICAgICBjb25zdCBtYXggPSBwYXJzZUludChvYmpUb3RhbC5zaWJsaW5ncygnc3Bhbi52YWx1ZScpLnRleHQoKSwgMTApXG4gICAgICBvYmpUb3RhbC50ZXh0KHRvdGFsKVxuICAgICAgaWYgKHRvdGFsID09PSBtYXggJiYgIWVtcHRpZXMpIHtcbiAgICAgICAgaWYgKG9iai5jbG9zZXN0KCdmb3JtJykuZmluZCgnYnV0dG9uLnN1Ym1pdC1idXR0b25bZGF0YS1idXR0b249bmV4dF0nKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2JqLmNsb3Nlc3QoJ2Zvcm0nKS5maW5kKCdidXR0b24uc3VibWl0LWJ1dHRvbltkYXRhLWJ1dHRvbj1uZXh0XScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UGFnZU51bWJlciAoZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgcGFnZU9yZGVyID0gdGhpcy5wYWdlT3JkZXJcbiAgICBjb25zdCBrZXkgPSBwYXJzZUludChPYmplY3Qua2V5cyhwYWdlT3JkZXIpLmZpbmQoa2V5ID0+IHBhZ2VPcmRlcltrZXldID09PSB0aGlzLm9iamVjdC5zdGVwKSwgMTApICsgZGlyZWN0aW9uXG4gICAgcmV0dXJuIHBhZ2VPcmRlcltrZXldXG4gIH1cblxuICAvKiogQG92ZXJyaWRlXG4gICAqIEEgc3ViY2xhc3Mgb2YgdGhlIEZvcm1BcHBsaWNhdGlvbiBtdXN0IGltcGxlbWVudCB0aGUgX3VwZGF0ZU9iamVjdCBtZXRob2QuXG4gICAqL1xuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBpZiAoWydiYWNrJywgJ25leHQnXS5pbmNsdWRlcyhldmVudC5zdWJtaXR0ZXI/LmRhdGFzZXQuYnV0dG9uKSkge1xuICAgICAgaWYgKGV2ZW50LnN1Ym1pdHRlci5jbGFzc05hbWUuaW5kZXhPZignY3VycmVudGx5LXN1Ym1pdHRpbmcnKSA+IC0xKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZXZlbnQuc3VibWl0dGVyLmNsYXNzTmFtZSA9IGV2ZW50LnN1Ym1pdHRlci5jbGFzc05hbWUgKyAnIGN1cnJlbnRseS1zdWJtaXR0aW5nJ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZvcm1EYXRhWydkZWZhdWx0LXNldHVwJ10gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmb3JtRGF0YVsnd29ybGQtZXJhJ10gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmb3JtRGF0YVsnZGVmYXVsdC1vd25lcnNoaXAnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0U2V0dXAgIT09IGZvcm1EYXRhWydkZWZhdWx0LXNldHVwJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3QuZGVmYXVsdFNldHVwID0gZm9ybURhdGFbJ2RlZmF1bHQtc2V0dXAnXVxuICAgICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRTZXR1cCcsIHRoaXMub2JqZWN0LmRlZmF1bHRTZXR1cClcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXAgPSB0aGlzLm9iamVjdC5kZWZhdWx0U2V0dXBcbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTa2lsbExpc3RzKClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0T3duZXJzaGlwICE9PSBmb3JtRGF0YVsnZGVmYXVsdC1vd25lcnNoaXAnXSkge1xuICAgICAgICB0aGlzLm9iamVjdC5kZWZhdWx0T3duZXJzaGlwID0gZm9ybURhdGFbJ2RlZmF1bHQtb3duZXJzaGlwJ11cbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkT3duZXJzaGlwJywgdGhpcy5vYmplY3QuZGVmYXVsdE93bmVyc2hpcClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0RXJhICE9PSBmb3JtRGF0YVsnd29ybGQtZXJhJ10pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gJCh0aGlzLmVsZW1lbnQuZmluZCgnZm9ybScpKVxuICAgICAgICBjb25zdCBzdGFydGVkID0gRGF0ZS5ub3coKVxuICAgICAgICBvYmouZmluZCgnLmRpYWxvZy1idXR0b25zOmZpcnN0JykuaGlkZSgpXG4gICAgICAgIG9iai5maW5kKCcuc2Nyb2xsc2VjdGlvbjpmaXJzdCcpLmhpZGUoKVxuICAgICAgICBvYmouZmluZCgnLmVyYWNoYW5nZTpmaXJzdCcpLnNob3coKVxuICAgICAgICB0aGlzLm9iamVjdC5kZWZhdWx0RXJhID0gZm9ybURhdGFbJ3dvcmxkLWVyYSddXG4gICAgICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3dvcmxkRXJhJywgdGhpcy5vYmplY3QuZGVmYXVsdEVyYSlcbiAgICAgICAgdGhpcy5vYmplY3QuY2FjaGVDb0NJRCA9IGF3YWl0IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQubG9hZENhY2hlSXRlbUJ5Q29DSUQoKVxuICAgICAgICAvLyBUbyBwcmV2ZW50IGZsYXNoaW5nIHNob3cgbWVzc2FnZSBmb3IgYXQgbGVhc3QgNTAwIG1zXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IDUwMCAtIChEYXRlLm5vdygpIC0gc3RhcnRlZClcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGlmIGxlc3MgdGhhbiAxMG1zIHJlbWFpbmluZ1xuICAgICAgICBpZiAoYnVmZmVyID4gMTApIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgYnVmZmVyKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0eXBlb2YgZm9ybURhdGFbJ2NoYXJhY3RlcmlzdGljcy1tZXRob2QnXSAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBOdW1iZXIoZm9ybURhdGFbJ2NoYXJhY3RlcmlzdGljcy1tZXRob2QnXSlcbiAgICAgICAgaWYgKHR5cGUgPT09IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfREVGQVVMVCkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gW11cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSB0aGlzLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1BPSU5UUykge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSA9IHRydWVcbiAgICAgICAgICB0aGlzLm9iamVjdC5xdWlja0ZpcmVWYWx1ZXMgPSBbXVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfVkFMVUVTKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuZW5mb3JjZVBvaW50QnV5ID0gZmFsc2VcbiAgICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKSkge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gWzkwLCA4MCwgNzAsIDYwLCA2MCwgNTAsIDUwLCA0MF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gWzgwLCA3MCwgNjAsIDYwLCA1MCwgNTAsIDUwLCA0MF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUG9pbnRCdXknLCB0aGlzLm9iamVjdC5lbmZvcmNlUG9pbnRCdXkpXG4gICAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1aWNrRmlyZScsIHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcylcbiAgICAgIH1cbiAgICAgIHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkID0gKHR5cGVvZiBmb3JtRGF0YVsncmVyb2xscy1lbmFibGVkJ10gPT09ICdzdHJpbmcnKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUmVyb2xscycsIHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkKVxuICAgICAgZm9yIChsZXQgaSA9IDAsIGltID0gdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKGZvcm1EYXRhWydxdWljay1maXJlLXZhbHVlcy0nICsgaV0pXG4gICAgICAgIGlmIChudW0gPiAwKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzW2ldID0gbnVtXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcy5zb3J0KCkucmV2ZXJzZSgpXG4gICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUgPSBkdXBsaWNhdGUodGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzKVxuICAgICAgaWYgKHR5cGVvZiBmb3JtRGF0YVsnZGVmYXVsdC1lbmFibGVkJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkudG9TdHJpbmcoKSA9PT0gJzAnKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuZGVmYXVsdFF1YW50aXR5ID0gMVxuICAgICAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1YW50aXR5JywgdGhpcy5vYmplY3QuZGVmYXVsdFF1YW50aXR5KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSA9IGZvcm1EYXRhWydkZWZhdWx0LXF1YW50aXR5J11cbiAgICAgICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRRdWFudGl0eScsIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkudG9TdHJpbmcoKSAhPT0gJzAnKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSA9IDBcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVhbnRpdHknLCB0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1zZXR1cCddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LnNldHVwICE9PSBmb3JtRGF0YVsnY29jLXNldHVwJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXAgPSBmb3JtRGF0YVsnY29jLXNldHVwJ11cbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTa2lsbExpc3RzKClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtRGF0YVsnY29jLWFyY2hldHlwZSddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LmFyY2hldHlwZSAhPT0gZm9ybURhdGFbJ2NvYy1hcmNoZXR5cGUnXSkge1xuICAgICAgICB0aGlzLm9iamVjdC5hcmNoZXR5cGUgPSBmb3JtRGF0YVsnY29jLWFyY2hldHlwZSddXG4gICAgICAgIHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyA9ICcnXG4gICAgICAgIHRoaXMuY2xlYXJTZXR1cFBvaW50cygpXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0U2tpbGxMaXN0cygpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1vY2N1cGF0aW9uJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3Qub2NjdXBhdGlvbiAhPT0gZm9ybURhdGFbJ2NvYy1vY2N1cGF0aW9uJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3Qub2NjdXBhdGlvbiA9IGZvcm1EYXRhWydjb2Mtb2NjdXBhdGlvbiddXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0U2tpbGxMaXN0cygpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFba2V5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSAhPT0gZm9ybURhdGFba2V5XSkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gPSBmb3JtRGF0YVtrZXldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ10gIT09ICd1bmRlZmluZWQnICYmIHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyAhPT0gZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljID0gZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ11cbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlID0gZHVwbGljYXRlKHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcylcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZmxhdEtleXMgPSBbJ25hbWUnLCAnYWdlJywgJ3Jlc2lkZW5jZScsICdiaXJ0aHBsYWNlJywgJ2xhbmd1YWdlJywgJ2F2YXRhcicsICd0b2tlbiddXG4gICAgZm9yIChjb25zdCBrZXkgb2YgZmxhdEtleXMpIHtcbiAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFba2V5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vYmplY3Rba2V5XSAhPT0gZm9ybURhdGFba2V5XSkge1xuICAgICAgICB0aGlzLm9iamVjdFtrZXldID0gZm9ybURhdGFba2V5XVxuICAgICAgICBpZiAoa2V5ID09PSAnYWdlJykge1xuICAgICAgICAgIHRoaXMuZ2V0QWdlQWRqdXN0bWVudHMoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChldmVudC5zdWJtaXR0ZXI/LmRhdGFzZXQuYnV0dG9uID09PSAnYmFjaycpIHtcbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmdldFBhZ2VOdW1iZXIoLTEpXG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnN0ZXAgPSBwYWdlTnVtYmVyXG4gICAgICAgIC8vIFdoZW4gbW92aW5nIHN0ZXAgcmVzZXQgc2Nyb2xsIGhlaWdodFxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmVsZW1lbnQuZmluZCgnLnNjcm9sbHNlY3Rpb24nKVxuICAgICAgICBpZiAob2JqLmxlbmd0aCAmJiBvYmpbMF0uc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgb2JqWzBdLnNjcm9sbFRvcCA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQuc3VibWl0dGVyPy5kYXRhc2V0LmJ1dHRvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3Quc3RlcCA9PT0gdGhpcy5wYWdlTGlzdC5QQUdFX0NSRUFURSB8fCAodGhpcy5vYmplY3Quc3RlcCA9PT0gdGhpcy5wYWdlTGlzdC5QQUdFX0JBQ0tTVE9SWSAmJiBnYW1lLnVzZXIucm9sZSA+PSBDT05TVC5VU0VSX1BFUk1JU1NJT05TLkFDVE9SX0NSRUFURS5kZWZhdWx0Um9sZSkpIHtcbiAgICAgICAgdGhpcy5hdHRlbXB0VG9DcmVhdGUoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmdldFBhZ2VOdW1iZXIoMSlcbiAgICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMub2JqZWN0LnN0ZXAgPSBwYWdlTnVtYmVyXG4gICAgICAgICAgLy8gV2hlbiBtb3Zpbmcgc3RlcCByZXNldCBzY3JvbGwgaGVpZ2h0XG4gICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5lbGVtZW50LmZpbmQoJy5zY3JvbGxzZWN0aW9uJylcbiAgICAgICAgICBpZiAob2JqLmxlbmd0aCAmJiBvYmpbMF0uc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICBvYmpbMF0uc2Nyb2xsVG9wID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgYXR0ZW1wdFRvQ3JlYXRlICgpIHtcbiAgICBjb25zdCBhY3RvckRhdGEgPSBhd2FpdCB0aGlzLm5vcm1hbGl6ZUNoYXJhY3RlckRhdGEodGhpcy5vYmplY3QpXG4gICAgaWYgKGdhbWUudXNlci5pc0dNIHx8IGdhbWUudXNlci5yb2xlID49IENPTlNULlVTRVJfUEVSTUlTU0lPTlMuQUNUT1JfQ1JFQVRFLmRlZmF1bHRSb2xlKSB7XG4gICAgICBjb25zdCBhY3RvciA9IGF3YWl0IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQuY3JlYXRlQ2hhcmFjdGVyKGFjdG9yRGF0YSlcbiAgICAgIGFjdG9yLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlZXBlcnMgPSBnYW1lLnVzZXJzLmZpbHRlcih1ID0+IHUuYWN0aXZlICYmIHUuaXNHTSlcbiAgICAgIGlmIChrZWVwZXJzLmxlbmd0aCkge1xuICAgICAgICBhY3RvckRhdGEub3duZXJzaGlwW2dhbWUudXNlci5pZF0gPSBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9XTkVSXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ2NoYXJhY3Rlci13aXphcmQnLFxuICAgICAgICAgIGxpc3RlbmVyOiBrZWVwZXJzWzBdLmlkLFxuICAgICAgICAgIHBheWxvYWQ6IGFjdG9yRGF0YVxuICAgICAgICB9XG4gICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbnZlc3RpZ2F0b3JXaXphcmQuQ3JlYXRpbmdJbnZlc3RpZ2F0b3InKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JNaXNzaW5nS2VlcGVyVXNlcicpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBub3JtYWxpemVDaGFyYWN0ZXJEYXRhIChkYXRhKSB7XG4gICAgY29uc3Qgd2VhcG9uU2tpbGxzID0ge1xuICAgICAgbWVsZWU6IHt9LFxuICAgICAgcm5nZDoge31cbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSBbXVxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEuc2tpbGxJdGVtcykge1xuICAgICAgY29uc3Qgc2tpbGwgPSBkYXRhLnNraWxsSXRlbXNba2V5XVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBpbSA9IHNraWxsLnJvd3MubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHNraWxsLnJvd3NbaW5kZXhdXG4gICAgICAgIGlmICghc2tpbGwuZmxhZ3MuaXNNdWx0aXBsZSB8fCByb3cuc2VsZWN0ZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgbGV0IGl0ZW0gPSBkdXBsaWNhdGUoc2tpbGwuaXRlbSlcbiAgICAgICAgICBpZiAocm93LnNlbGVjdGVkICE9PSBmYWxzZSAmJiB0eXBlb2Ygcm93LnNlbGVjdGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaXRlbSA9IGR1cGxpY2F0ZShyb3cuc2VsZWN0ZWQpXG4gICAgICAgICAgICByb3cuc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm93Lm9jY3VwYXRpb25Ub2dnbGUpIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmZsYWdzLm9jY3VwYXRpb24gPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyb3cuYXJjaGV0eXBlVG9nZ2xlKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5mbGFncy5hcmNoZXR5cGUgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBiYXNlID0gaXRlbS5zeXN0ZW0uYmFzZVxuICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YS5zZXR1cFBvaW50cykge1xuICAgICAgICAgICAgICBjb25zdCByZWdFeCA9IG5ldyBSZWdFeHAoJ0AnICsga2V5LCAnaScpXG4gICAgICAgICAgICAgIGJhc2UgPSBiYXNlLnJlcGxhY2UocmVnRXgsIHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgYmFzZSA9IE1hdGguZmxvb3IobmV3IFJvbGwoYmFzZSkuZXZhbHVhdGUoeyBhc3luYzogZmFsc2UgfSkudG90YWwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0uc3lzdGVtLmJhc2UgPSBiYXNlXG4gICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMgPSBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cyA/PyB7fVxuICAgICAgICAgIGlmIChOdW1iZXIocm93LnBlcnNvbmFsUG9pbnRzKSA+IDApIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmFkanVzdG1lbnRzLnBlcnNvbmFsID0gcGFyc2VJbnQocm93LnBlcnNvbmFsUG9pbnRzLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE51bWJlcihyb3cub2NjdXBhdGlvblBvaW50cykgPiAwKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cy5vY2N1cGF0aW9uID0gcGFyc2VJbnQocm93Lm9jY3VwYXRpb25Qb2ludHMsIDEwKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5hcmNoZXR5cGVQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuYXJjaGV0eXBlID0gcGFyc2VJbnQocm93LmFyY2hldHlwZVBvaW50cywgMTApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChOdW1iZXIocm93LmV4cGVyaWVuY2VQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSA9IHBhcnNlSW50KHJvdy5leHBlcmllbmNlUG9pbnRzLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5jb2NpZExhbmd1YWdlT3duKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPSBkYXRhLmxhbmd1YWdlXG4gICAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvbiArICcgKCcgKyBpdGVtLnN5c3RlbS5za2lsbE5hbWUgKyAnKSdcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByb3cuc2VsZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPSByb3cuc2VsZWN0ZWRcbiAgICAgICAgICAgIGl0ZW0uX2lkID0gcmFuZG9tSUQoKVxuICAgICAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gKyAnICgnICsgaXRlbS5zeXN0ZW0uc2tpbGxOYW1lICsgJyknXG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0lkKGl0ZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5maWdodGluZykge1xuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0ubmFtZV0gPSBpdGVtLl9pZFxuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0uc3lzdGVtLnNraWxsTmFtZV0gPSBpdGVtLl9pZFxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uZmlyZWFybSkge1xuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5uYW1lXSA9IGl0ZW0uX2lkXG4gICAgICAgICAgICB3ZWFwb25Ta2lsbHMucm5nZFtpdGVtLnN5c3RlbS5za2lsbE5hbWVdID0gaXRlbS5faWRcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc291cmNlSXRlbSBvZiBkYXRhLmludmVzdGlnYXRvckl0ZW1zKSB7XG4gICAgICBjb25zdCBpdGVtID0gZHVwbGljYXRlKHNvdXJjZUl0ZW0pXG4gICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5tZWxlZSkge1xuICAgICAgICBpZiAodHlwZW9mIHdlYXBvblNraWxscy5tZWxlZVtpdGVtLnN5c3RlbS5za2lsbC5tYWluLm5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGl0ZW0uc3lzdGVtLnNraWxsLm1haW4uaWQgPSB3ZWFwb25Ta2lsbHMubWVsZWVbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCA9IHdlYXBvblNraWxscy5tZWxlZVtpdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWVdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbC5tYWluLmlkID0gd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkID0gd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpdGVtcy5wdXNoKGl0ZW0pXG4gICAgfVxuICAgIGxldCBtb25ldGFyeSA9IHt9XG4gICAgY29uc3Qgc2V0dXAgPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Quc2V0dXApXG4gICAgaWYgKHNldHVwKSB7XG4gICAgICBtb25ldGFyeSA9IGR1cGxpY2F0ZShzZXR1cC5zeXN0ZW0ubW9uZXRhcnkpXG4gICAgfVxuICAgIGNvbnN0IGRldmVsb3BtZW50ID0ge1xuICAgICAgcGVyc29uYWw6IDIgKiAocGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5pbnQsIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuaW50LCAxMCkpLFxuICAgICAgb2NjdXBhdGlvbjogMCxcbiAgICAgIGFyY2hldHlwZTogMFxuICAgIH1cbiAgICBpZiAoZGF0YS5hcmNoZXR5cGUgIT09ICcnKSB7XG4gICAgICBjb25zdCBhcmNoZXR5cGUgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEKGRhdGEuYXJjaGV0eXBlKVxuICAgICAgaWYgKGFyY2hldHlwZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaXRlbXMucHVzaChhcmNoZXR5cGVbMF0udG9PYmplY3QoKSlcbiAgICAgICAgZGV2ZWxvcG1lbnQuYXJjaGV0eXBlID0gYXJjaGV0eXBlWzBdLnN5c3RlbS5ib251c1BvaW50c1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGF0YS5vY2N1cGF0aW9uICE9PSAnJykge1xuICAgICAgY29uc3Qgb2NjdXBhdGlvbiA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSUQoZGF0YS5vY2N1cGF0aW9uKVxuICAgICAgaWYgKG9jY3VwYXRpb24ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGl0ZW1zLnB1c2gob2NjdXBhdGlvblswXS50b09iamVjdCgpKVxuICAgICAgICBjb25zdCBvcHRpb25zID0gW11cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBjYXJhY10gb2YgT2JqZWN0LmVudHJpZXMob2NjdXBhdGlvblswXS5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzKSkge1xuICAgICAgICAgIGlmIChjYXJhYy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgaWYgKGNhcmFjLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMucHVzaChjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGV2ZWxvcG1lbnQub2NjdXBhdGlvbiArPSBjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkZXZlbG9wbWVudC5vY2N1cGF0aW9uICs9IE1hdGgubWF4KC4uLm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYmlvZ3JhcGh5ID0gW11cbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gZGF0YS5iaW9TZWN0aW9ucy5sZW5ndGg7IGluZGV4IDwgaW07IGluZGV4KyspIHtcbiAgICAgIGJpb2dyYXBoeS5wdXNoKHtcbiAgICAgICAgdGl0bGU6IGRhdGEuYmlvU2VjdGlvbnNbaW5kZXhdLm5hbWUsXG4gICAgICAgIHZhbHVlOiBkYXRhLmJpb1NlY3Rpb25zW2luZGV4XS52YWx1ZVxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgYWN0b3JEYXRhID0ge1xuICAgICAgdHlwZTogJ2NoYXJhY3RlcicsXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBpbWc6IGRhdGEuYXZhdGFyLFxuICAgICAgc3lzdGVtOiB7XG4gICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgIHN0cjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMuc3RyLCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnN0ciwgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb246IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmNvbiwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5jb24sIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5zaXosIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuc2l6LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRleDoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMuZGV4LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLmRleCwgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmFwcCwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5hcHAsIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaW50OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5pbnQsIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuaW50LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMucG93LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnBvdywgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlZHU6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmVkdSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5lZHUsIDEwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXR0cmliczoge1xuICAgICAgICAgIGxjazoge1xuICAgICAgICAgICAgdmFsdWU6IE1hdGgubWF4KHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMubHVjaywgMTApLCBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLmx1Y2ssIDEwKSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhbjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMucG93LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnBvdywgMTApXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbmZvczoge1xuICAgICAgICAgIGFnZTogZGF0YS5hZ2UsXG4gICAgICAgICAgcmVzaWRlbmNlOiBkYXRhLnJlc2lkZW5jZSxcbiAgICAgICAgICBiaXJ0aHBsYWNlOiBkYXRhLmJpcnRocGxhY2VcbiAgICAgICAgfSxcbiAgICAgICAgZGV2ZWxvcG1lbnQsXG4gICAgICAgIGJpb2dyYXBoeSxcbiAgICAgICAgbW9uZXRhcnlcbiAgICAgIH0sXG4gICAgICBwcm90b3R5cGVUb2tlbjoge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFjdG9yTGluazogdHJ1ZSxcbiAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgIHNyYzogZGF0YS50b2tlblxuICAgICAgICB9LFxuICAgICAgICBkaXNwb3NpdGlvbjogQ09OU1QuVE9LRU5fRElTUE9TSVRJT05TLkZSSUVORExZLFxuICAgICAgICBzaWdodDoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGl0ZW1zLFxuICAgICAgb3duZXJzaGlwOiB7XG4gICAgICAgIGRlZmF1bHQ6IHBhcnNlSW50KGRhdGEuZGVmYXVsdE93bmVyc2hpcCwgMTApXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3RvckRhdGFcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVDaGFyYWN0ZXJGcm9tRGF0YSAoYWN0b3JEYXRhKSB7XG4gICAgY29uc3QgYWN0b3IgPSBhd2FpdCBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkLmNyZWF0ZUNoYXJhY3RlcihhY3RvckRhdGEpXG4gICAgY29uc3QgZnVuY3Rpb25JZCA9IEhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0JywgKGFwcCwgaHRtbCwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGFwcC5vYmplY3QuaWQgPT09IGFjdG9yLmlkKSB7XG4gICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3Jywge1xuICAgICAgICAgIHR5cGU6ICdvcGVuLWNoYXJhY3RlcicsXG4gICAgICAgICAgbGlzdGVuZXI6IE9iamVjdC5rZXlzKGFjdG9yRGF0YS5vd25lcnNoaXApLmZpbmQoayA9PiBrICE9PSAnZGVmYXVsdCcpLFxuICAgICAgICAgIHBheWxvYWQ6IGFjdG9yLmlkXG4gICAgICAgIH0pXG4gICAgICAgIEhvb2tzLm9mZigncmVuZGVyQWN0b3JTaGVldCcsIGZ1bmN0aW9uSWQpXG4gICAgICB9XG4gICAgfSlcbiAgICBhY3Rvci5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVDaGFyYWN0ZXIgKGFjdG9yRGF0YSkge1xuICAgIGNvbnN0IGFjdG9yID0gYXdhaXQgQWN0b3IuY3JlYXRlKGFjdG9yRGF0YSlcbiAgICBhd2FpdCBhY3Rvci51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzogYWN0b3IucmF3SHBNYXgsXG4gICAgICAnc3lzdGVtLmF0dHJpYnMubXAudmFsdWUnOiBhY3Rvci5yYXdNcE1heCxcbiAgICAgICdzeXN0ZW0uYXR0cmlicy5zYW4ubWF4JzogYWN0b3IucmF3TXBNYXhcbiAgICB9KVxuICAgIGF3YWl0IGFjdG9yLnJlc2V0RGFpbHlTYW5pdHkoKVxuICAgIHJldHVybiBhY3RvclxuICB9XG5cbiAgLyoqXG4gICAqIGNyZWF0ZSBpdCdzIHRoZSBkZWZhdWx0IHdheSB0byBjcmVhdGUgdGhlIENvQzdDaGFyYWN0ZXJXaXphcmRcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFRyeSBhbmQgcHJlcmVxdXN0IGFzIG1hbnkgQ29DSURzIGR1ZSB0byB0aGUgd2F5IHRoZXkgaGF2ZSB0byBiZSBsb2FkZWRcbiAgICBvcHRpb25zID0gbWVyZ2VPYmplY3Qoe1xuICAgICAgc3RlcDogMCxcbiAgICAgIGRlZmF1bHRTZXR1cDogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkU2V0dXAnKSxcbiAgICAgIGRlZmF1bHRRdWFudGl0eTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVhbnRpdHknKSxcbiAgICAgIGRlZmF1bHRPd25lcnNoaXA6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZE93bmVyc2hpcCcpLFxuICAgICAgZGVmYXVsdEVyYTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKSxcbiAgICAgIHJlcm9sbHNFbmFibGVkOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRSZXJvbGxzJyksXG4gICAgICBlbmZvcmNlUG9pbnRCdXk6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFBvaW50QnV5JyksXG4gICAgICBxdWlja0ZpcmVWYWx1ZXM6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1aWNrRmlyZScpLFxuICAgICAgcGxhY2VhYmxlOiBkdXBsaWNhdGUoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVpY2tGaXJlJykpLFxuICAgICAgY2FjaGVDb0NJRDogQ29DN0ludmVzdGlnYXRvcldpemFyZC5sb2FkQ2FjaGVJdGVtQnlDb0NJRCgpLFxuICAgICAgY2FjaGVCYWNrc3RvcmllczogZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiAvXnJ0XFwuXFwuYmFja3N0b3J5LS8sIHR5cGU6ICdydCcgfSksXG4gICAgICBjYWNoZUl0ZW1zOiB7fSxcbiAgICAgIHNldHVwOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRTZXR1cCcpLFxuICAgICAgc2tpbGxJdGVtczoge30sXG4gICAgICBvY2N1cGF0aW9uR3JvdXBzOiB7fSxcbiAgICAgIGludmVzdGlnYXRvckl0ZW1zOiBbXSxcbiAgICAgIHNldHVwUG9pbnRzOiB7XG4gICAgICAgIHN0cjogJycsXG4gICAgICAgIGNvbjogJycsXG4gICAgICAgIHNpejogJycsXG4gICAgICAgIGRleDogJycsXG4gICAgICAgIGFwcDogJycsXG4gICAgICAgIGludDogJycsXG4gICAgICAgIHBvdzogJycsXG4gICAgICAgIGVkdTogJycsXG4gICAgICAgIGx1Y2s6ICcnXG4gICAgICB9LFxuICAgICAgc2V0dXBNb2RpZmllcnM6IHtcbiAgICAgICAgc3RyOiAwLFxuICAgICAgICBjb246IDAsXG4gICAgICAgIHNpejogMCxcbiAgICAgICAgZGV4OiAwLFxuICAgICAgICBhcHA6IDAsXG4gICAgICAgIGludDogMCxcbiAgICAgICAgcG93OiAwLFxuICAgICAgICBlZHU6IDAsXG4gICAgICAgIGx1Y2s6IDBcbiAgICAgIH0sXG4gICAgICBhcmNoZXR5cGU6ICcnLFxuICAgICAgY29yZUNoYXJhY3RlcmlzdGljOiAnJyxcbiAgICAgIG9jY3VwYXRpb246ICcnLFxuICAgICAgYmlvU2VjdGlvbnM6IFtdLFxuICAgICAgcGVyc29uYWw6IDAsXG4gICAgICBwZXJzb25hbFRleHQ6ICcnLFxuICAgICAgY3JlZGl0UmF0aW5nOiB7XG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAwXG4gICAgICB9LFxuICAgICAgbmFtZTogJycsXG4gICAgICBhZ2U6ICcnLFxuICAgICAgcmVxdWlyZXNBZ2VBZGp1c3RtZW50czogZmFsc2UsXG4gICAgICByZXNpZGVuY2U6ICcnLFxuICAgICAgYmlydGhwbGFjZTogJycsXG4gICAgICBsYW5ndWFnZTogJycsXG4gICAgICBhdmF0YXI6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgIHRva2VuOiAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZydcbiAgICB9LCBvcHRpb25zKVxuICAgIG5ldyBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkKG9wdGlvbnMpLnJlbmRlcih0cnVlKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBmb3VuZHJ5LCBnYW1lLCBQbGFjZWFibGVzTGF5ZXIgKi9cbmltcG9ydCB7IENvQzdDaGF0IH0gZnJvbSAnLi9jaGF0LmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2cgfSBmcm9tICcuL2FwcHMvYWN0b3ItaW1wb3J0ZXItZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRlbnRMaW5rRGlhbG9nIH0gZnJvbSAnLi9hcHBzL2NvYzctY29udGVudC1saW5rLWRpYWxvZy5qcydcbmltcG9ydCB7IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQgfSBmcm9tICcuL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC5qcydcblxuY2xhc3MgQ29DN01lbnVMYXllciBleHRlbmRzIFBsYWNlYWJsZXNMYXllciB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5vYmplY3RzID0ge31cbiAgfVxuXG4gIHN0YXRpYyBnZXQgbGF5ZXJPcHRpb25zICgpIHtcbiAgICByZXR1cm4gZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChzdXBlci5sYXllck9wdGlvbnMsIHtcbiAgICAgIG5hbWU6ICdjb2M3bWVudScsXG4gICAgICB6SW5kZXg6IDYwXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZG9jdW1lbnROYW1lICgpIHtcbiAgICByZXR1cm4gJ1Rva2VuJ1xuICB9XG5cbiAgZ2V0IHBsYWNlYWJsZXMgKCkge1xuICAgIHJldHVybiBbXVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3TWVudSB7XG4gIHN0YXRpYyBnZXRCdXR0b25zIChjb250cm9scykge1xuICAgIGNhbnZhcy5jb2M3Z210b29scyA9IG5ldyBDb0M3TWVudUxheWVyKClcbiAgICBjb25zdCBpc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgY29uc3Qgc2hvd0hpZGRlbkRldk1lbnUgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdoaWRkZW5kZXZtZW51JylcbiAgICBjb250cm9scy5wdXNoKHtcbiAgICAgIG5hbWU6ICdjb2M3bWVudScsXG4gICAgICB0aXRsZTogJ0NvQzcuR21Ub29scycsXG4gICAgICBsYXllcjogJ2NvYzdnbXRvb2xzJyxcbiAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLXRlbnRhY2xlLXN0cmlrZScsXG4gICAgICB2aXNpYmxlOiBpc0tlZXBlcixcbiAgICAgIHRvb2xzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0b2dnbGU6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ2ZhcyBmYS1hbmdsZS1kb3VibGUtdXAnLFxuICAgICAgICAgIG5hbWU6ICdkZXZwaGFzZScsXG4gICAgICAgICAgYWN0aXZlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnKSxcbiAgICAgICAgICB0aXRsZTogJ0NvQzcuRGV2UGhhc2UnLFxuICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jIHRvZ2dsZSA9PiBhd2FpdCBDb0M3VXRpbGl0aWVzLnRvZ2dsZURldlBoYXNlKHRvZ2dsZSlcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnZmFzIGZhLXVzZXItZWRpdCcsXG4gICAgICAgICAgbmFtZTogJ2NoYXJjcmVhdGUnLFxuICAgICAgICAgIGFjdGl2ZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcpLFxuICAgICAgICAgIHRpdGxlOiAnQ29DNy5DaGFyQ3JlYXRpb25Nb2RlJyxcbiAgICAgICAgICBvbkNsaWNrOiBhc3luYyB0b2dnbGUgPT5cbiAgICAgICAgICAgIGF3YWl0IENvQzdVdGlsaXRpZXMudG9nZ2xlQ2hhckNyZWF0aW9uKHRvZ2dsZSlcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnZmFzIGZhLXVzZXItcGx1cycsXG4gICAgICAgICAgbmFtZTogJ2FjdG9yLWltcG9ydCcsXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LkFjdG9ySW1wb3J0ZXInLFxuICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IGF3YWl0IENvQzdBY3RvckltcG9ydGVyRGlhbG9nLmNyZWF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgICAgaWNvbjogJ2ZhcyBmYS11c2VyLWNoZWNrJyxcbiAgICAgICAgICBuYW1lOiAnaW52ZXN0aWdhdG9yLXdpemFyZCcsXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LkludmVzdGlnYXRvcldpemFyZC5UaXRsZScsXG4gICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4gYXdhaXQgQ29DN0ludmVzdGlnYXRvcldpemFyZC5jcmVhdGUoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdG9nZ2xlOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmYXMgZmEtY2VydGlmaWNhdGUnLFxuICAgICAgICAgIGNsYXNzOiAneHBfdG9nZ2xlJyxcbiAgICAgICAgICBuYW1lOiAneHB0b2dnbGUnLFxuICAgICAgICAgIGFjdGl2ZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAneHBFbmFibGVkJyksXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LnRvZ2dsZVhQJyxcbiAgICAgICAgICBvbkNsaWNrOiBhc3luYyB0b2dnbGUgPT4gYXdhaXQgQ29DN1V0aWxpdGllcy50b2dnbGVYUEdhaW4odG9nZ2xlKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLWNhcmQtam9rZXInLFxuICAgICAgICAgIG5hbWU6ICdmYWtlcm9sbCcsXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LkZha2VSb2xsJyxcbiAgICAgICAgICBvbkNsaWNrOiBDb0M3Q2hhdC5mYWtlUm9sbE1lc3NhZ2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnZmFzIGZhLW1vb24nLFxuICAgICAgICAgIG5hbWU6ICdzdGFydHJlc3QnLFxuICAgICAgICAgIHRpdGxlOiAnQ29DNy5zdGFydFJlc3QnLFxuICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0VGFyZ2V0KClcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gICAgaWYgKHNob3dIaWRkZW5EZXZNZW51KSB7XG4gICAgICBjYW52YXMuY29jN0RldlRvb2xzID0gbmV3IENvQzdNZW51TGF5ZXIoKVxuICAgICAgY29udHJvbHMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdjb2M3RGV2TWVudScsXG4gICAgICAgIHRpdGxlOlxuICAgICAgICAgIFwiRGV2IHRvb2xzLiBJZiB5b3UgZG9uJ3Qga25vdyB3aGF0IGl0IGlzLCB5b3UgZG9uJ3QgbmVlZCBpdCBhbmQgeW91IHNob3VsZG4ndCB1c2UgaXQgISFcIixcbiAgICAgICAgbGF5ZXI6ICdjb2M3RGV2VG9vbHMnLFxuICAgICAgICBpY29uOiAnZ2FtZS1pY29uIGdhbWUtaWNvbi1wb2xpY2UtYmFkZ2UnLFxuICAgICAgICB2aXNpYmxlOiBpc0tlZXBlcixcbiAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0b2dnbGU6IHRydWUsXG4gICAgICAgICAgICBpY29uOiAnZ2FtZS1pY29uIGdhbWUtaWNvbi1kaWNlLWZpcmUnLFxuICAgICAgICAgICAgbmFtZTogJ2Fsd2F5c0NyaXQnLFxuICAgICAgICAgICAgYWN0aXZlOiBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzQ3JpdCxcbiAgICAgICAgICAgIHRpdGxlOiAnQWxsIHJvbGxzIHdpbGwgY3JpdCcsXG4gICAgICAgICAgICBvbkNsaWNrOiB0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzRnVtYmxlID0gZmFsc2VcbiAgICAgICAgICAgICAgZ2FtZS5Db0M3LmRldi5kaWNlLmFsd2F5c0NyaXQgPSB0b2dnbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICAgICAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLWZpcmUtZXh0aW5ndWlzaGVyJyxcbiAgICAgICAgICAgIG5hbWU6ICdhbHdheXNGdW1ibGUnLFxuICAgICAgICAgICAgYWN0aXZlOiBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzRnVtYmxlLFxuICAgICAgICAgICAgdGl0bGU6ICdBbGwgcm9sbHMgd2lsbCBmdW1ibGUnLFxuICAgICAgICAgICAgb25DbGljazogdG9nZ2xlID0+IHtcbiAgICAgICAgICAgICAgZ2FtZS5Db0M3LmRldi5kaWNlLmFsd2F5c0Z1bWJsZSA9IHRvZ2dsZVxuICAgICAgICAgICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzQ3JpdCA9IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJDb250cm9scyAoYXBwLCBodG1sLCBkYXRhKSB7XG4gICAgY29uc3QgaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIGNvbnN0IGtlZXBlck1lbnUgPSBodG1sLmZpbmQoJy5nYW1lLWljb24tdGVudGFjbGUtc3RyaWtlJykucGFyZW50KClcbiAgICBrZWVwZXJNZW51LmFkZENsYXNzKCdjb2M3LW1lbnUnKVxuICAgIGlmIChpc0tlZXBlcikge1xuICAgICAga2VlcGVyTWVudS5hZnRlcihcbiAgICAgICAgJzxsaSBjbGFzcz1cInNjZW5lLWNvbnRyb2wgY29jNy1tZW51IGNvYzctY3JlYXRlLWxpbmtcIiB0aXRsZT1cIicgK1xuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DcmVhdGVMaW5rJykgK1xuICAgICAgICAgICdcIj48aSBjbGFzcz1cImZhcyBmYS1saW5rXCI+PC9pPjwvbGk+J1xuICAgICAgKVxuICAgIH1cbiAgICBrZWVwZXJNZW51LmFmdGVyKFxuICAgICAgJzxsaSBjbGFzcz1cInNjZW5lLWNvbnRyb2wgY29jNy1tZW51IGNvYzctZGljZS1yb2xsXCIgdGl0bGU9XCInICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxEaWNlJykgK1xuICAgICAgICAnXCI+PGkgY2xhc3M9XCJnYW1lLWljb24gZ2FtZS1pY29uLWQxMFwiPjwvaT48L2xpPidcbiAgICApXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5jb2M3LW1lbnUuY29jNy1kaWNlLXJvbGwnKVxuICAgICAgLmNsaWNrKGV2ZW50ID0+IENvQzdVdGlsaXRpZXMucm9sbERpY2UoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuY29jNy1tZW51LmNvYzctY3JlYXRlLWxpbmsnKVxuICAgICAgLmNsaWNrKGV2ZW50ID0+IENvQzdDb250ZW50TGlua0RpYWxvZy5jcmVhdGUoZXZlbnQpKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4vY29jNy1saW5rLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NhbnZhcyB7XG4gIHN0YXRpYyBnZXQgQ09DN19UWVBFU19TVVBQT1JURUQgKCkge1xuICAgIHJldHVybiBbJ0NvQzdMaW5rJywgJ2xvY2F0b3InLCAnZ2V0VG9rZW4nXVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIG9uRHJvcFNvbWV0aGluZyAoY2FudmFzLCBkYXRhKSB7XG4gICAgaWYgKFxuICAgICAgZGF0YS50eXBlICYmXG4gICAgICBDb0M3Q2FudmFzLkNPQzdfVFlQRVNfU1VQUE9SVEVELmluY2x1ZGVzKGRhdGEudHlwZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IGdyaWRTaXplID0gY2FudmFzLnNjZW5lLmdyaWQuc2l6ZVxuICAgICAgY29uc3QgeCA9IGRhdGEueCAtIGdyaWRTaXplIC8gMlxuICAgICAgY29uc3QgeSA9IGRhdGEueSAtIGdyaWRTaXplIC8gMlxuICAgICAgY29uc3QgaGVpZ2h0ID0gZ3JpZFNpemVcbiAgICAgIGNvbnN0IHdpZHRoID0gZ3JpZFNpemVcbiAgICAgIGxldCBkcm9wVGFyZ2V0VG9rZW5zID0gY2FudmFzLnRva2Vucy5wbGFjZWFibGVzLmZpbHRlcihvYmogPT4ge1xuICAgICAgICBjb25zdCBjID0gb2JqLmNlbnRlclxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIE51bWJlci5iZXR3ZWVuKGMueCwgeCwgeCArIHdpZHRoKSAmJlxuICAgICAgICAgIE51bWJlci5iZXR3ZWVuKGMueSwgeSwgeSArIGhlaWdodClcbiAgICAgICAgKVxuICAgICAgfSkgLy8gRmluZCBkcm9wIHRhcmdldC5cbiAgICAgIGlmICghZHJvcFRhcmdldFRva2Vucy5sZW5ndGgpIGRyb3BUYXJnZXRUb2tlbnMgPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQgLy8gSWYgbm8gdGFyZ2V0IHdoaXNwZXIgdG8gc2VsZWN0ZWQgdG9rZW5cbiAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ0NvQzdMaW5rJzpcbiAgICAgICAgICBpZiAoZGF0YS5jaGVjayA9PT0gQ29DN0xpbmsuQ0hFQ0tfVFlQRS5FRkZFQ1QpIHtcbiAgICAgICAgICAgIGlmIChkcm9wVGFyZ2V0VG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGRyb3BUYXJnZXRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayh0b2tlbi5hY3RvciwgZGF0YSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQXBwbHkgdG8gZXZlcnlvbmUgPyBvciBvbmx5IHBsYXllcnMgPyBvciBub2JvZHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGRyb3BUYXJnZXRUb2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBDb0M3TGluay50b1doaXNwZXJNZXNzYWdlKGRhdGEsIGRyb3BUYXJnZXRUb2tlbnMuZmlsdGVyKHQgPT4gdC5hY3Rvci5vd25lcnMubGVuZ3RoKS5tYXAodCA9PiB0LmFjdG9yKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQ29DN0xpbmsudG9XaGlzcGVyTWVzc2FnZShkYXRhLCBnYW1lLnVzZXJzLnBsYXllcnMuZmlsdGVyKHUgPT4gISF1LmNoYXJhY3RlcikubWFwKHUgPT4gdS5jaGFyYWN0ZXIpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdnZXRUb2tlbic6XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmFwcElkICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGF0YS5jYWxsQmFjayA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHVpLndpbmRvd3NbZGF0YS5hcHBJZF0gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB1aS53aW5kb3dzW2RhdGEuYXBwSWRdW2RhdGEuY2FsbEJhY2tdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB1aS53aW5kb3dzW2RhdGEuYXBwSWRdW2RhdGEuY2FsbEJhY2tdKGRyb3BUYXJnZXRUb2tlbnMpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgLy8gSGFuZGxlcyBnZW5lcmljIGNhbnZhIGRyb3AuXG4gICAgICAgIC8vIGRhdGFUcmFuc2ZlciBtdXN0IGluY2x1ZGUgOlxuICAgICAgICAvLyAtIGRvY1V1aWQgOiB0aGUgVXVpZCBvZiB0aGUgZG9jdW1lbnQgdG8gY2FsbFxuICAgICAgICAvLyAtIGNhbGxCYWNrIDogdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwgaW4gdGhlIGRvY3VtZW50LlxuICAgICAgICAvLyBVc2VkIHRvIHNlbGVjdCBsb2NhdGlvbiBmb3IgY2hhc2VcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoZGF0YS5kb2NVdWlkICYmIGRhdGEuY2FsbEJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IENvQzdVdGlsaXRpZXMuU2Zyb21VdWlkKGRhdGEuZG9jVXVpZClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZG9jW2RhdGEuY2FsbEJhY2tdICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBkb2NbZGF0YS5jYWxsQmFja10gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGEuc2NlbmUgPSBjYW52YXMuc2NlbmUudXVpZFxuICAgICAgICAgICAgICAgIGRvY1tkYXRhLmNhbGxCYWNrXShkYXRhKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ09ORklHLCBEaWFsb2csIGdhbWUsIFNldHRpbmdzICovXG5leHBvcnQgY2xhc3MgQ29DN1NldHRpbmdzRGlyZWN0b3J5IGV4dGVuZHMgU2V0dGluZ3Mge1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcjc2V0dGluZ3MtZ2FtZScpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJ0cmlnZ2VyLWRhdGEtbWlncmF0aW9uXCI+PGkgY2xhc3M9XCJmYXMgZmEtd3JlbmNoXCI+PC9pPiAnICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NaWdyYXRlLlRyaWdnZXJCdXR0b24nKSArXG4gICAgICAgICAgICAnPC9idXR0b24+J1xuICAgICAgICApXG4gICAgICBodG1sLmZpbmQoJyNzZXR0aW5ncy1kb2N1bWVudGF0aW9uJylcbiAgICAgICAgLmFwcGVuZCgnPGJ1dHRvbiBjbGFzcz1cInRyaWdnZXItc3lzdGVtLW1hbnVhbFwiPjxpIGNsYXNzPVwiZmFzIGZhLWJvb2tzXCI+PC9pPiAnICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlN5c3RlbS5Eb2N1bWVudGF0aW9uJykgK1xuICAgICAgICAnPC9idXR0b24+JylcbiAgICAgIGh0bWwuZmluZCgnLnRyaWdnZXItZGF0YS1taWdyYXRpb24nKS5jbGljaygoKSA9PiB7XG4gICAgICAgIG5ldyBEaWFsb2coXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NaWdyYXRlLlRyaWdnZXJUaXRsZScpLFxuICAgICAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVHJpZ2dlckNvbnRlbnRzJyksXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgIG1pZ3JhdGU6IHtcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVHJpZ2dlclJlc3RhcnQnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlVmVyc2lvbicsIDApXG4gICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNsb3NlOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWJhblwiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NhbmNlbCcpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmYXVsdDogJ2Nsb3NlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge31cbiAgICAgICAgKS5yZW5kZXIodHJ1ZSlcbiAgICAgIH0pXG4gICAgICBodG1sLmZpbmQoJy50cmlnZ2VyLXN5c3RlbS1tYW51YWwnKS5jbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgIChhd2FpdCBnYW1lLnBhY2tzLmdldCgnQ29DNy5zeXN0ZW0tZG9jJykuZ2V0RG9jdW1lbnQoQ09ORklHLkNvQzcuTWFudWFsKSk/LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBDb21wZW5kaXVtRGlyZWN0b3J5LCBEaWFsb2csIGdhbWUgKi9cbmV4cG9ydCBjbGFzcyBDb0M3Q29tcGVuZGl1bURpcmVjdG9yeSBleHRlbmRzIENvbXBlbmRpdW1EaXJlY3Rvcnkge1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgbGV0IHRyYW5zbGF0ZWQgPSBmYWxzZVxuICAgIGlmIChnYW1lLmkxOG4ubGFuZyA9PT0gJ2VuJykge1xuICAgICAgdHJhbnNsYXRlZCA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBnYW1lLmJhYmVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgdiBvZiBPYmplY3QudmFsdWVzKGdhbWUuYmFiZWxlLm1vZHVsZXMpKSB7XG4gICAgICAgIGlmICh2LmxhbmcgPT09IGdhbWUuaTE4bi5sYW5nKSB7XG4gICAgICAgICAgdHJhbnNsYXRlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRyYW5zbGF0ZWQpIHtcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJ2Zvb3Rlci5kaXJlY3RvcnktZm9vdGVyJylcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAnPGEgY2xhc3M9XCJjb21wZW5kaXVtLXRyYW5zbGF0aW9uXCIgdGl0bGU9XCInICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZVRpdGxlJykgK1xuICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlVGl0bGUnKSArXG4gICAgICAgICAgICAnPC9hPidcbiAgICAgICAgKVxuICAgICAgaHRtbC5maW5kKCcuY29tcGVuZGl1bS10cmFuc2xhdGlvbicpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9XG4gICAgICAgICAgJzxwPicgK1xuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZVdhcm5pbmcnKSArXG4gICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlSW5zdGFsbEJhYmVsZScpICtcbiAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSG93VG9UcmFuc2xhdGVJbnN0YWxsVHJhbnNsYXRpb24nKSArXG4gICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlRW5hYmxlVHJhbnNsYXRpb24nKSArXG4gICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlTm9UcmFuc2xhdGlvbicpICtcbiAgICAgICAgICAnPC9wPidcbiAgICAgICAgbmV3IERpYWxvZyhcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlVGl0bGUnKSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjbG9zZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHt9XG4gICAgICAgICkucmVuZGVyKHRydWUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIEFjdG9yRGlyZWN0b3J5LCBDT05TVCwgZ2FtZSAqL1xuaW1wb3J0IHsgQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2cgfSBmcm9tICcuL2FwcHMvYWN0b3ItaW1wb3J0ZXItZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0ludmVzdGlnYXRvcldpemFyZCB9IGZyb20gJy4vYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0FjdG9yRGlyZWN0b3J5IGV4dGVuZHMgQWN0b3JEaXJlY3Rvcnkge1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICAvLyBBbGxvdyBJbnZlc3RpZ2F0b3IgV2l6YXJkXG4gICAgLy8gICogSWYgdGhlIHVzZXIgcm9sZSBpcyBhbGxvd2VkIHRvIGNyZWF0ZSBhY3RvcnNcbiAgICAvLyAgKiBJZiB0aGUgdXNlciBoYXMgbGVzcyBvd25lZCBhY3RvcnMgdGhhbiBhbGxvd2VkIGluIHNldHRpbmdzXG4gICAgbGV0IGFsbG93V2l6YXJkID0gZ2FtZS51c2VyLnJvbGUgPj0gQ09OU1QuVVNFUl9QRVJNSVNTSU9OUy5BQ1RPUl9DUkVBVEUuZGVmYXVsdFJvbGVcbiAgICBpZiAoIWFsbG93V2l6YXJkKSB7XG4gICAgICBjb25zdCBhbGxvd2VkID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVhbnRpdHknKVxuICAgICAgaWYgKGFsbG93ZWQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gZ2FtZS5hY3RvcnMuZmlsdGVyKGEgPT4gW2Eub3duZXJzaGlwLmRlZmF1bHQsIChhLm93bmVyc2hpcFtnYW1lLnVzZXIuaWRdID8/IENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTk9ORSldLmluY2x1ZGVzKENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuT1dORVIpKS5sZW5ndGhcbiAgICAgICAgYWxsb3dXaXphcmQgPSBleGlzdGluZyA8IGFsbG93ZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWxsb3dXaXphcmQpIHtcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJ2Zvb3Rlci5kaXJlY3RvcnktZm9vdGVyJylcbiAgICAgICAgLmFwcGVuZCgnPGEgY2xhc3M9XCJpbnZlc3RpZ2F0b3Itd2l6YXJkXCI+JyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbnZlc3RpZ2F0b3JXaXphcmQuVGl0bGUnKSArICc8L2E+JylcbiAgICAgIGh0bWwuZmluZCgnLmludmVzdGlnYXRvci13aXphcmQnKS5jbGljaygoKSA9PiB7XG4gICAgICAgIENvQzdJbnZlc3RpZ2F0b3JXaXphcmQuY3JlYXRlKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGdhbWUudXNlci5yb2xlID49IENPTlNULlVTRVJfUEVSTUlTU0lPTlMuQUNUT1JfQ1JFQVRFLmRlZmF1bHRSb2xlKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCdmb290ZXIuZGlyZWN0b3J5LWZvb3RlcicpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgJzxhIGNsYXNzPVwiYWN0b3ItaW1wb3J0XCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0b3JJbXBvcnRlcicpICtcbiAgICAgICAgICAgICc8L2E+J1xuICAgICAgICApXG4gICAgICBodG1sLmZpbmQoJy5hY3Rvci1pbXBvcnQnKS5jbGljaygoKSA9PiB7XG4gICAgICAgIENvQzdBY3RvckltcG9ydGVyRGlhbG9nLmNyZWF0ZSgpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmV4cG9ydCBjbGFzcyBDb0M3RGVjYWRlckRTTkZhY2VzIHtcbiAgY29uc3RydXRvciAoKSB7XG4gICAgdGhpcy5zZWxlY3RlZCA9ICcnXG4gIH1cblxuICBzZXRGYWNlcyAoKSB7XG4gICAgbGV0IHNlbGVjdGVkID0gZ2FtZS51c2VyLmdldEZsYWcoJ2RpY2Utc28tbmljZScsICdhcHBlYXJhbmNlJyk/Lmdsb2JhbFxuICAgICAgLnN5c3RlbVxuICAgIGlmIChzZWxlY3RlZCAhPT0gdGhpcy5zZWxlY3RlZCkge1xuICAgICAgbGV0IGRhdGFcbiAgICAgIGxldCBkZXN0aW5hdGlvblxuICAgICAgbGV0IHNvdXJjZURpZSA9IGdhbWUuZGljZTNkLkRpY2VGYWN0b3J5LnN5c3RlbXNbc2VsZWN0ZWRdPy5kaWNlLmZpbmQoXG4gICAgICAgIGQgPT4gZC50eXBlID09PSAnZDEwMCdcbiAgICAgIClcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlRGllID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VyY2VEaWUgPSBnYW1lLmRpY2UzZC5EaWNlRmFjdG9yeS5zeXN0ZW1zLnN0YW5kYXJkLmRpY2UuZmluZChcbiAgICAgICAgICBkID0+IGQudHlwZSA9PT0gJ2QxMDAnXG4gICAgICAgIClcbiAgICAgICAgc2VsZWN0ZWQgPSAnc3RhbmRhcmQnXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHNvdXJjZURpZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBnYW1lLmRpY2UzZC5EaWNlRmFjdG9yeS5zeXN0ZW1zLnN0YW5kYXJkLmRpY2UuZmluZEluZGV4KFxuICAgICAgICAgIGQgPT4gZC50eXBlID09PSAnZHQnXG4gICAgICAgIClcbiAgICAgICAgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHNvdXJjZURpZSlcbiAgICAgICAgZGF0YS50eXBlID0gJ2R0J1xuICAgICAgICBnYW1lLmRpY2UzZC5EaWNlRmFjdG9yeS5zeXN0ZW1zLnN0YW5kYXJkLmRpY2VbZGVzdGluYXRpb25dID1cbiAgICAgICAgICBPYmplY3QuYXNzaWduKHNvdXJjZURpZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRhdGEpXG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWRcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBDaGF0TWVzc2FnZSwgRGlhbG9nLCBnYW1lLCBtZXJnZU9iamVjdCwgUm9sbCwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtLmpzJ1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3U3BlbGwgZXh0ZW5kcyBDb0M3SXRlbSB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvcGVudGFncmFtLXJvc2Uuc3ZnJ1xuICAgIH1cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgfVxuXG4gIGFzeW5jIGNhc3QgKCkge1xuICAgIGlmICghdGhpcy5pc093bmVkKSB7XG4gICAgICAvKiogVGhpcyBpcyBub3Qgb3duZWQgYnkgYW55IEFjdG9yICovXG4gICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90T3duZWQnKSlcbiAgICB9XG4gICAgY29uc3QgY29zdHMgPSB0aGlzLnN5c3RlbS5jb3N0c1xuICAgIGNvbnN0IGxvc3NlcyA9IFtdXG4gICAgbGV0IGNvbnZlcnRTdXJwbHVzSW50b0hpdFBvaW50c1xuICAgIGNvc3RzLm1hZ2ljUG9pbnRzID0gQ29DN1V0aWxpdGllcy5pc0Zvcm11bGEoY29zdHMubWFnaWNQb2ludHMpXG4gICAgICA/IChhd2FpdCBuZXcgUm9sbChjb3N0cy5tYWdpY1BvaW50cykucm9sbCh7IGFzeW5jOiB0cnVlIH0pKS50b3RhbFxuICAgICAgOiBwYXJzZUludChjb3N0cy5tYWdpY1BvaW50cylcbiAgICBpZiAoXG4gICAgICBjb3N0cy5tYWdpY1BvaW50cyAmJlxuICAgICAgY29zdHMubWFnaWNQb2ludHMgPiB0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlXG4gICAgKSB7XG4gICAgICBjb252ZXJ0U3VycGx1c0ludG9IaXRQb2ludHMgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgY29udmVydGVkSGl0UG9pbnRzID1cbiAgICAgICAgICBjb3N0cy5tYWdpY1BvaW50cyAtIHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWVcbiAgICAgICAgY29uc3QgY29udmVydGVkTWFnaWNQb2ludHMgPSBjb3N0cy5tYWdpY1BvaW50cyAtIGNvbnZlcnRlZEhpdFBvaW50c1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAnICcsXG4gICAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ob3RFbm91Z2hNYWdpY1BvaW50cycsIHtcbiAgICAgICAgICAgIGFjdG9yTWFnaWNQb2ludHM6IHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUsXG4gICAgICAgICAgICBjb252ZXJ0ZWRIaXRQb2ludHMsXG4gICAgICAgICAgICBjb252ZXJ0ZWRNYWdpY1BvaW50cyxcbiAgICAgICAgICAgIG9yaWdpbmFsTWFnaWNQb2ludHM6IGNvc3RzLm1hZ2ljUG9pbnRzLFxuICAgICAgICAgICAgc3BlbGw6IHRoaXMubmFtZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+JyxcbiAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DYW5jZWwnKSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NlZWQ6IHtcbiAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicsXG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHJvY2VlZCcpLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvc3RzLmhpdFBvaW50cyA9IGNvbnZlcnRlZEhpdFBvaW50c1xuICAgICAgICAgICAgICAgIGNvc3RzLm1hZ2ljUG9pbnRzID0gY29udmVydGVkTWFnaWNQb2ludHNcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWZhdWx0OiAnY2FuY2VsJyxcbiAgICAgICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJ11cbiAgICAgICAgfVxuICAgICAgICBuZXcgRGlhbG9nKGRhdGEpLnJlbmRlcih0cnVlKVxuICAgICAgfSlcbiAgICAgIGlmICghY29udmVydFN1cnBsdXNJbnRvSGl0UG9pbnRzKSByZXR1cm5cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29zdHMpKSB7XG4gICAgICBpZiAoIXZhbHVlIHx8IE51bWJlcih2YWx1ZSkgPT09IDApIGNvbnRpbnVlXG4gICAgICBsb3NzZXMucHVzaChhd2FpdCB0aGlzLnJlc29sdmVMb3NzZXMoa2V5LCB2YWx1ZSkpXG4gICAgfVxuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvc3BlbGwvY2hhdC5odG1sJ1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWVcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHsgZGVzY3JpcHRpb24sIGxvc3NlcyB9KVxuICAgIHJldHVybiBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiB0aGlzLm5hbWUsXG4gICAgICBjb250ZW50OiBodG1sXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHJlc29sdmVMb3NzZXMgKGNoYXJhY3RlcmlzdGljLCB2YWx1ZSkge1xuICAgIGxldCBjaGFyYWN0ZXJpc3RpY05hbWVcbiAgICBsZXQgbG9zc1xuICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRm9ybXVsYSh2YWx1ZSkpIHtcbiAgICAgIGxvc3MgPSAoYXdhaXQgbmV3IFJvbGwodmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICB9IGVsc2Uge1xuICAgICAgbG9zcyA9IHBhcnNlSW50KHZhbHVlKVxuICAgIH1cbiAgICBjb25zdCBhY3RvckRhdGEgPSB0aGlzLmFjdG9yLnN5c3RlbVxuICAgIHN3aXRjaCAoY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgIGNhc2UgJ2hpdFBvaW50cyc6XG4gICAgICAgIGNoYXJhY3RlcmlzdGljTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IaXRQb2ludHMnKVxuICAgICAgICB0aGlzLmFjdG9yLmRlYWxEYW1hZ2UobG9zcywgeyBpZ25vcmVBcm1vcjogdHJ1ZSB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2FuaXR5JzpcbiAgICAgICAgY2hhcmFjdGVyaXN0aWNOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbml0eVBvaW50cycpXG4gICAgICAgIHRoaXMuZ3JhbnRTYW5pdHlMb3NzKGxvc3MpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtYWdpY1BvaW50cyc6XG4gICAgICAgIGNoYXJhY3RlcmlzdGljTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NYWdpY1BvaW50cycpXG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0TXAoYWN0b3JEYXRhLmF0dHJpYnMubXAudmFsdWUgLSBsb3NzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncG93ZXInOlxuICAgICAgICBjaGFyYWN0ZXJpc3RpY05hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5Qb3dlcicpXG4gICAgICAgIHRoaXMuYWN0b3IudXBkYXRlKHtcbiAgICAgICAgICAnc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUnOlxuICAgICAgICAgICAgYWN0b3JEYXRhLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUgLSBsb3NzXG4gICAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB7IGNoYXJhY3RlcmlzdGljTmFtZSwgbG9zcyB9XG4gIH1cblxuICAvKiogQnlwYXNzIHRoZSBTYW5pdHkgY2hlY2sgYW5kIGp1c3Qgcm9sbCB0aGUgZGFtYWdlICovXG4gIGFzeW5jIGdyYW50U2FuaXR5TG9zcyAodmFsdWUpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZVxuICAgIGxldCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHt9KVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNhc3RpbmdTcGVsbCcsIHtcbiAgICAgICAgc3BlbGw6IHRoaXMubmFtZVxuICAgICAgfSksXG4gICAgICBjb250ZW50OiBodG1sXG4gICAgfSlcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgbWVzc2FnZS5nZXRIVE1MKClcbiAgICBpZiAodHlwZW9mIGNhcmQubGVuZ3RoICE9PSAndW5kZWZpbmVkJyAmJiBjYXJkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3Qgc2FuaXR5TG9zcyA9IHZhbHVlXG4gICAgICBodG1sID0gY2FyZC5maW5kKCcuY2hhdC1jYXJkJylbMF1cbiAgICAgIGh0bWwuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhY3RvcktleTogdGhpcy5hY3Rvci5pZCxcbiAgICAgICAgICBmYXN0Rm9yd2FyZDogZmFsc2UsXG4gICAgICAgICAgc2FuRGF0YToge1xuICAgICAgICAgICAgc2FuTWluOiBzYW5pdHlMb3NzLFxuICAgICAgICAgICAgc2FuTWF4OiBzYW5pdHlMb3NzXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgY29uc3Qgc2FuaXR5Q2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoaHRtbClcbiAgICAgIGF3YWl0IHNhbml0eUNoZWNrLmJ5cGFzc1JvbGxTYW4oKVxuICAgICAgYXdhaXQgc2FuaXR5Q2hlY2sucm9sbFNhbkxvc3MoKVxuICAgICAgc2FuaXR5Q2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSAoZGF0YSwgY29udGV4dCkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLmNvbnRleHQucGFyZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIHRoaXMuY29udGV4dC5ib29rSWQgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBsZXQgaXRlbVxuICAgICAgbGV0IGJvb2tcbiAgICAgIC8vIGxldCBzcGVsbERhdGFcbiAgICAgIGlmICh0aGlzLmNvbnRleHQucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGl0ZW0gPSBnYW1lLml0ZW1zLmdldCh0aGlzLmNvbnRleHQuYm9va0lkKVxuICAgICAgICBib29rID0gaXRlbS50b09iamVjdCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib29rID0gdGhpcy5jb250ZXh0LnBhcmVudC5pdGVtcy5nZXQodGhpcy5jb250ZXh0LmJvb2tJZCkudG9PYmplY3QoKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDAsIGltID0gYm9vay5zeXN0ZW0uc3BlbGxzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgaWYgKGJvb2suc3lzdGVtLnNwZWxsc1tpXS5faWQgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgICBib29rLnN5c3RlbS5zcGVsbHNbaV0gPSBtZXJnZU9iamVjdChib29rLnN5c3RlbS5zcGVsbHNbaV0sIGRhdGEpXG4gICAgICAgICAgLy8gc3BlbGxEYXRhID0gYm9vay5zeXN0ZW0uc3BlbGxzW2ldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbnRleHQucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAnc3lzdGVtLnNwZWxscyc6IGJvb2suc3lzdGVtLnNwZWxsc1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLnNoZWV0Lm9iamVjdCA9IG5ldyBDb0M3U3BlbGwoXG4gICAgICAgICAgYm9vay5zeXN0ZW0uc3BlbGxzLmZpbmQoc3BlbGwgPT4gc3BlbGwuX2lkID09PSB0aGlzLmlkKSxcbiAgICAgICAgICB0aGlzLmNvbnRleHRcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb250ZXh0LnBhcmVudC51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtib29rXSlcbiAgICAgICAgdGhpcy5zaGVldC5vYmplY3QgPSBuZXcgQ29DN1NwZWxsKFxuICAgICAgICAgIGJvb2suc3lzdGVtLnNwZWxscy5maW5kKHNwZWxsID0+IHNwZWxsLl9pZCA9PT0gdGhpcy5pZCksXG4gICAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHRoaXMuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHN1cGVyLnVwZGF0ZShkYXRhLCBjb250ZXh0KVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIENoYXRNZXNzYWdlLCBkdXBsaWNhdGUsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCBSb2xsLCB1aSAqL1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IENvQzdTcGVsbCB9IGZyb20gJy4uL3NwZWxsL2RhdGEuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Qm9vayBleHRlbmRzIENvQzdJdGVtIHtcbiAgY29uc3RydWN0b3IgKGRhdGEsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9zZWNyZXQtYm9vay5zdmcnXG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gIH1cblxuICAvKiogQ29udmVydCB0aGUgZGlmZmljdWx0eSBvbiB0aGUgc2VsZWN0IGVsZW1lbnQgdG8gYSBmb3JtYXQgYWNjZXB0ZWQgKi9cbiAgc3RhdGljIGNvbnZlcnREaWZmaWN1bHR5IChkaWZmaWN1bHR5KSB7XG4gICAgc3dpdGNoIChkaWZmaWN1bHR5KSB7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZFxuICAgICAgY2FzZSAnZXh0cmVtZSc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWVcbiAgICAgIGNhc2UgJ2NyaXRpY2FsJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWxcbiAgICAgIGNhc2UgJ3VucmVhZGFibGUnOlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5pbXBvc3NpYmxlXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvciB0aGUgZnV0dXJlOiBhZGQgYWR2YW5jZWQgcnVsZXMgZm9yIGxlYXJuaW5nIHNwZWxscywgcGcuIDE3NlxuICAgKiBAcGFyYW0gW3tEb2N1bWVudH1dIHNwZWxsc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEb2N1bWVudD59IHVwZGF0ZSB0byBJdGVtIGRvY3VtZW50XG4gICAqL1xuICBhc3luYyBhZGRTcGVsbHMgKHNwZWxscykge1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLnN5c3RlbS5zcGVsbHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuc3lzdGVtLnNwZWxscylcbiAgICAgIDogW11cbiAgICBmb3IgKGNvbnN0IHNwZWxsIG9mIHNwZWxscykge1xuICAgICAgY29sbGVjdGlvbi5wdXNoKHNwZWxsKVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLnNwZWxscyc6IGNvbGxlY3Rpb24gfSlcbiAgfVxuXG4gIGFzeW5jIHNwZWxsRGV0YWlsIChpbmRleCkge1xuICAgIGNvbnN0IGlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBjb25zdCBkYXRhID0gdGhpcy5zeXN0ZW0uc3BlbGxzW2luZGV4XVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuYWN0b3IgPyB0aGlzLmFjdG9yIDogbnVsbFxuICAgIGNvbnN0IHNwZWxsID0gbmV3IENvQzdTcGVsbChkYXRhLCB7IHBhcmVudCwgYm9va0lkOiB0aGlzLmlkIH0pXG4gICAgaWYgKGlzS2VlcGVyIHx8IHNwZWxsLnN5c3RlbS5sZWFybmVkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3BlbGwuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIHRoZSBsb2dpYyBpbnZvbHZpbmcgdGhlIGF0dGVtcHQgb2YgaW5pdGlhbCByZWFkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBAc2VlIGxpc3RlbiBAc2VlIGdyYW50SW5pdGlhbFJlYWRpbmdcbiAgICovXG4gIGFzeW5jIGF0dGVtcHRJbml0aWFsUmVhZGluZyAoKSB7XG4gICAgLyoqIENvbnZlcnRzIHRoZSBkaWZmaWN1bHR5IHZhbHVlIHRvIHNvbWV0aGluZyBhY2NlcHRlZCBieSBDb0M3Q2hlY2sgKi9cbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gQ29DN0Jvb2suY29udmVydERpZmZpY3VsdHkoXG4gICAgICB0aGlzLnN5c3RlbS5kaWZmaWN1bHR5TGV2ZWxcbiAgICApXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLnN5c3RlbS5sYW5ndWFnZVxuICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvcj8uZ2V0U2tpbGxzQnlOYW1lKGxhbmd1YWdlKVxuICAgIGlmICghc2tpbGwpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH0gZWxzZSBpZiAoc2tpbGwubGVuZ3RoID09PSAwKSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBBY3RvciB3aG8gb3ducyB0aGlzIGRvZXMgbm90IGhhdmUgdGhlIHNraWxsIG9mXG4gICAgICAgKiB0aGUgbGFuZ3VhZ2UgaW4gd2hpY2ggaXQgd2FzIHdyaXR0ZW5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVW5rbm93bkxhbmd1YWdlJywgeyBhY3RvcjogdGhpcy5hY3Rvci5uYW1lIH0pXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIGNoZWNrLnNraWxsID0gc2tpbGxbMF0uaWRcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgICBjaGVjay5wYXJlbnQgPSB0aGlzLnV1aWRcbiAgICAgIGNoZWNrLmNvbnRleHQgPSAnSU5JVElBTF9SRUFESU5HJ1xuICAgICAgY2hlY2suZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZWFkQXR0ZW1wdCcsIHtcbiAgICAgICAgYm9vazogdGhpcy5uYW1lLFxuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgZGlmZmljdWx0eTogdGhpcy5zeXN0ZW0uZGlmZmljdWx0eUxldmVsXG4gICAgICB9KVxuICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICByZXR1cm4gYXdhaXQgY2hlY2sudG9NZXNzYWdlKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRzIGlzIGNhbGxlZCBldmVyeSB0aW1lIHRoZSB1c2VyIGludGVyYWN0cyBpbiBzb21lIHdheSB3aXRoIHByb2dyZXNzIGJhclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAncmVzZXQnIHx8ICdpbmNyZWFzZScgfHwgJ2RlY3JlYXNlJ1xuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUganVzdCBzbyB0aGF0IHByb2dyZXNzIGlzIG5vdCBncmVhdGVyIHRoYW4gbmVjZXNzYXJ5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIGNoYW5nZVByb2dyZXNzIChtb2RlLCB2YWx1ZSkge1xuICAgIGlmICghdGhpcy5pc093bmVkICYmIG1vZGUgIT09ICdyZXNldCcpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nICYmIG1vZGUgIT09ICdyZXNldCcpIHtcbiAgICAgIC8qKiBBY3RvciBkaWQgbm90IHBlcmZvcm1lZCBhbiBpbml0aWFsIHJlYWRpbmcgZmlyc3QgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluaXRpYWxSZWFkaW5nTmVlZGVkJywge1xuICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgICAgYm9vazogdGhpcy5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIGlmICghdGhpcy5zeXN0ZW0udHlwZS5teXRob3MgJiYgbW9kZSAhPT0gJ3Jlc2V0Jykge1xuICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vdE15dGhvc1RvbWUnKSlcbiAgICB9XG4gICAgY29uc3QgbmVjZXNzYXJ5ID0gdGhpcy5zeXN0ZW0uc3R1ZHkubmVjZXNzYXJ5XG4gICAgbGV0IGZ1bGxTdHVkeSA9IHRoaXMuc3lzdGVtLmZ1bGxTdHVkeVxuICAgIGxldCBwcm9ncmVzcyA9IHRoaXMuc3lzdGVtLnN0dWR5LnByb2dyZXNzXG4gICAgaWYgKGlzTmFOKHByb2dyZXNzKSkge1xuICAgICAgLyoqIEl0IHNlZW1zIGEgbGl0dGxlIGltcG9zc2libGUsIGJ1dCB5b3UgbmV2ZXIga25vdyAqL1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IDBcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh2YWx1ZSAmJiBwcm9ncmVzcyA+IHZhbHVlKSB7XG4gICAgICAvKipcbiAgICAgICAqIFByb2dyZXNzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZSBlbnRlcmVkIGJ5IHVzZXIgYXMgbmVjZXNzYXJ5LFxuICAgICAgICogcmVzZXQgcHJvZ3Jlc3MgdG8gYmUgZXF1YWwgbmVjZXNzYXJ5IGFuZCBjb21wbGV0ZSBmdWxsIHN0dWR5XG4gICAgICAgKi9cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5mdWxsU3R1ZHknOiArK2Z1bGxTdHVkeSxcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IHZhbHVlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tcGxldGVGdWxsU3R1ZHkoKVxuICAgIH1cbiAgICBpZiAobW9kZSA9PT0gJ2luY3JlYXNlJyAmJiBwcm9ncmVzcyA8IG5lY2Vzc2FyeSkge1xuICAgICAgLyoqIFVzZXIgY2xpY2tlZCBvbiBwbHVzIGljb24gdG8gaW5jcmVhc2UgcHJvZ3Jlc3MgKi9cbiAgICAgIGlmICgoYXdhaXQgdGhpcy5jaGVja0V4aGF1c3Rpb24oKSkgIT09IGZhbHNlKSByZXR1cm5cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6ICsrcHJvZ3Jlc3NcbiAgICAgIH0pXG4gICAgICBpZiAocHJvZ3Jlc3MgPT09IG5lY2Vzc2FyeSkge1xuICAgICAgICAvKiogQ29tcGxldGUgZnVsbCBzdHVkeSBpZiBwcm9ncmVzcyBpcyBlcXVhbCBuZWNlc3NhcnkgKi9cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZ1bGxTdHVkeSc6ICsrZnVsbFN0dWR5IH0pXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdyYW50RnVsbFN0dWR5KClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdkZWNyZWFzZScgJiYgcHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAvKiogVXNlciBjbGlja2VkIG9uIG1pbnVzIGljb24gdG8gZGVjcmVhc2UgcHJvZ3Jlc3MgKi9cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uc3R1ZHkucHJvZ3Jlc3MnOiAtLXByb2dyZXNzXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNoZWNrRXhoYXVzdGlvbiAoKSB7XG4gICAgY29uc3QgYWN0b3JNeXRob3NWYWx1ZSA9IHRoaXMuYWN0b3I/LmN0aHVsaHVNeXRob3NcbiAgICBjb25zdCBteXRob3NSYXRpbmcgPSB0aGlzLnN5c3RlbS5teXRob3NSYXRpbmdcbiAgICBpZiAodGhpcy5zeXN0ZW0uaW5pdGlhbFJlYWRpbmcpIHtcbiAgICAgIGlmIChhY3Rvck15dGhvc1ZhbHVlID49IG15dGhvc1JhdGluZykge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IHRoaXMuc3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQm9va0hhc05vdGhpbmdNb3JlVG9UZWFjaCcsIHtcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ3JhbnRGdWxsU3R1ZHkgKCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0udHlwZS5teXRob3MpIHJldHVyblxuICAgIGlmICgoYXdhaXQgdGhpcy5jaGVja0V4aGF1c3Rpb24oKSkgIT09IGZhbHNlKSByZXR1cm5cbiAgICBjb25zdCBhY3Rvck15dGhvc1ZhbHVlID0gdGhpcy5hY3Rvci5jdGh1bGh1TXl0aG9zXG4gICAgY29uc3QgZGV2ZWxvcG1lbnRzID0gW11cbiAgICBjb25zdCBteXRob3NSYXRpbmcgPSB0aGlzLnN5c3RlbS5teXRob3NSYXRpbmdcbiAgICBsZXQgbXl0aG9zRmluYWwgPSB0aGlzLnN5c3RlbS5nYWlucy5jdGh1bGh1TXl0aG9zLmZpbmFsXG4gICAgaWYgKGFjdG9yTXl0aG9zVmFsdWUgKyBteXRob3NGaW5hbCA+IG15dGhvc1JhdGluZykge1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8PSBteXRob3NGaW5hbDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoYWN0b3JNeXRob3NWYWx1ZSArIG15dGhvc0ZpbmFsIC0gaW5kZXggPD0gbXl0aG9zUmF0aW5nKSB7XG4gICAgICAgICAgbXl0aG9zRmluYWwgLT0gaW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVhZGVyIGF1dG9tYXRpY2FsbHkgZ2FpbnMgYSBza2lsbCB0aWNrIGZvciB0aGVcbiAgICAgKiBsYW5ndWFnZSBpbiB3aGljaCB0aGUgYm9vayBpcyB3cml0dGVuXG4gICAgICovXG4gICAgZGV2ZWxvcG1lbnRzLnB1c2goXG4gICAgICB7XG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmN0aHVsaHUtbXl0aG9zJyksXG4gICAgICAgIGdhaW46IHBhcnNlSW50KG15dGhvc0ZpbmFsKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdGhpcy5zeXN0ZW0ubGFuZ3VhZ2UsXG4gICAgICAgIGdhaW46ICdkZXZlbG9wbWVudCdcbiAgICAgIH1cbiAgICApXG4gICAgYXdhaXQgdGhpcy5ncmFudFNraWxsRGV2ZWxvcG1lbnQoZGV2ZWxvcG1lbnRzKVxuICAgIGF3YWl0IHRoaXMucm9sbFNhbml0eUxvc3MoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAnc3lzdGVtLmZ1bGxTdHVkaWVzJzogKyt0aGlzLnN5c3RlbS5mdWxsU3R1ZGllc1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgZ3JhbnRJbml0aWFsUmVhZGluZyAoKSB7XG4gICAgLyoqIElmIGluaXRpYWwgcmVhZGluZyBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdGhlcmUgaXMgbm90aGluZyB0byBkbyBoZXJlICovXG4gICAgaWYgKHRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nKSByZXR1cm5cbiAgICBjb25zdCBkZXZlbG9wbWVudHMgPSBbXVxuICAgIGNvbnN0IG15dGhvcyA9IHtcbiAgICAgIGdhaW5zOiB0aGlzLnN5c3RlbS5nYWlucy5jdGh1bGh1TXl0aG9zLmluaXRpYWwsXG4gICAgICB0eXBlOiB0aGlzLnN5c3RlbS50eXBlLm15dGhvc1xuICAgIH1cbiAgICBjb25zdCBvY2N1bHQgPSB7XG4gICAgICBnYWluczogdGhpcy5zeXN0ZW0uZ2FpbnMub2NjdWx0LFxuICAgICAgdHlwZTogdGhpcy5zeXN0ZW0udHlwZS5vY2N1bHRcbiAgICB9XG4gICAgY29uc3Qgb3RoZXIgPSB7XG4gICAgICBnYWluczogdGhpcy5zeXN0ZW0uZ2FpbnMub3RoZXJzLFxuICAgICAgdHlwZTogdGhpcy5zeXN0ZW0udHlwZS5vdGhlclxuICAgIH1cbiAgICBpZiAobXl0aG9zLnR5cGUgJiYgbXl0aG9zLmdhaW5zKSB7XG4gICAgICBkZXZlbG9wbWVudHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmN0aHVsaHUtbXl0aG9zJyksXG4gICAgICAgIGdhaW46IHBhcnNlSW50KG15dGhvcy5nYWlucylcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChvY2N1bHQudHlwZSAmJiBvY2N1bHQuZ2FpbnMpIHtcbiAgICAgIGRldmVsb3BtZW50cy5wdXNoKHtcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9jY3VsdCcpLFxuICAgICAgICBnYWluOiBwYXJzZUludChvY2N1bHQuZ2FpbnMpXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAob3RoZXIudHlwZSkge1xuICAgICAgZm9yIChjb25zdCBza2lsbCBvZiBvdGhlci5nYWlucykge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2tpbGwubmFtZS5tYXRjaCgvXiguKykgXFwoKC4rKVxcKSQvKVxuICAgICAgICAvKiogU2FuaXRpemF0aW9uIHRvIGRlYWwgd2l0aCBzcGVjaWFsaXphdGlvbnMgKi9cbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICBza2lsbC5zcGVjaWFsaXphdGlvbiA9IHBhdHRlcm5bMV1cbiAgICAgICAgICBza2lsbC5uYW1lID0gcGF0dGVyblsyXVxuICAgICAgICB9XG4gICAgICAgIGlmIChza2lsbC52YWx1ZSAhPT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIHNraWxsLnZhbHVlID0gKFxuICAgICAgICAgICAgYXdhaXQgbmV3IFJvbGwoc2tpbGwudmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICkudG90YWxcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpbGwudmFsdWUpIHtcbiAgICAgICAgICBkZXZlbG9wbWVudHMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICAgICAgZ2Fpbjogc2tpbGwudmFsdWUsXG4gICAgICAgICAgICBzcGVjaWFsaXphdGlvbjogc2tpbGwuc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuZ3JhbnRTa2lsbERldmVsb3BtZW50KGRldmVsb3BtZW50cylcbiAgICBpZiAoKG15dGhvcy50eXBlIHx8IG9jY3VsdC50eXBlKSAmJiB0aGlzLnN5c3RlbS5zYW5pdHlMb3NzKSB7XG4gICAgICBhd2FpdCB0aGlzLnJvbGxTYW5pdHlMb3NzKClcbiAgICB9XG4gICAgLyoqIE1hcmsgaW5pdGlhbCByZWFkaW5nIGFzIGNvbXBsZXRlICovXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5pbml0aWFsUmVhZGluZyc6IHRydWUgfSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0l0ZW19IHNwZWxsbGVhcm5lZCBUaGUgc3BlbGwgdGhhdCB3YXMgbGVhcm5lZCBzdWNjZXNzZnVsbHkgZnJvbSBib29rXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBncmFudFNwZWxsTGVhcm5pbmcgKHNwZWxsbGVhcm5lZCkge1xuICAgIGZvciAoY29uc3Qgc3BlbGwgb2YgdGhpcy5zeXN0ZW0uc3BlbGxzKSB7XG4gICAgICBpZiAoc3BlbGwuX2lkID09PSBzcGVsbGxlYXJuZWQuX2lkKSB7XG4gICAgICAgIHNwZWxsLnN5c3RlbS5sZWFybmVkID0gdHJ1ZVxuICAgICAgICAvLyBEb2VzIHRoZSBhY3RvciBhbHJlYWR5IGhhcyBhIHNwZWxsIG9mIHRoYXQgbmFtZT8gVGhlbiBkbyBub3QgYWRkIHRoZSBzcGVsbFxuICAgICAgICBjb25zdCBleGlzdGluZ1NwZWxsID0gYXdhaXQgdGhpcy5hY3Rvci5pdGVtcy5maW5kKFxuICAgICAgICAgIGl0ZW0gPT5cbiAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ3NwZWxsJyAmJiBpdGVtLm5hbWUgPT09IHNwZWxsbGVhcm5lZC5uYW1lXG4gICAgICAgIClcbiAgICAgICAgaWYgKCFleGlzdGluZ1NwZWxsKSB7XG4gICAgICAgICAgc3BlbGxsZWFybmVkLnN5c3RlbS5sZWFybmVkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU3BlbGxBbHJlYWR5TGVhcm5lZCcsIHtcbiAgICAgICAgICAgICAgc3BlbGw6IHNwZWxsbGVhcm5lZC5uYW1lLFxuICAgICAgICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFNhdmUgc3BlbGwgbGlzdCBvZiBib29rXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLnNwZWxscyc6IHRoaXMuc3lzdGVtLnNwZWxscyB9KVxuICAgIC8vIEFkZCBsZWFybmVkIHNwZWxsIHRvIGFjdG9yXG4gICAgaWYgKHNwZWxsbGVhcm5lZC5zeXN0ZW0ubGVhcm5lZCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNwZWxsU3VjY2Vzc2Z1bGx5TGVhcm5lZCcsIHtcbiAgICAgICAgICBzcGVsbDogc3BlbGxsZWFybmVkLm5hbWUsXG4gICAgICAgICAgYm9vazogdGhpcy5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW1xuICAgICAgICBkdXBsaWNhdGUoc3BlbGxsZWFybmVkKVxuICAgICAgXSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjZWl2ZXMgYW4gQXJyYXkgb2Ygc2tpbGxzIGFuZCBoYW5kbGVzIGFsbCB0aGUgbG9naWMgdG8gZGV2ZWxvcCB0aGVtXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRldmVsb3BtZW50cyBAc2VlIGdyYW50SW5pdGlhbFJlYWRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgZ3JhbnRTa2lsbERldmVsb3BtZW50IChkZXZlbG9wbWVudHMpIHtcbiAgICBpZiAoZGV2ZWxvcG1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgZm9yIChjb25zdCBkZXZlbG9wbWVudCBvZiBkZXZlbG9wbWVudHMpIHtcbiAgICAgIC8qKiBUZXN0IGlmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gemVybyAqL1xuICAgICAgaWYgKCFkZXZlbG9wbWVudC5nYWluKSBjb250aW51ZVxuICAgICAgbGV0IHNraWxsID0gYXdhaXQgdGhpcy5hY3Rvci5nZXRTa2lsbHNCeU5hbWUoZGV2ZWxvcG1lbnQubmFtZSlcbiAgICAgIC8qKiBUaGUgQWN0b3IgZG9lcyBub3Qgb3duIHRoaXMgc2tpbGwsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAqIEZpcnN0LCBjaGVjayBpZiB0aGVyZSBpcyBhbnkgc2tpbGwgaW4gdGhlIGdhbWUgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgICAgKiBJbiB0aGUgbGFzdCBhbHRlcm5hdGl2ZSBqdXN0IGNyZWF0ZSBhIG5ldyBnZW5lcmljIHNraWxsXG4gICAgICAgKi9cbiAgICAgIGlmIChza2lsbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTa2lsbCA9IGF3YWl0IGdhbWUuaXRlbXMuZmluZChcbiAgICAgICAgICBpdGVtID0+XG4gICAgICAgICAgICBpdGVtLnR5cGUgPT09ICdza2lsbCcgJiYgaXRlbS5uYW1lID09PSBkZXZlbG9wbWVudC5uYW1lXG4gICAgICAgIClcbiAgICAgICAgaWYgKGV4aXN0aW5nU2tpbGwpIHtcbiAgICAgICAgICBza2lsbCA9IGF3YWl0IHRoaXMuYWN0b3IuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbXG4gICAgICAgICAgICBkdXBsaWNhdGUoZXhpc3RpbmdTa2lsbClcbiAgICAgICAgICBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5hY3Rvci5jcmVhdGVTa2lsbChkZXZlbG9wbWVudC5uYW1lLCAwKVxuICAgICAgICAgIGlmIChkZXZlbG9wbWVudC5zcGVjaWFsaXphdGlvbikge1xuICAgICAgICAgICAgYXdhaXQgc2tpbGxbMF0udXBkYXRlKHtcbiAgICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiB0cnVlLFxuICAgICAgICAgICAgICAnc3lzdGVtLnNwZWNpYWxpemF0aW9uJzogZGV2ZWxvcG1lbnQuc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBza2lsbCA9IHNraWxsWzBdXG4gICAgICBpZiAoZGV2ZWxvcG1lbnQuZ2FpbiA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAvKiogU2ltcGx5IG1hcmsgdGhlIHNraWxsIGZvciBkZXZlbG9wbWVudCAqL1xuICAgICAgICBhd2FpdCBza2lsbC5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgcmVjZWl2ZWQgdmFsdWUgZ2FpbmVkIGlzIG51bWVyaWMsIGVuc3VyZSB0aGF0IHRoZSBhbW91bnRcbiAgICAgICAgICogd2lsbCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHZhbHVlIG9mIDk5XG4gICAgICAgICAqL1xuICAgICAgICBpZiAoc2tpbGwudmFsdWUgKyBkZXZlbG9wbWVudC5nYWluID4gOTkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDE7IGluZGV4IDw9IGRldmVsb3BtZW50LmdhaW47IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChza2lsbC52YWx1ZSArIGRldmVsb3BtZW50LmdhaW4gLSBpbmRleCA8PSA5OSkge1xuICAgICAgICAgICAgICBkZXZlbG9wbWVudC5nYWluIC09IGluZGV4XG4gICAgICAgICAgICAgIGF3YWl0IHNraWxsLmluY3JlYXNlRXhwZXJpZW5jZShkZXZlbG9wbWVudC5nYWluKVxuICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBza2lsbC5pbmNyZWFzZUV4cGVyaWVuY2UoZGV2ZWxvcG1lbnQuZ2FpbilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2hvd0RldmVsb3BtZW50c1RhYmxlKGRldmVsb3BtZW50cylcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzZXF1ZW50IHBlcmlvZHMgb2YgZnVsbCBzdHVkeSBtYXkgYmUgdW5kZXJ0YWtlbiwgdGhlIGRpZmZlcmVuY2UgYmVpbmdcbiAgICogdGhhdCBlYWNoIHN0dWR5IHdpbGwgdGFrZSB0d2ljZSBhcyBsb25nIGFzIHRoZSBwcmV2aW91cyBvbmVcbiAgICogQHJldHVybnMge1Byb21pc2UuPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIHJlZG9GdWxsU3R1ZHkgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IDAgfSlcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5zdHVkeS5uZWNlc3NhcnknOiB0aGlzLnN5c3RlbS5zdHVkeS5uZWNlc3NhcnkgKiAyXG4gICAgfSlcbiAgfVxuXG4gIC8qKiBCeXBhc3MgdGhlIFNhbml0eSBjaGVjayBhbmQganVzdCByb2xsIHRoZSBkYW1hZ2UgKi9cbiAgYXN5bmMgcm9sbFNhbml0eUxvc3MgKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zeXN0ZW0uc2FuaXR5TG9zc1xuICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcnKSByZXR1cm5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZVxuICAgIGxldCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHt9KVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlYWRpbmdNeXRob3NUb21lJywge1xuICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgIH0pLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH0pXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IG1lc3NhZ2UuZ2V0SFRNTCgpXG4gICAgaWYgKHR5cGVvZiBjYXJkLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FyZC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHNhbml0eUxvc3MgPSAoYXdhaXQgbmV3IFJvbGwodmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICAgIGh0bWwgPSBjYXJkLmZpbmQoJy5jaGF0LWNhcmQnKVswXVxuICAgICAgaHRtbC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZShcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdG9yLmlkLFxuICAgICAgICAgIGZhc3RGb3J3YXJkOiBmYWxzZSxcbiAgICAgICAgICBzYW5EYXRhOiB7XG4gICAgICAgICAgICBzYW5NaW46IHNhbml0eUxvc3MsXG4gICAgICAgICAgICBzYW5NYXg6IHNhbml0eUxvc3NcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBjb25zdCBzYW5pdHlDaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChodG1sKVxuICAgICAgYXdhaXQgc2FuaXR5Q2hlY2suYnlwYXNzUm9sbFNhbigpXG4gICAgICBhd2FpdCBzYW5pdHlDaGVjay5yb2xsU2FuTG9zcygpXG4gICAgICBzYW5pdHlDaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSB0YWJsZSBpbiB0aGUgY2hhdCB3aXRoIGFsbCBza2lsbCBkZXZlbG9wbWVudHMgb2J0YWluZWRcbiAgICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBkZXZlbG9wbWVudHNcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSBjcmVhdGUgQ2hhdE1lc3NhZ2VcbiAgICovXG4gIGFzeW5jIHNob3dEZXZlbG9wbWVudHNUYWJsZSAoZGV2ZWxvcG1lbnRzKSB7XG4gICAgLyoqIFByZXBhcmUgdGhlIEFycmF5IGRhdGEgdG8gYmUgc2hvd24gdG8gdGhlIGVuZCB1c2VyIGluIGNoYXQgKi9cbiAgICBmb3IgKGNvbnN0IGRldmVsb3BtZW50IG9mIGRldmVsb3BtZW50cykge1xuICAgICAgaWYgKGRldmVsb3BtZW50LnNwZWNpYWxpemF0aW9uKSB7XG4gICAgICAgIGRldmVsb3BtZW50Lm5hbWUgPSBgJHtkZXZlbG9wbWVudC5zcGVjaWFsaXphdGlvbn0gKCR7ZGV2ZWxvcG1lbnQubmFtZX0pYFxuICAgICAgfVxuICAgICAgaWYgKGRldmVsb3BtZW50LmdhaW4gPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgZGV2ZWxvcG1lbnQuZ2FpbiA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NYXJrZWRGb3JEZXZlbG9wbWVudCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZlbG9wbWVudC5nYWluID0gYCske2RldmVsb3BtZW50LmdhaW59ICR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LlBvaW50cydcbiAgICAgICAgKX1gXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvYm9vay9kZXZlbG9wbWVudC5odG1sJ1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgeyBkZXZlbG9wbWVudHMgfSlcbiAgICByZXR1cm4gYXdhaXQgQ2hhdE1lc3NhZ2UuY3JlYXRlKHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoeyBhY3RvcjogdGhpcy5hY3RvciB9KSxcbiAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5HYWluc0ZvclJlYWRpbmcnLCB7IGJvb2s6IHRoaXMubmFtZSB9KSxcbiAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgYXR0ZW1wdFNwZWxsTGVhcm5pbmcgKGlkKSB7XG4gICAgaWYgKCF0aGlzLmlzT3duZWQpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nKSB7XG4gICAgICAvKiogQWN0b3IgZGlkIG5vdCBwZXJmb3JtZWQgYW4gaW5pdGlhbCByZWFkaW5nIGZpcnN0ICovXG4gICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Jbml0aWFsUmVhZGluZ05lZWRlZCcsIHtcbiAgICAgICAgICBhY3RvcjogdGhpcy5hY3Rvci5uYW1lLFxuICAgICAgICAgIGJvb2s6IHRoaXMubmFtZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCBzcGVsbCA9IHRoaXMuc3lzdGVtLnNwZWxscy5maW5kKHNwZWxsID0+IHtcbiAgICAgIHJldHVybiBzcGVsbC5faWQgPT09IGlkXG4gICAgfSlcbiAgICBpZiAoc3BlbGwpIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmRcbiAgICAgIGNoZWNrLnBhcmVudCA9IHRoaXMudXVpZFxuICAgICAgY2hlY2suZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5MZWFyblNwZWxsQXR0ZW1wdCcsIHtcbiAgICAgICAgYm9vazogdGhpcy5uYW1lLFxuICAgICAgICBzcGVsbDogc3BlbGwubmFtZVxuICAgICAgfSlcbiAgICAgIGNoZWNrLmNvbnRleHQgPSAnU1BFTExfTEVBUk5JTkcnXG4gICAgICBjaGVjay5zcGVsbCA9IHNwZWxsXG4gICAgICBhd2FpdCBjaGVjay5yb2xsQ2hhcmFjdGVyaXN0aWMoJ2ludCcpXG4gICAgICBhd2FpdCBjaGVjay50b01lc3NhZ2UoKVxuICAgIH1cbiAgfVxuXG4gIC8qKiBMaXN0ZW4gdG8gY2hhbmdlcyBvbiB0aGUgY2hlY2sgY2FyZCAqL1xuICBhc3luYyB1cGRhdGVSb2xsIChyb2xsKSB7XG4gICAgY29uc3QgY2hlY2sgPSBDb0M3Q2hlY2suZnJvbVJvbGxTdHJpbmcocm9sbClcblxuICAgIC8qKiBXaWxsIGtub3cgaWYgdXNlciBwdXNoIHRoZSByb2xsIG9yIHNwZW5kIEx1Y2sgKi9cbiAgICBpZiAoY2hlY2sucGFzc2VkKSB7XG4gICAgICBpZiAoY2hlY2suY29udGV4dCA9PT0gJ0lOSVRJQUxfUkVBRElORycpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ3JhbnRJbml0aWFsUmVhZGluZygpXG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmNvbnRleHQgPT09ICdTUEVMTF9MRUFSTklORycpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ3JhbnRTcGVsbExlYXJuaW5nKGNoZWNrLnNwZWxsKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBkZWVwQ2xvbmUsIEZvcm1EYXRhRXh0ZW5kZWQsIGZvdW5kcnksIGZyb21VdWlkLCBnYW1lLCBIb29rcywgbWVyZ2VPYmplY3QsIHJlbmRlclRlbXBsYXRlLCBzb2NrZXRsaWIsIHVpICovXG5cbmNvbnN0IEVDQ19DTEFTUyA9ICdlbmhhbmNlZC1jaGF0LWNhcmQnXG5cbmNvbnN0IFBFUk1JU1NJT05fVFlQRSA9IHtcbiAgR006ICdnbScsIC8vIHVzZXIgaXMgR01cbiAgTk9UX0dNOiAnIWdtJywgLy8gdXNlciBpcyBOT1QgZ20gKGhpZGUgdG8gR00gaW4gY2FzZSBvZiB2aXNpYmlsaXR5KVxuICBTUEVBS0VSOiAnc3BlYWtlcicsIC8vIHRoZSBzcGVha2VyIGlzIGFuIGFjdG9yIGNvbnRyb2xlZC9vd25lZCBieSB0aGUgdXNlclxuICBVU0VSOiAndXNlcicsIC8vIHRoZSB1c2VyIGlzIHRoZSBtZXNzYWdlJ3MgYXV0aG9yXG4gIEVWRVJZT05FOiAnYWxsJywgLy8gZXF1aXZhbGVudCB0byBlbXB0eSBzdHJpbmdcbiAgQkxBQ0tMSVNUOiAnYmxhY2tsaXN0JyAvLyBpbnZlcnQgdGhlIGxvZ2ljXG59XG5cbmNvbnN0IFNUQVRFID0ge1xuICBPTjogJ3N3aXRjaGVkLW9uJyxcbiAgT0ZGOiAnc3dpdGNoZWQtb2ZmJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVDQyAoLi4uY2FyZGNsYXNzKSB7XG4gIC8vIEhvb2tzLm9uY2UoJ2luaXQnLCBmdW5jdGlvbiAoKSB7XG4gIC8vIH0pXG5cbiAgSG9va3Mub24oJ3JlbmRlckNoYXRMb2cnLCAoYXBwLCBodG1sLCBkYXRhKSA9PlxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuaW5qZWN0Q1NTKGFwcCwgaHRtbCwgZGF0YSlcbiAgKVxuXG4gIEhvb2tzLm9uY2UoJ3NvY2tldGxpYi5yZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICBFbmhhbmNlZENoYXRDYXJkTGliLnJlZ2lzdGVyKGNhcmRjbGFzcylcbiAgICBFbmhhbmNlZENoYXRDYXJkTGliLnNvY2tldCA9IHNvY2tldGxpYi5yZWdpc3RlclN5c3RlbShnYW1lLnN5c3RlbS5pZCkgLy8gU29ja2V0IGlzIGF0dGFjaGVkIHRvIGN1cnJlbnQgc3lzdGVtXG4gICAgRW5oYW5jZWRDaGF0Q2FyZExpYi5zb2NrZXQucmVnaXN0ZXIoJ3VwZGF0ZU1lc3NhZ2UnLCB1cGRhdGVNZXNzYWdlKVxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LnJlZ2lzdGVyKCdHTVVwZGF0ZScsIEdNVXBkYXRlKVxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LnJlZ2lzdGVyKCdhZHZpc2UnLCBhZHZpc2UpXG4gICAgLy8gRW5oYW5jZWRDaGF0Q2FyZExpYi5zb2NrZXQucmVnaXN0ZXIoJ2dtdHJhZGVpdGVtdG8nLCBnbXRyYWRlaXRlbXRvKVxuICB9KVxuXG4gIEhvb2tzLm9uKCdyZW5kZXJDaGF0TWVzc2FnZScsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gICAgRW5oYW5jZWRDaGF0Q2FyZC5iaW5kTGlzdGVuZXJzKGh0bWwpXG4gIClcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZSAobWVzc2FnZUlkLCBuZXdDb250ZW50KSB7XG4gIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuXG4gIGF3YWl0IGNoYXRNZXNzYWdlLnVwZGF0ZSh7XG4gICAgY29udGVudDogbmV3Q29udGVudFxuICB9KVxufVxuXG5hc3luYyBmdW5jdGlvbiBHTVVwZGF0ZSAoZGF0YSwgb3B0aW9ucywgY2FyZENsYXNzTmFtZSwgbWVzc2FnZUlkID0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IGNhcmQgPSBhd2FpdCBFbmhhbmNlZENoYXRDYXJkLmZyb21EYXRhKFxuICAgIGRhdGEsXG4gICAgb3B0aW9ucyxcbiAgICBjYXJkQ2xhc3NOYW1lLFxuICAgIG1lc3NhZ2VJZFxuICApXG4gIGF3YWl0IGNhcmQuR01VcGRhdGUoKVxuICAvLyBjb25zdCBkaWZmID0gZm91bmRyeS51dGlscy5kaWZmT2JqZWN0KCBkYXRhLCBjYXJkLnRvT2JqZWN0KCkpXG4gIHJldHVybiBjYXJkLnRvT2JqZWN0KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWR2aXNlICgpIHt9XG5cbmNsYXNzIEVuaGFuY2VkQ2hhdENhcmRMaWIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy50eXBlcyA9IG5ldyBNYXAoKVxuICAgIHRoaXMuc29ja2V0ID0gbnVsbFxuICAgIC8vIHRoaXMuZW5oYW5jZWRDaGF0Q2FyZENsYXNzID0gRW5oYW5jZWRDaGF0Q2FyZFxuICB9XG5cbiAgc3RhdGljIGluamVjdENTUyAoKSB7XG4gICAgbGV0IHN0eWxlID0gJCgnaGVhZCcpLmZpbmQoJ3N0eWxlJylcbiAgICBpZiAoIXN0eWxlPy5sZW5ndGgpIHtcbiAgICAgICQoJ2hlYWQnKS5hcHBlbmQoJCgnPHN0eWxlICB0eXBlPVwidGV4dC9jc3NcIj48L3N0eWxlPicpKVxuICAgICAgc3R5bGUgPSAkKCdoZWFkJykuZmluZCgnc3R5bGUnKVxuICAgIH1cbiAgICBzdHlsZS5hcHBlbmQoXG4gICAgICBgLmVjYy1yZXN0cmljdGVkIHtjb2xvcjogcmVkfVxuICAgIC5lY2MtcmVzdHJpY3RlZDpob3ZlciB7Y3Vyc29yOiBub3QtYWxsb3dlZH1gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHNldCBzb2NrZXQgKHgpIHtcbiAgICBpZiAoIWdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIpIHtcbiAgICAgIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIgPSBuZXcgRW5oYW5jZWRDaGF0Q2FyZExpYigpXG4gICAgfVxuICAgIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIuc29ja2V0ID0geFxuICB9XG5cbiAgc3RhdGljIGdldCBzb2NrZXQgKCkge1xuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignRUNDIG5vdCBJbml0aWFsaXplZCcpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYi5zb2NrZXQpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0VDQyBubyBzb2NrZXQnKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYi5zb2NrZXRcbiAgfVxuXG4gIHN0YXRpYyBnZXQgdHlwZXMgKCkge1xuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYikge1xuICAgICAgZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYiA9IG5ldyBFbmhhbmNlZENoYXRDYXJkTGliKClcbiAgICB9XG4gICAgcmV0dXJuIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIudHlwZXNcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlciAoY2FyZENvbnN0cnVjdG9ycykge1xuICAgIGNhcmRDb25zdHJ1Y3RvcnMuZm9yRWFjaChjYXJkQ29uc3RydWN0b3IgPT4ge1xuICAgICAgaWYgKCFFbmhhbmNlZENoYXRDYXJkTGliLnR5cGVzLmdldChjYXJkQ29uc3RydWN0b3IubmFtZSkpIHtcbiAgICAgICAgRW5oYW5jZWRDaGF0Q2FyZExpYi50eXBlcy5zZXQoY2FyZENvbnN0cnVjdG9yLm5hbWUsIGNhcmRDb25zdHJ1Y3RvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gc3RhdGljIGdtX29uVG9nZ2xlIChkYXRhKXtcbiAgLy8gICB1aS5ub3RpZmljYXRpb25zLmluZm8oICdnbV9vblRvZ2dsZScpXG4gIC8vIH1cbn1cblxuZnVuY3Rpb24gc2V0QnlQYXRoIChvYmosIHBhdGgsIHZhbHVlKSB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpXG4gIGxldCBvID0gb2JqXG4gIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGlmICghb1twYXJ0c1tpXV0pIG9bcGFydHNbaV1dID0ge31cbiAgICAgIG8gPSBvW3BhcnRzW2ldXVxuICAgIH1cbiAgfVxuXG4gIG9bcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dID0gdmFsdWVcbn1cblxuZnVuY3Rpb24gZ2V0QnlQYXRoIChvYmosIHBhdGgpIHtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJylcbiAgbGV0IG8gPSBvYmpcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKCFvW3BhcnRzW2ldXSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgbyA9IG9bcGFydHNbaV1dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9bcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dXG59XG5cbmV4cG9ydCBjbGFzcyBFbmhhbmNlZENoYXRDYXJkIHtcbiAgLy8gc3RhdGljIHJlZ2lzdGVyIChjYXJkQ29uc3RydWN0b3IpIHtcbiAgLy8gICBFbmhhbmNlZENoYXRDYXJkTGliLnJlZ2lzdGVyKGNhcmRDb25zdHJ1Y3RvcilcbiAgLy8gfVxuXG4gIGNvbnN0cnVjdG9yIChkYXRhID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICBpZiAoIXRoaXMuZGF0YS5mbGFncykgdGhpcy5kYXRhLmZsYWdzID0ge31cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbmx5IG9uY2UgYmVmb3JlIHNlbmRpbmcgbWVzc2FnZSB0byBjaGF0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFzeW5jIGluaXRpYWxpemUgKCkge31cblxuICBnZXQgb3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdE9wdGlvbnMsIHRoaXMuX29wdGlvbnMpXG4gIH1cblxuICBzZXQgb3B0aW9ucyAoeCkge1xuICAgIHRoaXMuX29wdGlvbnMgPSB4XG4gIH1cblxuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGVtcGxhdGVcbiAgfVxuXG4gIGdldCBjc3NDbGFzc2VzICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsYXNzZXM/LmpvaW4oJyAnKVxuICB9XG5cbiAgZ2V0IHNwZWFrZXIgKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMub29jKSByZXR1cm4gZ2FtZS51c2VyXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnNwZWFrZXIgJiZcbiAgICAgIENoYXRNZXNzYWdlLmdldFNwZWFrZXJBY3Rvcih0aGlzLm9wdGlvbnMuc3BlYWtlcilcbiAgICApIHtcbiAgICAgIHJldHVybiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyQWN0b3IodGhpcy5vcHRpb25zLnNwZWFrZXIpXG4gICAgfVxuICAgIHJldHVybiBnYW1lLnVzZXJcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIC8vIGF3YWl0IHRoaXMuYXNzaWduT2JqZWN0cygpXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcmQ6IHRoaXMsXG4gICAgICBmbGFnczogdGhpcy5mbGFncyxcbiAgICAgIGRhdGE6IHRoaXMudG9PYmplY3QoKSxcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIGNzczogdGhpcy5jc3NDbGFzc2VzLFxuICAgICAgdXNlcjogZ2FtZS51c2VyLFxuICAgICAgc3BlYWtlcjogdGhpcy5zcGVha2VyXG4gICAgfVxuICB9XG5cbiAgdG9PYmplY3QgKCkge1xuICAgIGlmICghdGhpcy5kYXRhKSByZXR1cm5cbiAgICBjb25zdCBkYXRhID0ge31cbiAgICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXModGhpcy5kYXRhKSkge1xuICAgICAgY29uc3QgdiA9IHRoaXMuZGF0YVtrXVxuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgZGF0YVtrXSA9IHYudG9PYmplY3QgPyB2LnRvT2JqZWN0KCkgOiBkZWVwQ2xvbmUodilcbiAgICAgIH0gZWxzZSBkYXRhW2tdID0gdlxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYXN5bmMgdG9NZXNzYWdlIChvcHRpb25uYWxDaGF0RGF0YSA9IHt9KSB7XG4gICAgLy8gTWFwIGVjYyBjYXJkIHR5cGUgaWYgbm90IHJlZ2lzdGVyZWQgYWxyZWFkeVxuICAgIC8vIHRoaXMucmVnaXN0ZXJFQ0NDbGFzcygpXG5cbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKVxuXG4gICAgLy8gUHVibGlzaCBieSBjdXJyZW50IHVzZXIgYnkgZGVmYXVsdCB1bmxlc3Mgb3B0aW9ucy5HTWNoYXRDYXJkXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RGF0YSgpXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIGRhdGEpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJChodG1sKVswXVxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXR0YWNoT2JqZWN0KSB7XG4gICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5vYmplY3REYXRhU3RyaW5nKVxuICAgIH1cbiAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5lY2NDbGFzcyA9IHRoaXMuY29uc3RydWN0b3IubmFtZVxuICAgIGh0bWxDYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzKVxuXG4gICAgY29uc3Qgc3BlYWtlciA9XG4gICAgICB0aGlzLm9wdGlvbnMuc3BlYWtlciAmJiAhdGhpcy5vcHRpb25zLm9vY1xuICAgICAgICA/IENoYXRNZXNzYWdlLmdldFNwZWFrZXIodGhpcy5vcHRpb25zLnNwZWFrZXIpXG4gICAgICAgIDoge31cblxuICAgIC8vIGNvbnN0IHVzZXJJZCA9IHRoaXMub3B0aW9ucy51c2VySWQgPyB0aGlzLm9wdGlvbnMudXNlcklkIDogZ2FtZS51c2VyLmlkXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3QoXG4gICAgICB7XG4gICAgICAgIC8vIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICBzcGVha2VyLFxuICAgICAgICBmbGF2b3I6IGdhbWUuaTE4bi5sb2NhbGl6ZSh0aGlzLm9wdGlvbnMudGl0bGUpLFxuICAgICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICB9LFxuICAgICAgb3B0aW9ubmFsQ2hhdERhdGFcbiAgICApXG5cbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXModGhpcy5yb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICBpZiAodGhpcy5yb2xsTW9kZSA9PT0gJ3NlbGZyb2xsJykgY2hhdERhdGEud2hpc3BlciA9IFtnYW1lLnVzZXIuaWRdXG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YS5ibGluZCA9IHRydWVcblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSkudGhlbihtc2cgPT4ge1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoeyBhdHRhY2hPYmplY3QgPSB0cnVlIH0gPSB7fSkge1xuICAgIC8vIFRPRE8gdGhlIHdob2xlIGZ1bmN0aW9uIGhhcyB0byBiZSBleGVjdXRlZCBieSBHTSBpZiBvcHRpb25zLkdNY2hhdENhcmRcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXB1dGUpIGF3YWl0IHRoaXMubG9jYWxDb21wdXRlKClcbiAgICBpZiAodGhpcy5vcHRpb25zLkdNVXBkYXRlKSBhd2FpdCB0aGlzLkV4ZWN1dGVHTVVwZGF0ZSgpXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VJZCkge1xuICAgICAgdGhpcy50b01lc3NhZ2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKClcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCBkYXRhKVxuICAgICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgICAgLy8gQXR0YWNoIHRoZSBvYmplY3QgdG8gdGhlIG1lc3NhZ2UuXG4gICAgICBpZiAoYXR0YWNoT2JqZWN0ICYmICF0aGlzLmRhdGEuRUVDX0FDVElPTj8uZGV0YWNoRGF0YSkge1xuICAgICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5vYmplY3REYXRhU3RyaW5nKVxuICAgICAgfVxuICAgICAgaHRtbENhcmRFbGVtZW50LmRhdGFzZXQuZWNjQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgIGh0bWxDYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzKVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIG1lc3NhZ2UuXG4gICAgICBnYW1lLmVuaGFuY2VkQ2hhdENhcmRzTGliLnNvY2tldC5leGVjdXRlQXNHTShcbiAgICAgICAgJ3VwZGF0ZU1lc3NhZ2UnLFxuICAgICAgICB0aGlzLm1lc3NhZ2VJZCxcbiAgICAgICAgaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTFxuICAgICAgKVxuICAgICAgLy8gY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgICAgLy8gY29uc3QgbXNnID0gYXdhaXQgY2hhdE1lc3NhZ2UudXBkYXRlKHsgLy9EaXNwYXRjaCByZXF1ZXN0IGJ5IHNvY2tldFxuICAgICAgLy8gY29udGVudDogaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTCAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgICAvLyB9KSAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgICAvLyBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSkgLy9EaXNwYXRjaCByZXF1ZXN0IGJ5IHNvY2tldFxuICAgICAgLy8gcmV0dXJuIG1zZyAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICAvLyBodG1sLm9uKFxuICAgIC8vICAgJ2NsaWNrJyxcbiAgICAvLyAgIGAuJHtFQ0NfQ0xBU1N9IC5lY2MtcmFkaW8tc3dpdGNoYCxcbiAgICAvLyAgIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcylcbiAgICAvLyApXG4gICAgaHRtbC5vbignY2hhbmdlJywgJ2lucHV0LHNlbGVjdCx0ZXh0YXJlYScsIHRoaXMuX29uQ2hhbmdlLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCBgLiR7RUNDX0NMQVNTfSAuZWNjLXN3aXRjaGAsIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCBgLiR7RUNDX0NMQVNTfSAuc3VibWl0YCwgdGhpcy5fb25TdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdmb2N1c291dCcsIGAuJHtFQ0NfQ0xBU1N9IGlucHV0YCwgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdjbGljaycsIGAuJHtFQ0NfQ0xBU1N9IGJ1dHRvbmAsIHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbigna2V5ZG93bicsIGAuJHtFQ0NfQ0xBU1N9IGZvcm1gLCB0aGlzLl9vbktleS5iaW5kKHRoaXMpKVxuXG4gICAgLy8gY29uc3QgdmlzaSA9IGh0bWwuZmluZCgnW2RhdGEtZWNjLXZpc2liaWxpdHldJylcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHZpc2kubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgIGNvbnN0IGVsID0gdmlzaVtpXTtcbiAgICAvLyAgIGF3YWl0IHRoaXMuc2V0VmlzaWJpbGl0eShlbClcblxuICAgIC8vIH1cblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdbZGF0YS1lY2MtdmlzaWJpbGl0eV0nKVxuICAgICAgLmVhY2goYXN5bmMgKGksIGVsKSA9PiBhd2FpdCB0aGlzLnNldFZpc2liaWxpdHkoZWwpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdbZGF0YS1lY2MtcGVybWlzc2lvbnNdJylcbiAgICAgIC5lYWNoKGFzeW5jIChpLCBlbCkgPT4gYXdhaXQgdGhpcy5zZXRQZXJtaXNzaW9uKGVsKSlcbiAgICBodG1sLmZpbmQoYC4ke0VDQ19DTEFTU30gLmVjYy1zd2l0Y2hgKS5lYWNoKChpLCBlbCkgPT4gdGhpcy5zZXRTdGF0ZShlbCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoYC4ke0VDQ19DTEFTU30gaW5wdXRbdHlwZT1cInJhZGlvXCJdYClcbiAgICAgIC5lYWNoKChpLCBlbCkgPT4gdGhpcy5zZXRSYWRpb1N0YXRlKGVsKSlcbiAgICAvLyBodG1sLmZpbmQoYC4ke0VDQ19DTEFTU30gLmVjYy1yYWRpby1zd2l0Y2hgKS5lYWNoKCAoaSwgZWwpID0+IHRoaXMuc2V0U3RhdGUoZWwpKVxuICB9XG5cbiAgc2V0U3RhdGUgKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICAgIGlmIChlbGVtZW50LmRhdGFzZXQuZmxhZykge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFxuICAgICAgICB0aGlzLmZsYWdzW2VsZW1lbnQuZGF0YXNldC5mbGFnXSA/IFNUQVRFLk9OIDogU1RBVEUuT0ZGXG4gICAgICApXG4gICAgfVxuICAgIGlmIChlbGVtZW50LmRhdGFzZXQubmFtZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXRCeVBhdGgodGhpcywgZWxlbWVudC5kYXRhc2V0Lm5hbWUpXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsdWUgPyBTVEFURS5PTiA6IFNUQVRFLk9GRilcbiAgICB9XG4gIH1cblxuICBzZXRSYWRpb1N0YXRlIChlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50Lm5hbWUpIHJldHVyblxuICAgIGNvbnN0IHNwbGl0ZWQgPSBlbGVtZW50Lm5hbWUuc3BsaXQoJy4nKVxuICAgIGlmIChzcGxpdGVkWzBdLnRvTG93ZXJDYXNlKCkgIT09ICdkYXRhJykgcmV0dXJuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0eXBlb2YgdGhpcy5kYXRhW3NwbGl0ZWRbMV1dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMuZGF0YVtzcGxpdGVkWzFdXSA9PT0gZWxlbWVudC52YWx1ZSkge1xuICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0VmlzaWJpbGl0eSAoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5kYXRhc2V0LmVjY1Zpc2liaWxpdHkpIHJldHVyblxuICAgIGNvbnN0IGNhbllvdVNlZSA9IGF3YWl0IHRoaXMuaGFzUGVybShlbGVtZW50LmRhdGFzZXQuZWNjVmlzaWJpbGl0eSwgdHJ1ZSlcbiAgICBpZiAoIWNhbllvdVNlZSkgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIH1cblxuICBhc3luYyBzZXRQZXJtaXNzaW9uIChlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50LmRhdGFzZXQuZWNjUGVybWlzc2lvbnMpIHJldHVyblxuICAgIGNvbnN0IGNhbllvdU1vZCA9IGF3YWl0IHRoaXMuaGFzUGVybShlbGVtZW50LmRhdGFzZXQuZWNjUGVybWlzc2lvbnMpXG4gICAgaWYgKCFjYW5Zb3VNb2QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWNjLXJlc3RyaWN0ZWQnKVxuICAgICAgaWYgKCQoZWxlbWVudCkuaXMoJ2lucHV0JykpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ3JhbmdlJykgJChlbGVtZW50KS5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXG4gICAgICAgIGVsc2UgJChlbGVtZW50KS5hdHRyKCdyZWFkb25seScsIHRydWUpXG4gICAgICB9XG4gICAgICBpZiAoJChlbGVtZW50KS5pcygnc2VsZWN0JykpICQoZWxlbWVudCkuYXR0cignZGlzYWJsZWQnLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCB1c2VyIGFzIHBlcm1pc3Npb24gYWdhaW5zdCBhIHN0cmluZyBvZiBhbGxvd2VkIHBlcnNvbnMuXG4gICAqIElmIHRoZSBzdHJpbmcgaXMgZW1wdHkgcGVybWlzc2lvbiBhcmUgYWxsIGdyYW50ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3RyaWN0ZWRUbyAgIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHNldCBvZiBwbGF5ZXIgYWxsb3dlZC4gVmFsdWUgY2FuIGJlIG93bmVyLCBnbSwgcGxheWVycywgdXVpZCBzZXBhcmF0ZWQgYnkgc3BhY2VcbiAgICogQHBhcmFtIHtib29sZWFufSB2aXNpb24gICAgICAgIGlmIHRydWUgZ20gd2lsbCBiZSBjb25zaWRlcmVkIGZvciBwZXJtaXNzaW9ucy4gZmFsc2UgPSBnbSBoYXMgYWx3YXlzIHJpZ2h0LiB0cnVlIEdNIHBlcm1pc3Npb24gd2lsbCBiZSBjaGVja2VkXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBoYXNQZXJtIChyZXN0cmljdGVkVG8sIHZpc2lvbiA9IGZhbHNlKSB7XG4gICAgaWYgKCFyZXN0cmljdGVkVG8ubGVuZ3RoKSByZXR1cm4gdHJ1ZVxuICAgIGxldCBwZXJtaXNzaW9uc0FycmF5ID0gcmVzdHJpY3RlZFRvLnNwbGl0KCcgJylcbiAgICBjb25zdCB3aGl0ZUxpc3QgPSAhcGVybWlzc2lvbnNBcnJheS5pbmNsdWRlcyhQRVJNSVNTSU9OX1RZUEUuQkxBQ0tMSVNUKVxuICAgIGlmICghd2hpdGVMaXN0KSB7XG4gICAgICBwZXJtaXNzaW9uc0FycmF5ID0gcGVybWlzc2lvbnNBcnJheS5maWx0ZXIoXG4gICAgICAgIGUgPT4gZSAhPT0gUEVSTUlTU0lPTl9UWVBFLkJMQUNLTElTVFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGlmICghdmlzaW9uKSByZXR1cm4gdHJ1ZSAvLyBHTSBjYW4gYWx3YXlzIG1vZGlmeSBldmVyeXRoaW5nICEgTmFoXG4gICAgICBpZiAocGVybWlzc2lvbnNBcnJheS5pbmNsdWRlcyhQRVJNSVNTSU9OX1RZUEUuR00pKSB7XG4gICAgICAgIHJldHVybiB0cnVlICYmIHdoaXRlTGlzdFxuICAgICAgfVxuICAgICAgaWYgKHBlcm1pc3Npb25zQXJyYXkuaW5jbHVkZXMoUEVSTUlTU0lPTl9UWVBFLk5PVF9HTSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlIHx8ICF3aGl0ZUxpc3RcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwZXJtaXNzaW9uc0FycmF5ID0gcGVybWlzc2lvbnNBcnJheS5maWx0ZXIoZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuR00pXG4gICAgcGVybWlzc2lvbnNBcnJheSA9IHBlcm1pc3Npb25zQXJyYXkuZmlsdGVyKFxuICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuTk9UX0dNXG4gICAgKVxuXG4gICAgLy8gICByZXR1cm4gZmFsc2UgfHwgIXdoaXRlTGlzdCAvL0lmIHBhc3MgdGhlIGZpbHRlciByZXR1cm4gZmFsc2UgdW5sZXNzIGl0J3MgYSBibGFja2xpc3RcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgcGVybWlzc2lvbnNBcnJheSA9IHBlcm1pc3Npb25zQXJyYXkuZmlsdGVyKGUgPT4gZSAhPSBQRVJNSVNTSU9OX1RZUEUuR00pXG4gICAgLy8gfVxuXG4gICAgaWYgKHBlcm1pc3Npb25zQXJyYXkuaW5jbHVkZXMoUEVSTUlTU0lPTl9UWVBFLlVTRVIpKSB7XG4gICAgICBpZiAodGhpcy5tZXNzYWdlLmlzQXV0aG9yKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3QgLy8gaXNBdXRob3IgdnMgdXNlci5pc093bmVyID9cbiAgICAgIHBlcm1pc3Npb25zQXJyYXkgPSBwZXJtaXNzaW9uc0FycmF5LmZpbHRlcihcbiAgICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuVVNFUlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChwZXJtaXNzaW9uc0FycmF5LmluY2x1ZGVzKFBFUk1JU1NJT05fVFlQRS5TUEVBS0VSKSkge1xuICAgICAgY29uc3Qgc3BlYWtlciA9IHRoaXMubWVzc2FnZS5kYXRhLnNwZWFrZXJcbiAgICAgIGlmIChzcGVha2VyLnRva2VuICYmIHNwZWFrZXIuc2NlbmUpIHtcbiAgICAgICAgY29uc3QgYWN0b3IgPSBhd2FpdCBmcm9tVXVpZChcbiAgICAgICAgICBgU2NlbmUuJHtzcGVha2VyLnNjZW5lfS5Ub2tlbi4ke3NwZWFrZXIudG9rZW59YFxuICAgICAgICApXG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgIGlmIChhY3Rvci5pc093bmVyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzcGVha2VyLmFjdG9yKSB7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpXG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgIGlmIChhY3Rvci5pc093bmVyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZWxzZSBpZiAoc3BlYWtlci51c2VyKSB7XG4gICAgICAvLyAgIGlmIChnYW1lLnVzZXIuaWQgPT0gc3BlYWtlci51c2VyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgIC8vIH1cbiAgICAgIHBlcm1pc3Npb25zQXJyYXkgPSBwZXJtaXNzaW9uc0FycmF5LmZpbHRlcihcbiAgICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuU1BFQUtFUlxuICAgICAgKVxuICAgIH1cbiAgICAvLyBBbGwgZmlsdGVyIHBhc3NlZCwgYXJyYXkgc2hvdWxkIGNvbnRhaW5zIG9ubHkgdXVpZHMgb3IgYWN0b3IvdG9rZW4gaWRzXG4gICAgaWYgKHBlcm1pc3Npb25zQXJyYXkubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlcm1pc3Npb25zQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IHBlcm1pc3Npb25zQXJyYXlbaV1cbiAgICAgICAgbGV0IGFjdG9yID0gYXdhaXQgZnJvbVV1aWQodXVpZClcbiAgICAgICAgaWYgKCFhY3RvcikgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQodXVpZClcbiAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdG9yLmlzT3duZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGBVbmFibGUgdG8gZmluZCBhY3RvciAke3V1aWR9YClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2UgfHwgIXdoaXRlTGlzdCAvLyBJZiBwYXNzIHRoZSBmaWx0ZXIgcmV0dXJuIGZhbHNlIHVubGVzcyBpdCdzIGEgYmxhY2tsaXN0XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYmluZExpc3RlbmVycyAoaHRtbCkge1xuICAgIGNvbnN0IGh0bWxNZXNzYWdlRWxlbWVudCA9IGh0bWxbMF1cbiAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSBodG1sTWVzc2FnZUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7RUNDX0NMQVNTfWApXG4gICAgaWYgKCFodG1sQ2FyZEVsZW1lbnQpIHJldHVyblxuXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IEVuaGFuY2VkQ2hhdENhcmQuZnJvbUhUTUxDYXJkRWxlbWVudChodG1sQ2FyZEVsZW1lbnQpXG4gICAgaWYgKCFjYXJkKSByZXR1cm5cbiAgICBjYXJkLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gIH1cblxuICBnZXQgZmxhZ3MgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuZmxhZ3NcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0byByZWFzc2lnbiBvYmplY3QgZnJvbSB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBhc3NpZ25PYmplY3RzICgpIHt9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRvIHVwZGF0ZSBvYmplY3QgYWZ0ZXIgZGF0YSBjaGFuZ2UuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBsb2NhbCBjbGllbnRcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIGxvY2FsQ29tcHV0ZSAoKSB7fVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0byB1cGRhdGUgb2JqZWN0IGFmdGVyIGRhdGEgY2hhbmdlLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBieSBvbmUgb2YgdGhlIEdNIGNsaWVudHMuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBHTVVwZGF0ZSAoKSB7fVxuXG4gIGFzeW5jIEV4ZWN1dGVHTVVwZGF0ZSAoKSB7XG4gICAgY29uc3QgbmV3RGF0YSA9IGF3YWl0IGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIuc29ja2V0LmV4ZWN1dGVBc0dNKFxuICAgICAgJ0dNVXBkYXRlJyxcbiAgICAgIHRoaXMudG9PYmplY3QoKSxcbiAgICAgIHRoaXMuX29wdGlvbnMsXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICB0aGlzLm1lc3NhZ2VJZFxuICAgIClcblxuICAgIHRoaXMuZGF0YSA9IG5ld0RhdGFcbiAgICBhd2FpdCB0aGlzLmFzc2lnbk9iamVjdHMoKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgd2lsbCBjaGVjayBmb3IgYW4gYWN0aW9uIChkYXRhLWFjdGlvbilcbiAgICogaWYgYSBtZXRob2Qgd2l0aCB0aGF0IG5hbWUgZXhpc3QgaXQgd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAqL1xuICBhc3luYyBfb25CdXR0b24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuXG4gICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy8gQXZvaWQgbXVsdGlwbGUgcHVzaFxuICAgIGNvbnN0IGFjdGlvbiA9IHRhcmdldC5kYXRhc2V0LmFjdGlvblxuXG4gICAgbGV0IGZvcm1VcGRhdGVcbiAgICBsZXQgYWN0aW9uVXBkYXRlID0gZmFsc2VcblxuICAgIC8vIGlmICgnc3VibWl0JyA9PSB0YXJnZXQudHlwZSkge1xuICAgIC8vICAgY29uc29sZS53YXJuKCdCdXR0b24gaXMgYWxzbyBhIHN1Ym1pdCcpXG4gICAgLy8gfVxuXG4gICAgLy8gUGVyZm9ybSBjYXJkIHVwZGF0ZSBmaXJzdFxuICAgIGNvbnN0IGNhcmQgPSB0YXJnZXQuY2xvc2VzdChgLiR7RUNDX0NMQVNTfWApXG4gICAgaWYgKGNhcmQpIGZvcm1VcGRhdGUgPSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBDb3VsZCBub3QgZmluZCBhIEVFQyBjbGFzcyBmb3IgdGhpcyBjYXJkOiAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwbGF5U3R5bGUgPSB0YXJnZXQuc3R5bGUuZGlzcGxheVxuXG4gICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgIGNvbnNvbGUud2Fybignbm8gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGJ1dHRvbicpXG4gICAgICBpZiAoIWZvcm1VcGRhdGUpIHJldHVybiAvLyBJZiB0aGUgZm9ybSB3YXMgdXBkYXRlZCB3ZSBzdGlsbCB1cGRhdGUgdGhlIGNhcmRcbiAgICB9XG4gICAgaWYgKCF0aGlzW2FjdGlvbl0pIHtcbiAgICAgIGNvbnNvbGUud2Fybihgbm8gJHthY3Rpb259IGFjdGlvbiBmb3VuZCBmb3IgdGhpcyBjYXJkYClcbiAgICAgIGlmICghZm9ybVVwZGF0ZSkgcmV0dXJuIC8vIElmIHRoZSBmb3JtIHdhcyB1cGRhdGVkIHdlIHN0aWxsIHVwZGF0ZSB0aGUgY2FyZFxuICAgIH1cbiAgICBpZiAodGhpc1thY3Rpb25dKSB7XG4gICAgICBhY3Rpb25VcGRhdGUgPSBhd2FpdCB0aGlzW2FjdGlvbl0oeyBldmVudCwgdXBkYXRlQ2FyZDogZmFsc2UgfSlcbiAgICB9XG5cbiAgICBpZiAoZm9ybVVwZGF0ZSB8fCBhY3Rpb25VcGRhdGUpIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICAgIGVsc2UgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBvcmlnaW5hbERpc3BsYXlTdHlsZVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICogQHJldHVybnMgZmFsc2UgaWYga2V5IGlzIGVudGVyIHRvIGF2b2lkIGdsb2JhbCBzdWJtaXNzaW9uXG4gICAqL1xuICBfb25LZXkgKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gICAgcmV0dXJuIGV2ZW50LmtleSAhPT0gJ0VudGVyJ1xuICB9XG5cbiAgX29uQ2hhbmdlIChldmVudCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3VibWl0T25DaGFuZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgICB9XG4gIH1cblxuICBfb25TdWJtaXQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHRhZ05hbWUgPSB0YXJnZXQudGFnTmFtZVxuICAgIGlmICh0YWdOYW1lID09PSAnQlVUVE9OJyAmJiAnYWN0aW9uJyBpbiB0YXJnZXQuZGF0YXNldCkgcmV0dXJuIC8vXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgY2FyZCA9IHRhcmdldC5jbG9zZXN0KGAuJHtFQ0NfQ0xBU1N9YClcbiAgICBpZiAoIWNhcmQpIHJldHVyblxuICAgIGNvbnN0IHVwZGF0ZXMgPSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICBpZiAodXBkYXRlcykgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGZvcm0gZnJvbSB0aGUgY2FyZCBhbmQgdXBkYXRlIHRoZSBkYXRhIHN0cnVjdHVyZVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYXJkXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBfdXBkYXRlIChjYXJkKSB7XG4gICAgY29uc3QgZm9ybXMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKVxuICAgIGxldCB1cGRhdGVzID0gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmb3JtID0gZm9ybXNbaV1cbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhRXh0ZW5kZWQoZm9ybSlcbiAgICAgIGNvbnN0IGRhdGEgPSBmZC5vYmplY3RcbiAgICAgIC8vIGRhdGEgPSBmb3VuZHJ5LnV0aWxzLmRpZmZPYmplY3QoXG4gICAgICAvLyAgIHRoaXMuZGF0YSxcbiAgICAgIC8vICAgZm91bmRyeS51dGlscy5leHBhbmRPYmplY3QoZGF0YSlcbiAgICAgIC8vIClcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0QnlQYXRoKHRoaXMsIGtleSlcbiAgICAgICAgaWYgKCEob2xkVmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICAgIHNldEJ5UGF0aCh0aGlzLCBrZXksIHZhbHVlKVxuICAgICAgICAgIHVwZGF0ZXMgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZXNcbiAgfVxuXG4gIGdldCBtZXNzYWdlICgpIHtcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2VcbiAgICBpZiAodGhpcy5fbWVzc2FnZUlkKSByZXR1cm4gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5fbWVzc2FnZUlkKVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCBtZXNzYWdlICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZSA9IHhcbiAgfVxuXG4gIGdldCBtZXNzYWdlSWQgKCkge1xuICAgIGlmICh0aGlzLl9tZXNzYWdlSWQpIHJldHVybiB0aGlzLl9tZXNzYWdlSWRcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2UuaWRcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzZXQgbWVzc2FnZUlkICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZUlkID0geFxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dGFjaE9iamVjdDogdHJ1ZSxcbiAgICAgIGNsYXNzZXM6IFtFQ0NfQ0xBU1NdLFxuICAgICAgZXhjbHVkZTogW10sXG4gICAgICBleGNsdWRlU3RhcnRXaXRoOiAnXycsXG4gICAgICBzdWJtaXRPbkNoYW5nZTogdHJ1ZSxcbiAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKSxcbiAgICAgIG9vYzogZmFsc2UsIC8vICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMub29jPWZhbHNlXSAgVXNlIHRoZSBzcGVha2VyL2dldHNwZWFrZXIuIGlmIHRydWUgdXNlIHRoZSB1c2VyIGluc3RlYWRcbiAgICAgIGNvbXB1dGU6IHRydWUsIC8vICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb21wdXRlLmxvY2FsPXRydWVdIGludm9xdWUgdGhlIGNvbXB1dGUgbWV0aG9kIGFzIGxvY2FsIHVzZXIgPT4gbmVlZCB0byBvdmVycmlkZSBsb2NhbENvbXB1dGVcbiAgICAgIEdNVXBkYXRlOiBmYWxzZSAvLyAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29tcHV0ZS5HTT1mYWxzZV0gaW52b3F1ZSB0aGUgR01VcGRhdGUgbWV0aG9kIGFzIEdNID0+IG5lZWQgdG8gb3ZlcnJpZGUgR01VcGRhdGVcbiAgICB9XG4gIH1cblxuICBnZXQgb2JqZWN0RGF0YVN0cmluZyAoKSB7XG4gICAgY29uc3Qgc2F2ZURhdGEgPSB7XG4gICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICBvcHRpb25zOiB0aGlzLl9vcHRpb25zXG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzYXZlRGF0YSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodGhpcy5vcHRpb25zLmV4Y2x1ZGVTdGFydFdpdGgpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIGlmICh4ID09PSBmYWxzZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2VJZCAobWVzc2FnZUlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tTWVzc2FnZShtZXNzYWdlKVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tTWVzc2FnZSAobWVzc2FnZSkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChtZXNzYWdlLmRhdGEuY29udGVudClbMF1cbiAgICBpZiAoIWNhcmRFbGVtZW50KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IHRoaXMuZnJvbUhUTUxDYXJkRWxlbWVudChjYXJkRWxlbWVudClcbiAgICBjYXJkLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tSFRNTENhcmRFbGVtZW50IChodG1tbENhcmQpIHtcbiAgICBpZiAoIWh0bW1sQ2FyZCkgcmV0dXJuXG4gICAgaWYgKCFodG1tbENhcmQuZGF0YXNldC5lY2NDbGFzcykgcmV0dXJuXG4gICAgaWYgKCFodG1tbENhcmQuZGF0YXNldC5vYmplY3QpIHJldHVyblxuICAgIGNvbnN0IGNhcmREYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShodG1tbENhcmQuZGF0YXNldC5vYmplY3QpKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBodG1tbENhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKVxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IG1lc3NhZ2U/LmRhdGFzZXQ/Lm1lc3NhZ2VJZFxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZnJvbURhdGEoXG4gICAgICBjYXJkRGF0YS5kYXRhLFxuICAgICAgY2FyZERhdGEub3B0aW9ucyxcbiAgICAgIGh0bW1sQ2FyZC5kYXRhc2V0LmVjY0NsYXNzLFxuICAgICAgbWVzc2FnZUlkXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21EYXRhIChkYXRhLCBvcHRpb25zLCBjYXJkQ2xhc3NOYW1lLCBtZXNzYWdlSWQgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBDYXJkQ2xhc3MgPSBnYW1lLmVuaGFuY2VkQ2hhdENhcmRzTGliLnR5cGVzLmdldChjYXJkQ2xhc3NOYW1lKVxuXG4gICAgaWYgKCFDYXJkQ2xhc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gY2hhdCBjYXJkIHR5cGU6ICR7Y2FyZENsYXNzTmFtZX1gKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZENsYXNzKGRhdGEsIG9wdGlvbnMpXG4gICAgaWYgKG1lc3NhZ2VJZCkgY2FyZC5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgICBhd2FpdCBjYXJkLmFzc2lnbk9iamVjdHMoKVxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzZXREYXRhIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lICYmICEoJC50eXBlKG5hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHNldEJ5UGF0aCh0aGlzLCBuYW1lLCB0cnVlKVxuICB9XG5cbiAgdW5zZXREYXRhIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lICYmICEoJC50eXBlKG5hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHNldEJ5UGF0aCh0aGlzLCBuYW1lLCBmYWxzZSlcbiAgfVxuXG4gIHRvZ2dsZURhdGEgKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUgJiYgISgkLnR5cGUobmFtZSkgPT09ICdzdHJpbmcnKSkgcmV0dXJuXG4gICAgY29uc3QgdmFsdWUgPSBnZXRCeVBhdGgodGhpcywgbmFtZSlcbiAgICBzZXRCeVBhdGgodGhpcywgbmFtZSwgIXZhbHVlKVxuICB9XG5cbiAgYXN5bmMgX29uVG9nZ2xlIChldmVudCkge1xuICAgIC8vIGNvbnN0IGFuc3dlciA9IGF3YWl0IEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LmV4ZWN1dGVBc0dNKCdnbV9vblRvZ2dsZScsIHtcbiAgICAvLyAgIGV2ZW50OiBldmVudCxcbiAgICAvLyAgIGNhcmQ6IHRoaXNcbiAgICAvLyB9KVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAoJ2FjdGlvbicgaW4gdGFyZ2V0LmRhdGFzZXQpIHJldHVybiB0aGlzLl9vbkJ1dHRvbihldmVudClcbiAgICBpZiAoXG4gICAgICB0YXJnZXQgJiZcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2dtLXNlbGVjdC1vbmx5JykgJiZcbiAgICAgICFnYW1lLnVzZXIuaXNHTVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSB0YXJnZXQuZGF0YXNldC5mbGFnXG4gICAgICA/IGBkYXRhLmZsYWdzLiR7dGFyZ2V0LmRhdGFzZXQuZmxhZ31gXG4gICAgICA6IHRhcmdldC5kYXRhc2V0Lm5hbWVcbiAgICBpZiAoIW5hbWUpIHJldHVyblxuICAgIGNvbnN0IHRvZ2dsZSA9IHRhcmdldC5jbG9zZXN0KCcuZWNjLXJhZGlvJylcbiAgICBpZiAoIXRvZ2dsZSkge1xuICAgICAgdGhpcy50b2dnbGVEYXRhKG5hbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0b2dnbGUucXVlcnlTZWxlY3RvckFsbCgnLmVjYy1zd2l0Y2gnKVxuICAgICAgZm9yIChjb25zdCBiIG9mIGJ1dHRvbnMpIHtcbiAgICAgICAgY29uc3QgYk5hbWUgPSBiLmRhdGFzZXQuZmxhZ1xuICAgICAgICAgID8gYGRhdGEuZmxhZ3MuJHtiLmRhdGFzZXQuZmxhZ31gXG4gICAgICAgICAgOiBiLmRhdGFzZXQubmFtZVxuICAgICAgICB0aGlzLnVuc2V0RGF0YShiTmFtZSlcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0RGF0YShuYW1lKVxuICAgIH1cbiAgICBjb25zdCBjYXJkID0gdGFyZ2V0LmNsb3Nlc3QoYC4ke0VDQ19DTEFTU31gKVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3VibWl0T25DaGFuZ2UpIHtcbiAgICAgIGlmIChjYXJkKSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICB9XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpIC8vIFN1Ym1pdCBvbiBjaGFuZ2UgP1xuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIF9wYXJ0aWNpcGFudCB7XG4gIGNvbnN0cnVjdG9yIChkYXRhID0ge30pIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhXG4gIH1cblxuICBfZmV0Y2ggKCkge1xuICAgIGlmICghdGhpcy5fZG9jICYmIHRoaXMuZGF0YS5kb2NVdWlkKSB7XG4gICAgICB0aGlzLl9kb2MgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2FjdG9yKSB7XG4gICAgICBpZiAodGhpcy5fZG9jKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fZG9jLmNvbnN0cnVjdG9yPy5uYW1lKSB7XG4gICAgICAgICAgY2FzZSAnVG9rZW5Eb2N1bWVudCc6XG4gICAgICAgICAgICB0aGlzLl9hY3RvciA9IHRoaXMuX2RvYy5hY3RvclxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ0NvQ0FjdG9yJzpcbiAgICAgICAgICAgIHRoaXMuX2FjdG9yID0gdGhpcy5fZG9jXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgdGhpcy5fYWN0b3IgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIHRoaXMuX2ZldGNoKClcbiAgICByZXR1cm4gdGhpcy5fYWN0b3JcbiAgfVxuXG4gIGdldCBpc0FjdG9yICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBY3RvciB8fCB0aGlzLmhhc1ZlaGljbGVcbiAgfVxuXG4gIGdldCBpc0FjdGl2ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5hY3RpdmUgfHwgZmFsc2VcbiAgfVxuXG4gIGdldCBrZXkgKCkge1xuICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHJldHVybiB0aGlzLnZlaGljbGUuYWN0b3JLZXlcbiAgICBpZiAodGhpcy5oYXNBY3RvcikgcmV0dXJuIHRoaXMuYWN0b3IuYWN0b3JLZXlcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgaWNvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzQWN0b3IpIHtcbiAgICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9xdWVzdGlvbi1jaXJjbGUtcmVndWxhci5zdmcnXG4gICAgfVxuICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHJldHVybiB0aGlzLnZlaGljbGUuaW1nXG4gICAgaWYgKHRoaXMuaGFzQWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLmltZ1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBkcml2ZXIgKCkge1xuICAgIGlmICghdGhpcy5fZHJpdmVyKSB7XG4gICAgICB0aGlzLl9kcml2ZXIgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RyaXZlclxuICB9XG5cbiAgZ2V0IHZlaGljbGUgKCkge1xuICAgIGlmICh0aGlzLmRhdGEudmVoaWNsZUtleSkge1xuICAgICAgdGhpcy5fdmVoaWNsZSA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuZGF0YS52ZWhpY2xlS2V5KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmVoaWNsZVxuICB9XG5cbiAgZ2V0IGhhc0FjdG9yICgpIHtcbiAgICByZXR1cm4gISF0aGlzLmFjdG9yXG4gIH1cblxuICBnZXQgaGFzVmVoaWNsZSAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy52ZWhpY2xlXG4gIH1cblxuICBnZXQgbmFtZSAoKSB7XG4gICAgaWYgKHRoaXMuaGFzVmVoaWNsZSkgcmV0dXJuIHRoaXMudmVoaWNsZS5uYW1lXG4gICAgaWYgKHRoaXMuaGFzQWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLm5hbWVcbiAgICByZXR1cm4gdGhpcy5kYXRhLm5hbWUgfHwgdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgbW92ICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5tb3YpIHtcbiAgICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHRoaXMuZGF0YS5tb3YgPSB0aGlzLnZlaGljbGUubW92XG4gICAgICBlbHNlIGlmICh0aGlzLmhhc0FjdG9yKSB0aGlzLmRhdGEubW92ID0gdGhpcy5hY3Rvci5tb3ZcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLm1vdikge1xuICAgICAgaWYgKCFpc05hTihOdW1iZXIodGhpcy5kYXRhLm1vdikpKSB0aGlzLmRhdGEuaGFzVmFsaWRNb3YgPSB0cnVlXG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhLmhhc1ZhbGlkTW92ID0gZmFsc2VcbiAgICAgICAgdGhpcy5kYXRhLm1vdiA9IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGEubW92XG4gIH1cblxuICBnZXQgdXVpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS51dWlkXG4gIH1cblxuICBnZXQgaGFzTWF4Qm9udXNEaWNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib251c0RpY2UgPj0gMlxuICB9XG5cbiAgZ2V0IGJvbnVzRGljZSAoKSB7XG4gICAgaWYgKFxuICAgICAgaXNOYU4odGhpcy5kYXRhLmJvbnVzRGljZSkgfHxcbiAgICAgIHRoaXMuZGF0YS5ib251c0RpY2UgPCAwIHx8XG4gICAgICB0aGlzLmRhdGEuYm9udXNEaWNlID4gMlxuICAgICkge1xuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5ib251c0RpY2VcbiAgfVxuXG4gIHNldCBib251c0RpY2UgKHgpIHtcbiAgICBpZiAoaXNOYU4oeCkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0JvbnVzIGRpY2UgY2FuIE9ubHkgYmUgYSBudW1iZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh4ID4gMikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignTWF4IDIgYm9udXMgZGljZScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHggPCAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdObyBuZWdhdGl2IGJvbnVzIGRpY2UnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgPSB4XG4gIH1cblxuICBnZXQgaHAgKCkge1xuICAgIGlmICghdGhpcy5kYXRhLmhwKSB7XG4gICAgICB0aGlzLmRhdGEuaHAgPSAwXG4gICAgfVxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICB0aGlzLmRhdGEuaHAgPSB0aGlzLmFjdG9yLmhwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5ocFxuICB9XG5cbiAgc2V0IGhwICh4KSB7XG4gICAgdGhpcy5kYXRhLmhwID0geFxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICB0aGlzLmFjdG9yLnNldEhwKHgpXG4gICAgfVxuICB9XG5cbiAgYWRkQm9udXNEaWNlICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLmJvbnVzRGljZSA+PSAyKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdBbHJlYWR5IGhhdmUgbWF4IGJvbnVzIGRpY2UnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgKz0gMVxuICB9XG5cbiAgcmVtb3ZlQm9udXNEaWNlICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLmJvbnVzRGljZSA8PSAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdBbHJlYWR5IGhhdmUgMCBib251cyBkaWNlJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmRhdGEuYm9udXNEaWNlIC09IDFcbiAgfVxuXG4gIHJlc2V0Qm9udXNEaWNlICgpIHtcbiAgICB0aGlzLmRhdGEuYm9udXNEaWNlID0gMFxuICB9XG5cbiAgZ2V0IGhhc0JvbnVzRGljZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzT25lQm9udXNEaWNlIHx8IHRoaXMuaGFzVHdvQm9udXNEaWNlXG4gIH1cblxuICBnZXQgaGFzT25lQm9udXNEaWNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib251c0RpY2UgPj0gMVxuICB9XG5cbiAgZ2V0IGhhc1R3b0JvbnVzRGljZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYm9udXNEaWNlID49IDJcbiAgfVxuXG4gIGdldCBjYW5Bc3Npc3QgKCkge1xuICAgIHJldHVybiB0aGlzLmFzc2lzdD8ubGVuZ3RoID4gMFxuICB9XG5cbiAgZ2V0IGNhbkJlQ2F1dGlvdXMgKCkge1xuICAgIHJldHVybiAhdGhpcy5oYXNNYXhCb251c0RpY2VcbiAgfVxuXG4gIGdldCBhc3Npc3QgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuYXNzaXN0IHx8IFtdXG4gIH1cblxuICBnZXQgZGV4ICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5kZXgpIHtcbiAgICAgIGlmICh0aGlzLmhhc1ZlaGljbGUgJiYgdGhpcy5oYXNEcml2ZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRleCA9IHRoaXMuZHJpdmVyLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWVcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNBY3Rvcikge1xuICAgICAgICB0aGlzLmRhdGEuZGV4ID0gdGhpcy5hY3Rvci5jaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5kZXgpIHtcbiAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuZGF0YS5kZXgpKSkgdGhpcy5kYXRhLmhhc1ZhbGlkRGV4ID0gdHJ1ZVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YS5oYXNWYWxpZERleCA9IGZhbHNlXG4gICAgICAgIHRoaXMuZGF0YS5kZXggPSAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5kZXhcbiAgfVxuXG4gIGdldCBoYXNBR3VuUmVhZHkgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuaGFzQUd1blJlYWR5IHx8IGZhbHNlXG4gIH1cblxuICBnZXQgaW5pdGlhdGl2ZSAoKSB7XG4gICAgbGV0IGluaXQgPSB0aGlzLmRleFxuICAgIGlmICh0aGlzLmhhc0FHdW5SZWFkeSkge1xuICAgICAgaW5pdCArPSA1MFxuICAgIH1cbiAgICAvLyBpZiggdGhpcy5zcGVlZENoZWNrKXtcbiAgICAvLyAgIGlmKHRoaXMuc3BlZWRDaGVjay5zY29yZSkgaW5pdCArPSB0aGlzLnNwZWVkQ2hlY2suc2NvcmUvMTAwXG4gICAgLy8gfVxuXG4gICAgcmV0dXJuIGluaXRcbiAgfVxuXG4gIGdldCBpc0NoYXNlciAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5kYXRhLmNoYXNlclxuICB9XG5cbiAgZ2V0IGlzUHJleSAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzQ2hhc2VyXG4gIH1cblxuICBnZXQgaXNWYWxpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzVmFsaWREZXggJiYgdGhpcy5oYXNWYWxpZE1vdlxuICB9XG5cbiAgZ2V0IGhhc1ZhbGlkRGV4ICgpIHtcbiAgICByZXR1cm4gIWlzTmFOKE51bWJlcih0aGlzLmRhdGEuZGV4KSlcbiAgfVxuXG4gIGdldCBoYXNWYWxpZE1vdiAoKSB7XG4gICAgcmV0dXJuICFpc05hTihOdW1iZXIodGhpcy5kYXRhLm1vdikpXG4gIH1cblxuICBnZXQgaGFzRHJpdmVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNWZWhpY2xlICYmIHRoaXMuaGFzQWN0b3JcbiAgfVxuXG4gIGdldCBtb3ZBZGp1c3RtZW50ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/LnJvbGxEYXRhU3RyaW5nKSB7XG4gICAgICBjb25zdCByb2xsID0gQ29DN0NoZWNrLmZyb21Sb2xsU3RyaW5nKHRoaXMuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nKVxuICAgICAgaWYgKHJvbGwpIHtcbiAgICAgICAgaWYgKCFyb2xsLnN0YW5kYnkpIHtcbiAgICAgICAgICBpZiAocm9sbC5zdWNjZXNzTGV2ZWwgPj0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lKSByZXR1cm4gMVxuICAgICAgICAgIGVsc2UgaWYgKHJvbGwuZmFpbGVkKSByZXR1cm4gLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgZ2V0IGFkanVzdGVkTW92ICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMubW92ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChpc05hTihOdW1iZXIodGhpcy5tb3YpKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiBOdW1iZXIodGhpcy5tb3YpICsgdGhpcy5tb3ZBZGp1c3RtZW50XG4gIH1cblxuICBnZXQgaGFzTW92QWRqdXN0bWVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQm9udXNNb3YgfHwgdGhpcy5oYXNNYWx1c01vdlxuICB9XG5cbiAgZ2V0IGhhc0JvbnVzTW92ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLm1vdkFkanVzdG1lbnQgPiAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGhhc01hbHVzTW92ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLm1vdkFkanVzdG1lbnQgPCAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gZ2V0IG9wdGlvbnMoKXtcbiAgLy8gIHJldHVybiB7XG4gIC8vICAgIGV4Y2x1ZGU6IFtdLFxuICAvLyAgICBleGNsdWRlU3RhcnRXaXRoOiAnXydcbiAgLy8gIH07XG4gIC8vIH1cblxuICAvLyBnZXQgZGF0YVN0cmluZygpe1xuICAvLyAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMsIChrZXksdmFsdWUpPT57XG4gIC8vICAgIGlmKCBudWxsID09PSB2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgLy8gICAgaWYoIHRoaXMub3B0aW9ucy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAvLyAgICBpZigga2V5LnN0YXJ0c1dpdGgodGhpcy5vcHRpb25zLmV4Y2x1ZGVTdGFydFdpdGgpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAvLyAgICByZXR1cm4gdmFsdWU7XG4gIC8vICB9KTtcbiAgLy8gfVxuXG4gIHRvb1Nsb3cgKCkge1xuICAgIHRoaXMuZGF0YS5leGNsdWRlZCA9IHRydWVcbiAgfVxuXG4gIGluY2x1ZGVJbkNoYXNlICgpIHtcbiAgICB0aGlzLmRhdGEuZXhjbHVkZWQgPSBmYWxzZVxuICAgIHRoaXMuZGF0YS5lc2NhcGVkID0gZmFsc2VcbiAgfVxuXG4gIGVzY2FwZWQgKCkge1xuICAgIHRoaXMuZGF0YS5lc2NhcGVkID0gdHJ1ZVxuICB9XG5cbiAgc2V0IHNsb3dlc3QgKHgpIHtcbiAgICB0aGlzLmRhdGEuc2xvd2VzdCA9IHhcbiAgfVxuXG4gIGdldCBzbG93ZXN0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLnNsb3dlc3RcbiAgfVxuXG4gIHNldCBmYXN0ZXN0ICh4KSB7XG4gICAgdGhpcy5kYXRhLmZhc3Rlc3QgPSB4XG4gIH1cblxuICBnZXQgZmFzdGVzdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5mYXN0ZXN0XG4gIH1cblxuICBjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMgKG1pbk1vdikge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLm1vdmVtZW50QWN0aW9uID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgdHlwZW9mIHRoaXMuYWRqdXN0ZWRNb3YgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICBpc05hTihtaW5Nb3YpXG4gICAgKSB7XG4gICAgICB0aGlzLm1vdmVtZW50QWN0aW9uID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vdmVtZW50QWN0aW9uID0gMSArICh0aGlzLmFkanVzdGVkTW92IC0gbWluTW92KVxuICAgIH1cbiAgICAvLyBpZiggdGhpcy5tb3ZlbWVudEFjdGlvbiA8IDApIHRoaXMubW92ZW1lbnRBY3Rpb24gPSAwXG4gIH1cblxuICBzZXQgbW92ZW1lbnRBY3Rpb24gKHgpIHtcbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPSB4XG4gIH1cblxuICBnZXQgbW92ZW1lbnRBY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25cbiAgfVxuXG4gIHNldCBjdXJyZW50TW92ZW1lbnRBY3Rpb25zICh4KSB7XG4gICAgdGhpcy5kYXRhLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPSB4XG4gIH1cblxuICBnZXQgY3VycmVudE1vdmVtZW50QWN0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIHx8IDBcbiAgfVxuXG4gIGdldCBoYXNNYXhNdnRBY3Rpb25zICgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zID49IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgfVxuXG4gIGdldCBoYXNOb012dEFjdGlvbnMgKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPD0gMFxuICB9XG5cbiAgYWRkTW92ZW1lbnRBY3Rpb25zICh4ID0gMSkge1xuICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyArPSB4XG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IHRoaXMubW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgICB9XG4gIH1cblxuICBhbHRlck1vdmVtZW50QWN0aW9ucyAoeCkge1xuICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyArPSB4XG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IHRoaXMubW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgICB9XG4gIH1cblxuICBnZXQgbW92ZW1lbnRBY3Rpb25BcnJheSAoKSB7XG4gICAgY29uc3QgYmFzZUFycmF5ID0gQXJyYXkodGhpcy5tb3ZlbWVudEFjdGlvbikuZmlsbCgnYmFzZScpXG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+PSAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9uczsgaSsrKSB7XG4gICAgICAgIGJhc2VBcnJheVtpXSA9ICdiYXNlIGF2YWlsYWJsZSdcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQXJyYXlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgMCkge1xuICAgICAgY29uc3QgZGVmaWNpdEFycmF5ID0gQXJyYXkoTWF0aC5hYnModGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zKSkuZmlsbChcbiAgICAgICAgJ2RlZmljaXQnXG4gICAgICApXG4gICAgICByZXR1cm4gZGVmaWNpdEFycmF5LmNvbmNhdChiYXNlQXJyYXkpXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNzc0NsYXNzICgpIHtcbiAgICBjb25zdCBjc3NDbGFzc2VzID0gW11cbiAgICBpZiAodGhpcy5pc0NoYXNlcikgY3NzQ2xhc3Nlcy5wdXNoKCdjaGFzZXInKVxuICAgIGVsc2UgY3NzQ2xhc3Nlcy5wdXNoKCdwcmV5JylcbiAgICBpZiAodGhpcy5kYXRhLmV4Y2x1ZGVkKSBjc3NDbGFzc2VzLnB1c2goJ2V4Y2x1ZGVkJywgJ3Rvb19zbG93JylcbiAgICBpZiAodGhpcy5kYXRhLmVzY2FwZWQpIGNzc0NsYXNzZXMucHVzaCgnZXNjYXBlZCcpXG4gICAgaWYgKHRoaXMuZGF0YS5mYXN0ZXN0KSBjc3NDbGFzc2VzLnB1c2goJ2Zhc3Rlc3QnKVxuICAgIGlmICh0aGlzLmRhdGEuc2xvd2VzdCkgY3NzQ2xhc3Nlcy5wdXNoKCdzbG93ZXN0JylcbiAgICBpZiAodGhpcy5kYXRhLmFjdGl2ZSkgY3NzQ2xhc3Nlcy5wdXNoKCdhY3RpdmUnKVxuICAgIGlmICh0aGlzLmRhdGEuY3VycmVudE1vdmVtZW50QWN0aW9ucyA8PSAwKSBjc3NDbGFzc2VzLnB1c2goJ25vLWFjdGlvbnMnKVxuICAgIHJldHVybiBjc3NDbGFzc2VzLmpvaW4oJyAnKVxuICB9XG5cbiAgZ2V0IHNwZWVkQ2hlY2sgKCkge1xuICAgIGNvbnN0IGNoZWNrID0ge31cbiAgICBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/Lm5hbWUpIGNoZWNrLm5hbWUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5uYW1lXG4gICAgaWYgKHRoaXMuZGF0YS5zcGVlZENoZWNrPy5zY29yZSkgY2hlY2suc2NvcmUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5zY29yZVxuICAgIGNoZWNrLmNzc0NsYXNzZXMgPSAnJ1xuICAgIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ucm9sbERhdGFTdHJpbmcpIHtcbiAgICAgIGNoZWNrLnJvbGwgPSBDb0M3Q2hlY2suZnJvbVJvbGxTdHJpbmcodGhpcy5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcpXG4gICAgICBpZiAoY2hlY2sucm9sbCkge1xuICAgICAgICBpZiAoIWNoZWNrLnJvbGwuc3RhbmRieSB8fCBjaGVjay5yb2xsLmhhc0NhcmQpIHtcbiAgICAgICAgICBjaGVjay5yb2xsZWQgPSB0cnVlXG4gICAgICAgICAgY2hlY2suaW5saW5lUm9sbCA9IGNoZWNrLnJvbGwuaW5saW5lQ2hlY2sub3V0ZXJIVE1MXG4gICAgICAgICAgY2hlY2suY3NzQ2xhc3NlcyArPSAncm9sbGVkJ1xuICAgICAgICAgIGlmICghY2hlY2sucm9sbC5zdGFuZGJ5KSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sucm9sbC5zdWNjZXNzTGV2ZWwgPj0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lKSB7XG4gICAgICAgICAgICAgIGNoZWNrLm1vZGlmaWVyQ3NzID0gJ3VwZ3JhZGUnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLnJvbGwuZmFpbGVkKSBjaGVjay5tb2RpZmllckNzcyA9ICdkb3duZ3JhZGUnXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNoZWNrLnJvbGwuc3VjY2Vzc0xldmVsID49IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSB8fFxuICAgICAgICAgICAgICBjaGVjay5yb2xsLmZhaWxlZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNoZWNrLmhhc01vZGlmaWVyID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5oYXNBY3Rvcikge1xuICAgICAgY2hlY2sub3B0aW9ucyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGMgb2YgWydjb24nXSkge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJpc3RpYyA9IHRoaXMuYWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWMoYylcbiAgICAgICAgaWYgKGNoYXJhY3RlcmlzdGljPy52YWx1ZSkgY2hlY2sub3B0aW9ucy5wdXNoKGNoYXJhY3RlcmlzdGljLmxhYmVsKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5hY3Rvci5kcml2ZVNraWxscykge1xuICAgICAgICBjaGVjay5vcHRpb25zLnB1c2gocy5uYW1lKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5hY3Rvci5waWxvdFNraWxscykge1xuICAgICAgICBjaGVjay5vcHRpb25zLnB1c2gocy5uYW1lKVxuICAgICAgfVxuICAgICAgY2hlY2suaGFzT3B0aW9ucyA9ICEhY2hlY2sub3B0aW9ucy5sZW5ndGhcblxuICAgICAgaWYgKHRoaXMuZGF0YS5zcGVlZENoZWNrPy5pZCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuYWN0b3IuZmluZCh0aGlzLmRhdGEuc3BlZWRDaGVjay5pZClcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgY29uc3QgZ2FtZUl0ZW0gPSBnYW1lLml0ZW1zLmdldCh0aGlzLmRhdGEuc3BlZWRDaGVjay5pZClcbiAgICAgICAgICBpZiAoZ2FtZUl0ZW0pIGl0ZW0gPSB0aGlzLmFjdG9yLmZpbmQoZ2FtZUl0ZW0ubmFtZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2l0ZW0nICYmIGl0ZW0udmFsdWUuZGF0YT8udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubmFtZVxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdza2lsbCdcbiAgICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5yZWZTZXQgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0udmFsdWUudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NoYXJhY3RlcmlzdGljJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubGFiZWxcbiAgICAgICAgICAgIGNoZWNrLnR5cGUgPSAnY2hhcmFjdGVyaXN0aWMnXG4gICAgICAgICAgICBjaGVjay5pc0NoYXJhY3RlcmlzdGljID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2sucmVmU2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2suc2NvcmUgPSBpdGVtLnZhbHVlLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICBjaGVjay5yZWYgPSBpdGVtLnZhbHVlXG4gICAgICAgICAgICBjaGVjay5uYW1lID0gaXRlbS52YWx1ZS5sYWJlbFxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdhdHRyaWJ1dGUnXG4gICAgICAgICAgICBjaGVjay5pc0F0dHJpYnV0ZSA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnJlZlNldCA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnNjb3JlID0gaXRlbS52YWx1ZS52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ubmFtZSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5maW5kKHRoaXMuZGF0YS5zcGVlZENoZWNrLm5hbWUpXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2l0ZW0nICYmIGl0ZW0udmFsdWUuZGF0YT8udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubmFtZVxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdza2lsbCdcbiAgICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5yZWZTZXQgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0udmFsdWUudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NoYXJhY3RlcmlzdGljJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubGFiZWxcbiAgICAgICAgICAgIGNoZWNrLnR5cGUgPSAnY2hhcmFjdGVyaXN0aWMnXG4gICAgICAgICAgICBjaGVjay5pc0NoYXJhY3RlcmlzdGljID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2sucmVmU2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2suc2NvcmUgPSBpdGVtLnZhbHVlLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICBjaGVjay5yZWYgPSBpdGVtLnZhbHVlXG4gICAgICAgICAgICBjaGVjay5uYW1lID0gaXRlbS52YWx1ZS5sYWJlbFxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdhdHRyaWJ1dGUnXG4gICAgICAgICAgICBjaGVjay5pc0F0dHJpYnV0ZSA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnJlZlNldCA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnNjb3JlID0gaXRlbS52YWx1ZS52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/LmlkKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2FtZS5pdGVtcy5nZXQodGhpcy5kYXRhLnNwZWVkQ2hlY2suaWQpXG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5kYXRhPy50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgY2hlY2sucmVmID0gaXRlbVxuICAgICAgICAgIGNoZWNrLm5hbWUgPSBpdGVtLm5hbWVcbiAgICAgICAgICBjaGVjay50eXBlID0gJ3NraWxsJ1xuICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgY2hlY2sucmVmU2V0ID0gZmFsc2VcbiAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0uYmFzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ubmFtZSAmJiB0aGlzLmRhdGEuc3BlZWRDaGVjaz8uc2NvcmUpIHtcbiAgICAgIGNoZWNrLm5hbWUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5uYW1lXG4gICAgICBjaGVjay5zY29yZSA9IHRoaXMuZGF0YS5zcGVlZENoZWNrLnNjb3JlXG4gICAgICBjaGVjay5yZWZTZXQgPSBmYWxzZVxuICAgIH1cblxuICAgIGNoZWNrLmNhbkJlUm9sbGVkID0gdHJ1ZVxuXG4gICAgaWYgKCFjaGVjay5yb2xsZWQgJiYgIWNoZWNrLnNjb3JlKSB7XG4gICAgICBjaGVjay5jc3NDbGFzc2VzICs9ICcgaW52YWxpZCdcbiAgICAgIGNoZWNrLmNhbkJlUm9sbGVkID0gZmFsc2VcbiAgICB9XG4gICAgY2hlY2suaXNWYWxpZCA9IGNoZWNrLnJvbGxlZCAmJiAhaXNOYU4oY2hlY2suc2NvcmUpXG5cbiAgICByZXR1cm4gY2hlY2tcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5Um9sZUFuZERleCAoYSwgYikge1xuICBpZiAoIWEgJiYgYikgcmV0dXJuIDFcbiAgaWYgKCFiICYmIGEpIHJldHVybiAtMVxuICBpZiAoIWEgJiYgIWIpIHJldHVybiAwXG4gIC8vIFB1dCBjaGFzZXJzIGZpcnN0XG4gIGlmIChiLmNoYXNlciAmJiAhYS5jaGFzZXIpIHJldHVybiAxXG4gIGlmIChhLmNoYXNlciAmJiAhYi5jaGFzZXIpIHJldHVybiAtMVxuICAvLyBJZiBzYW1ldHlwZSBzb3J0IGJ5IGRleFxuICByZXR1cm4gYS5kZXggLSBiLmRleFxufVxuIiwiLyogZ2xvYmFsIGR1cGxpY2F0ZSwgZm91bmRyeSwgZ2FtZSwgbWVyZ2VPYmplY3QsIFJvbGwsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IEVuaGFuY2VkQ2hhdENhcmQgfSBmcm9tICcuLi8uLi9jb21tb24vY2hhdGNhcmRsaWIvc3JjL2NoYXRjYXJkbGliLmpzJ1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuLi8uLi9kaWNlLmpzJ1xuaW1wb3J0IHsgX3BhcnRpY2lwYW50IH0gZnJvbSAnLi4vLi4vaXRlbXMvY2hhc2UvcGFydGljaXBhbnQuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgY3JlYXRlSW5saW5lUm9sbCB9IGZyb20gJy4uL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENoYXNlT2JzdGFjbGVDYXJkIGV4dGVuZHMgRW5oYW5jZWRDaGF0Q2FyZCB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5odG1sJyxcbiAgICAgIEdNVXBkYXRlOiB0cnVlXG4gICAgfSlcbiAgICBvcHRpb25zLmNsYXNzZXMucHVzaCgnb2JzdGFjbGUtY2FyZCcpXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgZGF0YS5zdGF0dXMgPSBbXVxuICAgIGRhdGEuc3RyaW5ncyA9IHt9XG4gICAgZGF0YS5kaXNwbGF5QWN0b3JPbkNhcmQgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXNwbGF5QWN0b3JPbkNhcmQnKVxuICAgIC8vIGRhdGEucGFydGljaXBhbnQgPSBuZXcgX3BhcnRpY2lwYW50KHRoaXMucGFydGljaXBhbnREYXRhKVxuXG4gICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICBuYW1lOlxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0aW9uQ29zdCcpICsgYCA6JHt0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0fWBcbiAgICB9KVxuXG4gICAgZGF0YS5jYXJkLmJyZWFrYWJsZU9ic3RhY2xlID1cbiAgICAgIGRhdGEuZGF0YS5vYnN0YWNsZT8uYmFycmllciAmJiBkYXRhLmRhdGEub2JzdGFjbGUuaGFzSGl0UG9pbnRzIC8vIFRPRE86IENoZWNrIGlmIHVzZWZ1bGxcbiAgICBkYXRhLmNhcmQudmFsaWRDaGVjayA9IGZhbHNlXG5cbiAgICBpZiAoXG4gICAgICBkYXRhLmRhdGEuc3RhdGVzPy5vYnN0YWNsZURlZmluZWQgJiZcbiAgICAgIChkYXRhLmRhdGEub2JzdGFjbGUuaGF6YXJkIHx8XG4gICAgICAgIChkYXRhLmRhdGEub2JzdGFjbGUuYmFycmllciAmJiAhZGF0YS5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cykpXG4gICAgKSB7XG4gICAgICBkYXRhLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlID0gdHJ1ZVxuICAgICAgZGF0YS5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICAgIGRhdGEuZGF0YS5zdGF0ZXMuYnJlYWtPck5lZ290aWF0ZURlZmluZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFydGljaXBhbnQ/LmFjdG9yKSB7XG4gICAgICBkYXRhLnNraWxsID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5maW5kKGRhdGEuZGF0YS5vYnN0YWNsZS5jaGVja05hbWUpXG4gICAgICBkYXRhLmNoZWNrT3B0aW9ucyA9IHRoaXMuY2hhc2UuZ2V0QWN0b3JTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3MoXG4gICAgICAgIHRoaXMuZGF0YS5wYXJ0aWNpcGFudFV1aWRcbiAgICAgIClcbiAgICAgIGlmIChkYXRhLnNraWxsKSB7XG4gICAgICAgIGRhdGEudmFsaWRDaGVjayA9IHRydWVcbiAgICAgICAgZGF0YS52YWxpZFNraWxsID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lICYmIGRhdGEuZGF0YS5jaGVja1RocmVzaG9sZCkge1xuICAgICAgICBkYXRhLnZhbGlkQ2hlY2sgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuY2hlY2tPcHRpb25zID0gdGhpcy5jaGFzZS5hbGxTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NcbiAgICAgIGRhdGEuZHVtbXlBY3RvciA9IHRydWVcbiAgICAgIGlmIChkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lICYmIGRhdGEuZGF0YS5jaGVja1RocmVzaG9sZCkge1xuICAgICAgICBkYXRhLnZhbGlkQ2hlY2sgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFkYXRhLmRhdGEuYm9udXNEaWNlKSBkYXRhLmRhdGEuYm9udXNEaWNlID0gMFxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5kYXRhLmJvbnVzRGljZSA8IDIgJiZcbiAgICAgIGRhdGEuZGF0YS50b3RhbEFjdGlvbkNvc3QgPCBkYXRhLmRhdGEubW92ZW1lbnRBY3Rpb25cbiAgICApIHtcbiAgICAgIGRhdGEuY2FuVGFrZUNhdXRpb3VzQXBwcm9hY2ggPSB0cnVlXG4gICAgfVxuXG4gICAgZGF0YS5jdXN0b21XZWFwb24gPSBmYWxzZVxuICAgIGlmICh0aGlzLmRhdGEud2VhcG9uQ2hvaWNlID09PSAnMCcpIHtcbiAgICAgIGRhdGEuY3VzdG9tV2VhcG9uID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChkYXRhLnZhbGlkQ2hlY2spIHtcbiAgICAgIGxldCBjaGVja05hbWUsIHZhbHVlXG4gICAgICBpZiAoZGF0YS5za2lsbCkge1xuICAgICAgICBjaGVja05hbWUgPSBkYXRhLnNraWxsLnZhbHVlLm5hbWVcbiAgICAgICAgdmFsdWUgPSBkYXRhLnNraWxsLnZhbHVlLnZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja05hbWUgPSBkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lXG4gICAgICAgIHZhbHVlID0gZGF0YS5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICB9XG4gICAgICBkYXRhLnN0cmluZ3MuY2hlY2tSb2xsUmVxdWVzdCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQXNrUm9sbCcsIHtcbiAgICAgICAgbmFtZTogY2hlY2tOYW1lLFxuICAgICAgICB2YWx1ZVxuICAgICAgfSlcbiAgICAgIGlmIChkYXRhLmRhdGEuYm9udXNEaWNlICE9PSAwKSB7XG4gICAgICAgIGlmIChkYXRhLmRhdGEuYm9udXNEaWNlID4gMCkge1xuICAgICAgICAgIGRhdGEuc3RyaW5ncy5jaGVja1JvbGxSZXF1ZXN0ICs9IGAgKCske2RhdGEuZGF0YS5ib251c0RpY2V9KWBcbiAgICAgICAgfSBlbHNlIGRhdGEuc3RyaW5ncy5jaGVja1JvbGxSZXF1ZXN0ICs9IGAgKCR7ZGF0YS5kYXRhLmJvbnVzRGljZX0pYFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLmRhdGEuc3RhdGVzPy5vYnN0YWNsZURlZmluZWQpIHtcbiAgICAgIGRhdGEuc3RyaW5ncy5vYnN0YWNsZURlZmluZWQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkZhY2luZ09ic3RhY2xlJywge1xuICAgICAgICB0eXBlOiBkYXRhLmRhdGEub2JzdGFjbGUuYmFycmllclxuICAgICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFCYXJyaWVyJylcbiAgICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BSGF6YXJkJylcbiAgICAgIH0pXG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLm5hbWUpIHtcbiAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGVmaW5lZCArPSBgICgke2RhdGEuZGF0YS5vYnN0YWNsZS5uYW1lfSlgXG4gICAgICB9XG5cbiAgICAgIGRhdGEuZGF0YS5zdGF0ZXMuY2FuQXNrUm9sbCA9IHRydWVcbiAgICAgIC8vIGRhdGEuZGF0YS5zdGF0ZXMub2JzdGFjbGVDYW5CZUJyb2tlbiA9IGZhbHNlXG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLmJhcnJpZXIpIHtcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7IG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5CYXJyaWVyJykgfSlcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5vYnN0YWNsZS5oYXNIaXRQb2ludHMpIHtcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHsgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkJyZWFrYWJsZScpIH0pXG4gICAgICAgICAgLy8gZGF0YS5kYXRhLnN0YXRlcy5vYnN0YWNsZUNhbkJlQnJva2VuID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLmhhemFyZCkge1xuICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHsgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhemFyZCcpIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlKSB7XG4gICAgICAgIGlmICghZGF0YS52YWxpZENoZWNrKSB7XG4gICAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm9WYWxpZENoZWNrJyksXG4gICAgICAgICAgICBjc3M6ICdlcnJvcidcbiAgICAgICAgICB9KVxuICAgICAgICAgIGRhdGEuc3RyaW5ncy5FbnRlclZhbHVlVGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgJ0NvQzcuU2tpbGxTZWxlY3RCYXNlJyxcbiAgICAgICAgICAgIHsgbmFtZTogZGF0YS5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSB9XG4gICAgICAgICAgKVxuICAgICAgICAgIGlmICghZGF0YS5kYXRhLmNoZWNrVGhyZXNob2xkKSBkYXRhLmRhdGEuc3RhdGVzLmNhbkFza1JvbGwgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKCFkYXRhLnZhbGlkU2tpbGwpIHtcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob1ZhbGlkU2tpbGwnKSxcbiAgICAgICAgICAgIGNzczogJ3dhcm5pbmcnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrKSB7XG4gICAgICAgIGxldCBkYW1hZ2VTdGF0dXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQnJlYWtEb3duJylcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5vYnN0YWNsZURhbWFnZVJvbGw/LnRvdGFsKSB7XG4gICAgICAgICAgZGFtYWdlU3RhdHVzICs9IGAgOiAke3RoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbC50b3RhbH1gXG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgbmFtZTogZGFtYWdlU3RhdHVzXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMub2JzdGFjbGVEYW1hZ2VSb2xsZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLm9iamVjdHM/Lm9ic3RhY2xlRGFtYWdlUm9sbD8udG90YWwgPD0gMCkge1xuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGFtYWdlID1cbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vRGFtYWdlRGVhbHQnKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLmlubGluZURhbWFnZVJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgICAgICB0aGlzLmRhdGEub2JqZWN0cy5vYnN0YWNsZURhbWFnZVJvbGxcbiAgICAgICAgICAgICk/Lm91dGVySFRNTFxuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGFtYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EYW1hZ2VEZWFsdCcsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGRhdGEuaW5saW5lRGFtYWdlUm9sbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMudHJ5VG9OZWdvdGlhdGUpIHtcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7IG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OZWdvdGlhdGUnKSB9KVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5kYXRhLnRvdGFsQ2F1dGlvdXNBcHByb2FjaCkge1xuICAgICAgICBjb25zdCBjYXV0aW91c1N0YXR1cyA9IHtcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2F1dGlvdXMnKSxcbiAgICAgICAgICBjc3M6ICcnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YS50b3RhbENhdXRpb3VzQXBwcm9hY2ggPiAxKSB7XG4gICAgICAgICAgY2F1dGlvdXNTdGF0dXMuY3NzID0gJ3N0cm9uZydcbiAgICAgICAgICBkYXRhLnN0cmluZ3MuY2F1dGlvdXNBcHByb2FjaFR5cGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5CZWluZ1ZlcnlDYXV0aW91cydcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmNhdXRpb3VzQXBwcm9hY2hUeXBlID1cbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5CZWluZ0NhdXRpb3VzJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuZmxhZ3MuY29uc3VtZUJvbnVzRGljZSkgY2F1dGlvdXNTdGF0dXMuY3NzICs9ICcgY29uc3VtZSdcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaChjYXV0aW91c1N0YXR1cylcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaykge1xuICAgICAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhemFyZCkgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlIC8vIE9uIGhhemFyZCwgeW91IHBhc3MgZXZlbiBpZiB5b3UgZmFpbCB5b3VyIHJvbGxcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLnBhc3NlZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEubW92ZVBsYXllciA9IHRydWVcbiAgICAgICAgICBkYXRhLnN0cmluZ3Mub2JzdGFjbGVQYXNzZWQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5PYnN0YWNsZVBhc3NlZCdcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLmx1Y2tTcGVudCkge1xuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlUGFzc2VkICs9IGAgKCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5Hb3RMdWNreSdcbiAgICAgICAgICAgICl9KWBcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU3VjY2VzcycpLFxuICAgICAgICAgICAgY3NzOiAnc3VjY2VzcydcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLmlzRnVtYmxlKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmNoZWNrRmFpbGVkID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9ic3RhY2xlRnVtYmxlJylcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GdW1ibGUnKSxcbiAgICAgICAgICAgIGNzczogJ2Z1bWJsZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEuc3RyaW5ncy5jaGVja0ZhaWxlZCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5PYnN0YWNsZUZhaWwnKVxuICAgICAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZhaWx1cmUnKSxcbiAgICAgICAgICAgIGNzczogJ2ZhaWx1cmUnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnBsYXllckFjdGlvbkRlZmluZWQpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkKSB7XG4gICAgICAgIGRhdGEuc3RyaW5ncy5wbGF5ZXJJbnRlbnRpb25zID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LlRyeVRvTmVnb3RpYXRlSGF6YXJkJ1xuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5vYnN0YWNsZS5iYXJyaWVyKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLnBsYXllckludGVudGlvbnMgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5UcnlUb0dldFBhc3RCYXJyaWVycydcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLnBsYXllckludGVudGlvbnMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHJ5VG9CcmVhaycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy5jaGVja1JvbGxlZCkge1xuICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkKSB7XG4gICAgICAgIC8vIElmIHRoZSBjYXJkIGlzIHJlc29sdmVkIHRoZSBjaGVjayBpcyBmcm96ZW5cbiAgICAgICAgZGF0YS5odG1sQ2hlY2sgPSBhd2FpdCB0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5pbmxpbmVDaGVjaz8ub3V0ZXJIVE1MXG4gICAgICB9IGVsc2UgZGF0YS5odG1sQ2hlY2sgPSBhd2FpdCB0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5nZXRIdG1sUm9sbCgpXG4gICAgfVxuXG4gICAgLy8gaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5mYWlsZWREYW1hZ2VSb2xsKSB7XG4gICAgLy8gICBpZiAoIWRhdGEuZGF0YS5hcm1vcikge1xuICAgIC8vICAgICBpZiAodGhpcy5wYXJ0aWNpcGFudC5hY3RvcilcbiAgICAvLyAgICAgICBkYXRhLmRhdGEuYXJtb3IgPVxuICAgIC8vICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5kYXRhLmRhdGEuYXR0cmlicy5hcm1vci52YWx1ZSB8fCAwXG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAoZGF0YS5kYXRhLmFybW9yKSB7XG4gICAgLy8gICAgIGlmIChpc05hTihOdW1iZXIoZGF0YS5kYXRhLmFybW9yKSkpIGRhdGEuZGF0YS5hcm1vciA9IG51bGxcbiAgICAvLyAgIH1cbiAgICAvLyB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy5jYXJkUmVzb2x2ZWQpIHtcbiAgICAgIGRhdGEucGxheWVyRGFtYWdlVGFrZW4gPSBmYWxzZVxuICAgICAgZGF0YS5vYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkID0gZmFsc2VcblxuICAgICAgLy8gSGFzIHRoZSBvYnN0YWNsZSBjaGFuZ2VkID9cbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmxpc3RDaGFuZ2VzKClcbiAgICAgIGlmIChkaWZmLmNoYW5nZXMpIHtcbiAgICAgICAgZGF0YS5vYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBJcyBwbGF5ZXIgdGFraW5nIGRhbWFnZVxuICAgICAgaWYgKHRoaXMuZGF0YS5vYnN0YWNsZS5oYXNEYW1hZ2UgJiYgdGhpcy5kYXRhLm9iamVjdHM/LmNoZWNrPy5pc0ZhaWx1cmUpIHtcbiAgICAgICAgZGF0YS5wbGF5ZXJEYW1hZ2VUYWtlbiA9IHRydWVcbiAgICAgICAgZGF0YS5pbmxpbmVEYW1hZ2VUYWtlblJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZERhbWFnZVJvbGxcbiAgICAgICAgKT8ub3V0ZXJIVE1MXG4gICAgICAgIC8vIGlmIChkYXRhLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA8IDApXG4gICAgICAgIC8vICAgZGF0YS5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPSAwXG5cbiAgICAgICAgaWYgKGRhdGEuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VuID09PSAwKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmRhbWFnZVRha2VuID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LllvdVRha2VOb0RhbWFnZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmRhbWFnZVRha2VuID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICdDb0M3LllvdVRha2VTb21lRGFtYWdlJyxcbiAgICAgICAgICAgIHsgYW1vdW50OiBkYXRhLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICAgIG5hbWU6XG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG90YWxEYW1hZ2UnKSArXG4gICAgICAgICAgICBgIDoke2RhdGEuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VufWBcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGFzQWN0aW9uQ29zdCAmJlxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkICYmXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaz8uaXNGYWlsdXJlXG4gICAgICApIHtcbiAgICAgICAgZGF0YS5hY3Rpb25Mb3N0ID0gdHJ1ZVxuICAgICAgICBkYXRhLnN0cmluZ3MuYWN0aW9uTG9zdCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Zb3VMb3N0VGltZScpXG4gICAgICAgIGRhdGEuaW5saW5lQWN0aW9uTG9zdFJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZEFjdGlvblJvbGxcbiAgICAgICAgKT8ub3V0ZXJIVE1MXG4gICAgICB9XG5cbiAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2FyZFJlc29sdmVkJylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5kYXRhLm1vdmVQbGF5ZXIpIHtcbiAgICAgICAgZGF0YS5zdHJpbmdzLmZpbmFsT3V0Y29tZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Nb3ZlVG9Mb2NhdGlvbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLnN0cmluZ3MuZmluYWxPdXRjb21lID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LkRvbnRNb3ZlVG9Mb2NhdGlvbidcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBHTVVwZGF0ZSAoKSB7XG4gICAgaWYgKCFnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ29DNzogR01VcGRhdGUgY2FsbGVkIGZyb20gbm9uIEdNIHVzZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCkge1xuICAgICAgLy8gQ2FyZCBpcyByZXNvbHZlZCwgY29tcHV0ZSBhbGwgZm9ybXVsYXMgYW5kIGRhbWFnZS5cbiAgICAgIGlmICh0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkRGFtYWdlUm9sbD8udG90YWwpIHtcbiAgICAgICAgY29uc3QgdG90YWxEYW1hZ2UgPSB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsLnRvdGFsXG4gICAgICAgIGNvbnN0IGFybW9yVmFsdWUgPSB0aGlzLmRhdGEuZmxhZ3MuaWdub3JlQXJtb3IgPyAwIDogdGhpcy5kYXRhLmFybW9yXG4gICAgICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRm9ybXVsYShhcm1vclZhbHVlKSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcm1vciA9IChcbiAgICAgICAgICAgIGF3YWl0IG5ldyBSb2xsKGFybW9yVmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICkudG90YWxcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oTnVtYmVyKGFybW9yVmFsdWUpKSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcm1vciA9IE51bWJlcihhcm1vclZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA9IHRvdGFsRGFtYWdlIC0gdGhpcy5kYXRhLmFybW9yXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VuIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPSAwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuZGF0YS5yZWZsZWN0T2JzdGFsZUNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnJlZmxlY3RPYnN0YWxlQ2hhbmdlcyA9IHRydWUgLy8gQnkgZGVmYXVsdCByZWZsZWN0IGNoYW5nZXNcbiAgICAgIH1cblxuICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5kYXRhLm1vdmVQbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPVxuICAgICAgICAgICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlIHx8IHRoaXMuZGF0YS5vYnN0YWNsZS5oYXphcmQpICYmXG4gICAgICAgICAgIXRoaXMuZGF0YS5zdGF0ZXMuZmFpbGVkQ29uc2VxdWVuY2VzUm9sbGVkXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmJhcnJpZXIgJiZcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cyAmJlxuICAgICAgICB0aGlzLmRhdGEub2JqZWN0cz8ub2JzdGFjbGVEYW1hZ2VSb2xsPy50b3RhbFxuICAgICAgKSB7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuZGF0YS50b3RhbE9ic3RhY2xlRGFtYWdlKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2UgPVxuICAgICAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsLnRvdGFsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5kYXRhLmZsYWdzLm9ic3RhY2xlRGVzdG95ZWQpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuZmxhZ3Mub2JzdGFjbGVEZXN0b3llZCA9XG4gICAgICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuSGl0UG9pbnRzIC0gdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2UgPD0gMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25BcnJheSA9IGR1cGxpY2F0ZShcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudC5tb3ZlbWVudEFjdGlvbkFycmF5XG4gICAgICApXG4gICAgICB0aGlzLmRhdGEuRUVDX0FDVElPTiA9IHsgZGV0YWNoRGF0YTogdHJ1ZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBsb2NhbENvbXB1dGUgKCkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzeW5jIGFzc2lnbk9iamVjdHMgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjayAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2s/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnT2JqZWN0J1xuICAgICkge1xuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2sgPSBDb0M3Q2hlY2suZnJvbURhdGEodGhpcy5kYXRhLm9iamVjdHMuY2hlY2spXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5kYXRhLm9iamVjdHM/Lm9ic3RhY2xlRGFtYWdlUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ09iamVjdCdcbiAgICApIHtcbiAgICAgIHRoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbCA9IFJvbGwuZnJvbURhdGEoXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkRGFtYWdlUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbD8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsID0gUm9sbC5mcm9tRGF0YShcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkQWN0aW9uUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbD8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWRBY3Rpb25Sb2xsID0gUm9sbC5mcm9tRGF0YShcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSAoKSB7XG4gICAgLy8gY29uc3QgY2hhc2UgPSBhd2FpdCBmcm9tVXVpZCh0aGlzLmRhdGEuY2hhc2VVdWlkKVxuICAgIGlmICghdGhpcy5jaGFzZSkgcmV0dXJuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNoYXNlLmFjdGl2ZVBhcnRpY2lwYW50RGF0YT8udXVpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhID09PSAndW5kZWZpbmVkJykgdGhpcy5kYXRhID0ge31cbiAgICBpZiAodHlwZW9mIHRoaXMuZGF0YS5zdGF0ZXMgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEuc3RhdGVzID0ge31cblxuICAgIC8vIGNvbnN0IGxvY2F0aW9uID0gY2hhc2UuZ2V0TG9jYXRpb25EYXRhKHRoaXMuZGF0YS5sb2NhdGlvblV1aWQpXG4gICAgdGhpcy5kYXRhLm9ic3RhY2xlID0gdGhpcy5sb2NhdGlvbj8ub2JzdGFjbGVEZXRhaWxzIC8vIEZlZWQgdGhlIG9ic3RhY2xlIGRlZmluaXRpb25cbiAgICAvLyB0aGlzLmRhdGEucGFydGljaXBhbnREYXRhID0gY2hhc2UuYWN0aXZlUGFydGljaXBhbnREYXRhXG4gICAgdGhpcy5kYXRhLnBhcnRpY2lwYW50VXVpZCA9IHRoaXMuY2hhc2UuYWN0aXZlUGFydGljaXBhbnREYXRhLnV1aWRcblxuICAgIGlmICh0aGlzLnBhcnRpY2lwYW50RGF0YT8uYm9udXNEaWNlID4gMCkge1xuICAgICAgdGhpcy5kYXRhLmJvbnVzRGljZSA9IHRoaXMucGFydGljaXBhbnREYXRhLmJvbnVzRGljZVxuICAgICAgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEuZmxhZ3MuaGFzQm9udXNEaWNlID0gdGhpcy5wYXJ0aWNpcGFudC5oYXNCb251c0RpY2VcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25BcnJheSA9IGR1cGxpY2F0ZShcbiAgICAgIHRoaXMucGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb25BcnJheVxuICAgIClcbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPSB0aGlzLnBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ID0gMFxuICB9XG5cbiAgZ2V0IHBhcnRpY2lwYW50ICgpIHtcbiAgICBpZiAoIXRoaXMucGFydGljaXBhbnREYXRhKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgLy8gaWYgKCF0aGlzLl9wYXJ0aWNpcGFudClcbiAgICAvLyAgIHRoaXMuX3BhcnRpY2lwYW50ID0gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLnBhcnRpY2lwYW50RGF0YSlcbiAgICAvLyByZXR1cm4gdGhpcy5fcGFydGljaXBhbnRcbiAgICByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLnBhcnRpY2lwYW50RGF0YSkgLy8gVE8gUkVTRVRcbiAgfVxuXG4gIGdldCBwYXJ0aWNpcGFudERhdGEgKCkge1xuICAgIGlmICghdGhpcy5jaGFzZSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghdGhpcy5kYXRhLnBhcnRpY2lwYW50VXVpZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmNoYXNlLmdldFBhcnRpY2lwYW50RGF0YSh0aGlzLmRhdGEucGFydGljaXBhbnRVdWlkKVxuICB9XG5cbiAgZ2V0IGxvY2F0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuY2hhc2UpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5jaGFzZS5nZXRMb2NhdGlvbkRhdGEodGhpcy5kYXRhLmxvY2F0aW9uVXVpZClcbiAgfVxuXG4gIGdldCBvYnN0YWNsZSAoKSB7XG4gICAgaWYgKCF0aGlzLmxvY2F0aW9uKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb24ub2JzdGFjbGVEZXRhaWxzXG4gIH1cblxuICBnZXQgY2hhc2UgKCkge1xuICAgIGlmICghdGhpcy5kYXRhLmNoYXNlVXVpZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghdGhpcy5fY2hhc2UpIHRoaXMuX2NoYXNlID0gQ29DN1V0aWxpdGllcy5TZnJvbVV1aWQodGhpcy5kYXRhLmNoYXNlVXVpZClcbiAgICByZXR1cm4gdGhpcy5fY2hhc2VcbiAgfVxuXG4gIGdldCByb2xsICgpIHtcbiAgICBsZXQgcm9sbERhdGFcbiAgICBpZiAodGhpcy5wYXJ0aWNpcGFudC5hY3RvciAmJiB0aGlzLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lKSB7XG4gICAgICBjb25zdCBhY3RvclNraWxsID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5maW5kKFxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lXG4gICAgICApXG4gICAgICBpZiAodHlwZW9mIGFjdG9yU2tpbGwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJvbGxEYXRhID0gYWN0b3JTa2lsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9sbERhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ3ZhbHVlJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSxcbiAgICAgICAgICAgIHRocmVzaG9sZDogdGhpcy5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByb2xsRGF0YS5hY3RvciA9IHsgYWN0b3JLZXk6IHRoaXMucGFydGljaXBhbnQuYWN0b3IuaWQgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSAmJiB0aGlzLmRhdGEuY2hlY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgcm9sbERhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ3ZhbHVlJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSxcbiAgICAgICAgICAgIHRocmVzaG9sZDogdGhpcy5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rvcjoge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5wYXJ0aWNpcGFudC5uYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyb2xsRGF0YSkge1xuICAgICAgcm9sbERhdGEuZGljZU1vZGlmaWVyID0gdGhpcy5kYXRhPy5ib251c0RpY2UgfHwgMFxuICAgICAgcm9sbERhdGEuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgcm9sbERhdGEuZGVueVB1c2ggPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiByb2xsRGF0YSB8fCB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCB2YWxpZEZhaWxlZFJvbGxzICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaz8uaXNGYWlsdXJlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhc0RhbWFnZSkge1xuICAgICAgY29uc3QgZGFtYWdlID1cbiAgICAgICAgdHlwZW9mIHRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRDaGVja0RhbWFnZSA9PT0gJ251bWJlcidcbiAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRDaGVja0RhbWFnZX1gXG4gICAgICAgICAgOiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2VcbiAgICAgIGlmICghdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlICYmXG4gICAgICAgICFSb2xsLnZhbGlkYXRlKGRhbWFnZSkgLy8gVmFsaWRhdGUgb25seSB0YWtlIGEgc3RyaW5nLCBpZiBkYW1hZ2UgaXMgYSBudW1iZXIgY29udmVydCB0byBhIHN0cmluZ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhemFyZCAmJiB0aGlzLmRhdGEub2JzdGFjbGUuaGFzQWN0aW9uQ29zdCkge1xuICAgICAgY29uc3QgYWN0aW9uQ29zdCA9XG4gICAgICAgIHR5cGVvZiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQWN0aW9uQ29zdCA9PT0gJ251bWJlcidcbiAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0fWBcbiAgICAgICAgICA6IHRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0XG4gICAgICBpZiAoIXRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0KSByZXR1cm4gZmFsc2VcbiAgICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQWN0aW9uQ29zdCAmJiAhUm9sbC52YWxpZGF0ZShhY3Rpb25Db3N0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGdldCB3ZWFwb25zT3B0aW9ucyAoKSB7XG4gICAgY29uc3Qgd2VhcG9ucyA9IFtdXG4gICAgdGhpcy5wYXJ0aWNpcGFudC5hY3Rvcj8uaXRlbVR5cGVzPy53ZWFwb24/LmZvckVhY2godyA9PiB7XG4gICAgICBsZXQgZm9ybXVsYSA9IHcuZGF0YS5kYXRhLnJhbmdlLm5vcm1hbC5kYW1hZ2VcbiAgICAgIGxldCBkYiA9IHRoaXMucGFydGljaXBhbnQuYWN0b3IuZGJcbiAgICAgIGlmIChkYiA9PT0gbnVsbCB8fCBOdW1iZXIoZGIpID09PSAwKSB7XG4gICAgICAgIGRiID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRiID0gYCR7ZGJ9YFxuICAgICAgfVxuXG4gICAgICBpZiAoZGIgJiYgIWRiLnN0YXJ0c1dpdGgoJy0nKSkgZGIgPSAnKycgKyBkYlxuICAgICAgaWYgKHcuZGF0YS5kYXRhLnByb3BlcnRpZXMuYWRkYikgZm9ybXVsYSA9IGZvcm11bGEgKyBkYlxuICAgICAgaWYgKHcuZGF0YS5kYXRhLnByb3BlcnRpZXMuYWhiZCkgZm9ybXVsYSA9IGZvcm11bGEgKyBkYiArICcvMidcbiAgICAgIHdlYXBvbnMucHVzaCh7XG4gICAgICAgIG5hbWU6IGAke3cuZGF0YS5uYW1lfSAoJHtmb3JtdWxhfSlgLFxuICAgICAgICBkYW1hZ2U6IGZvcm11bGEsXG4gICAgICAgIHV1aWQ6IHcudXVpZFxuICAgICAgfSlcbiAgICB9KVxuICAgIHdlYXBvbnMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBpZiAoXG4gICAgICAhd2VhcG9ucy5maW5kKHcgPT5cbiAgICAgICAgdy5uYW1lXG4gICAgICAgICAgLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAuc3RhcnRzV2l0aChcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5VbmFybWVkV2VhcG9uTmFtZScpPy50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgKVxuICAgICAgKVxuICAgICkge1xuICAgICAgbGV0IGRiID0gJydcbiAgICAgIGlmICh0aGlzLnBhcnRpY2lwYW50LmFjdG9yKSB7XG4gICAgICAgIGRiID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5kYlxuICAgICAgICBpZiAoZGIgJiYgIWRiLnN0YXJ0c1dpdGgoJy0nKSkgZGIgPSAnKycgKyBkYlxuICAgICAgICBpZiAoZGIgPT09IG51bGwgfHwgTnVtYmVyKGRiKSA9PT0gMCkgZGIgPSAnJ1xuICAgICAgfVxuXG4gICAgICB3ZWFwb25zLnVuc2hpZnQoe1xuICAgICAgICBuYW1lOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5hcm1lZFdlYXBvbk5hbWUnKX0gKDFEMyR7ZGJ9KWAsXG4gICAgICAgIGRhbWFnZTogYDFEMyR7ZGJ9YCxcbiAgICAgICAgdXVpZDogJ3VuYXJtZWQnXG4gICAgICB9KVxuICAgIH1cblxuICAgIHdlYXBvbnMucHVzaCh7XG4gICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuT3RoZXInKSxcbiAgICAgIGRhbWFnZTogdGhpcy5kYXRhPy5jdXN0b21XZWFwb25EYW1hZ2UgfHwgbnVsbCxcbiAgICAgIHV1aWQ6IDBcbiAgICB9KVxuICAgIHJldHVybiB3ZWFwb25zXG4gIH1cblxuICBnZXQgdXNlZFdlYXBvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmRhdGE/LndlYXBvbkNob2ljZSkge1xuICAgICAgaWYgKCF0aGlzLndlYXBvbnNPcHRpb25zKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoIXRoaXMuZGF0YSkgdGhpcy5kYXRhID0ge30gLy8gdXNlbGVzcyAhISFcbiAgICAgIHRoaXMuZGF0YS53ZWFwb25DaG9pY2UgPSB0aGlzLndlYXBvbnNPcHRpb25zWzBdLnV1aWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLndlYXBvbkNob2ljZSkge1xuICAgICAgY29uc3Qgd2VhcG9uID0gdGhpcy53ZWFwb25zT3B0aW9ucy5maW5kKFxuICAgICAgICBlID0+IGUudXVpZCA9PT0gdGhpcy5kYXRhLndlYXBvbkNob2ljZVxuICAgICAgKVxuICAgICAgaWYgKHdlYXBvbikgcmV0dXJuIHdlYXBvblxuICAgIH1cbiAgfVxuXG4gIGdldCBpbmZsaWN0ZWREYW1hZ2VGb3JtdWxhICgpIHtcbiAgICBpZiAodGhpcy51c2VkV2VhcG9uKSB7XG4gICAgICBjb25zdCB3ZWFwb24gPSB0aGlzLnVzZWRXZWFwb25cbiAgICAgIGlmICh3ZWFwb24gJiYgd2VhcG9uLmRhbWFnZSAmJiBSb2xsLnZhbGlkYXRlKHdlYXBvbi5kYW1hZ2UpKSB7XG4gICAgICAgIHJldHVybiB3ZWFwb24uZGFtYWdlXG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCB2YWxpZE9ic3RhY2xlRGFtYWdlICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGFzSGl0UG9pbnRzICYmXG4gICAgICAhaXNOYU4oTnVtYmVyKHRoaXMuZGF0YS5vYnN0YWNsZS5IaXRQb2ludHMpKSAmJlxuICAgICAgTnVtYmVyKHRoaXMuZGF0YS5vYnN0YWNsZS5IaXRQb2ludHMpID4gMCAmJlxuICAgICAgdGhpcy5pbmZsaWN0ZWREYW1hZ2VGb3JtdWxhXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBzdHJpbmdzICgpIHtcbiAgICBjb25zdCBzdHJpbmdzID0ge31cbiAgICBzdHJpbmdzLmRhbWFnZVJvbGxSZXF1ZXN0ID0gdGhpcy51c2VkV2VhcG9uLm5hbWVcblxuICAgIHJldHVybiBzdHJpbmdzXG4gIH1cblxuICAvLyBBY3Rpb25zIDpcbiAgYXN5bmMgdmFsaWRhdGVDYXJkIChvcHRpb25zKSB7XG4gICAgbGV0IGxvYWN0aW9uQ2hhbmdlZFxuICAgIGxldCBwYXJ0aWNpcGFudENoYWdlZCA9IGZhbHNlXG4gICAgY29uc3Qgb2JzdGFjbGVVcGRhdGUgPSB7fVxuICAgIG9ic3RhY2xlVXBkYXRlLm9ic3RhY2xlRGV0YWlscyA9IHt9XG4gICAgY29uc3QgcGFydGljaXBhbnRVcGRhdGUgPSB7fVxuICAgIGlmICh0aGlzLmRhdGEuZmxhZ3Mub2JzdGFjbGVEZXN0b3llZCkge1xuICAgICAgbG9hY3Rpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgb2JzdGFjbGVVcGRhdGUub2JzdGFjbGUgPSBmYWxzZVxuICAgICAgb2JzdGFjbGVVcGRhdGUub2JzdGFjbGVEZXRhaWxzLmhhemFyZCA9IGZhbHNlXG4gICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHMuYmFycmllciA9IGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZGlmZiA9IHRoaXMubGlzdENoYW5nZXMoKVxuICAgIGlmIChkaWZmLmNoYW5nZXMpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEucmVmbGVjdE9ic3RhbGVDaGFuZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRpZmYub2JzdGFjbGUpKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ3R5cGUnKSB7XG4gICAgICAgICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHNbdmFsdWUua2V5XSA9IHZhbHVlLm5ld1xuICAgICAgICAgICAgbG9hY3Rpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEudG90YWxPYnN0YWNsZURhbWFnZSA+IDAgJiYgdGhpcy5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cykge1xuICAgICAgbGV0IHJlbWFpbmluZ0hwID0gdGhpcy5kYXRhLm9ic3RhY2xlLkhpdFBvaW50c1xuICAgICAgcmVtYWluaW5nSHAgLT0gdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2VcbiAgICAgIGlmIChyZW1haW5pbmdIcCA8IDApIHJlbWFpbmluZ0hwID0gMFxuICAgICAgaWYgKHRoaXMub2JzdGFjbGUuSGl0UG9pbnRzICE9PSByZW1haW5pbmdIcCkge1xuICAgICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHMuSGl0UG9pbnRzID0gcmVtYWluaW5nSHBcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLkhpdFBvaW50cyA9IHJlbWFpbmluZ0hwXG4gICAgICAgIGxvYWN0aW9uQ2hhbmdlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPiAwKSB7XG4gICAgICBwYXJ0aWNpcGFudENoYWdlZCA9IHRydWVcbiAgICAgIGlmICh0aGlzLnBhcnRpY2lwYW50LmFjdG9yKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGFydGljaXBhbnQuYWN0b3IuZGVhbERhbWFnZShcbiAgICAgICAgICB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbixcbiAgICAgICAgICB7IGlnbm9yZUFybW9yOiB0cnVlIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydGljaXBhbnRVcGRhdGUuaHAgPSB0aGlzLnBhcnRpY2lwYW50RGF0YS5ocFxuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZS5ocCAtPSB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlblxuICAgICAgICBpZiAocGFydGljaXBhbnRVcGRhdGUuaHAgPCAwKSBwYXJ0aWNpcGFudFVwZGF0ZS5ocCA9IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdCA+IDApIHtcbiAgICAgIHBhcnRpY2lwYW50Q2hhZ2VkID0gdHJ1ZVxuICAgICAgcGFydGljaXBhbnRVcGRhdGUuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9XG4gICAgICAgIHRoaXMucGFydGljaXBhbnREYXRhLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICAgIHBhcnRpY2lwYW50VXBkYXRlLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgLT0gdGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEuZmxhZ3MuY29uc3VtZUJvbnVzRGljZSA9IHRydWUgLy8gQm9udXMgZGljZSBhd2FyZGVkIGR1cmluZyBmbG93IGFyZSBiZWluZyBjb25zdW1lZFxuXG4gICAgaWYgKHRoaXMuZGF0YS5mbGFncy5jb25zdW1lQm9udXNEaWNlKSB7XG4gICAgICBwYXJ0aWNpcGFudENoYWdlZCA9IHRydWVcbiAgICAgIHBhcnRpY2lwYW50VXBkYXRlLmJvbnVzRGljZSA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFxuICAgICAgICAhaXNOYU4odGhpcy5kYXRhLmJvbnVzRGljZSkgJiZcbiAgICAgICAgdGhpcy5kYXRhLmJvbnVzRGljZSAhPT0gdGhpcy5wYXJ0aWNpcGFudC5ib251c0RpY2VcbiAgICAgICkge1xuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZS5ib251c0RpY2UgPSB0aGlzLmRhdGEuYm9udXNEaWNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5tb3ZlUGxheWVyKSB7XG4gICAgICBsZXQgdGFyZ2V0TG9jYXRpb25cbiAgICAgIGlmICh0aGlzLmRhdGEuZm9yd2FyZCkge1xuICAgICAgICB0YXJnZXRMb2NhdGlvbiA9IHRoaXMubG9jYXRpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldExvY2F0aW9uID0gdGhpcy5jaGFzZS5nZXRMb2NhdGlvblNoaWZ0KHRoaXMubG9jYXRpb24udXVpZCwge1xuICAgICAgICAgIHNraXA6IC0xXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRMb2NhdGlvbi51dWlkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hhc2UubW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbihcbiAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50RGF0YS51dWlkLFxuICAgICAgICAgIHRhcmdldExvY2F0aW9uLnV1aWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2Nyb2xsVG9Mb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGl2YXRlTG9jYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgcmVuZGVyOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsb2FjdGlvbkNoYW5nZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2hhc2UudXBkYXRlTG9jYXRpb24odGhpcy5sb2NhdGlvbi51dWlkLCBvYnN0YWNsZVVwZGF0ZSwge1xuICAgICAgICByZW5kZXI6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAocGFydGljaXBhbnRDaGFnZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2hhc2UudXBkYXRlUGFydGljaXBhbnQoXG4gICAgICAgIHRoaXMucGFydGljaXBhbnREYXRhLnV1aWQsXG4gICAgICAgIHBhcnRpY2lwYW50VXBkYXRlLFxuICAgICAgICB7IHJlbmRlcjogZmFsc2UgfVxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNsb3NlZCA9IHRydWVcbiAgICBhd2FpdCB0aGlzLmNoYXNlLmFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybigpIC8vIFJlbmRlciB3aWxsIGJlIGRvbmUgdGhlcmUgIVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyBkZWZpbmVPYnN0YWNsZSAob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5kYXRhLnN0YXRlcykgdGhpcy5kYXRhLnN0YXRlcyA9IHt9XG4gICAgdGhpcy5kYXRhLnN0YXRlcy5vYnN0YWNsZURlZmluZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHRyeVRvTmVnb3RpYXRlT2JzdGFjbGUgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmJyZWFrT3JOZWdvdGlhdGVEZWZpbmVkID0gdHJ1ZVxuICAgIHRoaXMuZGF0YS5zdGF0ZXMudHJ5VG9OZWdvdGlhdGUgPSB0cnVlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgdHJ5VG9CcmVha0Rvd25PYnN0YWNsZSAob3B0aW9ucykge1xuICAgIHRoaXMuZGF0YS5zdGF0ZXMuYnJlYWtPck5lZ290aWF0ZURlZmluZWQgPSB0cnVlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gdHJ1ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyBjYW5jZWxPYnN0YWNsZURlZmluaXRpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLm9ic3RhY2xlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5icmVha09yTmVnb3RpYXRlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgY2FuY2VsQnJlYWtPclBhc3NDaG9pY2UgKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYnN0YWNsZS5oYXNIaXRQb2ludHMpIHJldHVybiB0aGlzLmNhbmNlbE9ic3RhY2xlRGVmaW5pdGlvbigpXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5icmVha09yTmVnb3RpYXRlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgcmVxdWVzdFJvbGwgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLnBsYXllckFjdGlvbkRlZmluZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHRha2VDYXV0aW91c0FwcHJvYWNoIChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEudG90YWxDYXV0aW91c0FwcHJvYWNoKSB0aGlzLmRhdGEudG90YWxDYXV0aW91c0FwcHJvYWNoID0gMFxuICAgIHRoaXMuZGF0YS50b3RhbENhdXRpb3VzQXBwcm9hY2ggKz0gMVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgKz0gMVxuICAgIHRoaXMuZGF0YS50b3RhbEFjdGlvbkNvc3QgKz0gMVxuICAgIGlmICghdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5mbGFncy5jb25zdW1lQm9udXNEaWNlID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoIXRoaXMuZGF0YS5mbGFncy5oYXNCb251c0RpY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5mbGFncy5oYXNCb251c0RpY2UgPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPD0gdGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdCkgeyAvLyBBbGwgbW92IGFjdGlvbiBoYXZlIGJlZW4gdXNlZCB0byB0YWtlIGN1YXRpb3VzIGFwcHJvYWNoLlxuICAgICAgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPSBmYWxzZSAvLyBEbyBub3QgY29uc3VtZSB0aGUgYm9udXMgZGljZS5cbiAgICAgIHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkID0gdHJ1ZVxuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgcm9sbFNraWxsQ2hlY2sgKG9wdGlvbnMpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLmV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuXG4gICAgdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJylcbiAgICBpZiAoIXRoaXMucm9sbCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90aGluZ1RvUm9sbCcpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghdGhpcy5kYXRhLm9iamVjdHMpIHRoaXMuZGF0YS5vYmplY3RzID0ge31cbiAgICB0aGlzLmRhdGEub2JqZWN0cy5jaGVjayA9IENvQzdDaGVjay5jcmVhdGVGcm9tQWN0b3JSb2xsRGF0YSh0aGlzLnJvbGwpXG4gICAgaWYgKCF0aGlzLmRhdGEub2JqZWN0cy5jaGVjaykgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2suZGVueVB1c2ggPSB0cnVlIC8vIE9ic3RhY2xlIGNoZWNrIGNhbid0IGJlIHB1c2hlZFxuICAgIGF3YWl0IHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLl9wZXJmb3JtKHsgZm9yY2VEU046IHRydWUgfSlcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNoZWNrUm9sbGVkID0gdHJ1ZVxuICAgIHRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlZCcpXG4gICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLnBhc3NlZCkge1xuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEuYXJtb3IgPT09ICd1bmRlZmluZWQnICYmIHRoaXMucGFydGljaXBhbnQuYWN0b3IpIHtcbiAgICAgICAgdGhpcy5kYXRhLmFybW9yID1cbiAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50LmFjdG9yLmRhdGEuZGF0YS5hdHRyaWJzLmFybW9yLnZhbHVlIHx8IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgdXNlTHVjayAob3B0aW9ucykge1xuICAgIGF3YWl0IENvQzdDaGVjay5hbHRlcih0aGlzLmRhdGEub2JqZWN0cy5jaGVjaywgJ3VzZUx1Y2snLCB7XG4gICAgICB0YXJnZXQ6IG9wdGlvbnMuZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgIHVwZGF0ZTogZmFsc2VcbiAgICB9KVxuICAgIGlmICh0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5wYXNzZWQpIHtcbiAgICAgIHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkID0gdHJ1ZVxuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHJvbGxGYWlsQ29uc2VxdWVuY2VzIChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEub2JqZWN0cykgdGhpcy5kYXRhLm9iamVjdHMgPSB7fVxuICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGFzRGFtYWdlICYmIHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrPy5pc0ZhaWx1cmUpIHtcbiAgICAgIGNvbnN0IGRhbWFnZSA9XG4gICAgICAgIHR5cGVvZiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2UgPT09ICdudW1iZXInXG4gICAgICAgICAgPyBgJHt0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2V9YFxuICAgICAgICAgIDogdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsID0gbmV3IFJvbGwoZGFtYWdlKVxuICAgICAgYXdhaXQgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbC5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGF0YS5vYnN0YWNsZS5oYXNBY3Rpb25Db3N0ICYmXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrPy5pc0ZhaWx1cmVcbiAgICAgICkge1xuICAgICAgICBjb25zdCBhY3Rpb25Db3N0ID1cbiAgICAgICAgICB0eXBlb2YgdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZEFjdGlvbkNvc3QgPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0fWBcbiAgICAgICAgICAgIDogdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZEFjdGlvbkNvc3RcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbCA9IG5ldyBSb2xsKGFjdGlvbkNvc3QpXG4gICAgICAgIGF3YWl0IHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZEFjdGlvblJvbGwuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9ICh0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWRBY3Rpb25Sb2xsLnRvdGFsIC0gMSkgLy8gMSBhY3Rpb24gYWxyZWFkeSBzcGVuZCBmb3Igc2tpbGwgY2hlY2tcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuc3RhdGVzLmZhaWxlZENvbnNlcXVlbmNlc1JvbGxlZCA9IHRydWVcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgYXNrUm9sbE9ic3RhY2xlRGFtYWdlIChvcHRpb25zKSB7XG4gICAgdGhpcy5kYXRhLnN0YXRlcy5wbGF5ZXJBY3Rpb25EZWZpbmVkID0gdHJ1ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyByb2xsT2JzdGFjbGVEYW1hZ2UgKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RzKSB0aGlzLmRhdGEub2JqZWN0cyA9IHt9XG4gICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsID0gbmV3IFJvbGwodGhpcy51c2VkV2VhcG9uPy5kYW1hZ2UpXG4gICAgYXdhaXQgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh0aGlzLmRhdGEub2JqZWN0cy5vYnN0YWNsZURhbWFnZVJvbGwpXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5vYnN0YWNsZURhbWFnZVJvbGxlZCA9IHRydWVcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gTGlzdCBhbGwgY2hhbmdlc1xuICBsaXN0Q2hhbmdlcyAodmFsaWRhdGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGRpZmYgPSB7XG4gICAgICBvYnN0YWNsZToge30sXG4gICAgICBwbGF5ZXI6IHt9LFxuICAgICAgY2hhbmdlczogZmFsc2VcbiAgICB9XG4gICAgY29uc3QgbmFtZXMgPSB7XG4gICAgICBiYXJyaWVyOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpLFxuICAgICAgaGF6YXJkOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpLFxuICAgICAgaGFzSGl0UG9pbnRzOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQnJlYWthYmxlJyksXG4gICAgICBIaXRQb2ludHM6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IaXRQb2ludHMnKSxcbiAgICAgIGhhc0FjdGlvbkNvc3Q6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BY3Rpb25Db3N0JyksXG4gICAgICBmYWlsZWRBY3Rpb25Db3N0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0aW9uQ29zdCcpLFxuICAgICAgaGFzRGFtYWdlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmlnaHRCYWNrJyksXG4gICAgICBmYWlsZWRDaGVja0RhbWFnZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbkRhbWFnZScpLFxuICAgICAgY2hlY2tOYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hlY2snKSxcbiAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OYW1lJylcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGUgJiYgIXRoaXMuZGF0YS52YWxpZGF0aW9uKSB7XG4gICAgICB0aGlzLmRhdGEudmFsaWRhdGlvbiA9IHt9XG4gICAgfVxuXG4gICAgY29uc3QgbmV3T2JzdGFjbGUgPSBmb3VuZHJ5LnV0aWxzLmRpZmZPYmplY3QoXG4gICAgICB0aGlzLm9ic3RhY2xlLFxuICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlXG4gICAgKVxuICAgIC8vIGNvbnN0IG9sZE9ic3RhY2xlID0gZm91bmRyeS51dGlscy5kaWZmT2JqZWN0KHRoaXMuZGF0YS5vYnN0YWNsZSwgdGhpcy5vYnN0YWNsZSlcblxuICAgIGZvciAoY29uc3QgW2tleV0gb2YgT2JqZWN0LmVudHJpZXMobmV3T2JzdGFjbGUpKSB7XG4gICAgICAvLyBpZiAoJ2JhcnJpZXInID09IGtleSB8fCAnaGF6YXJkJyA9PSBrZXkpXG4gICAgICAvLyB7XG4gICAgICAvLyAgIGRpZmYuY2hhbmdlcyA9IHRydWVcbiAgICAgIC8vICAgZGlmZi5vYnN0YWNsZS50eXBlID0ge1xuICAgICAgLy8gICAgIG9sZDogZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgLy8gICAgICAgdGhpcy5vYnN0YWNsZS5iYXJyaWVyID8gJ0NvQzcuQmFycmllcicgOiAnQ29DNy5IYXphcmQnXG4gICAgICAvLyAgICAgKSxcbiAgICAgIC8vICAgICBuZXc6IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgIC8vICAgICAgIHRoaXMuZGF0YS5vYnN0YWNsZS5iYXJyaWVyID8gJ0NvQzcuQmFycmllcicgOiAnQ29DNy5IYXphcmQnXG4gICAgICAvLyAgICAgKSxcbiAgICAgIC8vICAgICBrZXk6ICd0eXBlJyxcbiAgICAgIC8vICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpXG4gICAgICAvLyAgIH1cbiAgICAgIC8vICAgaWYgKHZhbGlkYXRlKSB7XG4gICAgICAvLyAgICAgdGhpcy5kYXRhLnZhbGlkYXRpb25ba2V5XSA9IHRydWVcbiAgICAgIC8vICAgICB0aGlzLmRhdGEudmFsaWRhdGlvbi50eXBlID0gdHJ1ZVxuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG4gICAgICAvLyBlbHNlXG4gICAgICAvLyB7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgKG5ld09ic3RhY2xlW2tleV0gPT09ICcnICYmIHRoaXMub2JzdGFjbGVba2V5XSA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAoIWlzTmFOKE51bWJlcihuZXdPYnN0YWNsZVtrZXldKSkgJiZcbiAgICAgICAgICAgIE51bWJlcihuZXdPYnN0YWNsZVtrZXldKSA9PT0gdGhpcy5vYnN0YWNsZVtrZXldKVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgZGlmZi5jaGFuZ2VzID0gdHJ1ZVxuXG4gICAgICAgIGRpZmYub2JzdGFjbGVba2V5XSA9IHtcbiAgICAgICAgICBvbGQ6IHRoaXMub2JzdGFjbGVba2V5XSxcbiAgICAgICAgICBuZXc6IG5ld09ic3RhY2xlW2tleV0sXG4gICAgICAgICAgbmFtZTogbmFtZXNba2V5XSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRhdGUpIHRoaXMuZGF0YS52YWxpZGF0aW9uW2tleV0gPSB0cnVlXG4gICAgICB9XG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGNhbnZhcywgRGlhbG9nLCBmb3VuZHJ5LCBnYW1lLCBtZXJnZU9iamVjdCwgUElYSSwgVG9rZW4sIFRva2VuRG9jdW1lbnQsIHVpICovXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uLy4uL2FjdG9ycy9hY3Rvci5qcydcbmltcG9ydCB7IENoYXNlT2JzdGFjbGVDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IF9wYXJ0aWNpcGFudCwgc29ydEJ5Um9sZUFuZERleCB9IGZyb20gJy4vcGFydGljaXBhbnQuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q2hhc2UgZXh0ZW5kcyBDb0M3SXRlbSB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvcnVubmluZy1zb2xpZC5zdmcnXG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dFxuICB9XG5cbiAgLy8gSGFuZGxlIHBhcnRpY2lwYW50c1xuICBnZXQgcGFydGljaXBhbnRzICgpIHtcbiAgICBjb25zdCBwTGlzdCA9IFtdXG4gICAgY29uc3QgcHJleXMgPSB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgIC5maWx0ZXIocCA9PiAhcC5jaGFzZXIpXG4gICAgICAubWFwKHAgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudChwKVxuICAgICAgfSlcbiAgICBjb25zdCBjaGFzZXJzID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICAuZmlsdGVyKHAgPT4gcC5jaGFzZXIpXG4gICAgICAubWFwKHAgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudChwKVxuICAgICAgfSlcbiAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgIC8vIHAuaW5kZXggPSBwTGlzdC5sZW5ndGggLSAxXG4gICAgICBwLmFzc2lzdCA9IFtdXG4gICAgICBpZiAocC5jaGFzZXIpIHtcbiAgICAgICAgcC5hc3Npc3QgPSBjaGFzZXJzXG4gICAgICAgICAgLmZpbHRlcihjID0+IGMudXVpZCAhPT0gcC51dWlkICYmICFjLmhhc01heEJvbnVzRGljZSlcbiAgICAgICAgICAubWFwKGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgdXVpZDogYy51dWlkLCBuYW1lOiBjLm5hbWUgfVxuICAgICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwLmFzc2lzdCA9IHByZXlzXG4gICAgICAgICAgLmZpbHRlcihjID0+IGMudXVpZCAhPT0gcC51dWlkICYmICFjLmhhc01heEJvbnVzRGljZSlcbiAgICAgICAgICAubWFwKGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgdXVpZDogYy51dWlkLCBuYW1lOiBjLm5hbWUgfVxuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0aWNwYW50ID0gbmV3IF9wYXJ0aWNpcGFudChwKVxuICAgICAgLy8gcGFydGljcGFudC5sb2NhdGlvbiA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb2NhdGlvbiggcGFydGljcGFudC51dWlkKSAvLyBSZWN1cnNpdml0eVxuICAgICAgcExpc3QucHVzaChwYXJ0aWNwYW50KVxuICAgIH0pXG4gICAgcmV0dXJuIHBMaXN0XG4gIH1cblxuICBnZXQgcGFydGljaXBhbnRzT2JqZWN0ICgpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnBhcnRpY2lwYW50c1xuICAgIHBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xuICAgICAgcC5sb2NhdGlvbiA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb2NhdGlvbihwLnV1aWQpXG4gICAgfSlcbiAgICByZXR1cm4gcGFydGljaXBhbnRzXG4gIH1cblxuICBnZXQgYWN0aXZlUGFydGljaXBhbnREYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLmZpbmQocCA9PiBwLmFjdGl2ZSlcbiAgfVxuXG4gIGdldCBhY3RpdmVBY3RvciAoKSB7XG4gICAgY29uc3QgcCA9IHRoaXMuYWN0aXZlUGFydGljaXBhbnREYXRhXG4gICAgaWYgKCFwKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKHAuZG9jVXVpZCkge1xuICAgICAgcmV0dXJuIENvQzdVdGlsaXRpZXMuZ2V0QWN0b3JGcm9tS2V5KHAuZG9jVXVpZClcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IHBhcnRpY2lwYW50c0J5QWRqdXN0ZWRNb3YgKCkge1xuICAgIGNvbnN0IHBMaXN0ID0gdGhpcy5hY3R1YWxQYXJ0aWNpcGFudHMuc29ydChcbiAgICAgIChhLCBiKSA9PiBhLmFkanVzdGVkTW92IC0gYi5hZGp1c3RlZE1vdlxuICAgIClcbiAgICBwTGlzdC5mb3JFYWNoKHAgPT4ge1xuICAgICAgcC5sb2NhdGlvbiA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb2NhdGlvbihwLnV1aWQpXG4gICAgfSlcbiAgICByZXR1cm4gcExpc3RcbiAgfVxuXG4gIGdldCBwYXJ0aWNpcGFudHNCeUluaXRpYXRpdmUgKCkge1xuICAgIGNvbnN0IHBMaXN0ID0gdGhpcy5hY3R1YWxQYXJ0aWNpcGFudHMuc29ydChcbiAgICAgIChhLCBiKSA9PiBiLmluaXRpYXRpdmUgLSBhLmluaXRpYXRpdmVcbiAgICApXG4gICAgcExpc3QuZm9yRWFjaChwID0+IHtcbiAgICAgIHAubG9jYXRpb24gPSB0aGlzLmdldFBhcnRpY2lwYW50TG9jYXRpb24ocC51dWlkKVxuICAgIH0pXG4gICAgcmV0dXJuIHBMaXN0XG4gIH1cblxuICBnZXQgcHJleXMgKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiAhcC5pc0NoYXNlciAmJiBwLmlzVmFsaWQpIHx8IFtdXG4gIH1cblxuICBnZXQgY2hhc2VycyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmZpbHRlcihwID0+IHAuaXNDaGFzZXIgJiYgcC5pc1ZhbGlkKSB8fCBbXVxuICB9XG5cbiAgZ2V0IGFsbEhhdmVWYWxpZE1vdiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmV2ZXJ5KGUgPT4gZS5oYXNWYWxpZE1vdilcbiAgfVxuXG4gIGdldCBhbGxIYXZlU3BlZWRSb2xsICgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMuZXZlcnkocCA9PiBwLnNwZWVkQ2hlY2s/LnJvbGxlZClcbiAgfVxuXG4gIGdldFBhcnRpY2lwYW50TG9jYXRpb24gKHBhcnRpY2lwYW50VXVpZCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0ubG9jYXRpb25zPy5saXN0Py5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBsb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9uc1xuXG4gICAgY29uc3QgbG9jYXRpb24gPSBsb2NhdGlvbnMuZmluZChsID0+IHtcbiAgICAgIGNvbnN0IGxwID0gbC5wYXJ0aWNpcGFudHM/LmZpbmQocCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZClcbiAgICAgIHJldHVybiAhIWxwXG4gICAgfSlcbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBsb2NhdGlvblxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXRQYXJ0aWNpcGFudERhdGEgKHBhcnRpY2lwYW50VXVpZCkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLmZpbmQoXG4gICAgICBwID0+IHBhcnRpY2lwYW50VXVpZCA9PT0gcC51dWlkXG4gICAgKVxuICAgIGlmIChwYXJ0aWNpcGFudCkgcmV0dXJuIGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHBhcnRpY2lwYW50KSAvLyBUT0RPIDogY2hlY2sgaWYgd2UgbmVlZCB0byBkdXBsaWNhdGVcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXRQYXJ0aWNpcGFudCAocGFydGljaXBhbnRVdWlkKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnREYXRhID0gdGhpcy5nZXRQYXJ0aWNpcGFudERhdGEocGFydGljaXBhbnRVdWlkKVxuICAgIGlmIChwYXJ0aWNpcGFudERhdGEpIHJldHVybiBuZXcgX3BhcnRpY2lwYW50KHBhcnRpY2lwYW50RGF0YSlcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgbmV4dEFjdGl2ZVBhcnRpY2lwYW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50c0J5SW5pdGlhdGl2ZS5maW5kKFxuICAgICAgcCA9PiBwLmRhdGEuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IDBcbiAgICApXG4gIH1cblxuICBnZXQgc2xvd2VzdFByZXkgKCkge1xuICAgIGNvbnN0IHByZXlzID0gdGhpcy5wYXJ0aWNpcGFudHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmFkanVzdGVkTW92IC0gYi5hZGp1c3RlZE1vdilcbiAgICAgID8uZmlsdGVyKHAgPT4gcC5pc1ByZXkpXG4gICAgaWYgKHByZXlzLmxlbmd0aCA+IDApIHJldHVybiBwcmV5c1swXVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBmYXN0ZXN0Q2hhc2VyICgpIHtcbiAgICBjb25zdCBjaGFzZXJzID0gdGhpcy5wYXJ0aWNpcGFudHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmFkanVzdGVkTW92IC0gYi5hZGp1c3RlZE1vdilcbiAgICAgID8uZmlsdGVyKHAgPT4gcC5pc0NoYXNlcilcbiAgICBpZiAoY2hhc2Vycy5sZW5ndGggPiAwKSByZXR1cm4gY2hhc2Vycy5zbGljZSgtMSkucG9wKClcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgYWN0dWFsUGFydGljaXBhbnRzICgpIHtcbiAgICBjb25zdCBzbG93ZXN0UHJleSA9IHRoaXMuc2xvd2VzdFByZXlcbiAgICBjb25zdCBmYXN0ZXN0Q2hhc2VyID0gdGhpcy5mYXN0ZXN0Q2hhc2VyXG4gICAgbGV0IHBMaXN0ID0gdGhpcy5wYXJ0aWNpcGFudHNcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluY2x1ZGVMYXRlY29tZXJzICYmIHNsb3dlc3RQcmV5KSB7XG4gICAgICBwTGlzdCA9IHBMaXN0LmZpbHRlcihwID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBwLmlzUHJleSB8fCAocC5pc0NoYXNlciAmJiBwLmFkanVzdGVkTW92ID49IHNsb3dlc3RQcmV5LmFkanVzdGVkTW92KVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5zeXN0ZW0uaW5jbHVkZUVzY2FwZWQgJiYgZmFzdGVzdENoYXNlcikge1xuICAgICAgcExpc3QgPSBwTGlzdC5maWx0ZXIocCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcC5pc0NoYXNlciB8fCAocC5pc1ByZXkgJiYgcC5hZGp1c3RlZE1vdiA8PSBmYXN0ZXN0Q2hhc2VyLmFkanVzdGVkTW92KVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBwTGlzdFxuICB9XG5cbiAgZ2V0IHNsb3dlc3RQYXJ0aWNpcGFudCAoKSB7XG4gICAgY29uc3QgcExpc3QgPSB0aGlzLnBhcnRpY2lwYW50c0J5QWRqdXN0ZWRNb3ZcbiAgICBpZiAocExpc3QubGVuZ3RoID4gMCkgcmV0dXJuIHBMaXN0WzBdXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgYXN5bmMgdXBkYXRlUGFydGljaXBhbnRzIChsaXN0LCB7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IHRoaXMuY2xlYW5QYXJ0aWNpcGFudExpc3QobGlzdClcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVBhcnRpY2lwYW50IChwYXJ0aWNpYW50VXVpZCwgdXBkYXRlRGF0YSwgeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICBjb25zdCB1cGRhdGUgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh1cGRhdGVEYXRhKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50SW5kZXggPSBwYXJ0aWNpcGFudHMuZmluZEluZGV4KFxuICAgICAgcCA9PiBwYXJ0aWNpYW50VXVpZCA9PT0gcC51dWlkXG4gICAgKVxuICAgIGlmIChwYXJ0aWNpcGFudEluZGV4ID09PSAtMSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh1cGRhdGUudXVpZCkgZGVsZXRlIHVwZGF0ZS51dWlkXG4gICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChwYXJ0aWNpcGFudHNbcGFydGljaXBhbnRJbmRleF0sIHVwZGF0ZSwge1xuICAgICAgb3ZlcndyaXRlOiB0cnVlXG4gICAgfSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMsIHsgcmVuZGVyIH0pXG4gIH1cblxuICBjbGVhblBhcnRpY2lwYW50TGlzdCAobGlzdCkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGEgPSBsaXN0IHx8IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICBsaXN0LmZvckVhY2gocCA9PiB7XG4gICAgICBsZXQgZGF0YVxuICAgICAgaWYgKHAuY29uc3RydWN0b3IubmFtZSA9PT0gJ19wYXJ0aWNpcGFudCcpIHtcbiAgICAgICAgZGF0YSA9IHAuZGF0YVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IHBcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kSW5kZXgocGFydGljaXBhbnRzRGF0YSwgZGF0YS51dWlkKVxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBwYXJ0aWNpcGFudHNEYXRhLnB1c2goZGF0YSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5QYXJ0aWNpcGFudERhdGFNaXNzaW5nJykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0aWNpcGFudHNEYXRhW2luZGV4XSA9IGRhdGFcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwYXJ0aWNpcGFudHNEYXRhXG4gIH1cblxuICBhc3luYyBhc3Npc3RQYXJ0aWNpcGFudCAoXG4gICAgYXNzaXN0YW50VXVpZCxcbiAgICBiZW5lZmljaWFyeVV1aWQsXG4gICAgeyB1c2VNb3ZlbWVudEFjdGlvbnMgPSB0cnVlLCByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBhc3Npc3RhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KGFzc2lzdGFudFV1aWQpXG4gICAgY29uc3QgYmVuZWZpY2lhcnkgPSB0aGlzLmdldFBhcnRpY2lwYW50KGJlbmVmaWNpYXJ5VXVpZClcbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICApXG4gICAgY29uc3QgYXNzaXN0YW50SW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChcbiAgICAgIHAgPT4gYXNzaXN0YW50VXVpZCA9PT0gcC51dWlkXG4gICAgKVxuICAgIGNvbnN0IGJlbmVmaWNpYXJ5SW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChcbiAgICAgIHAgPT4gYmVuZWZpY2lhcnlVdWlkID09PSBwLnV1aWRcbiAgICApXG5cbiAgICBpZiAoIWFzc2lzdGFudCB8fCAhYmVuZWZpY2lhcnkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlBhcnRpY2lwYW50Tm90Rm91bmQnKSlcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAoYmVuZWZpY2lhcnkuaGFzTWF4Qm9udXNEaWNlKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yQmVuZWZpY2lhcnlBdE1heEJvbnVzJywge1xuICAgICAgICAgIG5hbWU6IGJlbmVmaWNpYXJ5Lm5hbWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAodXNlTW92ZW1lbnRBY3Rpb25zKSB7XG4gICAgICBpZiAoYXNzaXN0YW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPCAxKSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudE5vdEVub3VnaE1vdmVtZW50Jywge1xuICAgICAgICAgICAgYXNzaXN0YW50VXVpZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFzc2lzdGFudC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG4gICAgICBhc3Npc3RhbnQuYWx0ZXJNb3ZlbWVudEFjdGlvbnMoLTEpXG4gICAgICBwYXJ0aWNpcGFudHNEYXRhW2Fzc2lzdGFudEluZGV4XSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKGFzc2lzdGFudC5kYXRhKVxuICAgIH1cblxuICAgIGJlbmVmaWNpYXJ5LmFkZEJvbnVzRGljZSgpXG4gICAgcGFydGljaXBhbnRzRGF0YVtiZW5lZmljaWFyeUluZGV4XSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgYmVuZWZpY2lhcnkuZGF0YVxuICAgIClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgIHsgJ3N5c3RlbS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHNEYXRhIH0sXG4gICAgICB7IHJlbmRlciB9XG4gICAgKVxuICB9XG5cbiAgYXN5bmMgdG9nZ2xlQm9udXNEaWNlIChwYXJ0aWNpcGFudFV1aWQsIGRpY2VOdW1iZXIsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudFV1aWROb3RGb3VuZCcsIHtcbiAgICAgICAgICBwYXJ0aWNpcGFudFV1aWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICApXG4gICAgY29uc3QgcGFydGljaXBhbnRJbmRleCA9IHBhcnRpY2lwYW50c0RhdGEuZmluZEluZGV4KFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcbiAgICBpZiAocGFydGljaXBhbnQuYm9udXNEaWNlID49IGRpY2VOdW1iZXIpIHBhcnRpY2lwYW50LnJlbW92ZUJvbnVzRGljZSgpXG4gICAgZWxzZSBwYXJ0aWNpcGFudC5hZGRCb251c0RpY2UoKVxuICAgIHBhcnRpY2lwYW50c0RhdGFbcGFydGljaXBhbnRJbmRleF0gPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgIHBhcnRpY2lwYW50LmRhdGFcbiAgICApXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIGNhdXRpb3VzQXBwcm9hY2ggKFxuICAgIHBhcnRpY2lwYW50VXVpZCxcbiAgICB7IHVzZU1vdmVtZW50QWN0aW9ucyA9IHRydWUsIHJlbmRlciA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5nZXRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG5cbiAgICBpZiAoIXBhcnRpY2lwYW50KSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlBhcnRpY2lwYW50VXVpZE5vdEZvdW5kJywge1xuICAgICAgICAgIHBhcnRpY2lwYW50VXVpZFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGEgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgIHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgIClcbiAgICBjb25zdCBwYXJ0aWNpcGFudEluZGV4ID0gcGFydGljaXBhbnRzRGF0YS5maW5kSW5kZXgoXG4gICAgICBwID0+IHBhcnRpY2lwYW50VXVpZCA9PT0gcC51dWlkXG4gICAgKVxuICAgIGlmIChwYXJ0aWNpcGFudC5oYXNNYXhCb251c0RpY2UpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JQYXJ0aWNpcGFudEF0TWF4Qm9udXMnLCB7XG4gICAgICAgICAgcGFydGljaXBhbnRVdWlkXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHVzZU1vdmVtZW50QWN0aW9ucykge1xuICAgICAgaWYgKHBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPCAxKSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudE5vdEVub3VnaE1vdmVtZW50Jywge1xuICAgICAgICAgICAgYXNzaXN0YW50VXVpZDogcGFydGljaXBhbnRVdWlkLFxuICAgICAgICAgICAgYWN0aW9uczogcGFydGljaXBhbnQuY3VycmVudE1vdmVtZW50QWN0aW9uc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgcGFydGljaXBhbnQuYWx0ZXJNb3ZlbWVudEFjdGlvbnMoLTEpXG4gICAgfVxuICAgIHBhcnRpY2lwYW50LmFkZEJvbnVzRGljZSgpXG4gICAgcGFydGljaXBhbnRzRGF0YVtwYXJ0aWNpcGFudEluZGV4XSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgcGFydGljaXBhbnQuZGF0YVxuICAgIClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgIHsgJ3N5c3RlbS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHNEYXRhIH0sXG4gICAgICB7IHJlbmRlciB9XG4gICAgKVxuICB9XG5cbiAgYXN5bmMgYWx0ZXJQYXJ0aWNpcGFudE1vdmVtZW50QWN0aW9uIChcbiAgICBwYXJ0aWNpcGFudFV1aWQsXG4gICAgY291bnQsXG4gICAgeyByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudFV1aWROb3RGb3VuZCcsIHtcbiAgICAgICAgICBwYXJ0aWNpcGFudFV1aWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICApXG4gICAgY29uc3QgcGFydGljaXBhbnRJbmRleCA9IHBhcnRpY2lwYW50c0RhdGEuZmluZEluZGV4KFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcblxuICAgIHBhcnRpY2lwYW50LmFsdGVyTW92ZW1lbnRBY3Rpb25zKGNvdW50KVxuXG4gICAgcGFydGljaXBhbnRzRGF0YVtwYXJ0aWNpcGFudEluZGV4XSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgcGFydGljaXBhbnQuZGF0YVxuICAgIClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgIHsgJ3N5c3RlbS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHNEYXRhIH0sXG4gICAgICB7IHJlbmRlciB9XG4gICAgKVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVOZXh0UGFydGljaXBhbnRUdXJuICh7XG4gICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgYWN0aXZhdGVMb2NhdGlvbiA9IHRydWUsXG4gICAgcmVuZGVyID0gdHJ1ZSxcbiAgICBodG1sID0gbnVsbFxuICB9ID0ge30pIHtcbiAgICBjb25zdCBhY3RpdmVQYXJ0aWNpcGFudCA9IHRoaXMubmV4dEFjdGl2ZVBhcnRpY2lwYW50XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHNjcm9sbFRvTG9jYXRpb24sXG4gICAgICBhY3RpdmF0ZUxvY2F0aW9uLFxuICAgICAgcmVuZGVyLFxuICAgICAgaHRtbFxuICAgIH1cbiAgICBpZiAoIWFjdGl2ZVBhcnRpY2lwYW50KSByZXR1cm4gdGhpcy5hY3RpdmF0ZVBhcnRpY2lwYW50KHVuZGVmaW5lZCwgb3B0aW9ucylcbiAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZVBhcnRpY2lwYW50KGFjdGl2ZVBhcnRpY2lwYW50LnV1aWQsIG9wdGlvbnMpXG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVBhcnRpY2lwYW50IChcbiAgICBwYXJ0aWNpcGFudFV1aWQsXG4gICAge1xuICAgICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgICBhY3RpdmF0ZUxvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIHJlbmRlciA9IHRydWUsXG4gICAgICBodG1sID0gbnVsbFxuICAgIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBkYXRhVXBkYXRlID0gdGhpcy5nZXRBY3RpdmF0ZVBhcnRpY2lwYW50VXBkYXRlRGF0YShwYXJ0aWNpcGFudFV1aWQsIHtcbiAgICAgIHNjcm9sbFRvTG9jYXRpb24sXG4gICAgICBhY3RpdmVMb2NhdGlvbjogYWN0aXZhdGVMb2NhdGlvbixcbiAgICAgIGh0bWxcbiAgICB9KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKGRhdGFVcGRhdGUsIHsgcmVuZGVyIH0pXG4gIH1cblxuICBnZXRBY3RpdmF0ZVBhcnRpY2lwYW50VXBkYXRlRGF0YSAoXG4gICAgcGFydGljaXBhbnRVdWlkLFxuICAgIHsgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsIGFjdGl2YXRlTG9jYXRpb24gPSB0cnVlLCBodG1sID0gbnVsbCB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgcFV1aWQgPSBwYXJ0aWNpcGFudFV1aWRcbiAgICAvLyAgID8gcGFydGljaXBhbnRVdWlkXG4gICAgLy8gICA6IHRoaXMucGFydGljaXBhbnRzQnlJbml0aWF0aXZlWzBdPy51dWlkXG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YVVwZGF0ZSA9IHt9XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgIGRlbGV0ZSBwLmFjdGl2ZVxuICAgICAgaWYgKHBVdWlkICYmIHBVdWlkID09PSBwLnV1aWQpIHAuYWN0aXZlID0gdHJ1ZVxuICAgIH0pXG4gICAgcGFydGljaXBhbnRzRGF0YVVwZGF0ZVsnc3lzdGVtLnBhcnRpY2lwYW50cyddID0gcGFydGljaXBhbnRzXG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudExvY2F0aW9uID0gdGhpcy5nZXRQYXJ0aWNpcGFudExvY2F0aW9uKHBVdWlkKVxuICAgIGxldCBsb2NhdGlvbnNEYXRhVXBkYXRlID0gbnVsbFxuICAgIGlmIChwYXJ0aWNpcGFudExvY2F0aW9uKSB7XG4gICAgICBpZiAoYWN0aXZhdGVMb2NhdGlvbikge1xuICAgICAgICBsb2NhdGlvbnNEYXRhVXBkYXRlID0gdGhpcy5nZXRBY3RpdmF0ZUxvY2F0aW9uVXBkYXRlRGF0YShcbiAgICAgICAgICBwYXJ0aWNpcGFudExvY2F0aW9uLnV1aWQsXG4gICAgICAgICAgeyBzY3JvbGxUb0xvY2F0aW9uLCBodG1sIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb0xvY2F0aW9uKSB7XG4gICAgICAgIGxvY2F0aW9uc0RhdGFVcGRhdGUgPSB7fVxuICAgICAgICBsb2NhdGlvbnNEYXRhVXBkYXRlWydzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2suZnJvbSddID1cbiAgICAgICAgICB0aGlzLmNoYXNlVHJhY2tDdXJyZW50U2Nyb2xsUG9zaXRpb25cbiAgICAgICAgbG9jYXRpb25zRGF0YVVwZGF0ZVsnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLnRvJ10gPVxuICAgICAgICAgIHRoaXMuZ2V0Q2hhc2VUcmFja0xvY2F0aW9uU2Nyb2xsUG9zaXRpb24ocGFydGljaXBhbnRMb2NhdGlvbi51dWlkLCB7XG4gICAgICAgICAgICBodG1sXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb25zRGF0YVVwZGF0ZSA9IHRoaXMuZ2V0QWN0aXZhdGVMb2NhdGlvblVwZGF0ZURhdGEodW5kZWZpbmVkLCB7XG4gICAgICAgIHNjcm9sbFRvTG9jYXRpb25cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uc0RhdGFVcGRhdGUpIHtcbiAgICAgIHJldHVybiBmb3VuZHJ5LnV0aWxzLm1lcmdlT2JqZWN0KFxuICAgICAgICBwYXJ0aWNpcGFudHNEYXRhVXBkYXRlLFxuICAgICAgICBsb2NhdGlvbnNEYXRhVXBkYXRlXG4gICAgICApXG4gICAgfSBlbHNlIHJldHVybiBwYXJ0aWNpcGFudHNEYXRhVXBkYXRlXG4gIH1cblxuICBhY3RpdmVQYXJ0aWNpcGFudE9ic3RhY2xlQ2hlY2sgKFxuICAgIGxvY2F0aW9uVXVpZCxcbiAgICB7IG1vdmVQYXJ0aWNpcGFudCA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2hhc2VPYnN0YWNsZUNhcmQoe1xuICAgICAgY2hhc2VVdWlkOiB0aGlzLnV1aWQsXG4gICAgICBsb2NhdGlvblV1aWQsXG4gICAgICBtb3ZlUGFydGljaXBhbnQsXG4gICAgICBmb3J3YXJkOiBsb2NhdGlvblV1aWQgIT09IHRoaXMuYWN0aXZlTG9jYXRpb24udXVpZFxuICAgIH0pXG4gICAgY2FyZC50b01lc3NhZ2UoKVxuXG4gICAgLy8gY29uc3QgdGVzdCA9IG5ldyB0ZXN0Q2FyZCgpXG4gICAgLy8gdGVzdC5pbml0aWFsaXplKHt9KVxuICAgIC8vIHRlc3QudG9NZXNzYWdlKClcbiAgfVxuXG4gIC8vIEhhbmRsZSByb3VuZHNcblxuICBhc3luYyBwcm9ncmVzc1RvTmV4dFJvdW5kICh7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPCBwLm1vdmVtZW50QWN0aW9uKSB7XG4gICAgICAgIHAuY3VycmVudE1vdmVtZW50QWN0aW9ucyArPSBwLm1vdmVtZW50QWN0aW9uXG4gICAgICAgIGlmIChwLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPiBwLm1vdmVtZW50QWN0aW9uKSB7XG4gICAgICAgICAgcC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zID0gcC5tb3ZlbWVudEFjdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgIHRoaXMuYWN0aXZhdGVOZXh0UGFydGljaXBhbnRUdXJuKHsgcmVuZGVyIH0pXG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzeW5jIHVwZGF0ZVJvbGwgKHJvbGxTdHJpbmcpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGNvbnN0IHJvbGwgPSBDb0M3Q2hlY2suZnJvbVJvbGxTdHJpbmcocm9sbFN0cmluZylcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgICAgOiBbXVxuICAgICAgY29uc3QgaW5kZXggPSBwYXJ0aWNpcGFudHMuZmluZEluZGV4KHAgPT4gcC5yb2xsVXVpZCA9PT0gcm9sbC51dWlkKVxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGRhdGE6IHJvbGxTdHJpbmcsXG4gICAgICAgIHR5cGU6ICdpbnZva2UnLFxuICAgICAgICBtZXRob2Q6ICd1cGRhdGVSb2xsJyxcbiAgICAgICAgaXRlbTogdGhpcy51dWlkXG4gICAgICB9XG4gICAgICBnYW1lLnNvY2tldC5lbWl0KCdzeXN0ZW0uQ29DNycsIGRhdGEpXG4gICAgfVxuICB9XG5cbiAgLy8gaGFuZGxlIGxvY2F0aW9uc1xuICBnZXQgbG9jYXRpb25zICgpIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSB0aGlzLnN0YXJ0ZWRcbiAgICAgID8gdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3RcbiAgICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICAgICAgOiBbXVxuICAgICAgOiB0aGlzLmluaXRUcmFja1xuICAgIHRoaXMucHJvY2Vzc0xvY2F0aW9ucyhsb2NhdGlvbnMpXG4gICAgcmV0dXJuIGxvY2F0aW9uc1xuICB9XG5cbiAgZ2V0TG9jYXRpb25EYXRhIChsb2NhdGlvblV1aWQsIHsgZHVwbGljYXRlRGF0YSA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gZHVwbGljYXRlRGF0YVxuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLmxvY2F0aW9ucylcbiAgICAgIDogdGhpcy5sb2NhdGlvbnNcbiAgICByZXR1cm4gbG9jYXRpb25zLmZpbmQobCA9PiBsb2NhdGlvblV1aWQgPT09IGwudXVpZClcbiAgfVxuXG4gIHByb2Nlc3NMb2NhdGlvbnMgKGxvY2F0aW9ucykge1xuICAgIGlmICghbG9jYXRpb25zPy5sZW5ndGgpIHJldHVyblxuICAgIGxvY2F0aW9uc1swXS5maXJzdCA9IHRydWVcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsb2NhdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBjbGFzc2VzID0gW11cbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gbG9jYXRpb25zW2luZGV4XVxuICAgICAgaWYgKCFsb2NhdGlvbi5uYW1lKSBjbGFzc2VzLnB1c2goJ2VtcHR5JylcbiAgICAgIGlmIChsb2NhdGlvbi5hY3RpdmUpIGNsYXNzZXMucHVzaCgnYWN0aXZlJylcbiAgICAgIGlmIChsb2NhdGlvbi5pbml0ICYmICF0aGlzLnN0YXJ0ZWQpIGNsYXNzZXMucHVzaCgnaW5pdCcpXG4gICAgICBsb2NhdGlvbi5jc3NDbGFzc2VzID0gY2xhc3Nlcy5qb2luKCcgJylcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb25zLmxlbmd0aCA+IDEpIGxvY2F0aW9uc1tsb2NhdGlvbnMubGVuZ3RoIC0gMV0ubGFzdCA9IHRydWVcblxuICAgIGxvY2F0aW9ucy5mb3JFYWNoKGwgPT4ge1xuICAgICAgaWYgKGwucGFydGljaXBhbnRzICYmIGwucGFydGljaXBhbnRzLmxlbmd0aCkge1xuICAgICAgICBsLnBhcnRpY2lwYW50cyA9IGwucGFydGljaXBhbnRzLmZpbHRlcihwID0+ICEocCA9PT0gbnVsbCkpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbC5wYXJ0aWNpcGFudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gbC5wYXJ0aWNpcGFudHNbaV0gLy8gSW5pdCB0cmFjayA9IG9ubHkgdXVpZCwgdXBkYXRlIGxvY2F0aW9uIGxpc3QgY2hhbmdlIGZvciB1dWlkXG5cbiAgICAgICAgICAvLyB1aS5ub3RpZmljYXRpb25zLmVycm9yKGBUeXBlIDogJHt0eXBlb2YgZWxlbX1gKVxuICAgICAgICAgIGxldCBwXG4gICAgICAgICAgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJyB8fCBlbGVtIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgICBwID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLmZpbmQocCA9PiBlbGVtID09PSBwLnV1aWQpIC8vIFJldHJpZXZlIHBhcnRpY2lwYW50IGRhdGEgZnJvbSBsaXN0LlxuICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbT8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdfcGFydGljaXBhbnQnKSB7XG4gICAgICAgICAgICBwID0gdW5kZWZpbmVkIC8vIHBhcnRpY2lwYW50IGlzIGFscmVhZHkgcHJvY2Vzc2VkLlxuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUGFydGljaXBhbnRBbHJlYWR5UHJvY2Vzc2VkJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgcCA9IHVuZGVmaW5lZFxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbC5wYXJ0aWNpcGFudHNbaV0gPSBuZXcgX3BhcnRpY2lwYW50KHApIC8vIHJlcGxhY2UgdXVpZCB3aXRoIF9wYXJ0aWNpcGFudFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwYXJ0aWNpcGFudHMucHVzaCggbnVsbClcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdVbmRlZmluZWQgcGF0aWNpcGFudCB3aGlsZSBwcm9jZXNzaW5nIHBhcnRpY2lwYW50cyBhcnJheSdcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbC5wYXJ0aWNpcGFudHMuc29ydChzb3J0QnlSb2xlQW5kRGV4KSAvLyBUT0RPIDogdGVzdCBpZiBzb3J0aW5nIHdvcmtzXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGdldCBpbml0VHJhY2sgKCkge1xuICAgIGlmIChcbiAgICAgICF0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdCB8fFxuICAgICAgdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QubGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3QgbG9jYXRpb25zID0gW10gLy8gISEhISEhISBsb2NhdGlvbnMgdnMgaW5pdCBsb2NhdGlvbnMgISEhXG5cbiAgICBjb25zdCBpbml0ID0gdGhpcy5zdGFydGluZ0xpbmVcbiAgICBsZXQgbG9jYXRpb25zSW5kZXhTdGFydCwgaW5pdEluZGV4U3RhcnQsIGxvY2F0aW9uc0xlbmd0aFxuICAgIGlmIChpbml0Lmxlbmd0aCA8PSAwKSBsb2NhdGlvbnNJbmRleFN0YXJ0ID0gMFxuICAgIGVsc2UgaWYgKHRoaXMuc3lzdGVtLnN0YXJ0aW5nSW5kZXggPj0gaW5pdC5sZW5ndGgpIHtcbiAgICAgIGxvY2F0aW9uc0luZGV4U3RhcnQgPSAwXG4gICAgfSBlbHNlIGxvY2F0aW9uc0luZGV4U3RhcnQgPSBpbml0Lmxlbmd0aCAtIHRoaXMuc3lzdGVtLnN0YXJ0aW5nSW5kZXhcblxuICAgIGlmICh0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4IDw9IDApIGluaXRJbmRleFN0YXJ0ID0gMFxuICAgIGVsc2UgaWYgKHRoaXMuc3lzdGVtLnN0YXJ0aW5nSW5kZXggPD0gaW5pdC5sZW5ndGgpIGluaXRJbmRleFN0YXJ0ID0gMFxuICAgIGVsc2UgaW5pdEluZGV4U3RhcnQgPSB0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4IC0gaW5pdC5sZW5ndGhcblxuICAgIGlmIChsb2NhdGlvbnNJbmRleFN0YXJ0ID09PSAwKSB7XG4gICAgICBsb2NhdGlvbnNMZW5ndGggPSB0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdC5sZW5ndGhcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb25zTGVuZ3RoID1cbiAgICAgICAgdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QubGVuZ3RoICsgbG9jYXRpb25zSW5kZXhTdGFydFxuICAgIH1cblxuICAgIGlmIChpbml0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtLnN0YXJ0aW5nSW5kZXggPCAwKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICBpbmRleCA8IE1hdGguYWJzKHRoaXMuc3lzdGVtLnN0YXJ0aW5nSW5kZXgpO1xuICAgICAgICAgIGluZGV4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW5pdC5wdXNoKHtcbiAgICAgICAgICAgIHV1aWQ6IHRoaXMuZ2VuZXJhdGVOZXdVdWlkKCksXG4gICAgICAgICAgICBpbml0OiB0cnVlLFxuICAgICAgICAgICAgcGFydGljaXBhbnRzOiBbXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaGFzZUxvY2F0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucylcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbG9jYXRpb25zTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBsZXQgbG9jYXRpb24gPSB7fVxuICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gW11cbiAgICAgIGlmIChcbiAgICAgICAgaW5kZXggPj0gbG9jYXRpb25zSW5kZXhTdGFydCAmJlxuICAgICAgICBpbmRleCAtIGxvY2F0aW9uc0luZGV4U3RhcnQgPCBjaGFzZUxvY2F0aW9ucy5saXN0Lmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGxvY2F0aW9uID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICAgICAgY2hhc2VMb2NhdGlvbnMubGlzdFtpbmRleCAtIGxvY2F0aW9uc0luZGV4U3RhcnRdXG4gICAgICAgIClcbiAgICAgICAgbG9jYXRpb24uaW5pdCA9IGZhbHNlXG4gICAgICAgIGxvY2F0aW9uLnBhcnRpY2lwYW50cz8uZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocCAhPSBudWxsKSBwYXJ0aWNpcGFudHMucHVzaChwKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID49IGluaXRJbmRleFN0YXJ0ICYmIGluZGV4IC0gaW5pdEluZGV4U3RhcnQgPCBpbml0Lmxlbmd0aCkge1xuICAgICAgICBtZXJnZU9iamVjdChsb2NhdGlvbiwgaW5pdFtpbmRleCAtIGluaXRJbmRleFN0YXJ0XSwge1xuICAgICAgICAgIG92ZXJ3cml0ZTogZmFsc2VcbiAgICAgICAgfSlcblxuICAgICAgICBpbml0W2luZGV4IC0gaW5pdEluZGV4U3RhcnRdLnBhcnRpY2lwYW50cz8uZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocCAhPSBudWxsKSBwYXJ0aWNpcGFudHMucHVzaChwKVxuICAgICAgICB9KVxuXG4gICAgICAgIGxvY2F0aW9uLnBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50c1xuICAgICAgfVxuICAgICAgbG9jYXRpb24uZmlyc3QgPSBmYWxzZVxuICAgICAgbG9jYXRpb24uZW5kID0gZmFsc2VcbiAgICAgIGxvY2F0aW9ucy5wdXNoKGxvY2F0aW9uKVxuICAgIH1cblxuICAgIHJldHVybiBsb2NhdGlvbnNcbiAgfVxuXG4gIGdldCBzdGFydGluZ0xpbmUgKCkge1xuICAgIC8vIEdldCBwcmV5cyBhbmQgY2hlY2sgZm9yIGVzY2FwZWRcbiAgICBjb25zdCBwcmV5cyA9IHRoaXMuc3lzdGVtLmluY2x1ZGVFc2NhcGVkXG4gICAgICA/IHRoaXMucHJleXNcbiAgICAgIDogdGhpcy5wcmV5cz8uZmlsdGVyKHAgPT4gIXAuZGF0YS5lc2NhcGVkKVxuICAgIC8vIEdldCBjaGFzZXJzXG4gICAgY29uc3QgY2hhc2VycyA9IHRoaXMuc3lzdGVtLmluY2x1ZGVMYXRlY29tZXJzXG4gICAgICA/IHRoaXMuY2hhc2Vyc1xuICAgICAgOiB0aGlzLmNoYXNlcnM/LmZpbHRlcihjID0+ICFjLmRhdGEuZXhjbHVkZWQpXG5cbiAgICAvLyBSZWN1cnNpdml0eSAhISB3aXRoIGdldFBhcnRpY2lwYW50TG9jYXRpb24gYW5kIGdldCBwYXJ0aWNpcGFudHNcblxuICAgIC8vIElmIG5vIHByZXkgb3Igbm8gY2hhc3NlclxuICAgIC8vIGlmICgwID09IGNoYXNlcnMubGVuZ3RoKSB7XG4gICAgLy8gICB1aS5ub3RpZmljYXRpb25zLndhcm4oJ05vIGNoYXNlcnMnKVxuICAgIC8vICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIC8vIH1cbiAgICAvLyBpZiAoMCA9PSBwcmV5cy5sZW5ndGgpIHtcbiAgICAvLyAgIHVpLm5vdGlmaWNhdGlvbnMud2FybignTm8gcHJleXMnKVxuICAgIC8vICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIC8vIH1cblxuICAgIC8vIEJ1aWxkIHN0YXJ0aW5nIHRyYWNrXG4gICAgY29uc3QgY2hhc2VUcmFjayA9IFtdXG5cbiAgICBjb25zdCBjaGFzZXJzTWluTW92ID0gdGhpcy5maW5kTWluTW92KGNoYXNlcnMpXG4gICAgY29uc3QgY2hhc2Vyc01heE1vdiA9IHRoaXMuZmluZE1heE1vdihjaGFzZXJzKVxuICAgIGNvbnN0IHByZXlzTWluTW92ID0gdGhpcy5maW5kTWluTW92KHByZXlzKVxuICAgIGNvbnN0IHByZXlzTWF4TW92ID0gdGhpcy5maW5kTWF4TW92KHByZXlzKVxuXG4gICAgaWYgKGNoYXNlcnNNaW5Nb3YgIT09IC0xICYmIGNoYXNlcnNNYXhNb3YgIT09IC0xKSB7XG4gICAgICAvLyBBZGQgY2hhc2VycyB0byB0aGUgdHJhY2suXG4gICAgICBmb3IgKGxldCBtb3YgPSBjaGFzZXJzTWluTW92OyBtb3YgPD0gY2hhc2Vyc01heE1vdjsgbW92KyspIHtcbiAgICAgICAgLy8gRmluZCBhbGwgd2l0aCB0aGF0IG1vdlxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHtcbiAgICAgICAgICB1dWlkOiB0aGlzLmdlbmVyYXRlTmV3VXVpZCgpLFxuICAgICAgICAgIGluaXQ6IHRydWUsXG4gICAgICAgICAgcGFydGljaXBhbnRzOiBbXVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uUGFydGljaXBhbnRzTGlzdCA9IGNoYXNlcnNcbiAgICAgICAgICAuZmlsdGVyKHAgPT4gbW92ID09PSBwLmFkanVzdGVkTW92KVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRleCAtIGIuZGV4KVxuICAgICAgICBsb2NhdGlvblBhcnRpY2lwYW50c0xpc3QuZm9yRWFjaChwID0+XG4gICAgICAgICAgbG9jYXRpb24ucGFydGljaXBhbnRzLnB1c2gocC51dWlkKVxuICAgICAgICApXG4gICAgICAgIGNoYXNlVHJhY2sucHVzaChsb2NhdGlvbilcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHNwYWNlIGJldHdlZW4gY2hhc2VycyBhbmQgcHJleXMuXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zeXN0ZW0uc3RhcnRpbmdSYW5nZTsgaW5kZXgrKykge1xuICAgICAgICBjaGFzZVRyYWNrLnB1c2goe1xuICAgICAgICAgIHV1aWQ6IHRoaXMuZ2VuZXJhdGVOZXdVdWlkKCksXG4gICAgICAgICAgaW5pdDogdHJ1ZSxcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IFtdXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXlzTWluTW92ICE9PSAtMSAmJiBwcmV5c01heE1vdiAhPT0gLTEpIHtcbiAgICAgIC8vIEFkZCBwcmV5cyB0byB0aGUgdHJhY2suXG4gICAgICBmb3IgKGxldCBtb3YgPSBwcmV5c01pbk1vdjsgbW92IDw9IHByZXlzTWF4TW92OyBtb3YrKykge1xuICAgICAgICAvLyBGaW5kIGFsbCB3aXRoIHRoYXQgbW92XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0ge1xuICAgICAgICAgIHV1aWQ6IHRoaXMuZ2VuZXJhdGVOZXdVdWlkKCksXG4gICAgICAgICAgaW5pdDogdHJ1ZSxcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IFtdXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb25QYXJ0aWNpcGFudHNMaXN0ID0gcHJleXNcbiAgICAgICAgICAuZmlsdGVyKHAgPT4gbW92ID09PSBwLmFkanVzdGVkTW92KVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRleCAtIGIuZGV4KVxuICAgICAgICBsb2NhdGlvblBhcnRpY2lwYW50c0xpc3QuZm9yRWFjaChwID0+XG4gICAgICAgICAgbG9jYXRpb24ucGFydGljaXBhbnRzLnB1c2gocC51dWlkKVxuICAgICAgICApXG4gICAgICAgIGNoYXNlVHJhY2sucHVzaChsb2NhdGlvbilcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2hhc2VUcmFja1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlTG9jYXRpb25zTGlzdCAobGlzdCwgeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIC8vIFJlbW92ZSBhbGwgdW5uZWNlc3NhcnkgaXRlbXMgKGNzc0NsYXNzLCApXG4gICAgY29uc3QgdXBkYXRlZExpc3QgPSB0aGlzLmNsZWFuTG9jYXRpb25zTGlzdChsaXN0KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKFxuICAgICAgeyAnc3lzdGVtLmxvY2F0aW9ucy5saXN0JzogdXBkYXRlZExpc3QgfSxcbiAgICAgIHsgcmVuZGVyIH1cbiAgICApXG4gIH1cblxuICBhc3luYyB1cGRhdGVMb2NhdGlvbiAobG9jYXRpb25VdWlkLCB1cGRhdGVEYXRhLCB7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgY29uc3QgdXBkYXRlID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodXBkYXRlRGF0YSlcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKVxuICAgIGlmIChsb2NhdGlvbkluZGV4ID09PSAtMSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh1cGRhdGUudXVpZCkgZGVsZXRlIHVwZGF0ZS51dWlkXG4gICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0sIHVwZGF0ZSwge1xuICAgICAgb3ZlcndyaXRlOiB0cnVlXG4gICAgfSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgY2xlYW5Mb2NhdGlvbnNMaXN0IChsaXN0KSB7XG4gICAgY29uc3QgdXBkYXRlZExpc3QgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShsaXN0KVxuICAgIGNvbnN0IHBhcnRpcGFudHNVdWlkQXJyYXkgPSB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMubWFwKHAgPT4gcC51dWlkKVxuXG4gICAgdXBkYXRlZExpc3QuZm9yRWFjaChsID0+IHtcbiAgICAgIC8vIGRlbGV0ZSBsLmFjdGl2ZVxuICAgICAgZGVsZXRlIGwuY3NzQ2xhc3Nlc1xuICAgICAgZGVsZXRlIGwuZmlyc3RcbiAgICAgIGRlbGV0ZSBsLmxhc3RcbiAgICAgIGRlbGV0ZSBsLmVuZFxuICAgICAgaWYgKGwucGFydGljaXBhbnRzICYmIGwucGFydGljaXBhbnRzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGwucGFydGljaXBhbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbC5wYXJ0aWNpcGFudHMgPSBsLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiAhKHAgPT09IG51bGwpKSAvLyBSZW1vdmUgbnVsbCBlbGVtZW50c1xuICAgICAgICAgIC8vIFJlcGxhY2UgX1BhcnRpY2lwYW50cyBieSB1dWlkXG4gICAgICAgICAgaWYgKGwucGFydGljaXBhbnRzW2ldLmRhdGE/LnV1aWQpIHtcbiAgICAgICAgICAgIGwucGFydGljaXBhbnRzW2ldID0gbC5wYXJ0aWNpcGFudHNbaV0uZGF0YS51dWlkXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIHVua293biBwYXJ0aWNpY3BhbnRzXG4gICAgICAgIGwucGFydGljaXBhbnRzID0gbC5wYXJ0aWNpcGFudHMuZmlsdGVyKHV1aWQgPT5cbiAgICAgICAgICBwYXJ0aXBhbnRzVXVpZEFycmF5LmluY2x1ZGVzKHV1aWQpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHVwZGF0ZWRMaXN0XG4gIH1cblxuICBhc3luYyBpbnNlcnRMb2NhdGlvbiAoXG4gICAgaW5zZXJ0QXRVdWlkLFxuICAgIHsgc2hpZnQgPSAwLCBsb2NEYXRhID0ge30sIHJlbmRlciA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgIGxvY2F0aW9ucy5mb3JFYWNoKGwgPT4ge1xuICAgICAgZGVsZXRlIGwuYWN0aXZlXG4gICAgfSlcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGluc2VydEF0VXVpZCA9PT0gbC51dWlkKVxuICAgIGlmIChsb2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IG5ld0xvY2F0aW9uSW5kZXggPSBsb2NhdGlvbkluZGV4ICsgc2hpZnRcbiAgICBpZiAobmV3TG9jYXRpb25JbmRleCA+IGxvY2F0aW9ucy5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUobG9jRGF0YSlcbiAgICBuZXdMb2NhdGlvbi51dWlkID0gdGhpcy5nZW5lcmF0ZU5ld1V1aWQoKVxuICAgIG5ld0xvY2F0aW9uLmluaXQgPSBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0uaW5pdFxuICAgIG5ld0xvY2F0aW9uLmFjdGl2ZSA9IHRydWVcbiAgICBsb2NhdGlvbnMuc3BsaWNlKG5ld0xvY2F0aW9uSW5kZXgsIDAsIG5ld0xvY2F0aW9uKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgYXN5bmMgcmVtb3ZlTG9jYXRpb24gKHV1aWQsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IHV1aWQgPT09IGwudXVpZClcbiAgICBsb2NhdGlvbnMuc3BsaWNlKGxvY2F0aW9uSW5kZXgsIDEpXG4gICAgbG9jYXRpb25zLmZvckVhY2gobCA9PiB7XG4gICAgICBkZWxldGUgbC5hY3RpdmVcbiAgICB9KVxuICAgIGlmIChsb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGluZGV4ID0gbG9jYXRpb25JbmRleCAtIDFcbiAgICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gMFxuICAgICAgbG9jYXRpb25zW2luZGV4XS5hY3RpdmUgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVMb2NhdGlvbiAoXG4gICAgbG9jYXRpb25VdWlkLFxuICAgIHsgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsIHJlbmRlciA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB0aGlzLmdldEFjdGl2YXRlTG9jYXRpb25VcGRhdGVEYXRhKGxvY2F0aW9uVXVpZCwge1xuICAgICAgc2Nyb2xsVG9Mb2NhdGlvblxuICAgIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGUodXBkYXRlRGF0YSwgeyByZW5kZXIgfSlcbiAgfVxuXG4gIGdldENsZWFyQWN0aXZlTG9jYXRpb25VcGRhdGVEYXRhICh7XG4gICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgaHRtbCA9IG51bGxcbiAgfSA9IHt9KSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG4gICAgY29uc3QgbG9jYXRpb25zID0gdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3RcbiAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgICA6IFtdXG4gICAgbG9jYXRpb25zLmZvckVhY2gobCA9PiB7XG4gICAgICBkZWxldGUgbC5hY3RpdmVcbiAgICB9KVxuICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5sb2NhdGlvbnMubGlzdCddID0gdGhpcy5jbGVhbkxvY2F0aW9uc0xpc3QobG9jYXRpb25zKVxuXG4gICAgaWYgKHNjcm9sbFRvTG9jYXRpb24pIHtcbiAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zY3JvbGwuY2hhc2VUcmFjay5mcm9tJ10gPSAwXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2sudG8nXSA9IC0xXG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBnZXRBY3RpdmF0ZUxvY2F0aW9uVXBkYXRlRGF0YSAoXG4gICAgbG9jYXRpb25VdWlkLFxuICAgIHsgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsIGh0bWwgPSBudWxsIH0gPSB7fVxuICApIHtcbiAgICBpZiAoIWxvY2F0aW9uVXVpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xlYXJBY3RpdmVMb2NhdGlvblVwZGF0ZURhdGEoe1xuICAgICAgICBzY3JvbGxUb0xvY2F0aW9uXG4gICAgICB9KVxuICAgIH1cbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cbiAgICBjb25zdCBsb2NhdGlvbnMgPSB0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdFxuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICAgIDogW11cbiAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IHtcbiAgICAgIGRlbGV0ZSBsLmFjdGl2ZVxuICAgICAgaWYgKGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKSBsLmFjdGl2ZSA9IHRydWVcbiAgICB9KVxuICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5sb2NhdGlvbnMubGlzdCddID0gdGhpcy5jbGVhbkxvY2F0aW9uc0xpc3QobG9jYXRpb25zKVxuICAgIC8vIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgIGlmIChzY3JvbGxUb0xvY2F0aW9uKSB7XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2suZnJvbSddID1cbiAgICAgICAgdGhpcy5jaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2sudG8nXSA9XG4gICAgICAgIHRoaXMuZ2V0Q2hhc2VUcmFja0xvY2F0aW9uU2Nyb2xsUG9zaXRpb24obG9jYXRpb25VdWlkLCB7IGh0bWwgfSlcbiAgICAgIC8vIGF3YWl0IHRoaXMuc2V0Y2hhc2VUcmFja1Njcm9sbCh7XG4gICAgICAvLyAgIGZyb206IHRoaXMuY2hhc2VUcmFja0N1cnJlbnRTY3JvbGxQb3NpdGlvbixcbiAgICAgIC8vICAgdG86IHRoaXMuY2hhc2VUcmFja0FjdGl2ZUxvY2F0aW9uU2Nyb2xsUG9zaXRpb25cbiAgICAgIC8vIH0pXG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICAvLyBMb2NhdGlvbnMgbmF2aWdhdGlvblxuICBnZXQgYWN0aXZlTG9jYXRpb24gKCkge1xuICAgIGlmICghdGhpcy5sb2NhdGlvbnMpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb25zLmZpbmQobCA9PiBsLmFjdGl2ZSlcbiAgICBpZiAoIWxvY2F0aW9uKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKGxvY2F0aW9uLnBhcnRpY2lwYW50cz8ubGVuZ3RoKSBsb2NhdGlvbi5oYXNQYXJ0aWNpcGFudCA9IHRydWVcbiAgICBjb25zdCBhY3RvciA9IHRoaXMuYWN0aXZlQWN0b3JcbiAgICBpZiAoYWN0b3IpIHtcbiAgICAgIGNvbnN0IHRlc3QgPSBhY3Rvci5maW5kKGxvY2F0aW9uLm9ic3RhY2xlRGV0YWlscz8uY2hlY2tOYW1lKVxuICAgICAgaWYgKHRlc3QpIHtcbiAgICAgICAgbG9jYXRpb24uYWN0aXZlQWN0b3JIYXNTa2lsbCA9IHRydWVcbiAgICAgICAgbG9jYXRpb24uYWN0aXZlQWN0b3JUZXN0ID0gdGVzdFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYXRpb25cbiAgfVxuXG4gIGdldCBwcmV2aW91c0xvY2F0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMubG9jYXRpb25zKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSB0aGlzLmxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiBsLmFjdGl2ZSlcbiAgICBpZiAoYWN0aXZlSW5kZXggPT09IC0xKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSAwKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uc1thY3RpdmVJbmRleCAtIDFdXG4gICAgY29uc3QgYWN0b3IgPSB0aGlzLmFjdGl2ZUFjdG9yXG4gICAgaWYgKGFjdG9yKSB7XG4gICAgICBjb25zdCB0ZXN0ID0gYWN0b3IuZmluZChsb2NhdGlvbi5vYnN0YWNsZURldGFpbHM/LmNoZWNrTmFtZSlcbiAgICAgIGlmICh0ZXN0KSB7XG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9ySGFzU2tpbGwgPSB0cnVlXG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9yVGVzdCA9IHRlc3RcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uXG4gIH1cblxuICBnZXQgbmV4dExvY2F0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMubG9jYXRpb25zKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSB0aGlzLmxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiBsLmFjdGl2ZSlcbiAgICBpZiAoYWN0aXZlSW5kZXggPT09IC0xKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSB0aGlzLmxvY2F0aW9ucy5sZW5ndGggLSAxKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uc1thY3RpdmVJbmRleCArIDFdXG4gICAgY29uc3QgYWN0b3IgPSB0aGlzLmFjdGl2ZUFjdG9yXG4gICAgaWYgKGFjdG9yKSB7XG4gICAgICBjb25zdCB0ZXN0ID0gYWN0b3IuZmluZChsb2NhdGlvbi5vYnN0YWNsZURldGFpbHM/LmNoZWNrTmFtZSlcbiAgICAgIGlmICh0ZXN0KSB7XG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9ySGFzU2tpbGwgPSB0cnVlXG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9yVGVzdCA9IHRlc3RcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uXG4gIH1cblxuICBhc3luYyBsb2NhdG9yRHJvcHBlZCAoZGF0YSkge1xuICAgIGF3YWl0IHRoaXMuc2V0TG9jYXRpb25Db29yZGluYXRlcyhcbiAgICAgIGRhdGEubG9jYXRpb25VdWlkLFxuICAgICAgZGF0YS54LFxuICAgICAgZGF0YS55LFxuICAgICAgZGF0YS5zY2VuZVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIHNldExvY2F0aW9uQ29vcmRpbmF0ZXMgKFxuICAgIGxvY2F0aW9uVXVpZCxcbiAgICB4LFxuICAgIHksXG4gICAgc2NlbmVJZCxcbiAgICB7IHJlbmRlciA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgIGNvbnN0IGxvY2F0aW9uSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbG9jYXRpb25VdWlkID09PSBsLnV1aWQpXG4gICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLmNvb3JkaW5hdGVzID0geyB4LCB5LCBzY2VuZTogc2NlbmVJZCB9XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucywgeyByZW5kZXIgfSlcbiAgfVxuXG4gIGFzeW5jIGNsZWFyQWN0aXZlTG9jYXRpb25Db29yZGluYXRlcyAoeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmICh0aGlzLmFjdGl2ZUxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGVhckxvY2F0aW9uQ29vcmRpbmF0ZXModGhpcy5hY3RpdmVMb2NhdGlvbi51dWlkLCB7XG4gICAgICAgIHJlbmRlclxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbGVhckxvY2F0aW9uQ29vcmRpbmF0ZXMgKGxvY2F0aW9uVXVpZCwgeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgIGNvbnN0IGxvY2F0aW9uSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbG9jYXRpb25VdWlkID09PSBsLnV1aWQpXG4gICAgZGVsZXRlIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5jb29yZGluYXRlc1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMsIHsgcmVuZGVyIH0pXG4gIH1cblxuICAvLyBnZXQgYWN0aXZlUGFydGljaXBhbnRIYXZlQWN0aXZlTG9jYXRpb25Ta2lsbCAoKXtcbiAgLy8gICBpZiggIXRoaXMuYWN0aXZlQWN0b3IpIHJldHVybiBmYWxzZVxuICAvLyAgIGlmKCB0aGlzLmFjdGl2ZUFjdG9yLmZpbmQoIHRoaXMuYWN0aXZlTG9jYXRpb24ub2JzdGFjbGVEZXRhaWxzPy5jaGVja05hbWUpKSByZXR1cm4gdHJ1ZVxuICAvLyAgIHJldHVybiBmYWxzZVxuICAvLyB9XG5cbiAgLy8gSGFuZGxlIG1lY2hhbmljc1xuICBhc3luYyBjdXRUb1RoZUNoYXNlICgpIHtcbiAgICBpZiAoIXRoaXMuYWxsSGF2ZVNwZWVkUm9sbCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RBbGxIYXZlU3BlZWRSb2xsJykpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuYWN0dWFsUGFydGljaXBhbnRzPy5sZW5ndGggPCAyKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5lZWRNaW4yUGFydGljaXBhbnRzJykpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsSGF2ZVZhbGlkTW92KSB7XG4gICAgICAvLyBUT0RPIDogQ2hlY2sgZm9yIHNwZWVkIHJvbGwgPz9cblxuICAgICAgLy8gQ2FsY3VsYXRlIG1vdmVtZW50IGFjdGlvbnNcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMucGFydGljaXBhbnRzXG4gICAgICBjb25zdCBtaW5Nb3YgPSB0aGlzLmZpbmRNaW5Nb3YodGhpcy5hY3R1YWxQYXJ0aWNpcGFudHMpXG4gICAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgLy8gcC5kYXRhLm1vdmVtZW50QWN0aW9uID0gMSArIChwLmFkanVzdGVkTW92IC0gbWluTW92KVxuICAgICAgICBwLmNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyhtaW5Nb3YpXG4gICAgICAgIHAuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHAubW92ZW1lbnRBY3Rpb25cbiAgICAgICAgcC5ib251c0RpY2UgPSAwXG4gICAgICB9KVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzLCB7IHJlbmRlcjogZmFsc2UgfSlcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdCh0aGlzLmxvY2F0aW9ucywgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0KClcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXN0YXJ0ICgpIHtcbiAgICAvLyBhd2FpdCB0aGlzLmNsZWFuTG9jYXRpb25zKCkgLy9UcmFuc2ZlcnJlZCBpbiB1cGRhdGVMb2NhdGlvbkxpc3RcbiAgICBjb25zdCBsb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9ucy5maWx0ZXIobCA9PiAhbC5pbml0KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobG9jYXRpb25zW2ldLnBhcnRpY2lwYW50cykgbG9jYXRpb25zW2ldLnBhcnRpY2lwYW50cyA9IFtdXG4gICAgICBpZiAobG9jYXRpb25zW2ldLmFjdGl2ZSkgZGVsZXRlIGxvY2F0aW9uc1tpXS5hY3RpdmVcbiAgICB9XG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0aWNpcGFudHNEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGFydGljaXBhbnRzRGF0YVtpXS5hY3RpdmUpIGRlbGV0ZSBwYXJ0aWNpcGFudHNEYXRhW2ldLmFjdGl2ZVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLnNldGNoYXNlVHJhY2tTY3JvbGwoMCwgMCwgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucywgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzRGF0YSwgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgYXdhaXQgdGhpcy5zdG9wKClcbiAgfVxuXG4gIGdldExvY2F0aW9uU2hpZnQgKGxvY2F0aW9uVXVpZCwgeyBza2lwID0gMSB9ID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBvcmlnaW5JbmRleCA9IGxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiBsb2NhdGlvblV1aWQgPT09IGwudXVpZClcbiAgICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gb3JpZ2luSW5kZXggKyBza2lwXG4gICAgaWYgKGxvY2F0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG4gICAgaWYgKGRlc3RpbmF0aW9uSW5kZXggPj0gbG9jYXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGxvY2F0aW9uc1tsb2NhdGlvbnMubGVuZ3RoIC0gMV1cbiAgICB9XG4gICAgaWYgKGRlc3RpbmF0aW9uSW5kZXggPCAwKSByZXR1cm4gbG9jYXRpb25zWzBdXG4gICAgcmV0dXJuIGxvY2F0aW9uc1tkZXN0aW5hdGlvbkluZGV4XSAvLyBFUlJPUiBNT1ZFIDIgRk9SIFNLSVAgKzFcbiAgfVxuXG4gIGFzeW5jIHJlbW92ZVBhcnRpY2lwYW50IChwYXJ0aWNpcGFudFV1aWQsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCBwID0gdGhpcy5nZXRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZW1vdmVQYXJ0aWNpcGFudCcpLFxuICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZW1vdmVQYXJ0aWNpcGFudEhpbnQnLCB7XG4gICAgICAgIG5hbWU6IHAubmFtZVxuICAgICAgfSl9PC9wPmAsXG4gICAgICB5ZXM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgICAgIHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgICApXG4gICAgICAgIGNvbnN0IG5ld1BhcnRpY2lwYW50c0RhdGEgPSBwYXJ0aWNpcGFudHNEYXRhLmZpbHRlcihcbiAgICAgICAgICBwID0+IHBhcnRpY2lwYW50VXVpZCAhPT0gcC51dWlkXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgbG9jYXRpb25zRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgICAgIHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0XG4gICAgICAgIClcbiAgICAgICAgbG9jYXRpb25zRGF0YS5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgIGlmIChsLnBhcnRpY2lwYW50cyAmJiBsLnBhcnRpY2lwYW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGwucGFydGljaXBhbnRzID0gbC5wYXJ0aWNpcGFudHMuZmlsdGVyKFxuICAgICAgICAgICAgICB1dWlkID0+IHBhcnRpY2lwYW50VXVpZCAhPT0gdXVpZFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMobmV3UGFydGljaXBhbnRzRGF0YSwgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnNEYXRhLCB7IHJlbmRlciB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBhZGRQYXJ0aWNpcGFudCAoXG4gICAgcGFydGljaXBhbnQsXG4gICAge1xuICAgICAgcmVuZGVyID0gdHJ1ZSxcbiAgICAgIGxvY2F0aW9uVXVpZCA9IG51bGwsXG4gICAgICByZWNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyA9IHRydWUsXG4gICAgICB1cGRhdGUgPSBmYWxzZVxuICAgIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cblxuICAgIGlmIChwYXJ0aWNpcGFudC5kYXRhLmNoYXNlVXVpZCkgZGVsZXRlIHBhcnRpY2lwYW50LmRhdGEuY2hhc2VVdWlkXG4gICAgaWYgKHBhcnRpY2lwYW50LmRhdGEubG9jYXRpb25VdWlkKSBkZWxldGUgcGFydGljaXBhbnQuZGF0YS5sb2NhdGlvblV1aWRcbiAgICBpZiAocGFydGljaXBhbnQuZGF0YS51cGRhdGUpIGRlbGV0ZSBwYXJ0aWNpcGFudC5kYXRhLnVwZGF0ZVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudC51dWlkKSB7XG4gICAgICBsZXQgdW5pcXVlID0gZmFsc2VcbiAgICAgIHdoaWxlICghdW5pcXVlKSB7XG4gICAgICAgIHBhcnRpY2lwYW50LmRhdGEudXVpZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpXG4gICAgICAgIHVuaXF1ZSA9XG4gICAgICAgICAgcGFydGljaXBhbnRzRGF0YS5maWx0ZXIocCA9PiBwLnV1aWQgPT09IHBhcnRpY2lwYW50LnV1aWQpLmxlbmd0aCA9PT0gMFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGUpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zID4gcGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgICAgcGFydGljaXBhbnQuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHBhcnRpY2lwYW50Lm1vdmVtZW50QWN0aW9uXG4gICAgICB9XG4gICAgICBjb25zdCBpbmRleCA9IHBhcnRpY2lwYW50c0RhdGEuZmluZEluZGV4KHAgPT4gcC51dWlkID09PSBwYXJ0aWNpcGFudC51dWlkKVxuICAgICAgcGFydGljaXBhbnRzRGF0YVtpbmRleF0gPSBwYXJ0aWNpcGFudC5kYXRhXG4gICAgfSBlbHNlIHBhcnRpY2lwYW50c0RhdGEucHVzaChwYXJ0aWNpcGFudC5kYXRhKVxuXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzRGF0YSwge1xuICAgICAgcmVuZGVyOiByZW5kZXIgJiYgIXRoaXMuc3RhcnRlZCAmJiAhdGhpcy5yZWNhbGN1bGF0ZU1vdmVtZW50QWN0aW9uc1xuICAgIH0pXG5cbiAgICBpZiAocmVjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNsb3dlc3QgPSB0aGlzLnNsb3dlc3RQYXJ0aWNpcGFudD8uYWRqdXN0ZWRNb3ZcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMucGFydGljaXBhbnRzXG4gICAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHAuY2FsY3VsYXRlTW92ZW1lbnRBY3Rpb25zKHNsb3dlc3QpKVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyICYmICF0aGlzLnN0YXJ0ZWRcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGFydGVkICYmXG4gICAgICAhKHBhcnRpY2lwYW50LmRhdGEuZXNjYXBlZCB8fCBwYXJ0aWNpcGFudC5kYXRhLmV4Y2x1ZGVkKVxuICAgICkge1xuICAgICAgY29uc3QgbG9jYXRpb25zRGF0YSA9IHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0XG4gICAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgICAgIDogW11cblxuICAgICAgaWYgKGxvY2F0aW9uc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yRW1wdHlMb2NhdGlvbnNMaXN0JylcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBsZXQgbG9jYXRpb25JbmRleCA9IGxvY2F0aW9uc0RhdGEuZmluZEluZGV4KGwgPT4gbG9jYXRpb25VdWlkID09PSBsLnV1aWQpXG4gICAgICBpZiAobG9jYXRpb25JbmRleCA9PT0gLTEpIGxvY2F0aW9uSW5kZXggPSAwXG4gICAgICBpZiAoIWxvY2F0aW9uc0RhdGFbbG9jYXRpb25JbmRleF0ucGFydGljaXBhbnRzKSB7XG4gICAgICAgIGxvY2F0aW9uc0RhdGFbbG9jYXRpb25JbmRleF0ucGFydGljaXBhbnRzID0gW11cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbG9jYXRpb25zRGF0YVtsb2NhdGlvbkluZGV4XS5wYXJ0aWNpcGFudHMuZmluZEluZGV4KFxuICAgICAgICAgIHAgPT4gcCA9PT0gcGFydGljaXBhbnQudXVpZFxuICAgICAgICApID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIGxvY2F0aW9uc0RhdGFbbG9jYXRpb25JbmRleF0ucGFydGljaXBhbnRzLnB1c2gocGFydGljaXBhbnQudXVpZClcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnNEYXRhLCB7IHJlbmRlciB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGVkaXRQYXJ0aWNpcGFudCAoXG4gICAgcGFydGljaXBhbnRVdWlkLFxuICAgIHtcbiAgICAgIHVzZU1vdmVtZW50QWN0aW9ucyA9IHRydWUsXG4gICAgICBzY3JvbGxUb0xvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFjdGl2YXRlTG9jYXRpb24gPSB0cnVlLFxuICAgICAgYWN0aXZhdGVQYXJ0aWNpcGFudCA9IHRydWUsXG4gICAgICByZW5kZXIgPSB0cnVlXG4gICAgfSA9IHt9XG4gICkge31cblxuICAvKipcbiAgICogTW92ZSBhIHBhcnRpY2lwYW50IGZvciBhIG51bWJlciBvZiBsb2NhdGlvbnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHBhcnRpY2lwYW50VXVpZCAgICAgVXVpZCBvZiBwYXJ0aWNpcGFudFxuICAgKiBAcGFyYW0geyp9IGxvY2F0aW9uTW92ZWQgICAgICAgICAgICAgICAgIE51bWJlciBvZiBsb2NhdGlvbnMgbW92cmVkXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICAgICAgVG90YWwgbnVtYmVyIG9mIGxvY2F0aW9ucyBjcm9zc2VkXG4gICAqL1xuICBhc3luYyBtb3ZlUGFydGljaXBhbnQgKFxuICAgIHBhcnRpY2lwYW50VXVpZCxcbiAgICBsb2NhdGlvbk1vdmVkLFxuICAgIHtcbiAgICAgIHVzZU1vdmVtZW50QWN0aW9ucyA9IHRydWUsXG4gICAgICBzY3JvbGxUb0xvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFjdGl2YXRlTG9jYXRpb24gPSB0cnVlLFxuICAgICAgYWN0aXZhdGVQYXJ0aWNpcGFudCA9IHRydWUsXG4gICAgICByZW5kZXIgPSB0cnVlXG4gICAgfSA9IHt9XG4gICkge1xuICAgIC8vIGNvbnN0IHNlbGVjdG9yID0gYCNpdGVtLSR7dGhpcy5pZH0gLmNoYXNlLXRyYWNrYFxuICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggYG1vdmVQYXJ0aWNpcGFudCA6IEpxdWVyeSByb290OiAkeyQoJzpyb290JykuZmluZChzZWxlY3Rvcikuc2Nyb2xsTGVmdCgpfWApXG4gICAgbGV0IG1vZGlmaWVkID0gZmFsc2VcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBvcmlnaW5JbmRleCA9IGxvY2F0aW9ucy5maW5kSW5kZXgobCA9PlxuICAgICAgbC5wYXJ0aWNpcGFudHM/LmluY2x1ZGVzKHBhcnRpY2lwYW50VXVpZClcbiAgICApXG4gICAgbGV0IGRlc3RpbmF0aW9uSW5kZXggPSBvcmlnaW5JbmRleCArIGxvY2F0aW9uTW92ZWRcbiAgICBpZiAoZGVzdGluYXRpb25JbmRleCA+IGxvY2F0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICBkZXN0aW5hdGlvbkluZGV4ID0gbG9jYXRpb25zLmxlbmd0aCAtIDFcbiAgICB9XG5cbiAgICBpZiAoZGVzdGluYXRpb25JbmRleCA8IDApIHtcbiAgICAgIGRlc3RpbmF0aW9uSW5kZXggPSAwXG4gICAgfVxuXG4gICAgY29uc3QgdG90YWxNb3ZlID0gZGVzdGluYXRpb25JbmRleCAtIG9yaWdpbkluZGV4XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICApXG4gICAgY29uc3QgcGFydGljaXBhbnRJbmRleCA9IHBhcnRpY2lwYW50c0RhdGEuZmluZEluZGV4KFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcblxuICAgIGlmICh1c2VNb3ZlbWVudEFjdGlvbnMpIHtcbiAgICAgIGlmICghcGFydGljaXBhbnQpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlBhcnRpY2lwYW50VXVpZE5vdEZvdW5kJywge1xuICAgICAgICAgICAgcGFydGljaXBhbnRVdWlkOiB0aGlzLnBhcnRpY2lwYW50VXVpZFxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgaWYgKHBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPCBNYXRoLmFicyh0b3RhbE1vdmUpKSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudE5vdEVub3VnaE1vdmVtZW50Jywge1xuICAgICAgICAgICAgYXNzaXN0YW50VXVpZDogcGFydGljaXBhbnRVdWlkLFxuICAgICAgICAgICAgYWN0aW9uczogcGFydGljaXBhbnQuY3VycmVudE1vdmVtZW50QWN0aW9uc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgcGFydGljaXBhbnQuYWx0ZXJNb3ZlbWVudEFjdGlvbnMoMCAtIE1hdGguYWJzKHRvdGFsTW92ZSkpXG4gICAgICBwYXJ0aWNpcGFudHNEYXRhW3BhcnRpY2lwYW50SW5kZXhdID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICAgIHBhcnRpY2lwYW50LmRhdGFcbiAgICAgIClcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKFxuICAgICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgICB7IHJlbmRlcjogZmFsc2UgfVxuICAgICAgKVxuICAgICAgbW9kaWZpZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHRvdGFsTW92ZSAhPT0gMCkge1xuICAgICAgYXdhaXQgdGhpcy5tb3ZlUGFydGljaXBhbnRUb0xvY2F0aW9uKFxuICAgICAgICBwYXJ0aWNpcGFudFV1aWQsXG4gICAgICAgIGxvY2F0aW9uc1tkZXN0aW5hdGlvbkluZGV4XS51dWlkLFxuICAgICAgICB7IHJlbmRlcjogZmFsc2UgfVxuICAgICAgKVxuICAgICAgbW9kaWZpZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2YXRlUGFydGljaXBhbnQpIHtcbiAgICAgIGF3YWl0IHRoaXMuYWN0aXZhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQsIHtcbiAgICAgICAgc2Nyb2xsVG9Mb2NhdGlvbixcbiAgICAgICAgYWN0aXZhdGVMb2NhdGlvbixcbiAgICAgICAgcmVuZGVyOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChhY3RpdmF0ZUxvY2F0aW9uICYmICFhY3RpdmF0ZVBhcnRpY2lwYW50KSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdGl2YXRlTG9jYXRpb24obG9jYXRpb25zW2Rlc3RpbmF0aW9uSW5kZXhdLnV1aWQsIHtcbiAgICAgICAgc2Nyb2xsVG9Mb2NhdGlvbixcbiAgICAgICAgcmVuZGVyOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChtb2RpZmllZCAmJiByZW5kZXIpIGF3YWl0IHRoaXMuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgcmV0dXJuIHRvdGFsTW92ZVxuICB9XG5cbiAgYXN5bmMgbW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbiAoXG4gICAgcGFydGljaXBhbnRVdWlkLFxuICAgIGxvY2F0aW9uVXVpZCxcbiAgICB7XG4gICAgICBzY3JvbGxUb0xvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFjdGl2YXRlTG9jYXRpb24gPSB0cnVlLFxuICAgICAgYW5pbWF0ZSA9IG51bGwsXG4gICAgICBtb3ZlVG9rZW4gPSB0cnVlLFxuICAgICAgcmVuZGVyID0gdHJ1ZVxuICAgIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcblxuICAgIC8vIEZpbmQgZGVzdGluYXRpb24gbG9jYXRpb24uXG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBsb2NhdGlvbnMuZmluZChsID0+IGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKVxuICAgIGlmICghZGVzdGluYXRpb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gbW92ZSAke3BhcnRpY2lwYW50VXVpZH0uIExvY2F0aW9uICR7bG9jYXRpb25VdWlkfSB1bmtub3duYFxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRmluZCBvcmlnaW4gbG9jYXRpb25cbiAgICBjb25zdCBvcmlnaW4gPSBsb2NhdGlvbnMuZmluZChsID0+XG4gICAgICBsLnBhcnRpY2lwYW50cz8uaW5jbHVkZXMocGFydGljaXBhbnRVdWlkKVxuICAgIClcblxuICAgIGlmICghb3JpZ2luKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmluZCAke3BhcnRpY2lwYW50VXVpZH0gaW4gbG9jYXRpb25zYClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghZGVzdGluYXRpb24ucGFydGljaXBhbnRzKSBkZXN0aW5hdGlvbi5wYXJ0aWNpcGFudHMgPSBbXVxuICAgIGlmIChkZXN0aW5hdGlvbi5wYXJ0aWNpcGFudHMuaW5jbHVkZXMocGFydGljaXBhbnRVdWlkKSkgcmV0dXJuIC8vIG1vdmluZyBwYXJ0aWNwYW50IHRvIGEgbG9jYXRpb24gaGUgYWxyZWFkeSBvY2N1cGllc1xuICAgIGRlc3RpbmF0aW9uLnBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50VXVpZClcbiAgICAvLyBkZXN0aW5hdGlvbi5wYXJ0aWNpcGFudHMuc29ydChzb3J0QnlSb2xlQW5kRGV4KVxuXG4gICAgY29uc3Qgb2xkUGFydGljaXBhbnRzTGlzdCA9IG9yaWdpbi5wYXJ0aWNpcGFudHMuZmlsdGVyKFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgIT09IHBcbiAgICApXG4gICAgb3JpZ2luLnBhcnRpY2lwYW50cyA9IG9sZFBhcnRpY2lwYW50c0xpc3RcblxuICAgIGlmIChtb3ZlVG9rZW4gJiYgZGVzdGluYXRpb24uY29vcmRpbmF0ZXMpIHtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5nZXRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgICBsZXQgcGFydGljcGFudERvY3VtZW50ID0gQ29DN1V0aWxpdGllcy5nZXREb2N1bWVudEZyb21LZXkoXG4gICAgICAgIHBhcnRpY2lwYW50Py5kYXRhPy5kb2NVdWlkXG4gICAgICApXG4gICAgICAvLyBGaW5kIHRva2VuXG4gICAgICBpZiAocGFydGljcGFudERvY3VtZW50ICYmICEocGFydGljcGFudERvY3VtZW50IGluc3RhbmNlb2YgVG9rZW5Eb2N1bWVudCB8fCBwYXJ0aWNwYW50RG9jdW1lbnQ/Lm9iamVjdCBpbnN0YW5jZW9mIFRva2VuKSkge1xuICAgICAgICBjb25zdCBmb3VuZFRva2VucyA9IGNhbnZhcy5zY2VuZS50b2tlbnMuZmlsdGVyKGQgPT4gZC5hY3RvckxpbmsgJiYgZC5hY3Rvcj8uaWQgPT09IHBhcnRpY3BhbnREb2N1bWVudC5pZClcbiAgICAgICAgaWYgKGZvdW5kVG9rZW5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudCA9IGZvdW5kVG9rZW5zWzBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgcGFydGljcGFudERvY3VtZW50ICYmXG4gICAgICAgICEoXG4gICAgICAgICAgLyogcGFydGljcGFudERvY3VtZW50LmlzVG9rZW4gfHwgKi8gKFxuICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50IGluc3RhbmNlb2YgVG9rZW5Eb2N1bWVudCB8fFxuICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50Py5vYmplY3QgaW5zdGFuY2VvZiBUb2tlblxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignTm8gdG9rZW4gYXNzb2NpYXRlZCB3aXRoIHRoaXMgYWN0b3InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uLmNvb3JkaW5hdGVzLnNjZW5lICE9PSBnYW1lLnNjZW5lcy52aWV3ZWQudXVpZCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignQ2F1dGlvbiB0aGUgc2NlbmUgaXMgbm90IHRoZSBhY3RpdmUgc2NlbmUnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWNwYW50RG9jdW1lbnQucGFyZW50Py51dWlkICE9PSBkZXN0aW5hdGlvbi5jb29yZGluYXRlcy5zY2VuZSkge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JUb2tlbk5vdE9uU2NlbmUnKVxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzY2VuZSA9IENvQzdVdGlsaXRpZXMuZ2V0RG9jdW1lbnRGcm9tS2V5KFxuICAgICAgICAgICAgZGVzdGluYXRpb24uY29vcmRpbmF0ZXMuc2NlbmVcbiAgICAgICAgICApXG4gICAgICAgICAgbGV0IHggPSBkZXN0aW5hdGlvbi5jb29yZGluYXRlcy54XG4gICAgICAgICAgY29uc3QgeSA9IGRlc3RpbmF0aW9uLmNvb3JkaW5hdGVzLnlcbiAgICAgICAgICBsZXQgdGFyZ2V0UmVjdCA9IG5ldyBQSVhJLlJlY3RhbmdsZShcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50Lm9iamVjdC53aWR0aCxcbiAgICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudC5vYmplY3QuaGVpZ2h0XG4gICAgICAgICAgKS5ub3JtYWxpemUoKVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IFtdXG4gICAgICAgICAgbGV0IGZvdW5kRnJlZVNwYWNlID0gZmFsc2VcbiAgICAgICAgICB3aGlsZSAoIWZvdW5kRnJlZVNwYWNlKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGFwaW5nVG9rZW4gPSBzY2VuZS50b2tlbnMuZmluZCh0ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHQuaWQgPT09IHBhcnRpY3BhbnREb2N1bWVudC5pZCkgcmV0dXJuIGZhbHNlIC8vIFlvdSBjYW4ndCBvdmVybGFwIHdpdGggeW91cnNlbGZcbiAgICAgICAgICAgICAgcmV0dXJuIHQub2JqZWN0LmJvdW5kcy5pbnRlcnNlY3RzKHRhcmdldFJlY3QpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKG92ZXJsYXBpbmdUb2tlbikge1xuICAgICAgICAgICAgICB4ID0gb3ZlcmxhcGluZ1Rva2VuLm9iamVjdC5ib3VuZHMucmlnaHQgKyAxXG4gICAgICAgICAgICAgIHRhcmdldFJlY3QgPSBuZXcgUElYSS5SZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudC5vYmplY3Qud2lkdGgsXG4gICAgICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50Lm9iamVjdC5oZWlnaHRcbiAgICAgICAgICAgICAgKS5ub3JtYWxpemUoKVxuICAgICAgICAgICAgfSBlbHNlIGZvdW5kRnJlZVNwYWNlID0gdHJ1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZS5wdXNoKHtcbiAgICAgICAgICAgIF9pZDogcGFydGljcGFudERvY3VtZW50LmlkLFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgLy8gZGVzdGluYXRpb24ucGFydGljaXBhbnRzPy5mb3JFYWNoKCBwVXVpZCA9PntcbiAgICAgICAgICAvLyAgIGNvbnN0IHAgPSB0aGlzLmdldFBhcnRpY2lwYW50KHBVdWlkKVxuICAgICAgICAgIC8vICAgY29uc3QgcERvYyA9IENvQzdVdGlsaXRpZXMuZ2V0RG9jdW1lbnRGcm9tS2V5KCBwPy5kYXRhPy5kb2NVdWlkKVxuICAgICAgICAgIC8vICAgaWYoIHBEb2MgaW5zdGFuY2VvZiBUb2tlbkRvY3VtZW50ICYmIHBEb2Mub2JqZWN0IGluc3RhbmNlb2YgVG9rZW4pe1xuICAgICAgICAgIC8vICAgICB1cGRhdGVzID0gdHJ1ZVxuICAgICAgICAgIC8vICAgICB1cGRhdGUucHVzaCh7XG4gICAgICAgICAgLy8gICAgICAgX2lkOiBwRG9jLmlkLFxuICAgICAgICAgIC8vICAgICAgIHg6eCxcbiAgICAgICAgICAvLyAgICAgICB5OnlcbiAgICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgICAvLyAgICAgaWYoIHBEb2Mub2JqZWN0LndpZHRoKSB4ICs9IHBEb2Mub2JqZWN0LndpZHRoXG4gICAgICAgICAgLy8gICB9XG4gICAgICAgICAgLy8gfSlcbiAgICAgICAgICBjb25zdCBzaG93VG9rZW5Nb3ZlbWVudCA9XG4gICAgICAgICAgICB0eXBlb2YgYW5pbWF0ZSA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICAgID8gYW5pbWF0ZVxuICAgICAgICAgICAgICA6IHRoaXMuc3lzdGVtLnNob3dUb2tlbk1vdmVtZW50XG4gICAgICAgICAgYXdhaXQgcGFydGljcGFudERvY3VtZW50LnBhcmVudC51cGRhdGVFbWJlZGRlZERvY3VtZW50cyhcbiAgICAgICAgICAgICdUb2tlbicsXG4gICAgICAgICAgICB1cGRhdGUsXG4gICAgICAgICAgICB7IGFuaW1hdGU6IHNob3dUb2tlbk1vdmVtZW50IH1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIHNjcm9sbGluZ1xuICBhc3luYyBzZXRjaGFzZVRyYWNrU2Nyb2xsICh7XG4gICAgZnJvbSA9IHVuZGVmaW5lZCxcbiAgICB0byA9IC0xLFxuICAgIHJlbmRlciA9IHRydWVcbiAgfSA9IHt9KSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7XG4gICAgICAgICdzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2suZnJvbSc6XG4gICAgICAgICAgdW5kZWZpbmVkID09PSBmcm9tID8gdGhpcy5jaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uIDogZnJvbSxcbiAgICAgICAgJ3N5c3RlbS5zY3JvbGwuY2hhc2VUcmFjay50byc6XG4gICAgICAgICAgdW5kZWZpbmVkID09PSB0byA/IHRoaXMuY2hhc2VUcmFja0N1cnJlbnRTY3JvbGxQb3NpdGlvbiA6IHRvXG4gICAgICB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGdldCBjaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uICgpIHtcbiAgICBjb25zdCBodG1sID0gdGhpcy5zaGVldD8uX2VsZW1lbnRcbiAgICBpZiAoIWh0bWwpIHJldHVybiAtMVxuICAgIGNvbnN0IGNoYXNlVHJhY2sgPSBodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJy5jaGFzZS10cmFjaycpXG4gICAgaWYgKCFjaGFzZVRyYWNrKSByZXR1cm4gLTFcbiAgICAvLyBjb25zdCBzZWxlY3RvciA9IGAjaXRlbS0ke3RoaXMuaWR9IC5jaGFzZS10cmFja2BcbiAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oIGBEQVRBIDogSnF1ZXJ5IHJvb3Q6ICR7JCgnOnJvb3QnKS5maW5kKHNlbGVjdG9yKS5zY3JvbGxMZWZ0KCl9YClcbiAgICAvLyByZXR1cm4gJCgnOnJvb3QnKS5maW5kKHNlbGVjdG9yKS5zY3JvbGxMZWZ0KClcblxuICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggYERBVEEgOiBKcXVlcnkgcm9vdDogJHskKCc6cm9vdCcpLmZpbmQoJyNpdGVtLVZOaHRxeEEyd0pKbldTdFQgLmNoYXNlLXRyYWNrJykuc2Nyb2xsTGVmdCgpfS5DaGFzZSB0cmFjayBvZmZzZXQ6ICR7Y2hhc2VUcmFjay5zY3JvbGxMZWZ0fSwgRG9jdW1lbnQgb2Zmc2V0OiR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2l0ZW0tVk5odHF4QTJ3SkpuV1N0VCcpLnF1ZXJ5U2VsZWN0b3IoJy5jaGFzZS10cmFjaycpLnNjcm9sbExlZnR9YClcbiAgICByZXR1cm4gY2hhc2VUcmFjay5zY3JvbGxMZWZ0XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBvZmZzZXQgcG9zaXRpb24gb2YgdGhlIGFjdGl2ZSBsb2NhdGlvblxuICAgKiB0aGUgY2VudGVyIG9mIHRoZSBhY3RpdmUgbG9jYXRpb24gd2lsbCBiZSBjZW50ZXJlZFxuICAgKiBpbiB0aGUgcGFyZW50LlxuICAgKi9cbiAgZ2V0IGNoYXNlVHJhY2tBY3RpdmVMb2NhdGlvblNjcm9sbFBvc2l0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuYWN0aXZlTG9jYXRpb24pIHJldHVybiAtMVxuICAgIHJldHVybiB0aGlzLmdldENoYXNlVHJhY2tMb2NhdGlvblNjcm9sbFBvc2l0aW9uKHRoaXMuYWN0aXZlTG9jYXRpb24udXVpZClcbiAgfVxuXG4gIGdldENoYXNlVHJhY2tMb2NhdGlvblNjcm9sbFBvc2l0aW9uIChsb2NhdGlvblV1aWQsIHsgaHRtbCA9IG51bGwgfSkge1xuICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gaHRtbCB8fCB0aGlzLnNoZWV0Py5fZWxlbWVudFxuICAgIGlmICghaHRtbEVsZW1lbnQgfHwgIWh0bWxFbGVtZW50WzBdKSByZXR1cm4gLTFcbiAgICBjb25zdCBjaGFzZVRyYWNrID0gaHRtbEVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmNoYXNlLXRyYWNrJylcbiAgICBpZiAoIWNoYXNlVHJhY2spIHJldHVybiAtMVxuICAgIGNvbnN0IGFjdGl2ZUxvY2F0aW9uRWxlbWVudCA9IGNoYXNlVHJhY2sucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuY2hhc2UtbG9jYXRpb25bZGF0YS11dWlkPVwiJHtsb2NhdGlvblV1aWR9XCJdYFxuICAgIClcbiAgICBpZiAoIWFjdGl2ZUxvY2F0aW9uRWxlbWVudCkgcmV0dXJuIC0xXG4gICAgY29uc3QgbGVmdFNjcm9sbCA9XG4gICAgICBhY3RpdmVMb2NhdGlvbkVsZW1lbnQub2Zmc2V0TGVmdCArXG4gICAgICBhY3RpdmVMb2NhdGlvbkVsZW1lbnQuY2xpZW50V2lkdGggLyAyIC1cbiAgICAgIGNoYXNlVHJhY2suY2xpZW50V2lkdGggLyAyXG4gICAgcmV0dXJuIGxlZnRTY3JvbGwgPCAwID8gMCA6IE1hdGguZmxvb3IobGVmdFNjcm9sbClcbiAgfVxuXG4gIC8vIFNob3VsZCBiZSByZW1vdmVkXG4gIGZpbmRNaW5Nb3YgKGxpc3QpIHtcbiAgICBpZiAoIWxpc3Q/Lmxlbmd0aCkgcmV0dXJuIC0xXG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PlxuICAgICAgcHJldi5hZGp1c3RlZE1vdiA8IGN1cnJlbnQuYWRqdXN0ZWRNb3YgPyBwcmV2IDogY3VycmVudFxuICAgICkuYWRqdXN0ZWRNb3ZcbiAgfVxuXG4gIGZpbmRNYXhNb3YgKGxpc3QpIHtcbiAgICBpZiAoIWxpc3Q/Lmxlbmd0aCkgcmV0dXJuIC0xXG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PlxuICAgICAgcHJldi5hZGp1c3RlZE1vdiA+IGN1cnJlbnQuYWRqdXN0ZWRNb3YgPyBwcmV2IDogY3VycmVudFxuICAgICkuYWRqdXN0ZWRNb3ZcbiAgfVxuXG4gIC8vIFV0aWxpdGllc1xuICBmaW5kSW5kZXggKGxpc3QsIHV1aWQpIHtcbiAgICByZXR1cm4gbGlzdC5maW5kSW5kZXgocCA9PiBwLnV1aWQgPT09IHV1aWQpXG4gIH1cblxuICBnZXQgc3RhcnRlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RmxhZygnQ29DNycsICdzdGFydGVkJylcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0ICgpIHtcbiAgICBjb25zdCByZW1TdHJpbmcgPSAkKCc6cm9vdCcpLmNzcygnZm9udC1zaXplJylcbiAgICBjb25zdCByZW1TaXplID0gTnVtYmVyKHJlbVN0cmluZy5yZXBsYWNlKCdweCcsICcnKSlcbiAgICBjb25zdCBwQ291bnQgPSB0aGlzLmFjdHVhbFBhcnRpY2lwYW50cy5sZW5ndGhcbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KChwQ291bnQgKiAxMS4yICsgMykgKiByZW1TaXplLCA0MCAqIHJlbVNpemUpXG4gICAgdGhpcy5zaGVldC5fdGFic1swXS5hY3RpdmUgPSAnc2V0dXAnXG4gICAgdGhpcy5zaGVldC5wb3NpdGlvbi53aWR0aCA9IHdpZHRoXG4gICAgYXdhaXQgdGhpcy5zZXRGbGFnKCdDb0M3JywgJ3N0YXJ0ZWQnLCB0cnVlKVxuICAgIGF3YWl0IHRoaXMuYWN0aXZhdGVOZXh0UGFydGljaXBhbnRUdXJuKClcbiAgfVxuXG4gIGFzeW5jIHN0b3AgKCkge1xuICAgIHJldHVybiB0aGlzLnVuc2V0RmxhZygnQ29DNycsICdzdGFydGVkJylcbiAgfVxuXG4gIGdlbmVyYXRlTmV3VXVpZCAoKSB7XG4gICAgcmV0dXJuIGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpXG4gIH1cblxuICBnZXRBY3RvclNraWxsc0FuZENoYXJhY3RlcmlzdGljcyAocGFydGljaXBhbnRVdWlkKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcbiAgICBpZiAoIXBhcnRpY2lwYW50LmFjdG9yKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbGlzdCA9IFtdXG4gICAgQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKCkuZm9yRWFjaChjID0+XG4gICAgICBsaXN0LnB1c2goXG4gICAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DaGFyYWN0ZXJpc3RpY3MnKX0gKCR7Yy5zaG9ydE5hbWV9KWBcbiAgICAgIClcbiAgICApXG4gICAgbGlzdC5wdXNoKFxuICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpfSAoJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICdDb0M3Lkx1Y2snXG4gICAgICApfSlgXG4gICAgKVxuICAgIGxpc3QucHVzaChcbiAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BdHRyaWJ1dGUnKX0gKCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAnQ29DNy5TQU4nXG4gICAgICApfSlgXG4gICAgKVxuICAgIHBhcnRpY2lwYW50LmFjdG9yLnNraWxscy5mb3JFYWNoKHMgPT4gbGlzdC5wdXNoKHMubmFtZSkpXG4gICAgcmV0dXJuIGxpc3RcbiAgfVxuXG4gIGdldCBhY3RpdmVBY3RvclNraWxsc0FuZENoYXJhY3RlcmlzdGljcyAoKSB7XG4gICAgY29uc3QgcGFydGljaWNwYW50RGF0YSA9IHRoaXMuYWN0aXZlUGFydGljaXBhbnREYXRhXG4gICAgaWYgKCFwYXJ0aWNpY3BhbnREYXRhKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuZ2V0QWN0b3JTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3MocGFydGljaWNwYW50RGF0YS51dWlkKVxuICB9XG5cbiAgZ2V0IGFsbFNraWxsc0FuZENoYXJhY3RlcmlzdGljcyAoKSB7XG4gICAgY29uc3QgbGlzdCA9IFtdXG4gICAgQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKCkuZm9yRWFjaChjID0+XG4gICAgICBsaXN0LnB1c2goXG4gICAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DaGFyYWN0ZXJpc3RpY3MnKX0gKCR7Yy5zaG9ydE5hbWV9KWBcbiAgICAgIClcbiAgICApXG4gICAgbGlzdC5wdXNoKFxuICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpfSAoJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICdDb0M3Lkx1Y2snXG4gICAgICApfSlgXG4gICAgKVxuICAgIGxpc3QucHVzaChcbiAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BdHRyaWJ1dGUnKX0gKCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAnQ29DNy5TQU4nXG4gICAgICApfSlgXG4gICAgKVxuXG4gICAgZ2FtZS5Db0M3LnNraWxsTGlzdD8uZm9yRWFjaChzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIWxpc3QuaW5jbHVkZXMocy5uYW1lKSAmJlxuICAgICAgICAhcy5uYW1lXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAuaW5jbHVkZXMoYCgke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnlTcGVjTmFtZScpfSlgLnRvTG93ZXJDYXNlKCkpXG4gICAgICApIHtcbiAgICAgICAgbGlzdC5wdXNoKHMubmFtZSlcbiAgICAgIH1cbiAgICB9KSAvLyBUT0RPOiBSZW1vdmUgPz9cbiAgICB0aGlzLnBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuYWN0b3IpIHtcbiAgICAgICAgcC5hY3Rvci5za2lsbHMuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBpZiAoIWxpc3QuaW5jbHVkZXMocy5uYW1lKSkgbGlzdC5wdXNoKHMubmFtZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBsaXN0LnNvcnQoSW50bC5Db2xsYXRvcigpLmNvbXBhcmUpXG4gIH1cblxuICBnZXQgYWxsU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzU2hvcnQgKCkge1xuICAgIGNvbnN0IGxpc3QgPSBbXVxuICAgIENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpLmZvckVhY2goYyA9PiBsaXN0LnB1c2goYCR7Yy5sYWJlbH1gKSlcbiAgICBsaXN0LnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKX1gKVxuICAgIGxpc3QucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU0FOJyl9YClcblxuICAgIGdhbWUuQ29DNy5za2lsbExpc3Q/LmZvckVhY2gocyA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFsaXN0LmluY2x1ZGVzKHMubmFtZSkgJiZcbiAgICAgICAgIXMubmFtZVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgLmluY2x1ZGVzKGAoJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQW55U3BlY05hbWUnKX0pYC50b0xvd2VyQ2FzZSgpKVxuICAgICAgKSB7XG4gICAgICAgIGxpc3QucHVzaChzLm5hbWUpXG4gICAgICB9XG4gICAgfSkgLy8gVE9ETzogUmVtb3ZlID8/XG4gICAgdGhpcy5wYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmFjdG9yKSB7XG4gICAgICAgIHAuYWN0b3Iuc2tpbGxzLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgaWYgKCFsaXN0LmluY2x1ZGVzKHMubmFtZSkpIGxpc3QucHVzaChzLm5hbWUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gbGlzdC5zb3J0KEludGwuQ29sbGF0b3IoKS5jb21wYXJlKVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHRoZSBkYXRhIG9mIGFsbCBwYXJhc2l0ZSBwYXJ0aWNpcGFudHMgaW4gbG9jYXRpb25zLlxuICAgKiBTaG91bGQgbmV2ZXIgaGFwcGVuXG4gICAqL1xuICAvLyBhc3luYyBjbGVhbkxvY2F0aW9ucyAoKSB7XG4gIC8vICAgY29uc3QgbG9jYXRpb25zID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAvLyAgIGxvY2F0aW9ucy5mb3JFYWNoKGwgPT4ge1xuICAvLyAgICAgY29uc3QgcGFydGlwYW50c1V1aWRBcnJheSA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cy5tYXAocCA9PiBwLnV1aWQpXG4gIC8vICAgICBpZiAobC5wYXJ0aWNpcGFudHMpIHtcbiAgLy8gICAgICAgbC5wYXJ0aWNpcGFudHMgPSBsLnBhcnRpY2lwYW50cy5maWx0ZXIodXVpZCA9PlxuICAvLyAgICAgICAgIHBhcnRpcGFudHNVdWlkQXJyYXkuaW5jbHVkZXModXVpZClcbiAgLy8gICAgICAgKVxuICAvLyAgICAgfVxuICAvLyAgIH0pXG4gIC8vICAgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucylcbiAgLy8gfVxufVxuIiwiLyogZ2xvYmFsIGZvdW5kcnksIGdhbWUgKi9cbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdTa2lsbCBleHRlbmRzIENvQzdJdGVtIHtcbiAgY29uc3RydWN0b3IgKGRhdGEsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEuc3lzdGVtPy5za2lsbE5hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBza2lsbCA9IENvQzdTa2lsbC5ndWVzc05hbWVQYXJ0cyhkYXRhLm5hbWUpXG4gICAgICBjb25zdCB7IG5hbWUsIHNraWxsTmFtZSwgc3BlY2lhbGl6YXRpb24sIC4uLm5ld1Byb3BlcnRpZXMgfSA9IHNraWxsXG4gICAgICBkYXRhLm5hbWUgPSBuYW1lXG4gICAgICBkYXRhLnN5c3RlbSB8fD0ge31cbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7IC4uLmRhdGEuc3lzdGVtLnByb3BlcnRpZXMsIC4uLm5ld1Byb3BlcnRpZXMgfVxuICAgICAgZGF0YS5zeXN0ZW0gPSB7IC4uLmRhdGEuc3lzdGVtLCBza2lsbE5hbWUsIHNwZWNpYWxpemF0aW9uLCBwcm9wZXJ0aWVzIH1cbiAgICB9XG4gICAgc3VwZXIoZGF0YSwgY29udGV4dClcbiAgfVxuXG4gIHN0YXRpYyBndWVzc05hbWVQYXJ0cyAoc2tpbGxOYW1lKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge1xuICAgICAgY29tYmF0OiBmYWxzZSxcbiAgICAgIGZpZ2h0aW5nOiBmYWxzZSxcbiAgICAgIGZpcmVhcm06IGZhbHNlLFxuICAgICAgbmFtZTogc2tpbGxOYW1lLFxuICAgICAgc2tpbGxOYW1lLFxuICAgICAgc3BlY2lhbDogZmFsc2UsXG4gICAgICBzcGVjaWFsaXphdGlvbjogJydcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaCA9IHNraWxsTmFtZS5tYXRjaCgvXiguKylcXHMqXFwoKFteKV0rKVxcKSQvKVxuICAgIGlmIChtYXRjaCkge1xuICAgICAgb3V0cHV0LnNraWxsTmFtZSA9IG1hdGNoWzJdLnRyaW0oKVxuICAgICAgb3V0cHV0LnNwZWNpYWwgPSB0cnVlXG5cbiAgICAgIGNvbnN0IHNwZWNpYWxpemF0aW9uID0gbWF0Y2hbMV0udHJpbSgpXG4gICAgICBvdXRwdXQuc3BlY2lhbGl6YXRpb24gPSBzcGVjaWFsaXphdGlvblxuICAgICAgb3V0cHV0Lm5hbWUgPSBzcGVjaWFsaXphdGlvbiArICcgKCcgKyBvdXRwdXQuc2tpbGxOYW1lICsgJyknXG4gICAgICBvdXRwdXQuZmlnaHRpbmcgPSBzcGVjaWFsaXphdGlvbiA9PT0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJylcbiAgICAgIG91dHB1dC5maXJlYXJtID0gc3BlY2lhbGl6YXRpb24gPT09IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lJylcbiAgICAgIG91dHB1dC5jb21iYXQgPSBvdXRwdXQuZmlnaHRpbmcgfHwgb3V0cHV0LmZpcmVhcm1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgZ2V0IGhhc0FjdGl2ZUVmZmVjdHMgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZUVmZmVjdHMubGVuZ3RoID4gMFxuICB9XG5cbiAgZ2V0IGFjdGl2ZUVmZmVjdHMgKCkge1xuICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5lZmZlY3RzKSB7XG4gICAgICBjb25zdCBlZmZlY3RLZXlGdWxsID0gYHNraWxsLiR7dGhpcy5uYW1lfWAudG9Mb3dlckNhc2UoKVxuICAgICAgY29uc3QgZWZmZWN0S2V5U2hvcnQgPSBgc2tpbGwuJHt0aGlzLnN5c3RlbS5za2lsbE5hbWV9YC50b0xvd2VyQ2FzZSgpXG4gICAgICBsZXQgY2hhbmdlcyA9IHRoaXMucGFyZW50LmVmZmVjdHMucmVkdWNlKChjaGFuZ2VzLCBlKSA9PiB7XG4gICAgICAgIGlmIChlLmRpc2FibGVkIHx8IGUuaXNTdXBwcmVzc2VkKSByZXR1cm4gY2hhbmdlc1xuICAgICAgICByZXR1cm4gY2hhbmdlcy5jb25jYXQoXG4gICAgICAgICAgZS5kYXRhLmNoYW5nZXMubWFwKGMgPT4ge1xuICAgICAgICAgICAgYyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKGMpXG4gICAgICAgICAgICBjLmVmZmVjdCA9IGVcbiAgICAgICAgICAgIGMucHJpb3JpdHkgPSBjLnByaW9yaXR5ID8/IGMubW9kZSAqIDEwXG4gICAgICAgICAgICByZXR1cm4gY1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0sIFtdKVxuICAgICAgY2hhbmdlcy5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSlcbiAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzLmZpbHRlcihcbiAgICAgICAgZSA9PlxuICAgICAgICAgIGUua2V5LnRvTG93ZXJDYXNlKCkgPT09IGVmZmVjdEtleVNob3J0IHx8XG4gICAgICAgICAgZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gZWZmZWN0S2V5RnVsbFxuICAgICAgKVxuICAgICAgcmV0dXJuIGNoYW5nZXNcbiAgICB9XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICAvKipcbiAgKiBVbmlxdWUgaWRlbnRpZmllciBzaG91bGQgYmUgdXNlZCB0byBzdG9yZSBhbmQgb2J0YWluIGl0ZW0gdG8gYXNzZXNzIGl0ZW0gdW5pcXVlbmVzcy5cbiAgKiBGb3Igb2xkIGl0ZW1zIHdpdGhvdXQgaWQsIGZhbGxiYWNrIG9mIHNraWxsTmFtZSBtYXkgc3RpbGwgYmUgdXNlZFxuICAqIGJ1dCBpZiBza2lsbCBuYW1lIGlzIG5vdCB1bmlxdWUgaXQgd2lsbCBjYXVzZSBwcm9ibGVtcy5cbiAgKi9cbiAgZ2V0IGl0ZW1JZGVudGlmaWVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgdmFsdWUgb2YgdGhlIHNraWxsIHNjb3JlIHVuYWZmZWN0ZWQgYnkgYWN0aXZlIGVmZmVjdHNcbiAgICovXG4gIGdldCByYXdWYWx1ZSAoKSB7XG4gICAgbGV0IHZhbHVlID0gMFxuICAgIGlmICh0aGlzLmFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICAvLyBGb3IgYW4gYWN0b3Igd2l0aCBleHBlcmllbmNlIHdlIG5lZWQgdG8gY2FsY3VsYXRlIHNraWxsIHZhbHVlXG4gICAgICB2YWx1ZSA9IHRoaXMuYmFzZVxuICAgICAgdmFsdWUgKz0gdGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LnBlcnNvbmFsXG4gICAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LnBlcnNvbmFsKVxuICAgICAgICA6IDBcbiAgICAgIHZhbHVlICs9IHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzPy5vY2N1cGF0aW9uXG4gICAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/Lm9jY3VwYXRpb24pXG4gICAgICAgIDogMFxuICAgICAgdmFsdWUgKz0gdGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2VcbiAgICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZSlcbiAgICAgICAgOiAwXG4gICAgICBpZiAoXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJykgJiZcbiAgICAgICAgdGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LmFyY2hldHlwZVxuICAgICAgKSB7XG4gICAgICAgIHZhbHVlICs9IHBhcnNlSW50KHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzPy5hcmNoZXR5cGUpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBhbGwgb3RoZXJzIGFjdG9yIHdlIHN0b3JlIHRoZSB2YWx1ZSBkaXJlY3RseVxuICAgICAgdmFsdWUgPSBwYXJzZUludCh0aGlzLnN5c3RlbS52YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuICFpc05hTih2YWx1ZSkgPyB2YWx1ZSA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBza2lsbCdzIHZhbHVlIGFmdGVyIGFjdGl2ZSBlZmZlY3RzIGhhdmUgYmVlbiBhcHBsaWVkXG4gICAqL1xuICBnZXQgdmFsdWUgKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wYXJlbnQ/LnN5c3RlbS5za2lsbHM/LltgJHt0aGlzLml0ZW1JZGVudGlmaWVyfWBdPy52YWx1ZVxuICAgIHJldHVybiB2YWx1ZSB8fCB0aGlzLnJhd1ZhbHVlXG4gIH1cblxuICBhc3luYyB1cGRhdGVWYWx1ZSAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5hY3Rvci50eXBlID09PSAnY2hhcmFjdGVyJykge1xuICAgICAgY29uc3QgZGVsdGEgPSBwYXJzZUludCh2YWx1ZSkgLSB0aGlzLnJhd1ZhbHVlXG4gICAgICBjb25zdCBleHAgPVxuICAgICAgICAodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2VcbiAgICAgICAgICA/IHBhcnNlSW50KHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UpXG4gICAgICAgICAgOiAwKSArIGRlbHRhXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSc6IGV4cCA+IDAgPyBleHAgOiAwXG4gICAgICB9KVxuICAgIH0gZWxzZSBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0udmFsdWUnOiB2YWx1ZSB9KVxuICB9XG5cbiAgYXN5bmMgaW5jcmVhc2VFeHBlcmllbmNlICh4KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5hY3Rvci50eXBlID09PSAnY2hhcmFjdGVyJykge1xuICAgICAgY29uc3QgZXhwID1cbiAgICAgICAgKHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzPy5leHBlcmllbmNlXG4gICAgICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5hZGp1c3RtZW50cy5leHBlcmllbmNlKVxuICAgICAgICAgIDogMCkgKyBwYXJzZUludCh4KVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAnc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UnOiBleHAgPiAwID8gZXhwIDogMFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBnZXQgdmFsdWUgKCkge1xuICAvLyAgIGxldCBwVmFsdWVcbiAgLy8gICBpZiggdGhpcy5wYXJlbnQpe1xuXG4gIC8vICAgfVxuICAvLyAgIGNvbnN0IHZhbHVlID0gc3VwZXIudmFsdWVcbiAgLy8gICBsZXQgdXBkYXRlZCA9IHZhbHVlXG4gIC8vICAgZm9yIChjb25zdCBjaGFuZ2Ugb2YgdGhpcy5hY3RpdmVFZmZlY3RzKSB7XG4gIC8vICAgICBjb25zdCBtb2RpZmllciA9IE51bWJlci5mcm9tU3RyaW5nKGNoYW5nZS52YWx1ZSlcbiAgLy8gICAgIGlmICghaXNOYU4obW9kaWZpZXIpKSB7XG4gIC8vICAgICAgIGNvbnN0IG1vZGVzID0gQ09OU1QuQUNUSVZFX0VGRkVDVF9NT0RFU1xuICAvLyAgICAgICBzd2l0Y2ggKGNoYW5nZS5tb2RlKSB7XG4gIC8vICAgICAgICAgY2FzZSBtb2Rlcy5BREQ6XG4gIC8vICAgICAgICAgICB1cGRhdGVkICs9IG1vZGlmaWVyXG4gIC8vICAgICAgICAgICBicmVha1xuICAvLyAgICAgICAgIGNhc2UgbW9kZXMuTVVMVElQTFk6XG4gIC8vICAgICAgICAgICB1cGRhdGVkID0gTWF0aC5yb3VuZCh1cGRhdGVkICogbW9kaWZpZXIpXG4gIC8vICAgICAgICAgICBicmVha1xuICAvLyAgICAgICAgIGNhc2UgbW9kZXMuT1ZFUlJJREU6XG4gIC8vICAgICAgICAgICB1cGRhdGVkID0gbW9kaWZpZXJcbiAgLy8gICAgICAgICAgIGJyZWFrXG4gIC8vICAgICAgICAgY2FzZSBtb2Rlcy5VUEdSQURFOlxuICAvLyAgICAgICAgICAgaWYgKG1vZGlmZXIgPiB1cGRhdGVkKSB1cGRhdGVkID0gbW9kaWZpZXJcbiAgLy8gICAgICAgICAgIGJyZWFrXG4gIC8vICAgICAgICAgY2FzZSBtb2Rlcy5ET1dOR1JBREU6XG4gIC8vICAgICAgICAgICBpZiAobW9kaWZlciA8IHVwZGF0ZWQpIHVwZGF0ZWQgPSBtb2RpZmllclxuICAvLyAgICAgICAgICAgYnJlYWtcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gICBpZiAoIWlzTmFOKHVwZGF0ZWQpICYmIHVwZGF0ZWQgIT0gdmFsdWUpIHtcbiAgLy8gICAgIGlmICh1cGRhdGVkIDwgMCkgdXBkYXRlZCA9IDBcbiAgLy8gICAgIHJldHVybiB1cGRhdGVkXG4gIC8vICAgfSByZXR1cm4gdmFsdWVcbiAgLy8gfVxufVxuIiwiaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi9hY3Rvci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdWZWhpY2xlIGV4dGVuZHMgQ29DQWN0b3Ige1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL2plZXAuc3ZnJ1xuICAgIH1cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICB9XG5cbiAgZ2V0IHJhd0J1aWxkICgpIHtcbiAgICByZXR1cm4gdGhpcy5idWlsZFxuICB9XG5cbiAgZ2V0IGJ1aWxkICgpIHtcbiAgICBjb25zdCBidWlsZCA9IHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWUpXG4gICAgcmV0dXJuIGlzTmFOKGJ1aWxkKSA/IG51bGwgOiBidWlsZFxuICB9XG5cbiAgZ2V0IGhwICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmN1cnJlbnQgPT09IG51bGwgfHxcbiAgICAgIHVuZGVmaW5lZCA9PT0gdGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5jdXJyZW50IHx8XG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmN1cnJlbnQgPT09ICcnXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZFxuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmN1cnJlbnQgPiB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLnZhbHVlXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZFxuICAgIH1cbiAgICBjb25zdCBocCA9IHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudClcbiAgICByZXR1cm4gaXNOYU4oaHApID8gbnVsbCA6IGhwXG4gIH1cblxuICBnZXQgaHBNYXggKCkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkXG4gIH1cblxuICBnZXQgcmF3SHBNYXggKCkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkXG4gIH1cblxuICBhc3luYyBzZXRIcCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPiB0aGlzLmJ1aWxkKSB2YWx1ZSA9IHRoaXMuYnVpbGRcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCc6IHZhbHVlIH0pXG4gIH1cblxuICBnZXQgcmF3RGIgKCkge1xuICAgIHJldHVybiB0aGlzLmRiXG4gIH1cblxuICBnZXQgZGIgKCkge1xuICAgIGNvbnN0IGRiID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5kYj8udmFsdWUpXG4gICAgcmV0dXJuIGlzTmFOKGRiKSA/IG51bGwgOiBkYlxuICB9XG5cbiAgZ2V0IHJhd01vdiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW92XG4gIH1cblxuICBnZXQgbW92ICgpIHtcbiAgICBjb25zdCBtb3YgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLm1vdj8udmFsdWUpXG4gICAgcmV0dXJuIGlzTmFOKG1vdikgPyBudWxsIDogbW92XG4gIH1cblxuICBnZXQgbXBNYXggKCkge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzPy5tcD8ubWF4KSB8fCAwXG4gIH1cblxuICBnZXQgcmF3TXBNYXggKCkge1xuICAgIHJldHVybiB0aGlzLm1wTWF4XG4gIH1cblxuICBnZXQgc2FuTWF4ICgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHJhd1Nhbk1heCAoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpY2VUZXJtICovXG5cbmV4cG9ydCBjbGFzcyBDb0M3RGVjYWRlckRpZSBleHRlbmRzIERpY2VUZXJtIHtcbiAgY29uc3RydWN0b3IgKHRlcm1EYXRhKSB7XG4gICAgc3VwZXIodGVybURhdGEpXG4gICAgdGhpcy5mYWNlcyA9IDEwXG4gIH1cblxuICBnZXQgdG90YWwgKCkge1xuICAgIGNvbnN0IHRvdGFsID0gc3VwZXIudG90YWxcbiAgICByZXR1cm4gdG90YWwgPT09IDEwID8gMCA6IHRvdGFsICogMTBcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGdldCBERU5PTUlOQVRJT04gKCkge1xuICAgIHJldHVybiAndCdcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29DN0RlY2FkZXJEaWUgfSBmcm9tICcuL2RlY2FkZXItZGllLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0RlY2FkZXJEaWVPdGhlciBleHRlbmRzIENvQzdEZWNhZGVyRGllIHtcbiAgc3RhdGljIGdldCBERU5PTUlOQVRJT04gKCkge1xuICAgIHJldHVybiAnbydcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENPTkZJRywgRm9ybUFwcGxpY2F0aW9uLCBnYW1lLCBtZXJnZU9iamVjdCAqL1xuY29uc3QgU0VUVElOR1MgPSB7XG4gIHB1bHBSdWxlczoge1xuICAgIG5hbWU6ICcnLFxuICAgIGhpbnQ6ICcnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBpbml0aWF0aXZlUnVsZToge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5Jbml0aWF0aXZlUnVsZScsXG4gICAgaGludDogJ1NFVFRJTkdTLkluaXRpYXRpdmVSdWxlSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiAnYmFzaWMnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICBiYXNpYzogJ1NFVFRJTkdTLkluaXRpYXRpdmVSdWxlQmFzaWMnLFxuICAgICAgb3B0aW9uYWw6ICdTRVRUSU5HUy5Jbml0aWF0aXZlUnVsZU9wdGlvbmFsJ1xuICAgIH0sXG4gICAgb25DaGFuZ2U6IHJ1bGUgPT4gX3NldEluaXRpYXRpdmVPcHRpb25zKHJ1bGUpXG4gIH0sXG4gIGRldmVsb3BtZW50Um9sbEZvckx1Y2s6IHtcbiAgICBuYW1lOiAnU0VUVElOR1MuZGV2ZWxvcG1lbnRSb2xsRm9yTHVjaycsXG4gICAgaGludDogJ1NFVFRJTkdTLmRldmVsb3BtZW50Um9sbEZvckx1Y2tIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVEb3VibGVNYXhIZWFsdGg6IHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuRG91YmxlTWF4SGVhbHRoLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5Eb3VibGVNYXhIZWFsdGguSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIHB1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjazoge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5EZXZlbG9wbWVudFJvbGxMdWNrLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5EZXZlbG9wbWVudFJvbGxMdWNrLkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBwdWxwUnVsZUFyY2hldHlwZToge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5BcmNoZXR5cGUuTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkFyY2hldHlwZS5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVPcmdhbml6YXRpb246IHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuT3JnYW5pemF0aW9uLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5Pcmdhbml6YXRpb24uSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIHB1bHBSdWxlVGFsZW50czoge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5UYWxlbnRzLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5UYWxlbnRzLkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBwdWxwUnVsZUZhc3RlclJlY292ZXJ5OiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkZhc3RlclJlY292ZXJ5Lk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5GYXN0ZXJSZWNvdmVyeS5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVJZ25vcmVNYWpvcldvdW5kczoge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5JZ25vcmVNYWpvcldvdW5kcy5OYW1lJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuSWdub3JlTWFqb3JXb3VuZHMuSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIHB1bHBSdWxlSWdub3JlQWdlUGVuYWx0aWVzOiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLklnbm9yZUFnZVBlbmFsdGllcy5OYW1lJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuSWdub3JlQWdlUGVuYWx0aWVzLkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBvcHBvc2VkUm9sbFRpZUJyZWFrZXI6IHtcbiAgICBuYW1lOiAnU0VUVElOR1MuT3Bwb3NlZFJvbGxUaWVCcmVha2VyJyxcbiAgICBoaW50OiAnU0VUVElOR1MuT3Bwb3NlZFJvbGxUaWVCcmVha2VySGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH1cbn1cblxuZnVuY3Rpb24gX3NldEluaXRpYXRpdmVPcHRpb25zIChydWxlKSB7XG4gIGxldCBkZWNpbWFscyA9IDBcbiAgc3dpdGNoIChydWxlKSB7XG4gICAgY2FzZSAnb3B0aW9uYWwnOlxuICAgICAgZGVjaW1hbHMgPSAyXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIGRlY2ltYWxzID0gMFxuICAgICAgYnJlYWtcbiAgfVxuICBDT05GSUcuQ29tYmF0LmluaXRpYXRpdmUgPSB7XG4gICAgZm9ybXVsYTogbnVsbCxcbiAgICBkZWNpbWFsc1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3R2FtZVJ1bGVTZXR0aW5ncyBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbiB7XG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgdGl0bGU6ICdTRVRUSU5HUy5UaXRsZVJ1bGVzJyxcbiAgICAgIGlkOiAncnVsZXMtc2V0dGluZ3MnLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL3N5c3RlbS9ydWxlLXNldHRpbmdzLmh0bWwnLFxuICAgICAgd2lkdGg6IDU1MCxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgY2xvc2VPblN1Ym1pdDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBnZXREYXRhICgpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge31cbiAgICBjb25zdCBwdWxwUnVsZXMgPSB7XG4gICAgICB0cnVlOiBmYWxzZSxcbiAgICAgIGZhbHNlOiBmYWxzZVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhTRVRUSU5HUykpIHtcbiAgICAgIG9wdGlvbnNba10gPSB7XG4gICAgICAgIHZhbHVlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsIGspLFxuICAgICAgICBzZXR0aW5nOiB2XG4gICAgICB9XG4gICAgICBpZiAoay5tYXRjaCgvXnB1bHBSdWxlLnsyLH0kLykpIHtcbiAgICAgICAgcHVscFJ1bGVzW29wdGlvbnNba10udmFsdWVdID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBvcHRpb25zLnB1bHBTZWxlY3Rpb24gPSBwdWxwUnVsZXMudHJ1ZVxuICAgICAgPyBwdWxwUnVsZXMuZmFsc2VcbiAgICAgICAgPyAnc29tZSdcbiAgICAgICAgOiAnYWxsJ1xuICAgICAgOiAnbm9uZSdcbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyU2V0dGluZ3MgKCkge1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKFNFVFRJTkdTKSkge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsIGssIHYpXG4gICAgfVxuICAgIF9zZXRJbml0aWF0aXZlT3B0aW9ucyhnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdpbml0aWF0aXZlUnVsZScpKVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcjcHVscFJ1bGVzU2VsZWN0JylcbiAgICAgIC5vbignY2hhbmdlJywgZXZlbnQgPT4gdGhpcy5vbkNoYW5nZVB1bHBTZWxlY3QoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdpbnB1dC5wdWxwUnVsZXNTZWxlY3RbdHlwZT1jaGVja2JveF0nKVxuICAgICAgLm9uKCdjbGljaycsIGV2ZW50ID0+IHRoaXMub25DbGlja1B1bHAoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdidXR0b25bbmFtZT1yZXNldF0nKVxuICAgICAgLm9uKCdjbGljaycsIGV2ZW50ID0+IHRoaXMub25SZXNldERlZmF1bHRzKGV2ZW50KSlcbiAgfVxuXG4gIG9uQ2hhbmdlUHVscFNlbGVjdCAoZXZlbnQpIHtcbiAgICBjb25zdCB2YWwgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnZhbCgpXG4gICAgaWYgKHZhbCA9PT0gJ25vbmUnIHx8IHZhbCA9PT0gJ2FsbCcpIHtcbiAgICAgICQoJyNydWxlcy1zZXR0aW5ncycpXG4gICAgICAgIC5maW5kKCdpbnB1dC5wdWxwUnVsZXNTZWxlY3RbdHlwZT1jaGVja2JveF0nKVxuICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgY2hlY2tib3ggPSAkKHRoaXMpXG4gICAgICAgICAgaWYgKHZhbCA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBjaGVja2JveC5wcm9wKCdjaGVja2VkJywgZmFsc2UpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrYm94LnByb3AoJ2NoZWNrZWQnLCB0cnVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvbkNsaWNrUHVscCAoZXZlbnQpIHtcbiAgICBjb25zdCBwdWxwUnVsZXMgPSB7XG4gICAgICB0cnVlOiBmYWxzZSxcbiAgICAgIGZhbHNlOiBmYWxzZVxuICAgIH1cbiAgICAkKCcjcnVsZXMtc2V0dGluZ3MnKVxuICAgICAgLmZpbmQoJ2lucHV0LnB1bHBSdWxlc1NlbGVjdFt0eXBlPWNoZWNrYm94XScpXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gJCh0aGlzKVxuICAgICAgICBpZiAoY2hlY2tib3gucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgcHVscFJ1bGVzLnRydWUgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHVscFJ1bGVzLmZhbHNlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICQoJyNwdWxwUnVsZXNTZWxlY3QnKS52YWwoXG4gICAgICBwdWxwUnVsZXMudHJ1ZSA/IChwdWxwUnVsZXMuZmFsc2UgPyAnc29tZScgOiAnYWxsJykgOiAnbm9uZSdcbiAgICApXG4gIH1cblxuICBhc3luYyBvblJlc2V0RGVmYXVsdHMgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGZvciBhd2FpdCAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKFNFVFRJTkdTKSkge1xuICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCBrLCB2Py5kZWZhdWx0KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXIoKVxuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGRhdGEpIHtcbiAgICBjb25zdCBwdWxwUnVsZXMgPSB7XG4gICAgICB0cnVlOiBmYWxzZSxcbiAgICAgIGZhbHNlOiBmYWxzZVxuICAgIH1cbiAgICBmb3IgYXdhaXQgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhTRVRUSU5HUykpIHtcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3Jywga2V5LCBkYXRhW2tleV0pXG4gICAgICBpZiAoa2V5Lm1hdGNoKC9ecHVscFJ1bGUuezIsfSQvKSkge1xuICAgICAgICBwdWxwUnVsZXNbZGF0YVtrZXldXSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVzJywgcHVscFJ1bGVzLnRydWUgJiYgIXB1bHBSdWxlcy5mYWxzZSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGR1cGxpY2F0ZSwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBEcm9wQ29DSUQgfSBmcm9tICcuLi8uLi9hcHBzL2Ryb3AtY29jLWlkLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3QXJjaGV0eXBlU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICAvKipcbiAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAqIEBwYXJhbSBodG1sIHtIVE1MfSAgIFRoZSBwcmVwYXJlZCBIVE1MIG9iamVjdCByZWFkeSB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBET01cbiAgICovXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICAvLyBFdmVyeXRoaW5nIGJlbG93IGhlcmUgaXMgb25seSBuZWVkZWQgaWYgdGhlIHNoZWV0IGlzIGVkaXRhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5pdGVtIC5pdGVtLW5hbWUgaDQnKVxuICAgICAgLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbVN1bW1hcnkoZXZlbnQsICdza2lsbHMnKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLml0ZW0tZGVsZXRlJylcbiAgICAgIC5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1EZWxldGUoZXZlbnQsICdza2lsbHMnKSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50LCB0eXBlID0gJ3NraWxsJywgY29sbGVjdGlvbk5hbWUgPSAnc2tpbGxzJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgZGF0YUxpc3QgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmdldERhdGFGcm9tRHJvcEV2ZW50KGV2ZW50LCAnSXRlbScpXG5cbiAgICBsZXQgdXNlQ29DSUQgPSAwXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdKSA6IFtdXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGFMaXN0KSB7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uc3lzdGVtKSBjb250aW51ZVxuICAgICAgaWYgKCFbdHlwZV0uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgaWYgKCFDb0M3SXRlbS5pc0FueVNwZWMoaXRlbSkpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uZmluZChlbCA9PiBlbC5uYW1lID09PSBpdGVtLm5hbWUpKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodXNlQ29DSUQgPT09IDApIHtcbiAgICAgICAgdXNlQ29DSUQgPSBhd2FpdCBEcm9wQ29DSUQuY3JlYXRlKClcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb24ucHVzaChEcm9wQ29DSUQucHJvY2Vzc0l0ZW0odXNlQ29DSUQsIGl0ZW0pKVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgW2BzeXN0ZW0uJHtjb2xsZWN0aW9uTmFtZX1gXTogY29sbGVjdGlvbiB9KVxuICB9XG5cbiAgX29uSXRlbVN1bW1hcnkgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0uZmluZChzID0+IHtcbiAgICAgIHJldHVybiBzLl9pZCA9PT0gbGkuZGF0YSgnaXRlbS1pZCcpXG4gICAgfSlcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBjaGF0RGF0YSA9IGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uXG5cbiAgICAvLyBUb2dnbGUgc3VtbWFyeVxuICAgIGlmIChsaS5oYXNDbGFzcygnZXhwYW5kZWQnKSkge1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IGxpLmNoaWxkcmVuKCcuaXRlbS1zdW1tYXJ5JylcbiAgICAgIHN1bW1hcnkuc2xpZGVVcCgyMDAsICgpID0+IHN1bW1hcnkucmVtb3ZlKCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpdiA9ICQoYDxkaXYgY2xhc3M9XCJpdGVtLXN1bW1hcnlcIj4ke2NoYXREYXRhLnZhbHVlfTwvZGl2PmApXG4gICAgICBjb25zdCBwcm9wcyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXByb3BlcnRpZXNcIj48L2Rpdj4nKVxuICAgICAgLy8gZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLnByb3BlcnRpZXMpIHsgcHJvcHMuYXBwZW5kKGA8c3BhbiBjbGFzcz1cInRhZ1wiPiR7cH08L3NwYW4+YCkgfVxuICAgICAgZGl2LmFwcGVuZChwcm9wcylcbiAgICAgIGxpLmFwcGVuZChkaXYuaGlkZSgpKVxuICAgICAgZGl2LnNsaWRlRG93bigyMDApXG4gICAgfVxuICAgIGxpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpXG4gIH1cblxuICBhc3luYyBfb25JdGVtRGVsZXRlIChldmVudCwgY29sbGVjdGlvbk5hbWUgPSAnaXRlbXMnKSB7XG4gICAgY29uc3QgaXRlbSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW1JZCA9IGl0ZW0uZGF0YSgnaXRlbS1pZCcpXG4gICAgY29uc3QgQ29DSWQgPSBpdGVtLmRhdGEoJ2NvY2lkJylcbiAgICBjb25zdCBpdGVtSW5kZXggPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXS5maW5kSW5kZXgoaSA9PiAoaXRlbUlkICYmIGkuX2lkID09PSBpdGVtSWQpIHx8IChDb0NJZCAmJiBpID09PSBDb0NJZCkpXG4gICAgaWYgKGl0ZW1JbmRleCA+IC0xKSB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0gPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0pIDogW11cbiAgICAgIGNvbGxlY3Rpb24uc3BsaWNlKGl0ZW1JbmRleCwgMSlcbiAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyBbYHN5c3RlbS4ke2NvbGxlY3Rpb25OYW1lfWBdOiBjb2xsZWN0aW9uIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnb2NjdXBhdGlvbiddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL2FyY2hldHlwZS5odG1sJyxcbiAgICAgIHdpZHRoOiA1MjAsXG4gICAgICBoZWlnaHQ6IDQ4MCxcbiAgICAgIGRyYWdEcm9wOiBbeyBkcmFnU2VsZWN0b3I6ICcuaXRlbScgfV0sXG4gICAgICBzY3JvbGxZOiBbJy50YWIuZGVzY3JpcHRpb24nXSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdmlnYXRpb24nLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5oYXNPd25lciA9IHRoaXMuaXRlbS5pc0VtYmVkZGVkID09PSB0cnVlXG5cbiAgICBjb25zdCBjb3JlQ2hhcmFjdGVyaXN0aWNzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHNlbGVjdGVkXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzXG4gICAgKSkge1xuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIGNvbnN0IGNoYXJhY05hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoYENIQVJBQy4ke2tleS50b1VwcGVyQ2FzZSgpfWApXG4gICAgICAgIGNvcmVDaGFyYWN0ZXJpc3RpY3MucHVzaChjaGFyYWNOYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZFN1Z2dlc3RlZE9jY3VwYXRpb25zID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLnN1Z2dlc3RlZE9jY3VwYXRpb25zLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZFN1Z2dlc3RlZFRyYWl0cyA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5zdWdnZXN0ZWRUcmFpdHMsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscyB9KVxuICAgIHNoZWV0RGF0YS5za2lsbExpc3RFbXB0eSA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMubGVuZ3RoID09PSAwXG5cbiAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uc2tpbGxzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgc2hlZXREYXRhLmNvcmVDaGFyYWN0ZXJpc3RpY3NTdHJpbmcgPSAnJ1xuICAgIGNvbnN0IG9yU3RyaW5nID0gYCAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5PcicpfSBgXG4gICAgaWYgKGNvcmVDaGFyYWN0ZXJpc3RpY3MubGVuZ3RoKSB7XG4gICAgICBzaGVldERhdGEuY29yZUNoYXJhY3RlcmlzdGljc1N0cmluZyArPSBjb3JlQ2hhcmFjdGVyaXN0aWNzLmpvaW4ob3JTdHJpbmcpXG4gICAgfVxuXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzID0gW11cblxuICAgIHNoZWV0RGF0YS5pdGVtUHJvcGVydGllcy5wdXNoKFxuICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlB1bHBUYWxlbnRzJyl9OiAke3NoZWV0RGF0YS5kYXRhLnN5c3RlbS50YWxlbnRzfWBcbiAgICApXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzLnB1c2goXG4gICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQm9udXNQb2ludHMnKX06ICR7c2hlZXREYXRhLmRhdGEuc3lzdGVtLmJvbnVzUG9pbnRzfWBcbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGR1cGxpY2F0ZSwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Qm9va1NoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvYm9vay9tYWluLmh0bWwnLFxuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2l0ZW0nLCAnYm9vayddLFxuICAgICAgd2lkdGg6IDUwMCxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgIGRyYWdEcm9wOiBbeyBkcmFnU2VsZWN0b3I6ICcuc3BlbGxzJywgZHJvcFNlbGVjdG9yOiBudWxsIH1dLFxuICAgICAgc2Nyb2xsWTogWycuYm9keSddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcubmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLmJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5pbml0aWFsUmVhZGluZyA9IHRoaXMuaXRlbS5zeXN0ZW0uaW5pdGlhbFJlYWRpbmdcbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHNoZWV0RGF0YS5pc093bmVyID0gdGhpcy5pdGVtLmlzT3duZXJcbiAgICBzaGVldERhdGEuc3BlbGxzTGVhcm5lZCA9IHRoaXMuc3BlbGxzTGVhcm5lZFxuICAgIHNoZWV0RGF0YS5leGhhdXN0ZWQgPSAoYXdhaXQgdGhpcy5pdGVtLmNoZWNrRXhoYXVzdGlvbigpKSAhPT0gZmFsc2VcbiAgICBzaGVldERhdGEuc3R1ZHlDb21wbGV0ZWQgPSB0aGlzLml0ZW0uc3lzdGVtLnN0dWR5LnByb2dyZXNzID09PSB0aGlzLml0ZW0uc3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeVxuICAgIHNoZWV0RGF0YS5oYXNPd25lciA9IHRoaXMuaXRlbS5pc0VtYmVkZGVkID09PSB0cnVlXG4gICAgc2hlZXREYXRhLnNwZWxsTGlzdEVtcHR5ID0gdGhpcy5pdGVtLnN5c3RlbS5zcGVsbHMubGVuZ3RoID09PSAwXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWRDb250ZW50ID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmNvbnRlbnQsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgZ2V0IHNwZWxsc0xlYXJuZWQgKCkge1xuICAgIGxldCBhbW91bnQgPSAwXG4gICAgY29uc3Qgc3BlbGxzID0gdGhpcy5pdGVtLnN5c3RlbS5zcGVsbHNcbiAgICBmb3IgKGNvbnN0IHNwZWxsIG9mIHNwZWxscykge1xuICAgICAgaWYgKHNwZWxsLnN5c3RlbS5sZWFybmVkKSBhbW91bnQrK1xuICAgIH1cbiAgICByZXR1cm4gYCR7YW1vdW50fSAvICR7c3BlbGxzLmxlbmd0aH1gXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaHRtbC5maW5kKCcjYXR0ZW1wdC1pbml0aWFsLXJlYWRpbmcnKS5jbGljayhldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB0aGlzLml0ZW0uYXR0ZW1wdEluaXRpYWxSZWFkaW5nKClcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLmRlbGV0ZS1zcGVsbCcpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uRGVsZXRlKGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJy5lZGl0LXNwZWxsJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25TcGVsbERldGFpbChldmVudCkpXG4gICAgaHRtbC5maW5kKCcuc3BlbGwtbmFtZScpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uU3BlbGxEZXRhaWwoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnLnRlYWNoLXNwZWxsJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgY29uc3QgaWQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJ2xpJykuZGF0YSgnaWQnKVxuICAgICAgdGhpcy5pdGVtLmF0dGVtcHRTcGVsbExlYXJuaW5nKGlkKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCdbbmFtZT1cInN5c3RlbS5zdHVkeS5uZWNlc3NhcnlcIl0nKS5jaGFuZ2UoZXZlbnQgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgdGhpcy5pdGVtLmNoYW5nZVByb2dyZXNzKCdyZXNldCcsIHZhbHVlKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcjaW5jcmVhc2UtcHJvZ3Jlc3MnKS5jbGljaygoKSA9PiB7XG4gICAgICB0aGlzLml0ZW0uY2hhbmdlUHJvZ3Jlc3MoJ2luY3JlYXNlJylcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnI2RlY3JlYXNlLXByb2dyZXNzJykuY2xpY2soKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtLmNoYW5nZVByb2dyZXNzKCdkZWNyZWFzZScpXG4gICAgfSlcbiAgICBodG1sLmZpbmQoJy5hZGQtb3RoZXItZ2FpbnMnKS5jbGljayhldmVudCA9PiB7XG4gICAgICB0aGlzLm1vZGlmeU90aGVyc0dhaW5zKGV2ZW50LCAnYWRkJylcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLmNoYW5nZS1vdGhlci1nYWlucycpLmNoYW5nZShldmVudCA9PiB7XG4gICAgICB0aGlzLm1vZGlmeU90aGVyc0dhaW5zKGV2ZW50LCAnY2hhbmdlJylcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnI3JlZG8tZnVsbC1zdHVkeScpLmNsaWNrKCgpID0+IHtcbiAgICAgIHRoaXMuaXRlbS5yZWRvRnVsbFN0dWR5KClcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLnJlbW92ZS1vdGhlci1nYWlucycpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIHRoaXMubW9kaWZ5T3RoZXJzR2FpbnMoZXZlbnQsICdyZW1vdmUnKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcub3B0aW9uJykuY2xpY2soZXZlbnQgPT4gdGhpcy5tb2RpZnlUeXBlKGV2ZW50KSlcbiAgfVxuXG4gIGFzeW5jIF9vblNwZWxsRGV0YWlsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBlbGVtZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIC8qKiBAc2VlIGRhdGEtaW5kZXggcHJvcGVydHkgb24gdGVtcGxhdGUgKi9cbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnQucGFyZW50cygnbGknKS5kYXRhKCdpbmRleCcpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuaXRlbS5zcGVsbERldGFpbChpbmRleClcbiAgfVxuXG4gIC8qKlxuICAgKiBJdCBpcyBjYWxsZWQgZXZlcnkgdGltZSB0aGUgdXNlciBkZWxldGUgYSBzcGVsbCBvbiB0aGUgc2hlZXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHJldHVybnMge1Byb21pc2UuPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIF9vbkRlbGV0ZSAoZXZlbnQpIHtcbiAgICBpZiAoIWdhbWUudXNlci5pc0dNKSByZXR1cm5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgZWxlbWVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICAvKiogQHNlZSBkYXRhLWluZGV4IHByb3BlcnR5IG9uIHRlbXBsYXRlICovXG4gICAgY29uc3QgaW5kZXggPSBlbGVtZW50LnBhcmVudHMoJ2xpJykuZGF0YSgnaW5kZXgnKVxuICAgIC8qKiBBbHdheXMgaGFzIHRvIGJlIEB0eXBlIHtBcnJheX0gKi9cbiAgICBjb25zdCBzcGVsbHMgPSB0aGlzLml0ZW0uc3lzdGVtLnNwZWxsc1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5zcGVsbHMpXG4gICAgICA6IFtdXG4gICAgaWYgKGluZGV4ID49IDApIHNwZWxscy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLnNwZWxscyc6IHNwZWxscyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEl0IGlzIGNhbGxlZCBldmVyeSB0aW1lIHRoZSB1c2VyIGRyYWdzIGFuIGl0ZW0gdG8gdGhlIHNoZWV0XG4gICAqIEZpbHRlcnMgb25seSAnc3BlbGwnIGl0ZW1zIGFuZCBpbnNlcnRzIHRoZW0gaW4gYSBAdHlwZSB7QXJyYXl9XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBldmVudCBAc2VlIGFjdGl2YXRlTGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxEb2N1bWVudD59IHVwZGF0ZSB0byBJdGVtIGRvY3VtZW50XG4gICAqL1xuICBhc3luYyBfb25Ecm9wIChldmVudCwgdHlwZSA9ICdzcGVsbCcpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLyoqIFByZXZlbnRzIHByb3BhZ2F0aW9uIG9mIHRoZSBzYW1lIGV2ZW50IGZyb20gYmVpbmcgY2FsbGVkICovXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IGRhdGFMaXN0ID0gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXREYXRhRnJvbURyb3BFdmVudChldmVudCwgJ0l0ZW0nKVxuXG4gICAgY29uc3Qgc3BlbGxzID0gW11cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgIGlmICghaXRlbSB8fCAhWydza2lsbCcsICdzcGVsbCddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIGNvbnRpbnVlXG4gICAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnKSB7XG4gICAgICAgIHNwZWxscy5wdXNoKGl0ZW0pXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJyAmJiB0aGlzLml0ZW0uc3lzdGVtLnR5cGUub3RoZXIpIHtcbiAgICAgICAgdGhpcy5tb2RpZnlPdGhlcnNHYWlucyhudWxsLCAnYWRkJywgeyBuYW1lOiBpdGVtLm5hbWUgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgdGhpcy5pdGVtLmFkZFNwZWxscyhzcGVsbHMpXG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBjaGVja2JveGVzIGZvciB0eXBlIHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIGNvcnJlc3BvbmRpbmdcbiAgICogbGFiZWwsIG5vdCBzdXJlIGlmIHRoaXMgd29ya3Mgb24gZW5naW5lcyBvdGhlciB0aGFuIFY4XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBldmVudCBAc2VlIGFjdGl2YXRlTGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtqUXVlcnkuRXZlbnR9IGNsaWNrXG4gICAqL1xuICBtb2RpZnlUeXBlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAvKiogUHJldmVudHMgcHJvcGFnYXRpb24gb2YgdGhlIHNhbWUgZXZlbnQgZnJvbSBiZWluZyBjYWxsZWQgKi9cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGNvbnN0IHRvZ2dsZVN3aXRjaCA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICByZXR1cm4gdG9nZ2xlU3dpdGNoLnByZXYoKS50cmlnZ2VyKCdjbGljaycpXG4gIH1cblxuICAvKipcbiAgICogTW9kaWZ5IEl0ZW0gZGF0YSBiYXNlZCBvbiB1c2VyIGludGVyYWN0aW9ucyB3aXRoIHRoZSBvdGhlciBza2lsbFxuICAgKiBnYWlucyB0YWJsZSBvbiBkZXRhaWxzIHRhYiBvbiB0aGlzIHNoZWV0XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBldmVudCBAc2VlIGFjdGl2YXRlTGlzdGVuZXJzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlICdhZGQnIHx8ICdjaGFuZ2UnIHx8ICdyZW1vdmUnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIG1vZGlmeU90aGVyc0dhaW5zIChldmVudCwgbW9kZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLyoqIE5vIG5lZWQgdG8gY2hlY2sgaWYgdXNlciBpcyBHTSBiZWNhdXNlIG9ubHkgdGhleSBjYW4gc2VlIGRldGFpbHMgdGFiICovXG4gICAgbGV0IGluZGV4ID0gbnVsbFxuICAgIGxldCBlbGVtZW50ID0gbnVsbFxuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgZWxlbWVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICAgIC8qKiBAc2VlIGRhdGEtaW5kZXggcHJvcGVydHkgb24gdGVtcGxhdGUgKi9cbiAgICAgIGluZGV4ID0gZWxlbWVudC5wYXJlbnRzKCd0cicpLmRhdGEoJ2luZGV4JylcbiAgICAgIC8qKiBBbHdheXMgaGFzIHRvIGJlIEB0eXBlIHtBcnJheX0gKi9cbiAgICB9XG4gICAgY29uc3Qgc2tpbGxzID0gdGhpcy5pdGVtLnN5c3RlbS5nYWlucy5vdGhlcnNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0uZ2FpbnMub3RoZXJzKVxuICAgICAgOiBbXVxuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgLyoqIFVzZXIgY2xpY2tlZCBvbiBwbHVzIGljb24gdG8gYWRkIGEgbmV3IHNraWxsIG9uIG90aGVyIGdhaW5zIHRhYmxlICovXG4gICAgICAgIHNraWxscy5wdXNoKHtcbiAgICAgICAgICAvKiogbmV3IHNraWxsICovXG4gICAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lIHx8IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OZXdTa2lsbE5hbWUnKSxcbiAgICAgICAgICAvKiogZGV2ZWxvcG1lbnQgYnkgZGVmYXVsdCwgdmFsdWUgY2FuIGFsc28gYmUgMWQ2IG9yIDFkMTAgKi9cbiAgICAgICAgICB2YWx1ZTogJ2RldmVsb3BtZW50J1xuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2hhbmdlJzpcbiAgICAgICAgLyoqIFVzZXIgY2hhbmdlZCBuYW1lIChpbnB1dCkgb3IgdmFsdWUgKHNlbGVjdCkgb2YgYSBza2lsbCBvbiB0YWJsZSAqL1xuICAgICAgICBza2lsbHNbaW5kZXhdID0ge1xuICAgICAgICAgIG5hbWU6IGVsZW1lbnQuaXMoJ2lucHV0JykgPyBlbGVtZW50LnZhbCgpIDogc2tpbGxzW2luZGV4XS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmlzKCdzZWxlY3QnKSA/IGVsZW1lbnQudmFsKCkgOiBza2lsbHNbaW5kZXhdLnZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgIC8qKiBVc2VyIGNsaWNrZWQgb24gbWludXMgaWNvbiB0byByZW1vdmUgYSBza2lsbCBvbiBvdGhlciBnYWlucyB0YWJsZSAqL1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkgc2tpbGxzLnNwbGljZShpbmRleCwgMSlcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLmdhaW5zLm90aGVycyc6IHNraWxscyB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQWN0b3JTaGVldCwgQ09OU1QsIERpYWxvZywgRm9ybURhdGEsIGdhbWUsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuLi8uLi9hcHBzL2NvYzctbGluay5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q29udGFpbmVyU2hlZXQgZXh0ZW5kcyBBY3RvclNoZWV0IHtcbiAgLyoqXG4gICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSA1ZSBBY3RvciBTaGVldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnYWN0b3InLCAnc3RvcmFnZSddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9zdG9yYWdlLXNoZWV0Lmh0bWwnLFxuICAgICAgd2lkdGg6IDY3MixcbiAgICAgIGhlaWdodDogNzY1LFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5pdGVtJywgZHJvcFNlbGVjdG9yOiBudWxsIH1dLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2JyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2l0ZW1zJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBkYXRhTGlzdCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0RGF0YUZyb21Ecm9wRXZlbnQoZXZlbnQsICdJdGVtJylcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5hY3Rvci5pdGVtcy50b09iamVjdCgpIHx8IFtdXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGFMaXN0KSB7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uc3lzdGVtKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBpZiAoIVsnYm9vaycsICdpdGVtJywgJ3NwZWxsJywgJ3dlYXBvbiddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGl0ZW1zLnB1c2goaXRlbS50b09iamVjdCgpKVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZSh7IGl0ZW1zIH0pXG4gIH1cblxuICBvbkNsb3NlU2hlZXQgKCkge31cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEuZWRpdGFibGUgPSB0aGlzLmlzRWRpdGFibGVcblxuICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZSA9IHt9XG4gICAgaWYgKHNoZWV0RGF0YS5pdGVtcykge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNoZWV0RGF0YS5pdGVtcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZSxcbiAgICAgICAgICAgIGl0ZW0udHlwZVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlW2l0ZW0udHlwZV0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZVtpdGVtLnR5cGVdLnB1c2goaXRlbSlcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgaXRlbVR5cGUgaW4gc2hlZXREYXRhLml0ZW1zQnlUeXBlKSB7XG4gICAgICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZVtpdGVtVHlwZV0uc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLmFsbG93VW5sb2NrID1cbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3BsYXllclVubG9ja1NoZWV0TW9kZScpID09PSAnYWx3YXlzJyB8fFxuICAgICAgZ2FtZS51c2VyLmlzR01cblxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2l0ZW0nKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICdib29rJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3NwZWxsJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICd0YWxlbnQnKSB8fFxuICAgICAgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycpKVxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5V2VhcG9ucyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnd2VhcG9uJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG5cbiAgICBzaGVldERhdGEuaGFzSW52ZW50b3J5ID1cbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5Qm9va3MgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3BlbGxzIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVRhbGVudHMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5V2VhcG9uc1xuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbC5maW5kKCcuaXRlbS1lZGl0JykuY2xpY2soZXYgPT4ge1xuICAgICAgY29uc3QgbGkgPSAkKGV2LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtSWQnKSlcbiAgICAgIGl0ZW0uc2hlZXQucmVuZGVyKHRydWUpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmludmVudG9yeS1oZWFkZXInKS5jbGljayh0aGlzLl9vbkludmVudG9yeUhlYWRlci5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbC5maW5kKCcuaXRlbS10cmFkZScpLmNsaWNrKHRoaXMuX29uVHJhZGVJdGVtLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuc2hvdy1kZXRhaWwnKS5jbGljayh0aGlzLl9vbkl0ZW1TdW1tYXJ5LmJpbmQodGhpcykpXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtLWRlbGV0ZScpLmNsaWNrKGFzeW5jIGV2ID0+IHtcbiAgICAgIGNvbnN0IGxpID0gJChldi5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICBjb25zdCBpdGVtVG9EZWxldGUgPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtSWQnKSwge1xuICAgICAgICBzdHJpY3Q6IHRydWVcbiAgICAgIH0pXG4gICAgICBhd2FpdCBpdGVtVG9EZWxldGUuZGVsZXRlKClcbiAgICAgIGxpLnNsaWRlVXAoMjAwLCAoKSA9PiB0aGlzLnJlbmRlcihmYWxzZSkpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmFkZC1pdGVtJykuY2xpY2soZXYgPT4ge1xuICAgICAgc3dpdGNoIChldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZSkge1xuICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5Qm9vayhldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5SXRlbShldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgICAgdGhpcy5hY3Rvci5jcmVhdGVFbXB0eVNraWxsKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3NwZWxsJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5U3BlbGwoZXYpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5V2VhcG9uKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmxvY2snKS5jbGljayh0aGlzLl9vbkxvY2tDbGlja2VkLmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBfb25Mb2NrQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaXNMb2NrZWQgPSB0aGlzLmFjdG9yLmxvY2tlZFxuICAgIHRoaXMuYWN0b3IubG9ja2VkID0gIWlzTG9ja2VkXG4gIH1cblxuICBhc3luYyBfb25UcmFkZUl0ZW0gKGV2ZW50KSB7XG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQobGkuZGF0YSgnaXRlbUlkJykpXG4gICAgbGV0IGNvbnRlbnQgPSAnPHA+JyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NZXNzYWdlU2VsZWN0VXNlclRvR2l2ZVRvJylcbiAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgYWN0b3JGcm9tOiB0aGlzLmFjdG9yLmlkLFxuICAgICAgc2NlbmU6IG51bGwsXG4gICAgICBhY3RvclRvOiB0aGlzLmFjdG9yLmlkLFxuICAgICAgaXRlbTogaXRlbS5pZFxuICAgIH1cbiAgICBpZiAodGhpcy50b2tlbj8uYWN0b3IpIHtcbiAgICAgIG1lc3NhZ2UuYWN0b3JGcm9tID0gdGhpcy50b2tlbi5pZFxuICAgICAgbWVzc2FnZS5zY2VuZSA9IHRoaXMudG9rZW4ucGFyZW50LmlkXG4gICAgfVxuICAgIGNvbnN0IGFjdG9ycyA9IGdhbWUuYWN0b3JzLmZpbHRlcihlID0+IHtcbiAgICAgIGlmICghWydjaGFyYWN0ZXInLCAnbnBjJywgJ2NyZWF0dXJlJywgJ2NvbnRhaW5lciddLmluY2x1ZGVzKGUudHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hY3Rvci5pZCA9PT0gZS5pZCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGxldCB2aXNpYmxlID0gZmFsc2VcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGUub3duZXJzaGlwKSkge1xuICAgICAgICBpZiAoayA9PT0gJ2RlZmF1bHQnIHx8IGsgPT09IGdhbWUudXNlci5pZCkge1xuICAgICAgICAgIHZpc2libGUgPVxuICAgICAgICAgICAgdmlzaWJsZSB8fFxuICAgICAgICAgICAgdiAhPT0gQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5OT05FXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2aXNpYmxlXG4gICAgfSlcbiAgICBjb250ZW50ID0gY29udGVudCArICc8Zm9ybSBpZD1cInNlbGVjdGZvcm1cIj48c2VsZWN0IG5hbWU9XCJ1c2VyXCI+J1xuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgYWN0b3JzKSB7XG4gICAgICBjb250ZW50ID1cbiAgICAgICAgY29udGVudCArICc8b3B0aW9uIHZhbHVlPVwiJyArIGFjdG9yLmlkICsgJ1wiPicgKyBhY3Rvci5uYW1lICsgJzwvb3B0aW9uPidcbiAgICB9XG4gICAgY29udGVudCA9IGNvbnRlbnQgKyAnPC9zZWxlY3Q+PC9mb3JtPjwvcD4nXG4gICAgYXdhaXQgRGlhbG9nLnByb21wdCh7XG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VUaXRsZVNlbGVjdFVzZXJUb0dpdmVUbycpLFxuICAgICAgY29udGVudCxcbiAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2VsZWN0Zm9ybScpKVxuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgZm9ybURhdGEpIHtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmFjdG9yVG8gPSB2YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgYXdhaXQgZ2FtZS5Db0M3c29ja2V0LmV4ZWN1dGVBc0dNKCdnbXRyYWRlaXRlbXRvJywgbWVzc2FnZSlcbiAgfVxuXG4gIF9vbkl0ZW1TdW1tYXJ5IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtLWlkJykpXG4gICAgY29uc3QgY2hhdERhdGEgPSBpdGVtLmdldENoYXREYXRhKHsgc2VjcmV0czogdGhpcy5hY3Rvci5pc093bmVyIH0pXG5cbiAgICAvLyBUb2dnbGUgc3VtbWFyeVxuICAgIGlmIChsaS5oYXNDbGFzcygnZXhwYW5kZWQnKSkge1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IGxpLmNoaWxkcmVuKCcuaXRlbS1zdW1tYXJ5JylcbiAgICAgIHN1bW1hcnkuc2xpZGVVcCgyMDAsICgpID0+IHN1bW1hcnkucmVtb3ZlKCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpdiA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXN1bW1hcnlcIj48L2Rpdj4nKVxuXG4gICAgICBjb25zdCBsYWJlbHMgPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbS1sYWJlbHNcIj48L2Rpdj4nKVxuICAgICAgZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLmxhYmVscykge1xuICAgICAgICBsYWJlbHMuYXBwZW5kKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaXRlbS1sYWJlbFwiPjxzcGFuIGNsYXNzPVwibGFiZWwtbmFtZVwiPiR7cC5uYW1lfSA6PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWwtdmFsdWVcIj4ke3AudmFsdWV9PC9zcGFuPjwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgZGl2LmFwcGVuZChsYWJlbHMpXG5cbiAgICAgIGRpdi5hcHBlbmQoXG4gICAgICAgICQoYDxkaXYgY2xhc3M9XCJpdGVtLWRlc2NyaXB0aW9uXCI+JHtjaGF0RGF0YS5kZXNjcmlwdGlvbi52YWx1ZX08L2Rpdj5gKVxuICAgICAgKVxuICAgICAgaWYgKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnNwY2wpIHtcbiAgICAgICAgY29uc3Qgc3BlY2lhbERpdiA9ICQoXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJpdGVtLXNwZWNpYWxcIj4ke2NoYXREYXRhLmRlc2NyaXB0aW9uLnNwZWNpYWx9PC9kaXY+YFxuICAgICAgICApXG4gICAgICAgIGRpdi5hcHBlbmQoc3BlY2lhbERpdilcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvcHMgPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbS1wcm9wZXJ0aWVzXCI+PC9kaXY+JylcbiAgICAgIGZvciAoY29uc3QgcCBvZiBjaGF0RGF0YS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIHByb3BzLmFwcGVuZChcbiAgICAgICAgICBgPGRpdiBjbGFzcz1cInRhZyBpdGVtLXByb3BlcnR5XCI+JHtnYW1lLmkxOG4ubG9jYWxpemUocCl9PC9kaXY+YFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBkaXYuYXBwZW5kKHByb3BzKVxuXG4gICAgICBsaS5hcHBlbmQoZGl2LmhpZGUoKSlcbiAgICAgIENvQzdMaW5rLmJpbmRFdmVudHNIYW5kbGVyKGRpdilcbiAgICAgIGRpdi5zbGlkZURvd24oMjAwKVxuICAgIH1cbiAgICBsaS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKVxuICAgIC8vICQoZXZlbnQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gIH1cblxuICBfb25JbnZlbnRvcnlIZWFkZXIgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuc2libGluZ3MoJ2xpJykuc2xpZGVUb2dnbGUoMjAwKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgRHJhZ0Ryb3AsIEZvcm1BcHBsaWNhdGlvbiwgZm91bmRyeSwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5pbXBvcnQgeyBfcGFydGljaXBhbnQgfSBmcm9tICcuLi9pdGVtcy9jaGFzZS9wYXJ0aWNpcGFudC5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWRkQWN0b3JUb0NoYXNlJyksXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9jaGFzZS1wYXJ0aWNpcGFudC1pbXBvcnRlci5odG1sJyxcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdkaWFsb2cnLCAnY2hhc2UtcGFydGljaXBhbnQtaW1wb3J0ZXInXSxcbiAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgIHN1Ym1pdE9uQ2hhbmdlOiB0cnVlLFxuICAgICAgY2xvc2VPblN1Ym1pdDogZmFsc2UsXG4gICAgICB3aWR0aDogMzAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICB9KVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgY29uc3QgcGFydGljaXBhbnREcmFnRHJvcCA9IG5ldyBEcmFnRHJvcCh7XG4gICAgICBkcm9wU2VsZWN0b3I6ICcuZm9ybS1jb250YWluZXInLFxuICAgICAgcGVybWlzc2lvbnM6IHsgZHJvcDogZ2FtZS51c2VyLmlzR00gfSxcbiAgICAgIGNhbGxiYWNrczogeyBkcm9wOiB0aGlzLl9vbkRyb3BQYXJ0aWNpcGFudC5iaW5kKHRoaXMpIH1cbiAgICB9KVxuICAgIHBhcnRpY2lwYW50RHJhZ0Ryb3AuYmluZChodG1sWzBdKVxuXG4gICAgY29uc3QgdG9rZW5TZWxlY3RvckRyYWdEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgIGRyYWdTZWxlY3RvcjogJy5jaGFzZS10b2tlbicsXG4gICAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICBkcmFnc3RhcnQ6IGdhbWUudXNlci5pc0dNXG4gICAgICB9LFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIGRyYWdzdGFydDogdGhpcy5fb25Ub2tlblNlbGVjdG9yRHJhZ1N0YXJ0LmJpbmQodGhpcylcbiAgICAgIH1cbiAgICB9KVxuICAgIHRva2VuU2VsZWN0b3JEcmFnRHJvcC5iaW5kKGh0bWxbMF0pXG5cbiAgICBodG1sLmZpbmQoJy5yZXNldC1wYXJ0aWNpcGFudCcpLmNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMub2JqZWN0ID0ge31cbiAgICAgIHRoaXMuX2FjdG9yID0gbnVsbFxuICAgICAgYXdhaXQgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuZm9vZC1jaGFpbicpLmNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMub2JqZWN0LmNoYXNlciA9ICF0aGlzLm9iamVjdC5jaGFzZXJcbiAgICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnW2RhdGEtYWN0aW9uXScpLmNsaWNrKHRoaXMuX29uQWN0aW9uLmJpbmQodGhpcykpXG5cbiAgICAvLyBodG1sLmZpbmQoJ2J1dHRvbicpLmNsaWNrKHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBfb25Ub2tlblNlbGVjdG9yRHJhZ1N0YXJ0IChldmVudCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB0eXBlOiAnZ2V0VG9rZW4nLFxuICAgICAgYXBwSWQ6IHRoaXMuYXBwSWQsXG4gICAgICBjYWxsQmFjazogJ2FkZFRva2VuVG9DaGFzZSdcbiAgICB9XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGlmICghdGhpcy5vYmplY3QuaW5pdGlhdGl2ZSkge1xuICAgICAgY29uc3QgaW5pdCA9IENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpLmZpbmQoXG4gICAgICAgIGMgPT4gYy5rZXkgPT09ICdkZXgnXG4gICAgICApXG4gICAgICB0aGlzLm9iamVjdC5pbml0aWF0aXZlID0gaW5pdC5sYWJlbFxuICAgICAgLy8gdGhpcy5vYmplY3QuaW5pdGlhdGl2ZSA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgIC8vICAgJ0NvQzcuQ2hhcmFjdGVyaXN0aWNzJ1xuICAgICAgLy8gKX0gKCR7aW5pdC5zaG9ydE5hbWV9KWBcbiAgICB9XG4gICAgaWYgKCF0aGlzLm9iamVjdC5zcGVlZENoZWNrKSB7XG4gICAgICBjb25zdCBzcGVlZENoZWNrID0gQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKCkuZmluZChcbiAgICAgICAgYyA9PiBjLmtleSA9PT0gJ2NvbidcbiAgICAgIClcbiAgICAgIHRoaXMub2JqZWN0LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgIG5hbWU6IHNwZWVkQ2hlY2subGFiZWxcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMub2JqZWN0LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAvLyAgIG5hbWU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DaGFyYWN0ZXJpc3RpY3MnKX0gKCR7XG4gICAgICAvLyAgICAgc3BlZWRDaGVjay5zaG9ydE5hbWVcbiAgICAgIC8vICAgfSlgXG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZGF0ZVBhcnRpY2lwYW50KClcblxuICAgIC8vIGNvbnN0IHNwZWVkQ2hlY2sgPSB0aGlzLmFjdG9yPy5maW5kKCB0aGlzLm9iamVjdC5zcGVlZENoZWNrPy5uYW1lKVxuICAgIC8vIGlmKCBzcGVlZENoZWNrKXtcbiAgICAvLyAgIHRoaXMub2JqZWN0LnNwZWVkQ2hlY2sgPSBzcGVlZENoZWNrXG4gICAgLy8gfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgZGF0YS5wYXJ0aWNpcGFudCA9IG5ldyBfcGFydGljaXBhbnQodGhpcy5vYmplY3QpXG4gICAgaWYgKGRhdGEub2JqZWN0LnNwZWVkQ2hlY2submFtZSAmJiB0aGlzLmFjdG9yKSB7XG4gICAgICBjb25zdCBzcGVlZENoZWNrID0gdGhpcy5hY3Rvci5maW5kKGRhdGEub2JqZWN0LnNwZWVkQ2hlY2submFtZSlcbiAgICAgIGlmIChzcGVlZENoZWNrKSB7XG4gICAgICAgIGRhdGEub2JqZWN0LnNwZWVkQ2hlY2suc2NvcmUgPSBzcGVlZENoZWNrLnZhbHVlLnZhbHVlXG4gICAgICAgIGRhdGEuc3BlZWRDaGVja1JlYWRPbmx5ID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgZGF0YS5wYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlICYmXG4gICAgICAgICF0aGlzLm9iamVjdC5zcGVlZENoZWNrPy5zY29yZVxuICAgICAgKSB7XG4gICAgICAgIGRhdGEub2JqZWN0LnNwZWVkQ2hlY2suc2NvcmUgPSBkYXRhLnBhcnRpY2lwYW50LnNwZWVkQ2hlY2suc2NvcmVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5vYmplY3QuaW5pdGlhdGl2ZSAmJiB0aGlzLmFjdG9yKSB7XG4gICAgICBjb25zdCBpbml0aWF0aXZlID0gdGhpcy5hY3Rvci5maW5kKGRhdGEub2JqZWN0LmluaXRpYXRpdmUpXG4gICAgICBpZiAoaW5pdGlhdGl2ZSkge1xuICAgICAgICBkYXRhLm9iamVjdC5kZXggPSBpbml0aWF0aXZlLnZhbHVlLnZhbHVlXG4gICAgICAgIGRhdGEuaW5pdFJlYWRPbmx5ID0gdHJ1ZVxuICAgICAgfSBlbHNlIGRhdGEub2JqZWN0LmRleCA9IGRhdGEucGFydGljaXBhbnQuaW5pdGlhdGl2ZVxuICAgIH1cblxuICAgIGRhdGEuYWN0b3IgPSB0aGlzLmFjdG9yXG4gICAgZGF0YS5jaGFzZSA9IHRoaXMuY2hhc2VcbiAgICBkYXRhLmRhdGEgPSB0aGlzLmRhdGFcblxuICAgIGRhdGEub3B0aW9uc0xpc3QgPSB7fVxuICAgIGlmICh0aGlzLmNoYXNlKSB7XG4gICAgICBkYXRhLnNraWxsc0FuZENoYXJhY3RlcmlzdGljc0xpc3QgPVxuICAgICAgICB0aGlzLmNoYXNlLmFsbFNraWxsc0FuZENoYXJhY3RlcmlzdGljc1Nob3J0XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0b3IpIHtcbiAgICAgIGRhdGEuc2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdCA9IFtdXG4gICAgICBDb0NBY3Rvci5nZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24oKS5mb3JFYWNoKGMgPT5cbiAgICAgICAgZGF0YS5za2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NMaXN0LnB1c2goYCR7Yy5sYWJlbH1gKVxuICAgICAgKVxuICAgICAgZGF0YS5za2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NMaXN0LnB1c2goXG4gICAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJyl9YFxuICAgICAgKVxuICAgICAgZGF0YS5za2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NMaXN0LnB1c2goXG4gICAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TQU4nKX1gXG4gICAgICApXG4gICAgICB0aGlzLmFjdG9yLnNraWxscy5mb3JFYWNoKHMgPT5cbiAgICAgICAgZGF0YS5za2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NMaXN0LnB1c2gocy5uYW1lKVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBnZXQgY2hhc2UgKCkge1xuICAgIGlmICghdGhpcy5fY2hhc2UpIHtcbiAgICAgIHRoaXMuX2NoYXNlID0gQ29DN1V0aWxpdGllcy5TZnJvbVV1aWQodGhpcy5vYmplY3QuY2hhc2VVdWlkKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2hhc2VcbiAgfVxuXG4gIGdldCBhY3RvciAoKSB7XG4gICAgaWYgKCF0aGlzLm9iamVjdC5kb2NVdWlkKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5fYWN0b3IpIHtcbiAgICAgIHRoaXMuX2FjdG9yID0gQ29DN1V0aWxpdGllcy5nZXRBY3RvckZyb21LZXkodGhpcy5vYmplY3QuZG9jVXVpZClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FjdG9yXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBmb3VuZHJ5LnV0aWxzLm1lcmdlT2JqZWN0KHRoaXMsIGZvcm1EYXRhKVxuICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25Ecm9wUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgY29uc3QgZHJvcFN0cmluZyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICBjb25zdCBkcm9wRGF0YSA9IEpTT04ucGFyc2UoZHJvcFN0cmluZylcblxuICAgIGNvbnN0IGRvY1V1aWQgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRG9jdW1lbnRGcm9tRHJvcERhdGEoZHJvcERhdGEpXG5cbiAgICB0aGlzLm9iamVjdC5kb2NVdWlkID0gZG9jVXVpZFxuXG4gICAgLy8gSWYgYWN0b3IgaXMgY29udHJvbGxlZCBieSBHTSBvbmx5IHdlIGFzc3VtZSBoZSBpcyBhIGNoYXNlclxuICAgIHRoaXMub2JqZWN0LmNoYXNlciA9IHRoaXMuYWN0b3I/Lm93bmVycz8uZmlsdGVyKHUgPT4gIXUuaXNHTSkubGVuZ3RoID09PSAwXG4gICAgaWYgKHRoaXMub2JqZWN0LnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm9iamVjdC5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nXG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIGFkZFRva2VuVG9DaGFzZSAodG9rZW5zKSB7XG4gICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMub2JqZWN0LmRvY1V1aWQgPSB0b2tlbnNbMF0uZG9jdW1lbnQ/LnV1aWRcbiAgICAgIC8vIElmIGFjdG9yIGlzIGNvbnRyb2xsZWQgYnkgR00gb25seSB3ZSBhc3N1bWUgaGUgaXMgYSBjaGFzZXJcbiAgICAgIHRoaXMub2JqZWN0LmNoYXNlciA9IHRoaXMuYWN0b3I/Lm93bmVycz8uZmlsdGVyKHUgPT4gIXUuaXNHTSkubGVuZ3RoID09PSAwXG4gICAgICBpZiAodGhpcy5vYmplY3Quc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZykge1xuICAgICAgICBkZWxldGUgdGhpcy5vYmplY3Quc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZ1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvclRva2VuSW5jb3JyZWN0JykpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQWN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IGFjdGlvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb25cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAnY2hhc2UtY2FuY2VsJzpcbiAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjaGFzZS1hZGQnOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgcGFydGljaXBhbnQgPSBuZXcgX3BhcnRpY2lwYW50KHRoaXMub2JqZWN0KVxuXG4gICAgICAgICAgaWYgKHRoaXMuY2hhc2Uuc3RhcnRlZCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhKHBhcnRpY2lwYW50Lm1vdmVtZW50QWN0aW9uICYmIHBhcnRpY2lwYW50Lm1vdmVtZW50QWN0aW9uID4gMClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkRvZXNOb3RNZWV0TWluaW11bVJlcVRvQmVBZGRlZCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLm92ZXJyaWRlTW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2xvd2VzdCA9IHRoaXMuY2hhc2Uuc2xvd2VzdFBhcnRpY2lwYW50XG4gICAgICAgICAgICAgIGlmIChpc05hTihwYXJ0aWNpcGFudC5hZGp1c3RlZE1vdikpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5tb3YgPSBzbG93ZXN0LmFkanVzdGVkTW92XG4gICAgICAgICAgICAgIH0gLyoqIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEubW92ID1cbiAgICAgICAgICAgICAgICAgIHNsb3dlc3QuYWRqdXN0ZWRNb3YgKyBwYXJ0aWNpcGFudC5tb3ZlbWVudEFjdGlvbiAtIDFcbiAgICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgICB0aGlzLmRhdGEucmVjYWxjdWxhdGlvbk5lZWRlZCA9IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXdhaXQgdGhpcy5jaGFzZS5hZGRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCwge1xuICAgICAgICAgICAgbG9jYXRpb25VdWlkOiB0aGlzLm9iamVjdC5sb2NhdGlvblV1aWQsXG4gICAgICAgICAgICByZWNhbGN1bGF0ZU1vdmVtZW50QWN0aW9uczogdGhpcy5kYXRhLnJlY2FsY3VsYXRpb25OZWVkZWQsXG4gICAgICAgICAgICB1cGRhdGU6IHRoaXMub2JqZWN0LnVwZGF0ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncm9sbC1zcGVlZC1jaGVjayc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IG5ldyBfcGFydGljaXBhbnQodGhpcy5vYmplY3QpXG4gICAgICAgICAgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmU2V0KSB7XG4gICAgICAgICAgICBjb25zdCByb2xsID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnJvbGxlZCA9IHRydWVcbiAgICAgICAgICAgIHJvbGwuYWN0b3IgPSBwYXJ0aWNpcGFudC5hY3Rvci5hY3RvcktleVxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suaXNDaGFyYWN0ZXJpc3RpYykge1xuICAgICAgICAgICAgICBhd2FpdCByb2xsLnJvbGxDaGFyYWN0ZXJpc3RpYyhwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnJlZi5rZXkpXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEuc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZyA9IHJvbGwuSlNPTlJvbGxTdHJpbmdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5pc1NraWxsKSB7XG4gICAgICAgICAgICAgIHJvbGwuc2tpbGwgPSBwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnJlZlxuICAgICAgICAgICAgICBhd2FpdCByb2xsLnJvbGwoKVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suaXNBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgYXdhaXQgcm9sbC5yb2xsQXR0cmlidXRlKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmLmtleSlcbiAgICAgICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5zY29yZSkge1xuICAgICAgICAgICAgY29uc3Qgcm9sbERhdGEgPSB7XG4gICAgICAgICAgICAgIHJhd1ZhbHVlOiBwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlLFxuICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogcGFydGljaXBhbnQuc3BlZWRDaGVjay5uYW1lLFxuICAgICAgICAgICAgICBhY3Rvck5hbWU6IHBhcnRpY2lwYW50Lm5hbWUgPyBwYXJ0aWNpcGFudC5uYW1lIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuaGFzQWN0b3IpIHtcbiAgICAgICAgICAgICAgcm9sbERhdGEuYWN0b3IgPSBwYXJ0aWNpcGFudC5hY3Rvci5hY3RvcktleVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9sbCA9IENvQzdDaGVjay5jcmVhdGUocm9sbERhdGEpXG4gICAgICAgICAgICBhd2FpdCByb2xsLnJvbGwoKVxuICAgICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5yb2xsZWQgPSB0cnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdCh0aGlzLm9iamVjdCwgcGFydGljaXBhbnQuZGF0YSlcbiAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVBhcnRpY2lwYW50ICgpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IG5ldyBfcGFydGljaXBhbnQodGhpcy5vYmplY3QpXG4gICAgaWYgKCF0aGlzLmRhdGEpIHRoaXMuZGF0YSA9IHt9XG4gICAgdGhpcy5vYmplY3QuZXhjbHVkZWQgPSBmYWxzZVxuICAgIHRoaXMub2JqZWN0LmVzY2FwZWQgPSBmYWxzZVxuICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gZmFsc2VcbiAgICB0aGlzLmRhdGEucGFydGljaXBhbnRFeGNsdWRlZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLm1vdmVtZW50QWN0aW9uRGVsdGEgPSAwXG5cbiAgICBpZiAoIXRoaXMuZGF0YS5vdmVycmlkZU1vdmVtZW50QWN0aW9uKSB7XG4gICAgICBjb25zdCBzbG93ZXN0UHJleSA9IHRoaXMuY2hhc2Uuc2xvd2VzdFByZXlcbiAgICAgIGNvbnN0IGZhc3Rlc3RDaGFzZXIgPSB0aGlzLmNoYXNlLmZhc3Rlc3RDaGFzZXJcbiAgICAgIGNvbnN0IHNsb3dlc3QgPSB0aGlzLmNoYXNlLnNsb3dlc3RQYXJ0aWNpcGFudFxuXG4gICAgICBpZiAocGFydGljaXBhbnQuYWRqdXN0ZWRNb3YgPCBzbG93ZXN0Py5hZGp1c3RlZE1vdikge1xuICAgICAgICB0aGlzLmRhdGEucmVjYWxjdWxhdGlvbk5lZWRlZCA9IHRydWVcbiAgICAgICAgcGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb24gPSAxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhdGEucmVjYWxjdWxhdGlvbk5lZWRlZCA9IGZhbHNlXG4gICAgICAgIHBhcnRpY2lwYW50LmNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyhzbG93ZXN0Py5hZGp1c3RlZE1vdilcbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0aWNpcGFudC5pc0NoYXNlcikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2xvd2VzdFByZXkgJiZcbiAgICAgICAgICAhdGhpcy5jaGFzZS5zeXN0ZW0uaW5jbHVkZUxhc3RDb21tZXJzICYmXG4gICAgICAgICAgcGFydGljaXBhbnQuYWRqdXN0ZWRNb3YgPCBzbG93ZXN0UHJleS5hZGp1c3RlZE1vdlxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5leGNsdWRlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmRhdGEucGFydGljaXBhbnRFeGNsdWRlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmRhdGEuZXhjbHVkZWRCZWNhdXNlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlRvb1Nsb3cnKVxuICAgICAgICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFydGljaXBhbnQuaXNQcmV5KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmYXN0ZXN0Q2hhc2VyICYmXG4gICAgICAgICAgIXRoaXMuY2hhc2Uuc3lzdGVtLmluY2x1ZGVFc2NhcGVkICYmXG4gICAgICAgICAgcGFydGljaXBhbnQuYWRqdXN0ZWRNb3YgPiBmYXN0ZXN0Q2hhc2VyLmFkanVzdGVkTW92XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmVzY2FwZWQgPSB0cnVlXG4gICAgICAgICAgdGhpcy5kYXRhLnBhcnRpY2lwYW50RXhjbHVkZWQgPSB0cnVlXG4gICAgICAgICAgdGhpcy5kYXRhLmV4Y2x1ZGVkQmVjYXVzZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub29GYXN0JylcbiAgICAgICAgICB0aGlzLmRhdGEucmVjYWxjdWxhdGlvbk5lZWRlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChkYXRhKSB7XG4gICAgaWYgKGRhdGEuZHJvcERhdGEpIHtcbiAgICAgIGNvbnN0IGRvY1V1aWQgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRG9jdW1lbnRGcm9tRHJvcERhdGEoZGF0YS5kcm9wRGF0YSlcbiAgICAgIGlmIChkb2NVdWlkKSBkYXRhLmRvY1V1aWQgPSBkb2NVdWlkXG4gICAgICBkZWxldGUgZGF0YS5kcm9wRGF0YVxuICAgIH1cbiAgICByZXR1cm4gbmV3IENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIoZGF0YSkucmVuZGVyKHRydWUpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBEaWFsb2csIERyYWdEcm9wLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZmxhdHRlbk9iamVjdCwgRm9ybURhdGFFeHRlbmRlZCwgZm91bmRyeSwgZ2FtZSwgZ2V0VHlwZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciwgdWkgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgeyBDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyIH0gZnJvbSAnLi4vLi4vYXBwcy9jaGFzZS1wYXJ0aWNpcGFudC1pbXBvcnRlci5qcydcbmltcG9ydCB7IENvQzdDaGF0IH0gZnJvbSAnLi4vLi4vY2hhdC5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgX3BhcnRpY2lwYW50IH0gZnJvbSAnLi9wYXJ0aWNpcGFudC5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDaGFzZVNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBTaW1wbGUgSXRlbSBTaGVldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXRWMicsICdpdGVtJywgJ2NoYXNlJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvY2hhc2UuaHRtbCcsXG4gICAgICB3aWR0aDogNTUwLFxuICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICByZXNpemFibGU6IHRydWUsXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXYnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAncGFydGljaXBhbnRzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG5cbiAgICAvLyBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAvLyBzdWJtaXRPbkNsb3NlOiB0cnVlLFxuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICBzdGF0aWMgZ2V0IHR5cGUgKCkge1xuICAgIHJldHVybiAnY29jN0NoYXNlU2hlZXQnXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGdldERhdGEgKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEob3B0aW9ucylcblxuICAgIHNoZWV0RGF0YS5wYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0ucGFydGljaXBhbnRzT2JqZWN0XG4gICAgc2hlZXREYXRhLnBhcnRpY2lwYW50c0J5SW5pdGlhdGl2ZSA9IHRoaXMuaXRlbS5wYXJ0aWNpcGFudHNCeUluaXRpYXRpdmVcbiAgICBzaGVldERhdGEucHJleXMgPSB0aGlzLml0ZW0ucHJleXNcbiAgICBzaGVldERhdGEuY2hhc2VycyA9IHRoaXMuaXRlbS5jaGFzZXJzXG5cbiAgICBzaGVldERhdGEucHJleXNNaW5Nb3YgPSBzaGVldERhdGEucHJleXMubGVuZ3RoID8gc2hlZXREYXRhLnByZXlzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4gcHJldi5hZGp1c3RlZE1vdiA8IGN1cnJlbnQuYWRqdXN0ZWRNb3YgPyBwcmV2IDogY3VycmVudCkuYWRqdXN0ZWRNb3YgOiAtMVxuXG4gICAgc2hlZXREYXRhLnByZXlzTWF4TW92ID0gc2hlZXREYXRhLnByZXlzLmxlbmd0aCA/IHNoZWV0RGF0YS5wcmV5cy5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+IHByZXYuYWRqdXN0ZWRNb3YgPiBjdXJyZW50LmFkanVzdGVkTW92ID8gcHJldiA6IGN1cnJlbnQpLmFkanVzdGVkTW92IDogLTFcblxuICAgIHNoZWV0RGF0YS5jaGFzZXJzTWluTW92ID0gc2hlZXREYXRhLmNoYXNlcnMubGVuZ3RoID8gc2hlZXREYXRhLmNoYXNlcnMucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PiBwcmV2LmFkanVzdGVkTW92IDwgY3VycmVudC5hZGp1c3RlZE1vdiA/IHByZXYgOiBjdXJyZW50KS5hZGp1c3RlZE1vdiA6IC0xXG5cbiAgICBzaGVldERhdGEuY2hhc2Vyc01heE1vdiA9IHNoZWV0RGF0YS5jaGFzZXJzLmxlbmd0aCA/IHNoZWV0RGF0YS5jaGFzZXJzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4gcHJldi5hZGp1c3RlZE1vdiA+IGN1cnJlbnQuYWRqdXN0ZWRNb3YgPyBwcmV2IDogY3VycmVudCkuYWRqdXN0ZWRNb3YgOiAtMVxuXG4gICAgc2hlZXREYXRhLmNoYXNlcnMuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmFkanVzdGVkTW92IDwgc2hlZXREYXRhLnByZXlzTWluTW92KSB7XG4gICAgICAgIHAudG9vU2xvdygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwLmluY2x1ZGVJbkNoYXNlKClcbiAgICAgIH1cbiAgICAgIHAuZmFzdGVzdCA9IHAuYWRqdXN0ZWRNb3YgPT09IHNoZWV0RGF0YS5jaGFzZXJzTWF4TW92XG4gICAgICBwLnNsb3dlc3QgPSBwLmFkanVzdGVkTW92ID09PSBzaGVldERhdGEuY2hhc2Vyc01pbk1vdlxuICAgIH0pXG5cbiAgICBzaGVldERhdGEucHJleXMuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmFkanVzdGVkTW92ID4gc2hlZXREYXRhLmNoYXNlcnNNYXhNb3YpIHtcbiAgICAgICAgcC5lc2NhcGVkKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHAuaW5jbHVkZUluQ2hhc2UoKVxuICAgICAgfVxuICAgICAgcC5mYXN0ZXN0ID0gcC5hZGp1c3RlZE1vdiA9PT0gc2hlZXREYXRhLnByZXlzTWF4TW92XG4gICAgICBwLnNsb3dlc3QgPSBwLmFkanVzdGVkTW92ID09PSBzaGVldERhdGEucHJleXNNaW5Nb3ZcbiAgICB9KVxuXG4gICAgc2hlZXREYXRhLmxvY2F0aW9ucyA9IHRoaXMuaXRlbS5sb2NhdGlvbnNcbiAgICBzaGVldERhdGEuYWxsSGF2ZVZhbGlkTW92ID0gdGhpcy5hbGxIYXZlVmFsaWRNb3ZcbiAgICBzaGVldERhdGEuYWN0aXZlTG9jYXRpb24gPSB0aGlzLml0ZW0uYWN0aXZlTG9jYXRpb25cbiAgICBpZiAoc2hlZXREYXRhLmFjdGl2ZUxvY2F0aW9uKSB7XG4gICAgICBzaGVldERhdGEuYWN0aXZlTG9jYXRpb24udGl0bGUgPSBzaGVldERhdGEuYWN0aXZlTG9jYXRpb24uY29vcmRpbmF0ZXNcbiAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkxvY2F0aW9uQ29vcmRpbmF0ZScsIHtcbiAgICAgICAgICB4OiBzaGVldERhdGEuYWN0aXZlTG9jYXRpb24uY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICB5OiBzaGVldERhdGEuYWN0aXZlTG9jYXRpb24uY29vcmRpbmF0ZXMueVxuICAgICAgICB9KVxuICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5EcmFnT25DYW52YXMnKVxuICAgIH1cbiAgICBzaGVldERhdGEucHJldmlvdXNMb2NhdGlvbiA9IHRoaXMuaXRlbS5wcmV2aW91c0xvY2F0aW9uXG4gICAgc2hlZXREYXRhLm5leHRMb2NhdGlvbiA9IHRoaXMuaXRlbS5uZXh0TG9jYXRpb25cbiAgICBzaGVldERhdGEuc3RhcnRlZCA9IHRoaXMuaXRlbS5zdGFydGVkXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8vIGdldCBhY3RpdmVQYXJ0aWNpcGFudCAoKSB7XG4gIC8vICAgaWYgKCF0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cykgcmV0dXJuIHVuZGVmaW5lZFxuICAvLyAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMuZmluZChwID0+IHAuYWN0aXZlKVxuICAvLyAgIGlmICghcGFydGljaXBhbnQpIHJldHVybiB1bmRlZmluZWRcbiAgLy8gICByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudChwYXJ0aWNpcGFudClcbiAgLy8gfVxuXG4gIC8vIGdldCBhY3RpdmVQYXJ0aWNpcGFudExvY2F0aW9uICgpIHtcbiAgLy8gICBpZiAoIXRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKSByZXR1cm4gdW5kZWZpbmVkXG4gIC8vICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kKHAgPT4gcC5hY3RpdmUpXG4gIC8vIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIC8vIGh0bWwuZmluZCgnLmNoYXNlLXRyYWNrJykucmVhZHkoYXN5bmMgaHRtbCA9PiBhd2FpdCB0aGlzLl9vblNoZWV0UmVhZHkoaHRtbCkpXG5cbiAgICAvLyBIYW5kbGUgRHJvcHJvd25cbiAgICBodG1sXG4gICAgICAuZmluZCgnLmRyb3Bkb3duLWVsZW1lbnQnKVxuICAgICAgLm9uKCdjbGljaycsIGV2ZW50ID0+IHRoaXMuX29uRHJvcERvd25FbGVtZW50U2VsZWN0ZWQoZXZlbnQpKVxuXG4gICAgaHRtbC5maW5kKCcuZHJvcGJ0bicpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICBjb25zdCBkcm9wZG93biA9IHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24nKVxuICAgICAgY29uc3QgZHJvcGRvd25Db250ZW50ID0gZHJvcGRvd24ucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLWNvbnRlbnQnKVxuICAgICAgZHJvcGRvd25Db250ZW50LmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKVxuICAgIH0pXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5kcm9wZG93bicpXG4gICAgICAubW91c2VsZWF2ZShldmVudCA9PlxuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1jb250ZW50JylcbiAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXG4gICAgICApXG5cbiAgICBodG1sLm9uKCdkYmxjbGljaycsICcub3Blbi1hY3RvcicsIENvQzdDaGF0Ll9vbk9wZW5BY3Rvci5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5waW4tbG9jYXRpb24nKVxuICAgICAgLmNvbnRleHRtZW51KHRoaXMuY2xlYXJBY3RpdmVMb2NhdGlvbkNvb3JkaW5hdGVzLmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ2VudGVyJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnRW50ZXJQYXJ0aWNpcGFudChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5wYXJ0aWNpcGFudCcpXG4gICAgICAub24oJ2RyYWdvdmVyJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnRW50ZXJQYXJ0aWNpcGFudChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5wYXJ0aWNpcGFudCcpXG4gICAgICAub24oJ2RyYWdsZWF2ZScsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0xlYXZlUGFydGljaXBhbnQoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcucGFydGljaXBhbnQnKVxuICAgICAgLm9uKCdkcm9wJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnTGVhdmVQYXJ0aWNpcGFudChldmVudCkpXG5cbiAgICBodG1sLmZpbmQoJy5wLXNpZGUnKS5jbGljayh0aGlzLl9vbkNoYW5nZVNpZGUuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5kZWxldGUtcGFydGljaXBhbnQnKS5jbGljayh0aGlzLl9vbkRlbGV0ZVBhcnRpY2lwYW50LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcucmVzZXQtcm9sbCcpLmNsaWNrKHRoaXMuX29uUmVzZXRSb2xsLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZGVsZXRlLWRyaXZlcicpLmNsaWNrKHRoaXMuX29uRGVsZXRlRHJpdmVyLmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLm5ldy1wYXJ0aWNpcGFudCcpXG4gICAgICAub24oJ2RyYWdlbnRlcicsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0VudGVyUGFydGljaXBhbnQoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcubmV3LXBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ292ZXInLCBldmVudCA9PiB0aGlzLl9vbkRyYWdFbnRlclBhcnRpY2lwYW50KGV2ZW50KSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLm5ldy1wYXJ0aWNpcGFudCcpXG4gICAgICAub24oJ2RyYWdsZWF2ZScsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0xlYXZlUGFydGljaXBhbnQoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcubmV3LXBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJvcCcsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0xlYXZlUGFydGljaXBhbnQoZXZlbnQpKVxuXG4gICAgaHRtbC5maW5kKCcuYWRkLXNpZ24nKS5jbGljayh0aGlzLl9vbkFkZFBhcnRpY2lwYW50LmJpbmQodGhpcykpXG5cbiAgICBodG1sLmZpbmQoJy5yb2xsLXBhcnRpY2lwYW50JykuY2xpY2sodGhpcy5fb25Sb2xsUGFydGljaXBhbnQuYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLmJ1dHRvbicpLmNsaWNrKHRoaXMuX29uQnV0dG9uQ2xpY2suYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLm5hbWUtY29udGFpbmVyJykuY2xpY2sodGhpcy5fb25Mb2NhdGlvbkNsaWNrLmJpbmQodGhpcykpXG5cbiAgICBodG1sLmZpbmQoJy5vYnN0YWNsZS10eXBlJykuY2xpY2sodGhpcy5fb25PYnN0YWNsZVR5cGVDbGljay5iaW5kKHRoaXMpKVxuICAgIC8vIGh0bWwuZmluZCgnLm9ic3RhY2xlLXRvZ2dsZScpLmNsaWNrKHRoaXMuX29uT2JzdGFjbGVUb2dnbGVDbGljay5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnRvZ2dsZScpLmNsaWNrKHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5wYXJ0aWNpcGFudC1jb250cm9sJylcbiAgICAgIC5jbGljayh0aGlzLl9vblBhcnRpY2lwYW50Q29udHJvbENsaWNrZWQuYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLmNoYXNlLWNvbnRyb2wnKS5jbGljayh0aGlzLl9vbkNoYXNlQ29udHJvbENsaWNrZWQuYmluZCh0aGlzKSlcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcubG9jYXRpb24tY29udHJvbCcpXG4gICAgICAuY2xpY2sodGhpcy5fb25Mb2NhdGlvbkNvbnRyb2xDbGljay5iaW5kKHRoaXMpKVxuICAgIC8vIGh0bWxcbiAgICAvLyAgIC5maW5kKCcubW92ZW1lbnQtYWN0aW9uIC5kZWNyZWFzZScpXG4gICAgLy8gICAuY2xpY2sodGhpcy5fb25DaGFuZ2VNb3ZlbWVudEFjdGlvbnMuYmluZCh0aGlzLCAtMSkpXG4gICAgLy8gaHRtbFxuICAgIC8vICAgLmZpbmQoJy5tb3ZlbWVudC1hY3Rpb24gLmluY3JlYXNlJylcbiAgICAvLyAgIC5jbGljayh0aGlzLl9vbkNoYW5nZU1vdmVtZW50QWN0aW9ucy5iaW5kKHRoaXMsIDEpKVxuXG4gICAgLy8gaHRtbFxuICAgIC8vIC5maW5kKCcucGluLWxvY2F0aW9uJylcbiAgICAvLyAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IHRoaXMuX29uUGluTG9jYXRpb25EcmFnU3RhcnQoZXZlbnQpKVxuXG4gICAgY29uc3QgcGluTG9jYXRpb25TZWxlY3RvckRyYWdEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgIGRyYWdTZWxlY3RvcjogJy5waW4tbG9jYXRpb24nLFxuICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgZHJhZ3N0YXJ0OiB0aGlzLl9jYW5QaW5Mb2NhdGlvbkRyYWdTdGFydC5iaW5kKHRoaXMpXG4gICAgICB9LFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIGRyYWdzdGFydDogdGhpcy5fb25QaW5Mb2NhdGlvbkRyYWdTdGFydC5iaW5kKHRoaXMpXG4gICAgICB9XG4gICAgfSlcbiAgICBwaW5Mb2NhdGlvblNlbGVjdG9yRHJhZ0Ryb3AuYmluZChodG1sWzBdKVxuXG4gICAgY29uc3QgcGFydGljaXBhbnREcmFnRHJvcCA9IG5ldyBEcmFnRHJvcCh7XG4gICAgICBkcm9wU2VsZWN0b3I6ICcucGFydGljaXBhbnQnLFxuICAgICAgY2FsbGJhY2tzOiB7IGRyb3A6IHRoaXMuX29uRHJvcFBhcnRpY2lwYW50LmJpbmQodGhpcykgfVxuICAgIH0pXG4gICAgcGFydGljaXBhbnREcmFnRHJvcC5iaW5kKGh0bWxbMF0pXG5cbiAgICBjb25zdCBuZXdQYXJ0aWNpcGFudERyYWdEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgIGRyb3BTZWxlY3RvcjogJy5uZXctcGFydGljaXBhbnQnLFxuICAgICAgY2FsbGJhY2tzOiB7IGRyb3A6IHRoaXMuX29uQWRkUGFydGljaXBhbnQuYmluZCh0aGlzKSB9XG4gICAgfSlcbiAgICBuZXdQYXJ0aWNpcGFudERyYWdEcm9wLmJpbmQoaHRtbFswXSlcblxuICAgIGlmICh0aGlzLml0ZW0uc3RhcnRlZCkge1xuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLmNoYXNlLWxvY2F0aW9uIC5jaGFzZS1wYXJ0aWNpcGFudCcpXG4gICAgICAgIC5jbGljayh0aGlzLl9vbkNoYXNlUGFydGljaXBhbnRDbGljay5iaW5kKHRoaXMpKVxuXG4gICAgICBjb25zdCBjaGFzZVBhcnRpY2lwYW50RHJhZ3BEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgICAgZHJhZ1NlbGVjdG9yOiAnLmNoYXNlLXBhcnRpY2lwYW50JyxcbiAgICAgICAgZHJvcFNlbGVjdG9yOiAnLmNoYXNlLWxvY2F0aW9uJyxcbiAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICBkcmFnc3RhcnQ6IHRoaXMuX2NhbkNoYXNlUGFydGljaXBhbnREcmFnU3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICBkcm9wOiB0aGlzLl9jYW5DaGFzZVBhcnRpY2lwYW50RHJhZ0Ryb3AuYmluZCh0aGlzKVxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICBkcmFnc3RhcnQ6IHRoaXMuX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgIGRyb3A6IHRoaXMuX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdEcm9wLmJpbmQodGhpcyksXG4gICAgICAgICAgZHJhZ292ZXI6IHRoaXMuX29uRHJhZ0VudGVyLmJpbmQodGhpcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGNoYXNlUGFydGljaXBhbnREcmFncERyb3AuYmluZChodG1sWzBdKVxuXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhc2UtbG9jYXRpb24nKVxuICAgICAgICAub24oJ2RyYWdsZWF2ZScsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0xlYXZlKGV2ZW50KSlcbiAgICB9XG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAvKiAgRm9ybSBTdWJtaXNzaW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgX2dldFN1Ym1pdERhdGEgKHVwZGF0ZURhdGEgPSB7fSkge1xuICAgIC8vIENyZWF0ZSB0aGUgZXhwYW5kZWQgdXBkYXRlIGRhdGEgb2JqZWN0XG4gICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGFFeHRlbmRlZCh0aGlzLmZvcm0sIHsgZWRpdG9yczogdGhpcy5lZGl0b3JzIH0pXG4gICAgbGV0IGRhdGEgPSBmZC5vYmplY3RcbiAgICBpZiAodXBkYXRlRGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlT2JqZWN0KGRhdGEsIHVwZGF0ZURhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSBleHBhbmRPYmplY3QoZGF0YSlcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0aGF0IHN0YXJ0aW5nIHBvc2l0aW9uIGlzIG5vdCBvdXRzaWRlIG9mIGNoYXNlIHJhbmdlLlxuICAgIGlmIChcbiAgICAgIHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zPy5saXN0Py5sZW5ndGggJiZcbiAgICAgIGRhdGEuc3lzdGVtLnN0YXJ0aW5nSW5kZXggPiB0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0Lmxlbmd0aFxuICAgICkge1xuICAgICAgZGF0YS5zeXN0ZW0uc3RhcnRpbmdJbmRleCA9IHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLmxpc3QubGVuZ3RoXG4gICAgfVxuXG4gICAgaWYgKGRhdGEuc3lzdGVtLnBhcnRpY2lwYW50cykge1xuICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgLy8gSGFuZGxlIHBhcnRpY2lwYW50cyBhcnJheVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5zeXN0ZW0ucGFydGljaXBhbnRzKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnRpY2lwYW50cy5maW5kSW5kZXgocCA9PiBwLnV1aWQgPT09IGspXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ1BhcnRpY2lwYW50IHRhYmxlIGNvcnJ1cHRlZCcpXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gcGFydGljaXBhbnRzW2luZGV4XVxuICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBjbGVhbih2KVxuICAgICAgICAgIG1lcmdlT2JqZWN0KG9yaWdpbmFsLCBjbGVhbmVkKVxuICAgICAgICAgIHBhcnRpY2lwYW50c1tpbmRleF0gPSBvcmlnaW5hbFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRhdGEuc3lzdGVtLnBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50c1xuICAgIH1cblxuICAgIGlmIChkYXRhLmxvY2F0aW9ucykge1xuICAgICAgY29uc3QgbG9jYXRpb25zID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgICAvLyBIYW5kbGUgbG9jYXRpb25zIGxpc3RcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEubG9jYXRpb25zKSkge1xuICAgICAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGwudXVpZCA9PT0ga2V5KVxuICAgICAgICBpZiAobG9jYXRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdMb2NhdGlvbnMgdGFibGUgY29ycnVwdGVkJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbExvY2F0aW9uID0gbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdXG4gICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGNsZWFuKHZhbHVlKVxuICAgICAgICAgIG1lcmdlT2JqZWN0KG9yaWdpbmFsTG9jYXRpb24sIGNsZWFuZWQpXG4gICAgICAgICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdID0gb3JpZ2luYWxMb2NhdGlvblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBkYXRhLmxvY2F0aW9uc1xuICAgICAgZGF0YS5zeXN0ZW0ubG9jYXRpb25zID0geyBsaXN0OiBsb2NhdGlvbnMgfVxuICAgIH1cbiAgICAvLyBjb25zdCBwYXJ0aWNpcGFudHMgPSBkYXRhLnN5c3RlbT8ucGFydGljaXBhbnRzO1xuICAgIC8vIGlmKCBwYXJ0aWNpcGFudHMpIGRhdGEuc3lzdGVtLnBhcnRpY2lwYW50cyA9IE9iamVjdC52YWx1ZXMoIHBhcnRpY2lwYW50cykubWFwKCBwID0+IGNsZWFuKHApKTtcblxuICAgIC8vIFJldHVybiB0aGUgZmxhdHRlbmVkIHN1Ym1pc3Npb24gZGF0YVxuICAgIHJldHVybiBmbGF0dGVuT2JqZWN0KGRhdGEpXG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIC8vIGFzeW5jIF9vblN1Ym1pdCguLi5hcmdzKSB7XG4gIC8vICBhd2FpdCBzdXBlci5fb25TdWJtaXQoLi4uYXJncyk7XG4gIC8vIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3Qgb3ZlcnJpZGUgPSB0YXJnZXQ/LmRhdGFzZXQ/Lm92ZXJyaWRlID09PSAndHJ1ZSdcbiAgICBpZiAodGFyZ2V0Py5uYW1lPy5pbmNsdWRlcygnLmhwJykpIHtcbiAgICAgIGNvbnN0IFssICwgdXVpZF0gPSB0YXJnZXQubmFtZS5zcGxpdCgnLicpXG4gICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuaXRlbS5nZXRQYXJ0aWNpcGFudCh1dWlkKVxuICAgICAgaWYgKHBhcnRpY2lwYW50ICYmIHBhcnRpY2lwYW50LmFjdG9yKSB7XG4gICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRhcmdldC52YWx1ZSkpKSB7XG4gICAgICAgICAgYXdhaXQgcGFydGljaXBhbnQuYWN0b3Iuc2V0SHAoTnVtYmVyKHRhcmdldC52YWx1ZSkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG92ZXJyaWRlKSB7XG4gICAgICBjb25zdCBbLCB0eXBlLCB1dWlkLCBzdWJUeXBlLCBkYXRhXSA9IHRhcmdldC5uYW1lLnNwbGl0KCcuJylcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlID09PSAncGFydGljaXBhbnRzJyAmJlxuICAgICAgICAhaXNOYU4oaW5kZXgpICYmXG4gICAgICAgIHN1YlR5cGUgPT09ICdzcGVlZC1jaGVjaydcbiAgICAgICkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gJ25hbWUnKSB7XG4gICAgICAgICAgLy8gQ2hhbmdpbmcgbmFtZSB3aWxsIHJlbW92ZSBhbGwgb3RoZXIgcmVmICFcbiAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICAgICAgICA6IFtdXG4gICAgICAgICAgaWYgKHBhcnRpY2lwYW50c1tpbmRleF0uc3BlZWRDaGVjaykge1xuICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2lwYW50c1tpbmRleF0uc3BlZWRDaGVjay5pZFxuICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2lwYW50c1tpbmRleF0uc3BlZWRDaGVjay50eXBlXG4gICAgICAgICAgfSBlbHNlIHBhcnRpY2lwYW50c1tpbmRleF0uc3BlZWRDaGVjayA9IHt9XG4gICAgICAgICAgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrLm5hbWUgPSB0YXJnZXQudmFsdWVcbiAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ3N5c3RlbS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzZXRTY3JvbGwgKGFwcCwgaHRtbCwgZGF0YSkge1xuICAgIGlmICghZGF0YS5lZGl0YWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGluaXRpYWxPcGVuaW5nID0gaHRtbFswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3dpbmRvdy1hcHAnKVxuICAgIGNvbnN0IGNoYXNlVHJhY2sgPSBodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJy5jaGFzZS10cmFjaycpXG4gICAgaWYgKCFjaGFzZVRyYWNrKSByZXR1cm5cblxuICAgIGxldCBzdGFydCA9IGRhdGEuZGF0YS5zY3JvbGw/LmNoYXNlVHJhY2suZnJvbVxuICAgIGxldCBlbmQgPSBkYXRhLmRhdGEuc2Nyb2xsPy5jaGFzZVRyYWNrLnRvXG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0YXJ0ID0gMFxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IC0xXG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxPcGVuaW5nKSB7XG4gICAgICBjb25zdCByZW1TdHJpbmcgPSAkKCc6cm9vdCcpLmNzcygnZm9udC1zaXplJylcbiAgICAgIGNvbnN0IHJlbVNpemUgPSBOdW1iZXIocmVtU3RyaW5nLnJlcGxhY2UoJ3B4JywgJycpKVxuICAgICAgaWYgKGFwcC5pdGVtLnN0YXJ0ZWQpIHtcbiAgICAgICAgY29uc3QgcENvdW50ID0gYXBwLml0ZW0uYWN0dWFsUGFydGljaXBhbnRzPy5sZW5ndGhcbiAgICAgICAgY29uc3Qgd2lkdGggPSAocENvdW50ICogMTEuMiArIDMpICogcmVtU2l6ZVxuICAgICAgICBhcHAuYWN0aXZhdGVUYWIoJ3NldHVwJylcbiAgICAgICAgLy8gYXBwLl90YWJzWzBdLmFjdGl2ZSA9ICdzZXR1cCdcbiAgICAgICAgYXBwLnBvc2l0aW9uLndpZHRoID0gTWF0aC5tYXgod2lkdGgsIDQwICogcmVtU2l6ZSlcbiAgICAgICAgLy8gaHRtbC5jc3MoJ3dpZHRoJywgYCR7d2lkdGh9cHhgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwLnBvc2l0aW9uLndpZHRoID0gNDUgKiByZW1TaXplXG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgYXBwLml0ZW0uYWN0aXZhdGVOZXh0UGFydGljaXBhbnRUdXJuKHsgaHRtbCB9KSAvLyBodG1sIGlzIG5vdCByZW5kZXJlZCwgZWxlbWVudCBoYXZlIHNpemUgPSAwXG4gICAgICAvLyBpZiAoZW5kID4gMCkge1xuICAgICAgLy8gICBzdGFydCA9IDBcbiAgICAgIC8vIH0gZWxzZSBpZiAoc3RhcnQgPiAwKSB7XG4gICAgICAvLyAgIGVuZCA9IHN0YXJ0XG4gICAgICAvLyAgIHN0YXJ0ID0gMFxuICAgICAgLy8gfVxuICAgIH1cblxuICAgIGlmIChzdGFydCAmJiBzdGFydCAhPT0gLTEpIHtcbiAgICAgIGNoYXNlVHJhY2suc2Nyb2xsVG8oe1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IHN0YXJ0LFxuICAgICAgICBiZWhhdmlvcjogJ2luc3RhbnQnXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChlbmQgIT09IC0xKSB7XG4gICAgICBjaGFzZVRyYWNrLnNjcm9sbFRvKHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiBlbmQsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBhd2FpdCBhcHAuaXRlbS51cGRhdGUoeyAnZGF0YS50cmFja1Njcm9sbFBvc2l0aW9uJzogZWxlbWVudENlbnRlclJlbGF0aXZlTGVmdCB9KVxuICB9XG5cbiAgc3RhdGljIG9uQ2xvc2UgKGFwcCwgaHRtbCkge1xuICAgIGFwcC5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0udHJhY2tTY3JvbGxQb3NpdGlvbic6IC0xIH0pXG4gIH1cblxuICAvLyBhc3luYyBfb25TaGVldFJlYWR5IChodG1sKSB7XG4gIC8vICAgY29uc3QgdHJhY2sgPSBodG1sLmZpbmQoJy5jaGFzZS10cmFjaycpXG4gIC8vICAgY29uc3QgZWxlbWVudCA9ICQodHJhY2spLmZpbmQoJy5hY3RpdmUnKVxuXG4gIC8vICAgY29uc3QgZWxlbWVudGxlZnQgPSBlbGVtZW50WzBdLm9mZnNldExlZnRcbiAgLy8gICBjb25zdCBkaXZXaWR0aCA9IHRyYWNrWzBdLmNsaWVudFdpZHRoXG4gIC8vICAgbGV0IGVsZW1lbnRDZW50ZXJSZWxhdGl2ZUxlZnQgPSBlbGVtZW50bGVmdCAtIGRpdldpZHRoIC8gMlxuICAvLyAgIGlmIChlbGVtZW50Q2VudGVyUmVsYXRpdmVMZWZ0IDwgMCkgZWxlbWVudENlbnRlclJlbGF0aXZlTGVmdCA9IDBcblxuICAvLyAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gdGhpcy5pdGVtLnN5c3RlbS50cmFja1Njcm9sbFBvc2l0aW9uXG4gIC8vICAgaWYgKCF0cmFjay5sZW5ndGgpIHJldHVyblxuICAvLyAgIGlmICghc2Nyb2xsUG9zaXRpb24pIHJldHVyblxuICAvLyAgIGNvbnN0IHRyYWNrRWxlbWVudCA9IHRyYWNrWzBdXG4gIC8vICAgdHJhY2tFbGVtZW50LnNjcm9sbFRvKHtcbiAgLy8gICAgIHRvcDogMCxcbiAgLy8gICAgIGxlZnQ6IGVsZW1lbnRDZW50ZXJSZWxhdGl2ZUxlZnQsXG4gIC8vICAgICBiZWhhdmlvcjogJ2luc3RhbnQnXG4gIC8vICAgfSlcblxuICAvLyAgIC8vVE9ETyA6IGNvdWxkZCB1c2UgcGFyZW50Lm9mZnNldFRvcCBldCBjaGlsZC5vZmZzZXRUb3AgdG8gY2VudGVyIHRoZSBhY3RpdmUgZWxlbWVudFxuXG4gIC8vICAgLy8gY29uc3QgYWN0aXZlID0gaHRtbC5maW5kKCcubmFtZS1jb250YWluZXIuYWN0aXZlJylcbiAgLy8gICAvLyBpZiggYWN0aXZlKXtcbiAgLy8gICAvLyAgIGNvbnN0IGVsZW1lbnQgPSBhY3RpdmVbMF1cbiAgLy8gICAvLyAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe2JlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJlbmRcIiwgaW5saW5lOiBcImNlbnRlclwifSlcbiAgLy8gICAvLyBlbGVtZW50LnNjcm9sbEludG9WaWV3KGZhbHNlKVxuICAvLyAgIC8vIH1cbiAgLy8gICAvLyB9KVxuICAvLyB9XG5cbiAgZmluZFBhcnRpY2lwYW50SW5kZXggKHV1aWQpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMuZmluZEluZGV4KHAgPT4gcC51dWlkID09PSB1dWlkKVxuICB9XG5cbiAgZmluZExvY2F0aW9uSW5kZXggKHV1aWQpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdC5maW5kSW5kZXgocCA9PiBwLnV1aWQgPT09IHV1aWQpXG4gIH1cblxuICBmaW5kTG9jYXRpb24gKHV1aWQpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdC5maW5kKHAgPT4gcC51dWlkID09PSB1dWlkKVxuICB9XG5cbiAgZmluZEluZGV4IChsaXN0LCB1dWlkKSB7XG4gICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KHAgPT4gcC51dWlkID09PSB1dWlkKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcERvd25FbGVtZW50U2VsZWN0ZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpPy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93JylcbiAgICBjb25zdCBhc3Npc3RhbnRVdWlkID0gdGFyZ2V0LmNsb3Nlc3QoJy5pbml0aWF0aXZlLWJsb2NrJyk/LmRhdGFzZXQ/LnV1aWRcbiAgICBjb25zdCBiZW5lZmljaWFyeVV1aWQgPSB0YXJnZXQuZGF0YXNldC5iZW5lZmljaWFyeVV1aWRcbiAgICBhd2FpdCB0aGlzLml0ZW0uYXNzaXN0UGFydGljaXBhbnQoYXNzaXN0YW50VXVpZCwgYmVuZWZpY2lhcnlVdWlkKVxuICB9XG5cbiAgYXN5bmMgX29uVG9nZ2xlIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAvLyBjb25zdCBsb2NhdGlvbkVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCgnLmxvY2F0aW9uLm9ic3RhY2xlJylcbiAgICAvLyBjb25zdCB1dWlkID0gbG9jYXRpb25FbGVtZW50LmRhdGFzZXQudXVpZFxuICAgIC8vIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgIC8vIGNvbnN0IGxvY2F0aW9uSW5kZXggPSB0aGlzLmZpbmRJbmRleChsb2NhdGlvbnMsIHV1aWQpXG4gICAgY29uc3QgdG9nZ2xlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgndG9nZ2xlJylcbiAgICBjb25zdCBkYXRhID0gZXhwYW5kT2JqZWN0KHtcbiAgICAgIFt0b2dnbGVdOiAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc3dpdGNoZWQtb24nKVxuICAgIH0pXG4gICAgaWYgKGRhdGEubG9jYXRpb25zKSB7XG4gICAgICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEubG9jYXRpb25zKSkge1xuICAgICAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGwudXVpZCA9PT0ga2V5KVxuICAgICAgICBpZiAobG9jYXRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdMb2NhdGlvbnMgdGFibGUgY29ycnVwdGVkJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbExvY2F0aW9uID0gbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdXG4gICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGNsZWFuKHZhbHVlKVxuICAgICAgICAgIG1lcmdlT2JqZWN0KG9yaWdpbmFsTG9jYXRpb24sIGNsZWFuZWQpXG4gICAgICAgICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdID0gb3JpZ2luYWxMb2NhdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMpXG4gICAgfVxuICB9XG5cbiAgLy8gYXN5bmMgX29uT2JzdGFjbGVUb2dnbGVDbGljayAoZXZlbnQpIHtcbiAgLy8gICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gIC8vICAgY29uc3QgbG9jYXRpb25FbGVtZW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5vYnN0YWNsZScpXG4gIC8vICAgY29uc3QgdXVpZCA9IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWRcbiAgLy8gICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgLy8gICBjb25zdCBsb2NhdGlvbkluZGV4ID0gdGhpcy5maW5kSW5kZXgobG9jYXRpb25zLCB1dWlkKVxuICAvLyAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZSA9ICFsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0ub2JzdGFjbGVcbiAgLy8gICBpZiAoIWxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMpIHtcbiAgLy8gICAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMgPSB7XG4gIC8vICAgICAgIGJhcnJpZXI6IHRydWVcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zKVxuICAvLyB9XG5cbiAgYXN5bmMgX29uT2JzdGFjbGVUeXBlQ2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGxvY2F0aW9uRWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KCcub2JzdGFjbGUnKVxuICAgIGNvbnN0IHV1aWQgPSBsb2NhdGlvbkVsZW1lbnQuZGF0YXNldC51dWlkXG4gICAgY29uc3QgbG9jYXRpb25zID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgY29uc3QgbG9jYXRpb25JbmRleCA9IHRoaXMuZmluZEluZGV4KGxvY2F0aW9ucywgdXVpZClcbiAgICBpZiAoIWxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMpIHtcbiAgICAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMgPSB7fVxuICAgIH1cbiAgICBjb25zdCBvYnN0YWNsZSA9IGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHNcbiAgICBjb25zdCB0eXBlID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYmFycmllcicpID8gJ2JhcnJpZXInIDogJ2hhemFyZCdcbiAgICBjb25zdCBhY3RpdmUgPSBvYnN0YWNsZVt0eXBlXVxuICAgIG9ic3RhY2xlLmJhcnJpZXIgPSBmYWxzZVxuICAgIG9ic3RhY2xlLmhhemFyZCA9IGZhbHNlXG4gICAgb2JzdGFjbGVbdHlwZV0gPSAhYWN0aXZlXG4gICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlID0gIWFjdGl2ZVxuICAgIC8vIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiYXJyaWVyJykpIHtcbiAgICAvLyAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMuYmFycmllciA9ICFsb2NhdGlvbnNbXG4gICAgLy8gICAgIGxvY2F0aW9uSW5kZXhcbiAgICAvLyAgIF0ub2JzdGFjbGVEZXRhaWxzLmJhcnJpZXJcbiAgICAvLyAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMuaGF6YXJkID0gIWxvY2F0aW9uc1tcbiAgICAvLyAgICAgbG9jYXRpb25JbmRleFxuICAgIC8vICAgXS5vYnN0YWNsZURldGFpbHMuYmFycmllclxuICAgIC8vIH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGF6YXJkJykpIHtcbiAgICAvLyAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMuaGF6YXJkID0gIWxvY2F0aW9uc1tcbiAgICAvLyAgICAgbG9jYXRpb25JbmRleFxuICAgIC8vICAgXS5vYnN0YWNsZURldGFpbHMuaGF6YXJkXG4gICAgLy8gICBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0ub2JzdGFjbGVEZXRhaWxzLmJhcnJpZXIgPSAhbG9jYXRpb25zW1xuICAgIC8vICAgICBsb2NhdGlvbkluZGV4XG4gICAgLy8gICBdLm9ic3RhY2xlRGV0YWlscy5oYXphcmRcbiAgICAvLyB9XG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zKVxuICB9XG5cbiAgYXN5bmMgX29uTG9jYXRpb25DbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgbG9jYXRpb25FbGVtZW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5jaGFzZS1sb2NhdGlvbicpXG4gICAgY29uc3QgbFV1aWQgPSBsb2NhdGlvbkVsZW1lbnQuZGF0YXNldC51dWlkXG4gICAgYXdhaXQgdGhpcy5pdGVtLmFjdGl2YXRlTG9jYXRpb24obFV1aWQpXG4gIH1cblxuICBhc3luYyBfb25Mb2NhdGlvbkNvbnRyb2xDbGljayAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmFjdGl2ZScpKSByZXR1cm5cbiAgICBjb25zdCBhY3Rpb24gPSB0YXJnZXQuZGF0YXNldC5hY3Rpb25cbiAgICBjb25zdCBsb2NhdGlvbkVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCgnLmNoYXNlLWxvY2F0aW9uJylcbiAgICBjb25zdCBsVXVpZCA9IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWRcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAncmVtb3ZlJzpcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnJlbW92ZUxvY2F0aW9uKGxVdWlkKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYWRkLWFmdGVyJzpcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLmluc2VydExvY2F0aW9uKGxVdWlkLCB7IHNoaWZ0OiAxIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2FkZC1iZWZvcmUnOlxuICAgICAgICBhd2FpdCB0aGlzLml0ZW0uaW5zZXJ0TG9jYXRpb24obFV1aWQsIHsgc2hpZnQ6IDAgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYWRkLXBhcnRpY2lwYW50JzpcbiAgICAgICAgQ29DN0NoYXNlUGFydGljaXBhbnRJbXBvcnRlci5jcmVhdGUoe1xuICAgICAgICAgIGNoYXNlVXVpZDogdGhpcy5pdGVtLnV1aWQsXG4gICAgICAgICAgbG9jYXRpb25VdWlkOiBsVXVpZCxcbiAgICAgICAgICBkcm9wRGF0YToge31cbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKGBMb2NhdGlvbiAke2xVdWlkfSBDbGlja2VkLiBBY3Rpb246ICR7YWN0aW9ufWApXG4gIH1cblxuICBhc3luYyBfb25DaGFzZVBhcnRpY2lwYW50Q2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3QgcFV1aWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQ/LnV1aWRcbiAgICBhd2FpdCB0aGlzLml0ZW0uYWN0aXZhdGVQYXJ0aWNpcGFudChwVXVpZClcbiAgfVxuXG4gIGFzeW5jIF9vblBhcnRpY2lwYW50Q29udHJvbENsaWNrZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaW5hY3RpdmUnKSkgcmV0dXJuXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3Bkb3duJykpIHJldHVyblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudFV1aWQgPSB0YXJnZXQuY2xvc2VzdCgnLmluaXRpYXRpdmUtYmxvY2snKT8uZGF0YXNldD8udXVpZFxuICAgIGlmICghcGFydGljaXBhbnRVdWlkKSByZXR1cm5cbiAgICBzd2l0Y2ggKHRhcmdldC5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnZHJhd0d1bic6XG4gICAgICAgIGF3YWl0IHRoaXMudG9nZ2xlUGFydGljaXBhbnRHdW4ocGFydGljaXBhbnRVdWlkKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGVjcmVhc2VBY3Rpb25zJzpcbiAgICAgICAgYXdhaXQgdGhpcy5fb25DaGFuZ2VNb3ZlbWVudEFjdGlvbnMoLTEsIGV2ZW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaW5jcmVhc2VBY3Rpb25zJzpcbiAgICAgICAgYXdhaXQgdGhpcy5fb25DaGFuZ2VNb3ZlbWVudEFjdGlvbnMoMSwgZXZlbnQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtb3ZlQmFja3dhcmQnOlxuICAgICAgICBhd2FpdCB0aGlzLml0ZW0ubW92ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZCwgLTEsIHsgcmVuZGVyOiB0cnVlIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtb3ZlRm9yd2FyZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5tb3ZlUGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkLCAxLCB7IHJlbmRlcjogdHJ1ZSB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYWN0aXZhdGVQYXJ0aWNpcGFudCc6XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLml0ZW0uYWN0aXZhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgICBjYXNlICdib251c0RpY2UnOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgZGljZU51bWJlciA9IHRhcmdldC5kYXRhc2V0LmNvdW50XG4gICAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnRvZ2dsZUJvbnVzRGljZShwYXJ0aWNpcGFudFV1aWQsIGRpY2VOdW1iZXIpXG4gICAgICAgICAgdGhpcy5pdGVtLmFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybigpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NhdXRpb3VzQXBwcm9hY2gnOlxuICAgICAgICBhd2FpdCB0aGlzLml0ZW0uY2F1dGlvdXNBcHByb2FjaChwYXJ0aWNpcGFudFV1aWQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdlZGl0UGFydGljaXBhbnQnOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLml0ZW0uZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5pdGVtLmdldFBhcnRpY2lwYW50TG9jYXRpb24ocGFydGljaXBhbnRVdWlkKVxuICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEuY2hhc2VVdWlkID0gdGhpcy5pdGVtLnV1aWRcbiAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLmxvY2F0aW9uVXVpZCA9IGxvY2F0aW9uLnV1aWRcbiAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnVwZGF0ZSA9IHRydWVcbiAgICAgICAgICBDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyLmNyZWF0ZShwYXJ0aWNpcGFudC5kYXRhKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZW1vdmVQYXJ0aWNpcGFudCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5yZW1vdmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHRoaXMuaXRlbS5hY3RpdmF0ZU5leHRQYXJ0aWNpcGFudFR1cm4oKVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhc2VDb250cm9sQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBsb2NhdGlvblV1aWQgPSB0YXJnZXQuY2xvc2VzdCgnLm9ic3RhY2xlJyk/LmRhdGFzZXQ/LnV1aWRcbiAgICBpZiAoIWxvY2F0aW9uVXVpZCkgcmV0dXJuXG4gICAgc3dpdGNoICh0YXJnZXQuZGF0YXNldC5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ29ic3RhY2xlLXNraWxsLWNoZWNrJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbS5hY3RpdmVQYXJ0aWNpcGFudE9ic3RhY2xlQ2hlY2sobG9jYXRpb25VdWlkKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkNoYW5nZU1vdmVtZW50QWN0aW9ucyAoY291bnQsIGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHBhcnRpY2lwYW50VXVpZCA9IHRhcmdldC5jbG9zZXN0KCcuaW5pdGlhdGl2ZS1ibG9jaycpPy5kYXRhc2V0Py51dWlkXG4gICAgaWYgKCFwYXJ0aWNpcGFudFV1aWQpIHJldHVyblxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5wYXJ0aWNpcGFudHNcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50cy5maW5kKHAgPT4gcGFydGljaXBhbnRVdWlkID09PSBwLnV1aWQpXG4gICAgaWYgKHBhcnRpY2lwYW50Lmhhc01heE12dEFjdGlvbnMgJiYgY291bnQgPiAwKSByZXR1cm5cbiAgICBwYXJ0aWNpcGFudC5hbHRlck1vdmVtZW50QWN0aW9ucyhjb3VudClcblxuICAgIC8vIGNvbnN0IHNoZWV0ID0gdGFyZ2V0LmNsb3Nlc3QoJy5jb2M3Lml0ZW0uY2hhc2UnKVxuICAgIC8vIGNvbnN0IGNoYXNlVHJhY2sgPSBzaGVldC5xdWVyeVNlbGVjdG9yKCcuY2hhc2UtdHJhY2snKVxuICAgIC8vIGlmIChjaGFzZVRyYWNrKVxuICAgIC8vICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7XG4gICAgLy8gICAgICdkYXRhLnRyYWNrU2Nyb2xsUG9zaXRpb24nOiBjaGFzZVRyYWNrLnNjcm9sbExlZnRcbiAgICAvLyAgIH0pXG4gICAgYXdhaXQgdGhpcy5pdGVtLnNldGNoYXNlVHJhY2tTY3JvbGwoeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZVBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMpXG4gIH1cblxuICBhc3luYyBfb25CdXR0b25DbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgYWN0aW9uID0gdGFyZ2V0LmRhdGFzZXQ/LmFjdGlvblxuICAgIGlmICghYWN0aW9uKSByZXR1cm5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaXNOYU4odGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMudG90YWwpICYmXG4gICAgICAgICAgdGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMudG90YWwgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IEFycmF5LmFwcGx5KFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIEFycmF5KHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLnRvdGFsKVxuICAgICAgICAgICkubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHV1aWQ6IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGxvY2F0aW9uc1swXS5uYW1lID0gJ1N0YXJ0J1xuICAgICAgICAgIGlmIChsb2NhdGlvbnMubGVuZ3RoID4gMSkgbG9jYXRpb25zW2xvY2F0aW9ucy5sZW5ndGggLSAxXS5uYW1lID0gJ0VuZCdcbiAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMpXG4gICAgICAgIH1cblxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICBEaWFsb2cuY29uZmlybSh7XG4gICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db25maXJtUmVzZXRDaGFzZScpfWAsXG4gICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvbmZpcm1SZXNldENoYXNlSGludCcpfTwvcD5gLFxuICAgICAgICAgIHllczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZUxvY2F0aW9uc0xpc3QoW10pXG4gICAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0uc3RvcCgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdjdXQyY2hhc2UnOlxuICAgICAgICBpZiAodGhpcy5pdGVtLmFsbEhhdmVTcGVlZFJvbGwpIHtcbiAgICAgICAgICBEaWFsb2cuY29uZmlybSh7XG4gICAgICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvbmZpcm1DdXQyQ2hhc2UnKX1gLFxuICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5Db25maXJtQ3V0MkNoYXNlSGludCdcbiAgICAgICAgICAgICl9PC9wPmAsXG4gICAgICAgICAgICB5ZXM6ICgpID0+IHRoaXMuaXRlbS5jdXRUb1RoZUNoYXNlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90QWxsSGF2ZVNwZWVkUm9sbCcpKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3Jlc3RhcnQnOlxuICAgICAgICBEaWFsb2cuY29uZmlybSh7XG4gICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db25maXJtUmVzdGFydENoYXNlJyl9YCxcbiAgICAgICAgICBjb250ZW50OiBgPHA+JHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5Db25maXJtUmVzdGFydENoYXNlSGludCdcbiAgICAgICAgICApfTwvcD5gLFxuICAgICAgICAgIHllczogKCkgPT4gdGhpcy5pdGVtLnJlc3RhcnQoKVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICduZXh0Um91bmQnOlxuICAgICAgICBpZiAodGhpcy5pdGVtLm5leHRBY3RpdmVQYXJ0aWNpcGFudCkge1xuICAgICAgICAgIERpYWxvZy5jb25maXJtKHtcbiAgICAgICAgICAgIHRpdGxlOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29uZmlybU5leHRDaGFzZVJvdW5kJyl9YCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuQ29uZmlybU5leHRDaGFzZVJvdW5kSGludCdcbiAgICAgICAgICAgICl9PC9wPmAsXG4gICAgICAgICAgICB5ZXM6ICgpID0+IHRoaXMuaXRlbS5wcm9ncmVzc1RvTmV4dFJvdW5kKClcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgdGhpcy5pdGVtLnByb2dyZXNzVG9OZXh0Um91bmQoKVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIF9jYW5QaW5Mb2NhdGlvbkRyYWdTdGFydCAoc2VsZWN0b3IpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBhc3luYyBfb25QaW5Mb2NhdGlvbkRyYWdTdGFydCAoZXZlbnQpIHtcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGkgPSBhLnF1ZXJ5U2VsZWN0b3IoJ2kuaWNvbicpXG4gICAgY29uc3QgZHJhZ0ljb24gPSBhLnF1ZXJ5U2VsZWN0b3IoJy5waW4taW1hZ2UnKVxuXG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShkcmFnSWNvbiwgMCwgZHJhZ0ljb24uaGVpZ2h0KVxuXG4gICAgY29uc3QgbG9jYXRpb25FbGVtZW50ID0gYS5jbG9zZXN0KCcuY2hhc2UtbG9jYXRpb24nKVxuICAgIGNvbnN0IGRhdGEgPSB7fVxuXG4gICAgZGF0YS50eXBlID0gJ2xvY2F0b3InXG4gICAgZGF0YS5Db0M3VHlwZSA9ICdjaGFzZSdcbiAgICBkYXRhLmljb24gPSBpLmRhdGFzZXQubGlua0ljb25cbiAgICBkYXRhLmxvY2F0aW9uVXVpZCA9IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWRcbiAgICBkYXRhLmRvY1V1aWQgPSB0aGlzLml0ZW0udXVpZFxuICAgIGRhdGEuY2FsbEJhY2sgPSAnbG9jYXRvckRyb3BwZWQnXG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcblxuICAgIC8vIGNvbnN0IGRyYWdEYXRhID0geyB1dWlkOiBsb2NhdGlvbkVsZW1lbnQuZGF0YXNldC51dWlkLCBjaGFzZVV1aWQ6IHRoaXMuaXRlbS51dWlkIH1cbiAgICAvLyBkcmFnRXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkcmFnRGF0YSkpXG4gIH1cblxuICBfY2FuQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydCAoc2VsZWN0b3IpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBfY2FuQ2hhc2VQYXJ0aWNpcGFudERyYWdEcm9wIChzZWxlY3Rvcikge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGFzeW5jIF9vbkNoYXNlUGFydGljaXBhbnREcmFnU3RhcnQgKGRyYWdFdmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGRyYWdFdmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgZHJhZ0RhdGEgPSB7IHV1aWQ6IHRhcmdldC5kYXRhc2V0LnV1aWQsIHR5cGU6ICdwYXJ0aWNpcGFudCcgfVxuICAgIGRyYWdFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRyYWdEYXRhKSlcbiAgfVxuXG4gIGFzeW5jIF9vbkNoYXNlUGFydGljaXBhbnREcmFnRHJvcCAoZHJhZ0V2ZW50KSB7XG4gICAgY29uc3QgZGF0YVN0cmluZyA9IGRyYWdFdmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG4gICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0cmluZylcblxuICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbygnRHJvcHBlZCcpXG4gICAgdGhpcy5fb25EcmFnTGVhdmUoZHJhZ0V2ZW50KVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZHJhZ0V2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBsb2NhdGlvblV1aWQgPSB0YXJnZXQuZGF0YXNldC51dWlkXG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAncGFydGljaXBhbnQnKSB7XG4gICAgICBjb25zdCBvbGRMb2NhdGlvbiA9IHRoaXMuZmluZExvY2F0aW9uKGxvY2F0aW9uVXVpZClcbiAgICAgIGlmIChvbGRMb2NhdGlvbikge1xuICAgICAgICBpZiAob2xkTG9jYXRpb24ucGFydGljaXBhbnRzPy5pbmNsdWRlcyhkYXRhLnV1aWQpKSByZXR1cm5cbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuaXRlbS5zZXRjaGFzZVRyYWNrU2Nyb2xsKHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgICAgYXdhaXQgdGhpcy5pdGVtLm1vdmVQYXJ0aWNpcGFudFRvTG9jYXRpb24oZGF0YS51dWlkLCBsb2NhdGlvblV1aWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIuY3JlYXRlKHtcbiAgICAgICAgY2hhc2VVdWlkOiB0aGlzLml0ZW0udXVpZCxcbiAgICAgICAgbG9jYXRpb25VdWlkLFxuICAgICAgICBkcm9wRGF0YTogZGF0YVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBfb25EcmFnT3ZlciAoZHJhZ0V2ZW50KSB7XG4gICAgdGhpcy5fb25EcmFnRW50ZXIoZHJhZ0V2ZW50KVxuICB9XG5cbiAgX29uRHJhZ0VudGVyIChkcmFnRXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBkcmFnRXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnLW92ZXInKVxuICB9XG5cbiAgX29uRHJhZ0xlYXZlIChkcmFnRXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBkcmFnRXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRhcmdldC5jbGFzc0xpc3Q/LnJlbW92ZSgnZHJhZy1vdmVyJylcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3BQYXJ0aWNpcGFudCAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgdXVpZCA9IHRhcmdldC5kYXRhc2V0Py51dWlkXG4gICAgY29uc3QgZGF0YVN0cmluZyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKVxuICAgIGF3YWl0IHRoaXMuYWx0ZXJQYXJ0aWNpcGFudChkYXRhLCB1dWlkKVxuICB9XG5cbiAgYXN5bmMgX29uQWRkUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGRhdGEgPSB7IGNoYXNlVXVpZDogdGhpcy5pdGVtLnV1aWQgfVxuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgIGNvbnN0IGRhdGFTdHJpbmcgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG4gICAgICBkYXRhLmRyb3BEYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKVxuICAgIH1cbiAgICBDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyLmNyZWF0ZShkYXRhKVxuICB9XG5cbiAgYXN5bmMgX29uUm9sbFBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBwYXJ0aWNpcGFudEVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCgnLnBhcnRpY2lwYW50JylcbiAgICBjb25zdCB1dWlkID0gcGFydGljaXBhbnRFbGVtZW50LmRhdGFzZXQudXVpZFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cblxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gbmV3IF9wYXJ0aWNpcGFudChwYXJ0aWNpcGFudHNbaW5kZXhdKVxuICAgIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnJlZlNldCkge1xuICAgICAgY29uc3Qgcm9sbCA9IG5ldyBDb0M3Q2hlY2soKVxuICAgICAgcm9sbC5wYXJlbnQgPSB0aGlzLml0ZW0udXVpZFxuICAgICAgcGFydGljaXBhbnQuZGF0YS5yb2xsZWQgPSB0cnVlXG4gICAgICBwYXJ0aWNpcGFudC5kYXRhLnJvbGxVdWlkID0gcm9sbC51dWlkXG4gICAgICByb2xsLmFjdG9yID0gcGFydGljaXBhbnQuYWN0b3IuYWN0b3JLZXlcbiAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgcGFydGljaXBhbnQuYWN0b3IucGxheWVyKSB7XG4gICAgICAgIHJvbGwuc3RhbmRieSA9IHRydWVcbiAgICAgICAgcm9sbC5zdGFuZGJ5VGV4dCA9ICdDb0M3LkNoYXNlJ1xuICAgICAgICByb2xsLnN0YW5kYnlSaWdodEljb24gPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9ydW5uaW5nLXNvbGlkLnN2ZydcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suaXNDaGFyYWN0ZXJpc3RpYykge1xuICAgICAgICBhd2FpdCByb2xsLnJvbGxDaGFyYWN0ZXJpc3RpYyhwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnJlZi5rZXkpXG4gICAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKClcbiAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgfSBlbHNlIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLmlzU2tpbGwpIHtcbiAgICAgICAgcm9sbC5za2lsbCA9IHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmXG4gICAgICAgIGF3YWl0IHJvbGwucm9sbCgpXG4gICAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKClcbiAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgfSBlbHNlIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLmlzQXR0cmlidXRlKSB7XG4gICAgICAgIGF3YWl0IHJvbGwucm9sbEF0dHJpYnV0ZShwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnJlZi5rZXkpXG4gICAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKClcbiAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5zY29yZSkge1xuICAgICAgY29uc3Qgcm9sbERhdGEgPSB7XG4gICAgICAgIHJhd1ZhbHVlOiBwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlLFxuICAgICAgICBkaXNwbGF5TmFtZTogcGFydGljaXBhbnQuc3BlZWRDaGVjay5uYW1lLFxuICAgICAgICBhY3Rvck5hbWU6IHBhcnRpY2lwYW50Lm5hbWUgPyBwYXJ0aWNpcGFudC5uYW1lIDogdW5kZWZpbmVkXG4gICAgICB9XG4gICAgICBpZiAocGFydGljaXBhbnQuaGFzQWN0b3IpIHJvbGxEYXRhLmFjdG9yID0gcGFydGljaXBhbnQuYWN0b3IuYWN0b3JLZXlcbiAgICAgIGNvbnN0IHJvbGwgPSBDb0M3Q2hlY2suY3JlYXRlKHJvbGxEYXRhKVxuICAgICAgcm9sbC5wYXJlbnQgPSB0aGlzLml0ZW0udXVpZFxuICAgICAgYXdhaXQgcm9sbC5yb2xsKClcbiAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKClcbiAgICAgIHBhcnRpY2lwYW50LmRhdGEuc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZyA9IHJvbGwuSlNPTlJvbGxTdHJpbmdcbiAgICAgIHBhcnRpY2lwYW50LmRhdGEucm9sbGVkID0gdHJ1ZVxuICAgICAgcGFydGljaXBhbnQuZGF0YS5yb2xsVXVpZCA9IHJvbGwudXVpZFxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnZGF0YS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgfVxuXG4gIF9vbkRyYWdFbnRlclBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJhZy1vdmVyJylcbiAgfVxuXG4gIF9vbkRyYWdMZWF2ZVBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZy1vdmVyJylcbiAgfVxuXG4gIGFzeW5jIF9vbkNoYW5nZVNpZGUgKGV2ZW50KSB7XG4gICAgLy8gY29uc3QgdGVzdCA9IGF3YWl0IGZyb21VdWlkKCAnU2NlbmUud2g3U0x1dklPcGNReWI4Uy5Ub2tlbi5uQ2RvQ3lvaXVkdGpyTmt1Jyk7XG4gICAgLy8gY29uc3QgaXRlbVRlc3QgPSBhd2FpdCBmcm9tVXVpZCggJ0l0ZW0ucGxJRW1OUlA2TzdQdmVOdi5yb2xsLnEyc0F6c0h0NEZzcXNkZkQnKTtcblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRhcmdldC5jbG9zZXN0KCcucGFydGljaXBhbnQnKVxuICAgIGNvbnN0IHV1aWQgPSBwYXJ0aWNpcGFudC5kYXRhc2V0LnV1aWRcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZFBhcnRpY2lwYW50SW5kZXgodXVpZClcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgcGFydGljaXBhbnRzW2luZGV4XS5jaGFzZXIgPSAhcGFydGljaXBhbnRzW2luZGV4XS5jaGFzZXJcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ2RhdGEucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gIH1cblxuICBhc3luYyBfb25EZWxldGVEcml2ZXIgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGRyaXZlciA9IHRhcmdldC5jbG9zZXN0KCcuZHJpdmVyJylcbiAgICBjb25zdCB1dWlkID0gZHJpdmVyLmRhdGFzZXQudXVpZFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50c1tpbmRleF1cbiAgICBkZWxldGUgcGFydGljaXBhbnQuZG9jVXVpZFxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnZGF0YS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRlbGV0ZVBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRhcmdldC5jbG9zZXN0KCcucGFydGljaXBhbnQnKVxuICAgIGNvbnN0IHV1aWQgPSBwYXJ0aWNpcGFudC5kYXRhc2V0LnV1aWRcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZFBhcnRpY2lwYW50SW5kZXgodXVpZClcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgcGFydGljaXBhbnRzLnNwbGljZShpbmRleCwgMSlcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ2RhdGEucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gIH1cblxuICBhc3luYyBfb25SZXNldFJvbGwgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5wYXJ0aWNpcGFudCcpXG4gICAgY29uc3QgdXVpZCA9IHBhcnRpY2lwYW50LmRhdGFzZXQudXVpZFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBkZWxldGUgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdkYXRhLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICB9XG5cbiAgYXN5bmMgYWx0ZXJQYXJ0aWNpcGFudCAoZGF0YSwgdXVpZCkge1xuICAgIGxldCBkb2NVdWlkLCBhY3RvclxuICAgIGlmIChkYXRhLnRva2VuVXVpZCkgZG9jVXVpZCA9IGRhdGEudG9rZW5VdWlkXG4gICAgZWxzZSB7XG4gICAgICBkb2NVdWlkID1cbiAgICAgICAgZGF0YS5zY2VuZUlkICYmIGRhdGEudG9rZW5JZFxuICAgICAgICAgID8gYFNjZW5lLiR7ZGF0YS5zY2VuZUlkfS5Ub2tlbi4ke2RhdGEudG9rZW5JZH1gXG4gICAgICAgICAgOiBkYXRhLmFjdG9ySWQgfHwgZGF0YS5hY3RvcktleSB8fCBkYXRhLmlkXG4gICAgfVxuXG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ1Rva2VuJykge1xuICAgICAgZG9jVXVpZCA9IGRhdGEudXVpZFxuICAgIH0gZWxzZSBpZiAoZG9jVXVpZCkge1xuICAgICAgYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleShkb2NVdWlkKVxuICAgICAgaWYgKCFhY3RvciAmJiBkYXRhLnR5cGUgPT09ICdJdGVtJykgZG9jVXVpZCA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoYWN0b3IgJiYgZG9jVXVpZCAhPT0gYWN0b3IudXVpZCkge1xuICAgICAgZG9jVXVpZCA9IGFjdG9yLnV1aWRcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHt9XG4gICAgaWYgKGRvY1V1aWQpIHBhcnRpY2lwYW50LmRvY1V1aWQgPSBkb2NVdWlkXG5cbiAgICBzd2l0Y2ggKGRhdGEudHlwZT8udG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSAnYWN0b3InOlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaXRlbSc6XG4gICAgICAgIHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgICAgaWQ6IGRhdGEuZGF0YT8uX2lkIHx8IGRhdGEuaWQsXG4gICAgICAgICAgdHlwZTogJ2l0ZW0nXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NoYXJhY3RlcmlzdGljJzpcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogZGF0YS5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdjaGFyYWN0ZXJpc3RpYydcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYXR0cmlidXRlJzpcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogZGF0YS5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdhdHRyaWJ1dGUnXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICAvLyBUT0RPOkNoZWNrIGZvciBzcGVlZCBjaGVjaywgaWYgbm9uZSBhZGQgc3BlZWRjaGVja1xuICAgIC8vIHNwZWVkQ2hlY2sgPSB7XG4gICAgLy8gICBpZDogJ3N0cidcbiAgICAvLyAgIHR5cGU6ICdjaGFyYWN0ZXJpc3RpYydcbiAgICAvLyB9XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IG9sZFBhcnRpY2lwYW50ID0gcGFydGljaXBhbnRzW2luZGV4XVxuICAgIGlmIChvbGRQYXJ0aWNpcGFudC5tb3YpIGRlbGV0ZSBvbGRQYXJ0aWNpcGFudC5tb3ZcbiAgICBtZXJnZU9iamVjdChvbGRQYXJ0aWNpcGFudCwgcGFydGljaXBhbnQpXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdkYXRhLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICB9XG5cbiAgYXN5bmMgY2xlYXJBY3RpdmVMb2NhdGlvbkNvb3JkaW5hdGVzICgpIHtcbiAgICBhd2FpdCB0aGlzLml0ZW0uY2xlYXJBY3RpdmVMb2NhdGlvbkNvb3JkaW5hdGVzKClcbiAgfVxuXG4gIGFzeW5jIGFkZFBhcnRpY2lwYW50IChkYXRhKSB7XG4gICAgLy8gbGV0IHByb3V0ID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoXG4gICAgLy8gICAnU2NlbmUud2g3U0x1dklPcGNReWI4Uy5Ub2tlbi5ReUZUaWlFWmlYOXZUZmlDJ1xuICAgIC8vIClcbiAgICAvLyBwcm91dCA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KFxuICAgIC8vICAgJ1NjZW5lLndoN1NMdXZJT3BjUXliOFMuVG9rZW4udWJMemhlNTdKT1RITUlyOSdcbiAgICAvLyApXG4gICAgLy8gcHJvdXQgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSgnQWN0b3IudWlZM2NhcFNVZUxMdlNMaScpXG4gICAgLy8gcHJvdXQgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleSggJ1NjZW5lLndoN1NMdXZJT3BjUXliOFMuVG9rZW4uUXlGVGlpRVppWDl2VGZpQy5JdGVtLkdyT0hlTFhmZUVwaHNSTVonKVxuICAgIC8vIHByb3V0ID0gQ29DN1V0aWxpdGllcy5nZXREb2N1bWVudEZyb21LZXkoIFwiU2NlbmUud2g3U0x1dklPcGNReWI4Uy5Ub2tlbi5ZcXNOUVBEaEZDUGxTUnFKXCIpXG4gICAgLy8gcHJvdXQgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleSggXCJTY2VuZS53aDdTTHV2SU9wY1F5YjhTLlRva2VuLllxc05RUERoRkNQbFNScUouSXRlbS44SkVuVGpKT0dGWG1sNHdrXCIpXG5cbiAgICAvLyB0cnkgdG8gZmluZCBhIHZhbGlkIGRvY3VtZW50XG4gICAgbGV0IGRvY1V1aWQsIGFjdG9yXG4gICAgaWYgKGRhdGEudG9rZW5VdWlkKSBkb2NVdWlkID0gZGF0YS50b2tlblV1aWRcbiAgICBlbHNlIHtcbiAgICAgIGRvY1V1aWQgPVxuICAgICAgICBkYXRhLnNjZW5lSWQgJiYgZGF0YS50b2tlbklkXG4gICAgICAgICAgPyBgU2NlbmUuJHtkYXRhLnNjZW5lSWR9LlRva2VuLiR7ZGF0YS50b2tlbklkfWBcbiAgICAgICAgICA6IGRhdGEuYWN0b3JJZCB8fCBkYXRhLmFjdG9yS2V5IHx8IGRhdGEuaWRcbiAgICB9XG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAnVG9rZW4nKSB7XG4gICAgICBkb2NVdWlkID0gZGF0YS51dWlkXG4gICAgfSBlbHNlIGlmIChkb2NVdWlkKSB7XG4gICAgICBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KGRvY1V1aWQpXG4gICAgICBpZiAoIWFjdG9yICYmIGRhdGEudHlwZSA9PT0gJ0l0ZW0nKSBkb2NVdWlkID0gbnVsbFxuICAgIH1cblxuICAgIGlmIChhY3RvciAmJiBkb2NVdWlkICE9PSBhY3Rvci51dWlkKSB7XG4gICAgICBkb2NVdWlkID0gYWN0b3IudXVpZFxuICAgIH1cblxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0ge31cbiAgICBpZiAoZG9jVXVpZCkgcGFydGljaXBhbnQuZG9jVXVpZCA9IGRvY1V1aWRcblxuICAgIHN3aXRjaCAoZGF0YS50eXBlPy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdhY3Rvcic6XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZ2FtZS5pdGVtcy5nZXQoZGF0YS5pZClcbiAgICAgICAgICBpZiAoaXRlbT8uZGF0YT8udHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBwYXJ0aWNpcGFudC5zcGVlZENoZWNrID0ge1xuICAgICAgICAgIGlkOiBkYXRhLmRhdGE/Ll9pZCB8fCBkYXRhLmlkLFxuICAgICAgICAgIHR5cGU6ICdpdGVtJ1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjaGFyYWN0ZXJpc3RpYyc6XG4gICAgICAgIHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgICAgaWQ6IGRhdGEubmFtZSxcbiAgICAgICAgICB0eXBlOiAnY2hhcmFjdGVyaXN0aWMnXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2F0dHJpYnV0ZSc6XG4gICAgICAgIHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgICAgaWQ6IGRhdGEubmFtZSxcbiAgICAgICAgICB0eXBlOiAnYXR0cmlidXRlJ1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgLy8gVE9ETzpDaGVjayBmb3Igc3BlZWQgY2hlY2ssIGlmIG5vbmUgYWRkIHNwZWVkY2hlY2sgY29uIG5vbiB2ZWhpY2xlLCBkcml2ZSBhdXRvIGZvciB2ZWhpY2xlXG4gICAgLy8gc3BlZWRDaGVjayA9IHtcbiAgICAvLyAgIGlkOiAnY29uJ1xuICAgIC8vICAgdHlwZTogJ2NoYXJhY3RlcmlzdGljJ1xuICAgIC8vIH1cblxuICAgIGlmICghcGFydGljaXBhbnQuc3BlZWRDaGVjaykge1xuICAgICAgaWYgKCF0aGlzLml0ZW0uc3lzdGVtLnZlaGljbGUpIHtcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogJ2NvbicsXG4gICAgICAgICAgdHlwZTogJ2NoYXJhY3RlcmlzdGljJyxcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5Db25zdGl0dXRpb24nKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0aWNpcGFudC5zcGVlZENoZWNrID0ge1xuICAgICAgICAgIHR5cGU6ICdpdGVtJyxcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29DSURGbGFnLmtleXMuaS5za2lsbC5kcml2ZS1hdXRvJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG5cbiAgICBsZXQgdW5pcXVlID0gZmFsc2VcbiAgICB3aGlsZSAoIXVuaXF1ZSkge1xuICAgICAgcGFydGljaXBhbnQudXVpZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoMTYpXG4gICAgICB1bmlxdWUgPVxuICAgICAgICBwYXJ0aWNpcGFudHMuZmlsdGVyKHAgPT4gcC51dWlkID09PSBwYXJ0aWNpcGFudC51dWlkKS5sZW5ndGggPT09IDBcbiAgICB9XG5cbiAgICBwYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudClcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ2RhdGEucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gIH1cblxuICBhc3luYyB0b2dnbGVQYXJ0aWNpcGFudEd1biAocGFydGljaXBhbnRVdWlkKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gcGFydGljaXBhbnRzLmZpbmQocCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZClcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm5cbiAgICBwYXJ0aWNpcGFudC5oYXNBR3VuUmVhZHkgPSAhcGFydGljaXBhbnQuaGFzQUd1blJlYWR5XG4gICAgYXdhaXQgdGhpcy5pdGVtLnNldGNoYXNlVHJhY2tTY3JvbGwoeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZVBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuIChvYmopIHtcbiAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBvYmopIHtcbiAgICBjb25zdCB0cCA9IGdldFR5cGUob2JqW3Byb3BOYW1lXSlcbiAgICBpZiAodHAgPT09ICdPYmplY3QnKSB7XG4gICAgICBvYmpbcHJvcE5hbWVdID0gY2xlYW4ob2JqW3Byb3BOYW1lXSlcbiAgICB9XG5cbiAgICBpZiAodHAgPT09ICdPYmplY3QnICYmICFPYmplY3QuZW50cmllcyhvYmpbcHJvcE5hbWVdKS5sZW5ndGgpIHtcbiAgICAgIG9ialtwcm9wTmFtZV0gPSBudWxsXG4gICAgfSBlbHNlIGlmICh0cCA9PT0gJ3N0cmluZycgJiYgIW9ialtwcm9wTmFtZV0ubGVuZ3RoKSB7XG4gICAgICBvYmpbcHJvcE5hbWVdID0gbnVsbFxuICAgIH0gZWxzZSBpZiAodHAgPT09ICdzdHJpbmcnICYmICFpc05hTihOdW1iZXIob2JqW3Byb3BOYW1lXSkpKSB7XG4gICAgICBvYmpbcHJvcE5hbWVdID0gTnVtYmVyKG9ialtwcm9wTmFtZV0pXG4gICAgfVxuICB9XG4gIHJldHVybiBvYmpcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IENvQzdBY3RpdmVFZmZlY3QgZnJvbSAnLi4vLi4vYWN0aXZlLWVmZmVjdC5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN0l0ZW1TaGVldFYyIGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBTaW1wbGUgSXRlbSBTaGVldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXRWMicsICdpdGVtJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvaXRlbS1zaGVldFYyLmh0bWwnLFxuICAgICAgd2lkdGg6IDUwMCxcbiAgICAgIGhlaWdodDogNDUwLFxuICAgICAgc2Nyb2xsWTogWycudGFiLmRlc2NyaXB0aW9uJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBJdGVtIHNoZWV0XG4gICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAqL1xuICBnZXREYXRhIChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKG9wdGlvbnMpXG5cbiAgICBzaGVldERhdGEuZWZmZWN0cyA9IENvQzdBY3RpdmVFZmZlY3QucHJlcGFyZUFjdGl2ZUVmZmVjdENhdGVnb3JpZXModGhpcy5pdGVtLmVmZmVjdHMsIHsgc3RhdHVzOiBmYWxzZSB9KVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIHByZXBhcmVkIHNoZWV0IEhUTUxcbiAgICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIC8vIEV2ZXJ5dGhpbmcgYmVsb3cgaGVyZSBpcyBvbmx5IG5lZWRlZCBpZiB0aGUgc2hlZXQgaXMgZWRpdGFibGVcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkgcmV0dXJuXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLmVmZmVjdC1jb250cm9sJylcbiAgICAgIC5jbGljayhldiA9PiBDb0M3QWN0aXZlRWZmZWN0Lm9uTWFuYWdlQWN0aXZlRWZmZWN0KGV2LCB0aGlzLml0ZW0pKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgbWVyZ2VPYmplY3QgKi9cblxuaW1wb3J0IHsgQ29DN0l0ZW1TaGVldFYyIH0gZnJvbSAnLi9pdGVtLXNoZWV0VjIuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdJdGVtU2hlZXQgZXh0ZW5kcyBDb0M3SXRlbVNoZWV0VjIge1xuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIFNpbXBsZSBJdGVtIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIHdpZHRoOiA1MjUsXG4gICAgICBoZWlnaHQ6IDUwNlxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBKb3VybmFsU2hlZXQgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Sm91cm5hbFNoZWV0IGV4dGVuZHMgSm91cm5hbFNoZWV0IHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBNYWNyb0NvbmZpZyAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdNYWNyb0NvbmZpZyBleHRlbmRzIE1hY3JvQ29uZmlnIHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBQbGF5bGlzdENvbmZpZyAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdQbGF5bGlzdENvbmZpZyBleHRlbmRzIFBsYXlsaXN0Q29uZmlnIHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBSb2xsVGFibGVDb25maWcgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Um9sbFRhYmxlQ29uZmlnIGV4dGVuZHMgUm9sbFRhYmxlQ29uZmlnIHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBTY2VuZUNvbmZpZyAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdTY2VuZUNvbmZpZyBleHRlbmRzIFNjZW5lQ29uZmlnIHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4uL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgRHJvcENvQ0lEIH0gZnJvbSAnLi4vLi4vYXBwcy9kcm9wLWNvYy1pZC5qcydcbmltcG9ydCB7IGlzQ3RybEtleSB9IGZyb20gJy4uLy4uL2NoYXQvaGVscGVyLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3U2V0dXBTaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIHByZXBhcmVkIHNoZWV0IEhUTUxcbiAgICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbC5maW5kKCcuaXRlbSAuaXRlbS1uYW1lIGg0JykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtU3VtbWFyeShldmVudCwgJ2l0ZW1zJykpXG4gICAgaHRtbC5maW5kKCcuaXRlbS1kZWxldGUnKS5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1EZWxldGUoZXZlbnQsICdpdGVtcycpKVxuICAgIGh0bWwuZmluZCgnLmFkZC1iaW8nKS5jbGljayhhc3luYyAoKSA9PiBhd2FpdCB0aGlzLl9vbkFkZEJpbygpKVxuICAgIGh0bWwuZmluZCgnLnJlbW92ZS1zZWN0aW9uJykuY2xpY2sodGhpcy5fb25SZW1vdmVTZWN0aW9uLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcudG9nZ2xlLXN3aXRjaCcpLmNsaWNrKHRoaXMuX29uQ2xpY2tUb2dnbGUuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5hZGQtbW9uZXRhcnknKS5jbGljayh0aGlzLl9vbkFkZE1vbmV0YXJ5LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcucmVtb3ZlLW1vbmV0YXJ5JykuY2xpY2sodGhpcy5fb25SZW1vdmVNb25ldGFyeS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgYXN5bmMgX29uQ2xpY2tUb2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHByb3BlcnR5SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucHJvcGVydHlcbiAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlUHJvcGVydHkoXG4gICAgICBwcm9wZXJ0eUlkLFxuICAgICAgaXNDdHJsS2V5KGV2ZW50KVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IGRhdGFMaXN0ID0gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXREYXRhRnJvbURyb3BFdmVudChldmVudCwgJ0l0ZW0nKVxuXG4gICAgbGV0IHVzZUNvQ0lEID0gMFxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSkgOiBbXVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhTGlzdCkge1xuICAgICAgaWYgKCFpdGVtIHx8ICFpdGVtLnN5c3RlbSkgY29udGludWVcbiAgICAgIGlmICghWydpdGVtJywgJ3dlYXBvbicsICdza2lsbCcsICdib29rJywgJ3NwZWxsJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAoIUNvQzdJdGVtLmlzQW55U3BlYyhpdGVtKSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbi5maW5kKGVsID0+IGVsLm5hbWUgPT09IGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VDb0NJRCA9PT0gMCkge1xuICAgICAgICB1c2VDb0NJRCA9IGF3YWl0IERyb3BDb0NJRC5jcmVhdGUoKVxuICAgICAgfVxuICAgICAgY29sbGVjdGlvbi5wdXNoKERyb3BDb0NJRC5wcm9jZXNzSXRlbSh1c2VDb0NJRCwgaXRlbSkpXG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7IFtgc3lzdGVtLiR7Y29sbGVjdGlvbk5hbWV9YF06IGNvbGxlY3Rpb24gfSlcbiAgfVxuXG4gIGFzeW5jIF9vblJlbW92ZVNlY3Rpb24gKGV2ZW50KSB7XG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBkaXYgPSBhLmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBiaW8gPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5iaW9TZWN0aW9ucylcbiAgICBiaW8uc3BsaWNlKE51bWJlcihkaXYuZGF0YXNldC5pbmRleCksIDEpXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0uYmlvU2VjdGlvbnMnOiBiaW8gfSlcbiAgfVxuXG4gIGFzeW5jIF9vbkFkZEJpbyAoKSB7XG4gICAgY29uc3QgYmlvID0gdGhpcy5pdGVtLnN5c3RlbS5iaW9TZWN0aW9ucyA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmJpb1NlY3Rpb25zKSA6IFtdXG4gICAgYmlvLnB1c2gobnVsbClcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ3N5c3RlbS5iaW9TZWN0aW9ucyc6IGJpbyB9KVxuICB9XG5cbiAgX29uQWRkTW9uZXRhcnkgKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuaXRlbS5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzKSA6IFtdXG4gICAgdmFsdWVzLnB1c2goe1xuICAgICAgbmFtZTogJycsXG4gICAgICBtaW46IG51bGwsXG4gICAgICBtYXg6IG51bGwsXG4gICAgICBjYXNoVHlwZTogMCxcbiAgICAgIGNhc2hWYWx1ZTogJycsXG4gICAgICBhc3NldHNUeXBlOiAwLFxuICAgICAgYXNzZXRzVmFsdWU6ICcnLFxuICAgICAgc3BlbmRpbmdUeXBlOiAwLFxuICAgICAgc3BlbmRpbmdWYWx1ZTogJydcbiAgICB9KVxuICAgIHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyc6IHZhbHVlcyB9KVxuICB9XG5cbiAgX29uUmVtb3ZlTW9uZXRhcnkgKGV2ZW50KSB7XG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBkaXYgPSBhLmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCB2YWx1ZXMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMpXG4gICAgdmFsdWVzLnNwbGljZShOdW1iZXIoZGl2LmRhdGFzZXQuaW5kZXgpLCAxKVxuICAgIHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyc6IHZhbHVlcyB9KVxuICB9XG5cbiAgX29uSXRlbVN1bW1hcnkgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0uZmluZChzID0+IHtcbiAgICAgIHJldHVybiBzLl9pZCA9PT0gbGkuZGF0YSgnaXRlbS1pZCcpXG4gICAgfSlcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBjaGF0RGF0YSA9IGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uXG5cbiAgICAvLyBUb2dnbGUgc3VtbWFyeVxuICAgIGlmIChsaS5oYXNDbGFzcygnZXhwYW5kZWQnKSkge1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IGxpLmNoaWxkcmVuKCcuaXRlbS1zdW1tYXJ5JylcbiAgICAgIHN1bW1hcnkuc2xpZGVVcCgyMDAsICgpID0+IHN1bW1hcnkucmVtb3ZlKCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpdiA9ICQoYDxkaXYgY2xhc3M9XCJpdGVtLXN1bW1hcnlcIj4ke2NoYXREYXRhLnZhbHVlfTwvZGl2PmApXG4gICAgICBjb25zdCBwcm9wcyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXByb3BlcnRpZXNcIj48L2Rpdj4nKVxuICAgICAgLy8gZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLnByb3BlcnRpZXMpIHsgcHJvcHMuYXBwZW5kKGA8c3BhbiBjbGFzcz1cInRhZ1wiPiR7cH08L3NwYW4+YCkgfVxuICAgICAgZGl2LmFwcGVuZChwcm9wcylcbiAgICAgIGxpLmFwcGVuZChkaXYuaGlkZSgpKVxuICAgICAgZGl2LnNsaWRlRG93bigyMDApXG4gICAgfVxuICAgIGxpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpXG4gIH1cblxuICBhc3luYyBfb25JdGVtRGVsZXRlIChldmVudCwgY29sbGVjdGlvbk5hbWUgPSAnaXRlbXMnKSB7XG4gICAgY29uc3QgaXRlbSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW1JZCA9IGl0ZW0uZGF0YSgnaXRlbS1pZCcpXG4gICAgY29uc3QgQ29DSWQgPSBpdGVtLmRhdGEoJ2NvY2lkJylcbiAgICBjb25zdCBpdGVtSW5kZXggPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXS5maW5kSW5kZXgoaSA9PiAoaXRlbUlkICYmIGkuX2lkID09PSBpdGVtSWQpIHx8IChDb0NJZCAmJiBpID09PSBDb0NJZCkpXG4gICAgaWYgKGl0ZW1JbmRleCA+IC0xKSB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0gPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0pIDogW11cbiAgICAgIGNvbGxlY3Rpb24uc3BsaWNlKGl0ZW1JbmRleCwgMSlcbiAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyBbYHN5c3RlbS4ke2NvbGxlY3Rpb25OYW1lfWBdOiBjb2xsZWN0aW9uIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnc2V0dXAnXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9zZXR1cC5odG1sJyxcbiAgICAgIHdpZHRoOiA1NjUsXG4gICAgICBoZWlnaHQ6IDUzMCxcbiAgICAgIGRyYWdEcm9wOiBbeyBkcmFnU2VsZWN0b3I6ICcuaXRlbScgfV0sXG4gICAgICBzY3JvbGxZOiBbJy50YWIuZGVzY3JpcHRpb24nXSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdmlnYXRpb24nLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5oYXNPd25lciA9IHRoaXMuaXRlbS5pc0VtYmVkZGVkID09PSB0cnVlXG5cbiAgICBjb25zdCBlcmEgPSBPYmplY3QuZW50cmllcyh0aGlzLml0ZW0uZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhcyA/PyB7fSkuZmlsdGVyKGUgPT4gZVsxXSkubWFwKGUgPT4gZVswXSlcblxuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiB0aGlzLml0ZW0uc3lzdGVtLml0ZW1zLCBlcmE6ICh0eXBlb2YgZXJhWzBdICE9PSAndW5kZWZpbmVkJyA/IGVyYVswXSA6IHRydWUpIH0pXG5cbiAgICBzaGVldERhdGEuc2tpbGxzID0gaXRlbXMuZmlsdGVyKGl0ID0+IGl0LnR5cGUgPT09ICdza2lsbCcpXG4gICAgc2hlZXREYXRhLm90aGVySXRlbXMgPSBpdGVtcy5maWx0ZXIoaXQgPT4gaXQudHlwZSAhPT0gJ3NraWxsJylcblxuICAgIHNoZWV0RGF0YS5za2lsbExpc3RFbXB0eSA9IHNoZWV0RGF0YS5za2lsbHMubGVuZ3RoID09PSAwXG4gICAgc2hlZXREYXRhLml0ZW1zTGlzdEVtcHR5ID0gc2hlZXREYXRhLm90aGVySXRlbXMubGVuZ3RoID09PSAwXG5cbiAgICBzaGVldERhdGEuc2tpbGxzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgc2hlZXREYXRhLl9lcmFzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmVyYXMpKSB7XG4gICAgICBzaGVldERhdGEuX2VyYXMucHVzaCh7XG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZSksXG4gICAgICAgIGlzRW5hYmxlZDogKHRoaXMuaXRlbS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzID8/IHt9KVtrZXldID09PSB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgICBzaGVldERhdGEuX2VyYXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEuX21vbmV0YXJ5Rm9ybWF0cyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgaW4gQ09DNy5tb25ldGFyeUZvcm1hdHMpIHtcbiAgICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlGb3JtYXRzLnB1c2goeyBrZXksIHZhbDogZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubW9uZXRhcnlGb3JtYXRzW2tleV0pIH0pXG4gICAgfVxuXG4gICAgc2hlZXREYXRhLnNob3dDdXJyZW5jeVN5bWJvbCA9IFsnZGVjaW1hbExlZnQnLCAnZGVjaW1hbFJpZ2h0JywgJ2ludGVnZXJMZWZ0JywgJ2ludGVnZXJSaWdodCddLmluY2x1ZGVzKHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQpXG5cbiAgICBzaGVldERhdGEuX21vbmV0YXJ5VHlwZXMgPSBbXVxuICAgIGZvciAoY29uc3Qga2V5IGluIENPQzcubW9uZXRhcnlUeXBlcykge1xuICAgICAgaWYgKENPQzcubW9uZXRhcnlUeXBlc1trZXldLmZpbHRlci5sZW5ndGggPT09IDAgfHwgQ09DNy5tb25ldGFyeVR5cGVzW2tleV0uZmlsdGVyLmluY2x1ZGVzKHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQpKSB7XG4gICAgICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlUeXBlcy5wdXNoKHsga2V5LCB2YWw6IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm1vbmV0YXJ5VHlwZXNba2V5XS5uYW1lKSB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5vbmVCbG9ja0JhY2tTdG9yeSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ29uZUJsb2NrQmFja3N0b3J5JylcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZEJhY2tzdG9yeSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5iYWNrc3RvcnksXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBjb25zdCBzeXN0ZW0gPSBleHBhbmRPYmplY3QoZm9ybURhdGEpPy5zeXN0ZW1cbiAgICBpZiAoc3lzdGVtLmJpb1NlY3Rpb25zKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLmJpb1NlY3Rpb25zJ10gPSBPYmplY3QudmFsdWVzKFxuICAgICAgICBzeXN0ZW0uYmlvU2VjdGlvbnMgfHwgW11cbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHN5c3RlbS5tb25ldGFyeS52YWx1ZXMpIHtcbiAgICAgIGZvcm1EYXRhWydzeXN0ZW0ubW9uZXRhcnkudmFsdWVzJ10gPSBPYmplY3QudmFsdWVzKHN5c3RlbS5tb25ldGFyeS52YWx1ZXMgfHwgW10pXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQ/Lm5hbWUgPT09ICdzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvaW50cy5lbmFibGVkJykge1xuICAgICAgZm9ybURhdGFbJ3N5c3RlbS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHMuZW5hYmxlZCddID0gIWV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZFxuICAgIH1cblxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0Py5uYW1lID09PSAnc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5lbmFibGVkJykge1xuICAgICAgZm9ybURhdGFbJ3N5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLmVuYWJsZWQnXSA9ICFldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWRcbiAgICB9XG5cbiAgICBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIEl0ZW1TaGVldCwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgQ29DN0FjdGl2ZUVmZmVjdCBmcm9tICcuLi8uLi9hY3RpdmUtZWZmZWN0LmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBpc0N0cmxLZXkgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN1NraWxsU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICBjb25zdHJ1Y3RvciAoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpXG4gICAgdGhpcy5fc2hlZXRUYWIgPSAnaXRlbXMnXG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIFNpbXBsZSBJdGVtIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdpdGVtJ10sXG4gICAgICB3aWR0aDogNTIwLFxuICAgICAgaGVpZ2h0OiA0ODAsXG4gICAgICBzY3JvbGxZOiBbJy50YWIuZGVzY3JpcHRpb24nXSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdmlnYXRpb24nLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiBgc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy8ke3RoaXMuaXRlbS50eXBlfS1zaGVldC5odG1sYFxuICB9XG5cbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cblxuICAvKipcbiAgICogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGdldERhdGEgKCkge1xuICAgIC8vIHRoaXMuaXRlbS5jaGVja1NraWxsUHJvcGVydGllcygpO1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcbiAgICBzaGVldERhdGEuaGFkTm9uQ2hhcmFjdGVyT3duZXIgPSBzaGVldERhdGEuaGFzT3duZXIgJiYgdGhpcy5hY3Rvcj8udHlwZSAhPT0gJ2NoYXJhY3RlcidcblxuICAgIHNoZWV0RGF0YS5lZmZlY3RzID0gQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyhcbiAgICAgIHRoaXMuaXRlbS5lZmZlY3RzXG4gICAgKVxuXG4gICAgc2hlZXREYXRhLl9wcm9wZXJ0aWVzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LnNraWxsUHJvcGVydGllcykpIHtcbiAgICAgIHNoZWV0RGF0YS5fcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgbmFtZTogdmFsdWUsXG4gICAgICAgIGlzRW5hYmxlZDogdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc2hlZXREYXRhLl9lcmFzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmVyYXMpKSB7XG4gICAgICBzaGVldERhdGEuX2VyYXMucHVzaCh7XG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZSksXG4gICAgICAgIGlzRW5hYmxlZDogKHRoaXMuaXRlbS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzID8/IHt9KVtrZXldID09PSB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgICBzaGVldERhdGEuX2VyYXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEuaXNTcGVjaWFsaXplZCA9IHRoaXMuaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsXG4gICAgc2hlZXREYXRhLmNhbk1vZGlmeVNwZWMgPVxuICAgICAgIXRoaXMuaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtICYmXG4gICAgICAhdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgLy8gRXZlcnl0aGluZyBiZWxvdyBoZXJlIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBzaGVldCBpcyBlZGl0YWJsZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSByZXR1cm5cblxuICAgIGh0bWwuZmluZCgnLnRvZ2dsZS1zd2l0Y2gnKS5jbGljayh0aGlzLl9vbkNsaWNrVG9nZ2xlLmJpbmQodGhpcykpXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIGFzeW5jIF9vbkNsaWNrVG9nZ2xlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBwcm9wZXJ0eUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcudG9nZ2xlLXN3aXRjaCcpLmRhdGFzZXQucHJvcGVydHlcbiAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlUHJvcGVydHkoXG4gICAgICBwcm9wZXJ0eUlkLFxuICAgICAgaXNDdHJsS2V5KGV2ZW50KVxuICAgIClcbiAgfVxuXG4gIC8vIGFzeW5jIF9vbkNsaWNrQXR0cmlidXRlQ29udHJvbChldmVudCkge1xuICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gIC8vICAgY29uc3QgYWN0aW9uID0gYS5kYXRhc2V0LmFjdGlvbjtcbiAgLy8gICBjb25zdCBhdHRycyA9IHRoaXMub2JqZWN0LmRhdGEuZGF0YS5hdHRyaWJ1dGVzO1xuICAvLyAgIGNvbnN0IGZvcm0gPSB0aGlzLmZvcm07XG5cbiAgLy8gICAvLyBBZGQgbmV3IGF0dHJpYnV0ZVxuICAvLyAgIGlmIChhY3Rpb24gPT09IFwiY3JlYXRlXCIpIHtcbiAgLy8gICAgIGNvbnN0IG5rID0gT2JqZWN0LmtleXMoYXR0cnMpLmxlbmd0aCArIDE7XG4gIC8vICAgICBsZXQgbmV3S2V5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgLy8gICAgIG5ld0tleS5pbm5lckhUTUwgPSBgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImRhdGEuYXR0cmlidXRlcy5hdHRyJHtua30ua2V5XCIgdmFsdWU9XCJhdHRyJHtua31cIi8+YDtcbiAgLy8gICAgIG5ld0tleSA9IG5ld0tleS5jaGlsZHJlblswXTtcbiAgLy8gICAgIGZvcm0uYXBwZW5kQ2hpbGQobmV3S2V5KTtcbiAgLy8gICAgIGF3YWl0IHRoaXMuX29uU3VibWl0KGV2ZW50KTtcbiAgLy8gICB9XG5cbiAgLy8gICAvLyBSZW1vdmUgZXhpc3RpbmcgYXR0cmlidXRlXG4gIC8vICAgZWxzZSBpZiAoYWN0aW9uID09PSBcImRlbGV0ZVwiKSB7XG4gIC8vICAgICBjb25zdCBsaSA9IGEuY2xvc2VzdChcIi5hdHRyaWJ1dGVcIik7XG4gIC8vICAgICBsaS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGxpKTtcbiAgLy8gICAgIGF3YWl0IHRoaXMuX29uU3VibWl0KGV2ZW50KTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnQgdGhlIF91cGRhdGVPYmplY3QgbWV0aG9kIGFzIHJlcXVpcmVkIGJ5IHRoZSBwYXJlbnQgY2xhc3Mgc3BlY1xuICAgKiBUaGlzIGRlZmluZXMgaG93IHRvIHVwZGF0ZSB0aGUgc3ViamVjdCBvZiB0aGUgZm9ybSB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgLy8gX3VwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEpIHtcbiAgLy8gICAvLyBIYW5kbGUgdGhlIGZyZWUtZm9ybSBhdHRyaWJ1dGVzIGxpc3RcbiAgLy8gICBjb25zdCBmb3JkID0gZXhwYW5kT2JqZWN0KGZvcm1EYXRhKTtcbiAgLy8gICBjb25zdCBmb3JtQXR0cnMgPSBleHBhbmRPYmplY3QoZm9ybURhdGEpLmRhdGEuYXR0cmlidXRlcyB8fCB7fTtcbiAgLy8gICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LnZhbHVlcyhmb3JtQXR0cnMpLnJlZHVjZSgob2JqLCB2KSA9PiB7XG4gIC8vICAgICBsZXQgayA9IHZbXCJrZXlcIl0udHJpbSgpO1xuICAvLyAgICAgaWYgKC9bXFxzXFwuXS8udGVzdChrKSkgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXCJBdHRyaWJ1dGUga2V5cyBtYXkgbm90IGNvbnRhaW4gc3BhY2VzIG9yIHBlcmlvZHNcIik7XG4gIC8vICAgICBkZWxldGUgdltcImtleVwiXTtcbiAgLy8gICAgIG9ialtrXSA9IHY7XG4gIC8vICAgICByZXR1cm4gb2JqO1xuICAvLyAgIH0sIHt9KTtcblxuICAvLyAgIC8vIFJlbW92ZSBhdHRyaWJ1dGVzIHdoaWNoIGFyZSBubyBsb25nZXIgdXNlZFxuICAvLyAgIGZvciAobGV0IGsgb2YgT2JqZWN0LmtleXModGhpcy5vYmplY3QuZGF0YS5kYXRhLmF0dHJpYnV0ZXMpKSB7XG4gIC8vICAgICBpZiAoIWF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoaykpIGF0dHJpYnV0ZXNbYC09JHtrfWBdID0gbnVsbDtcbiAgLy8gICB9XG5cbiAgLy8gICAvLyBSZS1jb21iaW5lIGZvcm1EYXRhXG4gIC8vICAgZm9ybURhdGEgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSkuZmlsdGVyKGUgPT4gIWVbMF0uc3RhcnRzV2l0aChcImRhdGEuYXR0cmlidXRlc1wiKSkucmVkdWNlKChvYmosIGUpID0+IHtcbiAgLy8gICAgIG9ialtlWzBdXSA9IGVbMV07XG4gIC8vICAgICByZXR1cm4gb2JqO1xuICAvLyAgIH0sIHsgX2lkOiB0aGlzLm9iamVjdC5faWQsIFwiZGF0YS5hdHRyaWJ1dGVzXCI6IGF0dHJpYnV0ZXMgfSk7XG5cbiAgLy8gICAvLyBVcGRhdGUgdGhlIEl0ZW1cbiAgLy8gICByZXR1cm4gdGhpcy5vYmplY3QudXBkYXRlKGZvcm1EYXRhKTtcbiAgLy8gfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHNraWxsTmFtZSA9IGZvcm1EYXRhWydzeXN0ZW0uc2tpbGxOYW1lJ10gfHwgdGhpcy5pdGVtLnN5c3RlbS5za2lsbE5hbWVcbiAgICBpZiAodGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5zcGVjaWFsKSB7XG4gICAgICBjb25zdCBzcGVjaWFsaXphdGlvbiA9IGZvcm1EYXRhWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSB8fCB0aGlzLml0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICBmb3JtRGF0YS5uYW1lID0gc3BlY2lhbGl6YXRpb24gKyAnICgnICsgc2tpbGxOYW1lICsgJyknXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1EYXRhLm5hbWUgPSBza2lsbE5hbWVcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLl91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdTcGVsbFNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvc3BlbGwvbWFpbi5odG1sJyxcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdpdGVtJywgJ3NwZWxsJ10sXG4gICAgICB3aWR0aDogNTAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICByZXNpemFibGU6IGZhbHNlLFxuICAgICAgc2Nyb2xsWTogWycuYm9keSddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcubmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLmJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5oYXNPd25lciA9IHRoaXMuaXRlbS5pc0VtYmVkZGVkID09PSB0cnVlXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEuaXNPd25lciA9IHRoaXMuaXRlbS5pc093bmVyXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaHRtbC5maW5kKCcub3B0aW9uJykuY2xpY2soZXZlbnQgPT4gdGhpcy5tb2RpZnlUeXBlKGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJyNjYXN0LXNwZWxsJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgdGhpcy5pdGVtLmNhc3QoKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBjaGVja2JveGVzIGZvciB0eXBlIHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIGNvcnJlc3BvbmRpbmdcbiAgICogbGFiZWwsIG5vdCBzdXJlIGlmIHRoaXMgd29ya3Mgb24gZW5naW5lcyBvdGhlciB0aGFuIFY4XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBldmVudCBAc2VlIGFjdGl2YXRlTGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtqUXVlcnkuRXZlbnR9IGNsaWNrXG4gICAqL1xuICBtb2RpZnlUeXBlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAvKiogUHJldmVudHMgcHJvcGFnYXRpb24gb2YgdGhlIHNhbWUgZXZlbnQgZnJvbSBiZWluZyBjYWxsZWQgKi9cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGNvbnN0IHRvZ2dsZVN3aXRjaCA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICByZXR1cm4gdG9nZ2xlU3dpdGNoLnByZXYoKS50cmlnZ2VyKCdjbGljaycpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IENvQzdBY3RpdmVFZmZlY3QgZnJvbSAnLi4vLi4vYWN0aXZlLWVmZmVjdC5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdTdGF0dXNTaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnc3RhdHVzJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvc3RhdHVzLmh0bWwnLFxuICAgICAgd2lkdGg6IDUyNSxcbiAgICAgIGhlaWdodDogNDgwLFxuICAgICAgc2Nyb2xsWTogWycudGFiLmRlc2NyaXB0aW9uJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuZWZmZWN0LWNvbnRyb2wnKVxuICAgICAgLmNsaWNrKGV2ID0+IENvQzdBY3RpdmVFZmZlY3Qub25NYW5hZ2VBY3RpdmVFZmZlY3QoZXYsIHRoaXMuaXRlbSkpXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIC8qIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBJdGVtIHNoZWV0XG4gICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAqL1xuICBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKClcbiAgICBzaGVldERhdGEuZWZmZWN0cyA9IENvQzdBY3RpdmVFZmZlY3QucHJlcGFyZUFjdGl2ZUVmZmVjdENhdGVnb3JpZXModGhpcy5pdGVtLmVmZmVjdHMsIHsgc3RhdHVzOiBmYWxzZSB9KVxuXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzID0gW11cblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaXRlbS5zeXN0ZW0udHlwZSkpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMucHVzaChcbiAgICAgICAgICBDT0M3LnN0YXR1c1R5cGVba2V5XSA/IENPQzcuc3RhdHVzVHlwZVtrZXldIDogbnVsbFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbk5vdGVzID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLm5vdGVzLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIEl0ZW1TaGVldCwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3VGFsZW50U2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICAvKipcbiAgICpcbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NoZWV0JywgJ3RhbGVudCddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL3RhbGVudC5odG1sJyxcbiAgICAgIHdpZHRoOiA1MjUsXG4gICAgICBoZWlnaHQ6IDQ4MCxcbiAgICAgIHNjcm9sbFk6IFsnLnRhYi5kZXNjcmlwdGlvbiddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIC8qIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBJdGVtIHNoZWV0XG4gICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAqL1xuICBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5pdGVtUHJvcGVydGllcyA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLml0ZW0uc3lzdGVtLnR5cGUpKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzLnB1c2goXG4gICAgICAgICAgQ09DNy50YWxlbnRUeXBlW2tleV0gPyBDT0M3LnRhbGVudFR5cGVba2V5XSA6IG51bGxcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25Ob3RlcyA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5ub3RlcyxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZ2FtZSwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IENvQzdBY3RvclNoZWV0IH0gZnJvbSAnLi9iYXNlLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1ZlaGljbGVTaGVldCBleHRlbmRzIENvQzdBY3RvclNoZWV0IHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXRWMicsICdhY3RvcicsICdpdGVtJywgJ3ZlaGljbGUnXSxcbiAgICAgIHdpZHRoOiA1NTUsXG4gICAgICBoZWlnaHQ6IDQyMCxcbiAgICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvdmVoaWNsZS5odG1sJyxcbiAgICAgIGRyYWdEcm9wOiBbeyBkcmFnU2VsZWN0b3I6ICcuYWN0b3InLCBkcm9wU2VsZWN0b3I6ICcuZHJvcFpvbmUnIH1dLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2JyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAvLyAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHBlcmltZW50YWxGZWF0dXJlc1dhcm5pbmcnKVxuICAgIC8vIClcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5wcm9wZXJ0aWVzID0gW11cbiAgICBpZiAodGhpcy5hY3Rvci5zeXN0ZW0ucHJvcGVydGllcy5hcm1lZCkge1xuICAgICAgc2hlZXREYXRhLnByb3BlcnRpZXMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQXJtZWRWZWhpY2xlJykpXG4gICAgfVxuXG4gICAgY29uc3QgZXhwYW5kZWQgPSB0aGlzLmFjdG9yLmdldEZsYWcoJ0NvQzcnLCAnZXhwYW5kZWQnKVxuICAgIGlmICh0eXBlb2YgZXhwYW5kZWQgPT09ICd1bmRlZmluZWQnKSBzaGVldERhdGEuZXhwYW5kZWQgPSB0cnVlXG4gICAgZWxzZSBzaGVldERhdGEuZXhwYW5kZWQgPSBleHBhbmRlZFxuICAgIGlmIChzaGVldERhdGEuZXhwYW5kZWQpIHtcbiAgICAgIHNoZWV0RGF0YS5vcHRpb25zLmhlaWdodCA9IDQyMFxuICAgIH0gZWxzZSBzaGVldERhdGEub3B0aW9ucy5oZWlnaHQgPSAnYXV0bydcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25Ob3RlcyA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5ub3RlcyxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICAvLyBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hlZXREYXRhLmRhdGEudHlwZSkpIHtcbiAgICAvLyAgIGlmKCB2YWx1ZSkgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzLnB1c2goIENPQzcuYm9va1R5cGVba2V5XT9DT0M3LmJvb2tUeXBlW2tleV06bnVsbCk7XG4gICAgLy8gfVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLmZpbmQoJy5hZGQtYXJtb3InKS5jbGljayhhc3luYyAoKSA9PiBhd2FpdCB0aGlzLl9vbkFkZEFybW9yKCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5yZW1vdmUtYXJtb3InKVxuICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IGF3YWl0IHRoaXMuX29uUmVtb3ZlQXJtb3IoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnLmV4cGFuZC1idXR0b24nKS5jbGljayh0aGlzLl9vblRvZ2dsZUV4cGFuZC5iaW5kKHRoaXMpKVxuICAgIC8vIEV2ZXJ5dGhpbmcgYmVsb3cgaGVyZSBpcyBvbmx5IG5lZWRlZCBpZiB0aGUgc2hlZXQgaXMgZWRpdGFibGVcbiAgICAvLyBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkgcmV0dXJuO1xuICAgIC8vIGh0bWwub24oJ2Ryb3AnLCAoZXZlbnQpID0+IHRoaXMuX29uRHJvcChldmVudCkpO1xuICAgIC8vIGh0bWwuZmluZCgnLnNwZWxsIC5zcGVsbC1uYW1lIGg0JykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25TcGVsbFN1bW1hcnkoZXZlbnQpKTtcbiAgICAvLyBodG1sLmZpbmQoJy5pdGVtLWRlbGV0ZScpLmNsaWNrKHRoaXMuX29uU3BlbGxEZWxldGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhc3luYyBfb25Ub2dnbGVFeHBhbmQgKCkge1xuICAgIGNvbnN0IGV4cGFuZGVkID0gdGhpcy5hY3Rvci5nZXRGbGFnKCdDb0M3JywgJ2V4cGFuZGVkJylcbiAgICBpZiAoZXhwYW5kZWQpIHtcbiAgICAgIHRoaXMub2xkU2l6ZSA9IHRoaXMucG9zaXRpb24uaGVpZ2h0XG4gICAgICB0aGlzLnBvc2l0aW9uLmhlaWdodCA9ICdhdXRvJyAvLyBSZXNldCB0aGUgc3RvcmVkIHBvc2l0aW9uIHRvIGZvcmNlIHRvIHJlY2FsY3VsYXRlIHdpbmRvdyBzaXplIFRPRE86IFN0b3JlIHByZXZpb3VzIHBvc2l0aW9uIHRvIHJlc3RvcmUgaXQgaW5zdGVhZCBvZiBhdXRvXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb24uaGVpZ2h0ID0gdGhpcy5vbGRTaXplIHx8IDQyMCAvLyBSZXNldCB0aGUgc3RvcmVkIHBvc2l0aW9uIHRvIGZvcmNlIHRvIHJlY2FsY3VsYXRlIHdpbmRvdyBzaXplIFRPRE86IFN0b3JlIHByZXZpb3VzIHBvc2l0aW9uIHRvIHJlc3RvcmUgaXQgaW5zdGVhZCBvZiBhdXRvXG4gICAgfVxuICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2V0RmxhZygnQ29DNycsICdleHBhbmRlZCcsICFleHBhbmRlZClcbiAgfVxuXG4gIGFzeW5jIF9vbkFkZEFybW9yICgpIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUoXG4gICAgICB0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucyB8fCBbXVxuICAgIClcbiAgICBsb2NhdGlvbnMucHVzaCh7IG5hbWU6IG51bGwsIHZhbHVlOiBudWxsIH0pXG4gICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMuYXJtb3IubG9jYXRpb25zJzogbG9jYXRpb25zIH0pXG4gIH1cblxuICBhc3luYyBfb25SZW1vdmVBcm1vciAoZXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgbG9jYXRpb24gPSBidXR0b24uY2xvc2VzdCgnLmFybW9yJylcbiAgICBjb25zdCBpbmRleCA9IGxvY2F0aW9uLmRhdGFzZXQuaW5kZXhcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUoXG4gICAgICB0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucyB8fCBudWxsXG4gICAgKVxuICAgIGlmICghbG9jYXRpb25zKSByZXR1cm5cbiAgICBsb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKVxuICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlKHsgJ3N5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucyc6IGxvY2F0aW9ucyB9KVxuICB9XG5cbiAgb25DbG9zZVNoZWV0ICgpIHtcbiAgICBzdXBlci5vbkNsb3NlU2hlZXQoKVxuICAgIC8vIHRoaXMuYWN0b3IubG9ja2VkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qICBGb3JtIFN1Ym1pc3Npb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHN5c3RlbSA9IGV4cGFuZE9iamVjdChmb3JtRGF0YSk/LnN5c3RlbVxuICAgIGlmIChzeXN0ZW0uYXR0cmlicy5hcm1vci5sb2NhdGlvbnMpIHtcbiAgICAgIGZvcm1EYXRhWydzeXN0ZW0uYXR0cmlicy5hcm1vci5sb2NhdGlvbnMnXSA9IE9iamVjdC52YWx1ZXMoXG4gICAgICAgIHN5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucyB8fCBbXVxuICAgICAgKVxuICAgIH1cblxuICAgIHN1cGVyLl91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyBpc0N0cmxLZXkgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdXZWFwb25TaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnaXRlbSddLFxuICAgICAgd2lkdGg6IDU0NSxcbiAgICAgIGhlaWdodDogNDgwLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtdGFicycsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdza2lsbHMnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIGNvbnN0IHBhdGggPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcydcbiAgICByZXR1cm4gYCR7cGF0aH0vd2VhcG9uLXNoZWV0Lmh0bWxgXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIGRhdGEgZm9yIHJlbmRlcmluZyB0aGUgSXRlbSBzaGVldFxuICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuY29tYmF0U2tpbGwgPSBbXVxuXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcbiAgICBpZiAoc2hlZXREYXRhLmhhc093bmVyKSB7XG4gICAgICBzaGVldERhdGEuZmlyZWFybVNraWxscyA9IHRoaXMuYWN0b3IuZmlyZWFybVNraWxsc1xuICAgICAgc2hlZXREYXRhLmZpZ2h0aW5nU2tpbGxzID0gdGhpcy5hY3Rvci5maWdodGluZ1NraWxsc1xuICAgICAgc2hlZXREYXRhLmNvbWJhdFNraWxsID0gdGhpcy5pdGVtLmFjdG9yLml0ZW1zLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBzaGVldERhdGEuY29tYmF0U2tpbGwuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgfVxuXG4gICAgc2hlZXREYXRhLl9wcm9wZXJ0aWVzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LndlYXBvblByb3BlcnRpZXMpKSB7XG4gICAgICBzaGVldERhdGEuX3Byb3BlcnRpZXMucHVzaCh7XG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIG5hbWU6IHZhbHVlLFxuICAgICAgICBpc0VuYWJsZWQ6IHRoaXMuaXRlbS5zeXN0ZW0ucHJvcGVydGllc1trZXldID09PSB0cnVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5fZXJhcyA9IFtdXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5lcmFzKSkge1xuICAgICAgc2hlZXREYXRhLl9lcmFzLnB1c2goe1xuICAgICAgICBwcmljZTogdGhpcy5pdGVtLnN5c3RlbS5wcmljZVtrZXldID8/IDAsXG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZSksXG4gICAgICAgIGlzRW5hYmxlZDogKHRoaXMuaXRlbS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzID8/IHt9KVtrZXldID09PSB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgICBzaGVldERhdGEuX2VyYXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEudXNlc0FsdGVybmF0ZVNraWxsID1cbiAgICAgIHRoaXMuaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5hdXRvID09PSB0cnVlIHx8XG4gICAgICB0aGlzLml0ZW0uc3lzdGVtLnByb3BlcnRpZXMuYnJzdCA9PT0gdHJ1ZSB8fFxuICAgICAgdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnRocm93biA9PT0gdHJ1ZVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblNwZWNpYWwgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24uc3BlY2lhbCxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIHByZXBhcmVkIHNoZWV0IEhUTUxcbiAgICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgLy8gRXZlcnl0aGluZyBiZWxvdyBoZXJlIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBzaGVldCBpcyBlZGl0YWJsZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSByZXR1cm5cbiAgICBodG1sLmZpbmQoJy50b2dnbGUtc3dpdGNoJykuY2xpY2sodGhpcy5fb25DbGlja1RvZ2dsZS5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLndlYXBvbi1wcm9wZXJ0eScpLmNsaWNrKHRoaXMuX29uUHJvcGVydHlDbGljay5iaW5kKHRoaXMpKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICovXG4gIGFzeW5jIF9vbkNsaWNrVG9nZ2xlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBwcm9wZXJ0eUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcudG9nZ2xlLXN3aXRjaCcpLmRhdGFzZXQucHJvcGVydHlcbiAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlUHJvcGVydHkoXG4gICAgICBwcm9wZXJ0eUlkLFxuICAgICAgaXNDdHJsS2V5KGV2ZW50KVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIF9vblByb3BlcnR5Q2xpY2sgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHByb3BlcnR5SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy53ZWFwb24tcHJvcGVydHknKS5kYXRhc2V0LnByb3BlcnR5XG4gICAgYXdhaXQgdGhpcy5pdGVtLnRvZ2dsZVByb3BlcnR5KHByb3BlcnR5SWQpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBnYW1lLCBIb29rcyAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1GaWx0ZXIgKGUpIHtcbiAgY29uc3QgYXBwSWQgPSBlLmN1cnJlbnRUYXJnZXQubmFtZS5yZXBsYWNlKC9eY29jN1teMC05XSsoXFxkKykkLywgJyQxJylcbiAgY29uc3QgYXBwID0gJCgnZGl2LmFwcFtkYXRhLWFwcGlkPScgKyBhcHBJZCArICddJylcbiAgY29uc3QgdHlwZSA9IGFwcC5maW5kKCdzZWxlY3RbbmFtZT1jb2M3dHlwZScgKyBhcHBJZCArICddJykudmFsKClcbiAgY29uc3QgbmFtZSA9IGFwcC5maW5kKCdpbnB1dFtuYW1lPXNlYXJjaF0nKS52YWwoKVxuICBjb25zdCBlcmFFbGVtZW50ID0gYXBwLmZpbmQoJ3NlbGVjdFtuYW1lPWNvYzdlcmEnICsgYXBwSWQgKyAnXScpXG4gIGxldCBlcmEgPSAnJ1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzZXR1cCc6XG4gICAgY2FzZSAnc2tpbGwnOlxuICAgIGNhc2UgJ3dlYXBvbic6XG4gICAgICBlcmFFbGVtZW50LmNsb3Nlc3QoJ2Rpdi5lcmFfc2VsZWN0Jykuc2hvdygpXG4gICAgICBlcmEgPSBlcmFFbGVtZW50LnZhbCgpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICBlcmFFbGVtZW50LmNsb3Nlc3QoJ2Rpdi5lcmFfc2VsZWN0JykuaGlkZSgpXG4gIH1cbiAgY29uc3QgaXRlbXMgPSBhd2FpdCBnYW1lLnBhY2tzLmdldChhcHAuZGF0YSgncGFja0lkJykpPy5nZXREb2N1bWVudHMoKVxuICBpZiAodHlwZW9mIGl0ZW1zID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHNob3cgPSBbXVxuICBjb25zdCBuYW1lRmlsdGVyID0gbmV3IFJlZ0V4cChSZWdFeHAuZXNjYXBlKG5hbWUpLCAnaScpXG4gIGZvciAoY29uc3QgWywgaXRlbV0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbXMpKSB7XG4gICAgbGV0IGZpbHRlciA9IHRydWVcbiAgICBpZiAoZmlsdGVyICYmIG5hbWUgIT09ICcnKSB7XG4gICAgICBmaWx0ZXIgPSBpdGVtLm5hbWUubWF0Y2gobmFtZUZpbHRlcilcbiAgICB9XG4gICAgaWYgKGZpbHRlciAmJiB0eXBlICE9PSAnJykge1xuICAgICAgZmlsdGVyID0gaXRlbS50eXBlID09PSB0eXBlXG4gICAgfVxuICAgIGlmIChmaWx0ZXIgJiYgZXJhICE9PSAnJykge1xuICAgICAgY29uc3QgZXJhcyA9IGl0ZW0uZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhc1xuICAgICAgaWYgKGVyYXMgJiYgT2JqZWN0LmtleXMoZXJhcykubGVuZ3RoID4gMCAmJiAhKGVyYXNbZXJhXSA/PyBmYWxzZSkpIHtcbiAgICAgICAgZmlsdGVyID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpbHRlcikge1xuICAgICAgc2hvdy5wdXNoKGl0ZW0uaWQpXG4gICAgfVxuICB9XG4gIGFwcC5maW5kKCdvbC5kaXJlY3RvcnktbGlzdCBsaScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9IHNob3cuaW5jbHVkZXModGhpcy5kYXRhc2V0LmRvY3VtZW50SWQpXG4gICAgICA/ICdmbGV4J1xuICAgICAgOiAnbm9uZSdcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBlbmRpdW1GaWx0ZXIgKCkge1xuICBIb29rcy5vbigncmVuZGVyQ29tcGVuZGl1bScsIGFzeW5jIChhcHAsIGh0bWwsIGRhdGEpID0+IHtcbiAgICBpZiAoYXBwLmNvbGxlY3Rpb24uZG9jdW1lbnROYW1lID09PSAnSXRlbScpIHtcbiAgICAgIGF3YWl0IGFwcC5jb2xsZWN0aW9uLmdldEluZGV4KClcbiAgICAgIGNvbnN0IHR5cGVzID0gWy4uLm5ldyBTZXQoZGF0YS5pbmRleC5maWx0ZXIoaSA9PiBpLm5hbWUgIT09ICcjW0NGX3RlbXBFbnRpdHldJykubWFwKGl0ZW0gPT4gaXRlbS50eXBlKSldXG4gICAgICBjb25zdCBzZWxlY3QgPSBbXVxuICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICc8b3B0aW9uIHZhbHVlPVwiXCI+JyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbGwnKSArICc8L29wdGlvbj4nXG4gICAgICApXG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ2FyY2hldHlwZScpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiYXJjaGV0eXBlXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuQXJjaGV0eXBlJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCdib29rJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJib29rXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuQm9vaycpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnaXRlbScpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiaXRlbVwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLkl0ZW0nKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ29jY3VwYXRpb24nKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIm9jY3VwYXRpb25cIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5PY2N1cGF0aW9uJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCdzZXR1cCcpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwic2V0dXBcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5TZXR1cCcpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnc2tpbGwnKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cInNraWxsXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuU2tpbGwnKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ3NwZWxsJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJzcGVsbFwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlNwZWxsJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCdzdGF0dXMnKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cInN0YXR1c1wiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlN0YXR1cycpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygndGFsZW50JykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJ0YWxlbnRcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5UYWxlbnQnKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ3dlYXBvbicpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwid2VhcG9uXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuV2VhcG9uJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgY29uc3QgZXJhcyA9IFtdXG4gICAgICBlcmFzLnB1c2goXG4gICAgICAgICc8b3B0aW9uIHZhbHVlPVwiXCI+JyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbGwnKSArICc8L29wdGlvbj4nXG4gICAgICApXG4gICAgICBmb3IgKGNvbnN0IGVyYSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmVyYXMpLm1hcChlID0+IHsgcmV0dXJuIHsgaWQ6IGVbMF0sIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZShlWzFdKSB9IH0pLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KSkge1xuICAgICAgICBlcmFzLnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCInICtcbiAgICAgICAgICAgIGVyYS5pZCArXG4gICAgICAgICAgICAnXCI+JyArXG4gICAgICAgICAgICBlcmEubmFtZSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBodG1sLmRhdGEoJ3BhY2tJZCcsIGFwcC5tZXRhZGF0YS5pZClcbiAgICAgIGxldCB1bmNvbW1vbiA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ta2lsbFJhcml0eVNob3J0JylcbiAgICAgIGlmICh1bmNvbW1vbiA9PT0gJ0NvQzcuU2tpbGxSYXJpdHlTaG9ydCcpIHtcbiAgICAgICAgdW5jb21tb24gPSAnPz8nXG4gICAgICB9XG4gICAgICBodG1sLmZpbmQoJ2xpLmRpcmVjdG9yeS1pdGVtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9ICQodGhpcylcbiAgICAgICAgbGV0IGl0ZW0gPSBbXVxuICAgICAgICBpZiAodHlwZW9mIGRhdGEuaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gREVQUkVDSUFURUQgSU4gdjExXG4gICAgICAgICAgaXRlbSA9IGRhdGEuaW5kZXguZmluZChpID0+IGkuX2lkID09PSByb3cuZGF0YSgnZG9jdW1lbnQtaWQnKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtID0gYXBwLmNvbGxlY3Rpb24uaW5kZXguZ2V0KHJvdy5kYXRhKCdkb2N1bWVudC1pZCcpKVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtICYmIGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIHJvdy5maW5kKCdhJykuaHRtbChpdGVtLm5hbWUgKyAnICgnICsgKGl0ZW0uc3lzdGVtPy5iYXNlID8/ICc/JykgKyAnJScgKyAoKGl0ZW0uc3lzdGVtPy5wcm9wZXJ0aWVzPy5yYXJpdHkgPz8gZmFsc2UpID8gJyAnICsgdW5jb21tb24gOiAnJykgKyAnKScpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCdoZWFkZXIuZGlyZWN0b3J5LWhlYWRlcicpXG4gICAgICAgIC5hZnRlcihcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbXBlbmRpdW1maWx0ZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1zZWFyY2ggZmxleHJvd1wiPjxpIGNsYXNzPVwiZmFzIGZhLWxheWVyLWdyb3VwXCI+PC9pPjxzZWxlY3QgbmFtZT1cImNvYzd0eXBlJyArIGFwcC5hcHBJZCArICdcIiBzdHlsZT1cIlwiPicgKyBzZWxlY3Quam9pbignJykgKyAnPC9zZWxlY3Q+PC9kaXY+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXItc2VhcmNoIGZsZXhyb3cgZXJhX3NlbGVjdFwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+PGkgY2xhc3M9XCJmYXMgZmEtbGF5ZXItZ3JvdXBcIj48L2k+PHNlbGVjdCBuYW1lPVwiY29jN2VyYScgKyBhcHAuYXBwSWQgKyAnXCIgc3R5bGU9XCJcIj4nICsgZXJhcy5qb2luKCcnKSArICc8L3NlbGVjdD48L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICApXG4gICAgICBodG1sLmZpbmQoJ3NlbGVjdCcpLmNoYW5nZShwZXJmb3JtRmlsdGVyLmJpbmQodGhpcykpXG4gICAgICBodG1sLmZpbmQoJ2lucHV0Jykua2V5dXAocGVyZm9ybUZpbHRlci5iaW5kKHRoaXMpKVxuICAgIH1cbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBBY3RvciwgQ2FyZCwgQ09ORklHLCBmbGF0dGVuT2JqZWN0LCBnYW1lLCBJdGVtLCBKb3VybmFsRW50cnksIE1hY3JvLCBQbGF5bGlzdCwgUm9sbFRhYmxlLCBTY2VuZSwgU2NlbmVOYXZpZ2F0aW9uLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0NJRCB7XG4gIHN0YXRpYyBpbml0ICgpIHtcbiAgICBDT05GSUcuQWN0b3IuY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ2ZsYWdzLkNvQzcuY29jaWRGbGFnJylcbiAgICAvLyBDT05GSUcuQ2FyZHMuY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ2ZsYWdzLkNvQzcuY29jaWRGbGFnJylcbiAgICBDT05GSUcuSXRlbS5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnZmxhZ3MuQ29DNy5jb2NpZEZsYWcnKVxuICAgIENPTkZJRy5JdGVtLmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdzeXN0ZW0uYmFzZScpXG4gICAgQ09ORklHLkl0ZW0uY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ3N5c3RlbS5wcm9wZXJ0aWVzJylcbiAgICBDT05GSUcuSm91cm5hbEVudHJ5LmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgQ09ORklHLk1hY3JvLmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgQ09ORklHLlBsYXlsaXN0LmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgQ09ORklHLlJvbGxUYWJsZS5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnZmxhZ3MuQ29DNy5jb2NpZEZsYWcnKVxuICAgIENPTkZJRy5TY2VuZS5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnZmxhZ3MuQ29DNy5jb2NpZEZsYWcnKVxuICAgIGdhbWUuc3lzdGVtLmFwaSA9IHtcbiAgICAgIGNvY2lkOiBDb0NJRFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIFJlZ0V4cCBmb3IgdmFsaWQgdHlwZSBhbmQgZm9ybWF0XG4gICAqIEByZXR1cm5zIFJlZ0V4cFxuICAgKi9cbiAgc3RhdGljIHJlZ0V4S2V5ICgpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXignICsgT2JqZWN0LmtleXMoQ29DSUQuZ2FtZVByb3BlcnR5TG9va3VwKS5qb2luKCd8JykgKyAnKVxcXFwuKC4qPylcXFxcLiguKykkJylcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQ29DSUQgdHlwZS5zdWJ0eXBlLiBiYXNlZCBvbiBkb2N1bWVudFxuICAgKiBAcGFyYW0gZG9jdW1lbnRcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgZ2V0UHJlZml4IChkb2N1bWVudCkge1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiBDb0NJRC5kb2N1bWVudE5hbWVMb29rdXApIHtcbiAgICAgIGlmIChkb2N1bWVudCBpbnN0YW5jZW9mIENvQ0lELmRvY3VtZW50TmFtZUxvb2t1cFt0eXBlXSkge1xuICAgICAgICByZXR1cm4gdHlwZSArICcuJyArIChkb2N1bWVudC50eXBlID8/ICcnKSArICcuJ1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQ29DSUQgdHlwZS5zdWJ0eXBlLm5hbWUgYmFzZWQgb24gZG9jdW1lbnRcbiAgICogQHBhcmFtIGRvY3VtZW50XG4gICAqIEByZXR1cm5zIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIGd1ZXNzSWQgKGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIENvQ0lELmdldFByZWZpeChkb2N1bWVudCkgKyBDb0M3VXRpbGl0aWVzLnRvS2ViYWJDYXNlKGRvY3VtZW50Lm5hbWUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IENvQ0lEIHR5cGUuc3VidHlwZS5wYXJ0aWFsLW5hbWUoLXJlbW92ZWQpXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgZ3Vlc3NHcm91cEZyb21LZXkgKGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBjb25zdCBrZXkgPSBpZC5yZXBsYWNlKC8oW15cXFxcLi1dKykkLywgJycpXG4gICAgICBpZiAoa2V5LnN1YnN0cigtMSkgPT09ICctJykge1xuICAgICAgICByZXR1cm4ga2V5XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBDb0NJRCB0eXBlLnN1YnR5cGUucGFydGlhbC1uYW1lKC1yZW1vdmVkKVxuICAgKiBAcGFyYW0gZG9jdW1lbnRcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgZ3Vlc3NHcm91cEZyb21Eb2N1bWVudCAoZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gQ29DSUQuZ3Vlc3NHcm91cEZyb21LZXkoZG9jdW1lbnQuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cmFuc2xhdGlvbiBvZiBlcmEga2V5XG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgZXJhVGV4dCAoZXJhKSB7XG4gICAgaWYgKGVyYSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQW55JylcbiAgICB9IGVsc2UgaWYgKGVyYSA9PT0gdHJ1ZSkge1xuICAgICAgZXJhID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKVxuICAgIH1cblxuICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KENPQzcuZXJhc1tlcmFdID8/ICdDb0M3LkNvQ0lERmxhZy5lcnJvci51bmtub3duLWVyYScsIHsgZXJhIH0pXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgd2l0aCBtYXRjaGluZyBDb0NJRHMsIGxhbmd1YWdlLCBhbmQgZXJhc1xuICAgKiB1aS5ub3RpZmljYXRpb25zLndhcm4gZm9yIG1pc3Npbmcga2V5c1xuICAgKiBAcGFyYW0gaXRlbUxpc3QgYXJyYXkgb2YgQ29DSURzXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0ICgnZW4nLCAnZXMnLCAuLi4pXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSBzaG93TG9hZGluZyBTaG93IGxvYWRpbmcgYmFyXG4gICAqIEByZXR1cm5zIGFycmF5XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZXhwYW5kSXRlbUFycmF5ICh7IGl0ZW1MaXN0LCBsYW5nID0gZ2FtZS5pMThuLmxhbmcsIGVyYSA9IHRydWUsIGxhbmdGYWxsYmFjayA9IHRydWUsIHNob3dMb2FkaW5nID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgbGV0IGl0ZW1zID0gW11cbiAgICBjb25zdCBjb2NpZHMgPSBpdGVtTGlzdC5maWx0ZXIoaXQgPT4gdHlwZW9mIGl0ID09PSAnc3RyaW5nJylcbiAgICBpdGVtcyA9IGl0ZW1MaXN0LmZpbHRlcihpdCA9PiB0eXBlb2YgaXQgIT09ICdzdHJpbmcnKVxuXG4gICAgaWYgKGNvY2lkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGZvdW5kID0gYXdhaXQgQ29DSUQuZnJvbUNvQ0lEUmVnZXhCZXN0KHsgY29jaWRSZWdFeHA6IENvQ0lELm1ha2VHcm91cFJlZ0V4KGNvY2lkcyksIHR5cGU6ICdpJywgbGFuZywgZXJhLCBsYW5nRmFsbGJhY2ssIHNob3dMb2FkaW5nIH0pXG4gICAgICBjb25zdCBhbGwgPSBbXVxuICAgICAgZm9yIChjb25zdCBjb2NpZCBvZiBjb2NpZHMpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGZvdW5kLmZpbmQoaSA9PiBpLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkID09PSBjb2NpZClcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICBhbGwucHVzaChpdGVtKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsLmxlbmd0aCA8IGNvY2lkcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgbm90bWlzc2luZyA9IFtdXG4gICAgICAgIGZvciAoY29uc3QgZG9jIG9mIGFsbCkge1xuICAgICAgICAgIG5vdG1pc3NpbmcucHVzaChkb2MuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGVyYSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3dvcmxkRXJhJylcbiAgICAgICAgfVxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Db0NJREZsYWcuZXJyb3IuZG9jdW1lbnRzLW5vdC1mb3VuZCcsIHsgY29jaWRzOiBjb2NpZHMuZmlsdGVyKHggPT4gIW5vdG1pc3NpbmcuaW5jbHVkZXMoeCkpLmpvaW4oJywgJyksIGxhbmcsIGVyYTogQ29DSUQuZXJhVGV4dChlcmEpIH0pKVxuICAgICAgfVxuICAgICAgaXRlbXMgPSBpdGVtcy5jb25jYXQoYWxsKVxuICAgIH1cbiAgICByZXR1cm4gaXRlbXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGl0ZW0gd2l0aCBtYXRjaGluZyBDb0NJRHMgZnJvbSBsaXN0XG4gICAqIEVtcHR5IGFycmF5IHJldHVybiBmb3IgbWlzc2luZyBrZXlzXG4gICAqIEBwYXJhbSBjb2NpZCBhIHNpbmdsZSBjb2NpZFxuICAgKiBAcGFyYW0gbGlzdCBhcnJheSBvZiBpdGVtc1xuICAgKiBAcmV0dXJucyBhcnJheVxuICAgKi9cbiAgc3RhdGljIGZpbmRDb2NJZEluTGlzdCAoY29jaWQsIGxpc3QpIHtcbiAgICBsZXQgaXRlbU5hbWUgPSAnJ1xuICAgIGNvbnN0IENvQ0lES2V5cyA9IGZsYXR0ZW5PYmplY3QoZ2FtZS5pMThuLnRyYW5zbGF0aW9ucy5Db0M3LkNvQ0lERmxhZy5rZXlzKVxuICAgIGlmICh0eXBlb2YgQ29DSURLZXlzW2NvY2lkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGl0ZW1OYW1lID0gQ29DSURLZXlzW2NvY2lkXVxuICAgIH1cbiAgICByZXR1cm4gKHR5cGVvZiBsaXN0LmZpbHRlciA9PT0gJ3VuZGVmaW5lZCcgPyBPYmplY3QudmFsdWVzKGxpc3QpIDogbGlzdCkuZmlsdGVyKGkgPT4gaS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5pZCA9PT0gY29jaWQgfHwgKGl0ZW1OYW1lICE9PSAnJyAmJiBpdGVtTmFtZSA9PT0gaS5uYW1lKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIFJlZ0V4cCBtYXRjaGluZyBhbGwgc3RyaW5ncyBpbiBhcnJheVxuICAgKiBAcGFyYW0gY29jaWRzIGFuIGFycmF5IG9mIENvQ0lEIHN0cmluZ3NcbiAgICogQHBhcmFtIGxpc3QgYXJyYXkgb2YgaXRlbXNcbiAgICogQHJldHVybnMgUmVnRXhwXG4gICAqL1xuICBzdGF0aWMgbWFrZUdyb3VwUmVnRXggKGNvY2lkcykge1xuICAgIGlmICh0eXBlb2YgY29jaWRzID09PSAnc3RyaW5nJykge1xuICAgICAgY29jaWRzID0gW2NvY2lkc11cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2NpZHMgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBjb2NpZHMuZmlsdGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGNvbnN0IHNwbGl0cyA9IHt9XG4gICAgY29uc3Qgcmd4ID0gQ29DSUQucmVnRXhLZXkoKVxuICAgIGZvciAoY29uc3QgaSBvZiBjb2NpZHMpIHtcbiAgICAgIGNvbnN0IGtleSA9IGkubWF0Y2gocmd4KVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHNwbGl0c1trZXlbMV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNwbGl0c1trZXlbMV1dID0ge31cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNwbGl0c1trZXlbMV1dW2tleVsyXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc3BsaXRzW2tleVsxXV1ba2V5WzJdXSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgc3BsaXRzW2tleVsxXV1ba2V5WzJdXS5wdXNoKGtleVszXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNsaWVudGx5IGVycm9yXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlZ0V4UGFydHMgPSBbXVxuICAgIGZvciAoY29uc3QgdCBpbiBzcGxpdHMpIHtcbiAgICAgIGNvbnN0IHJvdyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IHMgaW4gc3BsaXRzW3RdKSB7XG4gICAgICAgIGlmIChzcGxpdHNbdF1bc10ubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJvdy5wdXNoKHMgKyAnXFxcXC4nICsgJygnICsgc3BsaXRzW3RdW3NdLmpvaW4oJ3wnKSArICcpJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucHVzaChzICsgJ1xcXFwuJyArIHNwbGl0c1t0XVtzXS5qb2luKCcnKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJvdy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJlZ0V4UGFydHMucHVzaCh0ICsgJ1xcXFwuJyArICcoJyArIHJvdy5qb2luKCd8JykgKyAnKScpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWdFeFBhcnRzLnB1c2godCArICdcXFxcLicgKyByb3cuam9pbignJykpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZWdFeFBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdeKCcgKyByZWdFeFBhcnRzLmpvaW4oJ3wnKSArICcpJCcpXG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHJlZ0V4UGFydHMuam9pbignJykgKyAnJCcpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgZG9jdW1lbnRzIHdpdGggYW4gQ29DSUQgbWF0Y2hpbmcgdGhlIHJlZ2V4IGFuZCBtYXRjaGluZyB0aGUgZG9jdW1lbnQgdHlwZVxuICAgKiBhbmQgbGFuZ3VhZ2UsIGZyb20gdGhlIHNwZWNpZmllZCBzY29wZS5cbiAgICogRW1wdHkgYXJyYXkgcmV0dXJuIGZvciBubyBtYXRjaGVzXG4gICAqIEBwYXJhbSBjb2NpZFJlZ0V4cCByZWdleCB1c2VkIG9uIHRoZSBDb0NJRFxuICAgKiBAcGFyYW0gdHlwZSB0aGUgZmlyc3QgcGFydCBvZiB0aGUgd2FudGVkIENvQ0lELCBmb3IgZXhhbXBsZSAnaScsICdhJywgJ2plJ1xuICAgKiBAcGFyYW0gZXJhIHRoZSBlcmFzIHRvIG1hdGNoIGFnYWluc3QgKCdzdGFuZGFyZCcsICdtb2Rlcm5QdWxwJywgLi4uKSwgdHJ1ZSA9IHdvcmxkIGRlZmF1bHQsIGZhbHNlID0gbm8gZmlsdGVyXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0ICgnZW4nLCAnZXMnLCAuLi4pXG4gICAqIEBwYXJhbSBzY29wZSBkZWZpbmVzIHdoZXJlIGl0IHdpbGwgbG9vazpcbiAgICogKiptYXRjaCoqIHNhbWUgbG9naWMgYXMgZnJvbUNvQ0lEIGZ1bmN0aW9uLFxuICAgKiAqKmFsbCoqOiBmaW5kIGluIGJvdGggd29ybGQgJiBjb21wZW5kaWEsXG4gICAqICoqd29ybGQqKjogb25seSBzZWFyY2ggaW4gd29ybGQsXG4gICAqICoqY29tcGVuZGl1bXMqKjogb25seSBzZWFyY2ggaW4gY29tcGVuZGl1bXNcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSBzaG93TG9hZGluZyBTaG93IGxvYWRpbmcgYmFyXG4gICAqIEByZXR1cm5zIGFycmF5XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZnJvbUNvQ0lEUmVnZXhBbGwgKHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcgPSBnYW1lLmkxOG4ubGFuZywgZXJhID0gZmFsc2UsIHNjb3BlID0gJ21hdGNoJywgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSwgc2hvd0xvYWRpbmcgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoIWNvY2lkUmVnRXhwKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW11cblxuICAgIGxldCBjb3VudCA9IDBcbiAgICBpZiAoc2hvd0xvYWRpbmcpIHtcbiAgICAgIGlmIChbJ21hdGNoJywgJ2FsbCcsICd3b3JsZCddLmluY2x1ZGVzKHNjb3BlKSkge1xuICAgICAgICBjb3VudCsrXG4gICAgICB9XG4gICAgICBpZiAoWydtYXRjaCcsICdhbGwnLCAnY29tcGVuZGl1bXMnXS5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgICAgY291bnQgPSBjb3VudCArIGdhbWUucGFja3Muc2l6ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChbJ21hdGNoJywgJ2FsbCcsICd3b3JsZCddLmluY2x1ZGVzKHNjb3BlKSkge1xuICAgICAgY29uc3Qgd29ybGREb2N1bWVudHMgPSBhd2FpdCBDb0NJRC5kb2N1bWVudHNGcm9tV29ybGQoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZywgZXJhLCBsYW5nRmFsbGJhY2ssIHByb2dyZXNzQmFyOiBjb3VudCB9KVxuICAgICAgaWYgKHNjb3BlID09PSAnbWF0Y2gnICYmIHdvcmxkRG9jdW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBpZiAoc2hvd0xvYWRpbmcpIHtcbiAgICAgICAgICBTY2VuZU5hdmlnYXRpb24uZGlzcGxheVByb2dyZXNzQmFyKHsgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVVAuUGFja2FnZXNMb2FkaW5nJyksIHBjdDogMTAwIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyQWxsQ29DSUQod29ybGREb2N1bWVudHMsIGxhbmdGYWxsYmFjayAmJiBsYW5nICE9PSAnZW4nKVxuICAgICAgfVxuICAgICAgcmVzdWx0LnNwbGljZSgwLCAwLCAuLi53b3JsZERvY3VtZW50cylcbiAgICB9XG5cbiAgICBpZiAoWydtYXRjaCcsICdhbGwnLCAnY29tcGVuZGl1bXMnXS5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgIGNvbnN0IGNvbXBlbmRpYURvY3VtZW50cyA9IGF3YWl0IENvQ0lELmRvY3VtZW50c0Zyb21Db21wZW5kaWEoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZywgZXJhLCBsYW5nRmFsbGJhY2ssIHByb2dyZXNzQmFyOiBjb3VudCB9KVxuXG4gICAgICByZXN1bHQuc3BsaWNlKHJlc3VsdC5sZW5ndGgsIDAsIC4uLmNvbXBlbmRpYURvY3VtZW50cylcbiAgICB9XG5cbiAgICBpZiAoc2hvd0xvYWRpbmcpIHtcbiAgICAgIFNjZW5lTmF2aWdhdGlvbi5kaXNwbGF5UHJvZ3Jlc3NCYXIoeyBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRVUC5QYWNrYWdlc0xvYWRpbmcnKSwgcGN0OiAxMDAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5maWx0ZXJBbGxDb0NJRChyZXN1bHQsIGxhbmdGYWxsYmFjayAmJiBsYW5nICE9PSAnZW4nKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGRvY3VtZW50cyB3aXRoIGFuIENvQ0lELCBsYW5ndWFnZSwgYW5kIGVyYSBmcm9tIHRoZSBzcGVjaWZpZWQgc2NvcGUuXG4gICAqIEVtcHR5IGFycmF5IHJldHVybiBmb3Igbm8gbWF0Y2hlc1xuICAgKiBAcGFyYW0gY29jaWQgYSBzaW5nbGUgY29jaWRcbiAgICogQHBhcmFtIGxhbmcgdGhlIGxhbmd1YWdlIHRvIG1hdGNoIGFnYWluc3QgKCdlbicsICdlcycsIC4uLilcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0LCBmYWxzZSA9IG5vIGZpbHRlclxuICAgKiBAcGFyYW0gc2NvcGUgZGVmaW5lcyB3aGVyZSBpdCB3aWxsIGxvb2s6XG4gICAqICoqbWF0Y2gqKiBzYW1lIGxvZ2ljIGFzIGZyb21Db0NJRCBmdW5jdGlvbixcbiAgICogKiphbGwqKjogZmluZCBpbiBib3RoIHdvcmxkICYgY29tcGVuZGlhLFxuICAgKiAqKndvcmxkKio6IG9ubHkgc2VhcmNoIGluIHdvcmxkLFxuICAgKiAqKmNvbXBlbmRpdW1zKio6IG9ubHkgc2VhcmNoIGluIGNvbXBlbmRpdW1zXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gc2hvd0xvYWRpbmcgU2hvdyBsb2FkaW5nIGJhclxuICAgKiBAcmV0dXJucyBhcnJheVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21Db0NJREFsbCAoeyBjb2NpZCwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSBmYWxzZSwgc2NvcGUgPSAnbWF0Y2gnLCBsYW5nRmFsbGJhY2sgPSB0cnVlLCBzaG93TG9hZGluZyA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGlmICghY29jaWQgfHwgdHlwZW9mIGNvY2lkICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGNvbnN0IHBhcnRzID0gY29jaWQubWF0Y2goQ29DSUQucmVnRXhLZXkoKSlcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgaWYgKGxhbmcgPT09ICcnKSB7XG4gICAgICBsYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICB9XG4gICAgcmV0dXJuIENvQ0lELmZyb21Db0NJRFJlZ2V4QWxsKHsgY29jaWRSZWdFeHA6IG5ldyBSZWdFeHAoJ14nICsgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChjb2NpZCkgKyAnJCcpLCB0eXBlOiBwYXJ0c1sxXSwgbGFuZywgZXJhLCBzY29wZSwgbGFuZ0ZhbGxiYWNrLCBzaG93TG9hZGluZyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb25seSB0aGUgaGlnaGVzdCBwcmlvcml0eSBkb2N1bWVudHMgZm9yIGVhY2ggQ29DSUQgdGhhdCBtYXRjaGVzIHRoZSBSZWdFeHAgYW5kXG4gICAqIGxhbmd1YWdlLCB3aXRoIHRoZSBoaWdoZXN0IHByaW9yaXR5IGRvY3VtZW50cyBpbiB0aGUgV29ybGQgdGFraW5nIHByZWNlZGVuY2Ugb3ZlclxuICAgKiBhbnkgZG9jdW1lbnRzIGluIGNvbXBlbmRpdW0gcGFja3MuXG4gICAqIEVtcHR5IGFycmF5IHJldHVybiBmb3Igbm8gbWF0Y2hlc1xuICAgKiBAcGFyYW0gY29jaWRSZWdFeHAgcmVnZXggdXNlZCBvbiB0aGUgQ29DSURcbiAgICogQHBhcmFtIHR5cGUgdGhlIGZpcnN0IHBhcnQgb2YgdGhlIHdhbnRlZCBDb0NJRCwgZm9yIGV4YW1wbGUgJ2knLCAnYScsICdqZSdcbiAgICogQHBhcmFtIGxhbmcgdGhlIGxhbmd1YWdlIHRvIG1hdGNoIGFnYWluc3QgKFwiZW5cIiwgXCJlc1wiLCAuLi4pXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdFxuICAgKiBAcGFyYW0gbGFuZ0ZhbGxiYWNrIHNob3VsZCB0aGUgc3lzdGVtIGZhbGwgYmFjayB0byBlbiBpbmNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIHNob3dMb2FkaW5nIFNob3cgbG9hZGluZyBiYXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBmcm9tQ29DSURSZWdleEJlc3QgKHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcgPSBnYW1lLmkxOG4ubGFuZywgZXJhID0gdHJ1ZSwgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSwgc2hvd0xvYWRpbmcgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoZXJhID09PSBmYWxzZSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5lcnJvci51bmtub3duLWVyYScsIHsgZXJhOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQW55JykgfSkpXG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgYWxsRG9jdW1lbnRzID0gYXdhaXQgdGhpcy5mcm9tQ29DSURSZWdleEFsbCh7IGNvY2lkUmVnRXhwLCB0eXBlLCBsYW5nLCBlcmEsIHNjb3BlOiAnYWxsJywgbGFuZ0ZhbGxiYWNrLCBzaG93TG9hZGluZyB9KVxuICAgIGNvbnN0IGJlc3REb2N1bWVudHMgPSB0aGlzLmZpbHRlckJlc3RDb0NJRChhbGxEb2N1bWVudHMpXG4gICAgcmV0dXJuIGJlc3REb2N1bWVudHNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG9ubHkgdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZG9jdW1lbnQgZm9yIENvQ0lEIHRoYXQgbWF0Y2hlcyB0aGUgbGFuZ3VhZ2UsXG4gICAqIHdpdGggdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZG9jdW1lbnRzIGluIHRoZSBXb3JsZCB0YWtpbmcgcHJlY2VkZW5jZSBvdmVyXG4gICAqIGFueSBkb2N1bWVudHNcbiAgICogaW4gY29tcGVuZGl1bSBwYWNrcy5cbiAgICogQHBhcmFtIGNvY2lkIHN0cmluZyBDb0NJRFxuICAgKiBAcGFyYW0gbGFuZyB0aGUgbGFuZ3VhZ2UgdG8gbWF0Y2ggYWdhaW5zdCAoXCJlblwiLCBcImVzXCIsIC4uLilcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0XG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKi9cbiAgc3RhdGljIGZyb21Db0NJRCAoY29jaWQsIGxhbmcgPSBnYW1lLmkxOG4ubGFuZywgZXJhID0gdHJ1ZSwgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSkge1xuICAgIGlmIChlcmEgPT09IGZhbHNlKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ29DSURGbGFnLmVycm9yLnVua25vd24tZXJhJywgeyBlcmE6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnknKSB9KSlcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICByZXR1cm4gQ29DSUQuZnJvbUNvQ0lEQmVzdCh7IGNvY2lkLCBsYW5nLCBlcmEsIGxhbmdGYWxsYmFjayB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb25seSB0aGUgaGlnaGVzdCBwcmlvcml0eSBkb2N1bWVudCBmb3IgQ29DSUQgdGhhdCBtYXRjaGVzIHRoZSBsYW5ndWFnZSxcbiAgICogd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSBkb2N1bWVudHMgaW4gdGhlIFdvcmxkIHRha2luZyBwcmVjZWRlbmNlIG92ZXJcbiAgICogYW55IGRvY3VtZW50c1xuICAgKiBpbiBjb21wZW5kaXVtIHBhY2tzLlxuICAgKiBAcGFyYW0gY29jaWQgc3RyaW5nIENvQ0lEXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0IChcImVuXCIsIFwiZXNcIiwgLi4uKVxuICAgKiBAcGFyYW0gZXJhIHRoZSBlcmFzIHRvIG1hdGNoIGFnYWluc3QgKCdzdGFuZGFyZCcsICdtb2Rlcm5QdWxwJywgLi4uKSwgdHJ1ZSA9IHdvcmxkIGRlZmF1bHRcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSBzaG93TG9hZGluZyBTaG93IGxvYWRpbmcgYmFyXG4gICAqL1xuICBzdGF0aWMgZnJvbUNvQ0lEQmVzdCAoeyBjb2NpZCwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSB0cnVlLCBsYW5nRmFsbGJhY2sgPSB0cnVlLCBzaG93TG9hZGluZyA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGlmICghY29jaWQgfHwgdHlwZW9mIGNvY2lkICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGlmIChlcmEgPT09IGZhbHNlKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ29DSURGbGFnLmVycm9yLnVua25vd24tZXJhJywgeyBlcmE6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnknKSB9KSlcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBjb25zdCB0eXBlID0gY29jaWQuc3BsaXQoJy4nKVswXVxuICAgIGNvbnN0IGNvY2lkUmVnRXhwID0gbmV3IFJlZ0V4cCgnXicgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKGNvY2lkKSArICckJylcbiAgICByZXR1cm4gQ29DSUQuZnJvbUNvQ0lEUmVnZXhCZXN0KHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcsIGVyYSwgbGFuZ0ZhbGxiYWNrLCBzaG93TG9hZGluZyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMgYWxyZWFkeSBwcm9jZXNzZWQgYnkgZmlsdGVyQWxsQ29DSUQsIHJldHVybnMgb25seSB0aG9zZSB0aGF0IGFyZSB0aGUgXCJiZXN0XCIgdmVyc2lvbiBvZiB0aGVpciBDb0NJRFxuICAgKiBAcGFyYW0gZG9jdW1lbnRzXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBzdGF0aWMgZmlsdGVyQmVzdENvQ0lEIChkb2N1bWVudHMpIHtcbiAgICBjb25zdCBiZXN0TWF0Y2hEb2N1bWVudHMgPSBuZXcgTWFwKClcbiAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgIGNvbnN0IGRvY0NvQ0lEID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmlkXG4gICAgICBpZiAoZG9jQ29DSUQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudERvYyA9IGJlc3RNYXRjaERvY3VtZW50cy5nZXQoZG9jQ29DSUQpXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudERvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGRvY0NvQ0lELCBkb2MpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZWZlciBwYWNrID09PSAnJyBpZiBwb3NzaWJsZVxuICAgICAgICBjb25zdCBkb2NQYWNrID0gKGRvYy5wYWNrID8/ICcnKVxuICAgICAgICBjb25zdCBleGlzdGluZ1BhY2sgPSAoY3VycmVudERvYz8ucGFjayA/PyAnJylcbiAgICAgICAgY29uc3QgcHJlZmVyV29ybGQgPSBkb2NQYWNrID09PSAnJyB8fCBleGlzdGluZ1BhY2sgIT09ICcnXG4gICAgICAgIGlmICghcHJlZmVyV29ybGQpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJlZmVyIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICAgICAgbGV0IGRvY1ByaW9yaXR5ID0gcGFyc2VJbnQoZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LnByaW9yaXR5ID8/IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLCAxMClcbiAgICAgICAgZG9jUHJpb3JpdHkgPSBpc05hTihkb2NQcmlvcml0eSkgPyBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiA6IGRvY1ByaW9yaXR5XG4gICAgICAgIGxldCBleGlzdGluZ1ByaW9yaXR5ID0gcGFyc2VJbnQoY3VycmVudERvYy5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5wcmlvcml0eSA/PyBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiwgMTApXG4gICAgICAgIGV4aXN0aW5nUHJpb3JpdHkgPSBpc05hTihleGlzdGluZ1ByaW9yaXR5KSA/IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSIDogZXhpc3RpbmdQcmlvcml0eVxuICAgICAgICBjb25zdCBwcmVmZXJQcmlvcml0eSA9IGRvY1ByaW9yaXR5ID49IGV4aXN0aW5nUHJpb3JpdHlcbiAgICAgICAgaWYgKCFwcmVmZXJQcmlvcml0eSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGRvY0NvQ0lELCBkb2MpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbLi4uYmVzdE1hdGNoRG9jdW1lbnRzLnZhbHVlcygpXVxuICB9XG5cbiAgLyoqXG4gICAqIEZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMsIHJldHVybnMgZmlsdGVyIG91dCBlbiBkb2N1bWVudHMgaWYgYSB0cmFuc2xhdGVkIG9uZSBleGlzdHMgbWF0Y2hpbmcgdGhlIHNhbWUgZXJhc1xuICAgKiBAcGFyYW0gZG9jdW1lbnRzXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluIGNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHJldHVybnNcbiAgICovXG4gIHN0YXRpYyBmaWx0ZXJBbGxDb0NJRCAoZG9jdW1lbnRzLCBsYW5nRmFsbGJhY2spIHtcbiAgICBpZiAoIWxhbmdGYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGRvY3VtZW50c1xuICAgIH1cbiAgICBjb25zdCBiZXN0TWF0Y2hEb2N1bWVudHMgPSBuZXcgTWFwKClcbiAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgIGNvbnN0IGRvY0NvQ0lEID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmlkXG4gICAgICBpZiAoZG9jQ29DSUQpIHtcbiAgICAgICAgY29uc3QgZG9jRXJhcyA9IE9iamVjdC5lbnRyaWVzKGRvYy5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5lcmFzID8/IHt9KS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiBlWzBdKS5zb3J0KCkuam9pbignLycpXG4gICAgICAgIGxldCBkb2NQcmlvcml0eSA9IHBhcnNlSW50KGRvYy5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5wcmlvcml0eSA/PyBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiwgMTApXG4gICAgICAgIGRvY1ByaW9yaXR5ID0gaXNOYU4oZG9jUHJpb3JpdHkpID8gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIgOiBkb2NQcmlvcml0eVxuICAgICAgICBjb25zdCBrZXkgPSBkb2NDb0NJRCArICcvJyArIGRvY0VyYXMgKyAnLycgKyAoaXNOYU4oZG9jUHJpb3JpdHkpID8gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIgOiBkb2NQcmlvcml0eSlcblxuICAgICAgICBjb25zdCBjdXJyZW50RG9jID0gYmVzdE1hdGNoRG9jdW1lbnRzLmdldChrZXkpXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudERvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGtleSwgZG9jKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkb2NMYW5nID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmxhbmcgPz8gJ2VuJ1xuICAgICAgICBjb25zdCBleGlzdGluZ0xhbmcgPSBjdXJyZW50RG9jPy5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5sYW5nID8/ICdlbidcbiAgICAgICAgaWYgKGV4aXN0aW5nTGFuZyA9PT0gJ2VuJyAmJiBleGlzdGluZ0xhbmcgIT09IGRvY0xhbmcpIHtcbiAgICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGtleSwgZG9jKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbLi4uYmVzdE1hdGNoRG9jdW1lbnRzLnZhbHVlcygpXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGxpc3Qgb2YgYWxsIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgQ29DSUQgcmVnZXgsIGxhbmd1YWdlLCBhbmQgZXJhIGZyb20gdGhlIHdvcmxkLlxuICAgKiBUaGUgZG9jdW1lbnQgbGlzdCBpcyBzb3J0ZWQgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSBmaXJzdC5cbiAgICogQHBhcmFtIGNvY2lkUmVnRXhwIHJlZ2V4IHVzZWQgb24gdGhlIENvQ0lEXG4gICAqIEBwYXJhbSB0eXBlIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSB3YW50ZWQgQ29DSUQsIGZvciBleGFtcGxlICdpJywgJ2EnLCAnamUnXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHBhcmFtIGxhbmcgdGhlIGxhbmd1YWdlIHRvIG1hdGNoIGFnYWluc3QgKCdlbicsICdlcycsIC4uLilcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSBwcm9ncmVzc0JhciBJZiBncmVhdGVyIHRoYW4gemVybyBzaG93IHBlcmNlbnRhZ2VcbiAgICogQHJldHVybnMgYXJyYXlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBkb2N1bWVudHNGcm9tV29ybGQgKHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcgPSBnYW1lLmkxOG4ubGFuZywgZXJhID0gZmFsc2UsIGxhbmdGYWxsYmFjayA9IHRydWUsIHByb2dyZXNzQmFyID0gMCB9ID0ge30pIHtcbiAgICBpZiAoIWNvY2lkUmVnRXhwKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgaWYgKGxhbmcgPT09ICcnKSB7XG4gICAgICBsYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICB9XG4gICAgaWYgKGVyYSA9PT0gdHJ1ZSkge1xuICAgICAgZXJhID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKVxuICAgIH1cblxuICAgIGlmIChwcm9ncmVzc0JhciA+IDApIHtcbiAgICAgIFNjZW5lTmF2aWdhdGlvbi5kaXNwbGF5UHJvZ3Jlc3NCYXIoeyBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRVUC5QYWNrYWdlc0xvYWRpbmcnKSwgcGN0OiBNYXRoLmZsb29yKDEwMCAvIHByb2dyZXNzQmFyKSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGdhbWVQcm9wZXJ0eSA9IENvQ0lELmdldEdhbWVQcm9wZXJ0eShgJHt0eXBlfS4uYClcblxuICAgIGNvbnN0IGNhbmRpZGF0ZURvY3VtZW50cyA9IGdhbWVbZ2FtZVByb3BlcnR5XT8uZmlsdGVyKChkKSA9PiB7XG4gICAgICBjb25zdCBjb2NpZEZsYWcgPSBkLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJylcbiAgICAgIGlmICh0eXBlb2YgY29jaWRGbGFnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVyYXMgPSAoY29jaWRGbGFnLmVyYXMgPz8gW10pXG4gICAgICBjb25zdCBtYXRjaGluZ0VyYXMgPSAoZXJhID09PSBmYWxzZSB8fCBPYmplY3QuZW50cmllcyhlcmFzKS5sZW5ndGggPT09IDAgfHwgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlcmFzLCBlcmEpICYmIGVyYXNbZXJhXSkpXG4gICAgICByZXR1cm4gY29jaWRSZWdFeHAudGVzdChjb2NpZEZsYWcuaWQpICYmIFtsYW5nLCAobGFuZ0ZhbGxiYWNrID8gJ2VuJyA6ICctJyldLmluY2x1ZGVzKGNvY2lkRmxhZy5sYW5nKSAmJiBtYXRjaGluZ0VyYXNcbiAgICB9KVxuXG4gICAgaWYgKGNhbmRpZGF0ZURvY3VtZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICByZXR1cm4gY2FuZGlkYXRlRG9jdW1lbnRzLnNvcnQoQ29DSUQuY29tcGFyZUNvQ0lEUHJpbylcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIGFsbCBkb2N1bWVudHMgbWF0Y2hpbmcgdGhlIENvQ0lEIHJlZ2V4LCBsYW5ndWFnZSwgYW5kIGVyYSBmcm9tIHRoZSBjb21wZW5kaXVtcy5cbiAgICogVGhlIGRvY3VtZW50IGxpc3QgaXMgc29ydGVkIHdpdGggdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZmlyc3QuXG4gICAqIEBwYXJhbSBjb2NpZFJlZ0V4cCByZWdleCB1c2VkIG9uIHRoZSBDb0NJRFxuICAgKiBAcGFyYW0gdHlwZSB0aGUgZmlyc3QgcGFydCBvZiB0aGUgd2FudGVkIENvQ0lELCBmb3IgZXhhbXBsZSAnaScsICdhJywgJ2plJ1xuICAgKiBAcGFyYW0gZXJhIHRoZSBlcmFzIHRvIG1hdGNoIGFnYWluc3QgKCdzdGFuZGFyZCcsICdtb2Rlcm5QdWxwJywgLi4uKSwgdHJ1ZSA9IHdvcmxkIGRlZmF1bHQsIGZhbHNlID0gbm8gZmlsdGVyXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0ICgnZW4nLCAnZXMnLCAuLi4pXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gcHJvZ3Jlc3NCYXIgSWYgZ3JlYXRlciB0aGFuIHplcm8gc2hvdyBwZXJjZW50YWdlXG4gICAqIEByZXR1cm5zIGFycmF5XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZG9jdW1lbnRzRnJvbUNvbXBlbmRpYSAoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSBmYWxzZSwgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSwgcHJvZ3Jlc3NCYXIgPSAwIH0pIHtcbiAgICBpZiAoIWNvY2lkUmVnRXhwKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgaWYgKGxhbmcgPT09ICcnKSB7XG4gICAgICBsYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICB9XG4gICAgaWYgKGVyYSA9PT0gdHJ1ZSkge1xuICAgICAgZXJhID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKVxuICAgIH1cbiAgICBjb25zdCBlcmFUZXh0ID0gQ29DSUQuZXJhVGV4dChlcmEpXG5cbiAgICBjb25zdCBkb2N1bWVudFR5cGUgPSBDb0NJRC5nZXREb2N1bWVudFR5cGUodHlwZSkuc2NoZW1hLm5hbWVcbiAgICBjb25zdCBjYW5kaWRhdGVEb2N1bWVudHMgPSBbXVxuXG4gICAgbGV0IGNvdW50ID0gMVxuICAgIGZvciAoY29uc3QgcGFjayBvZiBnYW1lLnBhY2tzKSB7XG4gICAgICBpZiAocHJvZ3Jlc3NCYXIgPiAwKSB7XG4gICAgICAgIFNjZW5lTmF2aWdhdGlvbi5kaXNwbGF5UHJvZ3Jlc3NCYXIoeyBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRVUC5QYWNrYWdlc0xvYWRpbmcnKSwgcGN0OiBNYXRoLmZsb29yKGNvdW50ICogMTAwIC8gcHJvZ3Jlc3NCYXIpIH0pXG4gICAgICAgIGNvdW50KytcbiAgICAgIH1cbiAgICAgIGlmIChwYWNrLmRvY3VtZW50TmFtZSA9PT0gZG9jdW1lbnRUeXBlKSB7XG4gICAgICAgIGlmICghcGFjay5pbmRleGVkKSB7XG4gICAgICAgICAgYXdhaXQgcGFjay5nZXRJbmRleCgpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXhJbnN0YW5jZXMgPSBwYWNrLmluZGV4LmZpbHRlcigoaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvY2lkRmxhZyA9IGkuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZ1xuICAgICAgICAgIGlmICh0eXBlb2YgY29jaWRGbGFnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVyYXMgPSAoY29jaWRGbGFnLmVyYXMgPz8gW10pXG4gICAgICAgICAgY29uc3QgbWF0Y2hpbmdFcmFzID0gKGVyYSA9PT0gZmFsc2UgfHwgT2JqZWN0LmVudHJpZXMoZXJhcykubGVuZ3RoID09PSAwIHx8IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXJhcywgZXJhKSAmJiBlcmFzW2VyYV0pKVxuICAgICAgICAgIHJldHVybiBjb2NpZFJlZ0V4cC50ZXN0KGNvY2lkRmxhZy5pZCkgJiYgW2xhbmcsIChsYW5nRmFsbGJhY2sgPyAnZW4nIDogJy0nKV0uaW5jbHVkZXMoY29jaWRGbGFnLmxhbmcpICYmIG1hdGNoaW5nRXJhc1xuICAgICAgICB9KVxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGluZGV4SW5zdGFuY2VzKSB7XG4gICAgICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBwYWNrLmdldERvY3VtZW50KGluZGV4Ll9pZClcbiAgICAgICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5lcnJvci5kb2N1bWVudC1ub3QtZm91bmQnLCB7XG4gICAgICAgICAgICAgIGNvY2lkOiBjb2NpZFJlZ0V4cCxcbiAgICAgICAgICAgICAgbGFuZyxcbiAgICAgICAgICAgICAgZXJhOiBlcmFUZXh0XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihtc2cpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29DNyB8JywgbXNnLCBpbmRleClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZURvY3VtZW50cy5wdXNoKGRvY3VtZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlRG9jdW1lbnRzLnNvcnQoQ29DSUQuY29tcGFyZUNvQ0lEUHJpbylcbiAgfVxuXG4gIC8qKlxuICAgKiBTb3J0IGEgbGlzdCBvZiBkb2N1bWVudCBvbiBDb0NJRCBwcmlvcml0eSAtIHRoZSBoaWdoZXN0IGZpcnN0LlxuICAgKiBAZXhhbXBsZVxuICAgKiBhTGlzdE9mRG9jdW1lbnRzLnNvcnQoQ29DSUQuY29tcGFyZUNvQ0lEUHJpbylcbiAgICovXG4gIHN0YXRpYyBjb21wYXJlQ29DSURQcmlvIChhLCBiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGIuZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKT8ucHJpb3JpdHkgLVxuICAgICAgYS5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5wcmlvcml0eVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGVzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgQ29DSUQgdG8gd2hhdCB0aG9zZSBkb2N1bWVudHMgYXJlIGNhbGxlZCBpbiB0aGUgYGdhbWVgIG9iamVjdC5cbiAgICogQHBhcmFtIGNvY2lkIGEgc2luZ2xlIGNvY2lkXG4gICAqL1xuICBzdGF0aWMgZ2V0R2FtZVByb3BlcnR5IChjb2NpZCkge1xuICAgIGNvbnN0IHR5cGUgPSBjb2NpZC5zcGxpdCgnLicpWzBdXG4gICAgY29uc3QgZ2FtZVByb3BlcnR5ID0gQ29DSUQuZ2FtZVByb3BlcnR5TG9va3VwW3R5cGVdXG4gICAgaWYgKCFnYW1lUHJvcGVydHkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5lcnJvci5pbmNvcnJlY3QudHlwZScpKVxuICAgICAgY29uc29sZS5sb2coJ0NvQzcgfCAnLCBjb2NpZClcbiAgICAgIHRocm93IG5ldyBFcnJvcigpXG4gICAgfVxuICAgIHJldHVybiBnYW1lUHJvcGVydHlcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZ2FtZVByb3BlcnR5TG9va3VwICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYTogJ2FjdG9ycycsXG4gICAgICBjOiAnY2FyZHMnLFxuICAgICAgaTogJ2l0ZW1zJyxcbiAgICAgIGplOiAnam91cm5hbCcsXG4gICAgICBtOiAnbWFjcm9zJyxcbiAgICAgIHA6ICdwbGF5bGlzdHMnLFxuICAgICAgcnQ6ICd0YWJsZXMnLFxuICAgICAgczogJ3NjZW5lcydcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlcyB0aGUgZmlyc3QgcGFydCBvZiBhIENvQ0lEIHRvIHdoYXQgdGhvc2UgZG9jdW1lbnRzIGFyZSBjYWxsZWQgaW4gdGhlIGBnYW1lYCBvYmplY3QuXG4gICAqIEBwYXJhbSBjb2NpZCBhIHNpbmdsZSBjb2NpZFxuICAgKi9cbiAgc3RhdGljIGdldERvY3VtZW50VHlwZSAoY29jaWQpIHtcbiAgICBjb25zdCB0eXBlID0gY29jaWQuc3BsaXQoJy4nKVswXVxuICAgIGNvbnN0IGRvY3VtZW50VHlwZSA9IENvQ0lELmRvY3VtZW50TmFtZUxvb2t1cFt0eXBlXVxuICAgIGlmICghZG9jdW1lbnRUeXBlKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Db0NJREZsYWcuZXJyb3IuaW5jb3JyZWN0LnR5cGUnKSlcbiAgICAgIGNvbnNvbGUubG9nKCdDb0M3IHwgJywgY29jaWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKVxuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnRUeXBlXG4gIH1cblxuICBzdGF0aWMgZ2V0IGRvY3VtZW50TmFtZUxvb2t1cCAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGE6IEFjdG9yLFxuICAgICAgYzogQ2FyZCxcbiAgICAgIGk6IEl0ZW0sXG4gICAgICBqZTogSm91cm5hbEVudHJ5LFxuICAgICAgbTogTWFjcm8sXG4gICAgICBwOiBQbGF5bGlzdCxcbiAgICAgIHJ0OiBSb2xsVGFibGUsXG4gICAgICBzOiBTY2VuZVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIEhvb2tzICovXG5pbXBvcnQgeyBjb25maWd1cmVEb2N1bWVudHMgfSBmcm9tICcuLi9zY3JpcHRzL2NvbmZpZ3VyZS1kb2N1bWVudHMuanMnXG5pbXBvcnQgeyBwcmVsb2FkSGFuZGxlYmFyc1RlbXBsYXRlcyB9IGZyb20gJy4uL3NjcmlwdHMvbG9hZC10ZW1wbGF0ZXMuanMnXG5pbXBvcnQgeyByZWdpc3RlclNldHRpbmdzIH0gZnJvbSAnLi4vc2NyaXB0cy9yZWdpc3Rlci1zZXR0aW5ncy5qcydcbmltcG9ydCB7IHJlZ2lzdGVyU2hlZXRzIH0gZnJvbSAnLi4vc2NyaXB0cy9yZWdpc3Rlci1zaGVldHMuanMnXG5pbXBvcnQgeyBoYW5kbGViYXJzSGVscGVyIH0gZnJvbSAnLi4vc2NyaXB0cy9oYW5kbGViYXJzLWhlbHBlci5qcydcbmltcG9ydCB7IGNvbXBlbmRpdW1GaWx0ZXIgfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBlbmRpdW0tZmlsdGVyLmpzJ1xuaW1wb3J0IHsgQ29DSUQgfSBmcm9tICcuLi9zY3JpcHRzL2NvYy1pZC5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi4vYXBwcy9jb2M3LWxpbmsuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbmNlKCdpbml0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbmZpZ3VyZURvY3VtZW50cygpXG4gICAgcHJlbG9hZEhhbmRsZWJhcnNUZW1wbGF0ZXMoKVxuICAgIHJlZ2lzdGVyU2V0dGluZ3MoKVxuICAgIHJlZ2lzdGVyU2hlZXRzKClcbiAgICBoYW5kbGViYXJzSGVscGVyKClcbiAgICBjb21wZW5kaXVtRmlsdGVyKClcbiAgICBDb0NJRC5pbml0KClcbiAgICBDb0M3TGluay5pbml0KClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBDT05GSUcgKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0Jvb2sgfSBmcm9tICcuLi9pdGVtcy9ib29rL2RhdGEuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4uL2l0ZW1zL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0M3U3BlbGwgfSBmcm9tICcuLi9pdGVtcy9zcGVsbC9kYXRhLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXNlIH0gZnJvbSAnLi4vaXRlbXMvY2hhc2UvZGF0YS5qcydcbmltcG9ydCBDb0M3QWN0aXZlRWZmZWN0IGZyb20gJy4uL2FjdGl2ZS1lZmZlY3QuanMnXG5pbXBvcnQgeyBDb0M3U2tpbGwgfSBmcm9tICcuLi9pdGVtcy9za2lsbC9kYXRhLmpzJ1xuaW1wb3J0IHsgQ29DN1ZlaGljbGUgfSBmcm9tICcuLi9hY3RvcnMvdmVoaWNsZS9kYXRhLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlRG9jdW1lbnRzICgpIHtcbiAgQ09ORklHLkFjdGl2ZUVmZmVjdC5kb2N1bWVudENsYXNzID0gQ29DN0FjdGl2ZUVmZmVjdFxuICBDT05GSUcuQWN0b3IuZG9jdW1lbnRDbGFzcyA9IENvQ0FjdG9yXG4gIENPTkZJRy5BY3Rvci5kb2N1bWVudENsYXNzZXMgPSB7XG4gICAgdmVoaWNsZTogQ29DN1ZlaGljbGVcbiAgfVxuICBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzID0gQ29DN0l0ZW1cbiAgQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzc2VzID0ge1xuICAgIGJvb2s6IENvQzdCb29rLFxuICAgIHNwZWxsOiBDb0M3U3BlbGwsXG4gICAgY2hhc2U6IENvQzdDaGFzZSxcbiAgICBza2lsbDogQ29DN1NraWxsXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBsb2FkVGVtcGxhdGVzICovXG5cbi8qKlxuICogRGVmaW5lIGEgc2V0IG9mIHRlbXBsYXRlIHBhdGhzIHRvIHByZS1sb2FkXG4gKiBQcmUtbG9hZGVkIHRlbXBsYXRlcyBhcmUgY29tcGlsZWQgYW5kIGNhY2hlZCBmb3IgZmFzdCBhY2Nlc3Mgd2hlbiByZW5kZXJpbmdcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCBjb25zdCBwcmVsb2FkSGFuZGxlYmFyc1RlbXBsYXRlcyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgLyoqIERlZmluZSB0ZW1wbGF0ZSBwYXRocyB0byBsb2FkICovXG4gIGNvbnN0IHRlbXBsYXRlUGF0aHMgPSBbXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL25wYy1za2lsbHMuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL25wYy1jb21iYXQuaHRtbCcsXG5cbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvYWN0b3ItaW52ZW50b3J5Lmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy9hY3Rvci1pbnZlbnRvcnktaXRlbXMuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2FjdG9yLWJhY2tncm91bmQuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY29tbW9uL2FjdGl2ZS1lZmZlY3RzLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2FjdG9yLW15dGhvcy1lbm91bnRlcnMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvYWN0b3Ita2VlcGVyLW15dGhvcy1lbm91bnRlcnMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvYWN0b3Itc2tpbGxzLXYyLmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy9jaGFyYWN0ZXItZGV2ZWxvcG1lbnQtdjIuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2RldmVsb3BtZW50LWNvbnRyb2xzLmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy92aXRhbHMuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2NvbWJhdC5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvY2hhcmFjdGVyLXNoZWV0LXYyLmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9jaGFyYWN0ZXIvc3VtbWFyeS5odG1sJyxcblxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL2Jvb2svZGV0YWlscy5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9zcGVsbC9kZXRhaWxzLmh0bWwnLFxuXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL2ludHJvZHVjdGlvbi5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9jb25maWd1cmF0aW9uLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NlbGVjdC1zZXR1cC5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9zZWxlY3QtYXJjaGV0eXBlLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NlbGVjdC1vY2N1cGF0aW9uLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NldC1jaGFyYWN0ZXJpc3RpY3MuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2V0LWF0dHJpYnV0ZXMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvdmlldy1hdHRyaWJ1dGVzLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NldC1pbnZlc3RpZ2F0b3IuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2V0LW9jY3VwYXRpb24tc2tpbGxzLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3RvZ2dsZS1za2lsbC5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9zZXQtYXJjaGV0eXBlLXNraWxscy5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9wb2ludHMtc2tpbGxzLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL2JhY2tzdG9yeS5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9jcmVhdGUuaGJzJ1xuICBdXG5cbiAgLyoqIExvYWQgdGhlIHRlbXBsYXRlIHBhcnRzICovXG4gIHJldHVybiBsb2FkVGVtcGxhdGVzKHRlbXBsYXRlUGF0aHMpXG59XG4iLCIvKiBnbG9iYWwgJCwgQ09ORklHLCBDT05TVCwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3RGVjYWRlckRpZSB9IGZyb20gJy4uL2FwcHMvZGVjYWRlci1kaWUuanMnXG5pbXBvcnQgeyBDb0M3RGVjYWRlckRpZU90aGVyIH0gZnJvbSAnLi4vYXBwcy9kZWNhZGVyLWRpZS1vdGhlci5qcydcbmltcG9ydCB7IENvQzdHYW1lUnVsZVNldHRpbmdzIH0gZnJvbSAnLi9nYW1lLXJ1bGVzLmpzJ1xuaW1wb3J0IHsgQ29DN0RpcmVjdG9yeVBpY2tlciB9IGZyb20gJy4vY29jNy1kaXJlY3RvcnktcGlja2VyLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTZXR0aW5ncyAoKSB7XG4gIC8qKlxuICAgKiBSdWxlc1xuICAgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3Rlck1lbnUoJ0NvQzcnLCAnZ2FtZVJ1bGVzJywge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlJ1bGVzLk5hbWUnLFxuICAgIGxhYmVsOiAnQ29DNy5TZXR0aW5ncy5SdWxlcy5MYWJlbCcsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUnVsZXMuSGludCcsXG4gICAgaWNvbjogJ2ZhcyBmYS1ib29rJyxcbiAgICB0eXBlOiBDb0M3R2FtZVJ1bGVTZXR0aW5ncyxcbiAgICByZXN0cmljdGVkOiB0cnVlXG4gIH0pXG4gIENvQzdHYW1lUnVsZVNldHRpbmdzLnJlZ2lzdGVyU2V0dGluZ3MoKVxuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAndXNlQ29udGV4dE1lbnVzJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5Vc2VDb250ZXh0TWVudXMnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5Vc2VDb250ZXh0TWVudXNIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9KVxuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGhvbGVVcGxvYWREaXJlY3RvcnknLCB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuRGhvbGVVcGxvYWQuRGlyZWN0b3J5Lk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLkRob2xlVXBsb2FkLkRpcmVjdG9yeS5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgdHlwZTogQ29DN0RpcmVjdG9yeVBpY2tlci5EZWZhdWx0RGlyZWN0b3J5LFxuICAgIGRlZmF1bHQ6ICdbZGF0YV0gd29ybGRzLycgKyBnYW1lLndvcmxkLmlkICsgJy9kaG9sZS1pbWFnZXMnXG4gIH0pXG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd3b3JsZEVyYScsIHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5Xb3JsZEVyYS5OYW1lJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5Xb3JsZEVyYS5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogJ3N0YW5kYXJkJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY2hvaWNlczogQ09DNy5lcmFzLFxuICAgIG9uQ2hhbmdlOiAoKSA9PiB7XG4gICAgICB1aS5wbGF5ZXJzLnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfSlcblxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Ryb3BDb0NJRCcsIHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5Ecm9wQ29DSUQuTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuRHJvcENvQ0lELkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAnJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY2hvaWNlczoge1xuICAgICAgJyc6ICdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5Qcm9tcHQnLFxuICAgICAgWTogJ0NvQzcuU2V0dGluZ3MuRHJvcENvQ0lELlVzZUNvQ0lEJyxcbiAgICAgIE46ICdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5JZ25vcmVDb0NJRCdcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIEluaXRpYXRpdmVcbiAgICovXG4gIC8qKiBTZXQgZGlzcGxheWluZyBkaWNlcyBmb3IgaW5pdCByb2xsICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcGxheUluaXREaWNlcycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuZGlzcGxheUluaXREaWNlcycsXG4gICAgaGludDogJ1NFVFRJTkdTLmRpc3BsYXlJbml0RGljZXNIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBTZXQgZGlzcGxheWluZyBkaWNlcyBmb3IgaW5pdCByb2xsICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcGxheUluaXRBc1RleHQnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLmRpc3BsYXlJbml0QXNUZXh0JyxcbiAgICBoaW50OiAnU0VUVElOR1MuZGlzcGxheUluaXRBc1RleHRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJvbGwgY3VzdG9taXNhaW9uc1xuICAgKi9cbiAgLyoqIFN0YW5kYnkgcm9sbHMgbWFkZSBieSBHTSBmcm9tIHBsYXllciBzaGVldCAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3N0YW5ieUdNUm9sbHMnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlN0YW5ieUdNUm9sbHMnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5TdGFuYnlHTVJvbGxzSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICAvKiogQWxsb3cgdXNhZ2Ugb2YgYSBmbGF0IGRpY2UgbW9kaWZpZXIgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhbGxvd0ZsYXREaWNlTW9kaWZpZXInLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkFsbG93RmxhdERpY2VNb2RpZmllcicsXG4gICAgaGludDogJ1NFVFRJTkdTLkFsbG93RmxhdERpY2VNb2RpZmllckhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBBbGxvdyB1c2FnZSBvZiBhIGZsYXQgdGhyZXNob2xkIG1vZGlmaWVyICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXInLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkFsbG93RmxhdFRocmVzaG9sZE1vZGlmaWVyJyxcbiAgICBoaW50OiAnU0VUVElOR1MuQWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXJIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2RlZmF1bHRDaGVja0RpZmZpY3VsdHknLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkRlZmF1bHREaWZmaWN1bHR5JyxcbiAgICBoaW50OiAnU0VUVElOR1MuRGVmYXVsdERpZmZpY3VsdHlIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogJ3JlZ3VsYXInLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICByZWd1bGFyOiAnU0VUVElOR1MuQ2hlY2tEaWZmaWN1bHR5UmVndWxhcicsXG4gICAgICB1bmtub3duOiAnU0VUVElOR1MuQ2hlY2tEaWZmaWN1bHR5VW5rbm93bidcbiAgICB9XG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2VsZlJvbGxXaGlzcGVyVGFyZ2V0Jywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5TZWxmUm9sbFdoaXNwZXJUYXJnZXQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5TZWxmUm9sbFdoaXNwZXJUYXJnZXRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogJ2V2ZXJ5b25lJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY2hvaWNlczoge1xuICAgICAgbm9ib2R5OiAnU0VUVElOR1MuRG9Ob3RBZHZpc2UnLFxuICAgICAgb3duZXJzOiAnU0VUVElOR1MuQWR2aXNlT3duZXJzT25seScsXG4gICAgICBldmVyeW9uZTogJ1NFVFRJTkdTLkFkdmlzZUFsbFBsYXllcidcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIENoYXQgQ2FyZHNcbiAgICovXG4gIC8qKiBUcnVzdGVkIHBsYXllcnMgd2lsbCBiZSBhbGxvd2VkIHRvIG1vZGlmeSBjaGF0IGNhcmRzICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAndHJ1c3RlZENhbk1vZGZ5Q2hhdENhcmQnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlRydXN0ZWRDYW5Nb2RmeUNoYXRDYXJkJyxcbiAgICBoaW50OiAnU0VUVElOR1MuVHJ1c3RlZENhbk1vZGZ5Q2hhdENhcmRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICAvKiogVHJ1c3RlZCBwbGF5ZXJzIHdpbGwgYmUgYWxsb3dlZCB0byBzZWUgY2hhdCBjYXJkcyBwcml2YXRlIHNlY3Rpb25zICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAndHJ1c3RlZENhblNlZUNoYXRDYXJkJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5UcnVzdGVkQ2FuU2VlQ2hhdENhcmQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5UcnVzdGVkQ2FuU2VlQ2hhdENhcmRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICAvKiogU2V0IHRoZSBuZWVkIHRvIGRpc3BsYXkgYWN0b3IgaW1hZ2Ugb24gY2hhdCBjYXJkcyAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Rpc3BsYXlBY3Rvck9uQ2FyZCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGlzcGxheUFjdG9yT25DYXJkJyxcbiAgICBoaW50OiAnU0VUVElOR1MuRGlzcGxheUFjdG9yT25DYXJkSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXNwbGF5Q2hlY2tTdWNjZXNzTGV2ZWwnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkRpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbCcsXG4gICAgc2NvcGU6ICdjbGllbnQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXNwbGF5UmVzdWx0VHlwZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGlzcGxheVJlc3VsdFR5cGUnLFxuICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICAvKiogU2V0IHRoZSB1c2Ugb2YgdG9rZW4gaW5zdGVhZCBvZiBwb3J0cmFpdHMgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd1c2VUb2tlbicsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuVXNlVG9rZW4nLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5Vc2VUb2tlbkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG5cbiAgLyoqXG4gICAqIFNjZW5lIFNldHRpbmdzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2VuYWJsZVN0YXR1c0ljb25zJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5FbmFibGVTdGF0dXNJY29ucycsXG4gICAgaGludDogJ1NFVFRJTkdTLkVuYWJsZVN0YXR1c0ljb25zSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2dyaWRTcGFjZXMnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlJlc3RyaWN0R3JpZFNwYWNlcycsXG4gICAgaGludDogJ1NFVFRJTkdTLlJlc3RyaWN0R3JpZFNwYWNlc0hpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzdGFuY2VFbGV2YXRpb24nLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkNoZWNrRWxldmF0aW9uJyxcbiAgICBoaW50OiAnU0VUVElOR1MuQ2hlY2tFbGV2YXRpb25IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzdGFuY2VUaGVhdHJlT2ZUaGVNaW5kJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5TY2VuZURpc3RhbmNlTm90Q2FsY3VhbHRlZE5vRXJyb3InLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5TY2VuZURpc3RhbmNlTm90Q2FsY3VhbHRlZE5vRXJyb3JIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuXG4gIC8qKlxuICAgKiBHYW1lIEFydHdvcmsgU2V0dGluZ3NcbiAgICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnb3ZlcnJpZGVHYW1lQXJ0d29yaycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuT3ZlcnJpZGVHYW1lQXJ0d29yaycsXG4gICAgaGludDogJ1NFVFRJTkdTLk92ZXJyaWRlR2FtZUFydHdvcmtIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3ZlcnJpZGVHYW1lQXJ0d29yaycpKSB7XG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnRQYXVzZUltYWdlJywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydFBhdXNlSW1hZ2UnLFxuICAgICAgaGludDogJ1NFVFRJTkdTLkFydFBhdXNlSW1hZ2VIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvdGltZS10cmFwLnN2ZycsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0UGF1c2VUZXh0Jywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydFBhdXNlVGV4dCcsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0UGF1c2VUZXh0SGludCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdUaGUgQmxpbmQgSWRpb3QgR29kIGlzIGRyZWFtaW5nLi4uJyxcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2hlZXQgc2V0dGluZ3NcbiAgICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcGxheVBsYXllck5hbWVPblNoZWV0Jywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5kaXNwbGF5UGxheWVyTmFtZU9uU2hlZXQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAndG9vbFRpcERlbGF5Jywge1xuICAgIG5hbWU6ICdDb0M3LnRvb2xUaXBEZWxheScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IDIwMDAsXG4gICAgdHlwZTogTnVtYmVyXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2hvd0ljb25zT25seScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1Muc2hvd0ljb25zT25seScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgLyoqIEFsbG93IHBsYXllciB0byB1bmxvY2sgdGhlIHNoZWV0IG91dHNpZGUgb2YgY3JlYXRpb24gbW9kZSAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3BsYXllclVubG9ja1NoZWV0TW9kZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuUGxheWVyVW5sb2NrU2hlZXRNb2RlJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogJ2Fsd2F5cycsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNob2ljZXM6IHtcbiAgICAgIGFsd2F5czogJ1NFVFRJTkdTLkFsd2F5c0VkaXRhYmxlJyxcbiAgICAgIGNyZWF0aW9uOiAnU0VUVElOR1MuQ3JlYXRpb25Nb2RlT25seScsXG4gICAgICBuZXZlcjogJ1NFVFRJTkdTLk5ldmVyRWRpdGFibGUnXG4gICAgfVxuICB9KVxuICAvKiogQWxsb3cgcGxheWVyIHRvIG1vZGlmeSBzdGF0dXMgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdzdGF0dXNQbGF5ZXJFZGl0YWJsZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuU3RhdHVzUGxheWVyRWRpdGFibGUnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5TdGF0dXNQbGF5ZXJFZGl0YWJsZUhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdvbmVCbG9ja0JhY2tzdG9yeScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuT25lQmxvY2tCYWNrU3RvcnknLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5PbmVCbG9ja0JhY2tTdG9yeUhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnb3ZlcnJpZGVTaGVldEFydHdvcmsnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLk92ZXJyaWRlU2hlZXRBcnR3b3JrJyxcbiAgICBoaW50OiAnU0VUVElOR1MuT3ZlcnJpZGVTaGVldEFydHdvcmtIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3ZlcnJpZGVTaGVldEFydHdvcmsnKSkge1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnRXb3JrU2hlZXRCYWNrZ3JvdW5kJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnRXb3JrU2hlZXRCYWNrZ3JvdW5kSGludCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6IFwidXJsKCcuL2Fzc2V0cy9pbWFnZXMvYmFja2dyb3VuZC53ZWJwJykgNCByZXBlYXRcIixcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnRXb3JrU2hlZXRCYWNrZ3JvdW5kVHlwZScsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnRXb3JrU2hlZXRCYWNrZ3JvdW5kVHlwZScsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdzbGljZScsXG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBjaG9pY2VzOiB7XG4gICAgICAgIHNsaWNlOiAnU0VUVElOR1MuQmFja2dyb3VuZFNsaWNlJyxcbiAgICAgICAgYXV0bzogJ1NFVFRJTkdTLkJhY2tncm91bmRBdXRvJyxcbiAgICAgICAgY29udGFpbjogJ1NFVFRJTkdTLkJhY2tncm91bmRDb250YWluJyxcbiAgICAgICAgY292ZXI6ICdTRVRUSU5HUy5CYWNrZ3JvdW5kQ292ZXInXG4gICAgICB9XG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnRXb3JrT3RoZXJTaGVldEJhY2tncm91bmQnLFxuICAgICAgaGludDogJ1NFVFRJTkdTLkFydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZEhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiBcInVybCggJy4vYXNzZXRzL2ltYWdlcy9iYWNrZ3JvdW5kLndlYnAnKVwiLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtTaGVldEltYWdlJywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydHdvcmtTaGVldEltYWdlJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnR3b3JrU2hlZXRJbWFnZUhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiBcInVybCgnLi9hc3NldHMvaW1hZ2VzL3RlbnRhY2xlcy53ZWJwJylcIixcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrRnJvbnRDb2xvcicsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrRnJvbnRDb2xvcicsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0d29ya0Zyb250Q29sb3JIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJ3JnYmEoNDMsNTUsODMsMSknLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtCYWNrZ3JvdW5kQ29sb3InLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0d29ya0JhY2tncm91bmRDb2xvcicsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0d29ya0JhY2tncm91bmRDb2xvckhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiAncmdiYSgxMDMsMTEsMTEsMSknLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtJbnRlcmFjdGl2ZUNvbG9yJywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydHdvcmtJbnRlcmFjdGl2ZUNvbG9yJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnR3b3JrSW50ZXJhY3RpdmVDb2xvckhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiAncmdiYSgxMDMsMTEsMTEsMSknLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtGaXhlZFNraWxsTGVuZ3RoJywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydHdvcmtGaXhlZFNraWxsTGVuZ3RoJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnR3b3JrRml4ZWRTa2lsbExlbmd0aEhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrTWFpbkZvbnQnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0d29ya01haW5Gb250JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJycsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0d29ya01haW5Gb250Qm9sZCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrTWFpbkZvbnRCb2xkJyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJycsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0d29ya01haW5Gb250U2l6ZScsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrTWFpbkZvbnRTaXplJyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogMTYsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBvbkNoYW5nZTogc2l6ZSA9PiBfc2V0Um9vdEZvbnRTaXplKHNpemUpXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIF9zZXRSb290Rm9udFNpemUgKHNpemUpIHtcbiAgICAgICQoJzpyb290JykuY3NzKCdmb250LXNpemUnLCBzaXplKVxuICAgICAgdWkuc2lkZWJhci5yZW5kZXIodHJ1ZSlcbiAgICAgIGZvciAoY29uc3QgWywgd10gb2YgT2JqZWN0LmVudHJpZXModWkud2luZG93cykpIHtcbiAgICAgICAgdy5yZW5kZXIodHJ1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2VhcG9uc1xuICAgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXNyZWdhcmRVc2VQZXJSb3VuZCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGlzcmVnYXJkVXNlUGVyUm91bmQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5EaXNyZWdhcmRVc2VQZXJSb3VuZEhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcmVnYXJkQW1tbycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGlzcmVnYXJkQW1tbycsXG4gICAgaGludDogJ1NFVFRJTkdTLkRpc3JlZ2FyZEFtbW9IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuXG4gIC8qKlxuICAgKiBDaGFzZXNcbiAgICovXG4gIC8vIE1PVkVEIFRPIENIQVNTRSBJTkRJVklEVUFMIFNFVFRJTkdcbiAgLy8gZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdjaGFzZVNob3dUb2tlbk1vdmVtZW50Jywge1xuICAvLyAgIG5hbWU6ICdTRVRUSU5HUy5DaGFzZVNob3dUb2tlbk1vdmVtZW50JyxcbiAgLy8gICBoaW50OiAnU0VUVElOR1MuQ2hhc2VTaG93VG9rZW5Nb3ZlbWVudEhpbnQnLFxuICAvLyAgIHNjb3BlOiAnd29ybGQnLFxuICAvLyAgIGNvbmZpZzogdHJ1ZSxcbiAgLy8gICBkZWZhdWx0OiB0cnVlLFxuICAvLyAgIHR5cGU6IEJvb2xlYW5cbiAgLy8gfSlcblxuICAvKipcbiAgICogRGljZSBTbyBOaWNlXG4gICAqL1xuICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZSkge1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc3luY0RpY2UzZCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5TeW5jRGljZTNEJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5TeW5jRGljZTNESGludCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSlcbiAgICBjb25zdCBbdmVyc2lvbl0gPSBnYW1lLm1vZHVsZXMuZ2V0KCdkaWNlLXNvLW5pY2UnKT8udmVyc2lvbi5zcGxpdCgnLicpXG4gICAgaWYgKCFpc05hTihOdW1iZXIodmVyc2lvbikpICYmIE51bWJlcih2ZXJzaW9uKSA+PSAzKSB7XG4gICAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3RlbkRpZUJvbnVzJywge1xuICAgICAgICBuYW1lOiAnU0VUVElOR1MuVGVuRGllQm9udXMnLFxuICAgICAgICBoaW50OiAnU0VUVElOR1MuVGVuRGllQm9udXNIaW50JyxcbiAgICAgICAgc2NvcGU6ICdjbGllbnQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICdicm9uemUnLFxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgIH0pXG4gICAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3RlbkRpZVBlbmFsdHknLCB7XG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUy5UZW5EaWVQZW5hbHR5JyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLlRlbkRpZVBlbmFsdHlIaW50JyxcbiAgICAgICAgc2NvcGU6ICdjbGllbnQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICdibG9vZG1vb24nLFxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldmVsb3BlciBhbmQgZGVidWcgc2V0dGluZ3NcbiAgICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGVidWdtb2RlJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5EZWJ1Z01vZGUnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5EZWJ1Z01vZGVIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdleHBlcmltZW50YWxGZWF0dXJlcycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuU2hvd0V4cGVyaW1lbnRhbEZlYXR1cmVzJyxcbiAgICBoaW50OiAnU0VUVElOR1MuU2hvd0V4cGVyaW1lbnRhbEZlYXR1cmVzSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgLyoqXG4gICAqIE90aGVyIHNldHRpbmdzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2hpZGRlbmRldm1lbnUnLCB7XG4gICAgbmFtZTogJ0hpZGRlbiBkZXYgbWVudScsXG4gICAgaGludDogJ1VzZSBhdCB5b3VyIG93biByaXNrJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnLCB7XG4gICAgbmFtZTogJ0RldiBwaGFzZWQgYWxsb3dlZCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIC8qKiBGZWF0OiB3ZWxjb21lIG1lc3NhZ2UgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdzaG93V2VsY29tZU1lc3NhZ2UnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLnNob3dXZWxjb21lTWVzc2FnZScsXG4gICAgaGludDogJ1NFVFRJTkdTLnNob3dXZWxjb21lTWVzc2FnZScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdjaGFyQ3JlYXRpb25FbmFibGVkJywge1xuICAgIG5hbWU6ICdDaGFyIGNyZWF0aW9uIGFsbG93ZWQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3N5c3RlbVVwZGF0ZVZlcnNpb24nLCB7XG4gICAgbmFtZTogJ1N5c3RlbSB1cGRhdGUgdmVyc2lvbicsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJzAnXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlZE1vZHVsZVZlcnNpb24nLCB7XG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiB7fVxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3hwRW5hYmxlZCcsIHtcbiAgICBuYW1lOiAnRW5hYmxlIFhQIGdhaW4nLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2hvd0luc3RydWN0aW9ucycsIHtcbiAgICBuYW1lOiAnU2hvdyBjaGFuZ2Vsb2cvaW5zdHJ1Y3Rpb25zJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnMCdcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRTZXR1cCcsIHtcbiAgICBuYW1lOiAnRm9yY2Ugc3BlY2lmaWMgc2V0dXAgQ29DIElEIGZvciBJbnZlc3RpZ2F0b3IgV2l6YXJkJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJ1xuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1YW50aXR5Jywge1xuICAgIG5hbWU6ICdOdW1iZXIgb2YgaW52ZXN0aWdhdG9ycyBhIHNpbmdsZSB1c2VyIHdpdGhvdXQgY3JlYXRlIGFjdG9yIHJpZ2h0cyBjYW4gb3duJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkT3duZXJzaGlwJywge1xuICAgIG5hbWU6ICdEZWZhdWx0IHBlcm1pc3Npb25zIGZvciBub24gb3duZXIgcGxheWVycycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5OT05FXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUmVyb2xscycsIHtcbiAgICBuYW1lOiAnQWxsb3cgcGxheWVycyB0byByZXJvbGwgY2hhcmFjdGVyaXN0aWNzJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRQb2ludEJ1eScsIHtcbiAgICBuYW1lOiAnRm9yY2UgcG9pbnQgYnV5IGluc3RlYWQgb2Ygc2V0dXAgY2hvaWNlJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRRdWlja0ZpcmUnLCB7XG4gICAgbmFtZTogJ1F1aWNrIGZpcmUgc2V0dXAgdmFsdWVzJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEFycmF5LFxuICAgIGRlZmF1bHQ6IFtdXG4gIH0pXG4gIC8qKiBTZXQgYW4gaW5pdGlhdGl2ZSBmb3JtdWxhIGZvciB0aGUgc3lzdGVtICovXG4gIENPTkZJRy5Db21iYXQuaW5pdGlhdGl2ZSA9IHtcbiAgICBmb3JtdWxhOiAnQGNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUnLFxuICAgIGRlY2ltYWxzOiA0XG4gIH1cbiAgQ09ORklHLmRlYnVnLmhvb2tzID0gISFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZWJ1Z21vZGUnKVxuICBDT05GSUcuRGljZS50ZXJtcy50ID0gQ29DN0RlY2FkZXJEaWVcbiAgQ09ORklHLkRpY2UudGVybXMubyA9IENvQzdEZWNhZGVyRGllT3RoZXJcbn1cbiIsIi8qIGdsb2JhbCBBY3RvcnMsIEFjdG9yU2hlZXQsIEl0ZW1zLCBJdGVtU2hlZXQsIEpvdXJuYWwsIEpvdXJuYWxTaGVldCwgTWFjcm9Db25maWcsIE1hY3JvcywgUGxheWxpc3RDb25maWcsIFBsYXlsaXN0cywgUm9sbFRhYmxlcywgUm9sbFRhYmxlQ29uZmlnLCBTY2VuZXMsIFNjZW5lQ29uZmlnICovXG5pbXBvcnQgeyBDb0M3QXJjaGV0eXBlU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvYXJjaGV0eXBlLmpzJ1xuaW1wb3J0IHsgQ29DN0Jvb2tTaGVldCB9IGZyb20gJy4uL2l0ZW1zL2Jvb2svc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3Q2hhcmFjdGVyU2hlZXQgfSBmcm9tICcuLi9hY3RvcnMvc2hlZXRzL2NoYXJhY3Rlci5qcydcbmltcG9ydCB7IENvQzdDb250YWluZXJTaGVldCB9IGZyb20gJy4uL2FjdG9ycy9zaGVldHMvY29udGFpbmVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXNlU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9jaGFzZS9zaGVldC5qcydcbmltcG9ydCB7IENvQzdDcmVhdHVyZVNoZWV0IH0gZnJvbSAnLi4vYWN0b3JzL3NoZWV0cy9jcmVhdHVyZS1zaGVldC5qcydcbmltcG9ydCB7IENvQzdJdGVtU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvaXRlbS1zaGVldC5qcydcbmltcG9ydCB7IENvQzdJdGVtU2hlZXRWMiB9IGZyb20gJy4uL2l0ZW1zL3NoZWV0cy9pdGVtLXNoZWV0VjIuanMnXG5pbXBvcnQgeyBDb0M3Sm91cm5hbFNoZWV0IH0gZnJvbSAnLi4vc2hlZXRzL2NvYzctam91cm5hbC1zaGVldC5qcydcbmltcG9ydCB7IENvQzdNYWNyb0NvbmZpZyB9IGZyb20gJy4uL3NoZWV0cy9jb2M3LW1hY3JvLWNvbmZpZy5qcydcbmltcG9ydCB7IENvQzdOUENTaGVldCB9IGZyb20gJy4uL2FjdG9ycy9zaGVldHMvbnBjLXNoZWV0LmpzJ1xuaW1wb3J0IHsgQ29DN09jY3VwYXRpb25TaGVldCB9IGZyb20gJy4uL2l0ZW1zL3NoZWV0cy9vY2N1cGF0aW9uLmpzJ1xuaW1wb3J0IHsgQ29DN1BsYXlsaXN0Q29uZmlnIH0gZnJvbSAnLi4vc2hlZXRzL2NvYzctcGxheWxpc3QtY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1JvbGxUYWJsZUNvbmZpZyB9IGZyb20gJy4uL3NoZWV0cy9jb2M3LXJvbGwtdGFibGUtY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1NjZW5lQ29uZmlnIH0gZnJvbSAnLi4vc2hlZXRzL2NvYzctc2NlbmUtY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1NldHVwU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvc2V0dXAuanMnXG5pbXBvcnQgeyBDb0M3U2tpbGxTaGVldCB9IGZyb20gJy4uL2l0ZW1zL3NoZWV0cy9za2lsbC5qcydcbmltcG9ydCB7IENvQzdTcGVsbFNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc3BlbGwvc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3U3RhdHVzU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvc3RhdHVzLmpzJ1xuaW1wb3J0IHsgQ29DN1RhbGVudFNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL3RhbGVudC5qcydcbmltcG9ydCB7IENvQzdWZWhpY2xlU2hlZXQgfSBmcm9tICcuLi9hY3RvcnMvc2hlZXRzL3ZlaGljbGUuanMnXG5pbXBvcnQgeyBDb0M3V2VhcG9uU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvd2VhcG9uLXNoZWV0LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTaGVldHMgKCkge1xuICBBY3RvcnMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgQWN0b3JTaGVldClcbiAgQWN0b3JzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3TlBDU2hlZXQsIHtcbiAgICB0eXBlczogWyducGMnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBBY3RvcnMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdWZWhpY2xlU2hlZXQsIHtcbiAgICB0eXBlczogWyd2ZWhpY2xlJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgQWN0b3JzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3Q3JlYXR1cmVTaGVldCwge1xuICAgIHR5cGVzOiBbJ2NyZWF0dXJlJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgQWN0b3JzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3Q29udGFpbmVyU2hlZXQsIHtcbiAgICB0eXBlczogWydjb250YWluZXInXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBBY3RvcnMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdDaGFyYWN0ZXJTaGVldCwge1xuICAgIHR5cGVzOiBbJ2NoYXJhY3RlciddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG5cbiAgSXRlbXMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgSXRlbVNoZWV0KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1NraWxsU2hlZXQsIHtcbiAgICB0eXBlczogWydza2lsbCddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3V2VhcG9uU2hlZXQsIHtcbiAgICB0eXBlczogWyd3ZWFwb24nXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN0Jvb2tTaGVldCwge1xuICAgIHR5cGVzOiBbJ2Jvb2snXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1NwZWxsU2hlZXQsIHtcbiAgICB0eXBlczogWydzcGVsbCddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3VGFsZW50U2hlZXQsIHtcbiAgICB0eXBlczogWyd0YWxlbnQnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1N0YXR1c1NoZWV0LCB7XG4gICAgdHlwZXM6IFsnc3RhdHVzJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdPY2N1cGF0aW9uU2hlZXQsIHtcbiAgICB0eXBlczogWydvY2N1cGF0aW9uJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdBcmNoZXR5cGVTaGVldCwge1xuICAgIHR5cGVzOiBbJ2FyY2hldHlwZSddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3U2V0dXBTaGVldCwge1xuICAgIHR5cGVzOiBbJ3NldHVwJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdDaGFzZVNoZWV0LCB7XG4gICAgdHlwZXM6IFsnY2hhc2UnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN0l0ZW1TaGVldCwgeyB0eXBlczogWydpdGVtJ10gfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdJdGVtU2hlZXRWMiwge1xuICAgIHR5cGVzOiBbJ2l0ZW0nXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuXG4gIFNjZW5lcy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBTY2VuZUNvbmZpZylcbiAgU2NlbmVzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3U2NlbmVDb25maWcsIHtcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuXG4gIEpvdXJuYWwudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgSm91cm5hbFNoZWV0KVxuICBKb3VybmFsLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3Sm91cm5hbFNoZWV0LCB7XG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcblxuICBSb2xsVGFibGVzLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIFJvbGxUYWJsZUNvbmZpZylcbiAgUm9sbFRhYmxlcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1JvbGxUYWJsZUNvbmZpZywge1xuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG5cbiAgTWFjcm9zLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIE1hY3JvQ29uZmlnKVxuICBNYWNyb3MucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdNYWNyb0NvbmZpZywge1xuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG5cbiAgUGxheWxpc3RzLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIFBsYXlsaXN0Q29uZmlnKVxuICBQbGF5bGlzdHMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdQbGF5bGlzdENvbmZpZywge1xuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgSGFuZGxlYmFycyAqL1xuaW1wb3J0IHsgY2hhdEhlbHBlciB9IGZyb20gJy4uL2NoYXQvaGVscGVyLmpzJ1xuXG5leHBvcnQgY29uc3QgaGFuZGxlYmFyc0hlbHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigncm9sbEFjdG9ySW1nJywgZnVuY3Rpb24gKGFjdG9yS2V5KSB7XG4gICAgY29uc3QgaW1nID0gY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkoYWN0b3JLZXkpXG4gICAgaWYgKGltZykgcmV0dXJuIGltZ1xuICAgIHJldHVybiAnLi4vaWNvbnMvc3ZnL215c3RlcnktbWFuLWJsYWNrLnN2ZydcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCAkLCBnYW1lICovXG5leHBvcnQgY2xhc3MgQ29DN1Rvb2x0aXBzIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuVG9vbFRpcEhvdmVyID0gbnVsbFxuICAgIHRoaXMudG9vbFRpcFRpbWVyID0gbnVsbFxuICB9XG5cbiAgZGlzcGxheVRvb2xUaXAgKHRvb2xUaXApIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuVG9vbFRpcEhvdmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5Ub29sVGlwSG92ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGlmICghaXNOYU4oYm91bmRzLmxlZnQgfHwgJycpICYmICFpc05hTihib3VuZHMudG9wIHx8ICcnKSkge1xuICAgICAgICBsZXQgbGVmdCA9IGJvdW5kcy5sZWZ0XG4gICAgICAgIGxldCB0b3AgPSBib3VuZHMudG9wXG4gICAgICAgIGNvbnN0IGhlaWdodFRleHQgPSAkKHRoaXMuVG9vbFRpcEhvdmVyKS5vdXRlckhlaWdodCgpXG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCJoZWxwLXRvb2x0aXBcIj4nICsgdG9vbFRpcCArICc8L2Rpdj4nKVxuICAgICAgICBjb25zdCB0aXAgPSAkKCcjaGVscC10b29sdGlwJylcbiAgICAgICAgY29uc3QgaGVpZ2h0VGlwID0gdGlwLm91dGVySGVpZ2h0KClcbiAgICAgICAgY29uc3Qgd2lkdGhUaXAgPSB0aXAub3V0ZXJXaWR0aCgpXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCBoZWlnaHRUZXh0ICogMS41ICsgaGVpZ2h0VGlwICsgdG9wKSB7XG4gICAgICAgICAgdG9wID0gdG9wIC0gaGVpZ2h0VGlwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9wID0gdG9wICsgaGVpZ2h0VGV4dCAqIDEuNVxuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IHdpZHRoVGlwICsgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHdpZHRoVGlwXG4gICAgICAgIH1cbiAgICAgICAgdGlwLmNzcyh7XG4gICAgICAgICAgbGVmdDogbGVmdCArICdweCcsXG4gICAgICAgICAgdG9wOiB0b3AgKyAncHgnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcExlYXZlIChldmVudCkge1xuICAgIGlmIChnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIGNsZWFyVGltZW91dChnYW1lLkNvQzdUb29sdGlwcy50b29sVGlwVGltZXIpXG4gICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgPSBudWxsXG4gICAgICAkKCcjaGVscC10b29sdGlwJykucmVtb3ZlKClcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBNdXRhdGlvbk9ic2VydmVyLCBUb3VyLCB1aSAqL1xubGV0IENvQzdUb3VyID0gY2xhc3MgaW50ZXJuYWxDb0M3VG91ciB7fVxuaWYgKHR5cGVvZiBUb3VyICE9PSAndW5kZWZpbmVkJykge1xuICBDb0M3VG91ciA9IGNsYXNzIGludGVybmFsQ29DN1RvdXIgZXh0ZW5kcyBUb3VyIHtcbiAgICBhc3luYyB3YWl0Rm9yRWxlbWVudCAoc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYXN5bmMgX3ByZVN0ZXAgKCkge1xuICAgICAgYXdhaXQgc3VwZXIuX3ByZVN0ZXAoKVxuXG4gICAgICAvLyBDbG9zZSBjdXJyZW50bHkgb3BlbiBhcHBsaWNhdGlvbnNcbiAgICAgIGlmICh0aGlzLnN0ZXBJbmRleCA9PT0gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGFwcCBvZiBPYmplY3QudmFsdWVzKHVpLndpbmRvd3MpKSB7XG4gICAgICAgICAgYXBwLmNsb3NlKClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JFbGVtZW50KHRoaXMuY3VycmVudFN0ZXAuc2VsZWN0b3IpXG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJyZW50U3RlcC5zaWRlYmFyVGFiICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1aS5zaWRlYmFyLmFjdGl2YXRlVGFiKHRoaXMuY3VycmVudFN0ZXAuc2lkZWJhclRhYilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfcG9zdFN0ZXAgKCkge1xuICAgICAgYXdhaXQgc3VwZXIuX3Bvc3RTdGVwKClcbiAgICAgIGlmICh0aGlzLnN0ZXBJbmRleCA8IDAgfHwgIXRoaXMuaGFzTmV4dCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTdGVwLmFjdGlvbikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSZXNldHRpbmcpIHtcbiAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IGZhbHNlXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFN0ZXAuYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY3VycmVudFN0ZXAuc2VsZWN0b3IpLmNsaWNrKClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0ICgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IHRydWVcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN1cGVyLnJlc2V0KClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQ29DN1RvdXIgfVxuIiwiLyogZ2xvYmFsIG1lcmdlT2JqZWN0ICovXG5pbXBvcnQgeyBDb0M3VG91ciB9IGZyb20gJy4uL2FwcHMvY29jNy10b3VyLmpzJ1xuXG5leHBvcnQgY2xhc3MgRW5hYmxlVmFyaWFudFJ1bGVzRW4gZXh0ZW5kcyBDb0M3VG91ciB7XG4gIGNvbnN0cnVjdG9yIChjb25maWcpIHtcbiAgICBzdXBlcihtZXJnZU9iamVjdCh7XG4gICAgICB0aXRsZTogJ0VuYWJsZSBvcHRpb25hbC92YXJpYW50IHJ1bGVzLicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xlYXJuIGhvdyB0byBlbmFibGUgUHVscCBDdGh1bGh1IHJ1bGVzLCBvciBvdGhlciB2YXJpYW50IHJ1bGVzJyxcbiAgICAgIGNhbkJlUmVzdW1lZDogZmFsc2UsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgc3RlcHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZ290by1zZXR0aW5ncycsXG4gICAgICAgICAgc2VsZWN0b3I6ICcudGFicz5hW2RhdGEtdGFiPVwic2V0dGluZ3NcIl0nLFxuICAgICAgICAgIHRpdGxlOiAnQ09DNy5Ub3VyLkdvdG9TZXR0aW5nc1RpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLkdvdG9TZXR0aW5nc0NvbnRlbnQnLFxuICAgICAgICAgIHNpZGViYXJUYWI6ICdzZXR0aW5ncydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZ290by1jb25maWd1cmUnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtYWN0aW9uPVwiY29uZmlndXJlXCJdJyxcbiAgICAgICAgICB0aXRsZTogJ0NPQzcuVG91ci5Hb3RvQ29uZmlndXJlVGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdDT0M3LlRvdXIuR290b0NvbmZpZ3VyZUNvbnRlbnQnLFxuICAgICAgICAgIGFjdGlvbjogJ2NsaWNrJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdnb3RvLXN5c3RlbS1zZXR0aW5ncycsXG4gICAgICAgICAgc2VsZWN0b3I6ICdbZGF0YS10YWI9XCJzeXN0ZW1cIl0nLFxuICAgICAgICAgIHRpdGxlOiAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc1RpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc0NvbnRlbnQnLFxuICAgICAgICAgIGFjdGlvbjogJ2NsaWNrJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdnb3RvLWdhbWUtcnVsZXMnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtY2F0ZWdvcnk9XCJzeXN0ZW1cIl0gW2RhdGEta2V5PVwiQ29DNy5nYW1lUnVsZXNcIl0nLFxuICAgICAgICAgIHRpdGxlOiAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNUaXRsZScsXG4gICAgICAgICAgY29udGVudDogJ0NPQzcuVG91ci5Hb3RvR2FtZVJ1bGVzQ29udGVudCcsXG4gICAgICAgICAgYWN0aW9uOiAnY2xpY2snXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NhdmUtZ2FtZS1ydWxlcycsXG4gICAgICAgICAgc2VsZWN0b3I6ICcjcnVsZXMtc2V0dGluZ3MgW25hbWU9c3VibWl0XScsXG4gICAgICAgICAgdGl0bGU6ICdDT0M3LlRvdXIuU2F2ZUdhbWVSdWxlc1RpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLlNhdmVHYW1lUnVsZXNDb250ZW50J1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbG9jYWxpemF0aW9uOiB7XG4gICAgICAgICdDT0M3LlRvdXIuR290b1NldHRpbmdzVGl0bGUnOiAnR2FtZSBTZXR0aW5ncycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b1NldHRpbmdzQ29udGVudCc6ICdHbyB0byB0aGUgR2FtZSBTZXR0aW5ncyB0YWInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVUaXRsZSc6ICdDb25maWd1cmUgU2V0dGluZ3MnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVDb250ZW50JzogJ0NsaWNrIG9uIHRoZSBDb25maWd1cmUgU2V0dGluZ3MgYnV0dG9uJyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU3lzdGVtU2V0dGluZ3NUaXRsZSc6ICdTeXN0ZW0gU2V0dGluZ3MnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc0NvbnRlbnQnOiAnR28gdG8gdGhlIFN5c3RlbSBTZXR0aW5ncyB0YWInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNUaXRsZSc6ICdDb25maWd1cmUgVmFyaWFudC9PcHRpb25hbCBSdWxlcycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b0dhbWVSdWxlc0NvbnRlbnQnOiAnQ2xpY2sgb24gdGhlIENvbmZpZ3VyZSBWYXJpYW50L09wdGlvbmFsIFJ1bGVzIGJ1dHRvbicsXG4gICAgICAgICdDT0M3LlRvdXIuU2F2ZUdhbWVSdWxlc1RpdGxlJzogJ1NhdmUgcnVsZSBjaGFuZ2VzJyxcbiAgICAgICAgJ0NPQzcuVG91ci5TYXZlR2FtZVJ1bGVzQ29udGVudCc6ICdPbmNlIHlvdSBoYXZlIG1hZGUgeW91ciBjaGFuZ2VzIGNsaWNrIG9uIHRoZSBTYXZlIENoYW5nZXMgYnV0dG9uJ1xuICAgICAgfVxuICAgIH0sIGNvbmZpZykpXG4gIH1cbn1cbiIsImltcG9ydCB7IEVuYWJsZVZhcmlhbnRSdWxlc0VuIH0gZnJvbSAnLi9lbmFibGUtdmFyaWFudC1ydWxlcy1lbi5qcydcblxuZXhwb3J0IGNsYXNzIEVuYWJsZVZhcmlhbnRSdWxlc0ZyIGV4dGVuZHMgRW5hYmxlVmFyaWFudFJ1bGVzRW4ge1xuICBjb25zdHJ1Y3RvciAoY29uZmlnKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdGl0bGU6ICdBY3RpdmV6IGxlcyByw6hnbGVzIG9wdGlvbm5lbGxlcy4nLFxuICAgICAgZGVzY3JpcHRpb246ICdBY3RpdmV6IGxlcyByw6hnbGVzIG9wdGlvbmVsbGVzIGV0IFB1bHAgQ3RodWxodScsXG4gICAgICBsb2NhbGl6YXRpb246IHtcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU2V0dGluZ3NUaXRsZSc6ICdQYXJhbcOodHJlcycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b1NldHRpbmdzQ29udGVudCc6ICdPdXZyaXIgbFxcJ29uZ2xldCBcIlBhcmFtw6h0cmVzXCInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVUaXRsZSc6ICdDb25maWd1cmF0aW9uIGRlcyBvcHRpb25zJyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvQ29uZmlndXJlQ29udGVudCc6ICdDbGlxdWV6IHN1ciBcIkNvbmZpZ3VyYXRpb24gZGVzIG9wdGlvbnNcIicsXG4gICAgICAgICdDT0M3LlRvdXIuR290b1N5c3RlbVNldHRpbmdzVGl0bGUnOiAnU3lzdMOobWUgZGUgamV1JyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU3lzdGVtU2V0dGluZ3NDb250ZW50JzogJ091dnJleiBsXFwnb25nbGV0IFwiU3lzdMOobWUgZGUgamV1XCInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNUaXRsZSc6ICdDb25maWd1cmVyIGxlcyB2YXJpYW50ZXMvcsOoZ2xlcyBvcHRpb25uZWxsZXMnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNDb250ZW50JzogJ0NsaWNrZXogc3VyIGxlIGJvdXR0b24gXCJDb25maWd1cmVyIGxlcyB2YXJpYW50ZXMvcsOoZ2xlcyBvcHRpb25uZWxsZXNcIicsXG4gICAgICAgICdDT0M3LlRvdXIuU2F2ZUdhbWVSdWxlc1RpdGxlJzogJ1NhdXZlZ2FyZGVyIGxlcyBtb2RpZmljYXRpb25zJyxcbiAgICAgICAgJ0NPQzcuVG91ci5TYXZlR2FtZVJ1bGVzQ29udGVudCc6ICdBcHJlcyBhdm9pciBjaG9pc2lzIGxlcyBvcHRpb25zIGNsaXF1ZXogc3VyIGxlIGJvdXRvbiBcIlNhdXZlZ2FyZGVyIGxlcyBtb2RpZmljYXRpb25zXCInXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIENPTkZJRywgZ2FtZSwgSG9va3MsIGlzTmV3ZXJWZXJzaW9uICovXG5pbXBvcnQgeyBDb0M3VG9vbHRpcHMgfSBmcm9tICcuLi9hcHBzL3Rvb2x0aXBzLmpzJ1xuLy8gaW1wb3J0IHsgQ29DN1dlbGNvbWVNZXNzYWdlIH0gZnJvbSAnLi4vYXBwcy93ZWxjb21lLW1lc3NhZ2UuanMnXG5pbXBvcnQgeyByZWdpc3RlclRvdXJzIH0gZnJvbSAnLi4vc2NyaXB0cy9yZWdpc3Rlci10b3Vycy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uY2UoJ3JlYWR5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDYWxsIG9mIEN0aHVsaHUgN3RoIEVkaXRpb24gfCBSZWFkeScpXG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Nob3dXZWxjb21lTWVzc2FnZScpICYmIGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAvKiogVGhpcyB3aWxsIHByb21wdCB0aGUgd2VsY29tZSBtZXNzYWdlIHdoZW4gaXQgaXMgIGZpbmlzaGVkICovXG4gICAgICAvLyBhd2FpdCBDb0M3V2VsY29tZU1lc3NhZ2UuY3JlYXRlKClcbiAgICB9XG4gICAgZ2FtZS5Db0M3VG9vbHRpcHMgPSBuZXcgQ29DN1Rvb2x0aXBzKClcblxuICAgIGNvbnN0IGluc3RydWN0aW9uc1ZlcnNpb24gPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzaG93SW5zdHJ1Y3Rpb25zJylcbiAgICBsZXQgbGFuZyA9IGdhbWUuaTE4bi5sYW5nXG4gICAgY29uc3QgcmVhZE1lID0ge1xuICAgICAgZW46ICdzeEIyT1hiZndWNk0wbnlRJyxcbiAgICAgIGVzOiAnMzVGTTdaT2R6QzZMMnhsaicsXG4gICAgICBmcjogJ3RkYWt5elRWT1FzQU1kU20nXG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVhZE1lW2xhbmddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFuZyA9ICdlbidcbiAgICB9XG4gICAgQ09ORklHLkNvQzcgPSBDT05GSUcuQ29DNyA/PyB7fVxuICAgIENPTkZJRy5Db0M3Lk1hbnVhbCA9IHJlYWRNZVtsYW5nXVxuICAgIGlmIChpc05ld2VyVmVyc2lvbihnYW1lLnN5c3RlbS52ZXJzaW9uLCBpbnN0cnVjdGlvbnNWZXJzaW9uID8/ICcwJykpIHtcbiAgICAgIChhd2FpdCBnYW1lLnBhY2tzLmdldCgnQ29DNy5zeXN0ZW0tZG9jJykuZ2V0RG9jdW1lbnQoQ09ORklHLkNvQzcuTWFudWFsKSk/LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnc2hvd0luc3RydWN0aW9ucycsIGdhbWUuc3lzdGVtLnZlcnNpb24pXG4gICAgfVxuICAgIHJlZ2lzdGVyVG91cnMoKVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmltcG9ydCB7IEVuYWJsZVZhcmlhbnRSdWxlc0VuIH0gZnJvbSAnLi4vdG91cnMvZW5hYmxlLXZhcmlhbnQtcnVsZXMtZW4uanMnXG5pbXBvcnQgeyBFbmFibGVWYXJpYW50UnVsZXNGciB9IGZyb20gJy4uL3RvdXJzL2VuYWJsZS12YXJpYW50LXJ1bGVzLWZyLmpzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJUb3VycyAoKSB7XG4gIHRyeSB7XG4gICAgbGV0IGxhbmcgPSBnYW1lLmkxOG4ubGFuZ1xuICAgIGNvbnN0IHRvdXJzID0ge1xuICAgICAgZW46IHtcbiAgICAgICAgJ2VuYWJsZS12YXJpYW50LXJ1bGVzJzogRW5hYmxlVmFyaWFudFJ1bGVzRW5cbiAgICAgIH0sXG4gICAgICBmcjoge1xuICAgICAgICAnZW5hYmxlLXZhcmlhbnQtcnVsZXMnOiBFbmFibGVWYXJpYW50UnVsZXNGclxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRvdXJzW2xhbmddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFuZyA9ICdlbidcbiAgICB9XG4gICAgZm9yIChjb25zdCB0b3VyTmFtZSBpbiB0b3Vyc1tsYW5nXSkge1xuICAgICAgZ2FtZS50b3Vycy5yZWdpc3RlcignQ29DNycsIHRvdXJOYW1lLCBuZXcgdG91cnNbbGFuZ11bdG91ck5hbWVdKCkpXG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUT1VSIEVSUk9SJywgZXJyKVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBDcmVhdGVUb2tlbiBmcm9tICcuL2NyZWF0ZS10b2tlbi5qcydcbmltcG9ydCAqIGFzIERpY2VTb05pY2VSZWFkeSBmcm9tICcuL2RpY2Utc28tbmljZS1yZWFkeS5qcydcbmltcG9ydCAqIGFzIERpY2VTb05pY2VSb2xsU3RhcnQgZnJvbSAnLi9kaWNlLXNvLW5pY2Utcm9sbC1zdGFydC5qcydcbmltcG9ydCAqIGFzIEluaXQgZnJvbSAnLi9pbml0LmpzJ1xuaW1wb3J0ICogYXMgUmVhZHkgZnJvbSAnLi9yZWFkeS5qcydcbmltcG9ydCAqIGFzIFJlbmRlckFjdG9yU2hlZXQgZnJvbSAnLi9yZW5kZXItYWN0b3Itc2hlZXQuanMnXG5pbXBvcnQgKiBhcyBSZW5kZXJDaGF0TWVzc2FnZSBmcm9tICcuL3JlbmRlci1jaGF0LW1lc3NhZ2UuanMnXG5pbXBvcnQgKiBhcyBSZW5kZXJEaWFsb2cgZnJvbSAnLi9yZW5kZXItZGlhbG9nLmpzJ1xuaW1wb3J0ICogYXMgUmVuZGVySXRlbVNoZWV0IGZyb20gJy4vcmVuZGVyLWl0ZW0tc2hlZXQuanMnXG5pbXBvcnQgKiBhcyBSZW5kZXJQYXVzZSBmcm9tICcuL3JlbmRlci1wYXVzZS5qcydcbmltcG9ydCAqIGFzIFJlbmRlclBsYXllckxpc3QgZnJvbSAnLi9yZW5kZXItcGxheWVyLWxpc3QuanMnXG5pbXBvcnQgKiBhcyBSZW5kZXJTZXR0aW5nc0NvbmZpZyBmcm9tICcuL3JlbmRlci1zZXR0aW5ncy1jb25maWcuanMnXG5cbmV4cG9ydCBjb25zdCBDb0M3SG9va3MgPSB7XG4gIGxpc3RlbiAoKSB7XG4gICAgQ3JlYXRlVG9rZW4ubGlzdGVuKClcbiAgICBEaWNlU29OaWNlUmVhZHkubGlzdGVuKClcbiAgICBEaWNlU29OaWNlUm9sbFN0YXJ0Lmxpc3RlbigpXG4gICAgSW5pdC5saXN0ZW4oKVxuICAgIFJlYWR5Lmxpc3RlbigpXG4gICAgUmVuZGVyQWN0b3JTaGVldC5saXN0ZW4oKVxuICAgIFJlbmRlckNoYXRNZXNzYWdlLmxpc3RlbigpXG4gICAgUmVuZGVyRGlhbG9nLmxpc3RlbigpXG4gICAgUmVuZGVySXRlbVNoZWV0Lmxpc3RlbigpXG4gICAgUmVuZGVyUGF1c2UubGlzdGVuKClcbiAgICBSZW5kZXJQbGF5ZXJMaXN0Lmxpc3RlbigpXG4gICAgUmVuZGVyU2V0dGluZ3NDb25maWcubGlzdGVuKClcbiAgfVxufVxuIiwiLyogZ2xvYmFsIEhvb2tzLCBEaWFsb2csIGdhbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbignY3JlYXRlVG9rZW4nLCBhc3luYyAodG9rZW5Eb2N1bWVudCwgb3B0aW9ucywgYWN0b3JJZCkgPT4ge1xuICAgIC8vIFNldCB0b2tlbiBpY29uIGNvcnJlY3RseVxuICAgIGlmIChcbiAgICAgIHRva2VuRG9jdW1lbnQudGV4dHVyZS5zcmMgPT09ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyAmJlxuICAgICAgdG9rZW5Eb2N1bWVudC50ZXh0dXJlLnNyYyAhPT0gdG9rZW5Eb2N1bWVudC5fb2JqZWN0LmFjdG9yLmltZykge1xuICAgICAgdG9rZW5Eb2N1bWVudC50ZXh0dXJlLnNyYyA9IHRva2VuRG9jdW1lbnQuX29iamVjdC5hY3Rvci5pbWdcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBzb21ldGhpbmcgdG8gcm9sbCBhc2sgaWYgd2Ugc2hvdWxkIHJvbGwgaXRcbiAgICBpZiAodG9rZW5Eb2N1bWVudC5fb2JqZWN0LmFjdG9yLnR5cGUgIT09ICdjaGFyYWN0ZXInICYmICh0b2tlbkRvY3VtZW50Ll9vYmplY3QuYWN0b3IuaGFzUm9sbGFibGVDaGFyYWN0ZXJpc3RpY3MgfHwgdG9rZW5Eb2N1bWVudC5fb2JqZWN0LmFjdG9yLmhvc1JvbGxhYmxlU2tpbGxzKSkge1xuICAgICAgbmV3IERpYWxvZyhcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG9rZW5DcmVhdGlvblJvbGwuVGl0bGUnKSxcbiAgICAgICAgICBjb250ZW50OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG9rZW5DcmVhdGlvblJvbGwuUHJvbXB0JyksXG4gICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgcm9sbDoge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlRva2VuQ3JlYXRpb25Sb2xsLkJ1dHRvblJvbGwnKSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IGF3YWl0IHRva2VuRG9jdW1lbnQuX29iamVjdC5hY3Rvci5yb2xsQ2hhcmFjdGVyaXN0aWNzVmFsdWUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF2ZXJhZ2U6IHtcbiAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub2tlbkNyZWF0aW9uUm9sbC5CdXR0b25BdmVyYWdlJyksXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiBhd2FpdCB0b2tlbkRvY3VtZW50Ll9vYmplY3QuYWN0b3IuYXZlcmFnZUNoYXJhY3RlcmlzdGljc1ZhbHVlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2lwOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWlncmF0ZS5CdXR0b25Ta2lwJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBIb29rcyAqL1xuaW1wb3J0IHsgQ29DN0RlY2FkZXJEU05GYWNlcyB9IGZyb20gJy4uL2FwcHMvZGVjYWRlci1kc24tZmFjZXMuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbmNlKCdkaWNlU29OaWNlUmVhZHknLCBkaWNlM2QgPT4ge1xuICAgIGRpY2UzZC5hZGREaWNlUHJlc2V0KHtcbiAgICAgIHR5cGU6ICdkdCcsXG4gICAgICBsYWJlbHM6IFsnMTAnLCAnMjAnLCAnMzAnLCAnNDAnLCAnNTAnLCAnNjAnLCAnNzAnLCAnODAnLCAnOTAnLCAnMDAnXSxcbiAgICAgIGZvbnRTY2FsZTogMC43NSxcbiAgICAgIHN5c3RlbTogJ3N0YW5kYXJkJ1xuICAgIH0pXG4gICAgZGljZTNkLmFkZERpY2VQcmVzZXQoe1xuICAgICAgdHlwZTogJ2RvJyxcbiAgICAgIGxhYmVsczogWycxMCcsICcyMCcsICczMCcsICc0MCcsICc1MCcsICc2MCcsICc3MCcsICc4MCcsICc5MCcsICcwMCddLFxuICAgICAgZm9udFNjYWxlOiAwLjc1LFxuICAgICAgc3lzdGVtOiAnc3RhbmRhcmQnXG4gICAgfSlcbiAgICBnYW1lLkNvQzdEZWNhZGVyRFNORmFjZXMgPSBuZXcgQ29DN0RlY2FkZXJEU05GYWNlcygpXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSG9va3MgKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbignZGljZVNvTmljZVJvbGxTdGFydCcsIGRpY2UzZCA9PiB7XG4gICAgZ2FtZS5Db0M3RGVjYWRlckRTTkZhY2VzLnNldEZhY2VzKClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBIb29rcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0JywgYXN5bmMgKGRhdGEsIGh0bWwsIG9wdGlvbnMpID0+IHt9KVxufVxuIiwiLyogZ2xvYmFsIEhvb2tzICovXG5pbXBvcnQgeyBDb0M3Q2hhdCB9IGZyb20gJy4uL2NoYXQuanMnXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4uL2FwcHMvY29jNy1saW5rLmpzJ1xuaW1wb3J0IHsgQ29DN1BhcnNlciB9IGZyb20gJy4uL2FwcHMvY29jNy1wYXJzZXIuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbigncmVuZGVyQ2hhdE1lc3NhZ2UnLCAoYXBwLCBodG1sLCBkYXRhKSA9PiB7XG4gICAgQ29DN0NoYXQucmVuZGVyTWVzc2FnZUhvb2soYXBwLCBodG1sLCBkYXRhKVxuICAgIENvQzdDaGF0LnJlbmRlckNoYXRNZXNzYWdlSG9vayhhcHAsIGh0bWwsIGRhdGEpXG4gICAgQ29DN1BhcnNlci5QYXJzZU1lc3NhZ2UoYXBwLCBodG1sLCBkYXRhKVxuICAgIENvQzdMaW5rLmJpbmRFdmVudHNIYW5kbGVyKGh0bWwpXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSG9va3MgKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbigncmVuZGVyRGlhbG9nJywgKGRpYWxvZywgaHRtbCkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBodG1sLmZpbmQoJ2Zvcm0nKVxuICAgIGlmIChmb3JtLmlzKCcjZG9jdW1lbnQtY3JlYXRlJykgJiYgZm9ybS5maW5kKCdzZWxlY3QnKS5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGVudGl0eUNyZWF0ZVNlbGVjdFRhZyA9IGZvcm0uZmluZChcIltuYW1lPSd0eXBlJ11cIilcbiAgICAgIGNvbnN0IGVudGl0eVNvcnRlZExpc3QgPSBbXVxuICAgICAgY29uc3Qgc2hvd0V4cGVyaW1lbnRhbCA9ICEhZ2FtZS5zZXR0aW5ncy5nZXQoXG4gICAgICAgICdDb0M3JyxcbiAgICAgICAgJ2V4cGVyaW1lbnRhbEZlYXR1cmVzJ1xuICAgICAgKVxuICAgICAgZW50aXR5Q3JlYXRlU2VsZWN0VGFnLmNoaWxkcmVuKCkuZWFjaCgobywgZW50aXR5T3B0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGVudGl0eU9wdGlvbi50ZXh0Q29udGVudD8uY2FwaXRhbGl6ZSgpXG4gICAgICAgIGlmIChnYW1lLmkxOG4uaGFzKGBDb0M3LkVudGl0aWVzLiR7a2V5fWApKSB7XG4gICAgICAgICAgZW50aXR5T3B0aW9uLnRleHRDb250ZW50ID0gZ2FtZS5pMThuLmxvY2FsaXplKGBDb0M3LkVudGl0aWVzLiR7a2V5fWApXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3dFeHBlcmltZW50YWwgfHwgIVsndmVoaWNsZSddLmluY2x1ZGVzKGVudGl0eU9wdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICBlbnRpdHlTb3J0ZWRMaXN0LnB1c2goZW50aXR5T3B0aW9uKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgZW50aXR5Q3JlYXRlU2VsZWN0VGFnLmVtcHR5KClcbiAgICAgIGVudGl0eUNyZWF0ZVNlbGVjdFRhZy5hcHBlbmQoXG4gICAgICAgIGVudGl0eVNvcnRlZExpc3Quc29ydCgoZmlyc3QsIHNlY29uZCkgPT5cbiAgICAgICAgICBmaXJzdC5pbm5lclRleHQubG9jYWxlQ29tcGFyZShzZWNvbmQuaW5uZXJUZXh0KVxuICAgICAgICApXG4gICAgICApXG4gICAgICBpZiAoZW50aXR5Q3JlYXRlU2VsZWN0VGFnLnZhbCgpID09PSAnYWN0b3InKSB7XG4gICAgICAgIGVudGl0eUNyZWF0ZVNlbGVjdFRhZy52YWwoJ2NoYXJhY3RlcicpXG4gICAgICB9IGVsc2UgaWYgKGVudGl0eUNyZWF0ZVNlbGVjdFRhZy52YWwoKSA9PT0gJ2Jvb2snKSB7XG4gICAgICAgIGVudGl0eUNyZWF0ZVNlbGVjdFRhZy52YWwoJ2l0ZW0nKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBIb29rcyAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuICgpIHtcbiAgSG9va3Mub24oJ3JlbmRlckl0ZW1TaGVldCcsIGFzeW5jIChkYXRhLCBodG1sLCBvcHRpb25zKSA9PiB7fSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBIb29rcyAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuICgpIHtcbiAgSG9va3Mub24oJ3JlbmRlclBhdXNlJywgYXN5bmMgKGRhdGEsIGh0bWwsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3ZlcnJpZGVHYW1lQXJ0d29yaycpKSB7XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0UGF1c2VJbWFnZScpLnRvTG93ZXJDYXNlKCkgPT09ICdudWxsJykge1xuICAgICAgICBodG1sLmZpbmQoJ2ltZycpLnJlbW92ZSgpXG4gICAgICB9XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0UGF1c2VJbWFnZScpICE9PSAnJykge1xuICAgICAgICBodG1sLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycsIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFBhdXNlSW1hZ2UnKSlcbiAgICAgIH1cblxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFBhdXNlVGV4dCcpICE9PSAnJykge1xuICAgICAgICBodG1sLmZpbmQoJ2gzJykuaHRtbChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRQYXVzZVRleHQnKSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgJCwgZ2FtZSwgSG9va3MgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi9jb25maWcuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbigncmVuZGVyUGxheWVyTGlzdCcsIChwbGF5ZXJMaXN0LCBodG1sLCBkYXRhKSA9PiB7XG4gICAgJCgnPGg0PicpLmFwcGVuZCgnPGRpdj48aSBjbGFzcz1cImZhLXJlZ3VsYXIgZmEtY2FsZW5kYXJcIj48L2k+JyArIGdhbWUuaTE4bi5mb3JtYXQoQ09DNy5lcmFzW2dhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3dvcmxkRXJhJyldID8/ICdDb0M3LkNvQ0lERmxhZy5lcnJvci51bmtub3duLWVyYScsIHsgZXJhOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd3b3JsZEVyYScpIH0pICsgJzwvZGl2PicpLmluc2VydEFmdGVyKCQoJ2gzJywgaHRtbCkpXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgSG9va3MgKi9cbmltcG9ydCB7IENvQzdEaXJlY3RvcnlQaWNrZXIgfSBmcm9tICcuLi9zY3JpcHRzL2NvYzctZGlyZWN0b3J5LXBpY2tlci5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJTZXR0aW5nc0NvbmZpZycsIChhcHAsIGh0bWwsIHVzZXIpID0+IHtcbiAgICBDb0M3RGlyZWN0b3J5UGlja2VyLnByb2Nlc3NIdG1sKGh0bWwpXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgc29ja2V0bGliLCB1aSAqL1xuaW1wb3J0IHsgQ29DN01lbGVlVGFyZ2V0IH0gZnJvbSAnLi4vY2hhdC9jb21iYXQvbWVsZWUtdGFyZ2V0LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gQ29DN1NvY2tldCAoKSB7XG4gIGdhbWUuQ29DN3NvY2tldCA9IHNvY2tldGxpYi5yZWdpc3RlclN5c3RlbSgnQ29DNycpXG4gIGdhbWUuQ29DN3NvY2tldC5yZWdpc3RlcignZ21jcmVhdGVtZXNzYWdlYXMnLCBnbWNyZWF0ZW1lc3NhZ2VhcylcbiAgZ2FtZS5Db0M3c29ja2V0LnJlZ2lzdGVyKCdnbXRyYWRlaXRlbXRvJywgZ210cmFkZWl0ZW10bylcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ21jcmVhdGVtZXNzYWdlYXMgKGRhdGEpIHtcbiAgY29uc3QgbWVsZWVUYXJnZXQgPSBuZXcgQ29DN01lbGVlVGFyZ2V0KFxuICAgIGRhdGEudGFyZ2V0S2V5LFxuICAgIGRhdGEubWVzc2FnZUlkLFxuICAgIGRhdGEuZmFzdEZvcndhcmRcbiAgKVxuICBtZWxlZVRhcmdldC5pbml0aWF0b3JLZXkgPSBkYXRhLmFjdG9yS2V5XG4gIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBtZWxlZVRhcmdldC5jcmVhdGVDaGF0Q2FyZCgpXG4gIHJldHVybiBtZXNzYWdlXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdtdHJhZGVpdGVtdG8gKGRhdGEpIHtcbiAgdHJ5IHtcbiAgICBsZXQgYWN0b3JcbiAgICBpZiAoZGF0YS5zY2VuZSkge1xuICAgICAgYWN0b3IgPSBnYW1lLnNjZW5lcy5nZXQoZGF0YS5zY2VuZSkudG9rZW5zLmdldChkYXRhLmFjdG9yRnJvbSkuYWN0b3JcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoZGF0YS5hY3RvckZyb20pXG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSBhY3Rvci5pdGVtcy5nZXQoZGF0YS5pdGVtKVxuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCBnYW1lLmFjdG9yc1xuICAgICAgLmdldChkYXRhLmFjdG9yVG8pXG4gICAgICAuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbaXRlbS50b0pTT04oKV0pXG4gICAgaWYgKGNyZWF0ZWQpIHtcbiAgICAgIGFjdG9yLmRlbGV0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2l0ZW0uaWRdKVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZSlcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuIiwiLyogZ2xvYmFsIGZyb21VdWlkLCBnYW1lLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0ludmVzdGlnYXRvcldpemFyZCB9IGZyb20gJy4vaW52ZXN0aWdhdG9yLXdpemFyZC5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBDb21iaW5lZENoZWNrQ2FyZCB9IGZyb20gJy4uL2NoYXQvY2FyZHMvY29tYmluZWQtcm9sbC5qcydcbmltcG9ydCB7IE9wcG9zZWRDaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL29wcG9zZWQtcm9sbC5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdTeXN0ZW1Tb2NrZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgICAgICAgICAgICAgICAgICAgICAgIERhdGEgdG8gc2VuZCB0byBzb2NrZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YS50eXBlXSAgICAgICAgICAgICAgICBBY3Rpb24gdG8gcnVuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gW2RhdGEubGlzdGVuZXJdICBvbmx5IHRoaXMgc3BlY2ZpYyB1c2VyIHNob3VsZCBydW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNhbGxTb2NrZXQgKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEubGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoZ2FtZS51c2VyLmlkID09PSBkYXRhLmxpc3RlbmVyKSB7XG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnY2hhcmFjdGVyLXdpemFyZCc6XG4gICAgICAgICAgICBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkLmNyZWF0ZUNoYXJhY3RlckZyb21EYXRhKGRhdGEucGF5bG9hZClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnb3Blbi1jaGFyYWN0ZXInOlxuICAgICAgICAgICAgZ2FtZS5hY3RvcnMuZ2V0KGRhdGEucGF5bG9hZCkuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgT3Bwb3NlZENoZWNrQ2FyZC5kZWZhdWx0Q29uZmlnLnR5cGU6XG4gICAgICAgICAgICBPcHBvc2VkQ2hlY2tDYXJkLmRpc3BhdGNoKGRhdGEpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgQ29tYmluZWRDaGVja0NhcmQuZGVmYXVsdENvbmZpZy50eXBlOlxuICAgICAgICAgICAgQ29tYmluZWRDaGVja0NhcmQuZGlzcGF0Y2goZGF0YSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnaW52b2tlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IGZyb21VdWlkKGRhdGEuaXRlbSlcbiAgICAgICAgICAgICAgaXRlbVtkYXRhLm1ldGhvZF0oZGF0YS5kYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgY2FzZSAndXBkYXRlQ2hhcic6XG4gICAgICAgICAgQ29DN1V0aWxpdGllcy51cGRhdGVDaGFyU2hlZXRzKClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IEtlZXBlciBhY3Rpb24sIGlmIHlvdSBhcmUgYSBrZWVwZXIgcnVuIHlvdXJzZWxmLCBpZiB0aGVyZSBpcyBubyBhY3RpdmUgR00gc2hvdyBlcnJvclxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAgICAgICAgICAgICBEYXRhIHRvIHNlbmQgdG8gc29ja2V0LlxuICAgKi9cbiAgc3RhdGljIHJlcXVlc3RLZWVwZXJBY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGRhdGEubGlzdGVuZXIgPSBnYW1lLnVzZXIuaWRcbiAgICAgIENvQzdTeXN0ZW1Tb2NrZXQuY2FsbFNvY2tldChkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZWVwZXJzID0gZ2FtZS51c2Vycy5maWx0ZXIodSA9PiB1LmFjdGl2ZSAmJiB1LmlzR00pXG4gICAgICBpZiAoa2VlcGVycy5sZW5ndGgpIHtcbiAgICAgICAgZGF0YS5saXN0ZW5lciA9IGtlZXBlcnNbMF0uaWRcbiAgICAgICAgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JNaXNzaW5nS2VlcGVyVXNlcicpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCB1c2VyIGFjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAgICAgICAgICAgICBEYXRhIHRvIHNlbmQgdG8gc29ja2V0LlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB1c2VySWQgICAgICBPbmx5IHRoaXMgdXNlciBpZCBzaG91bGQgcnVuIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXJyb3JJZk1pc3NpbmcgIElmIHJlcXVlc3RpbmcgYSBzcGVjaWZpYyB1c2VyIHNob3VsZCBydW4gdGhlIGFjdGlvbiBlcnJvciBpZiB1c2VyIG5vdCBmb3VuZCAvIGxvZ2dlZCBpbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlU2VsZiAgICAgSWYgcnVubmluZyBhcyBhbGwgdXNlcnMgc2hvdWxkIHRoZSBjdXJyZW50IHVzZXIgYWxzbyBydW4gdGhlIGFjdGlvbi5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHN0YXRpYyByZXF1ZXN0VXNlckFjdGlvbiAoXG4gICAgZGF0YSxcbiAgICB7IHVzZXJJZCA9IG51bGwsIGVycm9ySWZNaXNzaW5nID0gdHJ1ZSwgaW5jbHVkZVNlbGYgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBpZiAodXNlcklkICYmIHR5cGVvZiB1c2VySWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodXNlcklkID09PSBnYW1lLnVzZXIuaWQpIHtcbiAgICAgICAgZGF0YS5saXN0ZW5lciA9IGdhbWUudXNlci5pZFxuICAgICAgICBDb0M3U3lzdGVtU29ja2V0LmNhbGxTb2NrZXQoZGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBnYW1lLnVzZXJzLmdldCh1c2VySWQpXG4gICAgICAgIGlmICh0eXBlb2YgdXNlci5pZCAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlci5hY3RpdmUpIHtcbiAgICAgICAgICBkYXRhLmxpc3RlbmVyID0gdXNlci5pZFxuICAgICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvcklmTWlzc2luZykge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yTWlzc2luZ1VzZXInKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5jbHVkZVNlbGYpIHtcbiAgICAgICAgQ29DN1N5c3RlbVNvY2tldC5jYWxsU29ja2V0KGRhdGEpXG4gICAgICB9XG4gICAgICBnYW1lLnNvY2tldC5lbWl0KCdzeXN0ZW0uQ29DNycsIGRhdGEpXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ29tYmF0LCBDT05GSUcsIGdhbWUsIEhvb2tzLCBJdGVtRGlyZWN0b3J5ICovXG5pbXBvcnQgeyBDb0M3TlBDU2hlZXQgfSBmcm9tICcuL2FjdG9ycy9zaGVldHMvbnBjLXNoZWV0LmpzJ1xuaW1wb3J0IHsgQ29DN0NyZWF0dXJlU2hlZXQgfSBmcm9tICcuL2FjdG9ycy9zaGVldHMvY3JlYXR1cmUtc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3Q2hhcmFjdGVyU2hlZXQgfSBmcm9tICcuL2FjdG9ycy9zaGVldHMvY2hhcmFjdGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXQgfSBmcm9tICcuL2NoYXQuanMnXG5pbXBvcnQgeyBDb0M3Q29tYmF0LCByb2xsSW5pdGlhdGl2ZSB9IGZyb20gJy4vY29tYmF0LmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgVXBkYXRlciB9IGZyb20gJy4vdXBkYXRlci5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IENvQzdQYXJzZXIgfSBmcm9tICcuL2FwcHMvY29jNy1wYXJzZXIuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN01lbnUgfSBmcm9tICcuL21lbnUuanMnXG5pbXBvcnQgeyBEYW1hZ2VDYXJkIH0gZnJvbSAnLi9jaGF0L2NhcmRzL2RhbWFnZS5qcydcbmltcG9ydCB7IENvQzdDYW52YXMgfSBmcm9tICcuL2FwcHMvY2FudmFzLmpzJ1xuaW1wb3J0IHsgQ29DN1NldHRpbmdzRGlyZWN0b3J5IH0gZnJvbSAnLi9zZXR0aW5ncy1kaXJlY3RvcnkuanMnXG5pbXBvcnQgeyBDb0M3Q29tcGVuZGl1bURpcmVjdG9yeSB9IGZyb20gJy4vY29tcGVuZGl1bS1kaXJlY3RvcnkuanMnXG5pbXBvcnQgeyBDb0M3QWN0b3JEaXJlY3RvcnkgfSBmcm9tICcuL2FjdG9yLWRpcmVjdG9yeS5qcydcbmltcG9ydCB7IENvQzdIb29rcyB9IGZyb20gJy4vaG9va3MvaW5kZXguanMnXG5pbXBvcnQgKiBhcyBEaWNlQm90IGZyb20gJy4vZGljZWJvdC5qcydcbmltcG9ydCAnLi4vc3R5bGVzL3N5c3RlbS9pbmRleC5sZXNzJ1xuaW1wb3J0IHsgQ29DN0NoYXNlU2hlZXQgfSBmcm9tICcuL2l0ZW1zL2NoYXNlL3NoZWV0LmpzJ1xuaW1wb3J0IHsgQ29DN1NvY2tldCB9IGZyb20gJy4vaG9va3Mvc29ja2V0LmpzJ1xuaW1wb3J0IHsgQ29DN1N5c3RlbVNvY2tldCB9IGZyb20gJy4vYXBwcy9jb2M3LXN5c3RlbS1zb2NrZXQuanMnXG5pbXBvcnQgeyBEcm9wQWN0b3JTaGVldERhdGEgfSBmcm9tICcuL2hvb2tzL2Ryb3AtYWN0b3Itc2hlZXQtZGF0YS5qcydcblxuLy8gQ2FyZCBpbml0XG5pbXBvcnQgeyBpbml0RUNDIH0gZnJvbSAnLi9jb21tb24vY2hhdGNhcmRsaWIvc3JjL2NoYXRjYXJkbGliLmpzJ1xuaW1wb3J0IHsgQ2hhc2VPYnN0YWNsZUNhcmQgfSBmcm9tICcuL2NoYXQvY2FyZHMvY2hhc2Utb2JzdGFjbGUuanMnXG5pbXBvcnQgeyBDb0M3Q29udGV4dE1lbnUgfSBmcm9tICcuL2NvbnRleHQtbWVudS5qcydcblxuSG9va3Mub24oJ3JlbmRlclNldHRpbmdzQ29uZmlnJywgKGFwcCwgaHRtbCwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBzeXN0ZW1UYWIgPSAkKGFwcC5mb3JtKS5maW5kKCcudGFiW2RhdGEtdGFiPXN5c3RlbV0nKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5kaXNwbGF5SW5pdERpY2VzXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVJbml0aWF0aXZlJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5zdGFuYnlHTVJvbGxzXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVSb2xsJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC50cnVzdGVkQ2FuTW9kZnlDaGF0Q2FyZF0nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlQ2hhdENhcmRzJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5lbmFibGVTdGF0dXNJY29uc10nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlU2NlbmUnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLm92ZXJyaWRlR2FtZUFydHdvcmtdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZUdhbWVBcnR3b3JrJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5kaXNwbGF5UGxheWVyTmFtZU9uU2hlZXRdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZVNoZWV0JykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5kaXNyZWdhcmRVc2VQZXJSb3VuZF0nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlV2VhcG9uJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5zeW5jRGljZTNkXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVEaWNlU29OaWNlJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnaW5wdXRbbmFtZT1Db0M3XFxcXC5kZWJ1Z21vZGVdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZURldmVsb3BlckRlYnVnJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICBzeXN0ZW1UYWJcbiAgICAuZmluZCgnc2VsZWN0W25hbWU9Q29DN1xcXFwuYm91dE9mTWFkbmVzc1N1bW1hcnlUYWJsZV0nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlUm9sbFRhYmxlJykgK1xuICAgICAgICAnPC9oMj4nXG4gICAgKVxuICAvLyBNT1ZFRCBUTyBDSEFTU0UgSU5ESVZJRFVBTCBTRVRUSU5HXG4gIC8vIHN5c3RlbVRhYlxuICAvLyAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmNoYXNlU2hvd1Rva2VuTW92ZW1lbnRdJylcbiAgLy8gICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAvLyAgIC5iZWZvcmUoXG4gIC8vICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgLy8gICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZUNoYXNlU2V0dGluZ3MnKSArXG4gIC8vICAgICAgICc8L2gyPidcbiAgLy8gICApXG59KVxuXG5Ib29rcy5vbmNlKCdpbml0JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICBnYW1lLkNvQzcgPSB7XG4gICAgbWFjcm9zOiB7XG4gICAgICBza2lsbENoZWNrOiBDb0M3VXRpbGl0aWVzLnNraWxsQ2hlY2tNYWNybyxcbiAgICAgIHdlYXBvbkNoZWNrOiBDb0M3VXRpbGl0aWVzLndlYXBvbkNoZWNrTWFjcm8sXG4gICAgICBjaGVjazogQ29DN1V0aWxpdGllcy5jaGVja01hY3JvXG4gICAgfSxcbiAgICBjYXJkczoge1xuICAgICAgRGFtYWdlQ2FyZFxuICAgIH0sXG4gICAgZGV2OiB7XG4gICAgICBkaWNlOiB7XG4gICAgICAgIGFsd2F5c0NyaXQ6IGZhbHNlLFxuICAgICAgICBhbHdheXNGdW1ibGU6IGZhbHNlXG4gICAgICB9XG4gICAgfSxcbiAgICBlcmFzOiAoZXJhLCBuYW1lKSA9PiB7XG4gICAgICBDT0M3LmVyYXNbZXJhXSA9IG5hbWVcbiAgICB9XG4gIH1cbiAgQ29tYmF0LnByb3RvdHlwZS5yb2xsSW5pdGlhdGl2ZSA9IHJvbGxJbml0aWF0aXZlXG59KVxuXG5pbml0RUNDKENoYXNlT2JzdGFjbGVDYXJkKVxuXG5Ib29rcy5vbigncmVuZGVyQ29tYmF0VHJhY2tlcicsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gIENvQzdDb21iYXQucmVuZGVyQ29tYmF0VHJhY2tlcihhcHAsIGh0bWwsIGRhdGEpXG4pXG5cbkRpY2VCb3QubGlzdGVuKClcbkNvQzdIb29rcy5saXN0ZW4oKVxuXG5Ib29rcy5vbmNlKCdzb2NrZXRsaWIucmVhZHknLCBDb0M3U29ja2V0KVxuXG5Ib29rcy5vbmNlKCdzZXR1cCcsIGZ1bmN0aW9uICgpIHtcbiAgLy8gTG9jYWxpemUgQ09ORklHIG9iamVjdHMgb25jZSB1cC1mcm9udFxuICBjb25zdCB0b0xvY2FsaXplID0gW1xuICAgICdzcGVsbFByb3BlcnRpZXMnLFxuICAgICdib29rVHlwZScsXG4gICAgJ3RhbGVudFR5cGUnLFxuICAgICdvY2N1cGF0aW9uUHJvcGVydGllcycsXG4gICAgJ3N0YXR1c1R5cGUnXG4gIF1cblxuICBmb3IgKGNvbnN0IG8gb2YgdG9Mb2NhbGl6ZSkge1xuICAgIGNvbnN0IGxvY2FsaXplZCA9IE9iamVjdC5lbnRyaWVzKENPQzdbb10pLm1hcChlID0+IHtcbiAgICAgIHJldHVybiBbZVswXSwgZ2FtZS5pMThuLmxvY2FsaXplKGVbMV0pXVxuICAgIH0pXG4gICAgQ09DN1tvXSA9IGxvY2FsaXplZC5yZWR1Y2UoKG9iaiwgZSkgPT4ge1xuICAgICAgb2JqW2VbMF1dID0gZVsxXVxuICAgICAgcmV0dXJuIG9ialxuICAgIH0sIHt9KVxuICB9XG5cbiAgbGV0IGVmZmVjdEluZGV4ID0gQ09ORklHLnN0YXR1c0VmZmVjdHMuZmluZEluZGV4KFxuICAgIHQgPT4gdC5pZCA9PT0gQ09DNy5zdGF0dXMuZGVhZFxuICApXG4gIGlmIChlZmZlY3RJbmRleCAhPT0gLTEpIHtcbiAgICBDT05GSUcuc3RhdHVzRWZmZWN0c1tlZmZlY3RJbmRleF0uaWNvbiA9XG4gICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy90b21ic3RvbmUuc3ZnJ1xuICB9XG4gIGVmZmVjdEluZGV4ID0gQ09ORklHLnN0YXR1c0VmZmVjdHMuZmluZEluZGV4KFxuICAgIHQgPT4gdC5pZCA9PT0gQ09DNy5zdGF0dXMudW5jb25zY2lvdXNcbiAgKVxuICBpZiAoZWZmZWN0SW5kZXggIT09IC0xKSB7XG4gICAgQ09ORklHLnN0YXR1c0VmZmVjdHNbZWZmZWN0SW5kZXhdLmljb24gPVxuICAgICAgJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMva25vY2tlZC1vdXQtc3RhcnMuc3ZnJ1xuICB9XG4gIENPTkZJRy5zdGF0dXNFZmZlY3RzLnVuc2hpZnQoXG4gICAge1xuICAgICAgaWQ6IENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lLFxuICAgICAgbGFiZWw6ICdDb0M3LkJvdXRPZk1hZG5lc3NOYW1lJyxcbiAgICAgIGljb246ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL2hhbmdpbmctc3BpZGVyLnN2ZydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBDT0M3LnN0YXR1cy5pbmRlZkluc2FuZSxcbiAgICAgIGxhYmVsOiAnQ29DNy5JbnNhbml0eU5hbWUnLFxuICAgICAgaWNvbjogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvdGVudGFjbGVzLXNrdWxsLnN2ZydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kcyxcbiAgICAgIGxhYmVsOiAnQ29DNy5Dcml0aWNhbFdvdW5kcycsXG4gICAgICBpY29uOiAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9hcm0tc2xpbmcuc3ZnJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IENPQzcuc3RhdHVzLmR5aW5nLFxuICAgICAgbGFiZWw6ICdDb0M3LkR5aW5nJyxcbiAgICAgIGljb246ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL2hlYXJ0LWJlYXRzLnN2ZydcbiAgICB9XG4gIClcbn0pXG5cbkhvb2tzLm9uKCdjcmVhdGVBY3RpdmVFZmZlY3QnLCAoZGF0YSwgb3B0aW9ucywgdXNlcklkKSA9PiB7XG4gIGlmIChcbiAgICBnYW1lLnVzZXJJZCA9PT0gdXNlcklkICYmXG4gICAgdHlwZW9mIGRhdGEuZmxhZ3MuY29yZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZGF0YS5mbGFncy5jb3JlLnN0YXR1c0lkICE9PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICBzd2l0Y2ggKGRhdGEuZmxhZ3MuY29yZS5zdGF0dXNJZCkge1xuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5pbmRlZkluc2FuZTpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMudW5jb25zY2lvdXM6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5keWluZzpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMucHJvbmU6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmRlYWQ6XG4gICAgICAgIGRhdGEucGFyZW50LnNldENvbmRpdGlvbihkYXRhLmZsYWdzLmNvcmUuc3RhdHVzSWQsIHtcbiAgICAgICAgICBmb3JjZVZhbHVlOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgcmVhbFRpbWUgPSBkYXRhLmZsYWdzLkNvQzc/LnJlYWxUaW1lXG4gICAgICAgICAgbGV0IGR1cmF0aW9uID0gbnVsbFxuICAgICAgICAgIGlmIChyZWFsVGltZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uPy5yb3VuZHNcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlYWxUaW1lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uPy5zZWNvbmRzXG4gICAgICAgICAgICBpZiAoIWlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICBkdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAzNjAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhLnBhcmVudC5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUsIHtcbiAgICAgICAgICAgIGZvcmNlVmFsdWU6IHRydWUsXG4gICAgICAgICAgICByZWFsVGltZSxcbiAgICAgICAgICAgIGR1cmF0aW9uXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxufSlcblxuSG9va3Mub24oJ2RlbGV0ZUFjdGl2ZUVmZmVjdCcsIChkYXRhLCBvcHRpb25zLCB1c2VySWQpID0+IHtcbiAgaWYgKFxuICAgIGdhbWUudXNlcklkID09PSB1c2VySWQgJiZcbiAgICB0eXBlb2YgZGF0YS5mbGFncy5jb3JlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkYXRhLmZsYWdzLmNvcmUuc3RhdHVzSWQgIT09ICd1bmRlZmluZWQnXG4gICkge1xuICAgIHN3aXRjaCAoZGF0YS5mbGFncy5jb3JlLnN0YXR1c0lkKSB7XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5pbmRlZkluc2FuZTpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMudW5jb25zY2lvdXM6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5keWluZzpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMucHJvbmU6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmRlYWQ6XG4gICAgICAgIGRhdGEucGFyZW50LnVuc2V0Q29uZGl0aW9uKGRhdGEuZmxhZ3MuY29yZS5zdGF0dXNJZCwge1xuICAgICAgICAgIGZvcmNlVmFsdWU6IHRydWVcbiAgICAgICAgfSlcbiAgICB9XG4gIH1cbn0pXG5cbi8vIFRoaXMgd2lsbCBoaWRlIHRoZSBpdGVtIGNhbGxlZCAnX19Db0M3SW50ZXJuYWxJdGVtX18nXG4vLyBUaGlzIGl0ZW0gaXMgdXNlZCBmb3IgaW50ZXJuYWwgcHVycG9zZXMgYW5kIHNob3VsZCBub3QgYmUgc2VlbiBieSBhbnlvbmVcbkhvb2tzLm9uKCdjaGFuZ2VTaWRlYmFyVGFiJywgZGlyZWN0b3J5ID0+IHtcbiAgaWYgKGRpcmVjdG9yeSBpbnN0YW5jZW9mIEl0ZW1EaXJlY3RvcnkpIHtcbiAgICBjb25zdCBpdGVtID0gZ2FtZS5pdGVtcy5maW5kKGkgPT4gaS5uYW1lID09PSAnX19Db0M3SW50ZXJuYWxJdGVtX18nKVxuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCBodG1sID0gZGlyZWN0b3J5Ll9lbGVtZW50XG4gICAgICBjb25zdCBpdGVtRWxlbWVudCA9IGh0bWwuZmluZChgW2RhdGEtZG9jdW1lbnQtaWQ9JyR7aXRlbS5pZH0nXWApXG4gICAgICBpZiAoaXRlbUVsZW1lbnQpIGl0ZW1FbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG4gIH1cbn0pXG5cbkhvb2tzLm9uKCdob3RiYXJEcm9wJywgKGJhciwgZGF0YSwgc2xvdCkgPT4ge1xuICByZXR1cm4gQ29DN1V0aWxpdGllcy5jcmVhdGVNYWNybyhiYXIsIGRhdGEsIHNsb3QpXG59KVxuXG5Ib29rcy5vbigncmVuZGVyQ2hhdExvZycsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gIENvQzdDaGF0LmNoYXRMaXN0ZW5lcnMoYXBwLCBodG1sLCBkYXRhKVxuKVxuSG9va3Mub24oJ3VwZGF0ZUNoYXRNZXNzYWdlJywgKGNoYXRNZXNzYWdlLCBjaGF0RGF0YSwgZGlmZiwgc3BlYWtlcikgPT5cbiAgQ29DN0NoYXQub25VcGRhdGVDaGF0TWVzc2FnZShjaGF0TWVzc2FnZSwgY2hhdERhdGEsIGRpZmYsIHNwZWFrZXIpXG4pXG5cbkhvb2tzLm9uKCdyZWFkeScsIGFzeW5jICgpID0+IHtcbiAgYXdhaXQgVXBkYXRlci5jaGVja0ZvclVwZGF0ZSgpXG5cbiAgLy8gZ2FtZS5Db0M3Lm1lbnVzID0gbmV3IENvQzdNZW51KCk7XG5cbiAgYWN0aXZhdGVHbG9iYWxMaXN0ZW5lcigpXG5cbiAgLy8gc2V0R2xvYmFsQ3NzVmFyKClcblxuICBnYW1lLkNvQzcuc2tpbGxMaXN0ID0gYXdhaXQgZ2FtZS5wYWNrcy5nZXQoJ0NvQzcuc2tpbGxzJyk/LmdldERvY3VtZW50cygpXG5cbiAgZ2FtZS5zb2NrZXQub24oJ3N5c3RlbS5Db0M3JywgYXN5bmMgZGF0YSA9PiB7XG4gICAgQ29DN1N5c3RlbVNvY2tldC5jYWxsU29ja2V0KGRhdGEpXG4gIH0pXG5cbiAgLy8gXCJTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzUGhvYmlhc0luZGV4XCI6IFwiUGhvYmlhcyBpbmRleFwiLFxuICAvLyBcIlNFVFRJTkdTLkJvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXhIaW50XCI6IFwiVGhlIGluZGV4IChyb2xsIHJlc3VsdCkgdGhhdCB3aWxsIHRyaWdnZXIgYSByb2xsIGluIHRoZSBwaG9iaWFzIHRhYmxlXCIsXG4gIC8vIFwiU0VUVElOR1MuQm91dE9mTWFkbmVzc01hbmlhc0luZGV4XCI6IFwiTWFuaWFzIGluZGV4XCIsXG4gIC8vIFwiU0VUVElOR1MuQm91dE9mTWFkbmVzc01hbmlhc0luZGV4SGludFwiOiBcIlRoZSBpbmRleCAocm9sbCByZXN1bHQpIHRoYXQgd2lsbCB0cmlnZ2VyIGEgcm9sbCBpbiB0aGUgbWFuaWFzIHRhYmxlXCIsXG4gIC8vIFwiU0VUVElOR1MuU2FtcGxlUGhvYmlhc1RhYmxlXCI6IFwiU2FtcGxlIHBob2JpYXMgdGFibGVcIixcbiAgLy8gXCJTRVRUSU5HUy5TYW1wbGVNYW5pYXNUYWJsZVwiOiBcIlNhbXBsZSBNYW5pYXMgdGFibGVcIixcblxuICBmdW5jdGlvbiBfdGFibGVTZXR0aW5nc0NoYW5nZWQgKHRhYmxlLCBpZCkge1xuICAgIGlmIChpZCA9PT0gJ25vbmUnKSBnYW1lLkNvQzcudGFibGVzW3RhYmxlXSA9IG51bGxcbiAgICBlbHNlIGdhbWUuQ29DNy50YWJsZXNbdGFibGVdID0gZ2FtZS50YWJsZXMuZ2V0KGlkKVxuICB9XG5cbiAgLy8gZnVuY3Rpb24gX3RhYmxlSW5kZXhDaGFuZ2VkKCB0YWJsZSwgaW5kZXgpe1xuICAvLyAgZ2FtZS5Db0M3LnRhYmxlc1t0YWJsZV09aW5kZXg7XG4gIC8vIH1cblxuICBjb25zdCB0YWJsZUNob2ljZSA9IHsgbm9uZTogJ1NFVFRJTkdTLkxldEtlZXBlckRlY2lkZScgfVxuICBmb3IgKGNvbnN0IHQgb2YgZ2FtZS50YWJsZXMpIHtcbiAgICB0YWJsZUNob2ljZVt0Ll9pZF0gPSB0Lm5hbWVcbiAgfVxuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1N1bW1hcnlUYWJsZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuQm91dE9mTWFkbmVzc1N1bW1hcnlUYWJsZScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6ICdub25lJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY2hvaWNlczogdGFibGVDaG9pY2UsXG4gICAgb25DaGFuZ2U6IGlkID0+IF90YWJsZVNldHRpbmdzQ2hhbmdlZCgnYm91dE9mTWFkbmVzc19TdW1tYXJ5JywgaWQpXG4gIH0pXG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdib3V0T2ZNYWRuZXNzUmVhbFRpbWVUYWJsZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuQm91dE9mTWFkbmVzc1JlYWxUaW1lVGFibGUnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAnbm9uZScsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNob2ljZXM6IHRhYmxlQ2hvaWNlLFxuICAgIG9uQ2hhbmdlOiBpZCA9PiBfdGFibGVTZXR0aW5nc0NoYW5nZWQoJ2JvdXRPZk1hZG5lc3NfUmVhbFRpbWUnLCBpZClcbiAgfSlcblxuICAvLyBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXgnLHtcbiAgLy8gIG5hbWU6ICdTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzUGhvYmlhc0luZGV4JyxcbiAgLy8gIGhpbnQ6ICdTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzUGhvYmlhc0luZGV4SGludCcsXG4gIC8vICBzY29wZTogJ3dvcmxkJyxcbiAgLy8gIGNvbmZpZzogdHJ1ZSxcbiAgLy8gIGRlZmF1bHQ6IDksXG4gIC8vICB0eXBlOiBOdW1iZXIsXG4gIC8vICBvbkNoYW5nZTogIGlkID0+IF90YWJsZUluZGV4Q2hhbmdlZCggJ3Bob2JpYXNJbmRleCcsIGlkKVxuICAvLyB9KTtcblxuICAvLyBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NNYW5pYXNJbmRleCcse1xuICAvLyAgbmFtZTogJ1NFVFRJTkdTLkJvdXRPZk1hZG5lc3NNYW5pYXNJbmRleCcsXG4gIC8vICBoaW50OiAnU0VUVElOR1MuQm91dE9mTWFkbmVzc01hbmlhc0luZGV4SGludCcsXG4gIC8vICBzY29wZTogJ3dvcmxkJyxcbiAgLy8gIGNvbmZpZzogdHJ1ZSxcbiAgLy8gIGRlZmF1bHQ6IDEwLFxuICAvLyAgdHlwZTogTnVtYmVyLFxuICAvLyAgb25DaGFuZ2U6ICBpZCA9PiBfdGFibGVJbmRleENoYW5nZWQoICdtYW5pYXNJbmRleCcsIGlkKVxuICAvLyB9KTtcblxuICAvLyBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3NhbXBsZVBob2JpYXNUYWJsZScse1xuICAvLyAgbmFtZTogJ1NFVFRJTkdTLlNhbXBsZVBob2JpYXNUYWJsZScsXG4gIC8vICBzY29wZTogJ3dvcmxkJyxcbiAgLy8gIGNvbmZpZzogdHJ1ZSxcbiAgLy8gIGRlZmF1bHQ6ICdub25lJyxcbiAgLy8gIHR5cGU6IFN0cmluZyxcbiAgLy8gIGNob2ljZXM6IHRhYmxlQ2hvaWNlLFxuICAvLyAgb25DaGFuZ2U6ICBpZCA9PiBfdGFibGVTZXR0aW5nc0NoYW5nZWQoICdwaG9iaWFzJywgaWQpXG4gIC8vIH0pO1xuXG4gIC8vIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2FtcGxlTWFuaWFzVGFibGUnLHtcbiAgLy8gIG5hbWU6ICdTRVRUSU5HUy5TYW1wbGVNYW5pYXNUYWJsZScsXG4gIC8vICBzY29wZTogJ3dvcmxkJyxcbiAgLy8gIGNvbmZpZzogdHJ1ZSxcbiAgLy8gIGRlZmF1bHQ6ICdub25lJyxcbiAgLy8gIHR5cGU6IFN0cmluZyxcbiAgLy8gIGNob2ljZXM6IHRhYmxlQ2hvaWNlLFxuICAvLyAgb25DaGFuZ2U6ICBpZCA9PiBfdGFibGVTZXR0aW5nc0NoYW5nZWQoICdtYW5pYXMnLCBpZClcbiAgLy8gfSk7XG5cbiAgZ2FtZS5Db0M3LnRhYmxlcyA9IHtcbiAgICBib3V0T2ZNYWRuZXNzX1N1bW1hcnk6XG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlJykgPT09ICdub25lJ1xuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBnYW1lLnRhYmxlcy5nZXQoXG4gICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1N1bW1hcnlUYWJsZScpXG4gICAgICAgICksXG4gICAgYm91dE9mTWFkbmVzc19SZWFsVGltZTpcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NSZWFsVGltZVRhYmxlJykgPT09ICdub25lJ1xuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBnYW1lLnRhYmxlcy5nZXQoXG4gICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1JlYWxUaW1lVGFibGUnKVxuICAgICAgICApXG4gICAgLy8gbWFuaWFzSW5kZXg6IGdlLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzUGhvYmlhc0luZGV4JyksXG4gICAgLy8gcGhvYmlhc0luZGV4OiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzTWFuaWFzSW5kZXgnKSxcbiAgICAvLyBwaG9iaWFzOiAoJ25vbmUnID09IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3NhbXBsZVBob2JpYXNUYWJsZScpKT9udWxsOmdhbWUudGFibGVzLmdldChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzYW1wbGVQaG9iaWFzVGFibGUnKSksXG4gICAgLy8gbWFuaWFzOiAoJ25vbmUnID09IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3NhbXBsZU1hbmlhc1RhYmxlJykpP251bGw6Z2FtZS50YWJsZXMuZ2V0KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3NhbXBsZU1hbmlhc1RhYmxlJykpLFxuICB9XG59KVxuXG4vLyBIb29rcy5vbigncHJlQ3JlYXRlQWN0b3InLCAoY3JlYXRlRGF0YSkgPT4gQ29DQWN0b3IuaW5pdFRva2VuKCBjcmVhdGVEYXRhKSk7XG5cbkhvb2tzLm9uKFxuICAncmVuZGVyQ29DN0NoYXNlU2hlZXQnLFxuICAvKiogYXN5bmMgKi8gKGFwcCwgaHRtbCwgZGF0YSkgPT5cbiAgICAvKiogYXdhaXQgKi8gQ29DN0NoYXNlU2hlZXQuc2V0U2Nyb2xsKGFwcCwgaHRtbCwgZGF0YSlcbilcblxuSG9va3Mub24oJ2Nsb3NlQ29DN0NoYXNlU2hlZXQnLCAoYXBwLCBodG1sKSA9PlxuICBDb0M3Q2hhc2VTaGVldC5vbkNsb3NlKGFwcCwgaHRtbClcbilcblxuLy8gQ2FsbGVkIG9uIGNsb3NpbmcgYSBjaGFyYWN0ZXIgc2hlZXQgdG8gbG9jayBpdCBvbiBnZXR0aW5nIGl0IHRvIGRpc3BsYXkgdmFsdWVzXG5Ib29rcy5vbignY2xvc2VBY3RvclNoZWV0JywgY2hhcmFjdGVyU2hlZXQgPT4gY2hhcmFjdGVyU2hlZXQub25DbG9zZVNoZWV0KCkpXG5Ib29rcy5vbigncmVuZGVyQ29DN0NyZWF0dXJlU2hlZXQnLCAoYXBwLCBodG1sLCBkYXRhKSA9PlxuICBDb0M3Q3JlYXR1cmVTaGVldC5mb3JjZUF1dG8oYXBwLCBodG1sLCBkYXRhKVxuKVxuSG9va3Mub24oJ3JlbmRlckNvQzdOUENTaGVldCcsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gIENvQzdOUENTaGVldC5mb3JjZUF1dG8oYXBwLCBodG1sLCBkYXRhKVxuKVxuLy8gSG9va3Mub24oJ3VwZGF0ZUFjdG9yJywgKGFjdG9yLCBkYXRhVXBkYXRlKSA9PiBDb0NBY3Rvci51cGRhdGVBY3RvciggYWN0b3IsIGRhdGFVcGRhdGUpKTtcbi8vIEhvb2tzLm9uKCd1cGRhdGVUb2tlbicsIChzY2VuZSwgdG9rZW4sIGRhdGFVcGRhdGUpID0+IENvQ0FjdG9yLnVwZGF0ZVRva2VuKCBzY2VuZSwgdG9rZW4sIGRhdGFVcGRhdGUpKTtcblxuSG9va3Mub24oJ2NoYXRNZXNzYWdlJywgQ29DN1V0aWxpdGllcy5QYXJzZUNoYXRFbnRyeSlcbi8vIEhvb2tzLm9uKCdwcmVDcmVhdGVUb2tlbicsICggc2NlbmUsIGFjdG9yLCBvcHRpb25zLCBpZCkgPT4gQ29DQWN0b3IucHJlQ3JlYXRlVG9rZW4oIHNjZW5lLCBhY3Rvciwgb3B0aW9ucywgaWQpKVxuLy8gSG9va3Mub24oJ2NyZWF0ZVRva2VuJywgKCBzY2VuZSwgYWN0b3IsIG9wdGlvbnMsIGlkKSA9PiBDb0NBY3Rvci5wcmVDcmVhdGVUb2tlbiggc2NlbmUsIGFjdG9yLCBvcHRpb25zLCBpZCkpXG4vLyBIb29rcy5vbihcInJlbmRlckNoYXRMb2dcIiwgKGFwcCwgaHRtbCwgZGF0YSkgPT4gQ29DN0l0ZW0uY2hhdExpc3RlbmVycyhodG1sKSk7XG5cbkhvb2tzLm9uKCdnZXRTY2VuZUNvbnRyb2xCdXR0b25zJywgKC8qIGNvbnRyb2xzICovKSA9PiB7XG4gIC8vIGlmKCBnYW1lLnVzZXIuaXNHTSl7XG4gIC8vICBsZXQgZ3JvdXAgPSBjb250cm9scy5maW5kKGIgPT4gYi5uYW1lID09ICd0b2tlbicpO1xuICAvLyAgZ3JvdXAudG9vbHMucHVzaCh7XG4gIC8vICAgIHRvZ2dsZTogdHJ1ZSxcbiAgLy8gICAgaWNvbiA6ICdmYXMgZmEtYW5nbGUtZG91YmxlLXVwJyxcbiAgLy8gICAgbmFtZTogJ2RldnBoYXNlJyxcbiAgLy8gICAgYWN0aXZlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnKSxcbiAgLy8gICAgdGl0bGU6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2RldmVsb3BtZW50RW5hYmxlZCcpPyBnYW1lLmkxOG4ubG9jYWxpemUoICdDb0M3LkRldlBoYXNlRW5hYmxlZCcpOiBnYW1lLmkxOG4ubG9jYWxpemUoICdDb0M3LkRldlBoYXNlRGlzYWJsZWQnKSxcbiAgLy8gICAgb25DbGljayA6YXN5bmMgKCkgPT4gYXdhaXQgQ29DN1V0aWxpdGllcy50b2dnbGVEZXZQaGFzZSgpXG4gIC8vICB9KTtcbiAgLy8gIGdyb3VwLnRvb2xzLnB1c2goe1xuICAvLyAgICB0b2dnbGU6IHRydWUsXG4gIC8vICAgIGljb24gOiAnZmFzIGZhcyBmYS11c2VyLWVkaXQnLFxuICAvLyAgICBuYW1lOiAnY2hhcmNyZWF0ZScsXG4gIC8vICAgIGFjdGl2ZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcpLFxuICAvLyAgICB0aXRsZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcpPyBnYW1lLmkxOG4ubG9jYWxpemUoICdDb0M3LkNoYXJDcmVhdGlvbkVuYWJsZWQnKTogZ2FtZS5pMThuLmxvY2FsaXplKCAnQ29DNy5DaGFyQ3JlYXRpb25EaXNhYmxlZCcpLFxuICAvLyAgICBvbkNsaWNrIDphc3luYyAoKSA9PiBhd2FpdCBDb0M3VXRpbGl0aWVzLnRvZ2dsZUNoYXJDcmVhdGlvbigpXG4gIC8vICB9KTtcbiAgLy8gfVxufSlcblxuLy8gSG9va3Mub24oJ3JlbmRlclNjZW5lQ29udHJvbHMnLCAoKSA9PiBDb0M3VXRpbGl0aWVzLnVwZGF0ZUNoYXJTaGVldHMoKSk7XG4vLyBIb29rcy5vbigncmVuZGVyU2NlbmVOYXZpZ2F0aW9uJywgKCkgPT4gQ29DN1V0aWxpdGllcy51cGRhdGVDaGFyU2hlZXRzKCkpO1xuSG9va3Mub24oJ3JlbmRlckl0ZW1TaGVldCcsIENvQzdQYXJzZXIuUGFyc2VTaGVldENvbnRlbnQpXG5Ib29rcy5vbigncmVuZGVySm91cm5hbFBhZ2VTaGVldCcsIENvQzdQYXJzZXIuUGFyc2VTaGVldENvbnRlbnQpXG5Ib29rcy5vbigncmVuZGVyQWN0b3JTaGVldCcsIENvQzdQYXJzZXIuUGFyc2VTaGVldENvbnRlbnQpXG4vLyBTaGVldCBjc3Mgb3B0aW9uc1xuLy8gSG9va3Mub24oJ3JlbmRlckNvQzdDaGFyYWN0ZXJTaGVldCcsIENvQzdDaGFyYWN0ZXJTaGVldC5yZW5kZXJTaGVldCk7XG5Ib29rcy5vbigncmVuZGVyQWN0b3JTaGVldCcsIENvQzdDaGFyYWN0ZXJTaGVldC5yZW5kZXJTaGVldClcbkhvb2tzLm9uKCdyZW5kZXJJdGVtU2hlZXQnLCBDb0M3Q2hhcmFjdGVyU2hlZXQucmVuZGVyU2hlZXQpXG5cbi8vIEhvb2tzLm9uKCdkcm9wQ2FudmFzRGF0YScsIENvQzdQYXJzZXIub25Ecm9wU29tZXRoaW5nKTtcbkhvb2tzLm9uKCdnZXRTY2VuZUNvbnRyb2xCdXR0b25zJywgQ29DN01lbnUuZ2V0QnV0dG9ucylcbkhvb2tzLm9uKCdyZW5kZXJTY2VuZUNvbnRyb2xzJywgQ29DN01lbnUucmVuZGVyQ29udHJvbHMpXG5cbkhvb2tzLm9uKCdkcm9wQ2FudmFzRGF0YScsIENvQzdDYW52YXMub25Ecm9wU29tZXRoaW5nKVxuXG5Ib29rcy5vbignZHJvcEFjdG9yU2hlZXREYXRhJywgRHJvcEFjdG9yU2hlZXREYXRhKVxuXG5mdW5jdGlvbiBhY3RpdmF0ZUdsb2JhbExpc3RlbmVyICgpIHtcbiAgY29uc3QgYm9keSA9ICQoJ2JvZHknKVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIENvQzdDb250ZXh0TWVudS5jbG9zZUFsbClcbiAgYm9keS5vbignY2xpY2snLCAnYS5jb2M3LWlubGluZS1jaGVjaycsIENvQzdDaGVjay5fb25DbGlja0lubGluZVJvbGwpXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIF9vbkxlZnRDbGljaylcbn1cblxuZnVuY3Rpb24gX29uTGVmdENsaWNrIChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc2hpZnRLZXlcbn1cblxuQ09ORklHLnVpLnNldHRpbmdzID0gQ29DN1NldHRpbmdzRGlyZWN0b3J5XG5DT05GSUcudWkuY29tcGVuZGl1bSA9IENvQzdDb21wZW5kaXVtRGlyZWN0b3J5XG5DT05GSUcudWkuYWN0b3JzID0gQ29DN0FjdG9yRGlyZWN0b3J5XG4iLCIvKiBnbG9iYWwgQ2hhdE1lc3NhZ2UsIGdhbWUsIEhvb2tzLCBSb2xsLCB1aSAqL1xuXG4vKipcbiAqQ2FsbG9mQ3RodWxodSg3dGhFZC4pIERlZmluZSB5b3VyIG93biBjb21tYW5kc1xuICpIZXJlLCB3ZSByZWNlaXZlIHRoZSBjaGF0IE1lc3NhZ2VzIGFuZCBkZXRlcm1pbmUgZWFjaCBjb21tYW5kLlxuICpbL0NDXURlZmluZSBhIGNvbW1hbmQgdG8ganVkZ2UgYSBub3JtYWwgZGljZS5cbiAqWy9DQlJdIENvbW1hbmQgdG8gZGVmaW5lIHRoZSBkZWNpc2lvbiBvbiBjb21iaW5hdGlvbiByb2xscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdjaGF0TWVzc2FnZScsIChodG1sLCBjb250ZW50KSA9PiB7XG4gICAgLy8gSSdtIGN1cnJlbnRseSB1c2luZyBpdCBmb3IgdGVzdGluZyBib251cyBkaWNlLlxuICAgIGlmIChjb250ZW50Lm1hdGNoKC9eXFwvKGNicnxjYykvaSkpIHtcbiAgICAgIC8vIEV4dHJhY3RpbmcgbnVtYmVycyBmcm9tIGNvbWJpbmF0aW9uIHJvbGxzXG4gICAgICBjb25zdCBjb21tYW5kcyA9IGNvbnRlbnQubWF0Y2goLyhcXGQrKS9nKVxuICAgICAgaWYgKGNvbW1hbmRzKSB7XG4gICAgICAgIG5ldyBSb2xsKCcxZDEwMCcpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KS50aGVuKHIgPT4ge1xuICAgICAgICAgIGNvbnN0IHMgPSByLnJlc3VsdFxuICAgICAgICAgIGNvbnN0IHJlcyA9IGNvbW1hbmRzXG4gICAgICAgICAgICAubWFwKG0gPT4ge1xuICAgICAgICAgICAgICBsZXQgcmVzID0gJydcbiAgICAgICAgICAgICAgaWYgKHMgPD0gMSkgcmVzID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICAgICAgICAgIGVsc2UgaWYgKHMgPj0gMTAwKSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgICAgICAgICAgZWxzZSBpZiAocyA8PSBtIC8gNSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocyA8PSBtIC8gMikge1xuICAgICAgICAgICAgICAgIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkU3VjY2VzcycpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocyA8PSBtKSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBlbHNlIGlmIChzID49IDk2KSB7XG4gICAgICAgICAgICAgICAgaWYgKG0gPCA1MCkgcmVzID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZ1bWJsZScpXG4gICAgICAgICAgICAgICAgZWxzZSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmFpbHVyZScpXG4gICAgICAgICAgICAgIH0gZWxzZSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmFpbHVyZScpXG4gICAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgZmlyc3QgcmVzdWx0cy5cbiAgICAgICAgICAgICAgcmVzICs9ICcgJyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5WYWx1ZScpICsgJyAnICsgbVxuICAgICAgICAgICAgICByZXR1cm4gcmVzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJyAvICcpXG4gICAgICAgICAgci50b01lc3NhZ2Uoe1xuICAgICAgICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpLFxuICAgICAgICAgICAgZmxhdm9yOiByZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignSW5jb3JyZWN0IHVzYWdlIG9mIGNvbW1hbmQnKVxuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHRvIGF2b2lkIGVycm9ycyBpbiB0aGUgY29tbWFuZC5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lICovXG5leHBvcnQgZnVuY3Rpb24gRHJvcEFjdG9yU2hlZXREYXRhIChhY3Rvciwgc2hlZXQsIGRhdGEpIHtcbiAgaWYgKGRhdGEudHlwZSA9PT0gJ0l0ZW0nICYmIGRhdGEuYWN0b3JJZCkge1xuICAgIGlmIChhY3Rvci5kYXRhLl9pZCA9PT0gZGF0YS5hY3RvcklkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbGV0IGFjdG9yRnJvbSA9IG51bGxcbiAgICBpZiAoZGF0YS5zY2VuZUlkICYmIGRhdGEudG9rZW5JZCkge1xuICAgICAgYWN0b3JGcm9tID0gZ2FtZS5zY2VuZXMuZ2V0KGRhdGEuc2NlbmVJZCkudG9rZW5zLmdldChkYXRhLnRva2VuSWQpLmFjdG9yXG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdG9yRnJvbSA9IGdhbWUuYWN0b3JzLmdldChkYXRhLmFjdG9ySWQpXG4gICAgfVxuICAgIHN3aXRjaCAoYWN0b3IuZGF0YS50eXBlKSB7XG4gICAgICBjYXNlICdjaGFyYWN0ZXInOlxuICAgICAgY2FzZSAnbnBjJzpcbiAgICAgIGNhc2UgJ2NyZWF0dXJlJzpcbiAgICAgICAgaWYgKCFbJ2NoYXNlJ10uaW5jbHVkZXMoZGF0YS5kYXRhLnR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3ZlaGljbGUnOlxuICAgICAgICByZXR1cm5cbiAgICAgIGNhc2UgJ2NvbnRhaW5lcic6XG4gICAgICAgIGlmICghWydib29rJywgJ2l0ZW0nLCAnc3BlbGwnLCAnd2VhcG9uJ10uaW5jbHVkZXMoZGF0YS5kYXRhLnR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFjdG9yRnJvbSkge1xuICAgICAgYWN0b3JGcm9tLmRlbGV0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2RhdGEuZGF0YS5faWRdKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNPQzciLCJzdGFuZGFyZCIsIm1vZGVybiIsIm1vZGVyblB1bHAiLCJwdWxwIiwiZG93bkRhcmtlclRyYWlscyIsImRvd25EYXJrZXJUcmFpbHNQdWxwIiwiZGFya0FnZXMiLCJkYXJrQWdlc1B1bHAiLCJyZWdlbmN5IiwicmVnZW5jeVB1bHAiLCJnYXNMaWdodCIsImludmljdHVzIiwiZGVjaW1hbExlZnQiLCJkZWNpbWFsUmlnaHQiLCJpbnRlZ2VyTGVmdCIsImludGVnZXJSaWdodCIsImxzZCIsInJvbWFuIiwibm9uZSIsImFzc2VzIiwic2VzdGVydGlpIiwicXVpbmFyaWkiLCJkZW5hcmlpIiwiZCIsInMiLCJ2YWx1ZSIsIm11bHRpcGxpZXIiLCJuYW1lIiwiZmlsdGVyIiwic3RyIiwiY29uIiwic2l6IiwiZGV4IiwiYXBwIiwiaW50IiwicG93IiwiZWR1Iiwibm9hZGp1c3RtZW50cyIsIm5veHBnYWluIiwic3BlY2lhbCIsInJhcml0eSIsInB1c2giLCJjb21iYXQiLCJmaWdodGluZyIsImZpcmVhcm0iLCJyZXF1aXJlc25hbWUiLCJrZWVwYmFzZXZhbHVlIiwicGlja25hbWVvbmx5Iiwib25seW9uZSIsIm1lbGVlIiwicm5nZCIsIm1udnIiLCJ0aHJvd24iLCJzaG90Z3VuIiwiZGJybCIsImltcGwiLCJicnN0IiwiYXV0byIsImFoZGIiLCJhZGRiIiwic2xudCIsInNwY2wiLCJtb250IiwiYmxzdCIsInN0dW4iLCJyYXJlIiwiYnVybiIsImNhbGwiLCJkaXNtaXNzIiwiY29udGFjdCIsInN1bW1vbiIsImJpbmQiLCJlbmNoYW50bWVudCIsImdhdGUiLCJteXRob3MiLCJvY2N1bHQiLCJvdGhlciIsInBoeXNpY2FsIiwibWVudGFsIiwibWlzY2VsbGFuZW91cyIsImJhc2ljIiwiaW5zYW5lIiwibWFuaWEiLCJwaG9iaWEiLCJjbGFzc2ljIiwibG92ZWNyYWZ0aWFuIiwiZm9ybXVsYSIsImFjdG9yIiwiYWN0b3JzaGVldCIsInN0YXR1cyIsInRlbXBvSW5zYW5lIiwiaW5kZWZJbnNhbmUiLCJ1bmNvbnNjaW91cyIsImNyaXRpY2FsV291bmRzIiwiZHlpbmciLCJwcm9uZSIsImRlYWQiLCJuZXdCb29rTmFtZSIsIm5ld1NraWxsTmFtZSIsIm5ld1NwZWxsTmFtZSIsIm5ld0l0ZW1OYW1lIiwibmV3V2VhcG9uTmFtZSIsImNyZWF0dXJlRmlnaHRpbmdTa2lsbCIsImZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lIiwiZmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSIsImNvbWJhdENhcmRzIiwiZmlnaHRCYWNrIiwiZG9kZ2UiLCJtYW5ldXZlciIsIm5vUmVzcG9uc2UiLCJDb0M3RGljZSIsInJvbGwiLCJtb2RpZiIsInJvbGxNb2RlIiwiaGlkZURpY2UiLCJhbHRlcm5hdGl2ZURpY2UiLCJnYW1lIiwibW9kdWxlcyIsImdldCIsImFjdGl2ZSIsInNldHRpbmdzIiwiQ29DNyIsImRldiIsImRpY2UiLCJhbHdheXNDcml0IiwiUm9sbCIsImZyb21EYXRhIiwiY3JpdDAxIiwiYWx3YXlzRnVtYmxlIiwiZnVtYmxlOTkiLCJyZXBlYXQiLCJNYXRoIiwiYWJzIiwiYXN5bmMiLCJyZXN1bHQiLCJ1bml0IiwidG90YWwiLCJyZXN1bHRzIiwidGVucyIsIkNPTkZJRyIsIkRpY2UiLCJ0ZXJtcyIsInQiLCJpbmNsdWRlcyIsIm1heCIsImxlbmd0aCIsIm1pbiIsInNob3dSb2xsRGljZTNkIiwic3luY0RpY2UiLCJjaGF0RGF0YSIsIndoaXNwZXIiLCJibGluZCIsIkNoYXRNZXNzYWdlIiwiYXBwbHlSb2xsTW9kZSIsImRpY2UzZCIsInNob3dGb3JSb2xsIiwidXNlciIsImNvbWJpbmVkUm9sbCIsIm9wdGlvbnMiLCJwb29sIiwia2V5cyIsIk9iamVjdCIsIm1hcCIsInYiLCJwYXJzZUludCIsInBlbmFsdHlEaWNlIiwiYm9udXNEaWNlIiwiaGFzRFNOIiwiam9pbiIsImdyb3VwcyIsImJhc2VEaWUiLCJiYXNlU2V0Iiwib3V0cHV0Iiwia2V5IiwibW9kaWZpZXIiLCJvZmZzZXQiLCJzdGF0aWMiLCJjbGFzcyIsImV2YWx1YXRlZCIsIm51bWJlciIsImZhY2VzIiwibW9kaWZpZXJzIiwib3BlcmF0b3IiLCJDb0M3Q29udGVudExpbmtEaWFsb2ciLCJGb3JtQXBwbGljYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsIm1lcmdlT2JqZWN0Iiwic3VwZXIiLCJpZCIsImNsYXNzZXMiLCJ0aXRsZSIsImkxOG4iLCJsb2NhbGl6ZSIsImRyYWdEcm9wIiwiZHJhZ1NlbGVjdG9yIiwiZHJvcFNlbGVjdG9yIiwidGVtcGxhdGUiLCJjbG9zZU9uU3VibWl0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0YWJzIiwibmF2U2VsZWN0b3IiLCJjb250ZW50U2VsZWN0b3IiLCJpbml0aWFsIiwiZ2V0RGF0YSIsInNoZWV0RGF0YSIsImNoZWNrVHlwZSIsIkNvQzdMaW5rIiwiQ0hFQ0tfVFlQRSIsIkNIRUNLIiwibGFiZWwiLCJTQU5MT1NTIiwiSVRFTSIsIkVGRkVDVCIsImxpbmtUeXBlIiwiTElOS19UWVBFIiwiQ0hBUkFDVEVSSVNUSUMiLCJBVFRSSUJVVEUiLCJTS0lMTCIsImF0dHJpYnV0ZVR5cGUiLCJlZmZlY3RNb2RlcyIsImVudHJpZXMiLCJDT05TVCIsIkFDVElWRV9FRkZFQ1RfTU9ERVMiLCJyZWR1Y2UiLCJvYmoiLCJlIiwiY2hhcmFjdGVyaXN0aWNUeXBlIiwiQ29DQWN0b3IiLCJnZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24iLCJsaW5rIiwib2JqZWN0IiwiZnJvbUdhbWUiLCJpc0l0ZW1DaGVjayIsImlzU2tpbGxDaGVjayIsImZyb21EaXJlY3RvcnkiLCJoYXNJRCIsImZyb21Db21wZW5kaXVtIiwiaXNTZXRGcm9tR2FtZSIsImRpZmZpY3VsdHlMZXZlbCIsIkNvQzdDaGVjayIsImFjdG9yTmFtZXMiLCJhY3RvcnMiLCJhIiwiYWN0aXZhdGVMaXN0ZW5lcnMiLCJodG1sIiwiZmluZCIsImNoYW5nZSIsInRoaXMiLCJfb25DaGFuZ2VTdWJtaXQiLCJjbGljayIsIl9vbkVmZmVjdENvbnRyb2wiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJfb25TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbiIsImRhdGFzZXQiLCJhY3Rpb24iLCJfYWRkRWZmZWN0Q2hhbmdlIiwiY2xvc2VzdCIsInJlbW92ZSIsImlkeCIsImVmZmVjdCIsImNoYW5nZXMiLCJzdWJtaXQiLCJwcmV2ZW50Q2xvc2UiLCJ1cGRhdGVEYXRhIiwibW9kZSIsIkFERCIsIl91cGRhdGVPYmplY3QiLCJmb3JtRGF0YSIsImhhc0VmZmVjdCIsImR1cmF0aW9uIiwic2V0VmFsdWUiLCJjaGVja05hbWUiLCJpY29uIiwidGludCIsImRpc2FibGVkIiwic2Vjb25kcyIsInJvdW5kcyIsInR1cm5zIiwibWF0Y2giLCJ0YXJnZXQiLCJ0eXBlIiwic3VibWl0dGVyIiwiQ29DN1V0aWxpdGllcyIsImNvcHlUb0NsaXBib2FyZCIsInRvQ2hhdE1lc3NhZ2UiLCJ0b1doaXNwZXJNZXNzYWdlIiwiY2FudmFzIiwidG9rZW5zIiwiY29udHJvbGxlZCIsInVpIiwibm90aWZpY2F0aW9ucyIsIndhcm4iLCJvd25lcnMiLCJyZW5kZXIiLCJfb25Ecm9wIiwiZGF0YVN0cmluZyIsImRhdGFUcmFuc2ZlciIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzZXRMaW5rIiwiZnJvbURyb3BEYXRhIiwiZG9jdW1lbnROYW1lIiwiZGF0YUxpc3QiLCJnZXREYXRhRnJvbURyb3BFdmVudCIsInBhY2siLCJkaWZmaWN1bHR5IiwicmVndWxhciIsImhhc01vZGlmaWVycyIsImRpc3BsYXlOYW1lIiwiaGFzTGFiZWwiLCJoYXNJY29uIiwiY3JlYXRlIiwibGlua0RhdGEiLCJvcHRpb24iLCJkaWFsb2ciLCJjcmVhdGVJbmxpbmVSb2xsIiwiY2xzIiwiZXNjYXBlIiwic3RyaW5naWZ5IiwiZXJyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiayIsImlubmVySFRNTCIsImlzQ3RybEtleSIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwia2V5Q29kZSIsImNoYXRIZWxwZXIiLCJoeXBoZW5Ub0NhbWVsQ2FzZSIsInN0cmluZyIsInJlcGxhY2UiLCJ0b1VwcGVyQ2FzZSIsImNyZWF0ZU1lc3NhZ2UiLCJtZXNzYWdlIiwibWVzc2FnZURhdGEiLCJmbGF2b3IiLCJzcGVha2VyIiwiZ2V0U3BlYWtlciIsIkNIQVRfTUVTU0FHRV9UWVBFUyIsIldISVNQRVIiLCJST0xMIiwiRElDRV9ST0xMX01PREVTIiwiU0VMRiIsImNvbnRlbnQiLCJ0aGVuIiwibXNnIiwiY2FtZWxDYXNlVG9IeXBoZW4iLCJ0b0xvd2VyQ2FzZSIsImdldEFjdG9yRnJvbUtleSIsImlzRG9jdW1lbnRVdWlkIiwiaXNEb2N1bWVudFV1aWRQYWNrIiwiZnJvbVV1aWQiLCJTZnJvbVV1aWQiLCJzY2VuZUlkIiwidG9rZW5JZCIsInNwbGl0IiwidG9rZW4iLCJnZXRUb2tlbkZyb21LZXkiLCJnZXRTcGVha2VyRnJvbUtleSIsImFjdG9yS2V5Iiwic2NlbmUiLCJhbGlhcyIsImF0dGFjaE9iamVjdFRvRWxlbWVudCIsImVsZW1lbnQiLCJvYmplY3ROYW1lIiwicHJvcCIsInN0YXJ0c1dpdGgiLCJnZXRPYmplY3RGcm9tRWxlbWVudCIsImRlc2VyaWFsaXplIiwic2xpY2UiLCJvYmpQcm9wIiwiaW5kZXhPZiIsIm9iak5hbWUiLCJzdWJzdHJpbmciLCJOdW1iZXIiLCJ0b1N0cmluZyIsInRva2VuRG9jIiwic2NlbmVzIiwidG9rZW5EYXRhIiwiZ2V0RW1iZWRkZWREb2N1bWVudCIsIlRva2VuIiwiZHVwbGljYXRlIiwiZ2V0QWN0b3JUb2tlbiIsInByb3RvdHlwZVRva2VuIiwiZ2V0QWN0b3JJbWdGcm9tS2V5IiwidGV4dHVyZSIsInNyYyIsImltZyIsImdldERpc3RhbmNlIiwic3RhcnRUb2tlbiIsImVuZFRva2VuIiwiY2VudGVyIiwiZGlzdGFuY2UiLCJncmlkVW5pdCIsImdyaWQiLCJ1bml0cyIsInJheSIsIlJheSIsInNlZ21lbnQiLCJzaXplIiwibWVhc3VyZURpc3RhbmNlcyIsImdyaWRTcGFjZXMiLCJlbGV2YXRpb24iLCJzcXJ0IiwidG9ZYXJkcyIsIkNvQzdSb2xsIiwiZ2V0RnJvbUNhcmQiLCJjYXJkIiwicm9sbERpdiIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHRUeXBlIiwic3VjY2Vzc0xldmVsIiwiZm9ybWF0IiwiaGFyZCIsImV4dHJlbWUiLCJjcml0aWNhbCIsImZ1bWJsZSIsImZhaWx1cmUiLCJpdGVtIiwiaXRlbUlkIiwiaXRlbXMiLCJza2lsbCIsInNraWxsSWQiLCJzaG93RGljZVJvbGwiLCJkaWNlUmVzdWx0cyIsImRpZVJlc3VsdCIsImRpY2VzIiwiZGljZURhdGEiLCJzaG93IiwiZ2V0RnJvbUVsZW1lbnQiLCJoYXNCb251cyIsImRpY2VNb2RpZmllciIsImJvbnVzIiwiYm9udXNUeXBlIiwidGVuRGljZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkaWUiLCJzZWxlY3RlZCIsImlzTWF4IiwiaXNNaW4iLCJ1bml0RGllIiwiaW5jcmVhc2VTdWNjZXNzIiwiaXNsIiwibmV3U3VjY2VzTGV2ZWwiLCJsdWNrTmVlZGVkIiwibHVja05lZWRlZFR4dCIsImx1Y2tOZWVkZWRWYWx1ZSIsImdldEZyb21DaGVjayIsImNoZWNrIiwicm9sbFR5cGUiLCJzaWRlIiwicmVmTWVzc2FnZUlkIiwicmVmZXJlbmNlTWVzc2FnZUlkIiwiZGljZU1vZCIsInJhd1ZhbHVlIiwiaXNGdW1ibGUiLCJpc0NyaXRpY2FsIiwiY2hhcmFjdGVyaXN0aWMiLCJ0b2tlbktleSIsImlzVG9rZW4iLCJhY3RvcklkIiwiYXR0YWNoQ2hlY2tUb0VsZW1lbnQiLCJodG1sRWxlbWVudCIsImF0dGFjaFRvRWxlbWVudCIsIkNvQzdEYW1hZ2UiLCJnZXRNYWluRGllIiwiZGFtYWdlU3RyaW5nIiwiZGFtYWdlIiwicm9sbHMiLCJyIiwiUm9sbERpYWxvZyIsInVua25vd24iLCJ1bmtub3duRGlmZmljdWx0eURlZmF1bHQiLCJhbGxvd0ZsYXREaWNlTW9kaWZpZXIiLCJkaXNhYmxlRmxhdERpY2VNb2RpZmllciIsImFsbG93RmxhdFRocmVzaG9sZE1vZGlmaWVyIiwiZGlzYWJsZUZsYXRUaHJlc2hvbGRNb2RpZmllciIsImhpZGVEaWZmaWN1bHR5IiwiY2FyZFR5cGUiLCJmb3JjZWRDYXJkVHlwZSIsImNhcmRUeXBlcyIsIkNvQzdDaGF0TWVzc2FnZSIsInJlbmRlclRlbXBsYXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkbGciLCJEaWFsb2ciLCJidXR0b25zIiwiY2FsbGJhY2siLCJGb3JtRGF0YSIsImRlZmF1bHQiLCJjbG9zZSIsIlJvbGxDYXJkIiwiY29uc3RydWN0b3IiLCJpbml0aWF0b3IiLCJmcm9tTWVzc2FnZUlkIiwibWVzc2FnZUlkIiwibWVzc2FnZXMiLCJmcm9tTWVzc2FnZSIsImNhcmRFbGVtZW50IiwiJCIsImZyb21IVE1MQ2FyZEVsZW1lbnQiLCJjYXJkRGF0YSIsInVuZXNjYXBlIiwiYXNzaWduIiwiaW5kZXgiLCJyb2xsZWQiLCJfaHRtbFJvbGwiLCJnZXRIdG1sUm9sbCIsIl9vblRvZ2dsZSIsInNwYW4iLCJjb250YWlucyIsImlzR00iLCJmbGFnIiwidG9nZ2xlIiwiYiIsInVuc2V0RmxhZyIsInNldEZsYWciLCJ0b2dnbGVGbGFnIiwidXBkYXRlQ2hhdENhcmQiLCJkaXNwYXRjaCIsImNoYXQiLCJjb2xsZWN0aW9uIiwiZGVmYXVsdENvbmZpZyIsImdldEZsYWciLCJ0aW1lc3RhbXAiLCJEYXRlIiwiX3JvbGxNb2RlIiwicHJvY2VzcyIsInNvY2tldCIsImVtaXQiLCJ0b01lc3NhZ2UiLCJjb25maWciLCJodG1sQ2FyZEVsZW1lbnQiLCJvdXRlckhUTUwiLCJmbGFncyIsInN0YXRlIiwiZ2V0V2hpc3BlclJlY2lwaWVudHMiLCJjb21wdXRlIiwicGFyc2VIVE1MIiwiY2hhdE1lc3NhZ2UiLCJjbG9zZWQiLCJ1cGRhdGUiLCJ1cGRhdGVNZXNzYWdlIiwidXBkYXRlUm9sbCIsImZyb21HTSIsInJhbmsiLCJhZGRSb2xsRGF0YSIsImFkZFJvbGwiLCJyZW1vdmVSb2xsIiwic3BsaWNlIiwiZmxhZ05hbWUiLCJfbWVzc2FnZSIsIl9tZXNzYWdlSWQiLCJ4IiwiZXhjbHVkZSIsImV4Y2x1ZGVTdGFydFdpdGgiLCJ3aW5uZXJzIiwid2lubmVyIiwibG9vc2VycyIsImxvb3NlciIsImhhc1dpbm5lciIsImlzS2VlcGVyIiwiQ29tYmluZWRDaGVja0NhcmQiLCJiaW5kTGlzdGVybmVycyIsIm9uIiwiX29uQ2xpY2siLCJzdWNjZXNzQ291bnQiLCJjb3VudCIsInBhc3NlZCIsIm1haW5BY3RvcktleSIsInVuZGVmaW5lZCIsInN1Y2Nlc3MiLCJhbnkiLCJhbGwiLCJjaGVja0dNSW5pdGlhdG9yIiwidXNlcnMiLCJfcGVyZm9ybSIsIl9yb2xsIiwic2lsZW50IiwiaGlkZVN1Y2Nlc3MiLCJhc3NpZ25Sb2xsIiwibGkiLCJjbG9zZUNhcmQiLCJpc05hTiIsIkF1ZGlvSGVscGVyIiwicGxheSIsInNvdW5kcyIsImFsdGVyIiwiSlNPTlJvbGxEYXRhIiwiZmxhdERpY2VNb2RpZmllciIsImZsYXRUaHJlc2hvbGRNb2RpZmllciIsImkiLCJoaWRlRGljZVJlc3VsdCIsIkludGVyYWN0aXZlQ2hhdENhcmQiLCJfb3B0aW9ucyIsImNzc0NsYXNzZXMiLCJvcHRpb25uYWxDaGF0RGF0YSIsImNhcmRDbGFzcyIsIl9vbkJ1dHRvbiIsIl9vbktleSIsImJpbmRMaXN0ZW5lcnMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY2FyZHMiLCJ0eXBlZENhcmQiLCJhc3NpZ25PYmplY3QiLCJfdXBkYXRlIiwiZm9ybXMiLCJ1cGRhdGVzIiwiZm9ybSIsIkZvcm1EYXRhRXh0ZW5kZWQiLCJ0b09iamVjdCIsImRpZmZPYmplY3QiLCJleHBhbmRPYmplY3QiLCJkaXNwbGF5QWN0b3JPbkNhcmQiLCJpc0JsaW5kIiwiX2lzQmxpbmQiLCJ3ZWFwb24iLCJ0YXJnZXRlZFRva2VucyIsInRhcmdldHMiLCJ0YXJnZXRUb2tlbiIsInRhcmdldEFjdG9yIiwiaXNUYXJnZXRPd25lciIsImlzT3duZXIiLCJfdGFyZ2V0VG9rZW4iLCJfdGFyZ2V0S2V5IiwicG9wIiwiX3RhcmdldEFjdG9yIiwidGFyZ2V0S2V5IiwiaGFzVGFyZ2V0Iiwic2tpbGxzIiwiZ2V0V2VhcG9uU2tpbGxzIiwidGFyZ2V0SW1nIiwidGFyZ2V0TmFtZSIsImFjdG9ySW1nIiwiRGFtYWdlQ2FyZCIsImNvbmNhdCIsImRhbWFnZVJvbGwiLCJpbXBhbGUiLCJfaW1wYWxlIiwiaXNEYW1hZ2VGb3JtdWxhIiwiZGFtYWdlRm9ybXVsYSIsInZhbGlkYXRlIiwiaXNEYW1hZ2VOdW1iZXIiLCJpc0FybW9yRm9ydWxhIiwiYXJtb3IiLCJ0b3RhbERhbWFnZVN0cmluZyIsImlnbm9yZUFybW9yIiwibm9EYW1hZ2UiLCJmYXN0Rm9yd2FyZCIsInJvbGxEYW1hZ2UiLCJoYXJkcm9sbGVkIiwiZGFtYWdlSW5mbGljdGVkIiwiZGVhbERhbWFnZSIsIl9odG1sSW5saW5lUm9sbCIsImV2YWx1YXRlIiwicm9sbEFybW9yIiwiZGVhbERhbWFnZVRvU2VsZWN0ZWRUYXJnZXQiLCJlcnJvciIsInNlbGVjdGVkUGxheWVycyIsIm9uZSIsImNvbmZpcm1EYW1hZ2UiLCJ0d28iLCJyYW5nZSIsImluY2x1ZXMiLCJzeXN0ZW0iLCJkYiIsInRyaW0iLCJwcm9wZXJ0aWVzIiwibWF4RGFtYWdlIiwibWF4aW1pemUiLCJyb2xsU3RyaW5nIiwiX2FybW9yIiwiYXR0cmlicyIsIk9wcG9zZWRDaGVja0NhcmQiLCJhdHRhY2tlclJvbGwiLCJhdHRhY2tlciIsImRlZmVuZGVyUm9sbCIsImRlZmVuZGVyIiwiZGVmZW5kZXJJc0RvZGdpbmciLCJkb2RnZVNraWxsIiwiYWR2YW50YWdlQXR0YWNrZXIiLCJfYWEiLCJ3aW5uZXJSb2xsc0RhbWFnZSIsIl9hZCIsImFkdmFudGFnZURlZmVuZGVyIiwiaXNUaWUiLCJ3aW5uZXJDb3VudCIsIm5lZWRzVGllQnJlYWtlciIsImlzQXR0YWNrTWFuZXV2ZXIiLCJyZXN1bHRUZXh0IiwiZGFtYWdlQ2hhdENhcmQiLCJpc0V4dHJlbWVTdWNjZXNzIiwic2hpZnRLZXkiLCJzb3J0IiwidGllIiwicmVzb2x2ZWQiLCJtb2RpZmllZFJlc3VsdCIsIndpbkNvdW50IiwiZmFpbGVkIiwiQ2hhdENhcmRBY3RvciIsInNheSIsInNwZWFrZXJEYXRhIiwicmVwbGFjZXIiLCJTYW5DaGVja0NhcmQiLCJzYW5EYXRhIiwiQm9vbGVhbiIsInNhblJlYXNvbiIsInNhbk1vZGlmaWVyIiwic2FuRGlmZmljdWx0eSIsInNhbkxvc3NTb3VyY2UiLCJpbnZvbHVudGFyeUFjdGlvbiIsInNhblJvbGxlZCIsInNhbkNoZWNrIiwiaXNGYWlsdXJlIiwic2FuTG9zc0Zvcm11bGEiLCJzYW5NYXgiLCJzYW5NaW4iLCJzYW5Mb3N0VG9SZWFzb24iLCJtYXhQb3NzaWJsZVNhbkxvc3MiLCJtYXhMb3NzVG9TYW5SZWFzb24iLCJtYXhTYW5Mb3NzIiwic2FuTG9zc1JlYXNvbkVuY291bnRlcmVkIiwiZmlyc3RFbmNvdW50ZXIiLCJteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkIiwiaXNBY3Rvckxvb3NpbmdTYW4iLCJoYXNUZW1wb0luc2FuZSIsImltbXVuZVRvQ3JlYXR1cmUiLCJib3V0RHVyYXRpb25UZXh0IiwiYm91dER1cmF0aW9uIiwiYm91dFJlYWxUaW1lIiwiYm91dFN1bW1hcnkiLCJ5b3VHYWluQ3RodWxodU15dGhvc1N0cmluZyIsIm15dGhvc0dhaW4iLCJhZHZhbmNlU3RhdGUiLCJrZWVwQ3JlYXR1cmVTYW5EYXRhIiwiZmluaXNoIiwiYXBwbHlTYW5Mb3NzIiwiYm91dFJlc3VsdCIsImVudGVyQm91dE9mTWFkbmVzcyIsImJvdXRPZk1hZG5lc3NSZXNvbHZlZCIsImJvdXRPZk1hZG5lc3NPdmVyIiwidHJpZ2dlckluc2FuaXR5IiwidW5zZXRDb25kaXRpb24iLCJjdGh1bGh1TXl0aG9zQXdhcmRlZCIsImFtb3VudEdhaW5lZCIsImV4cGVyaWVuY2VGaXJzdE15dGhvc0luc2FuaXR5IiwiY3RodWxodU15dGhvc1NraWxsIiwib2xkVmFsdWUiLCJhZGp1c3RtZW50cyIsImV4cGVyaWVuY2UiLCJieXBhc3NSb2xsU2FuIiwiaXNCeXBhc3NlZCIsImF0dHJpYnV0ZSIsImZvcmNlRFNOIiwiaW52b2x1bnRhcnlBY3Rpb25QZXJmb3JtZWQiLCJzYW5Mb3NzUm9sbGVkIiwiaWdub3JlU2FuQ2hlY2siLCJzYW5Mb3NzIiwicm9sbFNhbiIsImxpbWl0ZWRMb3NzVG9DcmVhdHVyZSIsIm1pbmltaXplIiwiaW1tdW5lQWxyZWFkeUluQm91dCIsInNhbkxvc3NBcHBsaWVkIiwiaW50Um9sbGVkIiwiaW5zYW5pdHkiLCJyb2xsU2FuTG9zcyIsInNhbkxvc3NSb2xsIiwibG9vc2VTYW4iLCJhY3Rvckxvc3RTYW4iLCJzYW4iLCJwZXJtYW5lbnRseUluc2FuZSIsImhhc0luZGVmSW5zYW5lIiwic2hha2VuIiwiaW5zYW5pdHlUYWJsZVJvbGxlZCIsImRhaWx5U2FuTG9zcyIsImRhaWx5U2FuTGltaXQiLCJ0ZW1wb3JhcnlJbnNhbmUiLCJpbmRlZmluaXRlbHlJbnNhbmUiLCJtZW1vcnlSZXByZXNzZWQiLCJyb2xsSW50IiwiaW50Q2hlY2siLCJpbnREaWZmaWN1bHR5IiwiaW50TW9kaWZpZXIiLCJhbHJlYWR5SW5zYW5lIiwic2V0Q29uZGl0aW9uIiwiY2xlYXJTYW5Mb3NzUmVhc29uIiwic2V0UmVhc29uU2FuTG9zcyIsIl9faW5saW5lU2FuQ2hlY2siLCJpbmxpbmVDaGVjayIsIl9faW5saW5lU2FuTG9zc1JvbGwiLCJfX2lubGluZUludENoZWNrIiwiY2hlY2tUYXJnZXRzIiwiYXJncyIsImNoYXRDYXJkIiwiZ2V0RnJvbU1lc3NhZ2VJZCIsImh0bWxDYXJkIiwic2FuQ2hlY2tDYXJkRGF0YSIsInNhbkNoZWNrQ2FyZCIsIlNhbkRhdGFEaWFsb2ciLCJfdG9nZ2xlSW5wdXQiLCJWYWxpZGF0ZSIsIlJPTExfVFlQRV9BVFRSSUJVVEUiLCJST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMiLCJST0xMX1RZUEVfQ09NQkFUIiwiUk9MTF9UWVBFX1NLSUxMIiwiUk9MTF9UWVBFX0VOQ09VTlRFUiIsIkNBUkRfVFlQRV9DT01CSU5FRCIsIkNBUkRfVFlQRV9HUk9VUCIsIkNBUkRfVFlQRV9OT1JNQUwiLCJDQVJEX1RZUEVfT1BQT1NFRCIsIkNBUkRfVFlQRV9TQU5fQ0hFQ0siLCJDQVJEX1RZUEVfTk9ORSIsInNlbGVjdCIsIm5vcm1hbGl6ZVJlcXVlc3QiLCJza2lsbE5hbWUiLCJza2lsbElkcyIsImdldFNraWxsc0J5TmFtZSIsImNoYXJhY3RlcmlzdGljcyIsImFsdEtleSIsImNyZWF0ZUVuY291bnRlciIsIm9wZW5MaW5rVG9vbCIsInNlbmRUb0NoYXQiLCJzZW5kVG9DbGlwYm9hcmQiLCJpc0NvbWJhdCIsInByZXZlbnRTdGFuZGJ5IiwiZGlhbG9nT3B0aW9ucyIsInBhcmVudEVsZW1lbnQiLCJhdHRyaWIiLCJ3ZWFwb25BbHRTa2lsbCIsIndlYXBvbk5hbWUiLCJoYXNQbGF5ZXJPd25lciIsInRyaWdnZXIiLCJjcmVhdGVMaW5rIiwiaXRlbU1vZGlmaWVycyIsInZhbHVlcyIsImZvdW5kcnlJRCIsImNyZWF0ZVJvbGwiLCJydW5Sb2xsIiwic2hvcnROYW1lIiwiY2hlY2tQYXNzZWQiLCJjaGVja0ZhaWxsZWQiLCJpbmZvcyIsInVzYWdlIiwicHJvbXB0TGFiZWwiLCJzdGFuZGJ5Iiwicm9sbEF0dHJpYnV0ZSIsInJvbGxDaGFyYWN0ZXJpc3RpYyIsInJvbGxlZFN1Y2Nlc3NMZXZlbCIsInN1Y2Nlc3NMZXZlbHMiLCJyZWd1bGFyVGhyZXNob2xkIiwiaGFyZFRocmVzaG9sZCIsImV4dHJlbWVUaHJlc2hvbGQiLCJkZW55UHVzaCIsIkNvQzdDb25DaGVjayIsIl9hY3RvcklkIiwiaXNTdWNjZXNzIiwiaXNSb2xsZWQiLCJjb25DaGVjayIsImh0bWxDaGVjayIsImdldENoZWNrRWxlbWVudCIsInJvbGxDb24iLCJyZXBsYWNlV2l0aCIsInN0YXlBbGl2ZSIsImFwcGxpZWQiLCJTa2lsbFNlbGVjdERpYWxvZyIsIl9vblNlbGVjdFNraWxsQ2xpY2tlZCIsInN0eWxlIiwiZGlzcGxheSIsImFkZGVkIiwiaW5uZXJUZXh0Iiwib3B0aW9uc0NvdW50IiwiUG9pbnRTZWxlY3REaWFsb2ciLCJfb25TZWxlY3RDaGFyYWN0ZXJpc3RpYyIsIl9vbkJ1dHRvbkNsaWNrZWQiLCJpdGVtTGlzdCIsIm9wdGlvbmFsIiwidG9nZ2xlQ2xhc3MiLCJDaGFyYWNTZWxlY3REaWFsb2ciLCJDaGFyYWNSb2xsRGlhbG9nIiwiX29uQ2hhbmdlSW5wdXQiLCJfb25Sb2xsQ2hhcmFjdGVyaXN0aWMiLCJfb25JbmNyZWFzZUNoYXJhY3RlcmlzdGljIiwiX29uRGVjcmVhc2VDaGFyYWN0ZXJpc3RpYyIsIl9vblJlc2V0Q2hhcmFjdGVyaXN0aWMiLCJjaGFyYWNLZXkiLCJpbmNyZWFzZUNoYXJhY3RlcmlzdGljIiwiZGVjcmVhc2VDaGFyYWN0ZXJpc3RpYyIsInJlc2V0Q2hhcmFjdGVyaXN0aWMiLCJjaGFyIiwiY2hlY2tUb3RhbCIsIl9lbGVtZW50IiwiaW5wdXQiLCJsaXN0IiwicG9pbnRzIiwidmFsaWRhdGlvbiIsImVuYWJsZWQiLCJ2YWwiLCJwb2ludHNXYXJuaW5nIiwiU2tpbGxTcGVjU2VsZWN0RGlhbG9nIiwic3BlY2lhbGl6YXRpb25OYW1lIiwiYmFzZVZhbHVlIiwiaGFzU2tpbGxzIiwiYmFzZSIsInNwZWNpYWxpemF0aW9uIiwiU2tpbGxTcGVjaWFsaXphdGlvblNlbGVjdERpYWxvZyIsIl9vbkNsaWNrU3VibWl0IiwiX29uU2VsZWN0Q2hhbmdlIiwiYWxsb3dDdXN0b20iLCJmaXhlZEJhc2VWYWx1ZSIsImFsbG93U2VsZWN0IiwiU2tpbGxWYWx1ZURpYWxvZyIsIkNvQzdNZWxlZVJlc29sdGlvbiIsImluaXRpYXRvck1lc3NhZ2UiLCJ0YXJnZXRNZXNzYWdlIiwicHJlQ3JlYXRlTWVzc2FnZSIsIkNvQzdNZWxlZVRhcmdldCIsIkNvQzdNZWxlZUluaXRpYXRvciIsImluaXRpYXRvclRva2VuIiwicmVzdWx0U3RyaW5nIiwid2lubmVySW1nIiwid2lubmVyVGl0bGUiLCJjcml0aWNhbERhbWFnZSIsImRvY3VtbWVudCIsInBhcmVudE1lc3NhZ2VJZCIsImluaXRpYXRvcktleSIsIm91dG51bWJlcmVkIiwic3VycHJpc2VkIiwiYXV0b1N1Y2Nlc3MiLCJhZHZhbnRhZ2UiLCJkaXNhZHZhbnRhZ2UiLCJkb2RnaW5nIiwibm90UmVzcG9uZGluZyIsImZpZ2h0aW5nQmFjayIsIm1hbmV1dmVyaW5nIiwiYWN0aW9uU2VsZWN0ZWQiLCJfaW5pdGlhdG9yS2V5IiwiX2luaXRpYXRvciIsIm1lbGVlSW5pdGlhdG9yIiwidXBkYXRlQ2FyZFN3aXRjaCIsInB1Ymxpc2hVcGRhdGUiLCJjYW1lbEZsYWciLCJjcmVhdGVDaGF0Q2FyZCIsImdtcyIsIm93bmVyc2hpcCIsIkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMiLCJPV05FUiIsInByb21wdCIsImluZm8iLCJnZXRVcGRhdGVkQ2hhdENhcmQiLCJ1cGRhdGVTZWxlY3RlZCIsIndlYXBvbklkIiwicGVyZm9ybVNraWxsQ2hlY2siLCJwdWJsaXNoIiwiaXNVbmtvbnduIiwicHVibGlzaE5vUmVwb25zZVJlc3VsdCIsInJlc29sdXRpb25DYXJkIiwicmVzb2x1dGlvbk1lc3NhZ2UiLCJwdWJsaXNoQ2hlY2tSZXN1bHQiLCJyb2xsSWNvbnMiLCJyb2xsQ29sb3IiLCJyb2xsVGl0bGUiLCJ1cGdyYWRlUm9sbCIsImx1Y2tBbW91bnQiLCJuZXdTdWNjZXNzTGV2ZWwiLCJvbGRDYXJkIiwic3BlbmRMdWNrIiwibHVja1NwZW50IiwicHJvY2Vzc2VkIiwiZGljZVJvbGxzIiwicmVzdWxEZXRhaWxzIiwiZGljZVRvdGFsIiwiQ29DN0NoYXQiLCJDb0M3UmFuZ2VJbml0aWF0b3IiLCJjb3ZlciIsInRhcmdldENhcmQiLCJzaW5nbGVTaG90IiwibXVsdGlwbGVTaG90cyIsImJ1cnN0IiwiZnVsbEF1dG8iLCJhaW1lZCIsInRvdGFsQnVsbGV0c0ZpcmVkIiwiX3RhcmdldHMiLCJDb0M3UmFuZ2VUYXJnZXQiLCJyb3VuZGVkRGlzdGFuY2UiLCJyb3VuZCIsImRpc3RhbmNlVW5pdCIsImRpc3RJbllkIiwicG9pbnRCbGFua1JhbmdlIiwiYmFzZVJhbmdlIiwibG9uZ1JhbmdlIiwiZXh0cmVtZVJhbmdlIiwib3V0T2ZSYW5nZSIsIm1haW5XZWFwb25Ta2lsbCIsIm1haW4iLCJhdXRvV2VhcG9uU2tpbGwiLCJhbHRlcm5hdGl2IiwiYXV0b0ZpcmUiLCJtdWx0aVRhcmdldCIsImFpbWluZyIsIl9haW1pbmciLCJnZXRBY3RvckZsYWciLCJhY3RpdmVUYXJnZXQiLCJzaG90cyIsIl9zaG90cyIsImN1cnJlbnRTaG90UmFuayIsImFjdGl2ZVRhcmdldFNob3REaWZmaWN1bHR5Iiwic2hvdERpZmZpY3VsdHkiLCJkaWRBbnlTaG90SGl0IiwiYW55SGl0Iiwic3VjY2Vzc2Z1bEhpdHMiLCJoaXRzIiwiaGl0Iiwic2hvdCIsInNob3RGaXJlZCIsInRvdGFsQW1tbyIsImdldEJ1bGxldExlZnQiLCJtYXhTaG90cyIsInVzZXNQZXJSb3VuZCIsImlnbm9yZUFtbW8iLCJpZ25vcmVVc2VzUGVyUm91bmQiLCJvdXRPZkFtbW8iLCJvdXRPZlNob3RzIiwidm9sbGV5U2l6ZSIsIl92b2xsZXlTaXplIiwiZmxvb3IiLCJpc1ZvbGxleU1pblNpemUiLCJpc1ZvbGxleU1heFNpemUiLCJnZXRUYXJnZXRGcm9tS2V5IiwiY2FsY1RhcmdldHNEaWZmaWN1bHR5Iiwibm9ybWFsIiwibG9uZyIsImRpZmZpY3VsdHlOYW1lIiwicmVsb2FkIiwiaW1wb3NzaWJsZSIsImxldmVsIiwiYWRkU2hvdEF0Q3VycmVudFRhcmdldCIsImFjdG9yTmFtZSIsImJ1bGxldHNTaG90IiwidHJhbnNpdEJ1bGxldHMiLCJidWxsZXRzU2hvdFRyYW5zaXQiLCJ0cmFuc2l0IiwiYnVsbGV0TGVmdCIsInByZXZpb3VzU2hvdCIsInJlc29sdmVDYXJkIiwid2VhcG9uTWFsZnVuY3Rpb24iLCJzaG9vdEF0VGFyZ2V0Iiwic2hvb3RCdWxsZXRzIiwiaGFzTWFsZnVuY3Rpb24iLCJidWxsZXRGaXJlZCIsImRldGFpbHMiLCJjaGFuZ2VWb2xsZXlTaXplIiwicGFzc1JvbGwiLCJyb2xsSW5kZXgiLCJ1cGdyYWRlaW5kZXgiLCJpbmNyZWFzZWRTdWNjZXNzIiwicmFuZ2VJbml0aWF0b3IiLCJjYXJkVGFyZ2V0cyIsImNhcmRTaG90cyIsImRhbWFnZVJvbGxzIiwiZHIiLCJoIiwiU3RyaW5nIiwiZGFtYWdlRGllIiwiY3JpdGljYWxEYW1hZ2VGb3JtdWxhIiwiY3JpdGljYWxEYW1hZ2VEaWUiLCJpbXBhbGluZ1Nob3RzIiwic3VjY2Vzc2Z1bFNob3RzIiwiZGVhbHQiLCJkYW1hZ2VSb2xsZWQiLCJkSW5kZXgiLCJ0b3RhbFRha2VuIiwidG90YWxBYnNvcmJlZCIsInJJbmRleCIsImRlYWx0QW1vdW50IiwidGFrZW4iLCJhYnNvcmJlZCIsImRhbWFnZURlYWx0IiwiaW5NZWxlZSIsImJpZyIsIl9iaWciLCJidWlsZCIsInNtYWxsIiwiX3NtYWxsIiwiaXNGYXN0IiwibW92IiwiZmFzdCIsIl9mYXN0IiwiX2FjdG9yIiwiX3Rva2VuIiwic2l6ZVRleHQiLCJzaXplTGFiZWwiLCJjaGFuZ2VEaXNwbGF5ZWRUYXJnZXQiLCJDSEFUX0NPQzdfTUVTU0FHRSIsInJlbmRlckNoYXRNZXNzYWdlSG9vayIsImZha2VSb2xsTWVzc2FnZSIsInBsYXllcnMiLCJHTVNlbGZSb2xsIiwicmVtb3ZlV2lzcGVyVGFyZ2V0cyIsImZha2VSb2xsIiwicmVhZHkiLCJjaGF0TGlzdGVuZXJzIiwiX29uQ2hhdENhcmRBY3Rpb24iLCJfb25DaGF0Q2FyZFRvZ2dsZUNvbnRlbnQiLCJfb25DaGF0Q2FyZFJhZGlvU3dpdGNoIiwiX29uQ2hhdENhcmRUb2dnbGVTd2l0Y2giLCJfb25DaGF0Q2FyZFZvbGxleVNpemUiLCJfb25Ecm9wRG93bkVsZW1lbnRTZWxlY3RlZCIsIl9vblRvZ2dsZVNlbGVjdGVkIiwiX29uVGFyZ2V0U2VsZWN0IiwiX29uT3BlbkFjdG9yIiwiYmluZEV2ZW50c0hhbmRsZXIiLCJfb25JbmxpbmUiLCJzaGVldCIsIm9uVXBkYXRlQ2hhdE1lc3NhZ2UiLCJzY3JvbGxCb3R0b20iLCJjaGVja1JldmVhbGVkIiwicmV2ZWFsQ2hlY2siLCJyZW5kZXJNZXNzYWdlSG9vayIsInJlbW92ZUNsYXNzIiwibW91c2VsZWF2ZSIsImRlZmVuZGFudElkIiwiaW5pdGlhdG9ySWQiLCJ1cGRhdGVDb21iYXRDYXJkVGFyZ2V0IiwidXNlck9ubHkiLCJnZXRBdHRyaWJ1dGUiLCJnbU9ubHkiLCJ6b25lIiwidXNlclZpc2libGVPbmx5IiwiZWxlbSIsImdtVmlzaWJsZU9ubHkiLCJpc1RydXN0ZWQiLCJvd25lclZpc2libGVPbmx5IiwiX2dldEFjdG9yRnJvbUtleSIsIl9nZXRDaGF0Q2FyZEFjdG9yIiwib3duZXJPbmx5IiwiZ21TZWxlY3RPbmx5IiwiYWN0aW9uVHlwZVN0cmluZyIsInRhcmdldHNTZWxlY3RvciIsImJvcmRlciIsInRhcmdldFRvRGlzcGxheSIsImRyb3BEb3duQm94ZXMiLCJkcGRuQm94Iiwic2VsZWN0ZWRCb3giLCJhY3Rpb25UeXBlIiwiZGVmZW5kZXJDaG9pY2UiLCJza2lsbFZhbHVlIiwiaXRlbU5hbWUiLCJfY29sbGFwc2VJbmxpbmVSZXN1bHQiLCJfZXhwYW5kSW5saW5lUmVzdWx0Iiwib3B0aW9uTGlzdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwcm9wZXJ0eSIsInJhbmdlQ2FyZCIsImNoYXJhY3RlciIsImlzQ2FyZE93bmVyIiwib3dubmVyIiwiZ2V0QWN0b3JGcm9tVG9rZW4iLCJnZXRUb2tlbiIsIm1lc3NJZCIsIm9yaWdpbk1lc3NhZ2UiLCJtZWxlZUNhcmQiLCJyb2xsUmVzdWx0IiwidXBncmFkZUluZGV4IiwiZm9yY2VQYXNzIiwidXBncmFkZUNoZWNrIiwiZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlciIsIm5ld0NhcmQiLCJjbG9uZU5vZGUiLCJwdXNoZWRSb2xsIiwiZGVmZW5kZXJLZXkiLCJyZXNwb25zZVR5cGUiLCJkZWFsZXIiLCJhbW91bnQiLCJhcHBlbmQiLCJmb3JjZUZhaWwiLCJpbmNyZWFzZVN1Y2Nlc3NMZXZlbCIsImRlY3JlYXNlU3VjY2Vzc0xldmVsIiwiY29tcHV0ZUNoZWNrIiwibWFrZVB1YmxpYyIsImZvcmNlUm9sbCIsImZsYWdGb3JEZXZlbG9wZW1lbnQiLCJDb0M3c29ja2V0IiwiZXhlY3V0ZUFzR00iLCJfaWQiLCJyb2xsRGFtYWdlQnV0dG9uIiwiQWN0b3IiLCJjb250ZXh0IiwiZG9jdW1lbnRDbGFzc2VzIiwiZXh0ZW5kZWQiLCJpbml0aWFsaXplIiwiY3JlYXR1cmVJbml0IiwicHJlcGFyZUJhc2VEYXRhIiwiaXRlbUlkZW50aWZpZXIiLCJjb2NpZCIsImNvY2lkRmxhZyIsImRhaWx5TGltaXQiLCJvbmVGaWZ0aFNhbml0eSIsInJhd01vdiIsInJhd0RiIiwicmF3QnVpbGQiLCJjdXJyZW50IiwiaHAiLCJwcmVwYXJlRW1iZWRkZWREb2N1bWVudHMiLCJwcmVwYXJlRGVyaXZlZERhdGEiLCJyYXdIcE1heCIsIm1wIiwicmF3TXBNYXgiLCJyYXdTYW5NYXgiLCJmaWx0ZXJNYXRyaXgiLCJlZmZlY3RzIiwiaXNTdXBwcmVzc2VkIiwiYyIsImZvdW5kcnkiLCJ1dGlscyIsInByaW9yaXR5Iiwic2VsZWN0Q2hhbmdlcyIsImFwcGx5IiwiaHBNYXgiLCJtcE1heCIsImFjdG9yTGluayIsImRpc3Bvc2l0aW9uIiwic2lnaHQiLCJjaGVja1VuZGVmaW5lZEF1dG8iLCJyZXR1cm5EYXRhIiwic2hvcnQiLCJpbml0VG9rZW4iLCJjcmVhdGVEYXRhIiwiaGFzQ29uZGl0aW9uU3RhdHVzIiwiZ2V0VGVtcG9JbnNhbmVEdXJhdGlvblRleHQiLCJoYXNDb25kaXRpb25WYWx1ZSIsInBvcnRyYWl0IiwicmVhbFRpbWUiLCJib3V0T2ZNYWRuZXNzVGFibGVJZCIsImRlc2NyaXB0aW9uIiwiYm91dE9mTWFkbmVzc1RhYmxlIiwidGFibGVzIiwidGFibGVSb2xsIiwiVEFCTEVfUkVTVUxUX1RZUEVTIiwiRE9DVU1FTlQiLCJkb2N1bWVudElkIiwiVGV4dEVkaXRvciIsImVucmljaEhUTUwiLCJpdGVtRGF0YSIsImNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzIiwiVEVYVCIsInRleHQiLCJlbXB0eVNraWxsIiwicGFydHMiLCJDb0M3SXRlbSIsImdldE5hbWVQYXJ0c1NwZWMiLCJjcmVhdGVTa2lsbCIsInNob3dTaGVldCIsInJlbmRlclNoZWV0IiwiY3JlYXRlV2VhcG9uU2tpbGwiLCJmaXJlYXJtcyIsInNraWxsRGF0YSIsInBlcnNvbmFsIiwib2NjdXBhdGlvbiIsImFyY2hldHlwZSIsImF0dGFjayIsIndwblR5cGUiLCJjcmVhdGVkQXR0YWNrIiwiY29uc29sZSIsInNldEFjdG9yRmxhZyIsImNyZWF0ZUl0ZW0iLCJxdWFudGl0eSIsImNyZWF0ZUVtcHR5Qm9vayIsImdldEl0ZW1JZEJ5TmFtZSIsImNyZWF0ZUJvb2siLCJjcmVhdGVFbXB0eVNwZWxsIiwiY3JlYXRlU3BlbGwiLCJlbXB0eVNwZWxsIiwiY3JlYXRlRW1wdHlTa2lsbCIsImNyZWF0ZUVtcHR5SXRlbSIsImNyZWF0ZUVtcHR5V2VhcG9uIiwid2VhcG9uUHJvcGVydGllcyIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY3JlYXRlQmlvU2VjdGlvbiIsImJpbyIsImJpb2dyYXBoeSIsInVwZGF0ZUJpb1ZhbHVlIiwidXBkYXRlQmlvVGl0bGUiLCJkZWxldGVCaW9TZWN0aW9uIiwibW92ZUJpb1NlY3Rpb25VcCIsIm1vdmVCaW9TZWN0aW9uRG93biIsInVwZGF0ZVRleHRBcmVhIiwidGV4dEFyZWEiLCJhcmVhTmFtZSIsImVtYmVkZGVkTmFtZSIsImRhdGFBcnJheSIsInByb2Nlc3NlZERhdGFBcnJheSIsImJhc2VDYWxjdWxhdGVkIiwiY2FsY3VsYXRlQmFzZSIsInBhcnNlQ2hhcmFjdGVyaXN0aWNzIiwiYWRkVGhpcyIsImlzQW55U3BlYyIsImlzQW55QnV0Tm90RmxhZ2dlZCIsInNraWxsTGlzdCIsImdyb3VwIiwiYXBpIiwiZ3Vlc3NHcm91cEZyb21Eb2N1bWVudCIsImZyb21Db0NJRFJlZ2V4QmVzdCIsImNvY2lkUmVnRXhwIiwiUmVnRXhwIiwicXVvdGVSZWdFeHAiLCJleGlzdGluZ1NraWxscyIsImVsIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJmb3VuZCIsImZpbmRJbmRleCIsInNvcnRCeU5hbWVLZXkiLCJleGlzdGluZ0l0ZW0iLCJ1cGRhdGVFbWJlZGRlZERvY3VtZW50cyIsImdldE5hbWVXaXRob3V0U3BlYyIsImV4aXN0aW5nIiwia2VlcEJhc2UiLCJtYWluU2tpbGwiLCJhZGRJdGVtcyIsInNlY29uZFNraWxsIiwiZW5hYmxlQ2hhcmFjdGVyaXNpdGljcyIsImdldENoYXJhY3RlcmlzdGljIiwibHVjayIsImVyYSIsImVyYXMiLCJleHBhbmRJdGVtQXJyYXkiLCJpdCIsIm90aGVyc0l0ZW1zIiwiYWRkVW5pcXVlSXRlbXMiLCJiYWNrc3RvcnkiLCJzZWN0aW9uTmFtZSIsImJpb1NlY3Rpb25zIiwibW9uZXRhcnkiLCJzZXRUaW1lb3V0IiwiX3N0YXRlIiwiQXBwbGljYXRpb24iLCJSRU5ERVJfU1RBVEVTIiwiUkVOREVSSU5HIiwiSG9va3MiLCJyZXNldEFyY2hldHlwZSIsImNvbmZpcm0iLCJ5ZXMiLCJkZWZhdWx0WWVzIiwiY29yZUNoYXJhYyIsImVudHJ5IiwiY29yZUNoYXJhY3RlcmlzdGljcyIsImNoYXJhYyIsImNoYXJEaWFsb2dEYXRhIiwiY29yZUNoYXJhY3RlcmlzdGljc0Zvcm11bGEiLCJyZXNldE9jY3VwYXRpb24iLCJjcmVkaXRSYXRpbmciLCJhY3RvckNyZWRpdFJhdGluZyIsImZpbmRDb2NJZEluTGlzdCIsInBvaW50c0RpYWxvZ0RhdGEiLCJvY2N1cGF0aW9uU2tpbGxQb2ludHMiLCJvcHRpb25hbENoYXIiLCJkaWFsb2dEYXRhIiwic2tpbGxDb3VudCIsIm1lcmdlZCIsIm1lcmdlT3B0aW9uYWxTa2lsbHMiLCJjcmVkaXRSYXRpbmdTa2lsbCIsInNldEl0ZW1GbGFnIiwiYXJjaGV0eXBlUG9pbnRzIiwib2NjdXBhdGlvblBvaW50cyIsInBlcnNvbmFsUG9pbnRzIiwiZ2V0SXRlbXNCeU5hbWUiLCJnZXRGaXJzdFNraWxsQnlDb0NJRCIsInBhcnNlZCIsImdldFByb3BlcnR5IiwidGVtcGxhdGVzIiwiY2hhck5hbWUiLCJhdHRyaWJOYW1lIiwibGNrIiwiZXJhc2VPbGQiLCJvY2N1cGF0aW9uU2tpbGwiLCJnZXRJdGVtRmxhZyIsInVuc2V0SXRlbUZsYWciLCJkZWxldGUiLCJhcmNoZXR5cGVTa2lsbCIsInNldEx1Y2siLCJocEZyb21DaGFyYWN0ZXJpc3RpY3MiLCJfc2V0SHAiLCJhZGRVbmlxdWVJdGVtIiwibXBGcm9tQ2hhcmFjdGVyaXN0aWNzIiwiZ2V0UmVhc29uU2FuTG9zcyIsInNhbml0eUxvc3NFdmVudHMiLCJ0b3RhbExvc3MiLCJpbW11bml0eSIsImxlZnQiLCJyaWdodCIsImxvY2FsZUNvbXBhcmUiLCJzYW5NYXhGb3JtdWxhIiwic2FuaXR5TG9zc0V2ZW50Iiwic2V0U2FuIiwic2FuTG9zc0NoZWNrUGFzc2VkIiwic2FuTG9zc0NoZWNrRmFpbGxlZCIsInNhbkxvc3NNYXgiLCJzYW5Mb3NzTWluIiwiZGFpbHlMb3NzIiwiY3RodWxodU15dGhvcyIsInNldE1wIiwib2NjdXBhdGlvblBvaW50c1NwZW50IiwicmVzZXRPY2N1cGF0aW9uUG9pbnRzIiwicmVzZXRBcmNoZXR5cGVQb2ludHMiLCJyZXNldFBlcnNvbmFsUG9pbnRzIiwiYXJjaGV0eXBlUG9pbnRzU3BlbnQiLCJib251c1BvaW50cyIsImV4cGVyaWVuY2VQb2ludHMiLCJwZXJzb25hbFBvaW50c1NwZW50IiwiaGFzRGV2ZWxvcG1lbnRQaGFzZSIsImRldmVsb3BlbWVudCIsIm9ubHlSdW5PbmNlUGVyU2Vzc2lvbiIsImxvc3MiLCJzZXRBdHRyaWJBdXRvIiwidXBkYXRlZEtleSIsInRvZ2dsZUF0dHJpYkF1dG8iLCJkYkZyb21DaGFyYWN0ZXJpc3RpY3MiLCJzdW0iLCJidWlsZEZyb21DaGFyYWN0ZXJpc3RpY3MiLCJkaXZpc29yIiwibW92RnJvbUNoYXJhY3RlcmlzdGljcyIsImFnZSIsIk1PViIsImxvY2tlZCIsImdldEl0ZW1zRnJvbU5hbWUiLCJ0b2dnbGVBY3RvckZsYWciLCJmbGFnVmFsdWUiLCJhdHRyaWJ1dGVDaGVjayIsImF0dHJpYnV0ZU5hbWUiLCJtaXNzaW5nIiwiY29udmVydERpZmZpY3VsdHkiLCJjaGFyYWN0ZXJpc3RpY0NoZWNrIiwiY2hhcmFjdGVyaXN0aWNOYW1lIiwic2tpbGxDaGVjayIsInNraWxsSWRlbnRpZmllciIsImxvZyIsInBhY2tzIiwibWV0YWRhdGEiLCJlbnRpdHkiLCJnZXREb2N1bWVudCIsIl9yYXdWYWx1ZSIsInVwZGF0ZVZhbHVlIiwid2VhcG9uQ2hlY2siLCJ3ZWFwb25EYXRhIiwidXVpZCIsIndlYXBvbnMiLCJwYXJlbnQiLCJ0b0pTT04iLCJyb2xsSW5pdGlhdGl2ZSIsImhhc0d1biIsImRlbnlMdWNrIiwiZGVueUJsaW5kVGFtcGVyaW5nIiwidW5zZXRBY3RvckZsYWciLCJmcm9tVXVpZFN5bmMiLCJ1c2VzQWx0ZXJuYXRpdmVTa2lsbCIsIm1hdGNoZXMiLCJleGVjIiwiY2hhcktleSIsImF0dHJpYktleSIsImF0dHIiLCJwaWxvdFNraWxscyIsImRyaXZlU2tpbGxzIiwidG9rZW5VdWlkIiwiaGFzUm9sbGFibGVDaGFyYWN0ZXJpc3RpY3MiLCJob3NSb2xsYWJsZVNraWxscyIsInJvbGxDaGFyYWN0ZXJpc3RpY3NWYWx1ZSIsInJlcG9ydENoYXJhY3RlZHJpdGljc1ZhbHVlIiwiYXZlcmFnZUNoYXJhY3RlcmlzdGljc1ZhbHVlIiwiYXZlcmFnZSIsImNoYXJWYWx1ZSIsInNldENoYXJhY3RlcmlzdGljIiwiZGV2ZWxvcGVtZW50UGhhc2UiLCJza2lsbHNSb2xsZWQiLCJkZXZlbG9wZW1lbnRGbGFnIiwiRGllIiwiYXVnbWVudCIsInNraWxsTWFzdGVyaW5nTWVzc2FnZSIsImF1Z21lbnREaWUiLCJhdWdtZW50U0FORGllIiwic2FuR2FpbmVkIiwic2FuR2FpbmVkTWVzc2FnZSIsImRlYnVnIiwic2NvcmUiLCJpbmNyZWFzZUV4cGVyaWVuY2UiLCJ1bmZsYWdGb3JEZXZlbG9wZW1lbnQiLCJjaGFuZ2VkIiwiZGV2ZWxvcEx1Y2siLCJjdXJyZW50THVjayIsInB1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjayIsImhpZ2hlclRoYW5DdXJyZW50THVjayIsImF1Z21lbnRSb2xsIiwiYXVnbWVudFZhbHVlIiwiZGV2ZWxvcFNraWxsIiwiY29uZGl0aW9uTmFtZSIsImNvbmRpdGlvblZhbHVlIiwiY29uZGl0aW9ucyIsImZpZWxkIiwidG9nZ2xlQ29uZGl0aW9uIiwiZm9yY2VWYWx1ZSIsImNvcmUiLCJzdGF0dXNJZCIsImN1c3RvbSIsIm92ZXJsYXkiLCJzdGF0dXNFZmZlY3RzIiwiZWZmZWN0RGF0YSIsImZpZWxkcyIsImp1c3RUaGlzIiwiZGVsZXRlRW1iZWRkZWREb2N1bWVudHMiLCJyZXNldENvdW50ZXIiLCJjb3VudGVyIiwicmVzZXREYWlseVNhbml0eSIsImZpZ2h0aW5nU2tpbGxzIiwiY2xvc2VDb21iYXRXZWFwb25zIiwid2VhcG9uTGlzdCIsImZpcmVhcm1Ta2lsbHMiLCJDTSIsIm15dGhvc0hhcmRlbmVkIiwic2V0TXl0aG9zSGFyZGVuZWQiLCJDUiIsIm1vbmV0YXJ5Rm9ybWF0Iiwic3ltYm9sIiwibW9uZXRhcnlGb3JtYXRLZXlzIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtb25ldGFyeVZhbHVlIiwicm93IiwibW9uZXRhcnlUeXBlS2V5cyIsInNwZW5kaW5nTGV2ZWwiLCJjYXNoIiwiYXNzZXRzIiwidSIsInRlc3RVc2VyUGVybWlzc2lvbiIsInBsYXllciIsImNoYXJhY3RlclVzZXIiLCJjb250ZW50cyIsInNldEhwIiwiaGVhbHRoQmVmb3JlIiwiZGFtYWdlVGFrZW4iLCJhcm1vckRhdGEiLCJncm9zc0RhbWFnZSIsImFybW9yVmFsdWUiLCJpc0Zvcm11bGEiLCJuZXREYW1hZ2UiLCJjZWlsIiwiaGFzTWFqb3JXb3VuZCIsIm1ham9yV291bmQiLCJpbml0IiwiZG9jdW1lbnRDbGFzcyIsIl9vbkxpbmtDbGljayIsIl9vbkRyYWdDb0M3TGluayIsImFkZENsYXNzIiwiX2xpbmtGcm9tRXZlbnQiLCJvbGRUeXBlIiwibGlua0ljb24iLCJvcmlnaW5hbEV2ZW50Iiwic2V0RGF0YSIsImV4dGVybmFsIiwiX2NyZWF0ZUxpbmsiLCJtYXRjaEFsbCIsIkFycmF5IiwiZnJvbSIsImRpZmZpY3VsdHlTdHJpbmciLCJodW1hbk5hbWUiLCJnZXRDaGFyYWN0ZXJpc3RpY05hbWVzIiwiZHJhZ2dhYmxlIiwiX2NyZWF0ZURvY3VtZW50TGluayIsImV2ZW50RGF0YSIsIl9vbkxpbmtBY3RvckNsaWNrIiwiZ2V0U3BlYWtlckFjdG9yIiwiT0JTRVJWRVIiLCJpc0NoYXJhY3RlcmlzdGljQ2hlY2siLCJpc0NoZWNrIiwiaXNBdHRyaWJ1dGVDaGVjayIsImlzU2FuTG9zc0NoZWNrIiwiaXNFZmZlY3QiLCJDb0M3UGFyc2VyIiwiX2dldFRleHROb2RlcyIsInJneCIsIl9yZXBsYWNlVGV4dENvbnRlbnQiLCJQYXJzZVNoZWV0Q29udGVudCIsIlBhcnNlTWVzc2FnZSIsImlzQ29udGVudFZpc2libGUiLCJwYXJzZWRDb250ZW50IiwiSXRlbSIsInJlbGF0aXZlVG8iLCJKb3VybmFsRW50cnlQYWdlIiwiaWNvbkxhbmd1YWdlIiwibWFsZnVuY3Rpb24iLCJ0b2dnbGVQcm9wZXJ0eSIsInByb3BlcnR5SWQiLCJvdmVycmlkZSIsImNoZWNrZWRQcm9wcyIsIkNvQ0lERWRpdG9yIiwiZXJhVG9nZ2xlIiwibWVsZWVXZWFwb24iLCJwcm9wTmFtZSIsInByb3BWYWx1ZSIsImhhc1Byb3BlcnR5IiwiaXNJbmNsdWRlZEluU2V0Iiwic3BlY05hbWVSZWdleCIsImd1ZXNzTmFtZVBhcnRzIiwiY2hlY2tTa2lsbFByb3BlcnRpZXMiLCJzZXQiLCJ0b2dnbGVJdGVtRmxhZyIsImVyYXNlQWRqdXN0bWVudCIsIm1heFVzZXNQZXJSb3VuZCIsIm11bHRpU2hvdCIsInVzZXNQZXJSb3VuZFN0cmluZyIsInNraWxsUHJvcGVydGllcyIsIl9iYXNlIiwiYXN5bmNCYXNlIiwiYW1tbyIsInNldEJ1bGxldHMiLCJtYXhCdWxsZXQiLCJidWxsZXRzIiwiYWRkQnVsbGV0IiwibWF4QnVsbGV0cyIsIm5ld0FycmF5IiwiZ2V0Q2hhdERhdGEiLCJodG1sT3B0aW9ucyIsImxhYmVscyIsInByb3BzIiwiZm4iLCJwIiwiX3dlYXBvbkNoYXREYXRhIiwic2tpbGxMYWJlbCIsImNhbkJlUHVzaGVkIiwiaXNEb2RnZSIsInB1c2hpbmciLCJpc1Vua25vd24iLCJfdXVpZCIsInJhbmRvbUlEIiwiaGFzQ2FyZCIsInJhd1ZhbHVlU3RyaW5nIiwiY3JpdGljYWxUaHJlc2hvbGQiLCJmdW1ibGVUaHJlc2hvbGQiLCJzdWNjZXNUaHJlc2hvbGQiLCJfbW9kaWZpZWRSZXN1bHQiLCJtb2RpZmllZCIsImZsYXREaWNlTW9kaWZpZXJTdHJpbmciLCJpc1NpbXBsZVJvbGwiLCJoYXNQZW5hbHR5IiwiaGFzTW9kaWZpZXIiLCJfZGljZU1vZGlmaWVyIiwiZnVsbE5hbWUiLCJfZGlmZmljdWx0eSIsIm9sZENoZWNrIiwic3VjY2Vzc0xldmVsSWNvbnMiLCJ1bmtub3duRGlmZmljdWx0eSIsImljb25zIiwic3VjY2Vzc0hpbnQiLCJjc3NDbGFzcyIsImhpbnQiLCJmYWlsdXJlSGludCIsImdtRGlmZmljdWx0eUNyaXRpY2FsIiwiZ21EaWZmaWN1bHR5RXh0cmVtZSIsImdtRGlmZmljdWx0eUhhcmQiLCJnbURpZmZpY3VsdHlSZWd1bGFyIiwiX3NraWxsIiwiX2dldEl0ZW1Gcm9tSWQiLCJfaXRlbSIsImlzRHVtbXkiLCJkaXNwbGF5UmVzdWx0VHlwZSIsImRpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbCIsImRpc3BsYXlCb3RoU3VjY2Vzc0xldmVsIiwiZG9udERpc3BsYXlTdWNjZXNzTGV2ZWwiLCJpbWFnZSIsImdldExpbmtFbGVtZW50IiwiY3JlYXRlRnJvbUFjdG9yUm9sbERhdGEiLCJyb2xsRGF0YSIsInRocmVzaG9sZCIsInJvbGxWYWx1ZSIsInRlblJlc3VsdCIsInRlbk9ubHlPbmVEaWUiLCJpc1ZhbHVlIiwiaXNDaGFyYWN0aXJpc3RpYyIsImlzU2tpbGwiLCJpc0l0ZW0iLCJpc0F0dHJpYnV0ZSIsInN1Y2Nlc3NSZXF1aXJlZCIsIm1hbGZ1bmN0aW9uVHh0IiwiaGFzRW5vdWdoTHVjayIsIm5leHRMZXZlbCIsImx1Y2tUb1NwZW5kIiwiY2FuSW5jcmVhc2VTdWNjZXNzIiwiY2FuQXdhcmRFeHBlcmllbmNlIiwiZm9yY2VkIiwiSlNPTlJvbGxTdHJpbmciLCJjc3NDbGFzc0xpc3QiLCJwbGF5ZXJDc3NDbGFzcyIsImZvcmNlZFN1Y2Nlc3MiLCJmb3JjZWRGYWlsdXJlIiwidG90YWxMdWNrU3BlbnQiLCJzaGlmdCIsInJlbW92ZVVwZ3JhZGVzIiwiZm9yY2VTdWNjZXNzTGV2ZWwiLCJfZm9yY2VDaGVjayIsImhpZ2giLCJsb3ciLCJyYW5kb20iLCJ1bml0VG90YWwiLCJ0ZW5Ub3RhbCIsImhhc0Vub3VnaCIsInRlbiIsImZsYWdnZWRGb3JEZXZlbG9wbWVudCIsIl9mbGF2b3IiLCJfY29udGV4dCIsInBhcmVudFV1aWQiLCJyYXd2YWx1ZSIsInRvb2x0aXBIZWFkZXIiLCJnZXRIdG1sUm9sbEVsZW1lbnQiLCJvcmlnaW5hbFNwZWFrZXIiLCJuZXdDb250ZW50IiwiaHRtbE1lc3NhZ2UiLCJyb2xsUmVzdWx0RWxlbWVudCIsIk9USEVSIiwidG9vbHRpcCIsInJvbGxUb29sVGlwIiwiZmFjZSIsImZyb21Sb2xsU3RyaW5nIiwiY29tbWFuZCIsIl9vbkNsaWNrSW5saW5lUm9sbCIsInRpcCIsImNoaWxkcmVuIiwiYXBwZW5kQ2hpbGQiLCJwYSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInB0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsInRvcCIsInkiLCJpbm5lckhlaWdodCIsInppIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInpJbmRleCIsImlzTnVtZXJpYyIsIlBhcnNlQ2hhdEVudHJ5IiwiX0V4ZWNDb21tYW5kIiwiZXNjYXBlZCIsImFzayIsInRocmVzaG9sZFN0ciIsImRpZmZpY3VsdHlTdHIiLCJhc2tWYWx1ZSIsInRlc3QiLCJnZXRBY3RvckZyb21TdHJpbmciLCJhY3RvclN0cmluZyIsInNraWxsQ2hlY2tNYWNybyIsIndlYXBvbkNoZWNrTWFjcm8iLCJiYXNlQWN0b3IiLCJnZXREb2N1bWVudENsYXNzIiwiY2hlY2tNYWNybyIsInJvbGxEaWNlIiwiY3JlYXRlTWFjcm8iLCJiYXIiLCJzbG90IiwibWFjcm8iLCJtYWNyb3MiLCJtIiwiYXNzaWduSG90YmFyTWFjcm8iLCJNYWNybyIsInRvZ2dsZURldlBoYXNlIiwidXBkYXRlQ2hhclNoZWV0cyIsInRvZ2dsZUNoYXJDcmVhdGlvbiIsImdldFRhcmdldCIsImNoZWNrT3B0aW9ucyIsInBsYXllclRva2VuSWRzIiwic2VsZWN0ZWRQbGF5ZXJJZHMiLCJmb3JFYWNoIiwiY2hlY2tlZCIsInN0YXJ0UmVzdCIsImNoYXRDb250ZW50IiwicXVpY2tIZWFsZXIiLCJpc0NyaXRpY2FsV291bmRzIiwiZGFpbHlTYW5pdHlMb3NzIiwiaHBWYWx1ZSIsIm1wVmFsdWUiLCJoZWFsQW1vdW50IiwiaG91cnMiLCJtYWdpY0Ftb3VudCIsInRvZ2dsZVhQR2FpbiIsInRrIiwicmVuZGVyZWQiLCJlbnRpdHlUeXBlIiwiZm9sZGVyIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwiaXNTZWN1cmVDb250ZXh0Iiwid3JpdGVUZXh0IiwicG9zaXRpb24iLCJib2R5IiwiZm9jdXMiLCJyZWplY3QiLCJleGVjQ29tbWFuZCIsIkVycm9yIiwiY2F0Y2giLCJsZW4iLCJxU3RyaW5nIiwiY2hhckF0IiwiY2hhckNvZGVBdCIsImoiLCJzZXRCeVBhdGgiLCJwYXRoIiwibyIsImdldEJ5UGF0aCIsImRvYyIsImRvY05hbWUiLCJkb2NJZCIsImluc3RhbmNlIiwiZW1iZWRkZWRJZCIsImlkZW50aWZpZXJzIiwiZ2V0QWN0b3JEb2N1bWVudEZyb21Ecm9wRGF0YSIsImRyb3BEYXRhIiwiZG9jVXVpZCIsImdldERvY3VtZW50RnJvbUtleSIsImNyZWF0ZUltcG9ydENoYXJhY3RlcnNGb2xkZXJJZk5vdEV4aXN0cyIsImZvbGRlck5hbWUiLCJpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXIiLCJmb2xkZXJzIiwiRm9sZGVyIiwiZ3Vlc3NJdGVtIiwib00iLCJzb3VyY2UiLCJwYWNrYWdlIiwiZ2V0RG9jdW1lbnRzIiwiZmFsbGJhY2tBbnkiLCJ0b0tlYmFiQ2FzZSIsIm5vcm1hbGl6ZSIsInN1Ym1pdE9uQ2xvc2UiLCJzdWJtaXRPbkNoYW5nZSIsInN1cHBvcnRlZExhbmd1YWdlcyIsImVkaXRhYmxlIiwiaXNFZGl0YWJsZSIsImd1ZXNzQ29kZSIsImd1ZXNzSWQiLCJpZFByZWZpeCIsImdldFByZWZpeCIsImxhbmciLCJpc0VuYWJsZWQiLCJDb0NJREtleXMiLCJmbGF0dGVuT2JqZWN0IiwidHJhbnNsYXRpb25zIiwiQ29DSURGbGFnIiwicHJlZml4IiwiZXhpc3RpbmdLZXlzIiwiaXNTeXN0ZW1JRCIsIl9leGlzdGluZyIsIndvcmxkRG9jdW1lbnRzIiwiZnJvbUNvQ0lEQWxsIiwic2NvcGUiLCJ1c2VkRXJhcyIsInVuaXF1ZVdvcmxkUHJpb3JpdHkiLCJ3b3JsZERvY3VtZW50SW5mbyIsIndhcm5EdXBsaWNhdGVXb3JsZFByaW9yaXR5Iiwid29ybGREdXBsaWNhdGVzIiwiY29tcGVuZGl1bURvY3VtZW50cyIsInVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eSIsImNvbXBlbmRpdW1Eb2N1bWVudEluZm8iLCJ3YXJuRHVwbGljYXRlQ29tcGVuZGl1bVByaW9yaXR5IiwiY29tcGVuZGl1bUR1cGxpY2F0ZXMiLCJzaWJsaW5ncyIsIl9vbkNsaWNrVG9nZ2xlIiwiZ3Vlc3MiLCJjc3MiLCJjb2xvciIsImFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24iLCJoZWFkZXJCdXR0b25zIiwic2hlZXRDb0NJRCIsIkNvQ0lERWRpdG9yQnV0dG9uIiwib25jbGljayIsIm51bWJlck9mQnV0dG9ucyIsIkNvQzdBY3RpdmVFZmZlY3QiLCJBY3RpdmVFZmZlY3QiLCJvbk1hbmFnZUFjdGl2ZUVmZmVjdCIsIm93bmVyIiwiZWZmZWN0SWQiLCJvcmlnaW4iLCJlZmZlY3RUeXBlIiwiX3ByZXBhcmVEdXJhdGlvbiIsInRvSVNPU3RyaW5nIiwiaXNTdGF0dXMiLCJwcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJ0ZW1wb3JhcnkiLCJwYXNzaXZlIiwiaW5hY3RpdmUiLCJzdXBwcmVzc2VkIiwiX2dldFNvdXJjZU5hbWUiLCJpc1RlbXBvcmFyeSIsImhpZGRlbiIsInByZXBhcmVOUENBY3RpdmVFZmZlY3RDYXRlZ29yaWVzIiwiZXhwZW5kZWQiLCJDb0M3Q29udGV4dE1lbnUiLCJtZW51IiwiX2NhbGxiYWNrIiwiX2h0bWwiLCJfbWVudSIsIm1lbnVUcmlnZ2VyIiwiY29udGV4dG1lbnUiLCJfb25Db250ZXh0TWVudSIsIm1lbnVFbGVtZW50IiwiQ3JlYXRlTWVudSIsIl9vbk1lbnVBY3Rpb24iLCJtZW51Q29udGFpbmVyIiwiY2xvc2VBbGwiLCJlYWNoIiwidmlzaWJpbGl0eSIsIm1lbnVOYW1lIiwiY29udGV4dE1lbnUiLCJ3cmFwcGVyIiwic3ViTWVudSIsImNsaWVudFgiLCJjbGllbnRZIiwibWVudUhlaWdodCIsIm91dGVySGVpZ2h0IiwibWVudVdpZHRoIiwib3V0ZXJXaWR0aCIsImNhblNlZSIsInNlY3Rpb24iLCJDcmVhdGVTZWN0aW9uIiwibXVsdGkiLCJzdWIiLCJDb0M3QWN0b3JTaGVldCIsIkFjdG9yU2hlZXQiLCJfZ2V0SGVhZGVyQnV0dG9ucyIsInNob3dIaWRkZW5EZXZNZW51IiwiY2FuRHJhZ1Rva2VuIiwibGlua2VkQWN0b3IiLCJpdGVtc0J5VHlwZSIsImNvbWJhdFNraWxscyIsInJhbmdlV3BuIiwibWVsZWVXcG4iLCJhY3RvckZsYWdzIiwicGVybWlzc2lvbkxpbWl0ZWQiLCJMSU1JVEVEIiwiYWxsb3dVbmxvY2siLCJwZXJzb25hbERlc2NyaXB0aW9uIiwic2V4IiwicmVzaWRlbmNlIiwiYmlydGhwbGFjZSIsIm9yZ2FuaXphdGlvbiIsInBsYXllcm5hbWUiLCJtYW51YWxDcmVkaXQiLCJjcmVkaXQiLCJtb25ldGFyeVN5bWJvbCIsInNwZW50IiwiYXNzZXRzRGV0YWlscyIsImRldmVsb3BtZW50IiwicHVscFJ1bGVBcmNoZXR5cGUiLCJwdWxwUnVsZU9yZ2FuaXphdGlvbiIsImlzRGVhZCIsImlzRHlpbmciLCJpdGVtVG9VcGRhdGUiLCJ1cGRhdGVkRXhwIiwiaXRlbVR5cGUiLCJtZWxlZVNraWxscyIsInJhbmdlU2tpbGxzIiwiY2J0U2tpbGxzIiwidXNlc0FsdGVybmF0ZVNraWxsIiwic2tpbGxTZXQiLCJfcHJvcGVydGllcyIsImhhc0VtcHR5VmFsdWVXaXRoRm9ybXVsYSIsImlzRmlyc3QiLCJpc0xhc3QiLCJzaG93SW52ZW50b3J5SXRlbXMiLCJzaG93SW52ZW50b3J5Qm9va3MiLCJzaG93SW52ZW50b3J5U3BlbGxzIiwic2hvd0ludmVudG9yeVRhbGVudHMiLCJzaG93SW52ZW50b3J5U3RhdHVzZXMiLCJzaG93SW52ZW50b3J5V2VhcG9ucyIsImhhc0NvbmRpdGlvbnMiLCJjb25kaXRpb24iLCJvbkNsb3NlU2hlZXQiLCJtZW51cyIsInJvbGxNZW51Iiwic2FuTWVudSIsInJvbGxDb250ZXh0TWVudSIsIl9vbkNvbnRleHRNZW51Q2xpY2siLCJzYW5Db250ZXh0TWVudSIsIl9vbk9wcG9zZWRSb2xsIiwiX29uUm9sbENoYXJhY3Rlcml0aWNUZXN0IiwiX29uUm9sbFNraWxsVGVzdCIsIl9vblJvbGxBdHRyaWJUZXN0IiwiX29uRHJhZ1Rva2VuU3RhcnQiLCJjb21wZW5kaXVtIiwiX29uTG9ja0NsaWNrZWQiLCJfb25GbGFnQ2xpY2tlZCIsIl9vbkZvcm11bGFDbGlja2VkIiwiX29uRHJhZ0NoYXJhY3RlcmlzdGljIiwiX29uRHJhZ0F0dHJpYnV0ZSIsIl9vbkRyYWdTYW5DaGVjayIsIl9vblJvbGxDaGFyYWN0ZXJpdGljc1ZhbHVlIiwiX29uQXZlcmFnZUNoYXJhY3Rlcml0aWNzVmFsdWUiLCJfb25BdXRvVG9nZ2xlIiwiX29uUmVzZXRDb3VudGVyIiwiX29uQ29uZGl0aW9uVG9nZ2xlIiwiaGVhbCIsInJldml2ZSIsImNoZWNrRm9yRGVhdGgiLCJfb25JdGVtUm9sbCIsIl9vbldlYXBvblJvbGwiLCJfb25FZmZlY3QiLCJfb25XZWFwb25Ta2lsbFJvbGwiLCJfb25SZWxvYWRXZWFwb24iLCJfb25BZGRBbW8iLCJkYmxjbGljayIsIl90b2dnbGVSZWFkT25seSIsIl9vbldlYXBvbkRhbWFnZSIsIl9vbkludmVudG9yeUhlYWRlciIsIl9vbkl0ZW1IZWFkZXIiLCJfb25TZWN0aW9uSGVhZGVyIiwid2hlZWxJbnB1dHMiLCJ3aGVlbElucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vbldoZWVsIiwiX29uSXRlbVN1bW1hcnkiLCJfb25JdGVtUG9wdXAiLCJfb25SZW5kZXJJdGVtU2hlZXQiLCJldiIsInBhcmVudHMiLCJpdGVtVG9EZWxldGUiLCJzdHJpY3QiLCJzbGlkZVVwIiwic3RvcFByb3BhZ2F0aW9uIiwiX29uVHJhZGVJdGVtIiwiZGV0YWlsIiwiZGlzYWJsZSIsIm1vdXNlZW50ZXIiLCJ0b29sVGlwU2tpbGxFbnRlciIsIkNvQzdUb29sdGlwcyIsInRvb2xUaXBMZWF2ZSIsInRvb2xUaXBDaGFyYWN0ZXJpc3RpY0VudGVyIiwidG9vbFRpcEF0dHJpYnV0ZUVudGVyIiwidG9vbFRpcEF1dG9FbnRlciIsInRvb2xUaXBGbGFnRm9yRGV2ZWxvcG1lbnQiLCJkZWxheSIsIlRvb2xUaXBIb3ZlciIsInRvb2xUaXBUaW1lciIsInRvb2xUaXAiLCJkaXNwbGF5VG9vbFRpcCIsImNoYXJJZCIsImF0dHJpYnV0ZUlkIiwiYXR0cmlidXRlcyIsInRhcmdldFR5cGUiLCJyb2xsT3B0aW9ucyIsImFjdG9yRnJvbSIsImFjdG9yVG8iLCJ2aXNpYmxlIiwiTk9ORSIsIl9vbkRyYWdTdGFydCIsImRyYWdEYXRhIiwiYm94IiwiQ29DN1R5cGUiLCJpc0xvY2tlZCIsImRlbHRhWSIsInJlYWRPbmx5Iiwic2VjcmV0cyIsImhhc0NsYXNzIiwic3VtbWFyeSIsImRpdiIsInNwZWNpYWxEaXYiLCJoaWRlIiwic2xpZGVEb3duIiwicGFubmVsQ2xhc3MiLCJwYW5uZWwiLCJpcyIsIm9sIiwibmV4dCIsInBvcHVwU2tpbGwiLCJlbnJpY2hlZFZhbHVlIiwic2Nyb2xsWSIsInByb2NlZWRXaXRob3V0VGFyZ2V0IiwiY2FuY2VsIiwicHJvY2VlZCIsInJvbGxGb3JtdWxhIiwib3ZlcnJpZGVzIiwiY3JlZGl0VmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiQ29DN05QQ1NoZWV0IiwiYWxsb3dGb3JtdWxhIiwiZGlzcGxheUZvcm11bGEiLCJoYXNTYW4iLCJoYXNNcCIsImhhc0x1Y2siLCJpc0NyZWF0dXJlIiwiaGFzSW52ZW50b3J5IiwiZW5yaWNoZWRCaW9ncmFwaHlQZXJzb25hbERlc2NyaXB0aW9uIiwiZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciIsImtlZXBlciIsInNhbmxvc3NNZW51Iiwic2FubG9zc0NvbnRleHRNZW51IiwiX29uU2FuTG9zc0NvbnRleHRNZW51Q2xpY2siLCJfb25TYW5DaGVjayIsInJlc2l6YWJsZSIsIm1pbmltaXphYmxlIiwiZm9yY2VBdXRvIiwic2V0UG9zaXRpb24iLCJDb0M3Q3JlYXR1cmVTaGVldCIsIkNvQzdDcmVhdGVNeXRob3NFbmNvdW50ZXIiLCJpc0ltbXVuaXR5IiwiX29uQnV0dG9uQ2xpY2siLCJDb0M3Q2hhcmFjdGVyU2hlZXQiLCJzdW1tYXJpemVkIiwidG9nZ2xlU2hlZXRNb2RlIiwic2tpbGxMaXN0TW9kZVZhbHVlIiwic2tpbGxTaG93VW5jb21tb24iLCJzaG93SWNvbnNPbmx5Iiwib2NjdXBhdGlvblNldCIsImFyY2hldHlwZVNldCIsInRvdGFsRXhwZXJpZW5jZSIsInRvdGFsT2NjdXBhdGlvbiIsImludmFsaWRPY2N1cGF0aW9uUG9pbnRzIiwidG90YWxBcmNoZXR5cGUiLCJpbnZhbGlkQXJjaGV0eXBlUG9pbnRzIiwidG90YWxQZXJzb25hbCIsImludmFsaWRQZXJzb25hbFBvaW50cyIsImNyZWRpdFJhdGluZ01heCIsImNyZWRpdFJhdGluZ01pbiIsImludmFsaWRDcmVkaXRSYXRpbmciLCJwdWxwVGFsZW50Q291bnQiLCJ0YWxlbnQiLCJtaW5QdWxwVGFsZW50cyIsInRhbGVudHMiLCJpbnZhbGlkUHVscFRhbGVudHMiLCJhbGxvd0RldmVsb3BtZW50IiwiYWxsb3dDaGFyQ3JlYXRpb24iLCJkZXZlbG9wbWVudFJvbGxGb3JMdWNrIiwic2hvd0RldlBhbm5lbCIsIl9tb25ldGFyeUZvcm1hdHMiLCJtb25ldGFyeUZvcm1hdHMiLCJzaG93Q3VycmVuY3lTeW1ib2wiLCJfbW9uZXRhcnlUeXBlcyIsIm1vbmV0YXJ5VHlwZXMiLCJvbmVCbG9ja0JhY2tTdG9yeSIsInByZXZpb3VzU3BlYyIsImlzU3BlY2lhbGl6YXRpb24iLCJza2lsbHNCeVZhbHVlIiwidG9wU2tpbGxzIiwidG9wV2VhcG9ucyIsInJldmVyc2UiLCJkaXNwbGF5UGxheWVyTmFtZSIsInNraWxsTGlzdEVtcHR5IiwiZW5yaWNoZWRCYWNrc3RvcnkiLCJfc2F2ZVNjcm9sbFBvc2l0aW9ucyIsIl9zY3JvbGxQb3NpdGlvbnNYIiwicG9zIiwic2VsIiwic2Nyb2xsTGVmdCIsIl9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zIiwic2VsZWN0b3JzIiwicG9zaXRpb25zIiwiX29uU2tpbGxEZXYiLCJfb25JdGVtRGV0YWlscyIsInRvZ2dsZVNraWxsTGlzdE1vZGUiLCJ0b2dnbGVTa2lsbFVuY29tbW9uTW9kZSIsIl9vbkFkZFNhbml0eUxvc3NSZWFzb24iLCJfb25EZWxldGVTYW5pdHlMb3NzUmVhc29uIiwiYmx1ciIsIl9vbkVkaXRTYW5pdHlMb3NzUmVhc29uIiwiX29uVG9nZ2xlS2VlcGVyRmxhZ3MiLCJfb25BZGRNb25ldGFyeSIsIl9vblJlbW92ZU1vbmV0YXJ5IiwiY2FzaFR5cGUiLCJjYXNoVmFsdWUiLCJhc3NldHNUeXBlIiwiYXNzZXRzVmFsdWUiLCJzcGVuZGluZ1R5cGUiLCJzcGVuZGluZ1ZhbHVlIiwic3R5bGVTaGVldCIsImNzc1J1bGVJbmRleCIsInN0eWxlU2hlZXRzIiwiaHJlZiIsImVuZHNXaXRoIiwicnVsZXMiLCJzZWxlY3RvclRleHQiLCJDU1NTdHlsZSIsInJlbW92ZVByb3BlcnR5Iiwic2V0UHJvcGVydHkiLCJGb250RmFjZSIsImxvYWQiLCJsb2FkZWRGYWNlIiwiZm9udHMiLCJ3ZWlnaHQiLCJleHBhbmRlZCIsIkNvQzdDb21iYXQiLCJyZW5kZXJDb21iYXRUcmFja2VyIiwiY3VycmVudENvbWJhdCIsImNvbWJhdHMiLCJjdXJyZW50SW5kZXgiLCJjb21iSWQiLCJjb21iYXRhbnRDb250cm9sc0RpdiIsImNvbWJhdGFudCIsImNvbWJhdGFudHMiLCJwcmVwZW5kIiwiaW5pdGlhdGl2ZSIsInRva2VuSW5pdGlhdGl2ZSIsImluaXRpYXRpdmVUZXN0IiwiaDQiLCJmb250V2VpZ2h0IiwidGV4dFNoYWRvdyIsImJhY2tncm91bmQiLCJfb25Ub2dnbGVHdW4iLCJjb21iYXRhbnRJZCIsIm5ld0luaXQiLCJzZXRJbml0aWF0aXZlIiwiaWRzIiwiQ29DSURCYXRjaCIsImZvdW5kS2V5cyIsIm91dCIsIm1pc3NpbmdOYW1lcyIsInN1ZmZpeCIsInN1ZmZpeFJlZ0V4cCIsIm9uU2V0TmFtZSIsIm9uQ2xpY2tHdWVzcyIsImtleXVwIiwib25LZXl1cCIsInR5cGVOYW1lIiwicHJvY2Vzc1NraWxsS2V5cyIsInVwZGF0ZUxpc3QiLCJ0b2tlbk9mZnNldCIsIml0ZW1PZmZzZXQiLCJhY3RvckRhdGEiLCJleHBhbmRlZEZsYWdzIiwidXBkYXRlRG9jdW1lbnRzIiwicG9wdWxhdGVTa2lsbEtleXMiLCJzY2VuZURhdGEiLCJVcGRhdGVyIiwiY2hlY2tGb3JVcGRhdGUiLCJzeXN0ZW1VcGRhdGVWZXJzaW9uIiwiam91cm5hbCIsInZlcnNpb24iLCJydW5NaWdyYXRlIiwiaXNOZXdlclZlcnNpb24iLCJ1cGRhdGVkTW9kdWxlcyIsImN1cnJlbnRNb2R1bGVzIiwicGFja2FnZU5hbWUiLCJtb2R1bGUiLCJtb2QiLCJza2lwIiwiT0siLCJwZXJtYW5lbnQiLCJtaWdyYXRlQWN0b3JEYXRhIiwiaXNFbXB0eSIsImVuZm9yY2VUeXBlcyIsIm1pZ3JhdGVJdGVtRGF0YSIsInRhYmxlIiwibWlncmF0ZVRhYmxlRGF0YSIsIm1pZ3JhdGVNYWNyb0RhdGEiLCJtaWdyYXRlU2NlbmVEYXRhIiwibWlncmF0ZUNvbXBlbmRpdW1EYXRhIiwiX21pZ3JhdGVBY3RvckNoYXJhY3RlclNhbml0eSIsIl9taWdyYXRlQWN0b3JBcnR3b3JrIiwiX21pZ3JhdGVBY3RvcktlZXBlck5vdGVzIiwiX21pZ3JhdGVBY3Rvck5wY0NyZWF0dXJlIiwiX21pZ3JhdGVBY3RvclN0YXR1c0VmZmVjdEFjdGl2ZSIsIl9taWdyYXRlQWN0b3JTYW5Mb3NzUmVhc29ucyIsIl9taWdyYXRlQWN0b3JNb25ldGFyeSIsImFyciIsIml0ZW1VcGRhdGUiLCJkb2N1bWVudFR5cGUiLCJ3YXNMb2NrZWQiLCJjb25maWd1cmUiLCJtaWdyYXRlIiwiZG9jdW1lbnRzIiwiX21pZ3JhdGVJdGVtRW1iZWRkZWR2MTAiLCJfbWlncmF0ZUl0ZW1FeHBlcmllbmNlIiwiX21pZ3JhdGVJdGVtQXJ0d29yayIsIl9taWdyYXRlSXRlbUJvb2tBdXRvbWF0ZWQiLCJfbWlncmF0ZUl0ZW1LZWVwZXJOb3RlcyIsIl9taWdyYXRlSXRlbVNwZWxsQXV0b21hdGVkIiwiX21pZ3JhdGVJdGVtS2VlcGVyTm90ZXNNZXJnZSIsIl9taWdyYXRlSXRlbUVyYXMiLCJfbWlncmF0ZUl0ZW12MTAiLCJfbWlncmF0ZUl0ZW1Cb29rVW5pdHMiLCJfbWlncmF0ZU1hY3JvQXJ0d29yayIsIl9taWdyYXRlVGFibGVBcnR3b3JrIiwicmV0dXJucyIsIl9taWdyYXRlVG9rZW5BcnR3b3JrIiwiaGFzIiwiTWFwIiwib3JpZ2luYWwiLCJnIiwic3BlbGxzIiwiY29zdCIsImNhc3RpbmdUaW1lIiwidW5pZGVudGlmaWVkIiwiYXV0aG9yIiwiZGF0ZSIsImxhbmd1YWdlIiwibXl0aG9zUmF0aW5nIiwibm90ZXMiLCJnYWluIiwiQ01JIiwiQ01GIiwibmVjZXNzYXJ5Iiwid2Vla3NTdHVkeVRpbWUiLCJwcm9ncmVzcyIsInN0dWR5Iiwia2VlcGVyTm90ZXMiLCJlbmNvdW50ZXJlZENyZWF0dXJlcyIsImltIiwiYXR0YWNrc1BlclJvdW5kIiwiaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwiLCJuYW1lQ2hhcmFjdGVycyIsImVuIiwiZGJOb25lIiwiYXJtb3JOb25lIiwiYXR0YWNrc1BlclJvdW5kTm9uZSIsInNhbkxvc3NOb25lIiwiZnVsbGRiIiwiaGFsZmRiIiwic2VjdGlvbkNvbWJhdHMiLCJuZXdDb21iYXRIZWFkZXIiLCJzZWN0aW9uU2tpbGxzIiwic2VjdGlvbkxhbmdhdWdlcyIsInNlY3Rpb25TcGVsbHMiLCJoYW5kZ3VuIiwicmlmbGUiLCJzbWIiLCJtYWNoaW5lR3VuIiwibGF1bmNoZWQiLCJleGFtcGxlIiwiZGUiLCJkaWNlU2hvcnQiLCJwbCIsImZyIiwiZXMiLCJ3ZWFwb25Eb2RnZSIsImd1ZXNzU3RhcnRDb21iYXQiLCJzZWN0aW9ucyIsIkNvQzdBY3RvckltcG9ydGVyUmVnRXhwIiwiY2hlY2tMYW5ndWFnZSIsImdldEV4YW1wbGVUZXh0IiwiZ2V0VHJhbnNsYXRpb25zIiwiZ2V0S2V5cyIsImdldFJlZ3VsYXJFeHByZXNzaW9ucyIsIkNvQzdBY3RvckltcG9ydGVyIiwiaXRlbUxvY2F0aW9ucyIsImFzTnVtYmVyIiwiYXNTdHJpbmciLCJnZXRSZWdFeCIsInJlZ2V4IiwiY2xlYW5TdHJpbmciLCJ0cmFuc2xhdGVSb2xsIiwicmVnRXgiLCJ0b0hUTUwiLCJyZWdFeEtleSIsInJlZ0V4cCIsInJlcXVpcmVkR3JvdXAiLCJyZW1vdmVGcm9tVGV4dCIsInNhdmVLZXlzIiwicHJvY2Vzc0NvbWJhdCIsIm5ld2xpbmUiLCJDb0M3SW1wb3J0ZXIiLCJsYXN0UGVyY2VudCIsIm1heExvb3BzIiwicGVyY2VudGFnZSIsImlzUmFuZ2VkIiwiZGFtYWdlcyIsImlzU2hvdGd1biIsImF0dGFja3MiLCJwcm9jZXNzU2tpbGxzIiwiYnJlYWtzIiwicHJvY2Vzc1NwZWxscyIsInNwZWxsc0FyciIsInNwZWxsIiwicGFyc2VDaGFyYWN0ZXIiLCJoZWFkZXIiLCJzdWJzdHIiLCJvY2N1cGF0aW9uQWdlIiwicmVnRXhwU2VjdGlvbnMiLCJnbW5vdGVzIiwiZGlzYWJsZUF0dHJpYkF1dG8iLCJhdHRyaWJWYWx1ZSIsImNyZWF0ZUVudGl0eSIsImNoYXJhY3RlckRhdGEiLCJucGMiLCJ1cGRhdGVJdGVtRGF0YSIsImxhc3RXZWFwb25Ta2lsbCIsInBhaXIiLCJ3ZWFwb25Ta2lsbHMiLCJwYyIsIml0ZW1zRGF0YSIsIndlYXBvblNraWxsIiwiY2xvbmVkIiwibGFuZ3VhZ2VzIiwiY2xvbmUiLCJuZXdTa2lsbCIsIm5lZWRzQ29udmVyc2lvbiIsIm5lZWRzQ29udmVyc2lvblJlc3VsdCIsImNyZWF0ZUFjdG9yIiwiaW5wdXRzIiwiY29udmVydEZyb202RSIsImNvbnZlcnQ3RSIsInRlc3RNb2RlIiwiY3JlYXR1cmUiLCJDb0M3RGlyZWN0b3J5UGlja2VyIiwiRmlsZVBpY2tlciIsImFjdGl2ZVNvdXJjZSIsImJ1Y2tldCIsIkRlZmF1bHREaXJlY3RvcnkiLCJyYXciLCJwcm9jZXNzSHRtbCIsInBpY2tlciIsInBpY2tlckJ1dHRvbiIsImNyZWF0ZURlZmF1bHREaXJlY3RvcnkiLCJjcmVhdGVEaXJlY3RvcnkiLCJ1cGxvYWRUb0RlZmF1bHREaXJlY3RvcnkiLCJmaWxlIiwiZmlsZW5hbWUiLCJ1cGxvYWQiLCJGaWxlIiwiQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyIiwiZ2V0QmFja3N0b3J5IiwiYmFja3N0b3J5SlNPTiIsImJsb2NrIiwiY29udmVydERob2xlSG91c2VDaGFyYWN0ZXJEYXRhIiwiZGhvbGVIb3VzZURhdGEiLCJJbnZlc3RpZ2F0b3IiLCJiYWNrc3RvcmllcyIsIkJhY2tzdG9yeSIsIlBlcnNvbmFsRGV0YWlscyIsIk5hbWUiLCJDaGFyYWN0ZXJpc3RpY3MiLCJTVFIiLCJDT04iLCJTSVoiLCJERVgiLCJBUFAiLCJJTlQiLCJQT1ciLCJFRFUiLCJTYW5pdHkiLCJTYW5pdHlNYXgiLCJIaXRQdHMiLCJIaXRQdHNNYXgiLCJNYWdpY1B0cyIsIk1hZ2ljUHRzTWF4IiwiTHVjayIsIk1vdmUiLCJEYW1hZ2VCb251cyIsIkJ1aWxkIiwiT2NjdXBhdGlvbiIsIkFnZSIsIkdlbmRlciIsIlJlc2lkZW5jZSIsIkJpcnRocGxhY2UiLCJleHRyYWN0U2tpbGxzIiwiU2tpbGxzIiwiU2tpbGwiLCJwb3NzZXNpb25zIiwiZXh0cmFjdFBvc3Nlc3Npb25zIiwiUG9zc2Vzc2lvbnMiLCJtYWtlU2tpbGxOYW1lIiwiZGhvbGVIb3VzZXNraWxscyIsInN1YnNraWxsIiwiaGFsZiIsImZpZnRoIiwiZmluZFdlYXBvblNraWxsSWQiLCJnZXRFbWJlZGRlZENvbGxlY3Rpb24iLCJkaG9sZWhvdXNlUG9zc2Vzc2lvbnMiLCJpc0FycmF5IiwiZXh0cmFjdFdlYXBvbnMiLCJkaG9sZWhvdXNlV2VhcG9ucyIsInNraWxsbmFtZSIsIm1hbGYiLCJzYXZlUG9ydHJhaXQiLCJiYXNlNjRQb3J0cmFpdCIsImZpbGVOYW1lIiwiYmFzZTY0UmVzcG9uc2UiLCJmZXRjaCIsImltYWdlQmxvYiIsImJsb2IiLCJjcmVhdGVOUENGcm9tRGhvbGVIb3VzZSIsImRob2xlSG91c2VDaGFyYWN0ZXJEYXRhIiwiY2FuIiwiUG9ydHJhaXQiLCJXZWFwb25zIiwiQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2ciLCJpbXBvcnRUeXBlIiwiY29udmVydDZFIiwiY2FuVXBsb2FkIiwicGxhY2Vob2xkZXIiLCJfb25KU09ORmlsZVNlbGVjdGVkIiwiY2hhcmFjdGVyc1Rvb0V4dGVuZGVkIiwiZ2V0SW5wdXRzIiwianNvbkZpbGVJbnB1dCIsImdldEVsZW1lbnRCeUlkIiwicG9ydHJhaXRJbWFnZSIsImNoYXJhY3Rlck5hbWUiLCJwcmV2aWV3IiwiZmlsZXMiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImNoYXJhY3RlckpTT04iLCJwZXJzb25hbERldGFpbHMiLCJ0ZXh0Q29udGVudCIsInJlYWRBc1RleHQiLCJhY3RvclR5cGUiLCJpbXBvcnRBY3RvciIsImNyZWF0ZWRBY3RvciIsIm9uY2UiLCJEcm9wQ29DSUQiLCJwcm9jZXNzRm9ybSIsInJlc3BvbnNlIiwicHJvY2Vzc0l0ZW0iLCJubyIsIkNvQzdPY2N1cGF0aW9uU2hlZXQiLCJJdGVtU2hlZXQiLCJfb25JdGVtRGVsZXRlIiwiX29uR3JvdXBJdGVtRGVsZXRlIiwiX29uR3JvdXBDb250cm9sIiwiRHJhZ0Ryb3AiLCJjYWxsYmFja3MiLCJkcm9wIiwiY29sbGVjdGlvbk5hbWUiLCJvcHRpb25hbFNraWxsIiwidXNlQ29DSUQiLCJDb0NJZCIsIml0ZW1JbmRleCIsImhhc093bmVyIiwiaXNFbWJlZGRlZCIsIm9jY3VwYXRpb25Qb2ludHNTdHJpbmciLCJpdGVtUHJvcGVydGllcyIsIm9jY3VwYXRpb25Qcm9wZXJ0aWVzIiwiZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlIiwib3B0aW9ubmFsIiwibWFuZGF0b3J5IiwiY2FyYWMiLCJjYXJhY05hbWUiLCJvclN0cmluZyIsIkNvQzdJbnZlc3RpZ2F0b3JXaXphcmQiLCJwYWdlTGlzdCIsIlBBR0VfTk9ORSIsIlBBR0VfSU5UUk9EVUNUSU9OIiwiUEFHRV9DT05GSUdVUkFUSU9OIiwiUEFHRV9TRVRVUFMiLCJQQUdFX0FSQ0hFVFlQRVMiLCJQQUdFX0NIQVJBQ1RJU1RJQ1MiLCJQQUdFX0FUVFJJQlVURVMiLCJQQUdFX1ZJRVdfQVRUUklCVVRFUyIsIlBBR0VfT0NDVVBBVElPTlMiLCJQQUdFX09DQ1VQQVRJT05fU0tJTExTIiwiUEFHRV9BUkNIRVRZUEVfU0tJTExTIiwiUEFHRV9QT0lOVFNfU0tJTExTIiwiUEFHRV9JTlZFU1RJR0FUT1IiLCJQQUdFX0JBQ0tTVE9SWSIsIlBBR0VfQ1JFQVRFIiwiY2hhcmFjdGVyaXN0aWNzTWV0aG9kcyIsIk1FVEhPRF9ERUZBVUxUIiwiTUVUSE9EX1JPTEwiLCJNRVRIT0RfUE9JTlRTIiwiTUVUSE9EX1ZBTFVFUyIsImNvY2lkQ3JlZGl0UmF0aW5nIiwiY29jaWRMYW5ndWFnZU93biIsInBhZ2VPcmRlciIsInBhZ2VzIiwiZGVmYXVsdFNldHVwIiwibG9hZENhY2hlSXRlbUJ5Q29DSUQiLCJzaG93TG9hZGluZyIsImZpbHRlckNhY2hlSXRlbUJ5Q29DSUQiLCJyZWdleHAiLCJjYWNoZUNvQ0lEIiwiZ2V0Q2FjaGVJdGVtQnlDb0NJRCIsImNvY2lkcyIsImRlZmF1bHRFcmEiLCJnZXRBZ2VBZGp1c3RtZW50cyIsInNldHVwTW9kaWZpZXJzIiwicmVxdWlyZXNBZ2VBZGp1c3RtZW50cyIsImRlZHVjdCIsInNldHVwIiwiY2FuTmV4dCIsImNyZWF0ZUJ1dHRvbiIsInNob3dNb25ldGFyeSIsInN0ZXAiLCJzZXR1cHMiLCJvY2N1cGF0aW9ucyIsImFyY2hldHlwZXMiLCJfZXJhcyIsImNoYXJhY3RlcmlzdGljc01ldGhvZCIsImVuZm9yY2VQb2ludEJ1eSIsInF1aWNrRmlyZVZhbHVlcyIsImhhc0FyY2hldHlwZXMiLCJjb3JlQ2hhcmFjdGVyaXN0aWMiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsInN1Z2dlc3RlZE9jY3VwYXRpb25zIiwic3VnZ2VzdGVkVHJhaXRzIiwiZW1wdGllcyIsInNldHVwUG9pbnRzIiwicHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMiLCJkZWR1Y3RUb3RhbCIsImRlZHVjdEZyb20iLCJuIiwicmVkdWNlRnJvbSIsImx1Y2tWYWx1ZSIsInBlcnNvbmFsVGV4dCIsInNraWxsSXRlbXMiLCJsYW5ndWFnZU5hbWUiLCJyb3dzIiwiaXNNdWx0aXBsZSIsImlzQ3JlZGl0UmF0aW5nIiwiaXNQaWNrYWJsZSIsImlzT2NjdXBhdGlvbkRlZmF1bHQiLCJpbk9jY3VwYXRpb25Hcm91cCIsIm9jY3VwYXRpb25Ub2dnbGUiLCJwaWNrZWQiLCJkZWxldGVhYmxlIiwiYXJjaGV0eXBlVG9nZ2xlIiwib2NjdXBhdGlvbkdyb3VwcyIsImlzQXJjaGV0eXBlRGVmYXVsdCIsImNyZWRpdFJhdGluZ09rYXkiLCJyZW1haW5pbmciLCJmcm9tQ29DSUQiLCJ0b3RhbFBvaW50cyIsIm51bSIsImlzT2NjdXBhdGlvbiIsImlzQXJjaGV0eXBlIiwic2hvd0NyZWRpdFJhdGluZyIsImFsbEJhY2tzdG9yaWVzIiwiY2FjaGVCYWNrc3RvcmllcyIsInJvbGUiLCJVU0VSX1BFUk1JU1NJT05TIiwiQUNUT1JfQ1JFQVRFIiwiZGVmYXVsdFJvbGUiLCJrZXlwcmVzcyIsInNyY0VsZW1lbnQiLCJ0YWdOYW1lIiwid2hpY2giLCJjaGFyQ29kZSIsIl9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCIsIl9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCIsIl9vblJvbGxBbGwiLCJfb25Sb2xsRWR1IiwiX29uUm9sbEx1Y2siLCJfb25DaGFuZ2VTYXZlQ2hhcmFjdGVyaXN0aWMiLCJfb25Ub2dnbGVTa2lsbCIsIl9vbkNsaWNrUGlja1NraWxsIiwiX29uQ2xpY2tTa2lsbFNwZWNpYWwiLCJfb25DbGlja1JlbW92ZVNraWxsIiwiX29uQ2hhbmdlU2tpbGxQb2ludHMiLCJfb25DaGFuZ2VCYWNrc3RvcnlUZXh0IiwiX29uUm9sbEJhY2tzdG9yeSIsIl9vblJlc2V0QmFja3N0b3J5Iiwicm9sbE1lc3NhZ2UiLCJDSEFUX1RFTVBMQVRFIiwiZ2V0VG9vbHRpcCIsImFkZEl0ZW1Ub0xpc3QiLCJpbnZlc3RpZ2F0b3JJdGVtcyIsImlucGxhY2UiLCJjbGVhclNldHVwUG9pbnRzIiwic2V0U2tpbGxMaXN0cyIsInBsYWNlYWJsZSIsImdtIiwibmFtZUNyZWRpdFJhdGluZyIsImNoYXJhY3RlcmlzdGljS2V5IiwiZGVzdGluYXRpb24iLCJva2F5IiwidGVtcCIsInBhcmVudE5vZGUiLCJ0b2dnbGVLZXkiLCJndWVzc0dyb3VwRnJvbUtleSIsImFkanVzdG1lbnQiLCJ0ZXh0YXJlYSIsInJvbGx0YWJsZSIsInRhYmxlUmVzdWx0IiwibW9kaWZ5T2Zmc2V0IiwibW9kaWZ5Q2hhcmFjdGVyaXN0aWMiLCJyZXJvbGxzRW5hYmxlZCIsIm9ialRvdGFsIiwiZ2V0UGFnZU51bWJlciIsImRpcmVjdGlvbiIsImNsYXNzTmFtZSIsImRlZmF1bHRPd25lcnNoaXAiLCJzdGFydGVkIiwibm93IiwiYnVmZmVyIiwiZGVmYXVsdFF1YW50aXR5IiwiZmxhdEtleXMiLCJwYWdlTnVtYmVyIiwic2Nyb2xsVG9wIiwiYXR0ZW1wdFRvQ3JlYXRlIiwibm9ybWFsaXplQ2hhcmFjdGVyRGF0YSIsImNyZWF0ZUNoYXJhY3RlciIsImtlZXBlcnMiLCJsaXN0ZW5lciIsInBheWxvYWQiLCJzb3VyY2VJdGVtIiwiYXZhdGFyIiwiVE9LRU5fRElTUE9TSVRJT05TIiwiRlJJRU5ETFkiLCJjcmVhdGVDaGFyYWN0ZXJGcm9tRGF0YSIsImZ1bmN0aW9uSWQiLCJvZmYiLCJjYWNoZUl0ZW1zIiwiQ29DN01lbnVMYXllciIsIlBsYWNlYWJsZXNMYXllciIsIm9iamVjdHMiLCJsYXllck9wdGlvbnMiLCJwbGFjZWFibGVzIiwiQ29DN01lbnUiLCJnZXRCdXR0b25zIiwiY29udHJvbHMiLCJjb2M3Z210b29scyIsImxheWVyIiwidG9vbHMiLCJvbkNsaWNrIiwiY29jN0RldlRvb2xzIiwicmVuZGVyQ29udHJvbHMiLCJrZWVwZXJNZW51IiwiYWZ0ZXIiLCJDb0M3Q2FudmFzIiwiQ09DN19UWVBFU19TVVBQT1JURUQiLCJvbkRyb3BTb21ldGhpbmciLCJncmlkU2l6ZSIsImRyb3BUYXJnZXRUb2tlbnMiLCJiZXR3ZWVuIiwiYXBwSWQiLCJjYWxsQmFjayIsIndpbmRvd3MiLCJDb0M3U2V0dGluZ3NEaXJlY3RvcnkiLCJTZXR0aW5ncyIsImxvY2F0aW9uIiwiTWFudWFsIiwiQ29DN0NvbXBlbmRpdW1EaXJlY3RvcnkiLCJDb21wZW5kaXVtRGlyZWN0b3J5IiwidHJhbnNsYXRlZCIsImJhYmVsZSIsIkNvQzdBY3RvckRpcmVjdG9yeSIsIkFjdG9yRGlyZWN0b3J5IiwiYWxsb3dXaXphcmQiLCJhbGxvd2VkIiwiQ29DN0RlY2FkZXJEU05GYWNlcyIsImNvbnN0cnV0b3IiLCJzZXRGYWNlcyIsImdsb2JhbCIsInNvdXJjZURpZSIsIkRpY2VGYWN0b3J5Iiwic3lzdGVtcyIsIkNvQzdTcGVsbCIsImNhc3QiLCJpc093bmVkIiwiY29zdHMiLCJsb3NzZXMiLCJjb252ZXJ0U3VycGx1c0ludG9IaXRQb2ludHMiLCJtYWdpY1BvaW50cyIsImNvbnZlcnRlZEhpdFBvaW50cyIsImNvbnZlcnRlZE1hZ2ljUG9pbnRzIiwiYWN0b3JNYWdpY1BvaW50cyIsIm9yaWdpbmFsTWFnaWNQb2ludHMiLCJoaXRQb2ludHMiLCJyZXNvbHZlTG9zc2VzIiwiZ3JhbnRTYW5pdHlMb3NzIiwiZ2V0SFRNTCIsInNhbml0eUxvc3MiLCJzYW5pdHlDaGVjayIsImJvb2tJZCIsImJvb2siLCJDb0M3Qm9vayIsImFkZFNwZWxscyIsInNwZWxsRGV0YWlsIiwibGVhcm5lZCIsImF0dGVtcHRJbml0aWFsUmVhZGluZyIsImNoYW5nZVByb2dyZXNzIiwiaW5pdGlhbFJlYWRpbmciLCJmdWxsU3R1ZHkiLCJjb21wbGV0ZUZ1bGxTdHVkeSIsImNoZWNrRXhoYXVzdGlvbiIsImdyYW50RnVsbFN0dWR5IiwiYWN0b3JNeXRob3NWYWx1ZSIsImRldmVsb3BtZW50cyIsIm15dGhvc0ZpbmFsIiwiZ2FpbnMiLCJmaW5hbCIsImdyYW50U2tpbGxEZXZlbG9wbWVudCIsInJvbGxTYW5pdHlMb3NzIiwiZnVsbFN0dWRpZXMiLCJncmFudEluaXRpYWxSZWFkaW5nIiwib3RoZXJzIiwicGF0dGVybiIsImdyYW50U3BlbGxMZWFybmluZyIsInNwZWxsbGVhcm5lZCIsImV4aXN0aW5nU2tpbGwiLCJzaG93RGV2ZWxvcG1lbnRzVGFibGUiLCJyZWRvRnVsbFN0dWR5IiwiYXR0ZW1wdFNwZWxsTGVhcm5pbmciLCJFQ0NfQ0xBU1MiLCJQRVJNSVNTSU9OX1RZUEUiLCJTVEFURSIsIkdNVXBkYXRlIiwiY2FyZENsYXNzTmFtZSIsIkVuaGFuY2VkQ2hhdENhcmQiLCJhZHZpc2UiLCJFbmhhbmNlZENoYXRDYXJkTGliIiwidHlwZXMiLCJpbmplY3RDU1MiLCJlbmhhbmNlZENoYXRDYXJkc0xpYiIsInJlZ2lzdGVyIiwiY2FyZENvbnN0cnVjdG9ycyIsImNhcmRDb25zdHJ1Y3RvciIsIm9vYyIsImRlZXBDbG9uZSIsImF0dGFjaE9iamVjdCIsIm9iamVjdERhdGFTdHJpbmciLCJlY2NDbGFzcyIsImxvY2FsQ29tcHV0ZSIsIkV4ZWN1dGVHTVVwZGF0ZSIsIkVFQ19BQ1RJT04iLCJkZXRhY2hEYXRhIiwiX29uQ2hhbmdlIiwic2V0VmlzaWJpbGl0eSIsInNldFBlcm1pc3Npb24iLCJzZXRTdGF0ZSIsInNldFJhZGlvU3RhdGUiLCJzcGxpdGVkIiwiZWNjVmlzaWJpbGl0eSIsImhhc1Blcm0iLCJlY2NQZXJtaXNzaW9ucyIsInJlc3RyaWN0ZWRUbyIsInZpc2lvbiIsInBlcm1pc3Npb25zQXJyYXkiLCJ3aGl0ZUxpc3QiLCJpc0F1dGhvciIsImFzc2lnbk9iamVjdHMiLCJuZXdEYXRhIiwiZm9ybVVwZGF0ZSIsImFjdGlvblVwZGF0ZSIsIm9yaWdpbmFsRGlzcGxheVN0eWxlIiwidXBkYXRlQ2FyZCIsInNhdmVEYXRhIiwiaHRtbWxDYXJkIiwiQ2FyZENsYXNzIiwidW5zZXREYXRhIiwidG9nZ2xlRGF0YSIsImJOYW1lIiwiX3BhcnRpY2lwYW50IiwiX2ZldGNoIiwiX2RvYyIsImlzQWN0b3IiLCJoYXNBY3RvciIsImhhc1ZlaGljbGUiLCJpc0FjdGl2ZSIsInZlaGljbGUiLCJkcml2ZXIiLCJfZHJpdmVyIiwidmVoaWNsZUtleSIsIl92ZWhpY2xlIiwiaGFzVmFsaWRNb3YiLCJoYXNNYXhCb251c0RpY2UiLCJhZGRCb251c0RpY2UiLCJyZW1vdmVCb251c0RpY2UiLCJyZXNldEJvbnVzRGljZSIsImhhc0JvbnVzRGljZSIsImhhc09uZUJvbnVzRGljZSIsImhhc1R3b0JvbnVzRGljZSIsImNhbkFzc2lzdCIsImFzc2lzdCIsImNhbkJlQ2F1dGlvdXMiLCJoYXNEcml2ZXIiLCJoYXNWYWxpZERleCIsImhhc0FHdW5SZWFkeSIsImlzQ2hhc2VyIiwiY2hhc2VyIiwiaXNQcmV5IiwiaXNWYWxpZCIsIm1vdkFkanVzdG1lbnQiLCJzcGVlZENoZWNrIiwicm9sbERhdGFTdHJpbmciLCJhZGp1c3RlZE1vdiIsImhhc01vdkFkanVzdG1lbnQiLCJoYXNCb251c01vdiIsImhhc01hbHVzTW92IiwidG9vU2xvdyIsImV4Y2x1ZGVkIiwiaW5jbHVkZUluQ2hhc2UiLCJzbG93ZXN0IiwiZmFzdGVzdCIsImNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyIsIm1pbk1vdiIsIm1vdmVtZW50QWN0aW9uIiwiY3VycmVudE1vdmVtZW50QWN0aW9ucyIsImhhc01heE12dEFjdGlvbnMiLCJoYXNOb012dEFjdGlvbnMiLCJhZGRNb3ZlbWVudEFjdGlvbnMiLCJhbHRlck1vdmVtZW50QWN0aW9ucyIsIm1vdmVtZW50QWN0aW9uQXJyYXkiLCJiYXNlQXJyYXkiLCJmaWxsIiwiaW5saW5lUm9sbCIsIm1vZGlmaWVyQ3NzIiwiaGFzT3B0aW9ucyIsImdhbWVJdGVtIiwicmVmIiwicmVmU2V0IiwiaXNDaGFyYWN0ZXJpc3RpYyIsImNhbkJlUm9sbGVkIiwic29ydEJ5Um9sZUFuZERleCIsIkNoYXNlT2JzdGFjbGVDYXJkIiwic3RyaW5ncyIsInRvdGFsQWN0aW9uQ29zdCIsImJyZWFrYWJsZU9ic3RhY2xlIiwib2JzdGFjbGUiLCJiYXJyaWVyIiwiaGFzSGl0UG9pbnRzIiwidmFsaWRDaGVjayIsInN0YXRlcyIsIm9ic3RhY2xlRGVmaW5lZCIsImhhemFyZCIsInRyeVRvTmVnb3RpYXRlIiwidHJ5VG9CcmVhayIsImJyZWFrT3JOZWdvdGlhdGVEZWZpbmVkIiwicGFydGljaXBhbnQiLCJjaGFzZSIsImdldEFjdG9yU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIiwicGFydGljaXBhbnRVdWlkIiwidmFsaWRTa2lsbCIsImNoZWNrVGhyZXNob2xkIiwiYWxsU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIiwiZHVtbXlBY3RvciIsImNhblRha2VDYXV0aW91c0FwcHJvYWNoIiwiY3VzdG9tV2VhcG9uIiwid2VhcG9uQ2hvaWNlIiwiY2hlY2tSb2xsUmVxdWVzdCIsImNhbkFza1JvbGwiLCJFbnRlclZhbHVlVGl0bGUiLCJkYW1hZ2VTdGF0dXMiLCJvYnN0YWNsZURhbWFnZVJvbGwiLCJvYnN0YWNsZURhbWFnZVJvbGxlZCIsIm9ic3RhY2xlRGFtYWdlIiwiaW5saW5lRGFtYWdlUm9sbCIsInRvdGFsQ2F1dGlvdXNBcHByb2FjaCIsImNhdXRpb3VzU3RhdHVzIiwiY2F1dGlvdXNBcHByb2FjaFR5cGUiLCJjb25zdW1lQm9udXNEaWNlIiwibW92ZVBsYXllciIsIm9ic3RhY2xlUGFzc2VkIiwiY2hlY2tGYWlsZWQiLCJwbGF5ZXJBY3Rpb25EZWZpbmVkIiwicGxheWVySW50ZW50aW9ucyIsImNoZWNrUm9sbGVkIiwiY2FyZFJlc29sdmVkIiwicGxheWVyRGFtYWdlVGFrZW4iLCJvYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkIiwibGlzdENoYW5nZXMiLCJoYXNEYW1hZ2UiLCJpbmxpbmVEYW1hZ2VUYWtlblJvbGwiLCJmYWlsZWREYW1hZ2VSb2xsIiwidG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiIsImhhc0FjdGlvbkNvc3QiLCJhY3Rpb25Mb3N0IiwiaW5saW5lQWN0aW9uTG9zdFJvbGwiLCJmYWlsZWRBY3Rpb25Sb2xsIiwiZmluYWxPdXRjb21lIiwidG90YWxEYW1hZ2UiLCJyZWZsZWN0T2JzdGFsZUNoYW5nZXMiLCJmYWlsZWRDb25zZXF1ZW5jZXNSb2xsZWQiLCJ0b3RhbE9ic3RhY2xlRGFtYWdlIiwib2JzdGFjbGVEZXN0b3llZCIsIkhpdFBvaW50cyIsImFjdGl2ZVBhcnRpY2lwYW50RGF0YSIsIm9ic3RhY2xlRGV0YWlscyIsInBhcnRpY2lwYW50RGF0YSIsImdldFBhcnRpY2lwYW50RGF0YSIsImdldExvY2F0aW9uRGF0YSIsImxvY2F0aW9uVXVpZCIsImNoYXNlVXVpZCIsIl9jaGFzZSIsImFjdG9yU2tpbGwiLCJ2YWxpZEZhaWxlZFJvbGxzIiwiZmFpbGVkQ2hlY2tEYW1hZ2UiLCJhY3Rpb25Db3N0IiwiZmFpbGVkQWN0aW9uQ29zdCIsIndlYXBvbnNPcHRpb25zIiwiaXRlbVR5cGVzIiwidyIsImFoYmQiLCJ1bnNoaWZ0IiwiY3VzdG9tV2VhcG9uRGFtYWdlIiwidXNlZFdlYXBvbiIsImluZmxpY3RlZERhbWFnZUZvcm11bGEiLCJ2YWxpZE9ic3RhY2xlRGFtYWdlIiwiZGFtYWdlUm9sbFJlcXVlc3QiLCJ2YWxpZGF0ZUNhcmQiLCJsb2FjdGlvbkNoYW5nZWQiLCJwYXJ0aWNpcGFudENoYWdlZCIsIm9ic3RhY2xlVXBkYXRlIiwicGFydGljaXBhbnRVcGRhdGUiLCJkaWZmIiwibmV3IiwicmVtYWluaW5nSHAiLCJ0YXJnZXRMb2NhdGlvbiIsImZvcndhcmQiLCJnZXRMb2NhdGlvblNoaWZ0IiwibW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbiIsInNjcm9sbFRvTG9jYXRpb24iLCJhY3RpdmF0ZUxvY2F0aW9uIiwidXBkYXRlTG9jYXRpb24iLCJ1cGRhdGVQYXJ0aWNpcGFudCIsImFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybiIsImRlZmluZU9ic3RhY2xlIiwidHJ5VG9OZWdvdGlhdGVPYnN0YWNsZSIsInRyeVRvQnJlYWtEb3duT2JzdGFjbGUiLCJjYW5jZWxPYnN0YWNsZURlZmluaXRpb24iLCJjYW5jZWxCcmVha09yUGFzc0Nob2ljZSIsInJlcXVlc3RSb2xsIiwidGFrZUNhdXRpb3VzQXBwcm9hY2giLCJyb2xsU2tpbGxDaGVjayIsInVzZUx1Y2siLCJyb2xsRmFpbENvbnNlcXVlbmNlcyIsImFza1JvbGxPYnN0YWNsZURhbWFnZSIsInJvbGxPYnN0YWNsZURhbWFnZSIsIm5hbWVzIiwibmV3T2JzdGFjbGUiLCJvbGQiLCJDb0M3Q2hhc2UiLCJwYXJ0aWNpcGFudHMiLCJwTGlzdCIsInByZXlzIiwiY2hhc2VycyIsInBhcnRpY3BhbnQiLCJwYXJ0aWNpcGFudHNPYmplY3QiLCJnZXRQYXJ0aWNpcGFudExvY2F0aW9uIiwiYWN0aXZlQWN0b3IiLCJwYXJ0aWNpcGFudHNCeUFkanVzdGVkTW92IiwiYWN0dWFsUGFydGljaXBhbnRzIiwicGFydGljaXBhbnRzQnlJbml0aWF0aXZlIiwiYWxsSGF2ZVZhbGlkTW92IiwiZXZlcnkiLCJhbGxIYXZlU3BlZWRSb2xsIiwibG9jYXRpb25zIiwibCIsImxwIiwiZ2V0UGFydGljaXBhbnQiLCJuZXh0QWN0aXZlUGFydGljaXBhbnQiLCJzbG93ZXN0UHJleSIsImZhc3Rlc3RDaGFzZXIiLCJpbmNsdWRlTGF0ZWNvbWVycyIsImluY2x1ZGVFc2NhcGVkIiwic2xvd2VzdFBhcnRpY2lwYW50IiwidXBkYXRlUGFydGljaXBhbnRzIiwicGFydGljaXBhbnRzRGF0YSIsImNsZWFuUGFydGljaXBhbnRMaXN0IiwicGFydGljaWFudFV1aWQiLCJwYXJ0aWNpcGFudEluZGV4Iiwib3ZlcndyaXRlIiwiYXNzaXN0UGFydGljaXBhbnQiLCJhc3Npc3RhbnRVdWlkIiwiYmVuZWZpY2lhcnlVdWlkIiwiYXNzaXN0YW50IiwiYmVuZWZpY2lhcnkiLCJhc3Npc3RhbnRJbmRleCIsImJlbmVmaWNpYXJ5SW5kZXgiLCJ1c2VNb3ZlbWVudEFjdGlvbnMiLCJhY3Rpb25zIiwidG9nZ2xlQm9udXNEaWNlIiwiZGljZU51bWJlciIsImNhdXRpb3VzQXBwcm9hY2giLCJhbHRlclBhcnRpY2lwYW50TW92ZW1lbnRBY3Rpb24iLCJhY3RpdmVQYXJ0aWNpcGFudCIsImFjdGl2YXRlUGFydGljaXBhbnQiLCJkYXRhVXBkYXRlIiwiZ2V0QWN0aXZhdGVQYXJ0aWNpcGFudFVwZGF0ZURhdGEiLCJhY3RpdmVMb2NhdGlvbiIsInBVdWlkIiwicGFydGljaXBhbnRzRGF0YVVwZGF0ZSIsInBhcnRpY2lwYW50TG9jYXRpb24iLCJsb2NhdGlvbnNEYXRhVXBkYXRlIiwiZ2V0QWN0aXZhdGVMb2NhdGlvblVwZGF0ZURhdGEiLCJjaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uIiwiZ2V0Q2hhc2VUcmFja0xvY2F0aW9uU2Nyb2xsUG9zaXRpb24iLCJhY3RpdmVQYXJ0aWNpcGFudE9ic3RhY2xlQ2hlY2siLCJtb3ZlUGFydGljaXBhbnQiLCJwcm9ncmVzc1RvTmV4dFJvdW5kIiwicm9sbFV1aWQiLCJtZXRob2QiLCJpbml0VHJhY2siLCJwcm9jZXNzTG9jYXRpb25zIiwiZHVwbGljYXRlRGF0YSIsImZpcnN0IiwibGFzdCIsInN0YXJ0aW5nTGluZSIsImxvY2F0aW9uc0luZGV4U3RhcnQiLCJpbml0SW5kZXhTdGFydCIsImxvY2F0aW9uc0xlbmd0aCIsInN0YXJ0aW5nSW5kZXgiLCJnZW5lcmF0ZU5ld1V1aWQiLCJjaGFzZUxvY2F0aW9ucyIsImVuZCIsImNoYXNlVHJhY2siLCJjaGFzZXJzTWluTW92IiwiZmluZE1pbk1vdiIsImNoYXNlcnNNYXhNb3YiLCJmaW5kTWF4TW92IiwicHJleXNNaW5Nb3YiLCJwcmV5c01heE1vdiIsInN0YXJ0aW5nUmFuZ2UiLCJ1cGRhdGVMb2NhdGlvbnNMaXN0IiwidXBkYXRlZExpc3QiLCJjbGVhbkxvY2F0aW9uc0xpc3QiLCJsb2NhdGlvbkluZGV4IiwicGFydGlwYW50c1V1aWRBcnJheSIsImluc2VydExvY2F0aW9uIiwiaW5zZXJ0QXRVdWlkIiwibmV3TG9jYXRpb25JbmRleCIsIm5ld0xvY2F0aW9uIiwibG9jRGF0YSIsInJlbW92ZUxvY2F0aW9uIiwiZ2V0Q2xlYXJBY3RpdmVMb2NhdGlvblVwZGF0ZURhdGEiLCJoYXNQYXJ0aWNpcGFudCIsImFjdGl2ZUFjdG9ySGFzU2tpbGwiLCJhY3RpdmVBY3RvclRlc3QiLCJwcmV2aW91c0xvY2F0aW9uIiwiYWN0aXZlSW5kZXgiLCJuZXh0TG9jYXRpb24iLCJsb2NhdG9yRHJvcHBlZCIsInNldExvY2F0aW9uQ29vcmRpbmF0ZXMiLCJjb29yZGluYXRlcyIsImNsZWFyQWN0aXZlTG9jYXRpb25Db29yZGluYXRlcyIsImNsZWFyTG9jYXRpb25Db29yZGluYXRlcyIsImN1dFRvVGhlQ2hhc2UiLCJzdGFydCIsInJlc3RhcnQiLCJzZXRjaGFzZVRyYWNrU2Nyb2xsIiwic3RvcCIsImRlc3RpbmF0aW9uSW5kZXgiLCJyZW1vdmVQYXJ0aWNpcGFudCIsIm5ld1BhcnRpY2lwYW50c0RhdGEiLCJsb2NhdGlvbnNEYXRhIiwiYWRkUGFydGljaXBhbnQiLCJ1bmlxdWUiLCJyZWNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyIsImVkaXRQYXJ0aWNpcGFudCIsImxvY2F0aW9uTW92ZWQiLCJvcmlnaW5JbmRleCIsInRvdGFsTW92ZSIsIm9sZFBhcnRpY2lwYW50c0xpc3QiLCJtb3ZlVG9rZW4iLCJwYXJ0aWNwYW50RG9jdW1lbnQiLCJUb2tlbkRvY3VtZW50IiwiZm91bmRUb2tlbnMiLCJ2aWV3ZWQiLCJ0YXJnZXRSZWN0IiwiUElYSSIsIlJlY3RhbmdsZSIsImZvdW5kRnJlZVNwYWNlIiwib3ZlcmxhcGluZ1Rva2VuIiwiYm91bmRzIiwiaW50ZXJzZWN0cyIsInNob3dUb2tlbk1vdmVtZW50IiwiYW5pbWF0ZSIsInRvIiwiY2hhc2VUcmFja0FjdGl2ZUxvY2F0aW9uU2Nyb2xsUG9zaXRpb24iLCJhY3RpdmVMb2NhdGlvbkVsZW1lbnQiLCJsZWZ0U2Nyb2xsIiwib2Zmc2V0TGVmdCIsImNsaWVudFdpZHRoIiwicHJldiIsInJlbVN0cmluZyIsInJlbVNpemUiLCJwQ291bnQiLCJfdGFicyIsImFjdGl2ZUFjdG9yU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIiwicGFydGljaWNwYW50RGF0YSIsIkludGwiLCJDb2xsYXRvciIsImNvbXBhcmUiLCJhbGxTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NTaG9ydCIsIkNvQzdTa2lsbCIsIm5ld1Byb3BlcnRpZXMiLCJoYXNBY3RpdmVFZmZlY3RzIiwiYWN0aXZlRWZmZWN0cyIsImVmZmVjdEtleUZ1bGwiLCJlZmZlY3RLZXlTaG9ydCIsImRlbHRhIiwiZXhwIiwiQ29DN1ZlaGljbGUiLCJDb0M3RGVjYWRlckRpZSIsIkRpY2VUZXJtIiwidGVybURhdGEiLCJERU5PTUlOQVRJT04iLCJDb0M3RGVjYWRlckRpZU90aGVyIiwiU0VUVElOR1MiLCJwdWxwUnVsZXMiLCJpbml0aWF0aXZlUnVsZSIsImNob2ljZXMiLCJvbkNoYW5nZSIsInJ1bGUiLCJfc2V0SW5pdGlhdGl2ZU9wdGlvbnMiLCJwdWxwUnVsZURvdWJsZU1heEhlYWx0aCIsInB1bHBSdWxlVGFsZW50cyIsInB1bHBSdWxlRmFzdGVyUmVjb3ZlcnkiLCJwdWxwUnVsZUlnbm9yZU1ham9yV291bmRzIiwib3Bwb3NlZFJvbGxUaWVCcmVha2VyIiwiZGVjaW1hbHMiLCJDb21iYXQiLCJDb0M3R2FtZVJ1bGVTZXR0aW5ncyIsInRydWUiLCJmYWxzZSIsInNldHRpbmciLCJwdWxwU2VsZWN0aW9uIiwicmVnaXN0ZXJTZXR0aW5ncyIsIm9uQ2hhbmdlUHVscFNlbGVjdCIsIm9uQ2xpY2tQdWxwIiwib25SZXNldERlZmF1bHRzIiwiY2hlY2tib3giLCJDb0M3QXJjaGV0eXBlU2hlZXQiLCJjaGFyYWNOYW1lIiwiZW5yaWNoZWRTdWdnZXN0ZWRPY2N1cGF0aW9ucyIsImVucmljaGVkU3VnZ2VzdGVkVHJhaXRzIiwiY29yZUNoYXJhY3RlcmlzdGljc1N0cmluZyIsIkNvQzdCb29rU2hlZXQiLCJzcGVsbHNMZWFybmVkIiwiZXhoYXVzdGVkIiwic3R1ZHlDb21wbGV0ZWQiLCJzcGVsbExpc3RFbXB0eSIsImVucmljaGVkQ29udGVudCIsIl9vbkRlbGV0ZSIsIl9vblNwZWxsRGV0YWlsIiwibW9kaWZ5T3RoZXJzR2FpbnMiLCJtb2RpZnlUeXBlIiwiQ29DN0NvbnRhaW5lclNoZWV0Iiwic2xpZGVUb2dnbGUiLCJDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyIiwicGVybWlzc2lvbnMiLCJfb25Ecm9wUGFydGljaXBhbnQiLCJkcmFnc3RhcnQiLCJfb25Ub2tlblNlbGVjdG9yRHJhZ1N0YXJ0IiwiX29uQWN0aW9uIiwidmFsaWRhdGVQYXJ0aWNpcGFudCIsInNwZWVkQ2hlY2tSZWFkT25seSIsImluaXRSZWFkT25seSIsIm9wdGlvbnNMaXN0Iiwic2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdCIsImRyb3BTdHJpbmciLCJhZGRUb2tlblRvQ2hhc2UiLCJvdmVycmlkZU1vdmVtZW50QWN0aW9uIiwicmVjYWxjdWxhdGlvbk5lZWRlZCIsInBhcnRpY2lwYW50RXhjbHVkZWQiLCJtb3ZlbWVudEFjdGlvbkRlbHRhIiwiaW5jbHVkZUxhc3RDb21tZXJzIiwiZXhjbHVkZWRCZWNhdXNlIiwiQ29DN0NoYXNlU2hlZXQiLCJfb25EcmFnRW50ZXJQYXJ0aWNpcGFudCIsIl9vbkRyYWdMZWF2ZVBhcnRpY2lwYW50IiwiX29uQ2hhbmdlU2lkZSIsIl9vbkRlbGV0ZVBhcnRpY2lwYW50IiwiX29uUmVzZXRSb2xsIiwiX29uRGVsZXRlRHJpdmVyIiwiX29uQWRkUGFydGljaXBhbnQiLCJfb25Sb2xsUGFydGljaXBhbnQiLCJfb25Mb2NhdGlvbkNsaWNrIiwiX29uT2JzdGFjbGVUeXBlQ2xpY2siLCJfb25QYXJ0aWNpcGFudENvbnRyb2xDbGlja2VkIiwiX29uQ2hhc2VDb250cm9sQ2xpY2tlZCIsIl9vbkxvY2F0aW9uQ29udHJvbENsaWNrIiwiX2NhblBpbkxvY2F0aW9uRHJhZ1N0YXJ0IiwiX29uUGluTG9jYXRpb25EcmFnU3RhcnQiLCJfb25DaGFzZVBhcnRpY2lwYW50Q2xpY2siLCJfY2FuQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydCIsIl9jYW5DaGFzZVBhcnRpY2lwYW50RHJhZ0Ryb3AiLCJfb25DaGFzZVBhcnRpY2lwYW50RHJhZ1N0YXJ0IiwiX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdEcm9wIiwiZHJhZ292ZXIiLCJfb25EcmFnRW50ZXIiLCJfb25EcmFnTGVhdmUiLCJfZ2V0U3VibWl0RGF0YSIsImVkaXRvcnMiLCJjbGVhbmVkIiwiY2xlYW4iLCJvcmlnaW5hbExvY2F0aW9uIiwic3ViVHlwZSIsImZpbmRQYXJ0aWNpcGFudEluZGV4Iiwic2V0U2Nyb2xsIiwiaW5pdGlhbE9wZW5pbmciLCJzY3JvbGwiLCJhY3RpdmF0ZVRhYiIsInNjcm9sbFRvIiwiYmVoYXZpb3IiLCJvbkNsb3NlIiwiZmluZExvY2F0aW9uSW5kZXgiLCJmaW5kTG9jYXRpb24iLCJsVXVpZCIsInRvZ2dsZVBhcnRpY2lwYW50R3VuIiwiX29uQ2hhbmdlTW92ZW1lbnRBY3Rpb25zIiwic2VsZWN0b3IiLCJkcmFnSWNvbiIsInNldERyYWdJbWFnZSIsImxvY2F0aW9uRWxlbWVudCIsImRyYWdFdmVudCIsIm9sZExvY2F0aW9uIiwiX29uRHJhZ092ZXIiLCJhbHRlclBhcnRpY2lwYW50Iiwic3RhbmRieVRleHQiLCJzdGFuZGJ5UmlnaHRJY29uIiwib2xkUGFydGljaXBhbnQiLCJ0cCIsImdldFR5cGUiLCJDb0M3SXRlbVNoZWV0VjIiLCJDb0M3SXRlbVNoZWV0IiwiQ29DN0pvdXJuYWxTaGVldCIsIkpvdXJuYWxTaGVldCIsIkNvQzdNYWNyb0NvbmZpZyIsIk1hY3JvQ29uZmlnIiwiQ29DN1BsYXlsaXN0Q29uZmlnIiwiUGxheWxpc3RDb25maWciLCJDb0M3Um9sbFRhYmxlQ29uZmlnIiwiUm9sbFRhYmxlQ29uZmlnIiwiQ29DN1NjZW5lQ29uZmlnIiwiU2NlbmVDb25maWciLCJDb0M3U2V0dXBTaGVldCIsIl9vbkFkZEJpbyIsIl9vblJlbW92ZVNlY3Rpb24iLCJvdGhlckl0ZW1zIiwiaXRlbXNMaXN0RW1wdHkiLCJDb0M3U2tpbGxTaGVldCIsIl9zaGVldFRhYiIsImhhZE5vbkNoYXJhY3Rlck93bmVyIiwiaXNTcGVjaWFsaXplZCIsImNhbk1vZGlmeVNwZWMiLCJDb0M3U3BlbGxTaGVldCIsIkNvQzdTdGF0dXNTaGVldCIsInN0YXR1c1R5cGUiLCJlbnJpY2hlZERlc2NyaXB0aW9uTm90ZXMiLCJDb0M3VGFsZW50U2hlZXQiLCJ0YWxlbnRUeXBlIiwiQ29DN1ZlaGljbGVTaGVldCIsImFybWVkIiwiX29uQWRkQXJtb3IiLCJfb25SZW1vdmVBcm1vciIsIl9vblRvZ2dsZUV4cGFuZCIsIm9sZFNpemUiLCJDb0M3V2VhcG9uU2hlZXQiLCJjb21iYXRTa2lsbCIsInByaWNlIiwiZW5yaWNoZWREZXNjcmlwdGlvblNwZWNpYWwiLCJfb25Qcm9wZXJ0eUNsaWNrIiwicGVyZm9ybUZpbHRlciIsImVyYUVsZW1lbnQiLCJuYW1lRmlsdGVyIiwiQ29DSUQiLCJjb21wZW5kaXVtSW5kZXhGaWVsZHMiLCJKb3VybmFsRW50cnkiLCJQbGF5bGlzdCIsIlJvbGxUYWJsZSIsIlNjZW5lIiwiZ2FtZVByb3BlcnR5TG9va3VwIiwiZG9jdW1lbnROYW1lTG9va3VwIiwiZXJhVGV4dCIsIm1ha2VHcm91cFJlZ0V4IiwibGFuZ0ZhbGxiYWNrIiwibm90bWlzc2luZyIsInNwbGl0cyIsInJlZ0V4UGFydHMiLCJmcm9tQ29DSURSZWdleEFsbCIsImRvY3VtZW50c0Zyb21Xb3JsZCIsInByb2dyZXNzQmFyIiwiU2NlbmVOYXZpZ2F0aW9uIiwiZGlzcGxheVByb2dyZXNzQmFyIiwicGN0IiwiZmlsdGVyQWxsQ29DSUQiLCJjb21wZW5kaWFEb2N1bWVudHMiLCJkb2N1bWVudHNGcm9tQ29tcGVuZGlhIiwiYWxsRG9jdW1lbnRzIiwiZmlsdGVyQmVzdENvQ0lEIiwiZnJvbUNvQ0lEQmVzdCIsImJlc3RNYXRjaERvY3VtZW50cyIsImRvY0NvQ0lEIiwiY3VycmVudERvYyIsImRvY1ByaW9yaXR5IiwiTUlOX1NBRkVfSU5URUdFUiIsImV4aXN0aW5nUHJpb3JpdHkiLCJkb2NFcmFzIiwiZG9jTGFuZyIsImV4aXN0aW5nTGFuZyIsImdhbWVQcm9wZXJ0eSIsImdldEdhbWVQcm9wZXJ0eSIsImNhbmRpZGF0ZURvY3VtZW50cyIsIm1hdGNoaW5nRXJhcyIsImNvbXBhcmVDb0NJRFByaW8iLCJnZXREb2N1bWVudFR5cGUiLCJzY2hlbWEiLCJpbmRleGVkIiwiZ2V0SW5kZXgiLCJpbmRleEluc3RhbmNlcyIsImplIiwicnQiLCJDYXJkIiwibG9hZFRlbXBsYXRlcyIsInByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzIiwicmVnaXN0ZXJNZW51IiwicmVzdHJpY3RlZCIsIndvcmxkIiwiWSIsIk4iLCJub2JvZHkiLCJldmVyeW9uZSIsImFsd2F5cyIsImNyZWF0aW9uIiwibmV2ZXIiLCJfc2V0Um9vdEZvbnRTaXplIiwic2lkZWJhciIsImNvbnRhaW4iLCJob29rcyIsIkFjdG9ycyIsInVucmVnaXN0ZXJTaGVldCIsInJlZ2lzdGVyU2hlZXQiLCJtYWtlRGVmYXVsdCIsIkl0ZW1zIiwiU2NlbmVzIiwiSm91cm5hbCIsIlJvbGxUYWJsZXMiLCJNYWNyb3MiLCJQbGF5bGlzdHMiLCJIYW5kbGViYXJzIiwicmVnaXN0ZXJIZWxwZXIiLCJTZXQiLCJ1bmNvbW1vbiIsImNvbXBlbmRpdW1GaWx0ZXIiLCJoZWlnaHRUZXh0IiwiaGVpZ2h0VGlwIiwid2lkdGhUaXAiLCJjbGVhclRpbWVvdXQiLCJDb0M3VG91ciIsIlRvdXIiLCJ3YWl0Rm9yRWxlbWVudCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJvYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsIl9wcmVTdGVwIiwic3RlcEluZGV4IiwiY3VycmVudFN0ZXAiLCJzaWRlYmFyVGFiIiwiX3Bvc3RTdGVwIiwiaGFzTmV4dCIsImlzUmVzZXR0aW5nIiwicmVzZXQiLCJFbmFibGVWYXJpYW50UnVsZXNFbiIsImNhbkJlUmVzdW1lZCIsInN0ZXBzIiwibG9jYWxpemF0aW9uIiwiRW5hYmxlVmFyaWFudFJ1bGVzRnIiLCJpbnN0cnVjdGlvbnNWZXJzaW9uIiwicmVhZE1lIiwidG91cnMiLCJ0b3VyTmFtZSIsInJlZ2lzdGVyVG91cnMiLCJDb0M3SG9va3MiLCJsaXN0ZW4iLCJ0b2tlbkRvY3VtZW50IiwiX29iamVjdCIsImFkZERpY2VQcmVzZXQiLCJmb250U2NhbGUiLCJlbnRpdHlDcmVhdGVTZWxlY3RUYWciLCJlbnRpdHlTb3J0ZWRMaXN0Iiwic2hvd0V4cGVyaW1lbnRhbCIsImVudGl0eU9wdGlvbiIsImNhcGl0YWxpemUiLCJlbXB0eSIsInNlY29uZCIsInBsYXllckxpc3QiLCJpbnNlcnRBZnRlciIsImdtY3JlYXRlbWVzc2FnZWFzIiwibWVsZWVUYXJnZXQiLCJnbXRyYWRlaXRlbXRvIiwiQ29DN1N5c3RlbVNvY2tldCIsImNhbGxTb2NrZXQiLCJyZXF1ZXN0S2VlcGVyQWN0aW9uIiwicmVxdWVzdFVzZXJBY3Rpb24iLCJ1c2VySWQiLCJlcnJvcklmTWlzc2luZyIsImluY2x1ZGVTZWxmIiwiX29uTGVmdENsaWNrIiwic3lzdGVtVGFiIiwiYmVmb3JlIiwiY2FyZGNsYXNzIiwic29ja2V0bGliIiwicmVnaXN0ZXJTeXN0ZW0iLCJpbml0RUNDIiwiY29tbWFuZHMiLCJyZXMiLCJ0b0xvY2FsaXplIiwibG9jYWxpemVkIiwiZWZmZWN0SW5kZXgiLCJkaXJlY3RvcnkiLCJJdGVtRGlyZWN0b3J5IiwiaXRlbUVsZW1lbnQiLCJfdGFibGVTZXR0aW5nc0NoYW5nZWQiLCJhY3RpdmF0ZUdsb2JhbExpc3RlbmVyIiwidGFibGVDaG9pY2UiLCJib3V0T2ZNYWRuZXNzX1N1bW1hcnkiLCJib3V0T2ZNYWRuZXNzX1JlYWxUaW1lIiwiY2hhcmFjdGVyU2hlZXQiXSwic291cmNlUm9vdCI6IiJ9