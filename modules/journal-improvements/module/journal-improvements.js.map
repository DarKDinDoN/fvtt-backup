{"version":3,"file":"journal-improvements.js","sources":["../../src/module/settings.js","../../src/module/preloadTemplates.js","../../src/module/journal/journalSheet.js","../../src/module/utils.js","../../src/module/journal/journalEntry.js","../../src/module/pasting.js","../../src/module/journal-improvements.js"],"sourcesContent":["// SPDX-FileCopyrightText: 2022 Johannes Loher\n//\n// SPDX-License-Identifier: MIT\n\nexport function registerSettings() {\n  game.settings.register('journal-improvements', 'integratedEditor', {\n    name: 'journalImprovements.settings.integratedEditorName',\n    hint: 'journalImprovements.settings.integratedEditorHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: true,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'editorEngine', {\n    name: 'journalImprovements.settings.editorEngineName',\n    hint: 'journalImprovements.settings.editorEngineHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: String,\n    default: 'prosemirror',\n    choices: {\n      tinymce: 'TinyMCE',\n      prosemirror: 'ProseMirror',\n      markdown: 'Markdown',\n    },\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'autosave', {\n    name: 'journalImprovements.settings.autosaveName',\n    hint: 'journalImprovements.settings.autosaveHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: true,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'moveJournalTitle', {\n    name: 'journalImprovements.settings.moveJournalTitleName',\n    hint: 'journalImprovements.settings.moveJournalTitleHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: true,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'createDefaultPage', {\n    name: 'journalImprovements.settings.createDefaultPageName',\n    hint: 'journalImprovements.settings.createDefaultPageHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: false,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'createSilent', {\n    name: 'journalImprovements.settings.createSilentPageName',\n    hint: 'journalImprovements.settings.createSilentPageHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: false,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'pinIcons', {\n    name: 'journalImprovements.settings.pinIconsName',\n    hint: 'journalImprovements.settings.pinIconsHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: false,\n  });\n\n  game.settings.register('journal-improvements', 'pasteToPageImage', {\n    name: 'journalImprovements.settings.pasteToPageImageName',\n    hint: 'journalImprovements.settings.pasteToPageImageHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Boolean,\n    default: false,\n    onChange: refreshJournals,\n  });\n\n  game.settings.register('journal-improvements', 'uploadFolder', {\n    name: 'journalImprovements.settings.uploadFolderName',\n    hint: 'journalImprovements.settings.uploadFolderHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: String,\n    default: 'uploads/journal',\n  });\n\n  game.settings.register('journal-improvements', 'editorHeight', {\n    name: 'journalImprovements.settings.editorHeightName',\n    hint: 'journalImprovements.settings.editorHeightHint',\n    scope: 'client',\n    config: true,\n    requiresReload: false,\n    type: Number,\n    default: 610,\n    onChange: (value) => setEditorHeight(value),\n  });\n\n  for (const t of ['Text', 'Image', 'Pdf', 'Video']) {\n    game.settings.register('journal-improvements', `hideButton${t}`, {\n      name: `journalImprovements.settings.hideButtons.${t}`,\n      hint: `journalImprovements.settings.hideButtons.${t}Hint`,\n      scope: 'client',\n      config: true,\n      requiresReload: false,\n      type: Boolean,\n      default: false,\n      onChange: refreshJournals,\n    });\n  }\n}\n\nexport function getHiddenButtons() {\n  const g = (t) => game.settings.get('journal-improvements', `hideButton${t}`);\n  return {\n    text: g('Text'),\n    image: g('Image'),\n    pdf: g('Pdf'),\n    video: g('Video'),\n  };\n}\n\nconst noteIcons = {\n  text: 'modules/journal-improvements/assets/file.svg',\n  image: 'modules/journal-improvements/assets/file-image.svg',\n  pdf: 'modules/journal-improvements/assets/file-pdf.svg',\n  video: 'modules/journal-improvements/assets/file-video.svg',\n};\n\nexport function getNoteIcon(type) {\n  return noteIcons[type];\n}\n\nfunction refreshJournals() {\n  Object.values(ui.windows)\n    .filter((w) => w instanceof JournalSheet)\n    .forEach((w) => w.render());\n}\n\nexport function setEditorHeight(value = undefined) {\n  value = value ?? game.settings.get('journal-improvements', 'editorHeight');\n  const r = document.querySelector(':root');\n  r.style.setProperty('--ji-editor-height', value + 'px');\n}\n","// SPDX-FileCopyrightText: 2022 Johannes Loher\n//\n// SPDX-License-Identifier: MIT\n\nexport async function preloadTemplates() {\n  const templatePaths = [\n    // Add paths to \"modules/journal-improvements/templates\"\n    'modules/journal-improvements/templates/journal-sheet.html',\n    'modules/journal-improvements/templates/journal-sheet-text-page.html',\n  ];\n\n  return loadTemplates(templatePaths);\n}\n","import { getHiddenButtons } from '../settings.js';\n\n/* globals JournalTextPageSheet JournalTextTinyMCESheet MarkdownJournalPageSheet JournalEntryPage*/\nexport class ImprovedJournalSheet extends JournalSheet {\n  static get defaultOptions() {\n    const classes = ['sheet', 'journal-sheet', 'journal-entry', 'journal-improvements'];\n    if (game.modules.get('pf2e-dorako-ui')?.active) classes.push('ij-dorako-fix');\n    if (game.modules.get('ernies-modern-layout')?.active) {\n      classes.push('ij-ernies-fix');\n      if (game.settings.get('ernies-modern-layout', 'compactMode')) classes.push('ij-ernies-fix-compact');\n    }\n\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: classes,\n      template: 'modules/journal-improvements/templates/journal-sheet.html',\n      submitOnClose: game.settings.get('journal-improvements', 'autosave'),\n    });\n  }\n\n  static get textPageTemplate() {\n    return 'modules/journal-improvements/templates/journal-sheet-text-page.html';\n  }\n\n  get _isDefaultEdit() {\n    return !game.settings.get('journal-improvements', 'integratedEditor');\n  }\n\n  get jiEngine() {\n    return game.settings.get('journal-improvements', 'editorEngine') ?? 'tinymce';\n  }\n\n  get jiAutosave() {\n    return game.settings.get('journal-improvements', 'autosave');\n  }\n\n  getData(options) {\n    const data = super.getData(options);\n    data.hiddenButtons = getHiddenButtons();\n    data.moveJournalTitle = game.settings.get('journal-improvements', 'moveJournalTitle');\n    return data;\n  }\n\n  /**\n   * Prepare pages for display.\n   * @returns {JournalEntryPage[]}  The sorted list of pages.\n   * @protected\n   * @override\n   */\n  _getPageData() {\n    const _pageData = super._getPageData();\n    // Make pages start from 1 instead of 0 (if pages start from 0)\n    if (_pageData[0]?.number === 0) _pageData.forEach((p) => p.number++);\n    return _pageData;\n  }\n\n  /**\n   * Handle clicking the previous and next page buttons.\n   * @param {JQuery.TriggeredEvent} event  The button click event.\n   * @protected\n   */\n  _onAction(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    const action = button.dataset.action;\n    switch (action) {\n      case 'quickCreate':\n        return this.quickCreatePage(button.dataset.type);\n      default:\n        return super._onAction(event);\n    }\n  }\n\n  /**\n   * @param {string} type  The type of page to create\n   */\n  async quickCreatePage(type) {\n    await this.document.createQuickPage({ type: type });\n    // Render the last page\n    await this.renderLastPage();\n    // Activate the editor if using the integrated editor and page is text.\n    if (!this._isDefaultEdit && type === 'text') this.dispatchEditorEditClick();\n  }\n\n  async renderLastPage() {\n    const lastPageIndex = this._pages.length - 1;\n    return await this.render(false, { pageIndex: lastPageIndex });\n  }\n\n  async dispatchEditorEditClick(timeout = 50) {\n    // For some reason the render await doesn't wait the rendered page views. TODO: improve here, instead of using timeout\n    return setTimeout(() => {\n      const editBtn = this.element.find(`a.editor-edit`).last()[0];\n      const clickEvent = new Event('click');\n      editBtn?.dispatchEvent(clickEvent);\n    }, timeout);\n  }\n\n  /**\n   * Update child views inside the main sheet.\n   * @returns {Promise<void>}\n   * @protected\n   */\n  async _renderPageViews() {\n    if (this._isDefaultEdit) return super._renderPageViews();\n\n    for (const pageNode of this.element[0].querySelectorAll('.journal-entry-page')) {\n      const id = pageNode.dataset.pageId;\n      if (!id) continue;\n      const sheet = this.getPageSheet(id);\n      const data = await sheet.getData();\n\n      /* <- Begin custom code */\n      let view, edit;\n      const isText = data.data.type === 'text';\n      edit = pageNode.querySelector(':scope > .edit-container');\n\n      // If is text page, render the editor in this sheet\n      if (isText) {\n        data.editable = edit != null;\n        data.engine = this.jiEngine;\n        // data.enrichedPageContent = await TextEditor.enrichHTML(data.data?.text?.content, { async: true });\n        view = await renderTemplate('modules/journal-improvements/templates/journal-sheet-text-page.html', data);\n        view = $(view); // to Jquery\n        pageNode.replaceChildren(...view.get());\n        sheet._activateCoreListeners(view.parent());\n        // sheet.activateListeners(view);\n\n        // If the page is editable, activate the editors\n        if (data.editable) {\n          const editorContent = view.find('.editor-content[data-edit]');\n          editorContent.each((i, div) => this._activateEditor(div));\n          if (this.jiAutosave) editorContent.on('focusout', (event) => this._onEditorFocusout(event));\n        }\n\n        // Build the toc\n        // For some reason, pf2e gets duplicated 1st level heading, but other systems don't\n        if (game.system.id === 'pf2e') {\n          sheet.toc = JournalEntryPage.buildTOC(view.find('.editor-content').get());\n        } else {\n          sheet.toc = JournalEntryPage.buildTOC(view.get());\n        }\n\n        // If is markdown, add custom dropping of links and autosave\n        if (data.engine === 'markdown') {\n          sheet._onDropContentLink = (eventData) => this._markdownEditor_onDropContentLink(eventData, view);\n          if (this.jiAutosave)\n            view\n              .find('textarea.markdown-editor')\n              .on('focusout', (event) => this._saveMarkdownFromEditor($(event.currentTarget).parent(), true));\n        }\n      }\n\n      // Otherwise, default behavior\n      else {\n        view = await sheet._renderInner(data);\n        pageNode.replaceChildren(...view.get());\n        if (edit) pageNode.appendChild(edit);\n        sheet._activateCoreListeners(view.parent());\n        sheet.activateListeners(view);\n      }\n      /* -> End custom code */\n\n      await this._renderHeadings(pageNode, sheet.toc);\n      for (const cls of sheet.constructor._getInheritanceChain()) {\n        Hooks.callAll(`render${cls.name}`, sheet, view, data);\n      }\n    }\n    this._observeHeadings();\n  }\n\n  /**\n   * Retrieve the sheet instance for rendering this page inline.\n   * Custom code to handle Markdown conversion easily, by instancing the page sheet as a MarkdownJournalPageSheet\n   * @param {string} pageId  The ID of the page.\n   * @returns {JournalPageSheet}\n   */\n  getPageSheet(pageId) {\n    const page = this.object.pages.get(pageId);\n    if (this._isDefaultEdit || page.type !== 'text') return super.getPageSheet(pageId);\n\n    const privateSheets = this['#sheets'] ?? {};\n    switch (this.jiEngine) {\n      case 'prosemirror':\n        return (privateSheets[pageId] ??= new JournalTextPageSheet(page, { editable: false }));\n      case 'tinymce':\n        return (privateSheets[pageId] ??= new JournalTextTinyMCESheet(page, { editable: false }));\n      case 'markdown':\n        return (privateSheets[pageId] ??= new MarkdownJournalPageSheet(page, { editable: false }));\n    }\n  }\n\n  /**\n   * Turn to a specific page.\n   * @param {string} pageId    The ID of the page to turn to.\n   * @param {string} [anchor]  Optionally an anchor slug to focus within that page.\n   */\n  goToPage(pageId, anchor) {\n    if (this._isDefaultEdit) return super.goToPage(pageId, anchor);\n\n    if (this.mode === this.constructor.VIEW_MODES.SINGLE) {\n      const currentPageId = this._pages[this.pageIndex]?._id;\n      if (currentPageId !== pageId) return this.render(true, { pageId, anchor });\n    }\n    const page = this.element[0].querySelector(`.journal-entry-page[data-page-id=\"${pageId}\"]`);\n    if (anchor) {\n      // <- CUSTOM CODE START\n      const element = this.element[0].querySelector(`.journal-entry-content [data-anchor=\"${anchor}\"]`);\n      // -> CUSTOM CODE END\n      if (element) {\n        element.scrollIntoView();\n        return;\n      }\n    }\n    page?.scrollIntoView();\n  }\n\n  /**\n   * Handles the event when a page edit button is clicked\n   * @param event\n   * @return {*}\n   * @private\n   */\n  _onEditPage(event) {\n    if (this._isDefaultEdit) return super._onEditPage(event);\n\n    // Do the default editpage behavior only if the page is not text\n    const ct = $(event.currentTarget);\n    const articlePage = ct.closest('article');\n    const isText = articlePage.hasClass('text');\n    if (!isText) return super._onEditPage(event);\n\n    // Replace the h1 with an input\n    const headerH1 = articlePage.find('header h1');\n    const pageId = articlePage.data('pageId');\n    const pageName = headerH1.text();\n    const nameInput = $(`<input type=\"text\" value=\"${pageName}\">`);\n    const that = this;\n    nameInput.on('change', async function (event) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      const newPageName = $(this).val();\n      await that.document.updateEmbeddedDocuments('JournalEntryPage', [{ _id: pageId, name: newPageName }], {\n        render: false,\n      });\n\n      // Change the first level TOC for the page\n      that.element.find(`nav.pages-list [data-page-id=\"${pageId}\"] .page-title`)?.text(newPageName);\n    });\n    headerH1.replaceWith(nameInput);\n\n    // If markdown, toggle between the markdown and the enriched content view, saving the markdown\n    if (this.jiEngine === 'markdown') {\n      const enrichedContent = articlePage.find('.enriched-content');\n      const markdownEditorContent = articlePage.find('.markdown-editor-content');\n\n      // If the md editor is currently displayed, then we can update the data and trigger a render\n      if (markdownEditorContent.is(':visible')) {\n        this._saveMarkdownFromEditor(markdownEditorContent);\n      }\n\n      // Otherwise display the editor and hide the enriched (+ set the height)\n      else {\n        enrichedContent.hide();\n        markdownEditorContent.show();\n        this.autosetEditorHeight();\n      }\n    }\n  }\n\n  /**\n   * Saves the markdown to the page, converting it to html and triggering a rendering\n   * @param markDownEditor\n   * @param preventPostUpdateRender\n   * @private\n   */\n  _saveMarkdownFromEditor(markDownEditor, preventPostUpdateRender = false) {\n    const mdTextarea = markDownEditor.find('textarea.markdown-editor');\n    if (!mdTextarea) throw 'Markdown editor not found';\n    const k = mdTextarea.attr('name');\n    const md = mdTextarea.val();\n    // eslint-disable-next-line no-undef\n    const html = JournalTextPageSheet._converter.makeHtml(md);\n    const split = k.split('.');\n    const pageId = split[1];\n\n    this.document\n      .updateEmbeddedDocuments('JournalEntryPage', [{ _id: pageId, 'text.markdown': md, 'text.content': html }], {\n        render: false,\n      })\n      .then(() => {\n        if (!preventPostUpdateRender) this.render();\n      });\n  }\n\n  /**\n   * Activate an editor instance present within the form\n   * Custom code starts at symbol <-\n   * @param {HTMLElement} div  The element which contains the editor\n   * @protected\n   */\n  _activateEditor(div) {\n    // Get the editor content div\n    const name = div.dataset.edit;\n    const engine = div.dataset.engine || 'tinymce';\n    const collaborate = div.dataset.collaborate === 'true';\n    const button = div.previousElementSibling;\n    const hasButton = button && button.classList.contains('editor-edit');\n    const wrap = div.parentElement.parentElement;\n    const wc = div.closest('.window-content');\n\n    // Determine the preferred editor height\n    const heights = [wrap.offsetHeight, wc ? wc.offsetHeight : null];\n    if (div.offsetHeight > 0) heights.push(div.offsetHeight);\n    const height = Math.min(...heights.filter((h) => Number.isFinite(h)));\n\n    // Get initial content\n    const options = {\n      target: div,\n      fieldName: name,\n      save_onsavecallback: () => this.saveEditor(name),\n      height,\n      engine,\n      collaborate,\n    };\n\n    if (engine === 'prosemirror') options.plugins = this._configureProseMirrorPlugins(name, { remove: hasButton });\n\n    /**\n     * Handle legacy data references.\n     * @deprecated since v10\n     */\n    const isDocument = this.object instanceof foundry.abstract.Document;\n    const data = name?.startsWith('data.') && isDocument ? this.object.data : this.object;\n\n    // Define the editor configuration\n    const editor = (this.editors[name] = {\n      options,\n      target: name,\n      button: button,\n      hasButton: hasButton,\n      mce: null,\n      instance: null,\n      active: !hasButton,\n      changed: false,\n      initial: foundry.utils.getProperty(data, name),\n    });\n\n    // Activate the editor immediately, or upon button click\n    const activate = async () => {\n      // <- Custom code, everything above is untouched\n      if (name.startsWith('pages.')) {\n        const split = name.split('.');\n        const pageId = split[1];\n        const prop = split.slice(2).join('.');\n        editor.initial = foundry.utils.getProperty(data.pages.get(pageId), prop);\n      } else {\n        editor.initial = foundry.utils.getProperty(data, name);\n      }\n      // -> End custom code\n      await this.activateEditor(name, {}, editor.initial);\n      this.autosetEditorHeight();\n    };\n    if (hasButton) button.onclick = activate;\n    else activate();\n  }\n\n  /**\n   * Handle the editor focus out\n   * @param {FocusEvent} event\n   * @private\n   */\n  _onEditorFocusout(event) {\n    const isInsidePage = event.relatedTarget?.matches('section.journal-entry-content *') ?? false;\n    this._onSubmit(event, { preventRender: isInsidePage });\n  }\n\n  /**\n   * Handles the form update\n   * @param event\n   * @param formData\n   * @return {Promise<undefined|*>}\n   * @private\n   */\n  async _updateObject(event, formData) {\n    if (this._isDefaultEdit) return super._updateObject(event, formData);\n\n    // Check for formData with name equals to page ids, collecting the contents for updating\n    const pagesUpdateData = [];\n    for (const k of Object.keys(formData)) {\n      if (!k.startsWith('pages.')) continue;\n      const split = k.split('.');\n      const pageId = split[1];\n      const prop = split.slice(2).join('.');\n\n      pagesUpdateData.push({\n        _id: pageId,\n        [prop]: formData[k],\n      });\n      delete formData[k];\n    }\n\n    // Update the pages\n    if (pagesUpdateData.length > 0) {\n      await this.document.updateEmbeddedDocuments('JournalEntryPage', pagesUpdateData, { render: false });\n    }\n\n    // const pageIds = this.pages;\n    return super._updateObject(event, formData);\n  }\n\n  /**\n   * Handles the dropping of content links in integrated markdown editors\n   * @param eventData\n   * @param pageView\n   * @return {Promise<void>}\n   * @private\n   */\n  async _markdownEditor_onDropContentLink(eventData, pageView) {\n    const link = await TextEditor.getContentLink(eventData, { relativeTo: this.object });\n    if (!link) return;\n    const editor = pageView.find('textarea.markdown-editor').get(0);\n    const content = editor.value;\n    editor.value = content.substring(0, editor.selectionStart) + link + content.substring(editor.selectionStart);\n  }\n\n  /**\n   * Automatically sets the editor height to properly fit the application\n   * Currently works only on single view mode\n   */\n  autosetEditorHeight() {\n    const article = this.element.find('article');\n    const scrollable = this.element.find('.journal-entry-content .scrollable');\n    if (this.mode === this.constructor.VIEW_MODES.SINGLE) {\n      const editor = article.find('.editor, textarea.markdown-editor');\n      if (!editor?.length) return;\n      const scrollableBRect = scrollable.get(0).getBoundingClientRect();\n      const editorBRect = editor.get(0).getBoundingClientRect();\n\n      let h = scrollableBRect.height - (editorBRect.top - scrollableBRect.top);\n      if (editor.hasClass('markdown-editor')) h -= 8;\n      editor.css('min-height', h + 'px');\n    }\n  }\n\n  setPosition({ left, top, width, height, scale } = {}) {\n    super.setPosition({ left, top, width, height, scale });\n    this.autosetEditorHeight();\n  }\n}\n","export function i18n(x) {\n  return game.i18n.localize(x);\n}\n\n// Thanks to https://github.com/saif-ellafi/foundryvtt-clipboard-image/blob/main/clipboard-image.js#L13\n/* globals ForgeVTT */\nfunction getSource() {\n  let source = 'data';\n  if (typeof ForgeVTT != 'undefined' && ForgeVTT.usingTheForge) {\n    source = 'forgevtt';\n  }\n  return source;\n}\n\nasync function createFolder(source, folderPath) {\n  const progressivePaths = [];\n  const split = folderPath.split('/'); // TODO: check if other OS use backslash\n  split.forEach((subPath) => {\n    const p = (progressivePaths.at(-1) ?? '') + '/' + subPath;\n    progressivePaths.push(p);\n  });\n\n  for (const path of progressivePaths) {\n    try {\n      await FilePicker.browse(source, path);\n      return;\n    } catch (error) {\n      await FilePicker.createDirectory(source, path);\n    }\n  }\n}\n\n/**\n * Uploads a blob (image) to local storage\n * @param {Blob} blob\n * @returns {string} the path to the image\n */\nexport async function jiUploadImageBlob(blob) {\n  // Determine extension\n  const mime = blob.type;\n  const extension = mime.replace('image/', '');\n\n  // Name\n  const name = new Date().toISOString().slice(0, 19).replace(/:/g, '');\n  const filename = `${name}.${extension}`;\n\n  // Source and folder\n  const source = getSource();\n  const folderPath = game.settings.get('journal-improvements', 'uploadFolder');\n  await createFolder(source, folderPath);\n\n  // Create file\n  const file = new File([blob], filename, { type: blob.type });\n\n  // Upload and manage response\n  const createResponse = await FilePicker.upload(source, folderPath, file);\n  if (createResponse.status !== 'success') return; // TODO: better error\n  return createResponse.path;\n}\n","/* globals JournalEntryPage */\n\nimport { i18n } from '../utils.js';\n\nexport class ImprovedJournalEntry extends JournalEntry {\n  /**\n   * @override\n   * @param data\n   * @param options\n   * @param userId\n   * @private\n   */\n  _onCreate(data, options, userId) {\n    super._onCreate(data, options, userId);\n\n    // After creating, add a text page with the same name\n    // TODO: check if we need to handle packs and folders. See JournalEntryPage.implementation.createDialog\n\n    if (game.settings.get('journal-improvements', 'createDefaultPage')) {\n      const options = { renderSheet: false };\n      const newPage = this.createQuickPage({ name: this.name, options });\n      // Refresh apps after creating the page\n      newPage.then(() => Object.values(this.apps).forEach((app) => app.render()));\n    }\n  }\n\n  /**\n   * Creates a page in the journal\n   * @param name page name\n   * @param type page type\n   * @param data other object creation data\n   * @param options creation options\n   * @private\n   */\n  createQuickPage({ name = undefined, type = 'text', data = {}, options = {} }) {\n    if (name == null) name ??= i18n(`journalImprovements.defaultPageNames.${type}`);\n    options.parent ??= this;\n    options.renderSheet ??= !(\n      game.settings.get('journal-improvements', 'createSilent') ||\n      game.settings.get('journal-improvements', 'integratedEditor')\n    );\n    data = mergeObject(data, { name, type });\n    const lastSort = this.pages.reduce((acc, page) => Math.max(acc, page.sort), 0);\n    data.sort ??= (lastSort ?? 0) + CONST.SORT_INTEGER_DENSITY;\n    return JournalEntryPage.create(data, options);\n  }\n}\n","import { ImprovedJournalSheet } from './journal/journalSheet.js';\nimport { i18n, jiUploadImageBlob } from './utils.js';\n\nexport async function _onPaste(plain) {\n  console.log(`journal-improvements | _onPaste called with plain = ${plain}`);\n\n  // Check if we are pasting in the journal\n  const activeApp = ui.activeWindow;\n  if (!(activeApp instanceof ImprovedJournalSheet) || !activeApp.rendered) return;\n  const journal = activeApp.document;\n  console.log('journal-improvements | pasting in journal');\n\n  // Try to get the clipboard contents\n  const clipboardItems = await _getClipboardItems();\n  if (!clipboardItems) return;\n\n  // Definitions\n  const type = plain ? 'text/plain' : 'text/html';\n  const getImgType = (ci) => ci.types.find((t) => t.includes('image'));\n  const pasteToPageImage = game.settings.get('journal-improvements', 'pasteToPageImage');\n  const parser = new DOMParser();\n\n  for (const ci of clipboardItems) {\n    // If the item is not an image, create a journal page with the text or html data\n    const imgType = getImgType(ci);\n    if (!imgType) {\n      const text = await (await ci.getType(type)).text();\n      if (!text) continue;\n      await journal.createQuickPage({ type: 'text', data: { 'text.content': text } });\n      continue;\n    }\n\n    // Otherwise, two behaviors, depending on if the image has html or not and if the setting is enabled\n    let htmlText;\n    if (ci.types.includes('text/html')) htmlText = await (await ci.getType('text/html'))?.text();\n\n    // If no html, image should be uploaded, setting the html text for further processing\n    if (!htmlText) {\n      const imgBlob = await ci.getType(imgType);\n      const src = await jiUploadImageBlob(imgBlob);\n      if (!src) throw 'Image Upload failed';\n      htmlText = `<img src=\"${src}\">`;\n    }\n\n    // If the setting is on, create a new image page with the image's src, otherwise paste the image html in a text page\n    if (pasteToPageImage) {\n      const parsed = parser.parseFromString(htmlText, 'text/html');\n      const imgElement = parsed.querySelector('img');\n      const src = imgElement?.src;\n      await journal.createQuickPage({ type: 'image', data: { src: src } });\n    } else {\n      await journal.createQuickPage({ type: 'text', data: { 'text.content': htmlText } });\n    }\n  }\n\n  await activeApp.renderLastPage();\n}\n\n/**\n * Parse the clipboard\n * @return {Promise<ClipboardItem[]>}\n * @private\n */\nasync function _getClipboardItems() {\n  let clipboard;\n  try {\n    clipboard = await navigator.clipboard.read();\n  } catch (error) {\n    if (!error) {\n      console.warn(i18n('journalImprovements.notifications.warnPastePermission'));\n    } else if (error instanceof DOMException) {\n      console.log('journal-improvements: Clipboard is empty');\n    } else throw error;\n  }\n  return clipboard;\n}\n","import { getNoteIcon, registerSettings, setEditorHeight } from './settings.js';\nimport { preloadTemplates } from './preloadTemplates.js';\nimport { ImprovedJournalSheet } from './journal/journalSheet.js';\nimport { ImprovedJournalEntry } from './journal/journalEntry.js';\nimport { i18n } from './utils.js';\nimport { _onPaste } from './pasting.js';\n\n// Initialize module\nHooks.once('init', async () => {\n  console.log('journal-improvements | Initializing journal-improvements');\n\n  CONFIG.JournalEntry.documentClass = ImprovedJournalEntry;\n  Journal.registerSheet('journal-improvements', ImprovedJournalSheet, {\n    makeDefault: true,\n    label: i18n('journalImprovements.sheetName'),\n  });\n\n  game.keybindings.register('journal-improvements', 'paste', {\n    name: 'journalImprovements.keybindings.paste',\n    restricted: true,\n    editable: [{ key: 'KeyV', modifiers: [KeyboardManager.MODIFIER_KEYS.CONTROL] }],\n    onDown: () => _onPaste(false),\n    precedence: CONST.KEYBINDING_PRECEDENCE.DEFERRED,\n  });\n\n  game.keybindings.register('journal-improvements', 'pastePlain', {\n    name: 'journalImprovements.keybindings.pastePlain',\n    restricted: true,\n    editable: [\n      { key: 'KeyV', modifiers: [KeyboardManager.MODIFIER_KEYS.CONTROL, KeyboardManager.MODIFIER_KEYS.SHIFT] },\n    ],\n    onDown: () => _onPaste(true),\n    precedence: CONST.KEYBINDING_PRECEDENCE.DEFERRED,\n  });\n\n  // Register custom module settings\n  registerSettings();\n\n  // Preload Handlebars templates\n  await preloadTemplates();\n});\n\nHooks.once('setup', async () => {});\n\nHooks.once('ready', async () => {\n  setEditorHeight();\n});\n\nHooks.on('renderNoteConfig', async (app, element, data) => {\n  // TODO: fix commented lines\n  // if (app.document.getFlag('journal-improvements', 'configured')) return;\n  renderNoteConfig(app, element, data);\n  // app.document.setFlag('journal-improvements', 'configured', true);\n});\n\nfunction renderNoteConfig(app, element, _data) {\n  if (!game.settings.get('journal-improvements', 'pinIcons')) return;\n  const fd = new FormDataExtended(app.form);\n\n  const iconSelected = fd.object['icon.selected'];\n  const isDefaultIcon = iconSelected == null || iconSelected === 'icons/svg/book.svg';\n  if (!isDefaultIcon) return;\n\n  const entryId = fd.object.entryId;\n  const pageId = fd.object.pageId;\n  if (!entryId || !pageId) return;\n\n  const page = game.journal.get(entryId)?.pages?.get(pageId);\n  if (!page) return;\n\n  const improvedIcon = getNoteIcon(page.type);\n  if (!improvedIcon) return;\n\n  const imgSelector = element.find('select[name=\"icon.selected\"]');\n  const customImgInput = element.find('input[name=\"icon.custom\"]');\n  imgSelector.val('');\n  customImgInput.val(improvedIcon);\n  customImgInput.prop('disabled', false);\n}\n"],"names":[],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam91cm5hbC1pbXByb3ZlbWVudHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2R1bGUvc2V0dGluZ3MuanMiLCIuLi8uLi9zcmMvbW9kdWxlL3ByZWxvYWRUZW1wbGF0ZXMuanMiLCIuLi8uLi9zcmMvbW9kdWxlL2pvdXJuYWwvam91cm5hbFNoZWV0LmpzIiwiLi4vLi4vc3JjL21vZHVsZS91dGlscy5qcyIsIi4uLy4uL3NyYy9tb2R1bGUvam91cm5hbC9qb3VybmFsRW50cnkuanMiLCIuLi8uLi9zcmMvbW9kdWxlL3Bhc3RpbmcuanMiLCIuLi8uLi9zcmMvbW9kdWxlL2pvdXJuYWwtaW1wcm92ZW1lbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjIgSm9oYW5uZXMgTG9oZXJcbi8vXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNldHRpbmdzKCkge1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdqb3VybmFsLWltcHJvdmVtZW50cycsICdpbnRlZ3JhdGVkRWRpdG9yJywge1xuICAgIG5hbWU6ICdqb3VybmFsSW1wcm92ZW1lbnRzLnNldHRpbmdzLmludGVncmF0ZWRFZGl0b3JOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5pbnRlZ3JhdGVkRWRpdG9ySGludCcsXG4gICAgc2NvcGU6ICdjbGllbnQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICByZXF1aXJlc1JlbG9hZDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIG9uQ2hhbmdlOiByZWZyZXNoSm91cm5hbHMsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2VkaXRvckVuZ2luZScsIHtcbiAgICBuYW1lOiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5lZGl0b3JFbmdpbmVOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5lZGl0b3JFbmdpbmVIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHJlcXVpcmVzUmVsb2FkOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3Byb3NlbWlycm9yJyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICB0aW55bWNlOiAnVGlueU1DRScsXG4gICAgICBwcm9zZW1pcnJvcjogJ1Byb3NlTWlycm9yJyxcbiAgICAgIG1hcmtkb3duOiAnTWFya2Rvd24nLFxuICAgIH0sXG4gICAgb25DaGFuZ2U6IHJlZnJlc2hKb3VybmFscyxcbiAgfSk7XG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3Rlcignam91cm5hbC1pbXByb3ZlbWVudHMnLCAnYXV0b3NhdmUnLCB7XG4gICAgbmFtZTogJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MuYXV0b3NhdmVOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5hdXRvc2F2ZUhpbnQnLFxuICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgcmVxdWlyZXNSZWxvYWQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICBvbkNoYW5nZTogcmVmcmVzaEpvdXJuYWxzLFxuICB9KTtcblxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdqb3VybmFsLWltcHJvdmVtZW50cycsICdtb3ZlSm91cm5hbFRpdGxlJywge1xuICAgIG5hbWU6ICdqb3VybmFsSW1wcm92ZW1lbnRzLnNldHRpbmdzLm1vdmVKb3VybmFsVGl0bGVOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5tb3ZlSm91cm5hbFRpdGxlSGludCcsXG4gICAgc2NvcGU6ICdjbGllbnQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICByZXF1aXJlc1JlbG9hZDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIG9uQ2hhbmdlOiByZWZyZXNoSm91cm5hbHMsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2NyZWF0ZURlZmF1bHRQYWdlJywge1xuICAgIG5hbWU6ICdqb3VybmFsSW1wcm92ZW1lbnRzLnNldHRpbmdzLmNyZWF0ZURlZmF1bHRQYWdlTmFtZScsXG4gICAgaGludDogJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MuY3JlYXRlRGVmYXVsdFBhZ2VIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHJlcXVpcmVzUmVsb2FkOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIG9uQ2hhbmdlOiByZWZyZXNoSm91cm5hbHMsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2NyZWF0ZVNpbGVudCcsIHtcbiAgICBuYW1lOiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5jcmVhdGVTaWxlbnRQYWdlTmFtZScsXG4gICAgaGludDogJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MuY3JlYXRlU2lsZW50UGFnZUhpbnQnLFxuICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgcmVxdWlyZXNSZWxvYWQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgb25DaGFuZ2U6IHJlZnJlc2hKb3VybmFscyxcbiAgfSk7XG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3Rlcignam91cm5hbC1pbXByb3ZlbWVudHMnLCAncGluSWNvbnMnLCB7XG4gICAgbmFtZTogJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MucGluSWNvbnNOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5waW5JY29uc0hpbnQnLFxuICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgcmVxdWlyZXNSZWxvYWQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ3Bhc3RlVG9QYWdlSW1hZ2UnLCB7XG4gICAgbmFtZTogJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MucGFzdGVUb1BhZ2VJbWFnZU5hbWUnLFxuICAgIGhpbnQ6ICdqb3VybmFsSW1wcm92ZW1lbnRzLnNldHRpbmdzLnBhc3RlVG9QYWdlSW1hZ2VIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHJlcXVpcmVzUmVsb2FkOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIG9uQ2hhbmdlOiByZWZyZXNoSm91cm5hbHMsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ3VwbG9hZEZvbGRlcicsIHtcbiAgICBuYW1lOiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy51cGxvYWRGb2xkZXJOYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy51cGxvYWRGb2xkZXJIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHJlcXVpcmVzUmVsb2FkOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3VwbG9hZHMvam91cm5hbCcsXG4gIH0pO1xuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2VkaXRvckhlaWdodCcsIHtcbiAgICBuYW1lOiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5lZGl0b3JIZWlnaHROYW1lJyxcbiAgICBoaW50OiAnam91cm5hbEltcHJvdmVtZW50cy5zZXR0aW5ncy5lZGl0b3JIZWlnaHRIaW50JyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIHJlcXVpcmVzUmVsb2FkOiBmYWxzZSxcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogNjEwLFxuICAgIG9uQ2hhbmdlOiAodmFsdWUpID0+IHNldEVkaXRvckhlaWdodCh2YWx1ZSksXG4gIH0pO1xuXG4gIGZvciAoY29uc3QgdCBvZiBbJ1RleHQnLCAnSW1hZ2UnLCAnUGRmJywgJ1ZpZGVvJ10pIHtcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdqb3VybmFsLWltcHJvdmVtZW50cycsIGBoaWRlQnV0dG9uJHt0fWAsIHtcbiAgICAgIG5hbWU6IGBqb3VybmFsSW1wcm92ZW1lbnRzLnNldHRpbmdzLmhpZGVCdXR0b25zLiR7dH1gLFxuICAgICAgaGludDogYGpvdXJuYWxJbXByb3ZlbWVudHMuc2V0dGluZ3MuaGlkZUJ1dHRvbnMuJHt0fUhpbnRgLFxuICAgICAgc2NvcGU6ICdjbGllbnQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgcmVxdWlyZXNSZWxvYWQ6IGZhbHNlLFxuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IHJlZnJlc2hKb3VybmFscyxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlkZGVuQnV0dG9ucygpIHtcbiAgY29uc3QgZyA9ICh0KSA9PiBnYW1lLnNldHRpbmdzLmdldCgnam91cm5hbC1pbXByb3ZlbWVudHMnLCBgaGlkZUJ1dHRvbiR7dH1gKTtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiBnKCdUZXh0JyksXG4gICAgaW1hZ2U6IGcoJ0ltYWdlJyksXG4gICAgcGRmOiBnKCdQZGYnKSxcbiAgICB2aWRlbzogZygnVmlkZW8nKSxcbiAgfTtcbn1cblxuY29uc3Qgbm90ZUljb25zID0ge1xuICB0ZXh0OiAnbW9kdWxlcy9qb3VybmFsLWltcHJvdmVtZW50cy9hc3NldHMvZmlsZS5zdmcnLFxuICBpbWFnZTogJ21vZHVsZXMvam91cm5hbC1pbXByb3ZlbWVudHMvYXNzZXRzL2ZpbGUtaW1hZ2Uuc3ZnJyxcbiAgcGRmOiAnbW9kdWxlcy9qb3VybmFsLWltcHJvdmVtZW50cy9hc3NldHMvZmlsZS1wZGYuc3ZnJyxcbiAgdmlkZW86ICdtb2R1bGVzL2pvdXJuYWwtaW1wcm92ZW1lbnRzL2Fzc2V0cy9maWxlLXZpZGVvLnN2ZycsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm90ZUljb24odHlwZSkge1xuICByZXR1cm4gbm90ZUljb25zW3R5cGVdO1xufVxuXG5mdW5jdGlvbiByZWZyZXNoSm91cm5hbHMoKSB7XG4gIE9iamVjdC52YWx1ZXModWkud2luZG93cylcbiAgICAuZmlsdGVyKCh3KSA9PiB3IGluc3RhbmNlb2YgSm91cm5hbFNoZWV0KVxuICAgIC5mb3JFYWNoKCh3KSA9PiB3LnJlbmRlcigpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEVkaXRvckhlaWdodCh2YWx1ZSA9IHVuZGVmaW5lZCkge1xuICB2YWx1ZSA9IHZhbHVlID8/IGdhbWUuc2V0dGluZ3MuZ2V0KCdqb3VybmFsLWltcHJvdmVtZW50cycsICdlZGl0b3JIZWlnaHQnKTtcbiAgY29uc3QgciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJzpyb290Jyk7XG4gIHIuc3R5bGUuc2V0UHJvcGVydHkoJy0tamktZWRpdG9yLWhlaWdodCcsIHZhbHVlICsgJ3B4Jyk7XG59XG4iLCIvLyBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIyIEpvaGFubmVzIExvaGVyXG4vL1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZFRlbXBsYXRlcygpIHtcbiAgY29uc3QgdGVtcGxhdGVQYXRocyA9IFtcbiAgICAvLyBBZGQgcGF0aHMgdG8gXCJtb2R1bGVzL2pvdXJuYWwtaW1wcm92ZW1lbnRzL3RlbXBsYXRlc1wiXG4gICAgJ21vZHVsZXMvam91cm5hbC1pbXByb3ZlbWVudHMvdGVtcGxhdGVzL2pvdXJuYWwtc2hlZXQuaHRtbCcsXG4gICAgJ21vZHVsZXMvam91cm5hbC1pbXByb3ZlbWVudHMvdGVtcGxhdGVzL2pvdXJuYWwtc2hlZXQtdGV4dC1wYWdlLmh0bWwnLFxuICBdO1xuXG4gIHJldHVybiBsb2FkVGVtcGxhdGVzKHRlbXBsYXRlUGF0aHMpO1xufVxuIiwiaW1wb3J0IHsgZ2V0SGlkZGVuQnV0dG9ucyB9IGZyb20gJy4uL3NldHRpbmdzLmpzJztcblxuLyogZ2xvYmFscyBKb3VybmFsVGV4dFBhZ2VTaGVldCBKb3VybmFsVGV4dFRpbnlNQ0VTaGVldCBNYXJrZG93bkpvdXJuYWxQYWdlU2hlZXQgSm91cm5hbEVudHJ5UGFnZSovXG5leHBvcnQgY2xhc3MgSW1wcm92ZWRKb3VybmFsU2hlZXQgZXh0ZW5kcyBKb3VybmFsU2hlZXQge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbJ3NoZWV0JywgJ2pvdXJuYWwtc2hlZXQnLCAnam91cm5hbC1lbnRyeScsICdqb3VybmFsLWltcHJvdmVtZW50cyddO1xuICAgIGlmIChnYW1lLm1vZHVsZXMuZ2V0KCdwZjJlLWRvcmFrby11aScpPy5hY3RpdmUpIGNsYXNzZXMucHVzaCgnaWotZG9yYWtvLWZpeCcpO1xuICAgIGlmIChnYW1lLm1vZHVsZXMuZ2V0KCdlcm5pZXMtbW9kZXJuLWxheW91dCcpPy5hY3RpdmUpIHtcbiAgICAgIGNsYXNzZXMucHVzaCgnaWotZXJuaWVzLWZpeCcpO1xuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdlcm5pZXMtbW9kZXJuLWxheW91dCcsICdjb21wYWN0TW9kZScpKSBjbGFzc2VzLnB1c2goJ2lqLWVybmllcy1maXgtY29tcGFjdCcpO1xuICAgIH1cblxuICAgIHJldHVybiBmb3VuZHJ5LnV0aWxzLm1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBjbGFzc2VzLFxuICAgICAgdGVtcGxhdGU6ICdtb2R1bGVzL2pvdXJuYWwtaW1wcm92ZW1lbnRzL3RlbXBsYXRlcy9qb3VybmFsLXNoZWV0Lmh0bWwnLFxuICAgICAgc3VibWl0T25DbG9zZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2F1dG9zYXZlJyksXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHRleHRQYWdlVGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuICdtb2R1bGVzL2pvdXJuYWwtaW1wcm92ZW1lbnRzL3RlbXBsYXRlcy9qb3VybmFsLXNoZWV0LXRleHQtcGFnZS5odG1sJztcbiAgfVxuXG4gIGdldCBfaXNEZWZhdWx0RWRpdCgpIHtcbiAgICByZXR1cm4gIWdhbWUuc2V0dGluZ3MuZ2V0KCdqb3VybmFsLWltcHJvdmVtZW50cycsICdpbnRlZ3JhdGVkRWRpdG9yJyk7XG4gIH1cblxuICBnZXQgamlFbmdpbmUoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdqb3VybmFsLWltcHJvdmVtZW50cycsICdlZGl0b3JFbmdpbmUnKSA/PyAndGlueW1jZSc7XG4gIH1cblxuICBnZXQgamlBdXRvc2F2ZSgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2F1dG9zYXZlJyk7XG4gIH1cblxuICBnZXREYXRhKG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RGF0YShvcHRpb25zKTtcbiAgICBkYXRhLmhpZGRlbkJ1dHRvbnMgPSBnZXRIaWRkZW5CdXR0b25zKCk7XG4gICAgZGF0YS5tb3ZlSm91cm5hbFRpdGxlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ21vdmVKb3VybmFsVGl0bGUnKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIHBhZ2VzIGZvciBkaXNwbGF5LlxuICAgKiBAcmV0dXJucyB7Sm91cm5hbEVudHJ5UGFnZVtdfSAgVGhlIHNvcnRlZCBsaXN0IG9mIHBhZ2VzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgX2dldFBhZ2VEYXRhKCkge1xuICAgIGNvbnN0IF9wYWdlRGF0YSA9IHN1cGVyLl9nZXRQYWdlRGF0YSgpO1xuICAgIC8vIE1ha2UgcGFnZXMgc3RhcnQgZnJvbSAxIGluc3RlYWQgb2YgMCAoaWYgcGFnZXMgc3RhcnQgZnJvbSAwKVxuICAgIGlmIChfcGFnZURhdGFbMF0/Lm51bWJlciA9PT0gMCkgX3BhZ2VEYXRhLmZvckVhY2goKHApID0+IHAubnVtYmVyKyspO1xuICAgIHJldHVybiBfcGFnZURhdGE7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGNsaWNraW5nIHRoZSBwcmV2aW91cyBhbmQgbmV4dCBwYWdlIGJ1dHRvbnMuXG4gICAqIEBwYXJhbSB7SlF1ZXJ5LlRyaWdnZXJlZEV2ZW50fSBldmVudCAgVGhlIGJ1dHRvbiBjbGljayBldmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX29uQWN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1dHRvbi5kYXRhc2V0LmFjdGlvbjtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAncXVpY2tDcmVhdGUnOlxuICAgICAgICByZXR1cm4gdGhpcy5xdWlja0NyZWF0ZVBhZ2UoYnV0dG9uLmRhdGFzZXQudHlwZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3VwZXIuX29uQWN0aW9uKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgIFRoZSB0eXBlIG9mIHBhZ2UgdG8gY3JlYXRlXG4gICAqL1xuICBhc3luYyBxdWlja0NyZWF0ZVBhZ2UodHlwZSkge1xuICAgIGF3YWl0IHRoaXMuZG9jdW1lbnQuY3JlYXRlUXVpY2tQYWdlKHsgdHlwZTogdHlwZSB9KTtcbiAgICAvLyBSZW5kZXIgdGhlIGxhc3QgcGFnZVxuICAgIGF3YWl0IHRoaXMucmVuZGVyTGFzdFBhZ2UoKTtcbiAgICAvLyBBY3RpdmF0ZSB0aGUgZWRpdG9yIGlmIHVzaW5nIHRoZSBpbnRlZ3JhdGVkIGVkaXRvciBhbmQgcGFnZSBpcyB0ZXh0LlxuICAgIGlmICghdGhpcy5faXNEZWZhdWx0RWRpdCAmJiB0eXBlID09PSAndGV4dCcpIHRoaXMuZGlzcGF0Y2hFZGl0b3JFZGl0Q2xpY2soKTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlckxhc3RQYWdlKCkge1xuICAgIGNvbnN0IGxhc3RQYWdlSW5kZXggPSB0aGlzLl9wYWdlcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlbmRlcihmYWxzZSwgeyBwYWdlSW5kZXg6IGxhc3RQYWdlSW5kZXggfSk7XG4gIH1cblxuICBhc3luYyBkaXNwYXRjaEVkaXRvckVkaXRDbGljayh0aW1lb3V0ID0gNTApIHtcbiAgICAvLyBGb3Igc29tZSByZWFzb24gdGhlIHJlbmRlciBhd2FpdCBkb2Vzbid0IHdhaXQgdGhlIHJlbmRlcmVkIHBhZ2Ugdmlld3MuIFRPRE86IGltcHJvdmUgaGVyZSwgaW5zdGVhZCBvZiB1c2luZyB0aW1lb3V0XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZWRpdEJ0biA9IHRoaXMuZWxlbWVudC5maW5kKGBhLmVkaXRvci1lZGl0YCkubGFzdCgpWzBdO1xuICAgICAgY29uc3QgY2xpY2tFdmVudCA9IG5ldyBFdmVudCgnY2xpY2snKTtcbiAgICAgIGVkaXRCdG4/LmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGNoaWxkIHZpZXdzIGluc2lkZSB0aGUgbWFpbiBzaGVldC5cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGFzeW5jIF9yZW5kZXJQYWdlVmlld3MoKSB7XG4gICAgaWYgKHRoaXMuX2lzRGVmYXVsdEVkaXQpIHJldHVybiBzdXBlci5fcmVuZGVyUGFnZVZpZXdzKCk7XG5cbiAgICBmb3IgKGNvbnN0IHBhZ2VOb2RlIG9mIHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCcuam91cm5hbC1lbnRyeS1wYWdlJykpIHtcbiAgICAgIGNvbnN0IGlkID0gcGFnZU5vZGUuZGF0YXNldC5wYWdlSWQ7XG4gICAgICBpZiAoIWlkKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5nZXRQYWdlU2hlZXQoaWQpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHNoZWV0LmdldERhdGEoKTtcblxuICAgICAgLyogPC0gQmVnaW4gY3VzdG9tIGNvZGUgKi9cbiAgICAgIGxldCB2aWV3LCBlZGl0O1xuICAgICAgY29uc3QgaXNUZXh0ID0gZGF0YS5kYXRhLnR5cGUgPT09ICd0ZXh0JztcbiAgICAgIGVkaXQgPSBwYWdlTm9kZS5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuZWRpdC1jb250YWluZXInKTtcblxuICAgICAgLy8gSWYgaXMgdGV4dCBwYWdlLCByZW5kZXIgdGhlIGVkaXRvciBpbiB0aGlzIHNoZWV0XG4gICAgICBpZiAoaXNUZXh0KSB7XG4gICAgICAgIGRhdGEuZWRpdGFibGUgPSBlZGl0ICE9IG51bGw7XG4gICAgICAgIGRhdGEuZW5naW5lID0gdGhpcy5qaUVuZ2luZTtcbiAgICAgICAgLy8gZGF0YS5lbnJpY2hlZFBhZ2VDb250ZW50ID0gYXdhaXQgVGV4dEVkaXRvci5lbnJpY2hIVE1MKGRhdGEuZGF0YT8udGV4dD8uY29udGVudCwgeyBhc3luYzogdHJ1ZSB9KTtcbiAgICAgICAgdmlldyA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKCdtb2R1bGVzL2pvdXJuYWwtaW1wcm92ZW1lbnRzL3RlbXBsYXRlcy9qb3VybmFsLXNoZWV0LXRleHQtcGFnZS5odG1sJywgZGF0YSk7XG4gICAgICAgIHZpZXcgPSAkKHZpZXcpOyAvLyB0byBKcXVlcnlcbiAgICAgICAgcGFnZU5vZGUucmVwbGFjZUNoaWxkcmVuKC4uLnZpZXcuZ2V0KCkpO1xuICAgICAgICBzaGVldC5fYWN0aXZhdGVDb3JlTGlzdGVuZXJzKHZpZXcucGFyZW50KCkpO1xuICAgICAgICAvLyBzaGVldC5hY3RpdmF0ZUxpc3RlbmVycyh2aWV3KTtcblxuICAgICAgICAvLyBJZiB0aGUgcGFnZSBpcyBlZGl0YWJsZSwgYWN0aXZhdGUgdGhlIGVkaXRvcnNcbiAgICAgICAgaWYgKGRhdGEuZWRpdGFibGUpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3JDb250ZW50ID0gdmlldy5maW5kKCcuZWRpdG9yLWNvbnRlbnRbZGF0YS1lZGl0XScpO1xuICAgICAgICAgIGVkaXRvckNvbnRlbnQuZWFjaCgoaSwgZGl2KSA9PiB0aGlzLl9hY3RpdmF0ZUVkaXRvcihkaXYpKTtcbiAgICAgICAgICBpZiAodGhpcy5qaUF1dG9zYXZlKSBlZGl0b3JDb250ZW50Lm9uKCdmb2N1c291dCcsIChldmVudCkgPT4gdGhpcy5fb25FZGl0b3JGb2N1c291dChldmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgdGhlIHRvY1xuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24sIHBmMmUgZ2V0cyBkdXBsaWNhdGVkIDFzdCBsZXZlbCBoZWFkaW5nLCBidXQgb3RoZXIgc3lzdGVtcyBkb24ndFxuICAgICAgICBpZiAoZ2FtZS5zeXN0ZW0uaWQgPT09ICdwZjJlJykge1xuICAgICAgICAgIHNoZWV0LnRvYyA9IEpvdXJuYWxFbnRyeVBhZ2UuYnVpbGRUT0Modmlldy5maW5kKCcuZWRpdG9yLWNvbnRlbnQnKS5nZXQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2hlZXQudG9jID0gSm91cm5hbEVudHJ5UGFnZS5idWlsZFRPQyh2aWV3LmdldCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGlzIG1hcmtkb3duLCBhZGQgY3VzdG9tIGRyb3BwaW5nIG9mIGxpbmtzIGFuZCBhdXRvc2F2ZVxuICAgICAgICBpZiAoZGF0YS5lbmdpbmUgPT09ICdtYXJrZG93bicpIHtcbiAgICAgICAgICBzaGVldC5fb25Ecm9wQ29udGVudExpbmsgPSAoZXZlbnREYXRhKSA9PiB0aGlzLl9tYXJrZG93bkVkaXRvcl9vbkRyb3BDb250ZW50TGluayhldmVudERhdGEsIHZpZXcpO1xuICAgICAgICAgIGlmICh0aGlzLmppQXV0b3NhdmUpXG4gICAgICAgICAgICB2aWV3XG4gICAgICAgICAgICAgIC5maW5kKCd0ZXh0YXJlYS5tYXJrZG93bi1lZGl0b3InKVxuICAgICAgICAgICAgICAub24oJ2ZvY3Vzb3V0JywgKGV2ZW50KSA9PiB0aGlzLl9zYXZlTWFya2Rvd25Gcm9tRWRpdG9yKCQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50KCksIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgIGVsc2Uge1xuICAgICAgICB2aWV3ID0gYXdhaXQgc2hlZXQuX3JlbmRlcklubmVyKGRhdGEpO1xuICAgICAgICBwYWdlTm9kZS5yZXBsYWNlQ2hpbGRyZW4oLi4udmlldy5nZXQoKSk7XG4gICAgICAgIGlmIChlZGl0KSBwYWdlTm9kZS5hcHBlbmRDaGlsZChlZGl0KTtcbiAgICAgICAgc2hlZXQuX2FjdGl2YXRlQ29yZUxpc3RlbmVycyh2aWV3LnBhcmVudCgpKTtcbiAgICAgICAgc2hlZXQuYWN0aXZhdGVMaXN0ZW5lcnModmlldyk7XG4gICAgICB9XG4gICAgICAvKiAtPiBFbmQgY3VzdG9tIGNvZGUgKi9cblxuICAgICAgYXdhaXQgdGhpcy5fcmVuZGVySGVhZGluZ3MocGFnZU5vZGUsIHNoZWV0LnRvYyk7XG4gICAgICBmb3IgKGNvbnN0IGNscyBvZiBzaGVldC5jb25zdHJ1Y3Rvci5fZ2V0SW5oZXJpdGFuY2VDaGFpbigpKSB7XG4gICAgICAgIEhvb2tzLmNhbGxBbGwoYHJlbmRlciR7Y2xzLm5hbWV9YCwgc2hlZXQsIHZpZXcsIGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9vYnNlcnZlSGVhZGluZ3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2hlZXQgaW5zdGFuY2UgZm9yIHJlbmRlcmluZyB0aGlzIHBhZ2UgaW5saW5lLlxuICAgKiBDdXN0b20gY29kZSB0byBoYW5kbGUgTWFya2Rvd24gY29udmVyc2lvbiBlYXNpbHksIGJ5IGluc3RhbmNpbmcgdGhlIHBhZ2Ugc2hlZXQgYXMgYSBNYXJrZG93bkpvdXJuYWxQYWdlU2hlZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhZ2VJZCAgVGhlIElEIG9mIHRoZSBwYWdlLlxuICAgKiBAcmV0dXJucyB7Sm91cm5hbFBhZ2VTaGVldH1cbiAgICovXG4gIGdldFBhZ2VTaGVldChwYWdlSWQpIHtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5vYmplY3QucGFnZXMuZ2V0KHBhZ2VJZCk7XG4gICAgaWYgKHRoaXMuX2lzRGVmYXVsdEVkaXQgfHwgcGFnZS50eXBlICE9PSAndGV4dCcpIHJldHVybiBzdXBlci5nZXRQYWdlU2hlZXQocGFnZUlkKTtcblxuICAgIGNvbnN0IHByaXZhdGVTaGVldHMgPSB0aGlzWycjc2hlZXRzJ10gPz8ge307XG4gICAgc3dpdGNoICh0aGlzLmppRW5naW5lKSB7XG4gICAgICBjYXNlICdwcm9zZW1pcnJvcic6XG4gICAgICAgIHJldHVybiAocHJpdmF0ZVNoZWV0c1twYWdlSWRdID8/PSBuZXcgSm91cm5hbFRleHRQYWdlU2hlZXQocGFnZSwgeyBlZGl0YWJsZTogZmFsc2UgfSkpO1xuICAgICAgY2FzZSAndGlueW1jZSc6XG4gICAgICAgIHJldHVybiAocHJpdmF0ZVNoZWV0c1twYWdlSWRdID8/PSBuZXcgSm91cm5hbFRleHRUaW55TUNFU2hlZXQocGFnZSwgeyBlZGl0YWJsZTogZmFsc2UgfSkpO1xuICAgICAgY2FzZSAnbWFya2Rvd24nOlxuICAgICAgICByZXR1cm4gKHByaXZhdGVTaGVldHNbcGFnZUlkXSA/Pz0gbmV3IE1hcmtkb3duSm91cm5hbFBhZ2VTaGVldChwYWdlLCB7IGVkaXRhYmxlOiBmYWxzZSB9KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFR1cm4gdG8gYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUlkICAgIFRoZSBJRCBvZiB0aGUgcGFnZSB0byB0dXJuIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2FuY2hvcl0gIE9wdGlvbmFsbHkgYW4gYW5jaG9yIHNsdWcgdG8gZm9jdXMgd2l0aGluIHRoYXQgcGFnZS5cbiAgICovXG4gIGdvVG9QYWdlKHBhZ2VJZCwgYW5jaG9yKSB7XG4gICAgaWYgKHRoaXMuX2lzRGVmYXVsdEVkaXQpIHJldHVybiBzdXBlci5nb1RvUGFnZShwYWdlSWQsIGFuY2hvcik7XG5cbiAgICBpZiAodGhpcy5tb2RlID09PSB0aGlzLmNvbnN0cnVjdG9yLlZJRVdfTU9ERVMuU0lOR0xFKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGFnZUlkID0gdGhpcy5fcGFnZXNbdGhpcy5wYWdlSW5kZXhdPy5faWQ7XG4gICAgICBpZiAoY3VycmVudFBhZ2VJZCAhPT0gcGFnZUlkKSByZXR1cm4gdGhpcy5yZW5kZXIodHJ1ZSwgeyBwYWdlSWQsIGFuY2hvciB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGAuam91cm5hbC1lbnRyeS1wYWdlW2RhdGEtcGFnZS1pZD1cIiR7cGFnZUlkfVwiXWApO1xuICAgIGlmIChhbmNob3IpIHtcbiAgICAgIC8vIDwtIENVU1RPTSBDT0RFIFNUQVJUXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoYC5qb3VybmFsLWVudHJ5LWNvbnRlbnQgW2RhdGEtYW5jaG9yPVwiJHthbmNob3J9XCJdYCk7XG4gICAgICAvLyAtPiBDVVNUT00gQ09ERSBFTkRcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBwYWdlPy5zY3JvbGxJbnRvVmlldygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGV2ZW50IHdoZW4gYSBwYWdlIGVkaXQgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEByZXR1cm4geyp9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25FZGl0UGFnZShldmVudCkge1xuICAgIGlmICh0aGlzLl9pc0RlZmF1bHRFZGl0KSByZXR1cm4gc3VwZXIuX29uRWRpdFBhZ2UoZXZlbnQpO1xuXG4gICAgLy8gRG8gdGhlIGRlZmF1bHQgZWRpdHBhZ2UgYmVoYXZpb3Igb25seSBpZiB0aGUgcGFnZSBpcyBub3QgdGV4dFxuICAgIGNvbnN0IGN0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCBhcnRpY2xlUGFnZSA9IGN0LmNsb3Nlc3QoJ2FydGljbGUnKTtcbiAgICBjb25zdCBpc1RleHQgPSBhcnRpY2xlUGFnZS5oYXNDbGFzcygndGV4dCcpO1xuICAgIGlmICghaXNUZXh0KSByZXR1cm4gc3VwZXIuX29uRWRpdFBhZ2UoZXZlbnQpO1xuXG4gICAgLy8gUmVwbGFjZSB0aGUgaDEgd2l0aCBhbiBpbnB1dFxuICAgIGNvbnN0IGhlYWRlckgxID0gYXJ0aWNsZVBhZ2UuZmluZCgnaGVhZGVyIGgxJyk7XG4gICAgY29uc3QgcGFnZUlkID0gYXJ0aWNsZVBhZ2UuZGF0YSgncGFnZUlkJyk7XG4gICAgY29uc3QgcGFnZU5hbWUgPSBoZWFkZXJIMS50ZXh0KCk7XG4gICAgY29uc3QgbmFtZUlucHV0ID0gJChgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke3BhZ2VOYW1lfVwiPmApO1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgIG5hbWVJbnB1dC5vbignY2hhbmdlJywgYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBuZXdQYWdlTmFtZSA9ICQodGhpcykudmFsKCk7XG4gICAgICBhd2FpdCB0aGF0LmRvY3VtZW50LnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdKb3VybmFsRW50cnlQYWdlJywgW3sgX2lkOiBwYWdlSWQsIG5hbWU6IG5ld1BhZ2VOYW1lIH1dLCB7XG4gICAgICAgIHJlbmRlcjogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hhbmdlIHRoZSBmaXJzdCBsZXZlbCBUT0MgZm9yIHRoZSBwYWdlXG4gICAgICB0aGF0LmVsZW1lbnQuZmluZChgbmF2LnBhZ2VzLWxpc3QgW2RhdGEtcGFnZS1pZD1cIiR7cGFnZUlkfVwiXSAucGFnZS10aXRsZWApPy50ZXh0KG5ld1BhZ2VOYW1lKTtcbiAgICB9KTtcbiAgICBoZWFkZXJIMS5yZXBsYWNlV2l0aChuYW1lSW5wdXQpO1xuXG4gICAgLy8gSWYgbWFya2Rvd24sIHRvZ2dsZSBiZXR3ZWVuIHRoZSBtYXJrZG93biBhbmQgdGhlIGVucmljaGVkIGNvbnRlbnQgdmlldywgc2F2aW5nIHRoZSBtYXJrZG93blxuICAgIGlmICh0aGlzLmppRW5naW5lID09PSAnbWFya2Rvd24nKSB7XG4gICAgICBjb25zdCBlbnJpY2hlZENvbnRlbnQgPSBhcnRpY2xlUGFnZS5maW5kKCcuZW5yaWNoZWQtY29udGVudCcpO1xuICAgICAgY29uc3QgbWFya2Rvd25FZGl0b3JDb250ZW50ID0gYXJ0aWNsZVBhZ2UuZmluZCgnLm1hcmtkb3duLWVkaXRvci1jb250ZW50Jyk7XG5cbiAgICAgIC8vIElmIHRoZSBtZCBlZGl0b3IgaXMgY3VycmVudGx5IGRpc3BsYXllZCwgdGhlbiB3ZSBjYW4gdXBkYXRlIHRoZSBkYXRhIGFuZCB0cmlnZ2VyIGEgcmVuZGVyXG4gICAgICBpZiAobWFya2Rvd25FZGl0b3JDb250ZW50LmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgIHRoaXMuX3NhdmVNYXJrZG93bkZyb21FZGl0b3IobWFya2Rvd25FZGl0b3JDb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlIGRpc3BsYXkgdGhlIGVkaXRvciBhbmQgaGlkZSB0aGUgZW5yaWNoZWQgKCsgc2V0IHRoZSBoZWlnaHQpXG4gICAgICBlbHNlIHtcbiAgICAgICAgZW5yaWNoZWRDb250ZW50LmhpZGUoKTtcbiAgICAgICAgbWFya2Rvd25FZGl0b3JDb250ZW50LnNob3coKTtcbiAgICAgICAgdGhpcy5hdXRvc2V0RWRpdG9ySGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIHRoZSBtYXJrZG93biB0byB0aGUgcGFnZSwgY29udmVydGluZyBpdCB0byBodG1sIGFuZCB0cmlnZ2VyaW5nIGEgcmVuZGVyaW5nXG4gICAqIEBwYXJhbSBtYXJrRG93bkVkaXRvclxuICAgKiBAcGFyYW0gcHJldmVudFBvc3RVcGRhdGVSZW5kZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zYXZlTWFya2Rvd25Gcm9tRWRpdG9yKG1hcmtEb3duRWRpdG9yLCBwcmV2ZW50UG9zdFVwZGF0ZVJlbmRlciA9IGZhbHNlKSB7XG4gICAgY29uc3QgbWRUZXh0YXJlYSA9IG1hcmtEb3duRWRpdG9yLmZpbmQoJ3RleHRhcmVhLm1hcmtkb3duLWVkaXRvcicpO1xuICAgIGlmICghbWRUZXh0YXJlYSkgdGhyb3cgJ01hcmtkb3duIGVkaXRvciBub3QgZm91bmQnO1xuICAgIGNvbnN0IGsgPSBtZFRleHRhcmVhLmF0dHIoJ25hbWUnKTtcbiAgICBjb25zdCBtZCA9IG1kVGV4dGFyZWEudmFsKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgY29uc3QgaHRtbCA9IEpvdXJuYWxUZXh0UGFnZVNoZWV0Ll9jb252ZXJ0ZXIubWFrZUh0bWwobWQpO1xuICAgIGNvbnN0IHNwbGl0ID0gay5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHBhZ2VJZCA9IHNwbGl0WzFdO1xuXG4gICAgdGhpcy5kb2N1bWVudFxuICAgICAgLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdKb3VybmFsRW50cnlQYWdlJywgW3sgX2lkOiBwYWdlSWQsICd0ZXh0Lm1hcmtkb3duJzogbWQsICd0ZXh0LmNvbnRlbnQnOiBodG1sIH1dLCB7XG4gICAgICAgIHJlbmRlcjogZmFsc2UsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZlbnRQb3N0VXBkYXRlUmVuZGVyKSB0aGlzLnJlbmRlcigpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWN0aXZhdGUgYW4gZWRpdG9yIGluc3RhbmNlIHByZXNlbnQgd2l0aGluIHRoZSBmb3JtXG4gICAqIEN1c3RvbSBjb2RlIHN0YXJ0cyBhdCBzeW1ib2wgPC1cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZGl2ICBUaGUgZWxlbWVudCB3aGljaCBjb250YWlucyB0aGUgZWRpdG9yXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9hY3RpdmF0ZUVkaXRvcihkaXYpIHtcbiAgICAvLyBHZXQgdGhlIGVkaXRvciBjb250ZW50IGRpdlxuICAgIGNvbnN0IG5hbWUgPSBkaXYuZGF0YXNldC5lZGl0O1xuICAgIGNvbnN0IGVuZ2luZSA9IGRpdi5kYXRhc2V0LmVuZ2luZSB8fCAndGlueW1jZSc7XG4gICAgY29uc3QgY29sbGFib3JhdGUgPSBkaXYuZGF0YXNldC5jb2xsYWJvcmF0ZSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IGJ1dHRvbiA9IGRpdi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0IGhhc0J1dHRvbiA9IGJ1dHRvbiAmJiBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0b3ItZWRpdCcpO1xuICAgIGNvbnN0IHdyYXAgPSBkaXYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHdjID0gZGl2LmNsb3Nlc3QoJy53aW5kb3ctY29udGVudCcpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBwcmVmZXJyZWQgZWRpdG9yIGhlaWdodFxuICAgIGNvbnN0IGhlaWdodHMgPSBbd3JhcC5vZmZzZXRIZWlnaHQsIHdjID8gd2Mub2Zmc2V0SGVpZ2h0IDogbnVsbF07XG4gICAgaWYgKGRpdi5vZmZzZXRIZWlnaHQgPiAwKSBoZWlnaHRzLnB1c2goZGl2Lm9mZnNldEhlaWdodCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5taW4oLi4uaGVpZ2h0cy5maWx0ZXIoKGgpID0+IE51bWJlci5pc0Zpbml0ZShoKSkpO1xuXG4gICAgLy8gR2V0IGluaXRpYWwgY29udGVudFxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICB0YXJnZXQ6IGRpdixcbiAgICAgIGZpZWxkTmFtZTogbmFtZSxcbiAgICAgIHNhdmVfb25zYXZlY2FsbGJhY2s6ICgpID0+IHRoaXMuc2F2ZUVkaXRvcihuYW1lKSxcbiAgICAgIGhlaWdodCxcbiAgICAgIGVuZ2luZSxcbiAgICAgIGNvbGxhYm9yYXRlLFxuICAgIH07XG5cbiAgICBpZiAoZW5naW5lID09PSAncHJvc2VtaXJyb3InKSBvcHRpb25zLnBsdWdpbnMgPSB0aGlzLl9jb25maWd1cmVQcm9zZU1pcnJvclBsdWdpbnMobmFtZSwgeyByZW1vdmU6IGhhc0J1dHRvbiB9KTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBsZWdhY3kgZGF0YSByZWZlcmVuY2VzLlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHYxMFxuICAgICAqL1xuICAgIGNvbnN0IGlzRG9jdW1lbnQgPSB0aGlzLm9iamVjdCBpbnN0YW5jZW9mIGZvdW5kcnkuYWJzdHJhY3QuRG9jdW1lbnQ7XG4gICAgY29uc3QgZGF0YSA9IG5hbWU/LnN0YXJ0c1dpdGgoJ2RhdGEuJykgJiYgaXNEb2N1bWVudCA/IHRoaXMub2JqZWN0LmRhdGEgOiB0aGlzLm9iamVjdDtcblxuICAgIC8vIERlZmluZSB0aGUgZWRpdG9yIGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCBlZGl0b3IgPSAodGhpcy5lZGl0b3JzW25hbWVdID0ge1xuICAgICAgb3B0aW9ucyxcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIGJ1dHRvbjogYnV0dG9uLFxuICAgICAgaGFzQnV0dG9uOiBoYXNCdXR0b24sXG4gICAgICBtY2U6IG51bGwsXG4gICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgIGFjdGl2ZTogIWhhc0J1dHRvbixcbiAgICAgIGNoYW5nZWQ6IGZhbHNlLFxuICAgICAgaW5pdGlhbDogZm91bmRyeS51dGlscy5nZXRQcm9wZXJ0eShkYXRhLCBuYW1lKSxcbiAgICB9KTtcblxuICAgIC8vIEFjdGl2YXRlIHRoZSBlZGl0b3IgaW1tZWRpYXRlbHksIG9yIHVwb24gYnV0dG9uIGNsaWNrXG4gICAgY29uc3QgYWN0aXZhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvLyA8LSBDdXN0b20gY29kZSwgZXZlcnl0aGluZyBhYm92ZSBpcyB1bnRvdWNoZWRcbiAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ3BhZ2VzLicpKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBzcGxpdFsxXTtcbiAgICAgICAgY29uc3QgcHJvcCA9IHNwbGl0LnNsaWNlKDIpLmpvaW4oJy4nKTtcbiAgICAgICAgZWRpdG9yLmluaXRpYWwgPSBmb3VuZHJ5LnV0aWxzLmdldFByb3BlcnR5KGRhdGEucGFnZXMuZ2V0KHBhZ2VJZCksIHByb3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWRpdG9yLmluaXRpYWwgPSBmb3VuZHJ5LnV0aWxzLmdldFByb3BlcnR5KGRhdGEsIG5hbWUpO1xuICAgICAgfVxuICAgICAgLy8gLT4gRW5kIGN1c3RvbSBjb2RlXG4gICAgICBhd2FpdCB0aGlzLmFjdGl2YXRlRWRpdG9yKG5hbWUsIHt9LCBlZGl0b3IuaW5pdGlhbCk7XG4gICAgICB0aGlzLmF1dG9zZXRFZGl0b3JIZWlnaHQoKTtcbiAgICB9O1xuICAgIGlmIChoYXNCdXR0b24pIGJ1dHRvbi5vbmNsaWNrID0gYWN0aXZhdGU7XG4gICAgZWxzZSBhY3RpdmF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgZWRpdG9yIGZvY3VzIG91dFxuICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25FZGl0b3JGb2N1c291dChldmVudCkge1xuICAgIGNvbnN0IGlzSW5zaWRlUGFnZSA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ/Lm1hdGNoZXMoJ3NlY3Rpb24uam91cm5hbC1lbnRyeS1jb250ZW50IConKSA/PyBmYWxzZTtcbiAgICB0aGlzLl9vblN1Ym1pdChldmVudCwgeyBwcmV2ZW50UmVuZGVyOiBpc0luc2lkZVBhZ2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgZm9ybSB1cGRhdGVcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBmb3JtRGF0YVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHVuZGVmaW5lZHwqPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgaWYgKHRoaXMuX2lzRGVmYXVsdEVkaXQpIHJldHVybiBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSk7XG5cbiAgICAvLyBDaGVjayBmb3IgZm9ybURhdGEgd2l0aCBuYW1lIGVxdWFscyB0byBwYWdlIGlkcywgY29sbGVjdGluZyB0aGUgY29udGVudHMgZm9yIHVwZGF0aW5nXG4gICAgY29uc3QgcGFnZXNVcGRhdGVEYXRhID0gW107XG4gICAgZm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKGZvcm1EYXRhKSkge1xuICAgICAgaWYgKCFrLnN0YXJ0c1dpdGgoJ3BhZ2VzLicpKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHNwbGl0ID0gay5zcGxpdCgnLicpO1xuICAgICAgY29uc3QgcGFnZUlkID0gc3BsaXRbMV07XG4gICAgICBjb25zdCBwcm9wID0gc3BsaXQuc2xpY2UoMikuam9pbignLicpO1xuXG4gICAgICBwYWdlc1VwZGF0ZURhdGEucHVzaCh7XG4gICAgICAgIF9pZDogcGFnZUlkLFxuICAgICAgICBbcHJvcF06IGZvcm1EYXRhW2tdLFxuICAgICAgfSk7XG4gICAgICBkZWxldGUgZm9ybURhdGFba107XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBwYWdlc1xuICAgIGlmIChwYWdlc1VwZGF0ZURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgdGhpcy5kb2N1bWVudC51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnSm91cm5hbEVudHJ5UGFnZScsIHBhZ2VzVXBkYXRlRGF0YSwgeyByZW5kZXI6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIGNvbnN0IHBhZ2VJZHMgPSB0aGlzLnBhZ2VzO1xuICAgIHJldHVybiBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgZHJvcHBpbmcgb2YgY29udGVudCBsaW5rcyBpbiBpbnRlZ3JhdGVkIG1hcmtkb3duIGVkaXRvcnNcbiAgICogQHBhcmFtIGV2ZW50RGF0YVxuICAgKiBAcGFyYW0gcGFnZVZpZXdcbiAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9tYXJrZG93bkVkaXRvcl9vbkRyb3BDb250ZW50TGluayhldmVudERhdGEsIHBhZ2VWaWV3KSB7XG4gICAgY29uc3QgbGluayA9IGF3YWl0IFRleHRFZGl0b3IuZ2V0Q29udGVudExpbmsoZXZlbnREYXRhLCB7IHJlbGF0aXZlVG86IHRoaXMub2JqZWN0IH0pO1xuICAgIGlmICghbGluaykgcmV0dXJuO1xuICAgIGNvbnN0IGVkaXRvciA9IHBhZ2VWaWV3LmZpbmQoJ3RleHRhcmVhLm1hcmtkb3duLWVkaXRvcicpLmdldCgwKTtcbiAgICBjb25zdCBjb250ZW50ID0gZWRpdG9yLnZhbHVlO1xuICAgIGVkaXRvci52YWx1ZSA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGVkaXRvci5zZWxlY3Rpb25TdGFydCkgKyBsaW5rICsgY29udGVudC5zdWJzdHJpbmcoZWRpdG9yLnNlbGVjdGlvblN0YXJ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdXRvbWF0aWNhbGx5IHNldHMgdGhlIGVkaXRvciBoZWlnaHQgdG8gcHJvcGVybHkgZml0IHRoZSBhcHBsaWNhdGlvblxuICAgKiBDdXJyZW50bHkgd29ya3Mgb25seSBvbiBzaW5nbGUgdmlldyBtb2RlXG4gICAqL1xuICBhdXRvc2V0RWRpdG9ySGVpZ2h0KCkge1xuICAgIGNvbnN0IGFydGljbGUgPSB0aGlzLmVsZW1lbnQuZmluZCgnYXJ0aWNsZScpO1xuICAgIGNvbnN0IHNjcm9sbGFibGUgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpvdXJuYWwtZW50cnktY29udGVudCAuc2Nyb2xsYWJsZScpO1xuICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuY29uc3RydWN0b3IuVklFV19NT0RFUy5TSU5HTEUpIHtcbiAgICAgIGNvbnN0IGVkaXRvciA9IGFydGljbGUuZmluZCgnLmVkaXRvciwgdGV4dGFyZWEubWFya2Rvd24tZWRpdG9yJyk7XG4gICAgICBpZiAoIWVkaXRvcj8ubGVuZ3RoKSByZXR1cm47XG4gICAgICBjb25zdCBzY3JvbGxhYmxlQlJlY3QgPSBzY3JvbGxhYmxlLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGVkaXRvckJSZWN0ID0gZWRpdG9yLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgbGV0IGggPSBzY3JvbGxhYmxlQlJlY3QuaGVpZ2h0IC0gKGVkaXRvckJSZWN0LnRvcCAtIHNjcm9sbGFibGVCUmVjdC50b3ApO1xuICAgICAgaWYgKGVkaXRvci5oYXNDbGFzcygnbWFya2Rvd24tZWRpdG9yJykpIGggLT0gODtcbiAgICAgIGVkaXRvci5jc3MoJ21pbi1oZWlnaHQnLCBoICsgJ3B4Jyk7XG4gICAgfVxuICB9XG5cbiAgc2V0UG9zaXRpb24oeyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIHNjYWxlIH0gPSB7fSkge1xuICAgIHN1cGVyLnNldFBvc2l0aW9uKHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9KTtcbiAgICB0aGlzLmF1dG9zZXRFZGl0b3JIZWlnaHQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGkxOG4oeCkge1xuICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKHgpO1xufVxuXG4vLyBUaGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL3NhaWYtZWxsYWZpL2ZvdW5kcnl2dHQtY2xpcGJvYXJkLWltYWdlL2Jsb2IvbWFpbi9jbGlwYm9hcmQtaW1hZ2UuanMjTDEzXG4vKiBnbG9iYWxzIEZvcmdlVlRUICovXG5mdW5jdGlvbiBnZXRTb3VyY2UoKSB7XG4gIGxldCBzb3VyY2UgPSAnZGF0YSc7XG4gIGlmICh0eXBlb2YgRm9yZ2VWVFQgIT0gJ3VuZGVmaW5lZCcgJiYgRm9yZ2VWVFQudXNpbmdUaGVGb3JnZSkge1xuICAgIHNvdXJjZSA9ICdmb3JnZXZ0dCc7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRm9sZGVyKHNvdXJjZSwgZm9sZGVyUGF0aCkge1xuICBjb25zdCBwcm9ncmVzc2l2ZVBhdGhzID0gW107XG4gIGNvbnN0IHNwbGl0ID0gZm9sZGVyUGF0aC5zcGxpdCgnLycpOyAvLyBUT0RPOiBjaGVjayBpZiBvdGhlciBPUyB1c2UgYmFja3NsYXNoXG4gIHNwbGl0LmZvckVhY2goKHN1YlBhdGgpID0+IHtcbiAgICBjb25zdCBwID0gKHByb2dyZXNzaXZlUGF0aHMuYXQoLTEpID8/ICcnKSArICcvJyArIHN1YlBhdGg7XG4gICAgcHJvZ3Jlc3NpdmVQYXRocy5wdXNoKHApO1xuICB9KTtcblxuICBmb3IgKGNvbnN0IHBhdGggb2YgcHJvZ3Jlc3NpdmVQYXRocykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBGaWxlUGlja2VyLmJyb3dzZShzb3VyY2UsIHBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhd2FpdCBGaWxlUGlja2VyLmNyZWF0ZURpcmVjdG9yeShzb3VyY2UsIHBhdGgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFVwbG9hZHMgYSBibG9iIChpbWFnZSkgdG8gbG9jYWwgc3RvcmFnZVxuICogQHBhcmFtIHtCbG9ifSBibG9iXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGF0aCB0byB0aGUgaW1hZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGppVXBsb2FkSW1hZ2VCbG9iKGJsb2IpIHtcbiAgLy8gRGV0ZXJtaW5lIGV4dGVuc2lvblxuICBjb25zdCBtaW1lID0gYmxvYi50eXBlO1xuICBjb25zdCBleHRlbnNpb24gPSBtaW1lLnJlcGxhY2UoJ2ltYWdlLycsICcnKTtcblxuICAvLyBOYW1lXG4gIGNvbnN0IG5hbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpLnJlcGxhY2UoLzovZywgJycpO1xuICBjb25zdCBmaWxlbmFtZSA9IGAke25hbWV9LiR7ZXh0ZW5zaW9ufWA7XG5cbiAgLy8gU291cmNlIGFuZCBmb2xkZXJcbiAgY29uc3Qgc291cmNlID0gZ2V0U291cmNlKCk7XG4gIGNvbnN0IGZvbGRlclBhdGggPSBnYW1lLnNldHRpbmdzLmdldCgnam91cm5hbC1pbXByb3ZlbWVudHMnLCAndXBsb2FkRm9sZGVyJyk7XG4gIGF3YWl0IGNyZWF0ZUZvbGRlcihzb3VyY2UsIGZvbGRlclBhdGgpO1xuXG4gIC8vIENyZWF0ZSBmaWxlXG4gIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGVuYW1lLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcblxuICAvLyBVcGxvYWQgYW5kIG1hbmFnZSByZXNwb25zZVxuICBjb25zdCBjcmVhdGVSZXNwb25zZSA9IGF3YWl0IEZpbGVQaWNrZXIudXBsb2FkKHNvdXJjZSwgZm9sZGVyUGF0aCwgZmlsZSk7XG4gIGlmIChjcmVhdGVSZXNwb25zZS5zdGF0dXMgIT09ICdzdWNjZXNzJykgcmV0dXJuOyAvLyBUT0RPOiBiZXR0ZXIgZXJyb3JcbiAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlLnBhdGg7XG59XG4iLCIvKiBnbG9iYWxzIEpvdXJuYWxFbnRyeVBhZ2UgKi9cblxuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuZXhwb3J0IGNsYXNzIEltcHJvdmVkSm91cm5hbEVudHJ5IGV4dGVuZHMgSm91cm5hbEVudHJ5IHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0gZGF0YVxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gdXNlcklkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25DcmVhdGUoZGF0YSwgb3B0aW9ucywgdXNlcklkKSB7XG4gICAgc3VwZXIuX29uQ3JlYXRlKGRhdGEsIG9wdGlvbnMsIHVzZXJJZCk7XG5cbiAgICAvLyBBZnRlciBjcmVhdGluZywgYWRkIGEgdGV4dCBwYWdlIHdpdGggdGhlIHNhbWUgbmFtZVxuICAgIC8vIFRPRE86IGNoZWNrIGlmIHdlIG5lZWQgdG8gaGFuZGxlIHBhY2tzIGFuZCBmb2xkZXJzLiBTZWUgSm91cm5hbEVudHJ5UGFnZS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEaWFsb2dcblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnam91cm5hbC1pbXByb3ZlbWVudHMnLCAnY3JlYXRlRGVmYXVsdFBhZ2UnKSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgcmVuZGVyU2hlZXQ6IGZhbHNlIH07XG4gICAgICBjb25zdCBuZXdQYWdlID0gdGhpcy5jcmVhdGVRdWlja1BhZ2UoeyBuYW1lOiB0aGlzLm5hbWUsIG9wdGlvbnMgfSk7XG4gICAgICAvLyBSZWZyZXNoIGFwcHMgYWZ0ZXIgY3JlYXRpbmcgdGhlIHBhZ2VcbiAgICAgIG5ld1BhZ2UudGhlbigoKSA9PiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZm9yRWFjaCgoYXBwKSA9PiBhcHAucmVuZGVyKCkpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHBhZ2UgaW4gdGhlIGpvdXJuYWxcbiAgICogQHBhcmFtIG5hbWUgcGFnZSBuYW1lXG4gICAqIEBwYXJhbSB0eXBlIHBhZ2UgdHlwZVxuICAgKiBAcGFyYW0gZGF0YSBvdGhlciBvYmplY3QgY3JlYXRpb24gZGF0YVxuICAgKiBAcGFyYW0gb3B0aW9ucyBjcmVhdGlvbiBvcHRpb25zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVRdWlja1BhZ2UoeyBuYW1lID0gdW5kZWZpbmVkLCB0eXBlID0gJ3RleHQnLCBkYXRhID0ge30sIG9wdGlvbnMgPSB7fSB9KSB7XG4gICAgaWYgKG5hbWUgPT0gbnVsbCkgbmFtZSA/Pz0gaTE4bihgam91cm5hbEltcHJvdmVtZW50cy5kZWZhdWx0UGFnZU5hbWVzLiR7dHlwZX1gKTtcbiAgICBvcHRpb25zLnBhcmVudCA/Pz0gdGhpcztcbiAgICBvcHRpb25zLnJlbmRlclNoZWV0ID8/PSAhKFxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ2NyZWF0ZVNpbGVudCcpIHx8XG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnam91cm5hbC1pbXByb3ZlbWVudHMnLCAnaW50ZWdyYXRlZEVkaXRvcicpXG4gICAgKTtcbiAgICBkYXRhID0gbWVyZ2VPYmplY3QoZGF0YSwgeyBuYW1lLCB0eXBlIH0pO1xuICAgIGNvbnN0IGxhc3RTb3J0ID0gdGhpcy5wYWdlcy5yZWR1Y2UoKGFjYywgcGFnZSkgPT4gTWF0aC5tYXgoYWNjLCBwYWdlLnNvcnQpLCAwKTtcbiAgICBkYXRhLnNvcnQgPz89IChsYXN0U29ydCA/PyAwKSArIENPTlNULlNPUlRfSU5URUdFUl9ERU5TSVRZO1xuICAgIHJldHVybiBKb3VybmFsRW50cnlQYWdlLmNyZWF0ZShkYXRhLCBvcHRpb25zKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW1wcm92ZWRKb3VybmFsU2hlZXQgfSBmcm9tICcuL2pvdXJuYWwvam91cm5hbFNoZWV0LmpzJztcbmltcG9ydCB7IGkxOG4sIGppVXBsb2FkSW1hZ2VCbG9iIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfb25QYXN0ZShwbGFpbikge1xuICBjb25zb2xlLmxvZyhgam91cm5hbC1pbXByb3ZlbWVudHMgfCBfb25QYXN0ZSBjYWxsZWQgd2l0aCBwbGFpbiA9ICR7cGxhaW59YCk7XG5cbiAgLy8gQ2hlY2sgaWYgd2UgYXJlIHBhc3RpbmcgaW4gdGhlIGpvdXJuYWxcbiAgY29uc3QgYWN0aXZlQXBwID0gdWkuYWN0aXZlV2luZG93O1xuICBpZiAoIShhY3RpdmVBcHAgaW5zdGFuY2VvZiBJbXByb3ZlZEpvdXJuYWxTaGVldCkgfHwgIWFjdGl2ZUFwcC5yZW5kZXJlZCkgcmV0dXJuO1xuICBjb25zdCBqb3VybmFsID0gYWN0aXZlQXBwLmRvY3VtZW50O1xuICBjb25zb2xlLmxvZygnam91cm5hbC1pbXByb3ZlbWVudHMgfCBwYXN0aW5nIGluIGpvdXJuYWwnKTtcblxuICAvLyBUcnkgdG8gZ2V0IHRoZSBjbGlwYm9hcmQgY29udGVudHNcbiAgY29uc3QgY2xpcGJvYXJkSXRlbXMgPSBhd2FpdCBfZ2V0Q2xpcGJvYXJkSXRlbXMoKTtcbiAgaWYgKCFjbGlwYm9hcmRJdGVtcykgcmV0dXJuO1xuXG4gIC8vIERlZmluaXRpb25zXG4gIGNvbnN0IHR5cGUgPSBwbGFpbiA/ICd0ZXh0L3BsYWluJyA6ICd0ZXh0L2h0bWwnO1xuICBjb25zdCBnZXRJbWdUeXBlID0gKGNpKSA9PiBjaS50eXBlcy5maW5kKCh0KSA9PiB0LmluY2x1ZGVzKCdpbWFnZScpKTtcbiAgY29uc3QgcGFzdGVUb1BhZ2VJbWFnZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdqb3VybmFsLWltcHJvdmVtZW50cycsICdwYXN0ZVRvUGFnZUltYWdlJyk7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICBmb3IgKGNvbnN0IGNpIG9mIGNsaXBib2FyZEl0ZW1zKSB7XG4gICAgLy8gSWYgdGhlIGl0ZW0gaXMgbm90IGFuIGltYWdlLCBjcmVhdGUgYSBqb3VybmFsIHBhZ2Ugd2l0aCB0aGUgdGV4dCBvciBodG1sIGRhdGFcbiAgICBjb25zdCBpbWdUeXBlID0gZ2V0SW1nVHlwZShjaSk7XG4gICAgaWYgKCFpbWdUeXBlKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgKGF3YWl0IGNpLmdldFR5cGUodHlwZSkpLnRleHQoKTtcbiAgICAgIGlmICghdGV4dCkgY29udGludWU7XG4gICAgICBhd2FpdCBqb3VybmFsLmNyZWF0ZVF1aWNrUGFnZSh7IHR5cGU6ICd0ZXh0JywgZGF0YTogeyAndGV4dC5jb250ZW50JzogdGV4dCB9IH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB0d28gYmVoYXZpb3JzLCBkZXBlbmRpbmcgb24gaWYgdGhlIGltYWdlIGhhcyBodG1sIG9yIG5vdCBhbmQgaWYgdGhlIHNldHRpbmcgaXMgZW5hYmxlZFxuICAgIGxldCBodG1sVGV4dDtcbiAgICBpZiAoY2kudHlwZXMuaW5jbHVkZXMoJ3RleHQvaHRtbCcpKSBodG1sVGV4dCA9IGF3YWl0IChhd2FpdCBjaS5nZXRUeXBlKCd0ZXh0L2h0bWwnKSk/LnRleHQoKTtcblxuICAgIC8vIElmIG5vIGh0bWwsIGltYWdlIHNob3VsZCBiZSB1cGxvYWRlZCwgc2V0dGluZyB0aGUgaHRtbCB0ZXh0IGZvciBmdXJ0aGVyIHByb2Nlc3NpbmdcbiAgICBpZiAoIWh0bWxUZXh0KSB7XG4gICAgICBjb25zdCBpbWdCbG9iID0gYXdhaXQgY2kuZ2V0VHlwZShpbWdUeXBlKTtcbiAgICAgIGNvbnN0IHNyYyA9IGF3YWl0IGppVXBsb2FkSW1hZ2VCbG9iKGltZ0Jsb2IpO1xuICAgICAgaWYgKCFzcmMpIHRocm93ICdJbWFnZSBVcGxvYWQgZmFpbGVkJztcbiAgICAgIGh0bWxUZXh0ID0gYDxpbWcgc3JjPVwiJHtzcmN9XCI+YDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2V0dGluZyBpcyBvbiwgY3JlYXRlIGEgbmV3IGltYWdlIHBhZ2Ugd2l0aCB0aGUgaW1hZ2UncyBzcmMsIG90aGVyd2lzZSBwYXN0ZSB0aGUgaW1hZ2UgaHRtbCBpbiBhIHRleHQgcGFnZVxuICAgIGlmIChwYXN0ZVRvUGFnZUltYWdlKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWxUZXh0LCAndGV4dC9odG1sJyk7XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gcGFyc2VkLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgY29uc3Qgc3JjID0gaW1nRWxlbWVudD8uc3JjO1xuICAgICAgYXdhaXQgam91cm5hbC5jcmVhdGVRdWlja1BhZ2UoeyB0eXBlOiAnaW1hZ2UnLCBkYXRhOiB7IHNyYzogc3JjIH0gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IGpvdXJuYWwuY3JlYXRlUXVpY2tQYWdlKHsgdHlwZTogJ3RleHQnLCBkYXRhOiB7ICd0ZXh0LmNvbnRlbnQnOiBodG1sVGV4dCB9IH0pO1xuICAgIH1cbiAgfVxuXG4gIGF3YWl0IGFjdGl2ZUFwcC5yZW5kZXJMYXN0UGFnZSgpO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBjbGlwYm9hcmRcbiAqIEByZXR1cm4ge1Byb21pc2U8Q2xpcGJvYXJkSXRlbVtdPn1cbiAqIEBwcml2YXRlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9nZXRDbGlwYm9hcmRJdGVtcygpIHtcbiAgbGV0IGNsaXBib2FyZDtcbiAgdHJ5IHtcbiAgICBjbGlwYm9hcmQgPSBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoIWVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oaTE4bignam91cm5hbEltcHJvdmVtZW50cy5ub3RpZmljYXRpb25zLndhcm5QYXN0ZVBlcm1pc3Npb24nKSk7XG4gICAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikge1xuICAgICAgY29uc29sZS5sb2coJ2pvdXJuYWwtaW1wcm92ZW1lbnRzOiBDbGlwYm9hcmQgaXMgZW1wdHknKTtcbiAgICB9IGVsc2UgdGhyb3cgZXJyb3I7XG4gIH1cbiAgcmV0dXJuIGNsaXBib2FyZDtcbn1cbiIsImltcG9ydCB7IGdldE5vdGVJY29uLCByZWdpc3RlclNldHRpbmdzLCBzZXRFZGl0b3JIZWlnaHQgfSBmcm9tICcuL3NldHRpbmdzLmpzJztcbmltcG9ydCB7IHByZWxvYWRUZW1wbGF0ZXMgfSBmcm9tICcuL3ByZWxvYWRUZW1wbGF0ZXMuanMnO1xuaW1wb3J0IHsgSW1wcm92ZWRKb3VybmFsU2hlZXQgfSBmcm9tICcuL2pvdXJuYWwvam91cm5hbFNoZWV0LmpzJztcbmltcG9ydCB7IEltcHJvdmVkSm91cm5hbEVudHJ5IH0gZnJvbSAnLi9qb3VybmFsL2pvdXJuYWxFbnRyeS5qcyc7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBfb25QYXN0ZSB9IGZyb20gJy4vcGFzdGluZy5qcyc7XG5cbi8vIEluaXRpYWxpemUgbW9kdWxlXG5Ib29rcy5vbmNlKCdpbml0JywgYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnam91cm5hbC1pbXByb3ZlbWVudHMgfCBJbml0aWFsaXppbmcgam91cm5hbC1pbXByb3ZlbWVudHMnKTtcblxuICBDT05GSUcuSm91cm5hbEVudHJ5LmRvY3VtZW50Q2xhc3MgPSBJbXByb3ZlZEpvdXJuYWxFbnRyeTtcbiAgSm91cm5hbC5yZWdpc3RlclNoZWV0KCdqb3VybmFsLWltcHJvdmVtZW50cycsIEltcHJvdmVkSm91cm5hbFNoZWV0LCB7XG4gICAgbWFrZURlZmF1bHQ6IHRydWUsXG4gICAgbGFiZWw6IGkxOG4oJ2pvdXJuYWxJbXByb3ZlbWVudHMuc2hlZXROYW1lJyksXG4gIH0pO1xuXG4gIGdhbWUua2V5YmluZGluZ3MucmVnaXN0ZXIoJ2pvdXJuYWwtaW1wcm92ZW1lbnRzJywgJ3Bhc3RlJywge1xuICAgIG5hbWU6ICdqb3VybmFsSW1wcm92ZW1lbnRzLmtleWJpbmRpbmdzLnBhc3RlJyxcbiAgICByZXN0cmljdGVkOiB0cnVlLFxuICAgIGVkaXRhYmxlOiBbeyBrZXk6ICdLZXlWJywgbW9kaWZpZXJzOiBbS2V5Ym9hcmRNYW5hZ2VyLk1PRElGSUVSX0tFWVMuQ09OVFJPTF0gfV0sXG4gICAgb25Eb3duOiAoKSA9PiBfb25QYXN0ZShmYWxzZSksXG4gICAgcHJlY2VkZW5jZTogQ09OU1QuS0VZQklORElOR19QUkVDRURFTkNFLkRFRkVSUkVELFxuICB9KTtcblxuICBnYW1lLmtleWJpbmRpbmdzLnJlZ2lzdGVyKCdqb3VybmFsLWltcHJvdmVtZW50cycsICdwYXN0ZVBsYWluJywge1xuICAgIG5hbWU6ICdqb3VybmFsSW1wcm92ZW1lbnRzLmtleWJpbmRpbmdzLnBhc3RlUGxhaW4nLFxuICAgIHJlc3RyaWN0ZWQ6IHRydWUsXG4gICAgZWRpdGFibGU6IFtcbiAgICAgIHsga2V5OiAnS2V5VicsIG1vZGlmaWVyczogW0tleWJvYXJkTWFuYWdlci5NT0RJRklFUl9LRVlTLkNPTlRST0wsIEtleWJvYXJkTWFuYWdlci5NT0RJRklFUl9LRVlTLlNISUZUXSB9LFxuICAgIF0sXG4gICAgb25Eb3duOiAoKSA9PiBfb25QYXN0ZSh0cnVlKSxcbiAgICBwcmVjZWRlbmNlOiBDT05TVC5LRVlCSU5ESU5HX1BSRUNFREVOQ0UuREVGRVJSRUQsXG4gIH0pO1xuXG4gIC8vIFJlZ2lzdGVyIGN1c3RvbSBtb2R1bGUgc2V0dGluZ3NcbiAgcmVnaXN0ZXJTZXR0aW5ncygpO1xuXG4gIC8vIFByZWxvYWQgSGFuZGxlYmFycyB0ZW1wbGF0ZXNcbiAgYXdhaXQgcHJlbG9hZFRlbXBsYXRlcygpO1xufSk7XG5cbkhvb2tzLm9uY2UoJ3NldHVwJywgYXN5bmMgKCkgPT4ge30pO1xuXG5Ib29rcy5vbmNlKCdyZWFkeScsIGFzeW5jICgpID0+IHtcbiAgc2V0RWRpdG9ySGVpZ2h0KCk7XG59KTtcblxuSG9va3Mub24oJ3JlbmRlck5vdGVDb25maWcnLCBhc3luYyAoYXBwLCBlbGVtZW50LCBkYXRhKSA9PiB7XG4gIC8vIFRPRE86IGZpeCBjb21tZW50ZWQgbGluZXNcbiAgLy8gaWYgKGFwcC5kb2N1bWVudC5nZXRGbGFnKCdqb3VybmFsLWltcHJvdmVtZW50cycsICdjb25maWd1cmVkJykpIHJldHVybjtcbiAgcmVuZGVyTm90ZUNvbmZpZyhhcHAsIGVsZW1lbnQsIGRhdGEpO1xuICAvLyBhcHAuZG9jdW1lbnQuc2V0RmxhZygnam91cm5hbC1pbXByb3ZlbWVudHMnLCAnY29uZmlndXJlZCcsIHRydWUpO1xufSk7XG5cbmZ1bmN0aW9uIHJlbmRlck5vdGVDb25maWcoYXBwLCBlbGVtZW50LCBfZGF0YSkge1xuICBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KCdqb3VybmFsLWltcHJvdmVtZW50cycsICdwaW5JY29ucycpKSByZXR1cm47XG4gIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhRXh0ZW5kZWQoYXBwLmZvcm0pO1xuXG4gIGNvbnN0IGljb25TZWxlY3RlZCA9IGZkLm9iamVjdFsnaWNvbi5zZWxlY3RlZCddO1xuICBjb25zdCBpc0RlZmF1bHRJY29uID0gaWNvblNlbGVjdGVkID09IG51bGwgfHwgaWNvblNlbGVjdGVkID09PSAnaWNvbnMvc3ZnL2Jvb2suc3ZnJztcbiAgaWYgKCFpc0RlZmF1bHRJY29uKSByZXR1cm47XG5cbiAgY29uc3QgZW50cnlJZCA9IGZkLm9iamVjdC5lbnRyeUlkO1xuICBjb25zdCBwYWdlSWQgPSBmZC5vYmplY3QucGFnZUlkO1xuICBpZiAoIWVudHJ5SWQgfHwgIXBhZ2VJZCkgcmV0dXJuO1xuXG4gIGNvbnN0IHBhZ2UgPSBnYW1lLmpvdXJuYWwuZ2V0KGVudHJ5SWQpPy5wYWdlcz8uZ2V0KHBhZ2VJZCk7XG4gIGlmICghcGFnZSkgcmV0dXJuO1xuXG4gIGNvbnN0IGltcHJvdmVkSWNvbiA9IGdldE5vdGVJY29uKHBhZ2UudHlwZSk7XG4gIGlmICghaW1wcm92ZWRJY29uKSByZXR1cm47XG5cbiAgY29uc3QgaW1nU2VsZWN0b3IgPSBlbGVtZW50LmZpbmQoJ3NlbGVjdFtuYW1lPVwiaWNvbi5zZWxlY3RlZFwiXScpO1xuICBjb25zdCBjdXN0b21JbWdJbnB1dCA9IGVsZW1lbnQuZmluZCgnaW5wdXRbbmFtZT1cImljb24uY3VzdG9tXCJdJyk7XG4gIGltZ1NlbGVjdG9yLnZhbCgnJyk7XG4gIGN1c3RvbUltZ0lucHV0LnZhbChpbXByb3ZlZEljb24pO1xuICBjdXN0b21JbWdJbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVMsZ0JBQWdCLEdBQUc7QUFDbkMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxrQkFBa0IsRUFBRTtBQUNyRSxJQUFJLElBQUksRUFBRSxtREFBbUQ7QUFDN0QsSUFBSSxJQUFJLEVBQUUsbURBQW1EO0FBQzdELElBQUksS0FBSyxFQUFFLFFBQVE7QUFDbkIsSUFBSSxNQUFNLEVBQUUsSUFBSTtBQUNoQixJ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"}